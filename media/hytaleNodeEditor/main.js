var Pf=Object.defineProperty;var Ol=e=>{throw TypeError(e)};var Df=(e,t,n)=>t in e?Pf(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n;var nt=(e,t,n)=>Df(e,typeof t!="symbol"?t+"":t,n),Ks=(e,t,n)=>t.has(e)||Ol("Cannot "+n);var R=(e,t,n)=>(Ks(e,t,"read from private field"),n?n.call(e):t.get(e)),se=(e,t,n)=>t.has(e)?Ol("Cannot add the same private member more than once"):t instanceof WeakSet?t.add(e):t.set(e,n),Me=(e,t,n,r)=>(Ks(e,t,"write to private field"),r?r.call(e,n):t.set(e,n),n),xt=(e,t,n)=>(Ks(e,t,"access private method"),n);(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))r(i);new MutationObserver(i=>{for(const o of i)if(o.type==="childList")for(const s of o.addedNodes)s.tagName==="LINK"&&s.rel==="modulepreload"&&r(s)}).observe(document,{childList:!0,subtree:!0});function n(i){const o={};return i.integrity&&(o.integrity=i.integrity),i.referrerPolicy&&(o.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?o.credentials="include":i.crossOrigin==="anonymous"?o.credentials="omit":o.credentials="same-origin",o}function r(i){if(i.ep)return;i.ep=!0;const o=n(i);fetch(i.href,o)}})();const ia=!1;var uo=Array.isArray,Rf=Array.prototype.indexOf,hi=Array.prototype.includes,gs=Array.from,zf=Object.defineProperty,Un=Object.getOwnPropertyDescriptor,Gu=Object.getOwnPropertyDescriptors,Uu=Object.prototype,Lf=Array.prototype,vs=Object.getPrototypeOf,Cl=Object.isExtensible;function Pi(e){return typeof e=="function"}const gr=()=>{};function Vf(e){return e()}function oa(e){for(var t=0;t<e.length;t++)e[t]()}function qu(){var e,t,n=new Promise((r,i)=>{e=r,t=i});return{promise:n,resolve:e,reject:t}}function At(e,t,n=!1){return e===void 0?n?t():t:e}function vr(e,t){if(Array.isArray(e))return e;if(t===void 0||!(Symbol.iterator in e))return Array.from(e);const n=[];for(const r of e)if(n.push(r),n.length===t)break;return n}const kt=2,Xi=4,co=8,Ha=1<<24,$n=16,mn=32,pr=64,Zu=128,$t=512,pt=1024,It=2048,tn=4096,Yt=8192,qn=16384,fo=32768,Qn=65536,Al=1<<17,Qu=1<<18,Kr=1<<19,Ju=1<<20,Xn=1<<25,Pr=65536,sa=1<<21,Ka=1<<22,ur=1<<23,Tn=Symbol("$state"),$u=Symbol("legacy props"),Ff=Symbol(""),_r=new class extends Error{constructor(){super(...arguments);nt(this,"name","StaleReactionError");nt(this,"message","The reaction that called `getAbortSignal()` was re-run or destroyed")}};var Wu;const Ba=((Wu=globalThis.document)==null?void 0:Wu.contentType.includes("xml"))??!1;function ps(e){throw new Error("https://svelte.dev/e/lifecycle_outside_component")}function Hf(){throw new Error("https://svelte.dev/e/async_derived_orphan")}function Kf(e,t,n){throw new Error("https://svelte.dev/e/each_key_duplicate")}function Bf(e){throw new Error("https://svelte.dev/e/effect_in_teardown")}function Wf(){throw new Error("https://svelte.dev/e/effect_in_unowned_derived")}function Yf(e){throw new Error("https://svelte.dev/e/effect_orphan")}function Xf(){throw new Error("https://svelte.dev/e/effect_update_depth_exceeded")}function jf(e){throw new Error("https://svelte.dev/e/props_invalid_value")}function Gf(){throw new Error("https://svelte.dev/e/state_descriptors_fixed")}function Uf(){throw new Error("https://svelte.dev/e/state_prototype_fixed")}function qf(){throw new Error("https://svelte.dev/e/state_unsafe_mutation")}function Zf(){throw new Error("https://svelte.dev/e/svelte_boundary_reset_onerror")}const Qf=1,Jf=2,ec=4,$f=8,eh=16,th=1,nh=2,tc=4,rh=8,ih=16,nc=1,oh=2,bt=Symbol(),rc="http://www.w3.org/1999/xhtml",sh="http://www.w3.org/2000/svg",ah="@attach";function lh(){console.warn("https://svelte.dev/e/select_multiple_invalid_value")}function uh(){console.warn("https://svelte.dev/e/svelte_boundary_reset_noop")}function ic(e){return e===this.v}function oc(e,t){return e!=e?t==t:e!==t||e!==null&&typeof e=="object"||typeof e=="function"}function sc(e){return!oc(e,this.v)}let Ei=!1,ch=!1;function dh(){Ei=!0}const fh=[];function ac(e,t=!1,n=!1){return Fo(e,new Map,"",fh,null,n)}function Fo(e,t,n,r,i=null,o=!1){if(typeof e=="object"&&e!==null){var s=t.get(e);if(s!==void 0)return s;if(e instanceof Map)return new Map(e);if(e instanceof Set)return new Set(e);if(uo(e)){var a=Array(e.length);t.set(e,a),i!==null&&t.set(i,a);for(var u=0;u<e.length;u+=1){var c=e[u];u in e&&(a[u]=Fo(c,t,n,r,null,o))}return a}if(vs(e)===Uu){a={},t.set(e,a),i!==null&&t.set(i,a);for(var d in e)a[d]=Fo(e[d],t,n,r,null,o);return a}if(e instanceof Date)return structuredClone(e);if(typeof e.toJSON=="function"&&!o)return Fo(e.toJSON(),t,n,r,e)}if(e instanceof EventTarget)return e;try{return structuredClone(e)}catch{return e}}let Ue=null;function gi(e){Ue=e}function Wa(e){return Xa().get(e)}function Ya(e,t){return Xa().set(e,t),t}function hh(e){return Xa().has(e)}function Ne(e,t=!1,n){Ue={p:Ue,i:!1,c:null,e:null,s:e,x:null,l:Ei&&!t?{s:null,u:null,$:[]}:null}}function ke(e){var t=Ue,n=t.e;if(n!==null){t.e=null;for(var r of n)Oc(r)}return e!==void 0&&(t.x=e),t.i=!0,Ue=t.p,e??{}}function ho(){return!Ei||Ue!==null&&Ue.l===null}function Xa(e){return Ue===null&&ps(),Ue.c??(Ue.c=new Map(gh(Ue)||void 0))}function gh(e){let t=e.p;for(;t!==null;){const n=t.c;if(n!==null)return n;t=t.p}return null}let wr=[];function lc(){var e=wr;wr=[],oa(e)}function On(e){if(wr.length===0&&!Ki){var t=wr;queueMicrotask(()=>{t===wr&&lc()})}wr.push(e)}function vh(){for(;wr.length>0;)lc()}function uc(e){var t=Xe;if(t===null)return He.f|=ur,e;if(!(t.f&fo)&&!(t.f&Xi))throw e;vi(e,t)}function vi(e,t){for(;t!==null;){if(t.f&Zu){if(!(t.f&fo))throw e;try{t.b.error(e);return}catch(n){e=n}}t=t.parent}throw e}const ph=-7169;function at(e,t){e.f=e.f&ph|t}function ja(e){e.f&$t||e.deps===null?at(e,pt):at(e,tn)}function cc(e){if(e!==null)for(const t of e)!(t.f&kt)||!(t.f&Pr)||(t.f^=Pr,cc(t.deps))}function dc(e,t,n){e.f&It?t.add(e):e.f&tn&&n.add(e),cc(e.deps),at(e,pt)}const Oo=new Set;let Le=null,aa=null,Nt=null,Vt=[],ms=null,la=!1,Ki=!1;var oi,si,Nr,ai,no,ro,kr,Hn,li,Pn,ua,ca,fc;const _l=class _l{constructor(){se(this,Pn);nt(this,"committed",!1);nt(this,"current",new Map);nt(this,"previous",new Map);se(this,oi,new Set);se(this,si,new Set);se(this,Nr,0);se(this,ai,0);se(this,no,null);se(this,ro,new Set);se(this,kr,new Set);se(this,Hn,new Map);nt(this,"is_fork",!1);se(this,li,!1)}is_deferred(){return this.is_fork||R(this,ai)>0}skip_effect(t){R(this,Hn).has(t)||R(this,Hn).set(t,{d:[],m:[]})}unskip_effect(t){var n=R(this,Hn).get(t);if(n){R(this,Hn).delete(t);for(var r of n.d)at(r,It),dn(r);for(r of n.m)at(r,tn),dn(r)}}process(t){var i;Vt=[],this.apply();var n=[],r=[];for(const o of t)xt(this,Pn,ua).call(this,o,n,r);if(this.is_deferred()){xt(this,Pn,ca).call(this,r),xt(this,Pn,ca).call(this,n);for(const[o,s]of R(this,Hn))pc(o,s)}else{for(const o of R(this,oi))o();R(this,oi).clear(),R(this,Nr)===0&&xt(this,Pn,fc).call(this),aa=this,Le=null,Ml(r),Ml(n),aa=null,(i=R(this,no))==null||i.resolve()}Nt=null}capture(t,n){n!==bt&&!this.previous.has(t)&&this.previous.set(t,n),t.f&ur||(this.current.set(t,t.v),Nt==null||Nt.set(t,t.v))}activate(){Le=this,this.apply()}deactivate(){Le===this&&(Le=null,Nt=null)}flush(){if(this.activate(),Vt.length>0){if(hc(),Le!==null&&Le!==this)return}else R(this,Nr)===0&&this.process([]);this.deactivate()}discard(){for(const t of R(this,si))t(this);R(this,si).clear()}increment(t){Me(this,Nr,R(this,Nr)+1),t&&Me(this,ai,R(this,ai)+1)}decrement(t){Me(this,Nr,R(this,Nr)-1),t&&Me(this,ai,R(this,ai)-1),!R(this,li)&&(Me(this,li,!0),On(()=>{Me(this,li,!1),this.is_deferred()?Vt.length>0&&this.flush():this.revive()}))}revive(){for(const t of R(this,ro))R(this,kr).delete(t),at(t,It),dn(t);for(const t of R(this,kr))at(t,tn),dn(t);this.flush()}oncommit(t){R(this,oi).add(t)}ondiscard(t){R(this,si).add(t)}settled(){return(R(this,no)??Me(this,no,qu())).promise}static ensure(){if(Le===null){const t=Le=new _l;Oo.add(Le),Ki||On(()=>{Le===t&&t.flush()})}return Le}apply(){}};oi=new WeakMap,si=new WeakMap,Nr=new WeakMap,ai=new WeakMap,no=new WeakMap,ro=new WeakMap,kr=new WeakMap,Hn=new WeakMap,li=new WeakMap,Pn=new WeakSet,ua=function(t,n,r){t.f^=pt;for(var i=t.first,o=null;i!==null;){var s=i.f,a=(s&(mn|pr))!==0,u=a&&(s&pt)!==0,c=u||(s&Yt)!==0||R(this,Hn).has(i);if(!c&&i.fn!==null){a?i.f^=pt:o!==null&&s&(Xi|co|Ha)?o.b.defer_effect(i):s&Xi?n.push(i):Ii(i)&&(s&$n&&R(this,kr).add(i),Dr(i));var d=i.first;if(d!==null){i=d;continue}}var h=i.parent;for(i=i.next;i===null&&h!==null;)h===o&&(o=null),i=h.next,h=h.parent}},ca=function(t){for(var n=0;n<t.length;n+=1)dc(t[n],R(this,ro),R(this,kr))},fc=function(){var i;if(Oo.size>1){this.previous.clear();var t=Nt,n=!0;for(const o of Oo){if(o===this){n=!1;continue}const s=[];for(const[u,c]of this.current){if(o.current.has(u))if(n&&c!==o.current.get(u))o.current.set(u,c);else continue;s.push(u)}if(s.length===0)continue;const a=[...o.current.keys()].filter(u=>!this.current.has(u));if(a.length>0){var r=Vt;Vt=[];const u=new Set,c=new Map;for(const d of s)gc(d,a,u,c);if(Vt.length>0){Le=o,o.apply();for(const d of Vt)xt(i=o,Pn,ua).call(i,d,[],[]);o.deactivate()}Vt=r}}Le=null,Nt=t}this.committed=!0,Oo.delete(this)};let Zn=_l;function mh(e){var t=Ki;Ki=!0;try{for(var n;;){if(vh(),Vt.length===0&&(Le==null||Le.flush(),Vt.length===0))return ms=null,n;hc()}}finally{Ki=t}}function hc(){la=!0;var e=null;try{for(var t=0;Vt.length>0;){var n=Zn.ensure();if(t++>1e3){var r,i;yh()}n.process(Vt),cr.clear()}}finally{Vt=[],la=!1,ms=null}}function yh(){try{Xf()}catch(e){vi(e,ms)}}let ln=null;function Ml(e){var t=e.length;if(t!==0){for(var n=0;n<t;){var r=e[n++];if(!(r.f&(qn|Yt))&&Ii(r)&&(ln=new Set,Dr(r),r.deps===null&&r.first===null&&r.nodes===null&&r.teardown===null&&r.ac===null&&Pc(r),(ln==null?void 0:ln.size)>0)){cr.clear();for(const i of ln){if(i.f&(qn|Yt))continue;const o=[i];let s=i.parent;for(;s!==null;)ln.has(s)&&(ln.delete(s),o.push(s)),s=s.parent;for(let a=o.length-1;a>=0;a--){const u=o[a];u.f&(qn|Yt)||Dr(u)}}ln.clear()}}ln=null}}function gc(e,t,n,r){if(!n.has(e)&&(n.add(e),e.reactions!==null))for(const i of e.reactions){const o=i.f;o&kt?gc(i,t,n,r):o&(Ka|$n)&&!(o&It)&&vc(i,t,r)&&(at(i,It),dn(i))}}function vc(e,t,n){const r=n.get(e);if(r!==void 0)return r;if(e.deps!==null)for(const i of e.deps){if(hi.call(t,i))return!0;if(i.f&kt&&vc(i,t,n))return n.set(i,!0),!0}return n.set(e,!1),!1}function dn(e){for(var t=ms=e;t.parent!==null;){t=t.parent;var n=t.f;if(la&&t===Xe&&n&$n&&!(n&Qu))return;if(n&(pr|mn)){if(!(n&pt))return;t.f^=pt}}Vt.push(t)}function pc(e,t){if(!(e.f&mn&&e.f&pt)){e.f&It?t.d.push(e):e.f&tn&&t.m.push(e),at(e,pt);for(var n=e.first;n!==null;)pc(n,t),n=n.next}}function mc(e){let t=0,n=fr(0),r;return()=>{Ua()&&(l(n),Ni(()=>(t===0&&(r=Ve(()=>e(()=>Bi(n)))),t+=1,()=>{On(()=>{t-=1,t===0&&(r==null||r(),r=void 0,Bi(n))})})))}}var bh=Qn|Kr|Zu;function _h(e,t,n){new wh(e,t,n)}var Zt,Fa,En,Ir,Nn,Qt,Rt,kn,Kn,sr,Sr,ar,ui,Tr,ci,di,Bn,cs,wt,xh,Eh,da,Ho,Ko,fa;class wh{constructor(t,n,r){se(this,wt);nt(this,"parent");nt(this,"is_pending",!1);se(this,Zt);se(this,Fa,null);se(this,En);se(this,Ir);se(this,Nn);se(this,Qt,null);se(this,Rt,null);se(this,kn,null);se(this,Kn,null);se(this,sr,null);se(this,Sr,0);se(this,ar,0);se(this,ui,!1);se(this,Tr,!1);se(this,ci,new Set);se(this,di,new Set);se(this,Bn,null);se(this,cs,mc(()=>(Me(this,Bn,fr(R(this,Sr))),()=>{Me(this,Bn,null)})));Me(this,Zt,t),Me(this,En,n),Me(this,Ir,r),this.parent=Xe.b,this.is_pending=!!R(this,En).pending,Me(this,Nn,ki(()=>{Xe.b=this;{var i=xt(this,wt,da).call(this);try{Me(this,Qt,Ht(()=>r(i)))}catch(o){this.error(o)}R(this,ar)>0?xt(this,wt,Ko).call(this):this.is_pending=!1}return()=>{var o;(o=R(this,sr))==null||o.remove()}},bh))}defer_effect(t){dc(t,R(this,ci),R(this,di))}is_rendered(){return!this.is_pending&&(!this.parent||this.parent.is_rendered())}has_pending_snippet(){return!!R(this,En).pending}update_pending_count(t){xt(this,wt,fa).call(this,t),Me(this,Sr,R(this,Sr)+t),!(!R(this,Bn)||R(this,ui))&&(Me(this,ui,!0),On(()=>{Me(this,ui,!1),R(this,Bn)&&pi(R(this,Bn),R(this,Sr))}))}get_effect_pending(){return R(this,cs).call(this),l(R(this,Bn))}error(t){var n=R(this,En).onerror;let r=R(this,En).failed;if(R(this,Tr)||!n&&!r)throw t;R(this,Qt)&&(_t(R(this,Qt)),Me(this,Qt,null)),R(this,Rt)&&(_t(R(this,Rt)),Me(this,Rt,null)),R(this,kn)&&(_t(R(this,kn)),Me(this,kn,null));var i=!1,o=!1;const s=()=>{if(i){uh();return}i=!0,o&&Zf(),Zn.ensure(),Me(this,Sr,0),R(this,kn)!==null&&Cr(R(this,kn),()=>{Me(this,kn,null)}),this.is_pending=this.has_pending_snippet(),Me(this,Qt,xt(this,wt,Ho).call(this,()=>(Me(this,Tr,!1),Ht(()=>R(this,Ir).call(this,R(this,Zt)))))),R(this,ar)>0?xt(this,wt,Ko).call(this):this.is_pending=!1};On(()=>{try{o=!0,n==null||n(t,s),o=!1}catch(a){vi(a,R(this,Nn)&&R(this,Nn).parent)}r&&Me(this,kn,xt(this,wt,Ho).call(this,()=>{Zn.ensure(),Me(this,Tr,!0);try{return Ht(()=>{r(R(this,Zt),()=>t,()=>s)})}catch(a){return vi(a,R(this,Nn).parent),null}finally{Me(this,Tr,!1)}}))})}}Zt=new WeakMap,Fa=new WeakMap,En=new WeakMap,Ir=new WeakMap,Nn=new WeakMap,Qt=new WeakMap,Rt=new WeakMap,kn=new WeakMap,Kn=new WeakMap,sr=new WeakMap,Sr=new WeakMap,ar=new WeakMap,ui=new WeakMap,Tr=new WeakMap,ci=new WeakMap,di=new WeakMap,Bn=new WeakMap,cs=new WeakMap,wt=new WeakSet,xh=function(){try{Me(this,Qt,Ht(()=>R(this,Ir).call(this,R(this,Zt))))}catch(t){this.error(t)}},Eh=function(){const t=R(this,En).pending;t&&(Me(this,Rt,Ht(()=>t(R(this,Zt)))),On(()=>{var n=xt(this,wt,da).call(this);Me(this,Qt,xt(this,wt,Ho).call(this,()=>(Zn.ensure(),Ht(()=>R(this,Ir).call(this,n))))),R(this,ar)>0?xt(this,wt,Ko).call(this):(Cr(R(this,Rt),()=>{Me(this,Rt,null)}),this.is_pending=!1)}))},da=function(){var t=R(this,Zt);return this.is_pending&&(Me(this,sr,Cn()),R(this,Zt).before(R(this,sr)),t=R(this,sr)),t},Ho=function(t){var n=Xe,r=He,i=Ue;rn(R(this,Nn)),nn(R(this,Nn)),gi(R(this,Nn).ctx);try{return t()}catch(o){return uc(o),null}finally{rn(n),nn(r),gi(i)}},Ko=function(){const t=R(this,En).pending;R(this,Qt)!==null&&(Me(this,Kn,document.createDocumentFragment()),R(this,Kn).append(R(this,sr)),zc(R(this,Qt),R(this,Kn))),R(this,Rt)===null&&Me(this,Rt,Ht(()=>t(R(this,Zt))))},fa=function(t){var n;if(!this.has_pending_snippet()){this.parent&&xt(n=this.parent,wt,fa).call(n,t);return}if(Me(this,ar,R(this,ar)+t),R(this,ar)===0){this.is_pending=!1;for(const r of R(this,ci))at(r,It),dn(r);for(const r of R(this,di))at(r,tn),dn(r);R(this,ci).clear(),R(this,di).clear(),R(this,Rt)&&Cr(R(this,Rt),()=>{Me(this,Rt,null)}),R(this,Kn)&&(R(this,Zt).before(R(this,Kn)),Me(this,Kn,null))}};function yc(e,t,n,r){const i=ho()?go:vo;var o=e.filter(f=>!f.settled);if(n.length===0&&o.length===0){r(t.map(i));return}var s=Le,a=Xe,u=Nh(),c=o.length===1?o[0].promise:o.length>1?Promise.all(o.map(f=>f.promise)):null;function d(f){u();try{r(f)}catch(g){a.f&qn||vi(g,a)}s==null||s.deactivate(),ha()}if(n.length===0){c.then(()=>d(t.map(i)));return}function h(){u(),Promise.all(n.map(f=>kh(f))).then(f=>d([...t.map(i),...f])).catch(f=>vi(f,a))}c?c.then(h):h()}function Nh(){var e=Xe,t=He,n=Ue,r=Le;return function(o=!0){rn(e),nn(t),gi(n),o&&(r==null||r.activate())}}function ha(){rn(null),nn(null),gi(null)}function go(e){var t=kt|It,n=He!==null&&He.f&kt?He:null;return Xe!==null&&(Xe.f|=Kr),{ctx:Ue,deps:null,effects:null,equals:ic,f:t,fn:e,reactions:null,rv:0,v:bt,wv:0,parent:n??Xe,ac:null}}function kh(e,t,n){let r=Xe;r===null&&Hf();var i=r.b,o=void 0,s=fr(bt),a=!He,u=new Map;return Vh(()=>{var g;var c=qu();o=c.promise;try{Promise.resolve(e()).then(c.resolve,c.reject).then(()=>{d===Le&&d.committed&&d.deactivate(),ha()})}catch(v){c.reject(v),ha()}var d=Le;if(a){var h=i.is_rendered();i.update_pending_count(1),d.increment(h),(g=u.get(d))==null||g.reject(_r),u.delete(d),u.set(d,c)}const f=(v,b=void 0)=>{if(d.activate(),b)b!==_r&&(s.f|=ur,pi(s,b));else{s.f&ur&&(s.f^=ur),pi(s,v);for(const[y,w]of u){if(u.delete(y),y===d)break;w.reject(_r)}}a&&(i.update_pending_count(-1),d.decrement(h))};c.promise.then(f,v=>f(null,v||"unknown"))}),mo(()=>{for(const c of u.values())c.reject(_r)}),new Promise(c=>{function d(h){function f(){h===o?c(s):d(o)}h.then(f,f)}d(o)})}function F(e){const t=go(e);return Lc(t),t}function vo(e){const t=go(e);return t.equals=sc,t}function Ih(e){var t=e.effects;if(t!==null){e.effects=null;for(var n=0;n<t.length;n+=1)_t(t[n])}}function Sh(e){for(var t=e.parent;t!==null;){if(!(t.f&kt))return t.f&qn?null:t;t=t.parent}return null}function Ga(e){var t,n=Xe;rn(Sh(e));try{e.f&=~Pr,Ih(e),t=Kc(e)}finally{rn(n)}return t}function bc(e){var t=Ga(e);if(!e.equals(t)&&(e.wv=Fc(),(!(Le!=null&&Le.is_fork)||e.deps===null)&&(e.v=t,e.deps===null))){at(e,pt);return}hr||(Nt!==null?(Ua()||Le!=null&&Le.is_fork)&&Nt.set(e,t):ja(e))}function Th(e){var t,n;if(e.effects!==null)for(const r of e.effects)(r.teardown||r.ac)&&((t=r.teardown)==null||t.call(r),(n=r.ac)==null||n.abort(_r),r.teardown=gr,r.ac=null,ji(r,0),Za(r))}function _c(e){if(e.effects!==null)for(const t of e.effects)t.teardown&&Dr(t)}let ga=new Set;const cr=new Map;let wc=!1;function fr(e,t){var n={f:0,v:e,reactions:null,equals:ic,rv:0,wv:0};return n}function Ie(e,t){const n=fr(e);return Lc(n),n}function Ee(e,t=!1,n=!0){var i;const r=fr(e);return t||(r.equals=sc),Ei&&n&&Ue!==null&&Ue.l!==null&&((i=Ue.l).s??(i.s=[])).push(r),r}function Uo(e,t){return W(e,Ve(()=>l(e))),t}function W(e,t,n=!1){He!==null&&(!hn||He.f&Al)&&ho()&&He.f&(kt|$n|Ka|Al)&&(en===null||!hi.call(en,e))&&qf();let r=n?fn(t):t;return pi(e,r)}function pi(e,t){if(!e.equals(t)){var n=e.v;hr?cr.set(e,t):cr.set(e,n),e.v=t;var r=Zn.ensure();if(r.capture(e,n),e.f&kt){const i=e;e.f&It&&Ga(i),ja(i)}e.wv=Fc(),xc(e,It),ho()&&Xe!==null&&Xe.f&pt&&!(Xe.f&(mn|pr))&&(qt===null?Kh([e]):qt.push(e)),!r.is_fork&&ga.size>0&&!wc&&Oh()}return t}function Oh(){wc=!1;for(const e of ga)e.f&pt&&at(e,tn),Ii(e)&&Dr(e);ga.clear()}function Pl(e,t=1){var n=l(e),r=t===1?n++:n--;return W(e,n),r}function Bi(e){W(e,e.v+1)}function xc(e,t){var n=e.reactions;if(n!==null)for(var r=ho(),i=n.length,o=0;o<i;o++){var s=n[o],a=s.f;if(!(!r&&s===Xe)){var u=(a&It)===0;if(u&&at(s,t),a&kt){var c=s;Nt==null||Nt.delete(c),a&Pr||(a&$t&&(s.f|=Pr),xc(c,tn))}else u&&(a&$n&&ln!==null&&ln.add(s),dn(s))}}}function fn(e){if(typeof e!="object"||e===null||Tn in e)return e;const t=vs(e);if(t!==Uu&&t!==Lf)return e;var n=new Map,r=uo(e),i=Ie(0),o=Ar,s=a=>{if(Ar===o)return a();var u=He,c=Ar;nn(null),Ll(o);var d=a();return nn(u),Ll(c),d};return r&&n.set("length",Ie(e.length)),new Proxy(e,{defineProperty(a,u,c){(!("value"in c)||c.configurable===!1||c.enumerable===!1||c.writable===!1)&&Gf();var d=n.get(u);return d===void 0?s(()=>{var h=Ie(c.value);return n.set(u,h),h}):W(d,c.value,!0),!0},deleteProperty(a,u){var c=n.get(u);if(c===void 0){if(u in a){const d=s(()=>Ie(bt));n.set(u,d),Bi(i)}}else W(c,bt),Bi(i);return!0},get(a,u,c){var g;if(u===Tn)return e;var d=n.get(u),h=u in a;if(d===void 0&&(!h||(g=Un(a,u))!=null&&g.writable)&&(d=s(()=>{var v=fn(h?a[u]:bt),b=Ie(v);return b}),n.set(u,d)),d!==void 0){var f=l(d);return f===bt?void 0:f}return Reflect.get(a,u,c)},getOwnPropertyDescriptor(a,u){var c=Reflect.getOwnPropertyDescriptor(a,u);if(c&&"value"in c){var d=n.get(u);d&&(c.value=l(d))}else if(c===void 0){var h=n.get(u),f=h==null?void 0:h.v;if(h!==void 0&&f!==bt)return{enumerable:!0,configurable:!0,value:f,writable:!0}}return c},has(a,u){var f;if(u===Tn)return!0;var c=n.get(u),d=c!==void 0&&c.v!==bt||Reflect.has(a,u);if(c!==void 0||Xe!==null&&(!d||(f=Un(a,u))!=null&&f.writable)){c===void 0&&(c=s(()=>{var g=d?fn(a[u]):bt,v=Ie(g);return v}),n.set(u,c));var h=l(c);if(h===bt)return!1}return d},set(a,u,c,d){var O;var h=n.get(u),f=u in a;if(r&&u==="length")for(var g=c;g<h.v;g+=1){var v=n.get(g+"");v!==void 0?W(v,bt):g in a&&(v=s(()=>Ie(bt)),n.set(g+"",v))}if(h===void 0)(!f||(O=Un(a,u))!=null&&O.writable)&&(h=s(()=>Ie(void 0)),W(h,fn(c)),n.set(u,h));else{f=h.v!==bt;var b=s(()=>fn(c));W(h,b)}var y=Reflect.getOwnPropertyDescriptor(a,u);if(y!=null&&y.set&&y.set.call(d,c),!f){if(r&&typeof u=="string"){var w=n.get("length"),x=Number(u);Number.isInteger(x)&&x>=w.v&&W(w,x+1)}Bi(i)}return!0},ownKeys(a){l(i);var u=Reflect.ownKeys(a).filter(h=>{var f=n.get(h);return f===void 0||f.v!==bt});for(var[c,d]of n)d.v!==bt&&!(c in a)&&u.push(c);return u},setPrototypeOf(){Uf()}})}function Dl(e){try{if(e!==null&&typeof e=="object"&&Tn in e)return e[Tn]}catch{}return e}function Ch(e,t){return Object.is(Dl(e),Dl(t))}var ut,Ec,Nc,kc;function Ah(){if(ut===void 0){ut=window,Ec=/Firefox/.test(navigator.userAgent);var e=Element.prototype,t=Node.prototype,n=Text.prototype;Nc=Un(t,"firstChild").get,kc=Un(t,"nextSibling").get,Cl(e)&&(e.__click=void 0,e.__className=void 0,e.__attributes=null,e.__style=void 0,e.__e=void 0),Cl(n)&&(n.__t=void 0)}}function Cn(e=""){return document.createTextNode(e)}function Wn(e){return Nc.call(e)}function po(e){return kc.call(e)}function ae(e,t){return Wn(e)}function Ae(e,t=!1){{var n=Wn(e);return n instanceof Comment&&n.data===""?po(n):n}}function ge(e,t=1,n=!1){let r=e;for(;t--;)r=po(r);return r}function Mh(e){e.textContent=""}function Ic(){return!1}function Sc(e,t,n){return document.createElementNS(t??rc,e,void 0)}function Ph(e,t){if(t){const n=document.body;e.autofocus=!0,On(()=>{document.activeElement===n&&e.focus()})}}let Rl=!1;function Dh(){Rl||(Rl=!0,document.addEventListener("reset",e=>{Promise.resolve().then(()=>{var t;if(!e.defaultPrevented)for(const n of e.target.elements)(t=n.__on_r)==null||t.call(n)})},{capture:!0}))}function ys(e){var t=He,n=Xe;nn(null),rn(null);try{return e()}finally{nn(t),rn(n)}}function Rh(e,t,n,r=n){e.addEventListener(t,()=>ys(n));const i=e.__on_r;i?e.__on_r=()=>{i(),r(!0)}:e.__on_r=()=>r(!0),Dh()}function Tc(e){Xe===null&&(He===null&&Yf(),Wf()),hr&&Bf()}function zh(e,t){var n=t.last;n===null?t.last=t.first=e:(n.next=e,e.prev=n,t.last=e)}function sn(e,t,n){var r=Xe;r!==null&&r.f&Yt&&(e|=Yt);var i={ctx:Ue,deps:null,nodes:null,f:e|It|$t,first:null,fn:t,last:null,next:null,parent:r,b:r&&r.b,prev:null,teardown:null,wv:0,ac:null};if(n)try{Dr(i)}catch(a){throw _t(i),a}else t!==null&&dn(i);var o=i;if(n&&o.deps===null&&o.teardown===null&&o.nodes===null&&o.first===o.last&&!(o.f&Kr)&&(o=o.first,e&$n&&e&Qn&&o!==null&&(o.f|=Qn)),o!==null&&(o.parent=r,r!==null&&zh(o,r),He!==null&&He.f&kt&&!(e&pr))){var s=He;(s.effects??(s.effects=[])).push(o)}return i}function Ua(){return He!==null&&!hn}function mo(e){const t=sn(co,null,!1);return at(t,pt),t.teardown=e,t}function et(e){Tc();var t=Xe.f,n=!He&&(t&mn)!==0&&(t&fo)===0;if(n){var r=Ue;(r.e??(r.e=[])).push(e)}else return Oc(e)}function Oc(e){return sn(Xi|Ju,e,!1)}function qa(e){return Tc(),sn(co|Ju,e,!0)}function Cc(e){Zn.ensure();const t=sn(pr|Kr,e,!0);return()=>{_t(t)}}function Lh(e){Zn.ensure();const t=sn(pr|Kr,e,!0);return(n={})=>new Promise(r=>{n.outro?Cr(t,()=>{_t(t),r(void 0)}):(_t(t),r(void 0))})}function yo(e){return sn(Xi,e,!1)}function Te(e,t){var n=Ue,r={effect:null,ran:!1,deps:e};n.l.$.push(r),r.effect=Ni(()=>{e(),!r.ran&&(r.ran=!0,Ve(t))})}function Br(){var e=Ue;Ni(()=>{for(var t of e.l.$){t.deps();var n=t.effect;n.f&pt&&n.deps!==null&&at(n,tn),Ii(n)&&Dr(n),t.ran=!1}})}function Vh(e){return sn(Ka|Kr,e,!0)}function Ni(e,t=0){return sn(co|t,e,!0)}function be(e,t=[],n=[],r=[]){yc(r,t,n,i=>{sn(co,()=>e(...i.map(l)),!0)})}function ki(e,t=0){var n=sn($n|t,e,!0);return n}function Ac(e,t=0){var n=sn(Ha|t,e,!0);return n}function Ht(e){return sn(mn|Kr,e,!0)}function Mc(e){var t=e.teardown;if(t!==null){const n=hr,r=He;zl(!0),nn(null);try{t.call(null)}finally{zl(n),nn(r)}}}function Za(e,t=!1){var n=e.first;for(e.first=e.last=null;n!==null;){const i=n.ac;i!==null&&ys(()=>{i.abort(_r)});var r=n.next;n.f&pr?n.parent=null:_t(n,t),n=r}}function Fh(e){for(var t=e.first;t!==null;){var n=t.next;t.f&mn||_t(t),t=n}}function _t(e,t=!0){var n=!1;(t||e.f&Qu)&&e.nodes!==null&&e.nodes.end!==null&&(Hh(e.nodes.start,e.nodes.end),n=!0),Za(e,t&&!n),ji(e,0),at(e,qn);var r=e.nodes&&e.nodes.t;if(r!==null)for(const o of r)o.stop();Mc(e);var i=e.parent;i!==null&&i.first!==null&&Pc(e),e.next=e.prev=e.teardown=e.ctx=e.deps=e.fn=e.nodes=e.ac=null}function Hh(e,t){for(;e!==null;){var n=e===t?null:po(e);e.remove(),e=n}}function Pc(e){var t=e.parent,n=e.prev,r=e.next;n!==null&&(n.next=r),r!==null&&(r.prev=n),t!==null&&(t.first===e&&(t.first=r),t.last===e&&(t.last=n))}function Cr(e,t,n=!0){var r=[];Dc(e,r,!0);var i=()=>{n&&_t(e),t&&t()},o=r.length;if(o>0){var s=()=>--o||i();for(var a of r)a.out(s)}else i()}function Dc(e,t,n){if(!(e.f&Yt)){e.f^=Yt;var r=e.nodes&&e.nodes.t;if(r!==null)for(const a of r)(a.is_global||n)&&t.push(a);for(var i=e.first;i!==null;){var o=i.next,s=(i.f&Qn)!==0||(i.f&mn)!==0&&(e.f&$n)!==0;Dc(i,t,s?n:!1),i=o}}}function Qa(e){Rc(e,!0)}function Rc(e,t){if(e.f&Yt){e.f^=Yt,e.f&pt||(at(e,It),dn(e));for(var n=e.first;n!==null;){var r=n.next,i=(n.f&Qn)!==0||(n.f&mn)!==0;Rc(n,i?t:!1),n=r}var o=e.nodes&&e.nodes.t;if(o!==null)for(const s of o)(s.is_global||t)&&s.in()}}function zc(e,t){if(e.nodes)for(var n=e.nodes.start,r=e.nodes.end;n!==null;){var i=n===r?null:po(n);t.append(n),n=i}}let Bo=!1,hr=!1;function zl(e){hr=e}let He=null,hn=!1;function nn(e){He=e}let Xe=null;function rn(e){Xe=e}let en=null;function Lc(e){He!==null&&(en===null?en=[e]:en.push(e))}let Ft=null,Bt=0,qt=null;function Kh(e){qt=e}let Vc=1,xr=0,Ar=xr;function Ll(e){Ar=e}function Fc(){return++Vc}function Ii(e){var t=e.f;if(t&It)return!0;if(t&kt&&(e.f&=~Pr),t&tn){for(var n=e.deps,r=n.length,i=0;i<r;i++){var o=n[i];if(Ii(o)&&bc(o),o.wv>e.wv)return!0}t&$t&&Nt===null&&at(e,pt)}return!1}function Hc(e,t,n=!0){var r=e.reactions;if(r!==null&&!(en!==null&&hi.call(en,e)))for(var i=0;i<r.length;i++){var o=r[i];o.f&kt?Hc(o,t,!1):t===o&&(n?at(o,It):o.f&pt&&at(o,tn),dn(o))}}function Kc(e){var b;var t=Ft,n=Bt,r=qt,i=He,o=en,s=Ue,a=hn,u=Ar,c=e.f;Ft=null,Bt=0,qt=null,He=c&(mn|pr)?null:e,en=null,gi(e.ctx),hn=!1,Ar=++xr,e.ac!==null&&(ys(()=>{e.ac.abort(_r)}),e.ac=null);try{e.f|=sa;var d=e.fn,h=d();e.f|=fo;var f=e.deps,g=Le==null?void 0:Le.is_fork;if(Ft!==null){var v;if(g||ji(e,Bt),f!==null&&Bt>0)for(f.length=Bt+Ft.length,v=0;v<Ft.length;v++)f[Bt+v]=Ft[v];else e.deps=f=Ft;if(Ua()&&e.f&$t)for(v=Bt;v<f.length;v++)((b=f[v]).reactions??(b.reactions=[])).push(e)}else!g&&f!==null&&Bt<f.length&&(ji(e,Bt),f.length=Bt);if(ho()&&qt!==null&&!hn&&f!==null&&!(e.f&(kt|tn|It)))for(v=0;v<qt.length;v++)Hc(qt[v],e);if(i!==null&&i!==e){if(xr++,i.deps!==null)for(let y=0;y<n;y+=1)i.deps[y].rv=xr;if(t!==null)for(const y of t)y.rv=xr;qt!==null&&(r===null?r=qt:r.push(...qt))}return e.f&ur&&(e.f^=ur),h}catch(y){return uc(y)}finally{e.f^=sa,Ft=t,Bt=n,qt=r,He=i,en=o,gi(s),hn=a,Ar=u}}function Bh(e,t){let n=t.reactions;if(n!==null){var r=Rf.call(n,e);if(r!==-1){var i=n.length-1;i===0?n=t.reactions=null:(n[r]=n[i],n.pop())}}if(n===null&&t.f&kt&&(Ft===null||!hi.call(Ft,t))){var o=t;o.f&$t&&(o.f^=$t,o.f&=~Pr),ja(o),Th(o),ji(o,0)}}function ji(e,t){var n=e.deps;if(n!==null)for(var r=t;r<n.length;r++)Bh(e,n[r])}function Dr(e){var t=e.f;if(!(t&qn)){at(e,pt);var n=Xe,r=Bo;Xe=e,Bo=!0;try{t&($n|Ha)?Fh(e):Za(e),Mc(e);var i=Kc(e);e.teardown=typeof i=="function"?i:null,e.wv=Vc;var o;ia&&ch&&e.f&It&&e.deps}finally{Bo=r,Xe=n}}}async function ct(){await Promise.resolve(),mh()}function l(e){var t=e.f,n=(t&kt)!==0;if(He!==null&&!hn){var r=Xe!==null&&(Xe.f&qn)!==0;if(!r&&(en===null||!hi.call(en,e))){var i=He.deps;if(He.f&sa)e.rv<xr&&(e.rv=xr,Ft===null&&i!==null&&i[Bt]===e?Bt++:Ft===null?Ft=[e]:Ft.push(e));else{(He.deps??(He.deps=[])).push(e);var o=e.reactions;o===null?e.reactions=[He]:hi.call(o,He)||o.push(He)}}}if(hr&&cr.has(e))return cr.get(e);if(n){var s=e;if(hr){var a=s.v;return(!(s.f&pt)&&s.reactions!==null||Wc(s))&&(a=Ga(s)),cr.set(s,a),a}var u=(s.f&$t)===0&&!hn&&He!==null&&(Bo||(He.f&$t)!==0),c=(s.f&fo)===0;Ii(s)&&(u&&(s.f|=$t),bc(s)),u&&!c&&(_c(s),Bc(s))}if(Nt!=null&&Nt.has(e))return Nt.get(e);if(e.f&ur)throw e.v;return e.v}function Bc(e){if(e.f|=$t,e.deps!==null)for(const t of e.deps)(t.reactions??(t.reactions=[])).push(e),t.f&kt&&!(t.f&$t)&&(_c(t),Bc(t))}function Wc(e){if(e.v===bt)return!0;if(e.deps===null)return!1;for(const t of e.deps)if(cr.has(t)||t.f&kt&&Wc(t))return!0;return!1}function Ve(e){var t=hn;try{return hn=!0,e()}finally{hn=t}}function Wh(e,t){var n={};for(var r in e)t.includes(r)||(n[r]=e[r]);for(var i of Object.getOwnPropertySymbols(e))Object.propertyIsEnumerable.call(e,i)&&!t.includes(i)&&(n[i]=e[i]);return n}function Ke(e){if(!(typeof e!="object"||!e||e instanceof EventTarget)){if(Tn in e)va(e);else if(!Array.isArray(e))for(let t in e){const n=e[t];typeof n=="object"&&n&&Tn in n&&va(n)}}}function va(e,t=new Set){if(typeof e=="object"&&e!==null&&!(e instanceof EventTarget)&&!t.has(e)){t.add(e),e instanceof Date&&e.getTime();for(let r in e)try{va(e[r],t)}catch{}const n=vs(e);if(n!==Object.prototype&&n!==Array.prototype&&n!==Map.prototype&&n!==Set.prototype&&n!==Date.prototype){const r=Gu(n);for(let i in r){const o=r[i].get;if(o)try{o.call(e)}catch{}}}}}function Yh(e){return e.endsWith("capture")&&e!=="gotpointercapture"&&e!=="lostpointercapture"}const Xh=["beforeinput","click","change","dblclick","contextmenu","focusin","focusout","input","keydown","keyup","mousedown","mousemove","mouseout","mouseover","mouseup","pointerdown","pointermove","pointerout","pointerover","pointerup","touchend","touchmove","touchstart"];function jh(e){return Xh.includes(e)}const Gh={formnovalidate:"formNoValidate",ismap:"isMap",nomodule:"noModule",playsinline:"playsInline",readonly:"readOnly",defaultvalue:"defaultValue",defaultchecked:"defaultChecked",srcobject:"srcObject",novalidate:"noValidate",allowfullscreen:"allowFullscreen",disablepictureinpicture:"disablePictureInPicture",disableremoteplayback:"disableRemotePlayback"};function Uh(e){return e=e.toLowerCase(),Gh[e]??e}const qh=["touchstart","touchmove"];function Zh(e){return qh.includes(e)}const Yc=new Set,pa=new Set;function Ja(e,t,n,r={}){function i(o){if(r.capture||ya.call(t,o),!o.cancelBubble)return ys(()=>n==null?void 0:n.call(this,o))}return e.startsWith("pointer")||e.startsWith("touch")||e==="wheel"?On(()=>{t.addEventListener(e,i,r)}):t.addEventListener(e,i,r),i}function ma(e,t,n,r={}){var i=Ja(t,e,n,r);return()=>{e.removeEventListener(t,i,r)}}function We(e,t,n,r,i){var o={capture:r,passive:i},s=Ja(e,t,n,o);(t===document.body||t===window||t===document||t instanceof HTMLMediaElement)&&mo(()=>{t.removeEventListener(e,s,o)})}function mt(e){for(var t=0;t<e.length;t++)Yc.add(e[t]);for(var n of pa)n(e)}let Vl=null;function ya(e){var y;var t=this,n=t.ownerDocument,r=e.type,i=((y=e.composedPath)==null?void 0:y.call(e))||[],o=i[0]||e.target;Vl=e;var s=0,a=Vl===e&&e.__root;if(a){var u=i.indexOf(a);if(u!==-1&&(t===document||t===window)){e.__root=t;return}var c=i.indexOf(t);if(c===-1)return;u<=c&&(s=u)}if(o=i[s]||e.target,o!==t){zf(e,"currentTarget",{configurable:!0,get(){return o||n}});var d=He,h=Xe;nn(null),rn(null);try{for(var f,g=[];o!==null;){var v=o.assignedSlot||o.parentNode||o.host||null;try{var b=o["__"+r];b!=null&&(!o.disabled||e.target===o)&&b.call(o,e)}catch(w){f?g.push(w):f=w}if(e.cancelBubble||v===t||v===null)break;o=v}if(f){for(let w of g)queueMicrotask(()=>{throw w});throw f}}finally{e.__root=t,delete e.currentTarget,nn(d),rn(h)}}}var Yu,Xu;const Bs=(Xu=(Yu=globalThis==null?void 0:globalThis.window)==null?void 0:Yu.trustedTypes)==null?void 0:Xu.createPolicy("svelte-trusted-html",{createHTML:e=>e});function Qh(e){return(Bs==null?void 0:Bs.createHTML(e))??e}function Xc(e,t=!1){var n=Sc("template");return e=e.replaceAll("<!>","<!---->"),n.innerHTML=t?Qh(e):e,n.content}function Rr(e,t){var n=Xe;n.nodes===null&&(n.nodes={start:e,end:t,a:null,t:null})}function de(e,t){var n=(t&nc)!==0,r=(t&oh)!==0,i,o=!e.startsWith("<!>");return()=>{i===void 0&&(i=Xc(o?e:"<!>"+e,!0),n||(i=Wn(i)));var s=r||Ec?document.importNode(i,!0):i.cloneNode(!0);if(n){var a=Wn(s),u=s.lastChild;Rr(a,u)}else Rr(s,s);return s}}function Jh(e,t,n="svg"){var r=!e.startsWith("<!>"),i=(t&nc)!==0,o=`<${n}>${r?e:"<!>"+e}</${n}>`,s;return()=>{if(!s){var a=Xc(o,!0),u=Wn(a);if(i)for(s=document.createDocumentFragment();Wn(u);)s.appendChild(Wn(u));else s=Wn(u)}var c=s.cloneNode(!0);if(i){var d=Wn(c),h=c.lastChild;Rr(d,h)}else Rr(c,c);return c}}function Gt(e,t){return Jh(e,t,"svg")}function $h(e=""){{var t=Cn(e+"");return Rr(t,t),t}}function tt(){var e=document.createDocumentFragment(),t=document.createComment(""),n=Cn();return e.append(t,n),Rr(t,n),e}function te(e,t){e!==null&&e.before(t)}function Ye(e,t){var n=t==null?"":typeof t=="object"?t+"":t;n!==(e.__t??(e.__t=e.nodeValue))&&(e.__t=n,e.nodeValue=n+"")}function eg(e,t){return tg(e,t)}const Co=new Map;function tg(e,{target:t,anchor:n,props:r={},events:i,context:o,intro:s=!0}){Ah();var a=new Set,u=h=>{for(var f=0;f<h.length;f++){var g=h[f];if(!a.has(g)){a.add(g);var v=Zh(g);for(const w of[t,document]){var b=Co.get(w);b===void 0&&(b=new Map,Co.set(w,b));var y=b.get(g);y===void 0?(w.addEventListener(g,ya,{passive:v}),b.set(g,1)):b.set(g,y+1)}}}};u(gs(Yc)),pa.add(u);var c=void 0,d=Lh(()=>{var h=n??t.appendChild(Cn());return _h(h,{pending:()=>{}},f=>{Ne({});var g=Ue;o&&(g.c=o),i&&(r.$$events=i),c=e(f,r)||{},ke()}),()=>{var b;for(var f of a)for(const y of[t,document]){var g=Co.get(y),v=g.get(f);--v==0?(y.removeEventListener(f,ya),g.delete(f),g.size===0&&Co.delete(y)):g.set(f,v)}pa.delete(u),h!==n&&((b=h.parentNode)==null||b.removeChild(h))}});return ng.set(c,d),c}let ng=new WeakMap;var un,In,Wt,Or,io,oo,ds;class bs{constructor(t,n=!0){nt(this,"anchor");se(this,un,new Map);se(this,In,new Map);se(this,Wt,new Map);se(this,Or,new Set);se(this,io,!0);se(this,oo,()=>{var t=Le;if(R(this,un).has(t)){var n=R(this,un).get(t),r=R(this,In).get(n);if(r)Qa(r),R(this,Or).delete(n);else{var i=R(this,Wt).get(n);i&&(R(this,In).set(n,i.effect),R(this,Wt).delete(n),i.fragment.lastChild.remove(),this.anchor.before(i.fragment),r=i.effect)}for(const[o,s]of R(this,un)){if(R(this,un).delete(o),o===t)break;const a=R(this,Wt).get(s);a&&(_t(a.effect),R(this,Wt).delete(s))}for(const[o,s]of R(this,In)){if(o===n||R(this,Or).has(o))continue;const a=()=>{if(Array.from(R(this,un).values()).includes(o)){var c=document.createDocumentFragment();zc(s,c),c.append(Cn()),R(this,Wt).set(o,{effect:s,fragment:c})}else _t(s);R(this,Or).delete(o),R(this,In).delete(o)};R(this,io)||!r?(R(this,Or).add(o),Cr(s,a,!1)):a()}}});se(this,ds,t=>{R(this,un).delete(t);const n=Array.from(R(this,un).values());for(const[r,i]of R(this,Wt))n.includes(r)||(_t(i.effect),R(this,Wt).delete(r))});this.anchor=t,Me(this,io,n)}ensure(t,n){var r=Le,i=Ic();if(n&&!R(this,In).has(t)&&!R(this,Wt).has(t))if(i){var o=document.createDocumentFragment(),s=Cn();o.append(s),R(this,Wt).set(t,{effect:Ht(()=>n(s)),fragment:o})}else R(this,In).set(t,Ht(()=>n(this.anchor)));if(R(this,un).set(r,t),i){for(const[a,u]of R(this,In))a===t?r.unskip_effect(u):r.skip_effect(u);for(const[a,u]of R(this,Wt))a===t?r.unskip_effect(u.effect):r.skip_effect(u.effect);r.oncommit(R(this,oo)),r.ondiscard(R(this,ds))}else R(this,oo).call(this)}}un=new WeakMap,In=new WeakMap,Wt=new WeakMap,Or=new WeakMap,io=new WeakMap,oo=new WeakMap,ds=new WeakMap;function De(e,t,n=!1){var r=new bs(e),i=n?Qn:0;function o(s,a){r.ensure(s,a)}ki(()=>{var s=!1;t((a,u=0)=>{s=!0,o(u,a)}),s||o(!1,null)},i)}function Lt(e,t){return t}function rg(e,t,n){for(var r=[],i=t.length,o,s=t.length,a=0;a<i;a++){let h=t[a];Cr(h,()=>{if(o){if(o.pending.delete(h),o.done.add(h),o.pending.size===0){var f=e.outrogroups;ba(gs(o.done)),f.delete(o),f.size===0&&(e.outrogroups=null)}}else s-=1},!1)}if(s===0){var u=r.length===0&&n!==null;if(u){var c=n,d=c.parentNode;Mh(d),d.append(c),e.items.clear()}ba(t,!u)}else o={pending:new Set(t),done:new Set},(e.outrogroups??(e.outrogroups=new Set)).add(o)}function ba(e,t=!0){for(var n=0;n<e.length;n++)_t(e[n],t)}var Fl;function it(e,t,n,r,i,o=null){var s=e,a=new Map,u=(t&ec)!==0;if(u){var c=e;s=c.appendChild(Cn())}var d=null,h=vo(()=>{var w=n();return uo(w)?w:w==null?[]:gs(w)}),f,g=!0;function v(){y.fallback=d,ig(y,f,s,t,r),d!==null&&(f.length===0?d.f&Xn?(d.f^=Xn,Li(d,null,s)):Qa(d):Cr(d,()=>{d=null}))}var b=ki(()=>{f=l(h);for(var w=f.length,x=new Set,O=Le,m=Ic(),P=0;P<w;P+=1){var A=f[P],I=r(A,P),k=g?null:a.get(I);k?(k.v&&pi(k.v,A),k.i&&pi(k.i,P),m&&O.unskip_effect(k.e)):(k=og(a,g?s:Fl??(Fl=Cn()),A,I,P,i,t,n),g||(k.e.f|=Xn),a.set(I,k)),x.add(I)}if(w===0&&o&&!d&&(g?d=Ht(()=>o(s)):(d=Ht(()=>o(Fl??(Fl=Cn()))),d.f|=Xn)),w>x.size&&Kf(),!g)if(m){for(const[H,z]of a)x.has(H)||O.skip_effect(z.e);O.oncommit(v),O.ondiscard(()=>{})}else v();l(h)}),y={effect:b,items:a,outrogroups:null,fallback:d};g=!1}function Di(e){for(;e!==null&&!(e.f&mn);)e=e.next;return e}function ig(e,t,n,r,i){var z,E,_,N,p,T,S,M,V;var o=(r&$f)!==0,s=t.length,a=e.items,u=Di(e.effect.first),c,d=null,h,f=[],g=[],v,b,y,w;if(o)for(w=0;w<s;w+=1)v=t[w],b=i(v,w),y=a.get(b).e,y.f&Xn||((E=(z=y.nodes)==null?void 0:z.a)==null||E.measure(),(h??(h=new Set)).add(y));for(w=0;w<s;w+=1){if(v=t[w],b=i(v,w),y=a.get(b).e,e.outrogroups!==null)for(const K of e.outrogroups)K.pending.delete(y),K.done.delete(y);if(y.f&Xn)if(y.f^=Xn,y===u)Li(y,null,n);else{var x=d?d.next:u;y===e.effect.last&&(e.effect.last=y.prev),y.prev&&(y.prev.next=y.next),y.next&&(y.next.prev=y.prev),tr(e,d,y),tr(e,y,x),Li(y,x,n),d=y,f=[],g=[],u=Di(d.next);continue}if(y.f&Yt&&(Qa(y),o&&((N=(_=y.nodes)==null?void 0:_.a)==null||N.unfix(),(h??(h=new Set)).delete(y))),y!==u){if(c!==void 0&&c.has(y)){if(f.length<g.length){var O=g[0],m;d=O.prev;var P=f[0],A=f[f.length-1];for(m=0;m<f.length;m+=1)Li(f[m],O,n);for(m=0;m<g.length;m+=1)c.delete(g[m]);tr(e,P.prev,A.next),tr(e,d,P),tr(e,A,O),u=O,d=A,w-=1,f=[],g=[]}else c.delete(y),Li(y,u,n),tr(e,y.prev,y.next),tr(e,y,d===null?e.effect.first:d.next),tr(e,d,y),d=y;continue}for(f=[],g=[];u!==null&&u!==y;)(c??(c=new Set)).add(u),g.push(u),u=Di(u.next);if(u===null)continue}y.f&Xn||f.push(y),d=y,u=Di(y.next)}if(e.outrogroups!==null){for(const K of e.outrogroups)K.pending.size===0&&(ba(gs(K.done)),(p=e.outrogroups)==null||p.delete(K));e.outrogroups.size===0&&(e.outrogroups=null)}if(u!==null||c!==void 0){var I=[];if(c!==void 0)for(y of c)y.f&Yt||I.push(y);for(;u!==null;)!(u.f&Yt)&&u!==e.fallback&&I.push(u),u=Di(u.next);var k=I.length;if(k>0){var H=r&ec&&s===0?n:null;if(o){for(w=0;w<k;w+=1)(S=(T=I[w].nodes)==null?void 0:T.a)==null||S.measure();for(w=0;w<k;w+=1)(V=(M=I[w].nodes)==null?void 0:M.a)==null||V.fix()}rg(e,I,H)}}o&&On(()=>{var K,X;if(h!==void 0)for(y of h)(X=(K=y.nodes)==null?void 0:K.a)==null||X.apply()})}function og(e,t,n,r,i,o,s,a){var u=s&Qf?s&eh?fr(n):Ee(n,!1,!1):null,c=s&Jf?fr(i):null;return{v:u,i:c,e:Ht(()=>(o(t,u??n,c??i,a),()=>{e.delete(r)}))}}function Li(e,t,n){if(e.nodes)for(var r=e.nodes.start,i=e.nodes.end,o=t&&!(t.f&Xn)?t.nodes.start:n;r!==null;){var s=po(r);if(o.before(r),r===i)return;r=s}}function tr(e,t,n){t===null?e.effect.first=n:t.next=n,n===null?e.effect.last=t:n.prev=t}function Dn(e,t,n,r,i){var a;var o=(a=t.$$slots)==null?void 0:a[n],s=!1;o===!0&&(o=t.children,s=!0),o===void 0||o(e,s?()=>r:r)}function Rn(e,t,...n){var r=new bs(e);ki(()=>{const i=t()??null;r.ensure(i,i&&(o=>i(o,...n)))},Qn)}function _s(e,t,n){var r=new bs(e);ki(()=>{var i=t()??null;r.ensure(i,i&&(o=>n(o,i)))},Qn)}function sg(e,t,n,r,i,o){var s=null,a=e,u=new bs(a,!1);ki(()=>{const c=t()||null;var d=sh;if(c===null){u.ensure(null,null);return}return u.ensure(c,h=>{if(c){if(s=Sc(c,d),Rr(s,s),r){var f=s.appendChild(Cn());r(s,f)}Xe.nodes.end=s,h.before(s)}}),()=>{}},Qn),mo(()=>{})}function zt(e,t,n){yo(()=>{var r=Ve(()=>t(e,n==null?void 0:n())||{});if(n&&(r!=null&&r.update)){var i=!1,o={};Ni(()=>{var s=n();Ke(s),i&&oc(o,s)&&(o=s,r.update(s))}),i=!0}if(r!=null&&r.destroy)return()=>r.destroy()})}function ag(e,t){var n=void 0,r;Ac(()=>{n!==(n=t())&&(r&&(_t(r),r=null),n&&(r=Ht(()=>{yo(()=>n(e))})))})}function jc(e){var t,n,r="";if(typeof e=="string"||typeof e=="number")r+=e;else if(typeof e=="object")if(Array.isArray(e)){var i=e.length;for(t=0;t<i;t++)e[t]&&(n=jc(e[t]))&&(r&&(r+=" "),r+=n)}else for(n in e)e[n]&&(r&&(r+=" "),r+=n);return r}function lg(){for(var e,t,n=0,r="",i=arguments.length;n<i;n++)(e=arguments[n])&&(t=jc(e))&&(r&&(r+=" "),r+=t);return r}function Wr(e){return typeof e=="object"?lg(e):e??""}const Hl=[...` 	
\r\fÂ \v\uFEFF`];function ug(e,t,n){var r=e==null?"":""+e;if(t&&(r=r?r+" "+t:t),n){for(var i in n)if(n[i])r=r?r+" "+i:i;else if(r.length)for(var o=i.length,s=0;(s=r.indexOf(i,s))>=0;){var a=s+o;(s===0||Hl.includes(r[s-1]))&&(a===r.length||Hl.includes(r[a]))?r=(s===0?"":r.substring(0,s))+r.substring(a+1):s=a}}return r===""?null:r}function Kl(e,t=!1){var n=t?" !important;":";",r="";for(var i in e){var o=e[i];o!=null&&o!==""&&(r+=" "+i+": "+o+n)}return r}function Ws(e){return e[0]!=="-"||e[1]!=="-"?e.toLowerCase():e}function cg(e,t){if(t){var n="",r,i;if(Array.isArray(t)?(r=t[0],i=t[1]):r=t,e){e=String(e).replaceAll(/\s*\/\*.*?\*\/\s*/g,"").trim();var o=!1,s=0,a=!1,u=[];r&&u.push(...Object.keys(r).map(Ws)),i&&u.push(...Object.keys(i).map(Ws));var c=0,d=-1;const b=e.length;for(var h=0;h<b;h++){var f=e[h];if(a?f==="/"&&e[h-1]==="*"&&(a=!1):o?o===f&&(o=!1):f==="/"&&e[h+1]==="*"?a=!0:f==='"'||f==="'"?o=f:f==="("?s++:f===")"&&s--,!a&&o===!1&&s===0){if(f===":"&&d===-1)d=h;else if(f===";"||h===b-1){if(d!==-1){var g=Ws(e.substring(c,d).trim());if(!u.includes(g)){f!==";"&&h++;var v=e.substring(c,h).trim();n+=" "+v+";"}}c=h+1,d=-1}}}}return r&&(n+=Kl(r)),i&&(n+=Kl(i,!0)),n=n.trim(),n===""?null:n}return e==null?null:String(e)}function Ct(e,t,n,r,i,o){var s=e.__className;if(s!==n||s===void 0){var a=ug(n,r,o);a==null?e.removeAttribute("class"):t?e.className=a:e.setAttribute("class",a),e.__className=n}else if(o&&i!==o)for(var u in o){var c=!!o[u];(i==null||c!==!!i[u])&&e.classList.toggle(u,c)}return o}function Ys(e,t={},n,r){for(var i in n){var o=n[i];t[i]!==o&&(n[i]==null?e.style.removeProperty(i):e.style.setProperty(i,o,r))}}function Ze(e,t,n,r){var i=e.__style;if(i!==t){var o=cg(t,r);o==null?e.removeAttribute("style"):e.style.cssText=o,e.__style=t}else r&&(Array.isArray(r)?(Ys(e,n==null?void 0:n[0],r[0]),Ys(e,n==null?void 0:n[1],r[1],"important")):Ys(e,n,r));return r}function _a(e,t,n=!1){if(e.multiple){if(t==null)return;if(!uo(t))return lh();for(var r of e.options)r.selected=t.includes(Bl(r));return}for(r of e.options){var i=Bl(r);if(Ch(i,t)){r.selected=!0;return}}(!n||t!==void 0)&&(e.selectedIndex=-1)}function dg(e){var t=new MutationObserver(()=>{_a(e,e.__value)});t.observe(e,{childList:!0,subtree:!0,attributes:!0,attributeFilter:["value"]}),mo(()=>{t.disconnect()})}function Bl(e){return"__value"in e?e.__value:e.value}const ir=Symbol("class"),Yn=Symbol("style"),Gc=Symbol("is custom element"),Uc=Symbol("is html"),fg=Ba?"option":"OPTION",hg=Ba?"select":"SELECT",gg=Ba?"progress":"PROGRESS";function Ot(e,t){var n=ws(e);n.value===(n.value=t??void 0)||e.value===t&&(t!==0||e.nodeName!==gg)||(e.value=t??"")}function qc(e,t){var n=ws(e);n.checked!==(n.checked=t??void 0)&&(e.checked=t)}function vg(e,t){t?e.hasAttribute("selected")||e.setAttribute("selected",""):e.removeAttribute("selected")}function ye(e,t,n,r){var i=ws(e);i[t]!==(i[t]=n)&&(t==="loading"&&(e[Ff]=n),n==null?e.removeAttribute(t):typeof n!="string"&&Zc(e).includes(t)?e[t]=n:e.setAttribute(t,n))}function pg(e,t,n,r,i=!1,o=!1){var s=ws(e),a=s[Gc],u=!s[Uc],c=t||{},d=e.nodeName===fg;for(var h in t)h in n||(n[h]=null);n.class?n.class=Wr(n.class):(r||n[ir])&&(n.class=null),n[Yn]&&(n.style??(n.style=null));var f=Zc(e);for(const m in n){let P=n[m];if(d&&m==="value"&&P==null){e.value=e.__value="",c[m]=P;continue}if(m==="class"){var g=e.namespaceURI==="http://www.w3.org/1999/xhtml";Ct(e,g,P,r,t==null?void 0:t[ir],n[ir]),c[m]=P,c[ir]=n[ir];continue}if(m==="style"){Ze(e,P,t==null?void 0:t[Yn],n[Yn]),c[m]=P,c[Yn]=n[Yn];continue}var v=c[m];if(!(P===v&&!(P===void 0&&e.hasAttribute(m)))){c[m]=P;var b=m[0]+m[1];if(b!=="$$")if(b==="on"){const A={},I="$$"+m;let k=m.slice(2);var y=jh(k);if(Yh(k)&&(k=k.slice(0,-7),A.capture=!0),!y&&v){if(P!=null)continue;e.removeEventListener(k,c[I],A),c[I]=null}if(P!=null)if(y)e[`__${k}`]=P,mt([k]);else{let H=function(z){c[m].call(this,z)};var O=H;c[I]=Ja(k,e,H,A)}else y&&(e[`__${k}`]=void 0)}else if(m==="style")ye(e,m,P);else if(m==="autofocus")Ph(e,!!P);else if(!a&&(m==="__value"||m==="value"&&P!=null))e.value=e.__value=P;else if(m==="selected"&&d)vg(e,P);else{var w=m;u||(w=Uh(w));var x=w==="defaultValue"||w==="defaultChecked";if(P==null&&!a&&!x)if(s[m]=null,w==="value"||w==="checked"){let A=e;const I=t===void 0;if(w==="value"){let k=A.defaultValue;A.removeAttribute(w),A.defaultValue=k,A.value=A.__value=I?k:null}else{let k=A.defaultChecked;A.removeAttribute(w),A.defaultChecked=k,A.checked=I?k:!1}}else e.removeAttribute(m);else x||f.includes(w)&&(a||typeof P!="string")?(e[w]=P,w in s&&(s[w]=bt)):typeof P!="function"&&ye(e,w,P)}}}return c}function vn(e,t,n=[],r=[],i=[],o,s=!1,a=!1){yc(i,n,r,u=>{var c=void 0,d={},h=e.nodeName===hg,f=!1;if(Ac(()=>{var v=t(...u.map(l)),b=pg(e,c,v,o,s,a);f&&h&&"value"in v&&_a(e,v.value);for(let w of Object.getOwnPropertySymbols(d))v[w]||_t(d[w]);for(let w of Object.getOwnPropertySymbols(v)){var y=v[w];w.description===ah&&(!c||y!==c[w])&&(d[w]&&_t(d[w]),d[w]=Ht(()=>ag(e,()=>y))),b[w]=y}c=b}),h){var g=e;yo(()=>{_a(g,c.value,!0),dg(g)})}f=!0})}function ws(e){return e.__attributes??(e.__attributes={[Gc]:e.nodeName.includes("-"),[Uc]:e.namespaceURI===rc})}var Wl=new Map;function Zc(e){var t=e.getAttribute("is")||e.nodeName,n=Wl.get(t);if(n)return n;Wl.set(t,n=[]);for(var r,i=e,o=Element.prototype;o!==i;){r=Gu(i);for(var s in r)r[s].set&&n.push(s);i=vs(i)}return n}function Qc(e,t,n=t){var r=new WeakSet;Rh(e,"input",async i=>{var o=i?e.defaultValue:e.value;if(o=Xs(e)?js(o):o,n(o),Le!==null&&r.add(Le),await ct(),o!==(o=t())){var s=e.selectionStart,a=e.selectionEnd,u=e.value.length;if(e.value=o??"",a!==null){var c=e.value.length;s===a&&a===u&&c>u?(e.selectionStart=c,e.selectionEnd=c):(e.selectionStart=s,e.selectionEnd=Math.min(a,c))}}}),Ve(t)==null&&e.value&&(n(Xs(e)?js(e.value):e.value),Le!==null&&r.add(Le)),Ni(()=>{var i=t();if(e===document.activeElement){var o=aa??Le;if(r.has(o))return}Xs(e)&&i===js(e.value)||e.type==="date"&&!i&&!e.value||i!==e.value&&(e.value=i??"")})}function Xs(e){var t=e.type;return t==="number"||t==="range"}function js(e){return e===""?null:+e}function mg(e,t,n){var r=Un(e,t);r&&r.set&&(e[t]=n,mo(()=>{e[t]=null}))}var lr,fi,so,fs,Jc;const hs=class hs{constructor(t){se(this,fs);se(this,lr,new WeakMap);se(this,fi);se(this,so);Me(this,so,t)}observe(t,n){var r=R(this,lr).get(t)||new Set;return r.add(n),R(this,lr).set(t,r),xt(this,fs,Jc).call(this).observe(t,R(this,so)),()=>{var i=R(this,lr).get(t);i.delete(n),i.size===0&&(R(this,lr).delete(t),R(this,fi).unobserve(t))}}};lr=new WeakMap,fi=new WeakMap,so=new WeakMap,fs=new WeakSet,Jc=function(){return R(this,fi)??Me(this,fi,new ResizeObserver(t=>{for(var n of t){hs.entries.set(n.target,n);for(var r of R(this,lr).get(n.target)||[])r(n)}}))},nt(hs,"entries",new WeakMap);let wa=hs;var yg=new wa({box:"border-box"});function Yl(e,t,n){var r=yg.observe(e,()=>n(e[t]));yo(()=>(Ve(()=>n(e[t])),r))}function Xl(e,t){return e===t||(e==null?void 0:e[Tn])===t}function lt(e={},t,n,r){return yo(()=>{var i,o;return Ni(()=>{i=o,o=[],Ve(()=>{e!==n(...o)&&(t(e,...o),i&&Xl(n(...i),e)&&t(null,...i))})}),()=>{On(()=>{o&&Xl(n(...o),e)&&t(null,...o)})}}),e}function zn(e=!1){const t=Ue,n=t.l.u;if(!n)return;let r=()=>Ke(t.s);if(e){let i=0,o={};const s=go(()=>{let a=!1;const u=t.s;for(const c in u)u[c]!==o[c]&&(o[c]=u[c],a=!0);return a&&i++,i});r=()=>l(s)}n.b.length&&qa(()=>{jl(t,r),oa(n.b)}),et(()=>{const i=Ve(()=>n.m.map(Vf));return()=>{for(const o of i)typeof o=="function"&&o()}}),n.a.length&&et(()=>{jl(t,r),oa(n.a)})}function jl(e,t){if(e.l.s)for(const n of e.l.s)l(n);t()}let Ao=!1;function bg(e){var t=Ao;try{return Ao=!1,[e(),Ao]}finally{Ao=t}}const _g={get(e,t){if(!e.exclude.includes(t))return e.props[t]},set(e,t){return!1},getOwnPropertyDescriptor(e,t){if(!e.exclude.includes(t)&&t in e.props)return{enumerable:!0,configurable:!0,value:e.props[t]}},has(e,t){return e.exclude.includes(t)?!1:t in e.props},ownKeys(e){return Reflect.ownKeys(e.props).filter(t=>!e.exclude.includes(t))}};function Yr(e,t,n){return new Proxy({props:e,exclude:t},_g)}const wg={get(e,t){if(!e.exclude.includes(t))return l(e.version),t in e.special?e.special[t]():e.props[t]},set(e,t,n){if(!(t in e.special)){var r=Xe;try{rn(e.parent_effect),e.special[t]=ee({get[t](){return e.props[t]}},t,tc)}finally{rn(r)}}return e.special[t](n),Pl(e.version),!0},getOwnPropertyDescriptor(e,t){if(!e.exclude.includes(t)&&t in e.props)return{enumerable:!0,configurable:!0,value:e.props[t]}},deleteProperty(e,t){return e.exclude.includes(t)||(e.exclude.push(t),Pl(e.version)),!0},has(e,t){return e.exclude.includes(t)?!1:t in e.props},ownKeys(e){return Reflect.ownKeys(e.props).filter(t=>!e.exclude.includes(t))}};function on(e,t){return new Proxy({props:e,exclude:t,special:{},version:fr(0),parent_effect:Xe},wg)}const xg={get(e,t){let n=e.props.length;for(;n--;){let r=e.props[n];if(Pi(r)&&(r=r()),typeof r=="object"&&r!==null&&t in r)return r[t]}},set(e,t,n){let r=e.props.length;for(;r--;){let i=e.props[r];Pi(i)&&(i=i());const o=Un(i,t);if(o&&o.set)return o.set(n),!0}return!1},getOwnPropertyDescriptor(e,t){let n=e.props.length;for(;n--;){let r=e.props[n];if(Pi(r)&&(r=r()),typeof r=="object"&&r!==null&&t in r){const i=Un(r,t);return i&&!i.configurable&&(i.configurable=!0),i}}},has(e,t){if(t===Tn||t===$u)return!1;for(let n of e.props)if(Pi(n)&&(n=n()),n!=null&&t in n)return!0;return!1},ownKeys(e){const t=[];for(let n of e.props)if(Pi(n)&&(n=n()),!!n){for(const r in n)t.includes(r)||t.push(r);for(const r of Object.getOwnPropertySymbols(n))t.includes(r)||t.push(r)}return t}};function Xt(...e){return new Proxy({props:e},xg)}function ee(e,t,n,r){var O;var i=!Ei||(n&nh)!==0,o=(n&rh)!==0,s=(n&ih)!==0,a=r,u=!0,c=()=>(u&&(u=!1,a=s?Ve(r):r),a),d;if(o){var h=Tn in e||$u in e;d=((O=Un(e,t))==null?void 0:O.set)??(h&&t in e?m=>e[t]=m:void 0)}var f,g=!1;o?[f,g]=bg(()=>e[t]):f=e[t],f===void 0&&r!==void 0&&(f=c(),d&&(i&&jf(),d(f)));var v;if(i?v=()=>{var m=e[t];return m===void 0?c():(u=!0,m)}:v=()=>{var m=e[t];return m!==void 0&&(a=void 0),m===void 0?a:m},i&&!(n&tc))return v;if(d){var b=e.$$legacy;return function(m,P){return arguments.length>0?((!i||!P||b||g)&&d(P?v():m),m):v()}}var y=!1,w=(n&th?go:vo)(()=>(y=!1,v()));o&&l(w);var x=Xe;return function(m,P){if(arguments.length>0){const A=P?l(w):i&&o?fn(m):m;return W(w,A),y=!0,a!==void 0&&(a=A),m}return hr&&y||x.f&qn?w.v:l(w)}}function $a(e){Ue===null&&ps(),Ei&&Ue.l!==null?Ng(Ue).m.push(e):et(()=>{const t=Ve(e);if(typeof t=="function")return t})}function bo(e){Ue===null&&ps(),$a(()=>()=>Ve(e))}function Eg(e,t,{bubbles:n=!1,cancelable:r=!1}={}){return new CustomEvent(e,{detail:t,bubbles:n,cancelable:r})}function xs(){const e=Ue;return e===null&&ps(),(t,n,r)=>{var o;const i=(o=e.s.$$events)==null?void 0:o[t];if(i){const s=uo(i)?i.slice():[i],a=Eg(t,n,r);for(const u of s)u.call(e.x,a);return!a.defaultPrevented}return!0}}function Ng(e){var t=e.l;return t.u??(t.u={a:[],b:[],m:[]})}const kg="5";var ju;typeof window<"u"&&((ju=window.__svelte??(window.__svelte={})).v??(ju.v=new Set)).add(kg);var Ig={value:()=>{}};function Es(){for(var e=0,t=arguments.length,n={},r;e<t;++e){if(!(r=arguments[e]+"")||r in n||/[\s.]/.test(r))throw new Error("illegal type: "+r);n[r]=[]}return new Wo(n)}function Wo(e){this._=e}function Sg(e,t){return e.trim().split(/^|\s+/).map(function(n){var r="",i=n.indexOf(".");if(i>=0&&(r=n.slice(i+1),n=n.slice(0,i)),n&&!t.hasOwnProperty(n))throw new Error("unknown type: "+n);return{type:n,name:r}})}Wo.prototype=Es.prototype={constructor:Wo,on:function(e,t){var n=this._,r=Sg(e+"",n),i,o=-1,s=r.length;if(arguments.length<2){for(;++o<s;)if((i=(e=r[o]).type)&&(i=Tg(n[i],e.name)))return i;return}if(t!=null&&typeof t!="function")throw new Error("invalid callback: "+t);for(;++o<s;)if(i=(e=r[o]).type)n[i]=Gl(n[i],e.name,t);else if(t==null)for(i in n)n[i]=Gl(n[i],e.name,null);return this},copy:function(){var e={},t=this._;for(var n in t)e[n]=t[n].slice();return new Wo(e)},call:function(e,t){if((i=arguments.length-2)>0)for(var n=new Array(i),r=0,i,o;r<i;++r)n[r]=arguments[r+2];if(!this._.hasOwnProperty(e))throw new Error("unknown type: "+e);for(o=this._[e],r=0,i=o.length;r<i;++r)o[r].value.apply(t,n)},apply:function(e,t,n){if(!this._.hasOwnProperty(e))throw new Error("unknown type: "+e);for(var r=this._[e],i=0,o=r.length;i<o;++i)r[i].value.apply(t,n)}};function Tg(e,t){for(var n=0,r=e.length,i;n<r;++n)if((i=e[n]).name===t)return i.value}function Gl(e,t,n){for(var r=0,i=e.length;r<i;++r)if(e[r].name===t){e[r]=Ig,e=e.slice(0,r).concat(e.slice(r+1));break}return n!=null&&e.push({name:t,value:n}),e}var xa="http://www.w3.org/1999/xhtml";const Ul={svg:"http://www.w3.org/2000/svg",xhtml:xa,xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/"};function Ns(e){var t=e+="",n=t.indexOf(":");return n>=0&&(t=e.slice(0,n))!=="xmlns"&&(e=e.slice(n+1)),Ul.hasOwnProperty(t)?{space:Ul[t],local:e}:e}function Og(e){return function(){var t=this.ownerDocument,n=this.namespaceURI;return n===xa&&t.documentElement.namespaceURI===xa?t.createElement(e):t.createElementNS(n,e)}}function Cg(e){return function(){return this.ownerDocument.createElementNS(e.space,e.local)}}function $c(e){var t=Ns(e);return(t.local?Cg:Og)(t)}function Ag(){}function el(e){return e==null?Ag:function(){return this.querySelector(e)}}function Mg(e){typeof e!="function"&&(e=el(e));for(var t=this._groups,n=t.length,r=new Array(n),i=0;i<n;++i)for(var o=t[i],s=o.length,a=r[i]=new Array(s),u,c,d=0;d<s;++d)(u=o[d])&&(c=e.call(u,u.__data__,d,o))&&("__data__"in u&&(c.__data__=u.__data__),a[d]=c);return new jt(r,this._parents)}function Pg(e){return e==null?[]:Array.isArray(e)?e:Array.from(e)}function Dg(){return[]}function ed(e){return e==null?Dg:function(){return this.querySelectorAll(e)}}function Rg(e){return function(){return Pg(e.apply(this,arguments))}}function zg(e){typeof e=="function"?e=Rg(e):e=ed(e);for(var t=this._groups,n=t.length,r=[],i=[],o=0;o<n;++o)for(var s=t[o],a=s.length,u,c=0;c<a;++c)(u=s[c])&&(r.push(e.call(u,u.__data__,c,s)),i.push(u));return new jt(r,i)}function td(e){return function(){return this.matches(e)}}function nd(e){return function(t){return t.matches(e)}}var Lg=Array.prototype.find;function Vg(e){return function(){return Lg.call(this.children,e)}}function Fg(){return this.firstElementChild}function Hg(e){return this.select(e==null?Fg:Vg(typeof e=="function"?e:nd(e)))}var Kg=Array.prototype.filter;function Bg(){return Array.from(this.children)}function Wg(e){return function(){return Kg.call(this.children,e)}}function Yg(e){return this.selectAll(e==null?Bg:Wg(typeof e=="function"?e:nd(e)))}function Xg(e){typeof e!="function"&&(e=td(e));for(var t=this._groups,n=t.length,r=new Array(n),i=0;i<n;++i)for(var o=t[i],s=o.length,a=r[i]=[],u,c=0;c<s;++c)(u=o[c])&&e.call(u,u.__data__,c,o)&&a.push(u);return new jt(r,this._parents)}function rd(e){return new Array(e.length)}function jg(){return new jt(this._enter||this._groups.map(rd),this._parents)}function qo(e,t){this.ownerDocument=e.ownerDocument,this.namespaceURI=e.namespaceURI,this._next=null,this._parent=e,this.__data__=t}qo.prototype={constructor:qo,appendChild:function(e){return this._parent.insertBefore(e,this._next)},insertBefore:function(e,t){return this._parent.insertBefore(e,t)},querySelector:function(e){return this._parent.querySelector(e)},querySelectorAll:function(e){return this._parent.querySelectorAll(e)}};function Gg(e){return function(){return e}}function Ug(e,t,n,r,i,o){for(var s=0,a,u=t.length,c=o.length;s<c;++s)(a=t[s])?(a.__data__=o[s],r[s]=a):n[s]=new qo(e,o[s]);for(;s<u;++s)(a=t[s])&&(i[s]=a)}function qg(e,t,n,r,i,o,s){var a,u,c=new Map,d=t.length,h=o.length,f=new Array(d),g;for(a=0;a<d;++a)(u=t[a])&&(f[a]=g=s.call(u,u.__data__,a,t)+"",c.has(g)?i[a]=u:c.set(g,u));for(a=0;a<h;++a)g=s.call(e,o[a],a,o)+"",(u=c.get(g))?(r[a]=u,u.__data__=o[a],c.delete(g)):n[a]=new qo(e,o[a]);for(a=0;a<d;++a)(u=t[a])&&c.get(f[a])===u&&(i[a]=u)}function Zg(e){return e.__data__}function Qg(e,t){if(!arguments.length)return Array.from(this,Zg);var n=t?qg:Ug,r=this._parents,i=this._groups;typeof e!="function"&&(e=Gg(e));for(var o=i.length,s=new Array(o),a=new Array(o),u=new Array(o),c=0;c<o;++c){var d=r[c],h=i[c],f=h.length,g=Jg(e.call(d,d&&d.__data__,c,r)),v=g.length,b=a[c]=new Array(v),y=s[c]=new Array(v),w=u[c]=new Array(f);n(d,h,b,y,w,g,t);for(var x=0,O=0,m,P;x<v;++x)if(m=b[x]){for(x>=O&&(O=x+1);!(P=y[O])&&++O<v;);m._next=P||null}}return s=new jt(s,r),s._enter=a,s._exit=u,s}function Jg(e){return typeof e=="object"&&"length"in e?e:Array.from(e)}function $g(){return new jt(this._exit||this._groups.map(rd),this._parents)}function ev(e,t,n){var r=this.enter(),i=this,o=this.exit();return typeof e=="function"?(r=e(r),r&&(r=r.selection())):r=r.append(e+""),t!=null&&(i=t(i),i&&(i=i.selection())),n==null?o.remove():n(o),r&&i?r.merge(i).order():i}function tv(e){for(var t=e.selection?e.selection():e,n=this._groups,r=t._groups,i=n.length,o=r.length,s=Math.min(i,o),a=new Array(i),u=0;u<s;++u)for(var c=n[u],d=r[u],h=c.length,f=a[u]=new Array(h),g,v=0;v<h;++v)(g=c[v]||d[v])&&(f[v]=g);for(;u<i;++u)a[u]=n[u];return new jt(a,this._parents)}function nv(){for(var e=this._groups,t=-1,n=e.length;++t<n;)for(var r=e[t],i=r.length-1,o=r[i],s;--i>=0;)(s=r[i])&&(o&&s.compareDocumentPosition(o)^4&&o.parentNode.insertBefore(s,o),o=s);return this}function rv(e){e||(e=iv);function t(h,f){return h&&f?e(h.__data__,f.__data__):!h-!f}for(var n=this._groups,r=n.length,i=new Array(r),o=0;o<r;++o){for(var s=n[o],a=s.length,u=i[o]=new Array(a),c,d=0;d<a;++d)(c=s[d])&&(u[d]=c);u.sort(t)}return new jt(i,this._parents).order()}function iv(e,t){return e<t?-1:e>t?1:e>=t?0:NaN}function ov(){var e=arguments[0];return arguments[0]=this,e.apply(null,arguments),this}function sv(){return Array.from(this)}function av(){for(var e=this._groups,t=0,n=e.length;t<n;++t)for(var r=e[t],i=0,o=r.length;i<o;++i){var s=r[i];if(s)return s}return null}function lv(){let e=0;for(const t of this)++e;return e}function uv(){return!this.node()}function cv(e){for(var t=this._groups,n=0,r=t.length;n<r;++n)for(var i=t[n],o=0,s=i.length,a;o<s;++o)(a=i[o])&&e.call(a,a.__data__,o,i);return this}function dv(e){return function(){this.removeAttribute(e)}}function fv(e){return function(){this.removeAttributeNS(e.space,e.local)}}function hv(e,t){return function(){this.setAttribute(e,t)}}function gv(e,t){return function(){this.setAttributeNS(e.space,e.local,t)}}function vv(e,t){return function(){var n=t.apply(this,arguments);n==null?this.removeAttribute(e):this.setAttribute(e,n)}}function pv(e,t){return function(){var n=t.apply(this,arguments);n==null?this.removeAttributeNS(e.space,e.local):this.setAttributeNS(e.space,e.local,n)}}function mv(e,t){var n=Ns(e);if(arguments.length<2){var r=this.node();return n.local?r.getAttributeNS(n.space,n.local):r.getAttribute(n)}return this.each((t==null?n.local?fv:dv:typeof t=="function"?n.local?pv:vv:n.local?gv:hv)(n,t))}function id(e){return e.ownerDocument&&e.ownerDocument.defaultView||e.document&&e||e.defaultView}function yv(e){return function(){this.style.removeProperty(e)}}function bv(e,t,n){return function(){this.style.setProperty(e,t,n)}}function _v(e,t,n){return function(){var r=t.apply(this,arguments);r==null?this.style.removeProperty(e):this.style.setProperty(e,r,n)}}function wv(e,t,n){return arguments.length>1?this.each((t==null?yv:typeof t=="function"?_v:bv)(e,t,n??"")):mi(this.node(),e)}function mi(e,t){return e.style.getPropertyValue(t)||id(e).getComputedStyle(e,null).getPropertyValue(t)}function xv(e){return function(){delete this[e]}}function Ev(e,t){return function(){this[e]=t}}function Nv(e,t){return function(){var n=t.apply(this,arguments);n==null?delete this[e]:this[e]=n}}function kv(e,t){return arguments.length>1?this.each((t==null?xv:typeof t=="function"?Nv:Ev)(e,t)):this.node()[e]}function od(e){return e.trim().split(/^|\s+/)}function tl(e){return e.classList||new sd(e)}function sd(e){this._node=e,this._names=od(e.getAttribute("class")||"")}sd.prototype={add:function(e){var t=this._names.indexOf(e);t<0&&(this._names.push(e),this._node.setAttribute("class",this._names.join(" ")))},remove:function(e){var t=this._names.indexOf(e);t>=0&&(this._names.splice(t,1),this._node.setAttribute("class",this._names.join(" ")))},contains:function(e){return this._names.indexOf(e)>=0}};function ad(e,t){for(var n=tl(e),r=-1,i=t.length;++r<i;)n.add(t[r])}function ld(e,t){for(var n=tl(e),r=-1,i=t.length;++r<i;)n.remove(t[r])}function Iv(e){return function(){ad(this,e)}}function Sv(e){return function(){ld(this,e)}}function Tv(e,t){return function(){(t.apply(this,arguments)?ad:ld)(this,e)}}function Ov(e,t){var n=od(e+"");if(arguments.length<2){for(var r=tl(this.node()),i=-1,o=n.length;++i<o;)if(!r.contains(n[i]))return!1;return!0}return this.each((typeof t=="function"?Tv:t?Iv:Sv)(n,t))}function Cv(){this.textContent=""}function Av(e){return function(){this.textContent=e}}function Mv(e){return function(){var t=e.apply(this,arguments);this.textContent=t??""}}function Pv(e){return arguments.length?this.each(e==null?Cv:(typeof e=="function"?Mv:Av)(e)):this.node().textContent}function Dv(){this.innerHTML=""}function Rv(e){return function(){this.innerHTML=e}}function zv(e){return function(){var t=e.apply(this,arguments);this.innerHTML=t??""}}function Lv(e){return arguments.length?this.each(e==null?Dv:(typeof e=="function"?zv:Rv)(e)):this.node().innerHTML}function Vv(){this.nextSibling&&this.parentNode.appendChild(this)}function Fv(){return this.each(Vv)}function Hv(){this.previousSibling&&this.parentNode.insertBefore(this,this.parentNode.firstChild)}function Kv(){return this.each(Hv)}function Bv(e){var t=typeof e=="function"?e:$c(e);return this.select(function(){return this.appendChild(t.apply(this,arguments))})}function Wv(){return null}function Yv(e,t){var n=typeof e=="function"?e:$c(e),r=t==null?Wv:typeof t=="function"?t:el(t);return this.select(function(){return this.insertBefore(n.apply(this,arguments),r.apply(this,arguments)||null)})}function Xv(){var e=this.parentNode;e&&e.removeChild(this)}function jv(){return this.each(Xv)}function Gv(){var e=this.cloneNode(!1),t=this.parentNode;return t?t.insertBefore(e,this.nextSibling):e}function Uv(){var e=this.cloneNode(!0),t=this.parentNode;return t?t.insertBefore(e,this.nextSibling):e}function qv(e){return this.select(e?Uv:Gv)}function Zv(e){return arguments.length?this.property("__data__",e):this.node().__data__}function Qv(e){return function(t){e.call(this,t,this.__data__)}}function Jv(e){return e.trim().split(/^|\s+/).map(function(t){var n="",r=t.indexOf(".");return r>=0&&(n=t.slice(r+1),t=t.slice(0,r)),{type:t,name:n}})}function $v(e){return function(){var t=this.__on;if(t){for(var n=0,r=-1,i=t.length,o;n<i;++n)o=t[n],(!e.type||o.type===e.type)&&o.name===e.name?this.removeEventListener(o.type,o.listener,o.options):t[++r]=o;++r?t.length=r:delete this.__on}}}function ep(e,t,n){return function(){var r=this.__on,i,o=Qv(t);if(r){for(var s=0,a=r.length;s<a;++s)if((i=r[s]).type===e.type&&i.name===e.name){this.removeEventListener(i.type,i.listener,i.options),this.addEventListener(i.type,i.listener=o,i.options=n),i.value=t;return}}this.addEventListener(e.type,o,n),i={type:e.type,name:e.name,value:t,listener:o,options:n},r?r.push(i):this.__on=[i]}}function tp(e,t,n){var r=Jv(e+""),i,o=r.length,s;if(arguments.length<2){var a=this.node().__on;if(a){for(var u=0,c=a.length,d;u<c;++u)for(i=0,d=a[u];i<o;++i)if((s=r[i]).type===d.type&&s.name===d.name)return d.value}return}for(a=t?ep:$v,i=0;i<o;++i)this.each(a(r[i],t,n));return this}function ud(e,t,n){var r=id(e),i=r.CustomEvent;typeof i=="function"?i=new i(t,n):(i=r.document.createEvent("Event"),n?(i.initEvent(t,n.bubbles,n.cancelable),i.detail=n.detail):i.initEvent(t,!1,!1)),e.dispatchEvent(i)}function np(e,t){return function(){return ud(this,e,t)}}function rp(e,t){return function(){return ud(this,e,t.apply(this,arguments))}}function ip(e,t){return this.each((typeof t=="function"?rp:np)(e,t))}function*op(){for(var e=this._groups,t=0,n=e.length;t<n;++t)for(var r=e[t],i=0,o=r.length,s;i<o;++i)(s=r[i])&&(yield s)}var cd=[null];function jt(e,t){this._groups=e,this._parents=t}function _o(){return new jt([[document.documentElement]],cd)}function sp(){return this}jt.prototype=_o.prototype={constructor:jt,select:Mg,selectAll:zg,selectChild:Hg,selectChildren:Yg,filter:Xg,data:Qg,enter:jg,exit:$g,join:ev,merge:tv,selection:sp,order:nv,sort:rv,call:ov,nodes:sv,node:av,size:lv,empty:uv,each:cv,attr:mv,style:wv,property:kv,classed:Ov,text:Pv,html:Lv,raise:Fv,lower:Kv,append:Bv,insert:Yv,remove:jv,clone:qv,datum:Zv,on:tp,dispatch:ip,[Symbol.iterator]:op};function Jt(e){return typeof e=="string"?new jt([[document.querySelector(e)]],[document.documentElement]):new jt([[e]],cd)}function ap(e){let t;for(;t=e.sourceEvent;)e=t;return e}function xn(e,t){if(e=ap(e),t===void 0&&(t=e.currentTarget),t){var n=t.ownerSVGElement||t;if(n.createSVGPoint){var r=n.createSVGPoint();return r.x=e.clientX,r.y=e.clientY,r=r.matrixTransform(t.getScreenCTM().inverse()),[r.x,r.y]}if(t.getBoundingClientRect){var i=t.getBoundingClientRect();return[e.clientX-i.left-t.clientLeft,e.clientY-i.top-t.clientTop]}}return[e.pageX,e.pageY]}const lp={passive:!1},Gi={capture:!0,passive:!1};function Gs(e){e.stopImmediatePropagation()}function ti(e){e.preventDefault(),e.stopImmediatePropagation()}function dd(e){var t=e.document.documentElement,n=Jt(e).on("dragstart.drag",ti,Gi);"onselectstart"in t?n.on("selectstart.drag",ti,Gi):(t.__noselect=t.style.MozUserSelect,t.style.MozUserSelect="none")}function fd(e,t){var n=e.document.documentElement,r=Jt(e).on("dragstart.drag",null);t&&(r.on("click.drag",ti,Gi),setTimeout(function(){r.on("click.drag",null)},0)),"onselectstart"in n?r.on("selectstart.drag",null):(n.style.MozUserSelect=n.__noselect,delete n.__noselect)}const Mo=e=>()=>e;function Ea(e,{sourceEvent:t,subject:n,target:r,identifier:i,active:o,x:s,y:a,dx:u,dy:c,dispatch:d}){Object.defineProperties(this,{type:{value:e,enumerable:!0,configurable:!0},sourceEvent:{value:t,enumerable:!0,configurable:!0},subject:{value:n,enumerable:!0,configurable:!0},target:{value:r,enumerable:!0,configurable:!0},identifier:{value:i,enumerable:!0,configurable:!0},active:{value:o,enumerable:!0,configurable:!0},x:{value:s,enumerable:!0,configurable:!0},y:{value:a,enumerable:!0,configurable:!0},dx:{value:u,enumerable:!0,configurable:!0},dy:{value:c,enumerable:!0,configurable:!0},_:{value:d}})}Ea.prototype.on=function(){var e=this._.on.apply(this._,arguments);return e===this._?this:e};function up(e){return!e.ctrlKey&&!e.button}function cp(){return this.parentNode}function dp(e,t){return t??{x:e.x,y:e.y}}function fp(){return navigator.maxTouchPoints||"ontouchstart"in this}function hd(){var e=up,t=cp,n=dp,r=fp,i={},o=Es("start","drag","end"),s=0,a,u,c,d,h=0;function f(m){m.on("mousedown.drag",g).filter(r).on("touchstart.drag",y).on("touchmove.drag",w,lp).on("touchend.drag touchcancel.drag",x).style("touch-action","none").style("-webkit-tap-highlight-color","rgba(0,0,0,0)")}function g(m,P){if(!(d||!e.call(this,m,P))){var A=O(this,t.call(this,m,P),m,P,"mouse");A&&(Jt(m.view).on("mousemove.drag",v,Gi).on("mouseup.drag",b,Gi),dd(m.view),Gs(m),c=!1,a=m.clientX,u=m.clientY,A("start",m))}}function v(m){if(ti(m),!c){var P=m.clientX-a,A=m.clientY-u;c=P*P+A*A>h}i.mouse("drag",m)}function b(m){Jt(m.view).on("mousemove.drag mouseup.drag",null),fd(m.view,c),ti(m),i.mouse("end",m)}function y(m,P){if(e.call(this,m,P)){var A=m.changedTouches,I=t.call(this,m,P),k=A.length,H,z;for(H=0;H<k;++H)(z=O(this,I,m,P,A[H].identifier,A[H]))&&(Gs(m),z("start",m,A[H]))}}function w(m){var P=m.changedTouches,A=P.length,I,k;for(I=0;I<A;++I)(k=i[P[I].identifier])&&(ti(m),k("drag",m,P[I]))}function x(m){var P=m.changedTouches,A=P.length,I,k;for(d&&clearTimeout(d),d=setTimeout(function(){d=null},500),I=0;I<A;++I)(k=i[P[I].identifier])&&(Gs(m),k("end",m,P[I]))}function O(m,P,A,I,k,H){var z=o.copy(),E=xn(H||A,P),_,N,p;if((p=n.call(m,new Ea("beforestart",{sourceEvent:A,target:f,identifier:k,active:s,x:E[0],y:E[1],dx:0,dy:0,dispatch:z}),I))!=null)return _=p.x-E[0]||0,N=p.y-E[1]||0,function T(S,M,V){var K=E,X;switch(S){case"start":i[k]=T,X=s++;break;case"end":delete i[k],--s;case"drag":E=xn(V||M,P),X=s;break}z.call(S,m,new Ea(S,{sourceEvent:M,subject:p,target:f,identifier:k,active:X,x:E[0]+_,y:E[1]+N,dx:E[0]-K[0],dy:E[1]-K[1],dispatch:z}),I)}}return f.filter=function(m){return arguments.length?(e=typeof m=="function"?m:Mo(!!m),f):e},f.container=function(m){return arguments.length?(t=typeof m=="function"?m:Mo(m),f):t},f.subject=function(m){return arguments.length?(n=typeof m=="function"?m:Mo(m),f):n},f.touchable=function(m){return arguments.length?(r=typeof m=="function"?m:Mo(!!m),f):r},f.on=function(){var m=o.on.apply(o,arguments);return m===o?f:m},f.clickDistance=function(m){return arguments.length?(h=(m=+m)*m,f):Math.sqrt(h)},f}function nl(e,t,n){e.prototype=t.prototype=n,n.constructor=e}function gd(e,t){var n=Object.create(e.prototype);for(var r in t)n[r]=t[r];return n}function wo(){}var Ui=.7,Zo=1/Ui,ni="\\s*([+-]?\\d+)\\s*",qi="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)\\s*",An="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*",hp=/^#([0-9a-f]{3,8})$/,gp=new RegExp(`^rgb\\(${ni},${ni},${ni}\\)$`),vp=new RegExp(`^rgb\\(${An},${An},${An}\\)$`),pp=new RegExp(`^rgba\\(${ni},${ni},${ni},${qi}\\)$`),mp=new RegExp(`^rgba\\(${An},${An},${An},${qi}\\)$`),yp=new RegExp(`^hsl\\(${qi},${An},${An}\\)$`),bp=new RegExp(`^hsla\\(${qi},${An},${An},${qi}\\)$`),ql={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};nl(wo,zr,{copy(e){return Object.assign(new this.constructor,this,e)},displayable(){return this.rgb().displayable()},hex:Zl,formatHex:Zl,formatHex8:_p,formatHsl:wp,formatRgb:Ql,toString:Ql});function Zl(){return this.rgb().formatHex()}function _p(){return this.rgb().formatHex8()}function wp(){return vd(this).formatHsl()}function Ql(){return this.rgb().formatRgb()}function zr(e){var t,n;return e=(e+"").trim().toLowerCase(),(t=hp.exec(e))?(n=t[1].length,t=parseInt(t[1],16),n===6?Jl(t):n===3?new Kt(t>>8&15|t>>4&240,t>>4&15|t&240,(t&15)<<4|t&15,1):n===8?Po(t>>24&255,t>>16&255,t>>8&255,(t&255)/255):n===4?Po(t>>12&15|t>>8&240,t>>8&15|t>>4&240,t>>4&15|t&240,((t&15)<<4|t&15)/255):null):(t=gp.exec(e))?new Kt(t[1],t[2],t[3],1):(t=vp.exec(e))?new Kt(t[1]*255/100,t[2]*255/100,t[3]*255/100,1):(t=pp.exec(e))?Po(t[1],t[2],t[3],t[4]):(t=mp.exec(e))?Po(t[1]*255/100,t[2]*255/100,t[3]*255/100,t[4]):(t=yp.exec(e))?tu(t[1],t[2]/100,t[3]/100,1):(t=bp.exec(e))?tu(t[1],t[2]/100,t[3]/100,t[4]):ql.hasOwnProperty(e)?Jl(ql[e]):e==="transparent"?new Kt(NaN,NaN,NaN,0):null}function Jl(e){return new Kt(e>>16&255,e>>8&255,e&255,1)}function Po(e,t,n,r){return r<=0&&(e=t=n=NaN),new Kt(e,t,n,r)}function xp(e){return e instanceof wo||(e=zr(e)),e?(e=e.rgb(),new Kt(e.r,e.g,e.b,e.opacity)):new Kt}function Na(e,t,n,r){return arguments.length===1?xp(e):new Kt(e,t,n,r??1)}function Kt(e,t,n,r){this.r=+e,this.g=+t,this.b=+n,this.opacity=+r}nl(Kt,Na,gd(wo,{brighter(e){return e=e==null?Zo:Math.pow(Zo,e),new Kt(this.r*e,this.g*e,this.b*e,this.opacity)},darker(e){return e=e==null?Ui:Math.pow(Ui,e),new Kt(this.r*e,this.g*e,this.b*e,this.opacity)},rgb(){return this},clamp(){return new Kt(Mr(this.r),Mr(this.g),Mr(this.b),Qo(this.opacity))},displayable(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:$l,formatHex:$l,formatHex8:Ep,formatRgb:eu,toString:eu}));function $l(){return`#${Er(this.r)}${Er(this.g)}${Er(this.b)}`}function Ep(){return`#${Er(this.r)}${Er(this.g)}${Er(this.b)}${Er((isNaN(this.opacity)?1:this.opacity)*255)}`}function eu(){const e=Qo(this.opacity);return`${e===1?"rgb(":"rgba("}${Mr(this.r)}, ${Mr(this.g)}, ${Mr(this.b)}${e===1?")":`, ${e})`}`}function Qo(e){return isNaN(e)?1:Math.max(0,Math.min(1,e))}function Mr(e){return Math.max(0,Math.min(255,Math.round(e)||0))}function Er(e){return e=Mr(e),(e<16?"0":"")+e.toString(16)}function tu(e,t,n,r){return r<=0?e=t=n=NaN:n<=0||n>=1?e=t=NaN:t<=0&&(e=NaN),new cn(e,t,n,r)}function vd(e){if(e instanceof cn)return new cn(e.h,e.s,e.l,e.opacity);if(e instanceof wo||(e=zr(e)),!e)return new cn;if(e instanceof cn)return e;e=e.rgb();var t=e.r/255,n=e.g/255,r=e.b/255,i=Math.min(t,n,r),o=Math.max(t,n,r),s=NaN,a=o-i,u=(o+i)/2;return a?(t===o?s=(n-r)/a+(n<r)*6:n===o?s=(r-t)/a+2:s=(t-n)/a+4,a/=u<.5?o+i:2-o-i,s*=60):a=u>0&&u<1?0:s,new cn(s,a,u,e.opacity)}function Np(e,t,n,r){return arguments.length===1?vd(e):new cn(e,t,n,r??1)}function cn(e,t,n,r){this.h=+e,this.s=+t,this.l=+n,this.opacity=+r}nl(cn,Np,gd(wo,{brighter(e){return e=e==null?Zo:Math.pow(Zo,e),new cn(this.h,this.s,this.l*e,this.opacity)},darker(e){return e=e==null?Ui:Math.pow(Ui,e),new cn(this.h,this.s,this.l*e,this.opacity)},rgb(){var e=this.h%360+(this.h<0)*360,t=isNaN(e)||isNaN(this.s)?0:this.s,n=this.l,r=n+(n<.5?n:1-n)*t,i=2*n-r;return new Kt(Us(e>=240?e-240:e+120,i,r),Us(e,i,r),Us(e<120?e+240:e-120,i,r),this.opacity)},clamp(){return new cn(nu(this.h),Do(this.s),Do(this.l),Qo(this.opacity))},displayable(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl(){const e=Qo(this.opacity);return`${e===1?"hsl(":"hsla("}${nu(this.h)}, ${Do(this.s)*100}%, ${Do(this.l)*100}%${e===1?")":`, ${e})`}`}}));function nu(e){return e=(e||0)%360,e<0?e+360:e}function Do(e){return Math.max(0,Math.min(1,e||0))}function Us(e,t,n){return(e<60?t+(n-t)*e/60:e<180?n:e<240?t+(n-t)*(240-e)/60:t)*255}const rl=e=>()=>e;function kp(e,t){return function(n){return e+n*t}}function Ip(e,t,n){return e=Math.pow(e,n),t=Math.pow(t,n)-e,n=1/n,function(r){return Math.pow(e+r*t,n)}}function Sp(e){return(e=+e)==1?pd:function(t,n){return n-t?Ip(t,n,e):rl(isNaN(t)?n:t)}}function pd(e,t){var n=t-e;return n?kp(e,n):rl(isNaN(e)?t:e)}const Jo=function e(t){var n=Sp(t);function r(i,o){var s=n((i=Na(i)).r,(o=Na(o)).r),a=n(i.g,o.g),u=n(i.b,o.b),c=pd(i.opacity,o.opacity);return function(d){return i.r=s(d),i.g=a(d),i.b=u(d),i.opacity=c(d),i+""}}return r.gamma=e,r}(1);function Tp(e,t){t||(t=[]);var n=e?Math.min(t.length,e.length):0,r=t.slice(),i;return function(o){for(i=0;i<n;++i)r[i]=e[i]*(1-o)+t[i]*o;return r}}function Op(e){return ArrayBuffer.isView(e)&&!(e instanceof DataView)}function Cp(e,t){var n=t?t.length:0,r=e?Math.min(n,e.length):0,i=new Array(r),o=new Array(n),s;for(s=0;s<r;++s)i[s]=Wi(e[s],t[s]);for(;s<n;++s)o[s]=t[s];return function(a){for(s=0;s<r;++s)o[s]=i[s](a);return o}}function Ap(e,t){var n=new Date;return e=+e,t=+t,function(r){return n.setTime(e*(1-r)+t*r),n}}function Sn(e,t){return e=+e,t=+t,function(n){return e*(1-n)+t*n}}function Mp(e,t){var n={},r={},i;(e===null||typeof e!="object")&&(e={}),(t===null||typeof t!="object")&&(t={});for(i in t)i in e?n[i]=Wi(e[i],t[i]):r[i]=t[i];return function(o){for(i in n)r[i]=n[i](o);return r}}var ka=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,qs=new RegExp(ka.source,"g");function Pp(e){return function(){return e}}function Dp(e){return function(t){return e(t)+""}}function md(e,t){var n=ka.lastIndex=qs.lastIndex=0,r,i,o,s=-1,a=[],u=[];for(e=e+"",t=t+"";(r=ka.exec(e))&&(i=qs.exec(t));)(o=i.index)>n&&(o=t.slice(n,o),a[s]?a[s]+=o:a[++s]=o),(r=r[0])===(i=i[0])?a[s]?a[s]+=i:a[++s]=i:(a[++s]=null,u.push({i:s,x:Sn(r,i)})),n=qs.lastIndex;return n<t.length&&(o=t.slice(n),a[s]?a[s]+=o:a[++s]=o),a.length<2?u[0]?Dp(u[0].x):Pp(t):(t=u.length,function(c){for(var d=0,h;d<t;++d)a[(h=u[d]).i]=h.x(c);return a.join("")})}function Wi(e,t){var n=typeof t,r;return t==null||n==="boolean"?rl(t):(n==="number"?Sn:n==="string"?(r=zr(t))?(t=r,Jo):md:t instanceof zr?Jo:t instanceof Date?Ap:Op(t)?Tp:Array.isArray(t)?Cp:typeof t.valueOf!="function"&&typeof t.toString!="function"||isNaN(t)?Mp:Sn)(e,t)}var ru=180/Math.PI,Ia={translateX:0,translateY:0,rotate:0,skewX:0,scaleX:1,scaleY:1};function yd(e,t,n,r,i,o){var s,a,u;return(s=Math.sqrt(e*e+t*t))&&(e/=s,t/=s),(u=e*n+t*r)&&(n-=e*u,r-=t*u),(a=Math.sqrt(n*n+r*r))&&(n/=a,r/=a,u/=a),e*r<t*n&&(e=-e,t=-t,u=-u,s=-s),{translateX:i,translateY:o,rotate:Math.atan2(t,e)*ru,skewX:Math.atan(u)*ru,scaleX:s,scaleY:a}}var Ro;function Rp(e){const t=new(typeof DOMMatrix=="function"?DOMMatrix:WebKitCSSMatrix)(e+"");return t.isIdentity?Ia:yd(t.a,t.b,t.c,t.d,t.e,t.f)}function zp(e){return e==null||(Ro||(Ro=document.createElementNS("http://www.w3.org/2000/svg","g")),Ro.setAttribute("transform",e),!(e=Ro.transform.baseVal.consolidate()))?Ia:(e=e.matrix,yd(e.a,e.b,e.c,e.d,e.e,e.f))}function bd(e,t,n,r){function i(c){return c.length?c.pop()+" ":""}function o(c,d,h,f,g,v){if(c!==h||d!==f){var b=g.push("translate(",null,t,null,n);v.push({i:b-4,x:Sn(c,h)},{i:b-2,x:Sn(d,f)})}else(h||f)&&g.push("translate("+h+t+f+n)}function s(c,d,h,f){c!==d?(c-d>180?d+=360:d-c>180&&(c+=360),f.push({i:h.push(i(h)+"rotate(",null,r)-2,x:Sn(c,d)})):d&&h.push(i(h)+"rotate("+d+r)}function a(c,d,h,f){c!==d?f.push({i:h.push(i(h)+"skewX(",null,r)-2,x:Sn(c,d)}):d&&h.push(i(h)+"skewX("+d+r)}function u(c,d,h,f,g,v){if(c!==h||d!==f){var b=g.push(i(g)+"scale(",null,",",null,")");v.push({i:b-4,x:Sn(c,h)},{i:b-2,x:Sn(d,f)})}else(h!==1||f!==1)&&g.push(i(g)+"scale("+h+","+f+")")}return function(c,d){var h=[],f=[];return c=e(c),d=e(d),o(c.translateX,c.translateY,d.translateX,d.translateY,h,f),s(c.rotate,d.rotate,h,f),a(c.skewX,d.skewX,h,f),u(c.scaleX,c.scaleY,d.scaleX,d.scaleY,h,f),c=d=null,function(g){for(var v=-1,b=f.length,y;++v<b;)h[(y=f[v]).i]=y.x(g);return h.join("")}}}var Lp=bd(Rp,"px, ","px)","deg)"),Vp=bd(zp,", ",")",")"),Fp=1e-12;function iu(e){return((e=Math.exp(e))+1/e)/2}function Hp(e){return((e=Math.exp(e))-1/e)/2}function Kp(e){return((e=Math.exp(2*e))-1)/(e+1)}const Yo=function e(t,n,r){function i(o,s){var a=o[0],u=o[1],c=o[2],d=s[0],h=s[1],f=s[2],g=d-a,v=h-u,b=g*g+v*v,y,w;if(b<Fp)w=Math.log(f/c)/t,y=function(I){return[a+I*g,u+I*v,c*Math.exp(t*I*w)]};else{var x=Math.sqrt(b),O=(f*f-c*c+r*b)/(2*c*n*x),m=(f*f-c*c-r*b)/(2*f*n*x),P=Math.log(Math.sqrt(O*O+1)-O),A=Math.log(Math.sqrt(m*m+1)-m);w=(A-P)/t,y=function(I){var k=I*w,H=iu(P),z=c/(n*x)*(H*Kp(t*k+P)-Hp(P));return[a+z*g,u+z*v,c*H/iu(t*k+P)]}}return y.duration=w*1e3*t/Math.SQRT2,y}return i.rho=function(o){var s=Math.max(.001,+o),a=s*s,u=a*a;return e(s,a,u)},i}(Math.SQRT2,2,4);var yi=0,Vi=0,Ri=0,_d=1e3,$o,Fi,es=0,Lr=0,ks=0,Zi=typeof performance=="object"&&performance.now?performance:Date,wd=typeof window=="object"&&window.requestAnimationFrame?window.requestAnimationFrame.bind(window):function(e){setTimeout(e,17)};function il(){return Lr||(wd(Bp),Lr=Zi.now()+ks)}function Bp(){Lr=0}function ts(){this._call=this._time=this._next=null}ts.prototype=xd.prototype={constructor:ts,restart:function(e,t,n){if(typeof e!="function")throw new TypeError("callback is not a function");n=(n==null?il():+n)+(t==null?0:+t),!this._next&&Fi!==this&&(Fi?Fi._next=this:$o=this,Fi=this),this._call=e,this._time=n,Sa()},stop:function(){this._call&&(this._call=null,this._time=1/0,Sa())}};function xd(e,t,n){var r=new ts;return r.restart(e,t,n),r}function Wp(){il(),++yi;for(var e=$o,t;e;)(t=Lr-e._time)>=0&&e._call.call(void 0,t),e=e._next;--yi}function ou(){Lr=(es=Zi.now())+ks,yi=Vi=0;try{Wp()}finally{yi=0,Xp(),Lr=0}}function Yp(){var e=Zi.now(),t=e-es;t>_d&&(ks-=t,es=e)}function Xp(){for(var e,t=$o,n,r=1/0;t;)t._call?(r>t._time&&(r=t._time),e=t,t=t._next):(n=t._next,t._next=null,t=e?e._next=n:$o=n);Fi=e,Sa(r)}function Sa(e){if(!yi){Vi&&(Vi=clearTimeout(Vi));var t=e-Lr;t>24?(e<1/0&&(Vi=setTimeout(ou,e-Zi.now()-ks)),Ri&&(Ri=clearInterval(Ri))):(Ri||(es=Zi.now(),Ri=setInterval(Yp,_d)),yi=1,wd(ou))}}function su(e,t,n){var r=new ts;return t=t==null?0:+t,r.restart(i=>{r.stop(),e(i+t)},t,n),r}var jp=Es("start","end","cancel","interrupt"),Gp=[],Ed=0,au=1,Ta=2,Xo=3,lu=4,Oa=5,jo=6;function Is(e,t,n,r,i,o){var s=e.__transition;if(!s)e.__transition={};else if(n in s)return;Up(e,n,{name:t,index:r,group:i,on:jp,tween:Gp,time:o.time,delay:o.delay,duration:o.duration,ease:o.ease,timer:null,state:Ed})}function ol(e,t){var n=yn(e,t);if(n.state>Ed)throw new Error("too late; already scheduled");return n}function Ln(e,t){var n=yn(e,t);if(n.state>Xo)throw new Error("too late; already running");return n}function yn(e,t){var n=e.__transition;if(!n||!(n=n[t]))throw new Error("transition not found");return n}function Up(e,t,n){var r=e.__transition,i;r[t]=n,n.timer=xd(o,0,n.time);function o(c){n.state=au,n.timer.restart(s,n.delay,n.time),n.delay<=c&&s(c-n.delay)}function s(c){var d,h,f,g;if(n.state!==au)return u();for(d in r)if(g=r[d],g.name===n.name){if(g.state===Xo)return su(s);g.state===lu?(g.state=jo,g.timer.stop(),g.on.call("interrupt",e,e.__data__,g.index,g.group),delete r[d]):+d<t&&(g.state=jo,g.timer.stop(),g.on.call("cancel",e,e.__data__,g.index,g.group),delete r[d])}if(su(function(){n.state===Xo&&(n.state=lu,n.timer.restart(a,n.delay,n.time),a(c))}),n.state=Ta,n.on.call("start",e,e.__data__,n.index,n.group),n.state===Ta){for(n.state=Xo,i=new Array(f=n.tween.length),d=0,h=-1;d<f;++d)(g=n.tween[d].value.call(e,e.__data__,n.index,n.group))&&(i[++h]=g);i.length=h+1}}function a(c){for(var d=c<n.duration?n.ease.call(null,c/n.duration):(n.timer.restart(u),n.state=Oa,1),h=-1,f=i.length;++h<f;)i[h].call(e,d);n.state===Oa&&(n.on.call("end",e,e.__data__,n.index,n.group),u())}function u(){n.state=jo,n.timer.stop(),delete r[t];for(var c in r)return;delete e.__transition}}function Go(e,t){var n=e.__transition,r,i,o=!0,s;if(n){t=t==null?null:t+"";for(s in n){if((r=n[s]).name!==t){o=!1;continue}i=r.state>Ta&&r.state<Oa,r.state=jo,r.timer.stop(),r.on.call(i?"interrupt":"cancel",e,e.__data__,r.index,r.group),delete n[s]}o&&delete e.__transition}}function qp(e){return this.each(function(){Go(this,e)})}function Zp(e,t){var n,r;return function(){var i=Ln(this,e),o=i.tween;if(o!==n){r=n=o;for(var s=0,a=r.length;s<a;++s)if(r[s].name===t){r=r.slice(),r.splice(s,1);break}}i.tween=r}}function Qp(e,t,n){var r,i;if(typeof n!="function")throw new Error;return function(){var o=Ln(this,e),s=o.tween;if(s!==r){i=(r=s).slice();for(var a={name:t,value:n},u=0,c=i.length;u<c;++u)if(i[u].name===t){i[u]=a;break}u===c&&i.push(a)}o.tween=i}}function Jp(e,t){var n=this._id;if(e+="",arguments.length<2){for(var r=yn(this.node(),n).tween,i=0,o=r.length,s;i<o;++i)if((s=r[i]).name===e)return s.value;return null}return this.each((t==null?Zp:Qp)(n,e,t))}function sl(e,t,n){var r=e._id;return e.each(function(){var i=Ln(this,r);(i.value||(i.value={}))[t]=n.apply(this,arguments)}),function(i){return yn(i,r).value[t]}}function Nd(e,t){var n;return(typeof t=="number"?Sn:t instanceof zr?Jo:(n=zr(t))?(t=n,Jo):md)(e,t)}function $p(e){return function(){this.removeAttribute(e)}}function em(e){return function(){this.removeAttributeNS(e.space,e.local)}}function tm(e,t,n){var r,i=n+"",o;return function(){var s=this.getAttribute(e);return s===i?null:s===r?o:o=t(r=s,n)}}function nm(e,t,n){var r,i=n+"",o;return function(){var s=this.getAttributeNS(e.space,e.local);return s===i?null:s===r?o:o=t(r=s,n)}}function rm(e,t,n){var r,i,o;return function(){var s,a=n(this),u;return a==null?void this.removeAttribute(e):(s=this.getAttribute(e),u=a+"",s===u?null:s===r&&u===i?o:(i=u,o=t(r=s,a)))}}function im(e,t,n){var r,i,o;return function(){var s,a=n(this),u;return a==null?void this.removeAttributeNS(e.space,e.local):(s=this.getAttributeNS(e.space,e.local),u=a+"",s===u?null:s===r&&u===i?o:(i=u,o=t(r=s,a)))}}function om(e,t){var n=Ns(e),r=n==="transform"?Vp:Nd;return this.attrTween(e,typeof t=="function"?(n.local?im:rm)(n,r,sl(this,"attr."+e,t)):t==null?(n.local?em:$p)(n):(n.local?nm:tm)(n,r,t))}function sm(e,t){return function(n){this.setAttribute(e,t.call(this,n))}}function am(e,t){return function(n){this.setAttributeNS(e.space,e.local,t.call(this,n))}}function lm(e,t){var n,r;function i(){var o=t.apply(this,arguments);return o!==r&&(n=(r=o)&&am(e,o)),n}return i._value=t,i}function um(e,t){var n,r;function i(){var o=t.apply(this,arguments);return o!==r&&(n=(r=o)&&sm(e,o)),n}return i._value=t,i}function cm(e,t){var n="attr."+e;if(arguments.length<2)return(n=this.tween(n))&&n._value;if(t==null)return this.tween(n,null);if(typeof t!="function")throw new Error;var r=Ns(e);return this.tween(n,(r.local?lm:um)(r,t))}function dm(e,t){return function(){ol(this,e).delay=+t.apply(this,arguments)}}function fm(e,t){return t=+t,function(){ol(this,e).delay=t}}function hm(e){var t=this._id;return arguments.length?this.each((typeof e=="function"?dm:fm)(t,e)):yn(this.node(),t).delay}function gm(e,t){return function(){Ln(this,e).duration=+t.apply(this,arguments)}}function vm(e,t){return t=+t,function(){Ln(this,e).duration=t}}function pm(e){var t=this._id;return arguments.length?this.each((typeof e=="function"?gm:vm)(t,e)):yn(this.node(),t).duration}function mm(e,t){if(typeof t!="function")throw new Error;return function(){Ln(this,e).ease=t}}function ym(e){var t=this._id;return arguments.length?this.each(mm(t,e)):yn(this.node(),t).ease}function bm(e,t){return function(){var n=t.apply(this,arguments);if(typeof n!="function")throw new Error;Ln(this,e).ease=n}}function _m(e){if(typeof e!="function")throw new Error;return this.each(bm(this._id,e))}function wm(e){typeof e!="function"&&(e=td(e));for(var t=this._groups,n=t.length,r=new Array(n),i=0;i<n;++i)for(var o=t[i],s=o.length,a=r[i]=[],u,c=0;c<s;++c)(u=o[c])&&e.call(u,u.__data__,c,o)&&a.push(u);return new Jn(r,this._parents,this._name,this._id)}function xm(e){if(e._id!==this._id)throw new Error;for(var t=this._groups,n=e._groups,r=t.length,i=n.length,o=Math.min(r,i),s=new Array(r),a=0;a<o;++a)for(var u=t[a],c=n[a],d=u.length,h=s[a]=new Array(d),f,g=0;g<d;++g)(f=u[g]||c[g])&&(h[g]=f);for(;a<r;++a)s[a]=t[a];return new Jn(s,this._parents,this._name,this._id)}function Em(e){return(e+"").trim().split(/^|\s+/).every(function(t){var n=t.indexOf(".");return n>=0&&(t=t.slice(0,n)),!t||t==="start"})}function Nm(e,t,n){var r,i,o=Em(t)?ol:Ln;return function(){var s=o(this,e),a=s.on;a!==r&&(i=(r=a).copy()).on(t,n),s.on=i}}function km(e,t){var n=this._id;return arguments.length<2?yn(this.node(),n).on.on(e):this.each(Nm(n,e,t))}function Im(e){return function(){var t=this.parentNode;for(var n in this.__transition)if(+n!==e)return;t&&t.removeChild(this)}}function Sm(){return this.on("end.remove",Im(this._id))}function Tm(e){var t=this._name,n=this._id;typeof e!="function"&&(e=el(e));for(var r=this._groups,i=r.length,o=new Array(i),s=0;s<i;++s)for(var a=r[s],u=a.length,c=o[s]=new Array(u),d,h,f=0;f<u;++f)(d=a[f])&&(h=e.call(d,d.__data__,f,a))&&("__data__"in d&&(h.__data__=d.__data__),c[f]=h,Is(c[f],t,n,f,c,yn(d,n)));return new Jn(o,this._parents,t,n)}function Om(e){var t=this._name,n=this._id;typeof e!="function"&&(e=ed(e));for(var r=this._groups,i=r.length,o=[],s=[],a=0;a<i;++a)for(var u=r[a],c=u.length,d,h=0;h<c;++h)if(d=u[h]){for(var f=e.call(d,d.__data__,h,u),g,v=yn(d,n),b=0,y=f.length;b<y;++b)(g=f[b])&&Is(g,t,n,b,f,v);o.push(f),s.push(d)}return new Jn(o,s,t,n)}var Cm=_o.prototype.constructor;function Am(){return new Cm(this._groups,this._parents)}function Mm(e,t){var n,r,i;return function(){var o=mi(this,e),s=(this.style.removeProperty(e),mi(this,e));return o===s?null:o===n&&s===r?i:i=t(n=o,r=s)}}function kd(e){return function(){this.style.removeProperty(e)}}function Pm(e,t,n){var r,i=n+"",o;return function(){var s=mi(this,e);return s===i?null:s===r?o:o=t(r=s,n)}}function Dm(e,t,n){var r,i,o;return function(){var s=mi(this,e),a=n(this),u=a+"";return a==null&&(u=a=(this.style.removeProperty(e),mi(this,e))),s===u?null:s===r&&u===i?o:(i=u,o=t(r=s,a))}}function Rm(e,t){var n,r,i,o="style."+t,s="end."+o,a;return function(){var u=Ln(this,e),c=u.on,d=u.value[o]==null?a||(a=kd(t)):void 0;(c!==n||i!==d)&&(r=(n=c).copy()).on(s,i=d),u.on=r}}function zm(e,t,n){var r=(e+="")=="transform"?Lp:Nd;return t==null?this.styleTween(e,Mm(e,r)).on("end.style."+e,kd(e)):typeof t=="function"?this.styleTween(e,Dm(e,r,sl(this,"style."+e,t))).each(Rm(this._id,e)):this.styleTween(e,Pm(e,r,t),n).on("end.style."+e,null)}function Lm(e,t,n){return function(r){this.style.setProperty(e,t.call(this,r),n)}}function Vm(e,t,n){var r,i;function o(){var s=t.apply(this,arguments);return s!==i&&(r=(i=s)&&Lm(e,s,n)),r}return o._value=t,o}function Fm(e,t,n){var r="style."+(e+="");if(arguments.length<2)return(r=this.tween(r))&&r._value;if(t==null)return this.tween(r,null);if(typeof t!="function")throw new Error;return this.tween(r,Vm(e,t,n??""))}function Hm(e){return function(){this.textContent=e}}function Km(e){return function(){var t=e(this);this.textContent=t??""}}function Bm(e){return this.tween("text",typeof e=="function"?Km(sl(this,"text",e)):Hm(e==null?"":e+""))}function Wm(e){return function(t){this.textContent=e.call(this,t)}}function Ym(e){var t,n;function r(){var i=e.apply(this,arguments);return i!==n&&(t=(n=i)&&Wm(i)),t}return r._value=e,r}function Xm(e){var t="text";if(arguments.length<1)return(t=this.tween(t))&&t._value;if(e==null)return this.tween(t,null);if(typeof e!="function")throw new Error;return this.tween(t,Ym(e))}function jm(){for(var e=this._name,t=this._id,n=Id(),r=this._groups,i=r.length,o=0;o<i;++o)for(var s=r[o],a=s.length,u,c=0;c<a;++c)if(u=s[c]){var d=yn(u,t);Is(u,e,n,c,s,{time:d.time+d.delay+d.duration,delay:0,duration:d.duration,ease:d.ease})}return new Jn(r,this._parents,e,n)}function Gm(){var e,t,n=this,r=n._id,i=n.size();return new Promise(function(o,s){var a={value:s},u={value:function(){--i===0&&o()}};n.each(function(){var c=Ln(this,r),d=c.on;d!==e&&(t=(e=d).copy(),t._.cancel.push(a),t._.interrupt.push(a),t._.end.push(u)),c.on=t}),i===0&&o()})}var Um=0;function Jn(e,t,n,r){this._groups=e,this._parents=t,this._name=n,this._id=r}function Id(){return++Um}var Fn=_o.prototype;Jn.prototype={constructor:Jn,select:Tm,selectAll:Om,selectChild:Fn.selectChild,selectChildren:Fn.selectChildren,filter:wm,merge:xm,selection:Am,transition:jm,call:Fn.call,nodes:Fn.nodes,node:Fn.node,size:Fn.size,empty:Fn.empty,each:Fn.each,on:km,attr:om,attrTween:cm,style:zm,styleTween:Fm,text:Bm,textTween:Xm,remove:Sm,tween:Jp,delay:hm,duration:pm,ease:ym,easeVarying:_m,end:Gm,[Symbol.iterator]:Fn[Symbol.iterator]};function qm(e){return((e*=2)<=1?e*e*e:(e-=2)*e*e+2)/2}var Zm={time:null,delay:0,duration:250,ease:qm};function Qm(e,t){for(var n;!(n=e.__transition)||!(n=n[t]);)if(!(e=e.parentNode))throw new Error(`transition ${t} not found`);return n}function Jm(e){var t,n;e instanceof Jn?(t=e._id,e=e._name):(t=Id(),(n=Zm).time=il(),e=e==null?null:e+"");for(var r=this._groups,i=r.length,o=0;o<i;++o)for(var s=r[o],a=s.length,u,c=0;c<a;++c)(u=s[c])&&Is(u,e,t,c,s,n||Qm(u,t));return new Jn(r,this._parents,e,t)}_o.prototype.interrupt=qp;_o.prototype.transition=Jm;const zo=e=>()=>e;function $m(e,{sourceEvent:t,target:n,transform:r,dispatch:i}){Object.defineProperties(this,{type:{value:e,enumerable:!0,configurable:!0},sourceEvent:{value:t,enumerable:!0,configurable:!0},target:{value:n,enumerable:!0,configurable:!0},transform:{value:r,enumerable:!0,configurable:!0},_:{value:i}})}function jn(e,t,n){this.k=e,this.x=t,this.y=n}jn.prototype={constructor:jn,scale:function(e){return e===1?this:new jn(this.k*e,this.x,this.y)},translate:function(e,t){return e===0&t===0?this:new jn(this.k,this.x+this.k*e,this.y+this.k*t)},apply:function(e){return[e[0]*this.k+this.x,e[1]*this.k+this.y]},applyX:function(e){return e*this.k+this.x},applyY:function(e){return e*this.k+this.y},invert:function(e){return[(e[0]-this.x)/this.k,(e[1]-this.y)/this.k]},invertX:function(e){return(e-this.x)/this.k},invertY:function(e){return(e-this.y)/this.k},rescaleX:function(e){return e.copy().domain(e.range().map(this.invertX,this).map(e.invert,e))},rescaleY:function(e){return e.copy().domain(e.range().map(this.invertY,this).map(e.invert,e))},toString:function(){return"translate("+this.x+","+this.y+") scale("+this.k+")"}};var Ss=new jn(1,0,0);Sd.prototype=jn.prototype;function Sd(e){for(;!e.__zoom;)if(!(e=e.parentNode))return Ss;return e.__zoom}function Zs(e){e.stopImmediatePropagation()}function zi(e){e.preventDefault(),e.stopImmediatePropagation()}function ey(e){return(!e.ctrlKey||e.type==="wheel")&&!e.button}function ty(){var e=this;return e instanceof SVGElement?(e=e.ownerSVGElement||e,e.hasAttribute("viewBox")?(e=e.viewBox.baseVal,[[e.x,e.y],[e.x+e.width,e.y+e.height]]):[[0,0],[e.width.baseVal.value,e.height.baseVal.value]]):[[0,0],[e.clientWidth,e.clientHeight]]}function uu(){return this.__zoom||Ss}function ny(e){return-e.deltaY*(e.deltaMode===1?.05:e.deltaMode?1:.002)*(e.ctrlKey?10:1)}function ry(){return navigator.maxTouchPoints||"ontouchstart"in this}function iy(e,t,n){var r=e.invertX(t[0][0])-n[0][0],i=e.invertX(t[1][0])-n[1][0],o=e.invertY(t[0][1])-n[0][1],s=e.invertY(t[1][1])-n[1][1];return e.translate(i>r?(r+i)/2:Math.min(0,r)||Math.max(0,i),s>o?(o+s)/2:Math.min(0,o)||Math.max(0,s))}function oy(){var e=ey,t=ty,n=iy,r=ny,i=ry,o=[0,1/0],s=[[-1/0,-1/0],[1/0,1/0]],a=250,u=Yo,c=Es("start","zoom","end"),d,h,f,g=500,v=150,b=0,y=10;function w(p){p.property("__zoom",uu).on("wheel.zoom",k,{passive:!1}).on("mousedown.zoom",H).on("dblclick.zoom",z).filter(i).on("touchstart.zoom",E).on("touchmove.zoom",_).on("touchend.zoom touchcancel.zoom",N).style("-webkit-tap-highlight-color","rgba(0,0,0,0)")}w.transform=function(p,T,S,M){var V=p.selection?p.selection():p;V.property("__zoom",uu),p!==V?P(p,T,S,M):V.interrupt().each(function(){A(this,arguments).event(M).start().zoom(null,typeof T=="function"?T.apply(this,arguments):T).end()})},w.scaleBy=function(p,T,S,M){w.scaleTo(p,function(){var V=this.__zoom.k,K=typeof T=="function"?T.apply(this,arguments):T;return V*K},S,M)},w.scaleTo=function(p,T,S,M){w.transform(p,function(){var V=t.apply(this,arguments),K=this.__zoom,X=S==null?m(V):typeof S=="function"?S.apply(this,arguments):S,G=K.invert(X),U=typeof T=="function"?T.apply(this,arguments):T;return n(O(x(K,U),X,G),V,s)},S,M)},w.translateBy=function(p,T,S,M){w.transform(p,function(){return n(this.__zoom.translate(typeof T=="function"?T.apply(this,arguments):T,typeof S=="function"?S.apply(this,arguments):S),t.apply(this,arguments),s)},null,M)},w.translateTo=function(p,T,S,M,V){w.transform(p,function(){var K=t.apply(this,arguments),X=this.__zoom,G=M==null?m(K):typeof M=="function"?M.apply(this,arguments):M;return n(Ss.translate(G[0],G[1]).scale(X.k).translate(typeof T=="function"?-T.apply(this,arguments):-T,typeof S=="function"?-S.apply(this,arguments):-S),K,s)},M,V)};function x(p,T){return T=Math.max(o[0],Math.min(o[1],T)),T===p.k?p:new jn(T,p.x,p.y)}function O(p,T,S){var M=T[0]-S[0]*p.k,V=T[1]-S[1]*p.k;return M===p.x&&V===p.y?p:new jn(p.k,M,V)}function m(p){return[(+p[0][0]+ +p[1][0])/2,(+p[0][1]+ +p[1][1])/2]}function P(p,T,S,M){p.on("start.zoom",function(){A(this,arguments).event(M).start()}).on("interrupt.zoom end.zoom",function(){A(this,arguments).event(M).end()}).tween("zoom",function(){var V=this,K=arguments,X=A(V,K).event(M),G=t.apply(V,K),U=S==null?m(G):typeof S=="function"?S.apply(V,K):S,Z=Math.max(G[1][0]-G[0][0],G[1][1]-G[0][1]),D=V.__zoom,C=typeof T=="function"?T.apply(V,K):T,B=u(D.invert(U).concat(Z/D.k),C.invert(U).concat(Z/C.k));return function(Y){if(Y===1)Y=C;else{var j=B(Y),Q=Z/j[2];Y=new jn(Q,U[0]-j[0]*Q,U[1]-j[1]*Q)}X.zoom(null,Y)}})}function A(p,T,S){return!S&&p.__zooming||new I(p,T)}function I(p,T){this.that=p,this.args=T,this.active=0,this.sourceEvent=null,this.extent=t.apply(p,T),this.taps=0}I.prototype={event:function(p){return p&&(this.sourceEvent=p),this},start:function(){return++this.active===1&&(this.that.__zooming=this,this.emit("start")),this},zoom:function(p,T){return this.mouse&&p!=="mouse"&&(this.mouse[1]=T.invert(this.mouse[0])),this.touch0&&p!=="touch"&&(this.touch0[1]=T.invert(this.touch0[0])),this.touch1&&p!=="touch"&&(this.touch1[1]=T.invert(this.touch1[0])),this.that.__zoom=T,this.emit("zoom"),this},end:function(){return--this.active===0&&(delete this.that.__zooming,this.emit("end")),this},emit:function(p){var T=Jt(this.that).datum();c.call(p,this.that,new $m(p,{sourceEvent:this.sourceEvent,target:w,transform:this.that.__zoom,dispatch:c}),T)}};function k(p,...T){if(!e.apply(this,arguments))return;var S=A(this,T).event(p),M=this.__zoom,V=Math.max(o[0],Math.min(o[1],M.k*Math.pow(2,r.apply(this,arguments)))),K=xn(p);if(S.wheel)(S.mouse[0][0]!==K[0]||S.mouse[0][1]!==K[1])&&(S.mouse[1]=M.invert(S.mouse[0]=K)),clearTimeout(S.wheel);else{if(M.k===V)return;S.mouse=[K,M.invert(K)],Go(this),S.start()}zi(p),S.wheel=setTimeout(X,v),S.zoom("mouse",n(O(x(M,V),S.mouse[0],S.mouse[1]),S.extent,s));function X(){S.wheel=null,S.end()}}function H(p,...T){if(f||!e.apply(this,arguments))return;var S=p.currentTarget,M=A(this,T,!0).event(p),V=Jt(p.view).on("mousemove.zoom",U,!0).on("mouseup.zoom",Z,!0),K=xn(p,S),X=p.clientX,G=p.clientY;dd(p.view),Zs(p),M.mouse=[K,this.__zoom.invert(K)],Go(this),M.start();function U(D){if(zi(D),!M.moved){var C=D.clientX-X,B=D.clientY-G;M.moved=C*C+B*B>b}M.event(D).zoom("mouse",n(O(M.that.__zoom,M.mouse[0]=xn(D,S),M.mouse[1]),M.extent,s))}function Z(D){V.on("mousemove.zoom mouseup.zoom",null),fd(D.view,M.moved),zi(D),M.event(D).end()}}function z(p,...T){if(e.apply(this,arguments)){var S=this.__zoom,M=xn(p.changedTouches?p.changedTouches[0]:p,this),V=S.invert(M),K=S.k*(p.shiftKey?.5:2),X=n(O(x(S,K),M,V),t.apply(this,T),s);zi(p),a>0?Jt(this).transition().duration(a).call(P,X,M,p):Jt(this).call(w.transform,X,M,p)}}function E(p,...T){if(e.apply(this,arguments)){var S=p.touches,M=S.length,V=A(this,T,p.changedTouches.length===M).event(p),K,X,G,U;for(Zs(p),X=0;X<M;++X)G=S[X],U=xn(G,this),U=[U,this.__zoom.invert(U),G.identifier],V.touch0?!V.touch1&&V.touch0[2]!==U[2]&&(V.touch1=U,V.taps=0):(V.touch0=U,K=!0,V.taps=1+!!d);d&&(d=clearTimeout(d)),K&&(V.taps<2&&(h=U[0],d=setTimeout(function(){d=null},g)),Go(this),V.start())}}function _(p,...T){if(this.__zooming){var S=A(this,T).event(p),M=p.changedTouches,V=M.length,K,X,G,U;for(zi(p),K=0;K<V;++K)X=M[K],G=xn(X,this),S.touch0&&S.touch0[2]===X.identifier?S.touch0[0]=G:S.touch1&&S.touch1[2]===X.identifier&&(S.touch1[0]=G);if(X=S.that.__zoom,S.touch1){var Z=S.touch0[0],D=S.touch0[1],C=S.touch1[0],B=S.touch1[1],Y=(Y=C[0]-Z[0])*Y+(Y=C[1]-Z[1])*Y,j=(j=B[0]-D[0])*j+(j=B[1]-D[1])*j;X=x(X,Math.sqrt(Y/j)),G=[(Z[0]+C[0])/2,(Z[1]+C[1])/2],U=[(D[0]+B[0])/2,(D[1]+B[1])/2]}else if(S.touch0)G=S.touch0[0],U=S.touch0[1];else return;S.zoom("touch",n(O(X,G,U),S.extent,s))}}function N(p,...T){if(this.__zooming){var S=A(this,T).event(p),M=p.changedTouches,V=M.length,K,X;for(Zs(p),f&&clearTimeout(f),f=setTimeout(function(){f=null},g),K=0;K<V;++K)X=M[K],S.touch0&&S.touch0[2]===X.identifier?delete S.touch0:S.touch1&&S.touch1[2]===X.identifier&&delete S.touch1;if(S.touch1&&!S.touch0&&(S.touch0=S.touch1,delete S.touch1),S.touch0)S.touch0[1]=this.__zoom.invert(S.touch0[0]);else if(S.end(),S.taps===2&&(X=xn(X,this),Math.hypot(h[0]-X[0],h[1]-X[1])<y)){var G=Jt(this).on("dblclick.zoom");G&&G.apply(this,arguments)}}}return w.wheelDelta=function(p){return arguments.length?(r=typeof p=="function"?p:zo(+p),w):r},w.filter=function(p){return arguments.length?(e=typeof p=="function"?p:zo(!!p),w):e},w.touchable=function(p){return arguments.length?(i=typeof p=="function"?p:zo(!!p),w):i},w.extent=function(p){return arguments.length?(t=typeof p=="function"?p:zo([[+p[0][0],+p[0][1]],[+p[1][0],+p[1][1]]]),w):t},w.scaleExtent=function(p){return arguments.length?(o[0]=+p[0],o[1]=+p[1],w):[o[0],o[1]]},w.translateExtent=function(p){return arguments.length?(s[0][0]=+p[0][0],s[1][0]=+p[1][0],s[0][1]=+p[0][1],s[1][1]=+p[1][1],w):[[s[0][0],s[0][1]],[s[1][0],s[1][1]]]},w.constrain=function(p){return arguments.length?(n=p,w):n},w.duration=function(p){return arguments.length?(a=+p,w):a},w.interpolate=function(p){return arguments.length?(u=p,w):u},w.on=function(){var p=c.on.apply(c,arguments);return p===c?w:p},w.clickDistance=function(p){return arguments.length?(b=(p=+p)*p,w):Math.sqrt(b)},w.tapDistance=function(p){return arguments.length?(y=+p,w):y},w}const Qi={error001:()=>"[React Flow]: Seems like you have not used zustand provider as an ancestor. Help: https://reactflow.dev/error#001",error002:()=>"It looks like you've created a new nodeTypes or edgeTypes object. If this wasn't on purpose please define the nodeTypes/edgeTypes outside of the component or memoize them.",error003:e=>`Node type "${e}" not found. Using fallback type "default".`,error004:()=>"The React Flow parent container needs a width and a height to render the graph.",error005:()=>"Only child nodes can use a parent extent.",error006:()=>"Can't create edge. An edge needs a source and a target.",error007:e=>`The old edge with id=${e} does not exist.`,error009:e=>`Marker type "${e}" doesn't exist.`,error008:(e,{id:t,sourceHandle:n,targetHandle:r})=>`Couldn't create edge for ${e} handle id: "${e==="source"?n:r}", edge id: ${t}.`,error010:()=>"Handle: No node id found. Make sure to only use a Handle inside a custom Node.",error011:e=>`Edge type "${e}" not found. Using fallback type "default".`,error012:e=>`Node with id "${e}" does not exist, it may have been removed. This can happen when a node is deleted before the "onNodeClick" handler is called.`,error013:(e="react")=>`It seems that you haven't loaded the styles. Please import '@xyflow/${e}/dist/style.css' or base.css to make sure everything is working properly.`,error014:()=>"useNodeConnections: No node ID found. Call useNodeConnections inside a custom Node or provide a node ID.",error015:()=>"It seems that you are trying to drag a node that is not initialized. Please use onNodesChange as explained in the docs."},Ca=[[Number.NEGATIVE_INFINITY,Number.NEGATIVE_INFINITY],[Number.POSITIVE_INFINITY,Number.POSITIVE_INFINITY]],Td=["Enter"," ","Escape"],sy={"node.a11yDescription.default":"Press enter or space to select a node. Press delete to remove it and escape to cancel.","node.a11yDescription.keyboardDisabled":"Press enter or space to select a node. You can then use the arrow keys to move the node around. Press delete to remove it and escape to cancel.","node.a11yDescription.ariaLiveMessage":({direction:e,x:t,y:n})=>`Moved selected node ${e}. New position, x: ${t}, y: ${n}`,"edge.a11yDescription.default":"Press enter or space to select an edge. You can then press delete to remove it or escape to cancel.","controls.ariaLabel":"Control Panel","controls.zoomIn.ariaLabel":"Zoom In","controls.zoomOut.ariaLabel":"Zoom Out","controls.fitView.ariaLabel":"Fit View","controls.interactive.ariaLabel":"Toggle Interactivity","minimap.ariaLabel":"Mini Map","handle.ariaLabel":"Handle"};var bi;(function(e){e.Strict="strict",e.Loose="loose"})(bi||(bi={}));var ri;(function(e){e.Free="free",e.Vertical="vertical",e.Horizontal="horizontal"})(ri||(ri={}));var Ji;(function(e){e.Partial="partial",e.Full="full"})(Ji||(Ji={}));const Aa={inProgress:!1,isValid:null,from:null,fromHandle:null,fromPosition:null,fromNode:null,to:null,toHandle:null,toPosition:null,toNode:null,pointer:null};var or;(function(e){e.Bezier="default",e.Straight="straight",e.Step="step",e.SmoothStep="smoothstep",e.SimpleBezier="simplebezier"})(or||(or={}));var ns;(function(e){e.Arrow="arrow",e.ArrowClosed="arrowclosed"})(ns||(ns={}));var Ce;(function(e){e.Left="left",e.Top="top",e.Right="right",e.Bottom="bottom"})(Ce||(Ce={}));const cu={[Ce.Left]:Ce.Right,[Ce.Right]:Ce.Left,[Ce.Top]:Ce.Bottom,[Ce.Bottom]:Ce.Top};function ay(e,t){if(!e&&!t)return!0;if(!e||!t||e.size!==t.size)return!1;if(!e.size&&!t.size)return!0;for(const n of e.keys())if(!t.has(n))return!1;return!0}function du(e,t,n){if(!n)return;const r=[];e.forEach((i,o)=>{t!=null&&t.has(o)||r.push(i)}),r.length&&n(r)}function ly(e){return e===null?null:e?"valid":"invalid"}const Od=e=>"id"in e&&"source"in e&&"target"in e,uy=e=>"id"in e&&"position"in e&&!("source"in e)&&!("target"in e),al=e=>"id"in e&&"internals"in e&&!("source"in e)&&!("target"in e),xo=(e,t=[0,0])=>{const{width:n,height:r}=Xr(e),i=e.origin??t,o=n*i[0],s=r*i[1];return{x:e.position.x-o,y:e.position.y-s}},cy=(e,t={nodeOrigin:[0,0]})=>{if(e.length===0)return{x:0,y:0,width:0,height:0};const n=e.reduce((r,i)=>{const o=typeof i=="string";let s=!t.nodeLookup&&!o?i:void 0;t.nodeLookup&&(s=o?t.nodeLookup.get(i):al(i)?i:t.nodeLookup.get(i.id));const a=s?rs(s,t.nodeOrigin):{x:0,y:0,x2:0,y2:0};return Os(r,a)},{x:1/0,y:1/0,x2:-1/0,y2:-1/0});return Cs(n)},Ts=(e,t={})=>{let n={x:1/0,y:1/0,x2:-1/0,y2:-1/0},r=!1;return e.forEach(i=>{(t.filter===void 0||t.filter(i))&&(n=Os(n,rs(i)),r=!0)}),r?Cs(n):{x:0,y:0,width:0,height:0}},ll=(e,t,[n,r,i]=[0,0,1],o=!1,s=!1)=>{const a={...No(t,[n,r,i]),width:t.width/i,height:t.height/i},u=[];for(const c of e.values()){const{measured:d,selectable:h=!0,hidden:f=!1}=c;if(s&&!h||f)continue;const g=d.width??c.width??c.initialWidth??null,v=d.height??c.height??c.initialHeight??null,b=$i(a,wi(c)),y=(g??0)*(v??0),w=o&&b>0;(!c.internals.handleBounds||w||b>=y||c.dragging)&&u.push(c)}return u},dy=(e,t)=>{const n=new Set;return e.forEach(r=>{n.add(r.id)}),t.filter(r=>n.has(r.source)||n.has(r.target))};function fy(e,t){const n=new Map,r=t!=null&&t.nodes?new Set(t.nodes.map(i=>i.id)):null;return e.forEach(i=>{i.measured.width&&i.measured.height&&((t==null?void 0:t.includeHiddenNodes)||!i.hidden)&&(!r||r.has(i.id))&&n.set(i.id,i)}),n}async function hy({nodes:e,width:t,height:n,panZoom:r,minZoom:i,maxZoom:o},s){if(e.size===0)return Promise.resolve(!0);const a=fy(e,s),u=Ts(a),c=ul(u,t,n,(s==null?void 0:s.minZoom)??i,(s==null?void 0:s.maxZoom)??o,(s==null?void 0:s.padding)??.1);return await r.setViewport(c,{duration:s==null?void 0:s.duration,ease:s==null?void 0:s.ease,interpolate:s==null?void 0:s.interpolate}),Promise.resolve(!0)}function Cd({nodeId:e,nextPosition:t,nodeLookup:n,nodeOrigin:r=[0,0],nodeExtent:i,onError:o}){const s=n.get(e),a=s.parentId?n.get(s.parentId):void 0,{x:u,y:c}=a?a.internals.positionAbsolute:{x:0,y:0},d=s.origin??r;let h=s.extent||i;if(s.extent==="parent"&&!s.expandParent)if(!a)o==null||o("005",Qi.error005());else{const g=a.measured.width,v=a.measured.height;g&&v&&(h=[[u,c],[u+g,c+v]])}else a&&xi(s.extent)&&(h=[[s.extent[0][0]+u,s.extent[0][1]+c],[s.extent[1][0]+u,s.extent[1][1]+c]]);const f=xi(h)?Vr(t,h,s.measured):t;return(s.measured.width===void 0||s.measured.height===void 0)&&(o==null||o("015",Qi.error015())),{position:{x:f.x-u+(s.measured.width??0)*d[0],y:f.y-c+(s.measured.height??0)*d[1]},positionAbsolute:f}}async function gy({nodesToRemove:e=[],edgesToRemove:t=[],nodes:n,edges:r,onBeforeDelete:i}){const o=new Set(e.map(f=>f.id)),s=[];for(const f of n){if(f.deletable===!1)continue;const g=o.has(f.id),v=!g&&f.parentId&&s.find(b=>b.id===f.parentId);(g||v)&&s.push(f)}const a=new Set(t.map(f=>f.id)),u=r.filter(f=>f.deletable!==!1),d=dy(s,u);for(const f of u)a.has(f.id)&&!d.find(v=>v.id===f.id)&&d.push(f);if(!i)return{edges:d,nodes:s};const h=await i({nodes:s,edges:d});return typeof h=="boolean"?h?{edges:d,nodes:s}:{edges:[],nodes:[]}:h}const _i=(e,t=0,n=1)=>Math.min(Math.max(e,t),n),Vr=(e={x:0,y:0},t,n)=>({x:_i(e.x,t[0][0],t[1][0]-((n==null?void 0:n.width)??0)),y:_i(e.y,t[0][1],t[1][1]-((n==null?void 0:n.height)??0))});function Ad(e,t,n){const{width:r,height:i}=Xr(n),{x:o,y:s}=n.internals.positionAbsolute;return Vr(e,[[o,s],[o+r,s+i]],t)}const fu=(e,t,n)=>e<t?_i(Math.abs(e-t),1,t)/t:e>n?-_i(Math.abs(e-n),1,t)/t:0,Md=(e,t,n=15,r=40)=>{const i=fu(e.x,r,t.width-r)*n,o=fu(e.y,r,t.height-r)*n;return[i,o]},Os=(e,t)=>({x:Math.min(e.x,t.x),y:Math.min(e.y,t.y),x2:Math.max(e.x2,t.x2),y2:Math.max(e.y2,t.y2)}),Ma=({x:e,y:t,width:n,height:r})=>({x:e,y:t,x2:e+n,y2:t+r}),Cs=({x:e,y:t,x2:n,y2:r})=>({x:e,y:t,width:n-e,height:r-t}),wi=(e,t=[0,0])=>{var i,o;const{x:n,y:r}=al(e)?e.internals.positionAbsolute:xo(e,t);return{x:n,y:r,width:((i=e.measured)==null?void 0:i.width)??e.width??e.initialWidth??0,height:((o=e.measured)==null?void 0:o.height)??e.height??e.initialHeight??0}},rs=(e,t=[0,0])=>{var i,o;const{x:n,y:r}=al(e)?e.internals.positionAbsolute:xo(e,t);return{x:n,y:r,x2:n+(((i=e.measured)==null?void 0:i.width)??e.width??e.initialWidth??0),y2:r+(((o=e.measured)==null?void 0:o.height)??e.height??e.initialHeight??0)}},vy=(e,t)=>Cs(Os(Ma(e),Ma(t))),$i=(e,t)=>{const n=Math.max(0,Math.min(e.x+e.width,t.x+t.width)-Math.max(e.x,t.x)),r=Math.max(0,Math.min(e.y+e.height,t.y+t.height)-Math.max(e.y,t.y));return Math.ceil(n*r)},hu=e=>Gn(e.width)&&Gn(e.height)&&Gn(e.x)&&Gn(e.y),Gn=e=>!isNaN(e)&&isFinite(e),py=(e,t)=>{},Eo=(e,t=[1,1])=>({x:t[0]*Math.round(e.x/t[0]),y:t[1]*Math.round(e.y/t[1])}),No=({x:e,y:t},[n,r,i],o=!1,s=[1,1])=>{const a={x:(e-n)/i,y:(t-r)/i};return o?Eo(a,s):a},is=({x:e,y:t},[n,r,i])=>({x:e*i+n,y:t*i+r});function Jr(e,t){if(typeof e=="number")return Math.floor((t-t/(1+e))*.5);if(typeof e=="string"&&e.endsWith("px")){const n=parseFloat(e);if(!Number.isNaN(n))return Math.floor(n)}if(typeof e=="string"&&e.endsWith("%")){const n=parseFloat(e);if(!Number.isNaN(n))return Math.floor(t*n*.01)}return console.error(`[React Flow] The padding value "${e}" is invalid. Please provide a number or a string with a valid unit (px or %).`),0}function my(e,t,n){if(typeof e=="string"||typeof e=="number"){const r=Jr(e,n),i=Jr(e,t);return{top:r,right:i,bottom:r,left:i,x:i*2,y:r*2}}if(typeof e=="object"){const r=Jr(e.top??e.y??0,n),i=Jr(e.bottom??e.y??0,n),o=Jr(e.left??e.x??0,t),s=Jr(e.right??e.x??0,t);return{top:r,right:s,bottom:i,left:o,x:o+s,y:r+i}}return{top:0,right:0,bottom:0,left:0,x:0,y:0}}function yy(e,t,n,r,i,o){const{x:s,y:a}=is(e,[t,n,r]),{x:u,y:c}=is({x:e.x+e.width,y:e.y+e.height},[t,n,r]),d=i-u,h=o-c;return{left:Math.floor(s),top:Math.floor(a),right:Math.floor(d),bottom:Math.floor(h)}}const ul=(e,t,n,r,i,o)=>{const s=my(o,t,n),a=(t-s.x)/e.width,u=(n-s.y)/e.height,c=Math.min(a,u),d=_i(c,r,i),h=e.x+e.width/2,f=e.y+e.height/2,g=t/2-h*d,v=n/2-f*d,b=yy(e,g,v,d,t,n),y={left:Math.min(b.left-s.left,0),top:Math.min(b.top-s.top,0),right:Math.min(b.right-s.right,0),bottom:Math.min(b.bottom-s.bottom,0)};return{x:g-y.left+y.right,y:v-y.top+y.bottom,zoom:d}},os=()=>{var e;return typeof navigator<"u"&&((e=navigator==null?void 0:navigator.userAgent)==null?void 0:e.indexOf("Mac"))>=0};function xi(e){return e!=null&&e!=="parent"}function Xr(e){var t,n;return{width:((t=e.measured)==null?void 0:t.width)??e.width??e.initialWidth??0,height:((n=e.measured)==null?void 0:n.height)??e.height??e.initialHeight??0}}function by(e){var t,n;return(((t=e.measured)==null?void 0:t.width)??e.width??e.initialWidth)!==void 0&&(((n=e.measured)==null?void 0:n.height)??e.height??e.initialHeight)!==void 0}function _y(e,t={width:0,height:0},n,r,i){const o={...e},s=r.get(n);if(s){const a=s.origin||i;o.x+=s.internals.positionAbsolute.x-(t.width??0)*a[0],o.y+=s.internals.positionAbsolute.y-(t.height??0)*a[1]}return o}function wy(e){return{...sy,...e||{}}}function Yi(e,{snapGrid:t=[0,0],snapToGrid:n=!1,transform:r,containerBounds:i}){const{x:o,y:s}=gn(e),a=No({x:o-((i==null?void 0:i.left)??0),y:s-((i==null?void 0:i.top)??0)},r),{x:u,y:c}=n?Eo(a,t):a;return{xSnapped:u,ySnapped:c,...a}}const Pd=e=>({width:e.offsetWidth,height:e.offsetHeight}),Dd=e=>{var t;return((t=e==null?void 0:e.getRootNode)==null?void 0:t.call(e))||(window==null?void 0:window.document)},xy=["INPUT","SELECT","TEXTAREA"];function Rd(e){var r,i;const t=((i=(r=e.composedPath)==null?void 0:r.call(e))==null?void 0:i[0])||e.target;return(t==null?void 0:t.nodeType)!==1?!1:xy.includes(t.nodeName)||t.hasAttribute("contenteditable")||!!t.closest(".nokey")}const zd=e=>"clientX"in e,gn=(e,t)=>{var o,s;const n=zd(e),r=n?e.clientX:(o=e.touches)==null?void 0:o[0].clientX,i=n?e.clientY:(s=e.touches)==null?void 0:s[0].clientY;return{x:r-((t==null?void 0:t.left)??0),y:i-((t==null?void 0:t.top)??0)}},gu=(e,t,n,r,i)=>{const o=t.querySelectorAll(`.${e}`);return!o||!o.length?null:Array.from(o).map(s=>{const a=s.getBoundingClientRect();return{id:s.getAttribute("data-handleid"),type:e,nodeId:i,position:s.getAttribute("data-handlepos"),x:(a.left-n.left)/r,y:(a.top-n.top)/r,...Pd(s)}})};function Ey({sourceX:e,sourceY:t,targetX:n,targetY:r,sourceControlX:i,sourceControlY:o,targetControlX:s,targetControlY:a}){const u=e*.125+i*.375+s*.375+n*.125,c=t*.125+o*.375+a*.375+r*.125,d=Math.abs(u-e),h=Math.abs(c-t);return[u,c,d,h]}function Lo(e,t){return e>=0?.5*e:t*25*Math.sqrt(-e)}function vu({pos:e,x1:t,y1:n,x2:r,y2:i,c:o}){switch(e){case Ce.Left:return[t-Lo(t-r,o),n];case Ce.Right:return[t+Lo(r-t,o),n];case Ce.Top:return[t,n-Lo(n-i,o)];case Ce.Bottom:return[t,n+Lo(i-n,o)]}}function Ld({sourceX:e,sourceY:t,sourcePosition:n=Ce.Bottom,targetX:r,targetY:i,targetPosition:o=Ce.Top,curvature:s=.25}){const[a,u]=vu({pos:n,x1:e,y1:t,x2:r,y2:i,c:s}),[c,d]=vu({pos:o,x1:r,y1:i,x2:e,y2:t,c:s}),[h,f,g,v]=Ey({sourceX:e,sourceY:t,targetX:r,targetY:i,sourceControlX:a,sourceControlY:u,targetControlX:c,targetControlY:d});return[`M${e},${t} C${a},${u} ${c},${d} ${r},${i}`,h,f,g,v]}function Vd({sourceX:e,sourceY:t,targetX:n,targetY:r}){const i=Math.abs(n-e)/2,o=n<e?n+i:n-i,s=Math.abs(r-t)/2,a=r<t?r+s:r-s;return[o,a,i,s]}function Ny({sourceNode:e,targetNode:t,selected:n=!1,zIndex:r=0,elevateOnSelect:i=!1,zIndexMode:o="basic"}){if(o==="manual")return r;const s=i&&n?r+1e3:r,a=Math.max(e.parentId||i&&e.selected?e.internals.z:0,t.parentId||i&&t.selected?t.internals.z:0);return s+a}function ky({sourceNode:e,targetNode:t,width:n,height:r,transform:i}){const o=Os(rs(e),rs(t));o.x===o.x2&&(o.x2+=1),o.y===o.y2&&(o.y2+=1);const s={x:-i[0]/i[2],y:-i[1]/i[2],width:n/i[2],height:r/i[2]};return $i(s,Cs(o))>0}const Iy=({source:e,sourceHandle:t,target:n,targetHandle:r})=>`xy-edge__${e}${t||""}-${n}${r||""}`,Sy=(e,t)=>t.some(n=>n.source===e.source&&n.target===e.target&&(n.sourceHandle===e.sourceHandle||!n.sourceHandle&&!e.sourceHandle)&&(n.targetHandle===e.targetHandle||!n.targetHandle&&!e.targetHandle)),Hi=(e,t,n={})=>{if(!e.source||!e.target)return t;const r=n.getEdgeId||Iy;let i;return Od(e)?i={...e}:i={...e,id:r(e)},Sy(i,t)?t:(i.sourceHandle===null&&delete i.sourceHandle,i.targetHandle===null&&delete i.targetHandle,t.concat(i))};function Fd({sourceX:e,sourceY:t,targetX:n,targetY:r}){const[i,o,s,a]=Vd({sourceX:e,sourceY:t,targetX:n,targetY:r});return[`M ${e},${t}L ${n},${r}`,i,o,s,a]}const pu={[Ce.Left]:{x:-1,y:0},[Ce.Right]:{x:1,y:0},[Ce.Top]:{x:0,y:-1},[Ce.Bottom]:{x:0,y:1}},Ty=({source:e,sourcePosition:t=Ce.Bottom,target:n})=>t===Ce.Left||t===Ce.Right?e.x<n.x?{x:1,y:0}:{x:-1,y:0}:e.y<n.y?{x:0,y:1}:{x:0,y:-1},mu=(e,t)=>Math.sqrt(Math.pow(t.x-e.x,2)+Math.pow(t.y-e.y,2));function Oy({source:e,sourcePosition:t=Ce.Bottom,target:n,targetPosition:r=Ce.Top,center:i,offset:o,stepPosition:s}){const a=pu[t],u=pu[r],c={x:e.x+a.x*o,y:e.y+a.y*o},d={x:n.x+u.x*o,y:n.y+u.y*o},h=Ty({source:c,sourcePosition:t,target:d}),f=h.x!==0?"x":"y",g=h[f];let v=[],b,y;const w={x:0,y:0},x={x:0,y:0},[,,O,m]=Vd({sourceX:e.x,sourceY:e.y,targetX:n.x,targetY:n.y});if(a[f]*u[f]===-1){f==="x"?(b=i.x??c.x+(d.x-c.x)*s,y=i.y??(c.y+d.y)/2):(b=i.x??(c.x+d.x)/2,y=i.y??c.y+(d.y-c.y)*s);const A=[{x:b,y:c.y},{x:b,y:d.y}],I=[{x:c.x,y},{x:d.x,y}];a[f]===g?v=f==="x"?A:I:v=f==="x"?I:A}else{const A=[{x:c.x,y:d.y}],I=[{x:d.x,y:c.y}];if(f==="x"?v=a.x===g?I:A:v=a.y===g?A:I,t===r){const _=Math.abs(e[f]-n[f]);if(_<=o){const N=Math.min(o-1,o-_);a[f]===g?w[f]=(c[f]>e[f]?-1:1)*N:x[f]=(d[f]>n[f]?-1:1)*N}}if(t!==r){const _=f==="x"?"y":"x",N=a[f]===u[_],p=c[_]>d[_],T=c[_]<d[_];(a[f]===1&&(!N&&p||N&&T)||a[f]!==1&&(!N&&T||N&&p))&&(v=f==="x"?A:I)}const k={x:c.x+w.x,y:c.y+w.y},H={x:d.x+x.x,y:d.y+x.y},z=Math.max(Math.abs(k.x-v[0].x),Math.abs(H.x-v[0].x)),E=Math.max(Math.abs(k.y-v[0].y),Math.abs(H.y-v[0].y));z>=E?(b=(k.x+H.x)/2,y=v[0].y):(b=v[0].x,y=(k.y+H.y)/2)}return[[e,{x:c.x+w.x,y:c.y+w.y},...v,{x:d.x+x.x,y:d.y+x.y},n],b,y,O,m]}function Cy(e,t,n,r){const i=Math.min(mu(e,t)/2,mu(t,n)/2,r),{x:o,y:s}=t;if(e.x===o&&o===n.x||e.y===s&&s===n.y)return`L${o} ${s}`;if(e.y===s){const c=e.x<n.x?-1:1,d=e.y<n.y?1:-1;return`L ${o+i*c},${s}Q ${o},${s} ${o},${s+i*d}`}const a=e.x<n.x?1:-1,u=e.y<n.y?-1:1;return`L ${o},${s+i*u}Q ${o},${s} ${o+i*a},${s}`}function cl({sourceX:e,sourceY:t,sourcePosition:n=Ce.Bottom,targetX:r,targetY:i,targetPosition:o=Ce.Top,borderRadius:s=5,centerX:a,centerY:u,offset:c=20,stepPosition:d=.5}){const[h,f,g,v,b]=Oy({source:{x:e,y:t},sourcePosition:n,target:{x:r,y:i},targetPosition:o,center:{x:a,y:u},offset:c,stepPosition:d});return[h.reduce((w,x,O)=>{let m="";return O>0&&O<h.length-1?m=Cy(h[O-1],x,h[O+1],s):m=`${O===0?"M":"L"}${x.x} ${x.y}`,w+=m,w},""),f,g,v,b]}function yu(e){var t;return e&&!!(e.internals.handleBounds||(t=e.handles)!=null&&t.length)&&!!(e.measured.width||e.width||e.initialWidth)}function Ay(e){var h;const{sourceNode:t,targetNode:n}=e;if(!yu(t)||!yu(n))return null;const r=t.internals.handleBounds||bu(t.handles),i=n.internals.handleBounds||bu(n.handles),o=_u((r==null?void 0:r.source)??[],e.sourceHandle),s=_u(e.connectionMode===bi.Strict?(i==null?void 0:i.target)??[]:((i==null?void 0:i.target)??[]).concat((i==null?void 0:i.source)??[]),e.targetHandle);if(!o||!s)return(h=e.onError)==null||h.call(e,"008",Qi.error008(o?"target":"source",{id:e.id,sourceHandle:e.sourceHandle,targetHandle:e.targetHandle})),null;const a=(o==null?void 0:o.position)||Ce.Bottom,u=(s==null?void 0:s.position)||Ce.Top,c=Fr(t,o,a),d=Fr(n,s,u);return{sourceX:c.x,sourceY:c.y,targetX:d.x,targetY:d.y,sourcePosition:a,targetPosition:u}}function bu(e){if(!e)return null;const t=[],n=[];for(const r of e)r.width=r.width??1,r.height=r.height??1,r.type==="source"?t.push(r):r.type==="target"&&n.push(r);return{source:t,target:n}}function Fr(e,t,n=Ce.Left,r=!1){const i=((t==null?void 0:t.x)??0)+e.internals.positionAbsolute.x,o=((t==null?void 0:t.y)??0)+e.internals.positionAbsolute.y,{width:s,height:a}=t??Xr(e);if(r)return{x:i+s/2,y:o+a/2};switch((t==null?void 0:t.position)??n){case Ce.Top:return{x:i+s/2,y:o};case Ce.Right:return{x:i+s,y:o+a/2};case Ce.Bottom:return{x:i+s/2,y:o+a};case Ce.Left:return{x:i,y:o+a/2}}}function _u(e,t){return e&&(t?e.find(n=>n.id===t):e[0])||null}function Pa(e,t){return e?typeof e=="string"?e:`${t?`${t}__`:""}${Object.keys(e).sort().map(r=>`${r}=${e[r]}`).join("&")}`:""}function My(e,{id:t,defaultColor:n,defaultMarkerStart:r,defaultMarkerEnd:i}){const o=new Set;return e.reduce((s,a)=>([a.markerStart||r,a.markerEnd||i].forEach(u=>{if(u&&typeof u=="object"){const c=Pa(u,t);o.has(c)||(s.push({id:c,color:u.color||n,...u}),o.add(c))}}),s),[]).sort((s,a)=>s.id.localeCompare(a.id))}const Hd=1e3,Py=10,dl={nodeOrigin:[0,0],nodeExtent:Ca,elevateNodesOnSelect:!0,zIndexMode:"basic",defaults:{}},Dy={...dl,checkEquality:!0};function fl(e,t){const n={...e};for(const r in t)t[r]!==void 0&&(n[r]=t[r]);return n}function Ry(e,t,n){const r=fl(dl,n);for(const i of e.values())if(i.parentId)gl(i,e,t,r);else{const o=xo(i,r.nodeOrigin),s=xi(i.extent)?i.extent:r.nodeExtent,a=Vr(o,s,Xr(i));i.internals.positionAbsolute=a}}function zy(e,t){if(!e.handles)return e.measured?t==null?void 0:t.internals.handleBounds:void 0;const n=[],r=[];for(const i of e.handles){const o={id:i.id,width:i.width??1,height:i.height??1,nodeId:e.id,x:i.x,y:i.y,position:i.position,type:i.type};i.type==="source"?n.push(o):i.type==="target"&&r.push(o)}return{source:n,target:r}}function hl(e){return e==="manual"}function Ly(e,t,n,r={}){var c,d;const i=fl(Dy,r),o={i:0},s=new Map(t),a=i!=null&&i.elevateNodesOnSelect&&!hl(i.zIndexMode)?Hd:0;let u=e.length>0;t.clear(),n.clear();for(const h of e){let f=s.get(h.id);if(i.checkEquality&&h===(f==null?void 0:f.internals.userNode))t.set(h.id,f);else{const g=xo(h,i.nodeOrigin),v=xi(h.extent)?h.extent:i.nodeExtent,b=Vr(g,v,Xr(h));f={...i.defaults,...h,measured:{width:(c=h.measured)==null?void 0:c.width,height:(d=h.measured)==null?void 0:d.height},internals:{positionAbsolute:b,handleBounds:zy(h,f),z:Kd(h,a,i.zIndexMode),userNode:h}},t.set(h.id,f)}(f.measured===void 0||f.measured.width===void 0||f.measured.height===void 0)&&!f.hidden&&(u=!1),h.parentId&&gl(f,t,n,r,o)}return u}function Vy(e,t){if(!e.parentId)return;const n=t.get(e.parentId);n?n.set(e.id,e):t.set(e.parentId,new Map([[e.id,e]]))}function gl(e,t,n,r,i){const{elevateNodesOnSelect:o,nodeOrigin:s,nodeExtent:a,zIndexMode:u}=fl(dl,r),c=e.parentId,d=t.get(c);if(!d){console.warn(`Parent node ${c} not found. Please make sure that parent nodes are in front of their child nodes in the nodes array.`);return}Vy(e,n),i&&!d.parentId&&d.internals.rootParentIndex===void 0&&u==="auto"&&(d.internals.rootParentIndex=++i.i,d.internals.z=d.internals.z+i.i*Py),i&&d.internals.rootParentIndex!==void 0&&(i.i=d.internals.rootParentIndex);const h=o&&!hl(u)?Hd:0,{x:f,y:g,z:v}=Fy(e,d,s,a,h,u),{positionAbsolute:b}=e.internals,y=f!==b.x||g!==b.y;(y||v!==e.internals.z)&&t.set(e.id,{...e,internals:{...e.internals,positionAbsolute:y?{x:f,y:g}:b,z:v}})}function Kd(e,t,n){const r=Gn(e.zIndex)?e.zIndex:0;return hl(n)?r:r+(e.selected?t:0)}function Fy(e,t,n,r,i,o){const{x:s,y:a}=t.internals.positionAbsolute,u=Xr(e),c=xo(e,n),d=xi(e.extent)?Vr(c,e.extent,u):c;let h=Vr({x:s+d.x,y:a+d.y},r,u);e.extent==="parent"&&(h=Ad(h,u,t));const f=Kd(e,i,o),g=t.internals.z??0;return{x:h.x,y:h.y,z:g>=f?g+1:f}}function Hy(e,t,n,r=[0,0]){var s;const i=[],o=new Map;for(const a of e){const u=t.get(a.parentId);if(!u)continue;const c=((s=o.get(a.parentId))==null?void 0:s.expandedRect)??wi(u),d=vy(c,a.rect);o.set(a.parentId,{expandedRect:d,parent:u})}return o.size>0&&o.forEach(({expandedRect:a,parent:u},c)=>{var O;const d=u.internals.positionAbsolute,h=Xr(u),f=u.origin??r,g=a.x<d.x?Math.round(Math.abs(d.x-a.x)):0,v=a.y<d.y?Math.round(Math.abs(d.y-a.y)):0,b=Math.max(h.width,Math.round(a.width)),y=Math.max(h.height,Math.round(a.height)),w=(b-h.width)*f[0],x=(y-h.height)*f[1];(g>0||v>0||w||x)&&(i.push({id:c,type:"position",position:{x:u.position.x-g+w,y:u.position.y-v+x}}),(O=n.get(c))==null||O.forEach(m=>{e.some(P=>P.id===m.id)||i.push({id:m.id,type:"position",position:{x:m.position.x+g,y:m.position.y+v}})})),(h.width<a.width||h.height<a.height||g||v)&&i.push({id:c,type:"dimensions",setAttributes:!0,dimensions:{width:b+(g?f[0]*g-w:0),height:y+(v?f[1]*v-x:0)}})}),i}function Ky(e,t,n,r,i,o,s){const a=r==null?void 0:r.querySelector(".xyflow__viewport");let u=!1;if(!a)return{changes:[],updatedInternals:u};const c=[],d=window.getComputedStyle(a),{m22:h}=new window.DOMMatrixReadOnly(d.transform),f=[];for(const g of e.values()){const v=t.get(g.id);if(!v)continue;if(v.hidden){t.set(v.id,{...v,internals:{...v.internals,handleBounds:void 0}}),u=!0;continue}const b=Pd(g.nodeElement),y=v.measured.width!==b.width||v.measured.height!==b.height;if(!!(b.width&&b.height&&(y||!v.internals.handleBounds||g.force))){const x=g.nodeElement.getBoundingClientRect(),O=xi(v.extent)?v.extent:o;let{positionAbsolute:m}=v.internals;v.parentId&&v.extent==="parent"?m=Ad(m,b,t.get(v.parentId)):O&&(m=Vr(m,O,b));const P={...v,measured:b,internals:{...v.internals,positionAbsolute:m,handleBounds:{source:gu("source",g.nodeElement,x,h,v.id),target:gu("target",g.nodeElement,x,h,v.id)}}};t.set(v.id,P),v.parentId&&gl(P,t,n,{nodeOrigin:i,zIndexMode:s}),u=!0,y&&(c.push({id:v.id,type:"dimensions",dimensions:b}),v.expandParent&&v.parentId&&f.push({id:v.id,parentId:v.parentId,rect:wi(P,i)}))}}if(f.length>0){const g=Hy(f,t,n,i);c.push(...g)}return{changes:c,updatedInternals:u}}async function By({delta:e,panZoom:t,transform:n,translateExtent:r,width:i,height:o}){if(!t||!e.x&&!e.y)return Promise.resolve(!1);const s=await t.setViewportConstrained({x:n[0]+e.x,y:n[1]+e.y,zoom:n[2]},[[0,0],[i,o]],r),a=!!s&&(s.x!==n[0]||s.y!==n[1]||s.k!==n[2]);return Promise.resolve(a)}function wu(e,t,n,r,i,o){let s=i;const a=r.get(s)||new Map;r.set(s,a.set(n,t)),s=`${i}-${e}`;const u=r.get(s)||new Map;if(r.set(s,u.set(n,t)),o){s=`${i}-${e}-${o}`;const c=r.get(s)||new Map;r.set(s,c.set(n,t))}}function Wy(e,t,n){e.clear(),t.clear();for(const r of n){const{source:i,target:o,sourceHandle:s=null,targetHandle:a=null}=r,u={edgeId:r.id,source:i,target:o,sourceHandle:s,targetHandle:a},c=`${i}-${s}--${o}-${a}`,d=`${o}-${a}--${i}-${s}`;wu("source",u,d,e,i,s),wu("target",u,c,e,o,a),t.set(r.id,r)}}function Bd(e,t){if(!e.parentId)return!1;const n=t.get(e.parentId);return n?n.selected?!0:Bd(n,t):!1}function xu(e,t,n){var i;let r=e;do{if((i=r==null?void 0:r.matches)!=null&&i.call(r,t))return!0;if(r===n)return!1;r=r==null?void 0:r.parentElement}while(r);return!1}function Yy(e,t,n,r){const i=new Map;for(const[o,s]of e)if((s.selected||s.id===r)&&(!s.parentId||!Bd(s,e))&&(s.draggable||t&&typeof s.draggable>"u")){const a=e.get(o);a&&i.set(o,{id:o,position:a.position||{x:0,y:0},distance:{x:n.x-a.internals.positionAbsolute.x,y:n.y-a.internals.positionAbsolute.y},extent:a.extent,parentId:a.parentId,origin:a.origin,expandParent:a.expandParent,internals:{positionAbsolute:a.internals.positionAbsolute||{x:0,y:0}},measured:{width:a.measured.width??0,height:a.measured.height??0}})}return i}function Qs({nodeId:e,dragItems:t,nodeLookup:n,dragging:r=!0}){var s,a,u;const i=[];for(const[c,d]of t){const h=(s=n.get(c))==null?void 0:s.internals.userNode;h&&i.push({...h,position:d.position,dragging:r})}if(!e)return[i[0],i];const o=(a=n.get(e))==null?void 0:a.internals.userNode;return[o?{...o,position:((u=t.get(e))==null?void 0:u.position)||o.position,dragging:r}:i[0],i]}function Xy({dragItems:e,snapGrid:t,x:n,y:r}){const i=e.values().next().value;if(!i)return null;const o={x:n-i.distance.x,y:r-i.distance.y},s=Eo(o,t);return{x:s.x-o.x,y:s.y-o.y}}function jy({onNodeMouseDown:e,getStoreItems:t,onDragStart:n,onDrag:r,onDragStop:i}){let o={x:null,y:null},s=0,a=new Map,u=!1,c={x:0,y:0},d=null,h=!1,f=null,g=!1,v=!1,b=null;function y({noDragClassName:x,handleSelector:O,domNode:m,isSelectable:P,nodeId:A,nodeClickDistance:I=0}){f=Jt(m);function k({x:_,y:N}){const{nodeLookup:p,nodeExtent:T,snapGrid:S,snapToGrid:M,nodeOrigin:V,onNodeDrag:K,onSelectionDrag:X,onError:G,updateNodePositions:U}=t();o={x:_,y:N};let Z=!1;const D=a.size>1,C=D&&T?Ma(Ts(a)):null,B=D&&M?Xy({dragItems:a,snapGrid:S,x:_,y:N}):null;for(const[Y,j]of a){if(!p.has(Y))continue;let Q={x:_-j.distance.x,y:N-j.distance.y};M&&(Q=B?{x:Math.round(Q.x+B.x),y:Math.round(Q.y+B.y)}:Eo(Q,S));let re=null;if(D&&T&&!j.extent&&C){const{positionAbsolute:me}=j.internals,xe=me.x-C.x+T[0][0],Se=me.x+j.measured.width-C.x2+T[1][0],oe=me.y-C.y+T[0][1],ne=me.y+j.measured.height-C.y2+T[1][1];re=[[xe,oe],[Se,ne]]}const{position:ie,positionAbsolute:pe}=Cd({nodeId:Y,nextPosition:Q,nodeLookup:p,nodeExtent:re||T,nodeOrigin:V,onError:G});Z=Z||j.position.x!==ie.x||j.position.y!==ie.y,j.position=ie,j.internals.positionAbsolute=pe}if(v=v||Z,!!Z&&(U(a,!0),b&&(r||K||!A&&X))){const[Y,j]=Qs({nodeId:A,dragItems:a,nodeLookup:p});r==null||r(b,a,Y,j),K==null||K(b,Y,j),A||X==null||X(b,j)}}async function H(){if(!d)return;const{transform:_,panBy:N,autoPanSpeed:p,autoPanOnNodeDrag:T}=t();if(!T){u=!1,cancelAnimationFrame(s);return}const[S,M]=Md(c,d,p);(S!==0||M!==0)&&(o.x=(o.x??0)-S/_[2],o.y=(o.y??0)-M/_[2],await N({x:S,y:M})&&k(o)),s=requestAnimationFrame(H)}function z(_){var D;const{nodeLookup:N,multiSelectionActive:p,nodesDraggable:T,transform:S,snapGrid:M,snapToGrid:V,selectNodesOnDrag:K,onNodeDragStart:X,onSelectionDragStart:G,unselectNodesAndEdges:U}=t();h=!0,(!K||!P)&&!p&&A&&((D=N.get(A))!=null&&D.selected||U()),P&&K&&A&&(e==null||e(A));const Z=Yi(_.sourceEvent,{transform:S,snapGrid:M,snapToGrid:V,containerBounds:d});if(o=Z,a=Yy(N,T,Z,A),a.size>0&&(n||X||!A&&G)){const[C,B]=Qs({nodeId:A,dragItems:a,nodeLookup:N});n==null||n(_.sourceEvent,a,C,B),X==null||X(_.sourceEvent,C,B),A||G==null||G(_.sourceEvent,B)}}const E=hd().clickDistance(I).on("start",_=>{const{domNode:N,nodeDragThreshold:p,transform:T,snapGrid:S,snapToGrid:M}=t();d=(N==null?void 0:N.getBoundingClientRect())||null,g=!1,v=!1,b=_.sourceEvent,p===0&&z(_),o=Yi(_.sourceEvent,{transform:T,snapGrid:S,snapToGrid:M,containerBounds:d}),c=gn(_.sourceEvent,d)}).on("drag",_=>{const{autoPanOnNodeDrag:N,transform:p,snapGrid:T,snapToGrid:S,nodeDragThreshold:M,nodeLookup:V}=t(),K=Yi(_.sourceEvent,{transform:p,snapGrid:T,snapToGrid:S,containerBounds:d});if(b=_.sourceEvent,(_.sourceEvent.type==="touchmove"&&_.sourceEvent.touches.length>1||A&&!V.has(A))&&(g=!0),!g){if(!u&&N&&h&&(u=!0,H()),!h){const X=gn(_.sourceEvent,d),G=X.x-c.x,U=X.y-c.y;Math.sqrt(G*G+U*U)>M&&z(_)}(o.x!==K.xSnapped||o.y!==K.ySnapped)&&a&&h&&(c=gn(_.sourceEvent,d),k(K))}}).on("end",_=>{if(!(!h||g)&&(u=!1,h=!1,cancelAnimationFrame(s),a.size>0)){const{nodeLookup:N,updateNodePositions:p,onNodeDragStop:T,onSelectionDragStop:S}=t();if(v&&(p(a,!1),v=!1),i||T||!A&&S){const[M,V]=Qs({nodeId:A,dragItems:a,nodeLookup:N,dragging:!1});i==null||i(_.sourceEvent,a,M,V),T==null||T(_.sourceEvent,M,V),A||S==null||S(_.sourceEvent,V)}}}).filter(_=>{const N=_.target;return!_.button&&(!x||!xu(N,`.${x}`,m))&&(!O||xu(N,O,m))});f.call(E)}function w(){f==null||f.on(".drag",null)}return{update:y,destroy:w}}function Gy(e,t,n){const r=[],i={x:e.x-n,y:e.y-n,width:n*2,height:n*2};for(const o of t.values())$i(i,wi(o))>0&&r.push(o);return r}const Uy=250;function qy(e,t,n,r){var a,u;let i=[],o=1/0;const s=Gy(e,n,t+Uy);for(const c of s){const d=[...((a=c.internals.handleBounds)==null?void 0:a.source)??[],...((u=c.internals.handleBounds)==null?void 0:u.target)??[]];for(const h of d){if(r.nodeId===h.nodeId&&r.type===h.type&&r.id===h.id)continue;const{x:f,y:g}=Fr(c,h,h.position,!0),v=Math.sqrt(Math.pow(f-e.x,2)+Math.pow(g-e.y,2));v>t||(v<o?(i=[{...h,x:f,y:g}],o=v):v===o&&i.push({...h,x:f,y:g}))}}if(!i.length)return null;if(i.length>1){const c=r.type==="source"?"target":"source";return i.find(d=>d.type===c)??i[0]}return i[0]}function Wd(e,t,n,r,i,o=!1){var c,d,h;const s=r.get(e);if(!s)return null;const a=i==="strict"?(c=s.internals.handleBounds)==null?void 0:c[t]:[...((d=s.internals.handleBounds)==null?void 0:d.source)??[],...((h=s.internals.handleBounds)==null?void 0:h.target)??[]],u=(n?a==null?void 0:a.find(f=>f.id===n):a==null?void 0:a[0])??null;return u&&o?{...u,...Fr(s,u,u.position,!0)}:u}function Yd(e,t){return e||(t!=null&&t.classList.contains("target")?"target":t!=null&&t.classList.contains("source")?"source":null)}function Zy(e,t){let n=null;return t?n=!0:e&&!t&&(n=!1),n}const Xd=()=>!0;function Qy(e,{connectionMode:t,connectionRadius:n,handleId:r,nodeId:i,edgeUpdaterType:o,isTarget:s,domNode:a,nodeLookup:u,lib:c,autoPanOnConnect:d,flowId:h,panBy:f,cancelConnection:g,onConnectStart:v,onConnect:b,onConnectEnd:y,isValidConnection:w=Xd,onReconnectEnd:x,updateConnection:O,getTransform:m,getFromHandle:P,autoPanSpeed:A,dragThreshold:I=1,handleDomNode:k}){const H=Dd(e.target);let z=0,E;const{x:_,y:N}=gn(e),p=Yd(o,k),T=a==null?void 0:a.getBoundingClientRect();let S=!1;if(!T||!p)return;const M=Wd(i,p,r,u,t);if(!M)return;let V=gn(e,T),K=!1,X=null,G=!1,U=null;function Z(){if(!d||!T)return;const[ie,pe]=Md(V,T,A);f({x:ie,y:pe}),z=requestAnimationFrame(Z)}const D={...M,nodeId:i,type:p,position:M.position},C=u.get(i);let Y={inProgress:!0,isValid:null,from:Fr(C,D,Ce.Left,!0),fromHandle:D,fromPosition:D.position,fromNode:C,to:V,toHandle:null,toPosition:cu[D.position],toNode:null,pointer:V};function j(){S=!0,O(Y),v==null||v(e,{nodeId:i,handleId:r,handleType:p})}I===0&&j();function Q(ie){if(!S){const{x:ne,y:fe}=gn(ie),$=ne-_,le=fe-N;if(!($*$+le*le>I*I))return;j()}if(!P()||!D){re(ie);return}const pe=m();V=gn(ie,T),E=qy(No(V,pe,!1,[1,1]),n,u,D),K||(Z(),K=!0);const me=jd(ie,{handle:E,connectionMode:t,fromNodeId:i,fromHandleId:r,fromType:s?"target":"source",isValidConnection:w,doc:H,lib:c,flowId:h,nodeLookup:u});U=me.handleDomNode,X=me.connection,G=Zy(!!E,me.isValid);const xe=u.get(i),Se=xe?Fr(xe,D,Ce.Left,!0):Y.from,oe={...Y,from:Se,isValid:G,to:me.toHandle&&G?is({x:me.toHandle.x,y:me.toHandle.y},pe):V,toHandle:me.toHandle,toPosition:G&&me.toHandle?me.toHandle.position:cu[D.position],toNode:me.toHandle?u.get(me.toHandle.nodeId):null,pointer:V};O(oe),Y=oe}function re(ie){if(!("touches"in ie&&ie.touches.length>0)){if(S){(E||U)&&X&&G&&(b==null||b(X));const{inProgress:pe,...me}=Y,xe={...me,toPosition:Y.toHandle?Y.toPosition:null};y==null||y(ie,xe),o&&(x==null||x(ie,xe))}g(),cancelAnimationFrame(z),K=!1,G=!1,X=null,U=null,H.removeEventListener("mousemove",Q),H.removeEventListener("mouseup",re),H.removeEventListener("touchmove",Q),H.removeEventListener("touchend",re)}}H.addEventListener("mousemove",Q),H.addEventListener("mouseup",re),H.addEventListener("touchmove",Q),H.addEventListener("touchend",re)}function jd(e,{handle:t,connectionMode:n,fromNodeId:r,fromHandleId:i,fromType:o,doc:s,lib:a,flowId:u,isValidConnection:c=Xd,nodeLookup:d}){const h=o==="target",f=t?s.querySelector(`.${a}-flow__handle[data-id="${u}-${t==null?void 0:t.nodeId}-${t==null?void 0:t.id}-${t==null?void 0:t.type}"]`):null,{x:g,y:v}=gn(e),b=s.elementFromPoint(g,v),y=b!=null&&b.classList.contains(`${a}-flow__handle`)?b:f,w={handleDomNode:y,isValid:!1,connection:null,toHandle:null};if(y){const x=Yd(void 0,y),O=y.getAttribute("data-nodeid"),m=y.getAttribute("data-handleid"),P=y.classList.contains("connectable"),A=y.classList.contains("connectableend");if(!O||!x)return w;const I={source:h?O:r,sourceHandle:h?m:i,target:h?r:O,targetHandle:h?i:m};w.connection=I;const H=P&&A&&(n===bi.Strict?h&&x==="source"||!h&&x==="target":O!==r||m!==i);w.isValid=H&&c(I),w.toHandle=Wd(O,x,m,d,n,!0)}return w}const Eu={onPointerDown:Qy,isValid:jd},As=e=>({x:e.x,y:e.y,zoom:e.k}),Js=({x:e,y:t,zoom:n})=>Ss.translate(e,t).scale(n),ei=(e,t)=>e.target.closest(`.${t}`),Gd=(e,t)=>t===2&&Array.isArray(e)&&e.includes(2),Jy=e=>((e*=2)<=1?e*e*e:(e-=2)*e*e+2)/2,$s=(e,t=0,n=Jy,r=()=>{})=>{const i=typeof t=="number"&&t>0;return i||r(),i?e.transition().duration(t).ease(n).on("end",r):e},Ud=e=>{const t=e.ctrlKey&&os()?10:1;return-e.deltaY*(e.deltaMode===1?.05:e.deltaMode?1:.002)*t};function $y({zoomPanValues:e,noWheelClassName:t,d3Selection:n,d3Zoom:r,panOnScrollMode:i,panOnScrollSpeed:o,zoomOnPinch:s,onPanZoomStart:a,onPanZoom:u,onPanZoomEnd:c}){return d=>{if(ei(d,t))return d.ctrlKey&&d.preventDefault(),!1;d.preventDefault(),d.stopImmediatePropagation();const h=n.property("__zoom").k||1;if(d.ctrlKey&&s){const y=xn(d),w=Ud(d),x=h*Math.pow(2,w);r.scaleTo(n,x,y,d);return}const f=d.deltaMode===1?20:1;let g=i===ri.Vertical?0:d.deltaX*f,v=i===ri.Horizontal?0:d.deltaY*f;!os()&&d.shiftKey&&i!==ri.Vertical&&(g=d.deltaY*f,v=0),r.translateBy(n,-(g/h)*o,-(v/h)*o,{internal:!0});const b=As(n.property("__zoom"));clearTimeout(e.panScrollTimeout),e.isPanScrolling?(u==null||u(d,b),e.panScrollTimeout=setTimeout(()=>{c==null||c(d,b),e.isPanScrolling=!1},150)):(e.isPanScrolling=!0,a==null||a(d,b))}}function e0({noWheelClassName:e,preventScrolling:t,d3ZoomHandler:n}){return function(r,i){const o=r.type==="wheel",s=!t&&o&&!r.ctrlKey,a=ei(r,e);if(r.ctrlKey&&o&&a&&r.preventDefault(),s||a)return null;r.preventDefault(),n.call(this,r,i)}}function t0({zoomPanValues:e,onDraggingChange:t,onPanZoomStart:n}){return r=>{var o,s,a;if((o=r.sourceEvent)!=null&&o.internal)return;const i=As(r.transform);e.mouseButton=((s=r.sourceEvent)==null?void 0:s.button)||0,e.isZoomingOrPanning=!0,e.prevViewport=i,((a=r.sourceEvent)==null?void 0:a.type)==="mousedown"&&t(!0),n&&(n==null||n(r.sourceEvent,i))}}function n0({zoomPanValues:e,panOnDrag:t,onPaneContextMenu:n,onTransformChange:r,onPanZoom:i}){return o=>{var s,a;e.usedRightMouseButton=!!(n&&Gd(t,e.mouseButton??0)),(s=o.sourceEvent)!=null&&s.sync||r([o.transform.x,o.transform.y,o.transform.k]),i&&!((a=o.sourceEvent)!=null&&a.internal)&&(i==null||i(o.sourceEvent,As(o.transform)))}}function r0({zoomPanValues:e,panOnDrag:t,panOnScroll:n,onDraggingChange:r,onPanZoomEnd:i,onPaneContextMenu:o}){return s=>{var a;if(!((a=s.sourceEvent)!=null&&a.internal)&&(e.isZoomingOrPanning=!1,o&&Gd(t,e.mouseButton??0)&&!e.usedRightMouseButton&&s.sourceEvent&&o(s.sourceEvent),e.usedRightMouseButton=!1,r(!1),i)){const u=As(s.transform);e.prevViewport=u,clearTimeout(e.timerId),e.timerId=setTimeout(()=>{i==null||i(s.sourceEvent,u)},n?150:0)}}}function i0({zoomActivationKeyPressed:e,zoomOnScroll:t,zoomOnPinch:n,panOnDrag:r,panOnScroll:i,zoomOnDoubleClick:o,userSelectionActive:s,noWheelClassName:a,noPanClassName:u,lib:c,connectionInProgress:d}){return h=>{var y;const f=e||t,g=n&&h.ctrlKey,v=h.type==="wheel";if(h.button===1&&h.type==="mousedown"&&(ei(h,`${c}-flow__node`)||ei(h,`${c}-flow__edge`)))return!0;if(!r&&!f&&!i&&!o&&!n||s||d&&!v||ei(h,a)&&v||ei(h,u)&&(!v||i&&v&&!e)||!n&&h.ctrlKey&&v)return!1;if(!n&&h.type==="touchstart"&&((y=h.touches)==null?void 0:y.length)>1)return h.preventDefault(),!1;if(!f&&!i&&!g&&v||!r&&(h.type==="mousedown"||h.type==="touchstart")||Array.isArray(r)&&!r.includes(h.button)&&h.type==="mousedown")return!1;const b=Array.isArray(r)&&r.includes(h.button)||!h.button||h.button<=1;return(!h.ctrlKey||v)&&b}}function o0({domNode:e,minZoom:t,maxZoom:n,translateExtent:r,viewport:i,onPanZoom:o,onPanZoomStart:s,onPanZoomEnd:a,onDraggingChange:u}){const c={isZoomingOrPanning:!1,usedRightMouseButton:!1,prevViewport:{},mouseButton:0,timerId:void 0,panScrollTimeout:void 0,isPanScrolling:!1},d=e.getBoundingClientRect(),h=oy().scaleExtent([t,n]).translateExtent(r),f=Jt(e).call(h);x({x:i.x,y:i.y,zoom:_i(i.zoom,t,n)},[[0,0],[d.width,d.height]],r);const g=f.on("wheel.zoom"),v=f.on("dblclick.zoom");h.wheelDelta(Ud);function b(E,_){return f?new Promise(N=>{h==null||h.interpolate((_==null?void 0:_.interpolate)==="linear"?Wi:Yo).transform($s(f,_==null?void 0:_.duration,_==null?void 0:_.ease,()=>N(!0)),E)}):Promise.resolve(!1)}function y({noWheelClassName:E,noPanClassName:_,onPaneContextMenu:N,userSelectionActive:p,panOnScroll:T,panOnDrag:S,panOnScrollMode:M,panOnScrollSpeed:V,preventScrolling:K,zoomOnPinch:X,zoomOnScroll:G,zoomOnDoubleClick:U,zoomActivationKeyPressed:Z,lib:D,onTransformChange:C,connectionInProgress:B,paneClickDistance:Y,selectionOnDrag:j}){p&&!c.isZoomingOrPanning&&w();const Q=T&&!Z&&!p;h.clickDistance(j?1/0:!Gn(Y)||Y<0?0:Y);const re=Q?$y({zoomPanValues:c,noWheelClassName:E,d3Selection:f,d3Zoom:h,panOnScrollMode:M,panOnScrollSpeed:V,zoomOnPinch:X,onPanZoomStart:s,onPanZoom:o,onPanZoomEnd:a}):e0({noWheelClassName:E,preventScrolling:K,d3ZoomHandler:g});if(f.on("wheel.zoom",re,{passive:!1}),!p){const pe=t0({zoomPanValues:c,onDraggingChange:u,onPanZoomStart:s});h.on("start",pe);const me=n0({zoomPanValues:c,panOnDrag:S,onPaneContextMenu:!!N,onPanZoom:o,onTransformChange:C});h.on("zoom",me);const xe=r0({zoomPanValues:c,panOnDrag:S,panOnScroll:T,onPaneContextMenu:N,onPanZoomEnd:a,onDraggingChange:u});h.on("end",xe)}const ie=i0({zoomActivationKeyPressed:Z,panOnDrag:S,zoomOnScroll:G,panOnScroll:T,zoomOnDoubleClick:U,zoomOnPinch:X,userSelectionActive:p,noPanClassName:_,noWheelClassName:E,lib:D,connectionInProgress:B});h.filter(ie),U?f.on("dblclick.zoom",v):f.on("dblclick.zoom",null)}function w(){h.on("zoom",null)}async function x(E,_,N){const p=Js(E),T=h==null?void 0:h.constrain()(p,_,N);return T&&await b(T),new Promise(S=>S(T))}async function O(E,_){const N=Js(E);return await b(N,_),new Promise(p=>p(N))}function m(E){if(f){const _=Js(E),N=f.property("__zoom");(N.k!==E.zoom||N.x!==E.x||N.y!==E.y)&&(h==null||h.transform(f,_,null,{sync:!0}))}}function P(){const E=f?Sd(f.node()):{x:0,y:0,k:1};return{x:E.x,y:E.y,zoom:E.k}}function A(E,_){return f?new Promise(N=>{h==null||h.interpolate((_==null?void 0:_.interpolate)==="linear"?Wi:Yo).scaleTo($s(f,_==null?void 0:_.duration,_==null?void 0:_.ease,()=>N(!0)),E)}):Promise.resolve(!1)}function I(E,_){return f?new Promise(N=>{h==null||h.interpolate((_==null?void 0:_.interpolate)==="linear"?Wi:Yo).scaleBy($s(f,_==null?void 0:_.duration,_==null?void 0:_.ease,()=>N(!0)),E)}):Promise.resolve(!1)}function k(E){h==null||h.scaleExtent(E)}function H(E){h==null||h.translateExtent(E)}function z(E){const _=!Gn(E)||E<0?0:E;h==null||h.clickDistance(_)}return{update:y,destroy:w,setViewport:O,setViewportConstrained:x,getViewport:P,scaleTo:A,scaleBy:I,setScaleExtent:k,setTranslateExtent:H,syncViewport:m,setClickDistance:z}}var eo;(function(e){e.Line="line",e.Handle="handle"})(eo||(eo={}));const s0=["top-left","top-right","bottom-left","bottom-right"],a0=["top","right","bottom","left"];function l0({width:e,prevWidth:t,height:n,prevHeight:r,affectsX:i,affectsY:o}){const s=e-t,a=n-r,u=[s>0?1:s<0?-1:0,a>0?1:a<0?-1:0];return s&&i&&(u[0]=u[0]*-1),a&&o&&(u[1]=u[1]*-1),u}function Nu(e){const t=e.includes("right")||e.includes("left"),n=e.includes("bottom")||e.includes("top"),r=e.includes("left"),i=e.includes("top");return{isHorizontal:t,isVertical:n,affectsX:r,affectsY:i}}function nr(e,t){return Math.max(0,t-e)}function rr(e,t){return Math.max(0,e-t)}function Vo(e,t,n){return Math.max(0,t-e,e-n)}function ku(e,t){return e?!t:t}function u0(e,t,n,r,i,o,s,a){let{affectsX:u,affectsY:c}=t;const{isHorizontal:d,isVertical:h}=t,f=d&&h,{xSnapped:g,ySnapped:v}=n,{minWidth:b,maxWidth:y,minHeight:w,maxHeight:x}=r,{x:O,y:m,width:P,height:A,aspectRatio:I}=e;let k=Math.floor(d?g-e.pointerX:0),H=Math.floor(h?v-e.pointerY:0);const z=P+(u?-k:k),E=A+(c?-H:H),_=-o[0]*P,N=-o[1]*A;let p=Vo(z,b,y),T=Vo(E,w,x);if(s){let V=0,K=0;u&&k<0?V=nr(O+k+_,s[0][0]):!u&&k>0&&(V=rr(O+z+_,s[1][0])),c&&H<0?K=nr(m+H+N,s[0][1]):!c&&H>0&&(K=rr(m+E+N,s[1][1])),p=Math.max(p,V),T=Math.max(T,K)}if(a){let V=0,K=0;u&&k>0?V=rr(O+k,a[0][0]):!u&&k<0&&(V=nr(O+z,a[1][0])),c&&H>0?K=rr(m+H,a[0][1]):!c&&H<0&&(K=nr(m+E,a[1][1])),p=Math.max(p,V),T=Math.max(T,K)}if(i){if(d){const V=Vo(z/I,w,x)*I;if(p=Math.max(p,V),s){let K=0;!u&&!c||u&&!c&&f?K=rr(m+N+z/I,s[1][1])*I:K=nr(m+N+(u?k:-k)/I,s[0][1])*I,p=Math.max(p,K)}if(a){let K=0;!u&&!c||u&&!c&&f?K=nr(m+z/I,a[1][1])*I:K=rr(m+(u?k:-k)/I,a[0][1])*I,p=Math.max(p,K)}}if(h){const V=Vo(E*I,b,y)/I;if(T=Math.max(T,V),s){let K=0;!u&&!c||c&&!u&&f?K=rr(O+E*I+_,s[1][0])/I:K=nr(O+(c?H:-H)*I+_,s[0][0])/I,T=Math.max(T,K)}if(a){let K=0;!u&&!c||c&&!u&&f?K=nr(O+E*I,a[1][0])/I:K=rr(O+(c?H:-H)*I,a[0][0])/I,T=Math.max(T,K)}}}H=H+(H<0?T:-T),k=k+(k<0?p:-p),i&&(f?z>E*I?H=(ku(u,c)?-k:k)/I:k=(ku(u,c)?-H:H)*I:d?(H=k/I,c=u):(k=H*I,u=c));const S=u?O+k:O,M=c?m+H:m;return{width:P+(u?-k:k),height:A+(c?-H:H),x:o[0]*k*(u?-1:1)+S,y:o[1]*H*(c?-1:1)+M}}const qd={width:0,height:0,x:0,y:0},c0={...qd,pointerX:0,pointerY:0,aspectRatio:1};function d0(e){return[[0,0],[e.measured.width,e.measured.height]]}function f0(e,t,n){const r=t.position.x+e.position.x,i=t.position.y+e.position.y,o=e.measured.width??0,s=e.measured.height??0,a=n[0]*o,u=n[1]*s;return[[r-a,i-u],[r+o-a,i+s-u]]}function h0({domNode:e,nodeId:t,getStoreItems:n,onChange:r,onEnd:i}){const o=Jt(e);let s={controlDirection:Nu("bottom-right"),boundaries:{minWidth:0,minHeight:0,maxWidth:Number.MAX_VALUE,maxHeight:Number.MAX_VALUE},resizeDirection:void 0,keepAspectRatio:!1};function a({controlPosition:c,boundaries:d,keepAspectRatio:h,resizeDirection:f,onResizeStart:g,onResize:v,onResizeEnd:b,shouldResize:y}){let w={...qd},x={...c0};s={boundaries:d,resizeDirection:f,keepAspectRatio:h,controlDirection:Nu(c)};let O,m=null,P=[],A,I,k,H=!1;const z=hd().on("start",E=>{const{nodeLookup:_,transform:N,snapGrid:p,snapToGrid:T,nodeOrigin:S,paneDomNode:M}=n();if(O=_.get(t),!O)return;m=(M==null?void 0:M.getBoundingClientRect())??null;const{xSnapped:V,ySnapped:K}=Yi(E.sourceEvent,{transform:N,snapGrid:p,snapToGrid:T,containerBounds:m});w={width:O.measured.width??0,height:O.measured.height??0,x:O.position.x??0,y:O.position.y??0},x={...w,pointerX:V,pointerY:K,aspectRatio:w.width/w.height},A=void 0,O.parentId&&(O.extent==="parent"||O.expandParent)&&(A=_.get(O.parentId),I=A&&O.extent==="parent"?d0(A):void 0),P=[],k=void 0;for(const[X,G]of _)if(G.parentId===t&&(P.push({id:X,position:{...G.position},extent:G.extent}),G.extent==="parent"||G.expandParent)){const U=f0(G,O,G.origin??S);k?k=[[Math.min(U[0][0],k[0][0]),Math.min(U[0][1],k[0][1])],[Math.max(U[1][0],k[1][0]),Math.max(U[1][1],k[1][1])]]:k=U}g==null||g(E,{...w})}).on("drag",E=>{const{transform:_,snapGrid:N,snapToGrid:p,nodeOrigin:T}=n(),S=Yi(E.sourceEvent,{transform:_,snapGrid:N,snapToGrid:p,containerBounds:m}),M=[];if(!O)return;const{x:V,y:K,width:X,height:G}=w,U={},Z=O.origin??T,{width:D,height:C,x:B,y:Y}=u0(x,s.controlDirection,S,s.boundaries,s.keepAspectRatio,Z,I,k),j=D!==X,Q=C!==G,re=B!==V&&j,ie=Y!==K&&Q;if(!re&&!ie&&!j&&!Q)return;if((re||ie||Z[0]===1||Z[1]===1)&&(U.x=re?B:w.x,U.y=ie?Y:w.y,w.x=U.x,w.y=U.y,P.length>0)){const Se=B-V,oe=Y-K;for(const ne of P)ne.position={x:ne.position.x-Se+Z[0]*(D-X),y:ne.position.y-oe+Z[1]*(C-G)},M.push(ne)}if((j||Q)&&(U.width=j&&(!s.resizeDirection||s.resizeDirection==="horizontal")?D:w.width,U.height=Q&&(!s.resizeDirection||s.resizeDirection==="vertical")?C:w.height,w.width=U.width,w.height=U.height),A&&O.expandParent){const Se=Z[0]*(U.width??0);U.x&&U.x<Se&&(w.x=Se,x.x=x.x-(U.x-Se));const oe=Z[1]*(U.height??0);U.y&&U.y<oe&&(w.y=oe,x.y=x.y-(U.y-oe))}const pe=l0({width:w.width,prevWidth:X,height:w.height,prevHeight:G,affectsX:s.controlDirection.affectsX,affectsY:s.controlDirection.affectsY}),me={...w,direction:pe};(y==null?void 0:y(E,me))!==!1&&(H=!0,v==null||v(E,me),r(U,M))}).on("end",E=>{H&&(b==null||b(E,{...w}),i==null||i({...w}),H=!1)});o.call(z)}function u(){o.on(".drag",null)}return{update:a,destroy:u}}function vl(){const e={};return[t=>{if(t&&!hh(e))throw new Error(t);return Wa(e)},t=>Ya(e,t)]}const[Zd,g0]=vl(),[v0,p0]=vl(),[m0,y0]=vl();var b0=de("<div><!></div>");function to(e,t){Ne(t,!0);let n=ee(t,"id",3,null),r=ee(t,"type",3,"source"),i=ee(t,"position",19,()=>Ce.Top),o=ee(t,"isConnectableStart",3,!0),s=ee(t,"isConnectableEnd",3,!0),a=Yr(t,["$$slots","$$events","$$legacy","id","type","position","style","class","isConnectable","isConnectableStart","isConnectableEnd","isValidConnection","onconnect","ondisconnect","children"]);const u=Zd("Handle must be used within a Custom Node component"),c=v0("Handle must be used within a Custom Node component");let d=F(()=>r()==="target"),h=F(()=>t.isConnectable!==void 0?t.isConnectable:c.value),f=mr(),g=F(()=>f.ariaLabelConfig),v=null;qa(()=>{if(t.onconnect||t.ondisconnect){f.edges;let _=f.connectionLookup.get(`${u}-${r()}${n()?`-${n()}`:""}`);if(v&&!ay(_,v)){const N=_??new Map;du(v,N,t.ondisconnect),du(N,v,t.onconnect)}v=new Map(_)}});let b=F(()=>{if(!f.connection.inProgress)return[!1,!1,!1,!1,null];const{fromHandle:_,toHandle:N,isValid:p}=f.connection,T=_&&_.nodeId===u&&_.type===r()&&_.id===n(),S=N&&N.nodeId===u&&N.type===r()&&N.id===n(),M=f.connectionMode===bi.Strict?(_==null?void 0:_.type)!==r():u!==(_==null?void 0:_.nodeId)||n()!==(_==null?void 0:_.id);return[!0,T,S,M,S&&p]}),y=F(()=>vr(l(b),5)),w=F(()=>l(y)[0]),x=F(()=>l(y)[1]),O=F(()=>l(y)[2]),m=F(()=>l(y)[3]),P=F(()=>l(y)[4]);function A(_){var p;const N=f.onbeforeconnect?f.onbeforeconnect(_):_;N&&(f.addEdge(N),(p=f.onconnect)==null||p.call(f,_))}function I(_){const N=zd(_);_.currentTarget&&(N&&_.button===0||!N)&&Eu.onPointerDown(_,{handleId:n(),nodeId:u,isTarget:l(d),connectionRadius:f.connectionRadius,domNode:f.domNode,nodeLookup:f.nodeLookup,connectionMode:f.connectionMode,lib:"svelte",autoPanOnConnect:f.autoPanOnConnect,autoPanSpeed:f.autoPanSpeed,flowId:f.flowId,isValidConnection:t.isValidConnection??f.isValidConnection,updateConnection:f.updateConnection,cancelConnection:f.cancelConnection,panBy:f.panBy,onConnect:A,onConnectStart:(p,T)=>{var S;(S=f.onconnectstart)==null||S.call(f,p,{nodeId:T.nodeId,handleId:T.handleId,handleType:T.handleType})},onConnectEnd:(p,T)=>{var S;(S=f.onconnectend)==null||S.call(f,p,T)},getTransform:()=>[f.viewport.x,f.viewport.y,f.viewport.zoom],getFromHandle:()=>f.connection.fromHandle,dragThreshold:f.connectionDragThreshold,handleDomNode:_.currentTarget})}function k(_){var U,Z;if(!u||!f.clickConnectStartHandle&&!o())return;if(!f.clickConnectStartHandle){(U=f.onclickconnectstart)==null||U.call(f,_,{nodeId:u,handleId:n(),handleType:r()}),f.clickConnectStartHandle={nodeId:u,type:r(),id:n()};return}const N=Dd(_.target),p=t.isValidConnection??f.isValidConnection,{connectionMode:T,clickConnectStartHandle:S,flowId:M,nodeLookup:V}=f,{connection:K,isValid:X}=Eu.isValid(_,{handle:{nodeId:u,id:n(),type:r()},connectionMode:T,fromNodeId:S.nodeId,fromHandleId:S.id??null,fromType:S.type,isValidConnection:p,flowId:M,doc:N,lib:"svelte",nodeLookup:V});X&&K&&A(K);const G=structuredClone(ac(f.connection));delete G.inProgress,G.toPosition=G.toHandle?G.toHandle.position:null,(Z=f.onclickconnectend)==null||Z.call(f,_,G),f.clickConnectStartHandle=null}var H=b0(),z=()=>{};vn(H,()=>({"data-handleid":n(),"data-nodeid":u,"data-handlepos":i(),"data-id":`${f.flowId??""}-${u??""}-${n()??"null"??""}-${r()??""}`,class:["svelte-flow__handle",`svelte-flow__handle-${i()}`,f.noDragClass,f.noPanClass,i(),t.class],onmousedown:I,ontouchstart:I,onclick:f.clickConnect?k:void 0,onkeypress:z,style:t.style,role:"button","aria-label":l(g)["handle.ariaLabel"],tabindex:"-1",...a,[ir]:{valid:l(P),connectingto:l(O),connectingfrom:l(x),source:!l(d),target:l(d),connectablestart:o(),connectableend:s(),connectable:l(h),connectionindicator:l(h)&&(!l(w)||l(m))&&(l(w)||f.clickConnectStartHandle?s():o())}}));var E=ae(H);Rn(E,()=>t.children??gr),te(e,H),ke()}var _0=de("<!> <!>",1);function Qd(e,t){Ne(t,!0);let n=ee(t,"targetPosition",19,()=>Ce.Top),r=ee(t,"sourcePosition",19,()=>Ce.Bottom);var i=_0(),o=Ae(i);to(o,{type:"target",get position(){return n()}});var s=ge(o),a=ge(s);to(a,{type:"source",get position(){return r()}}),be(()=>{var u;return Ye(s,` ${((u=t.data)==null?void 0:u.label)??""} `)}),te(e,i),ke()}var w0=de(" <!>",1);function x0(e,t){Ne(t,!0);let n=ee(t,"data",19,()=>({label:"Node"})),r=ee(t,"sourcePosition",19,()=>Ce.Bottom);var i=w0(),o=Ae(i),s=ge(o);to(s,{type:"source",get position(){return r()}}),be(()=>{var a;return Ye(o,`${((a=n())==null?void 0:a.label)??""} `)}),te(e,i),ke()}var E0=de(" <!>",1);function N0(e,t){Ne(t,!0);let n=ee(t,"data",19,()=>({label:"Node"})),r=ee(t,"targetPosition",19,()=>Ce.Top);var i=E0(),o=Ae(i),s=ge(o);to(s,{type:"target",get position(){return r()}}),be(()=>{var a;return Ye(o,`${((a=n())==null?void 0:a.label)??""} `)}),te(e,i),ke()}function k0(e,t){}function ea(e,t,n){if(!n||!t)return;const r=n==="root"?t:t.querySelector(`.svelte-flow__${n}`);r&&r.appendChild(e)}function ta(e,t){const n=F(mr),r=F(()=>l(n).domNode);let i;return l(r)?ea(e,l(r),t):i=Cc(()=>{et(()=>{ea(e,l(r),t),i==null||i()})}),{async update(o){ea(e,l(r),o)},destroy(){e.parentNode&&e.parentNode.removeChild(e),i==null||i()}}}function I0(){let e=Ie(typeof window>"u");if(l(e)){const t=Cc(()=>{et(()=>{W(e,!1),t==null||t()})})}return{get value(){return l(e)}}}const Iu=e=>uy(e),S0=e=>Od(e);function Mn(e){return e===void 0?void 0:`${e}px`}const ss={ArrowUp:{x:0,y:-1},ArrowDown:{x:0,y:1},ArrowLeft:{x:-1,y:0},ArrowRight:{x:1,y:0}};var T0=de("<div><!></div>");function O0(e,t){Ne(t,!0);let n=ee(t,"x",3,0),r=ee(t,"y",3,0),i=ee(t,"selectEdgeOnClick",3,!1),o=ee(t,"transparent",3,!1),s=Yr(t,["$$slots","$$events","$$legacy","x","y","width","height","selectEdgeOnClick","transparent","class","children"]);const a=mr(),u=m0("EdgeLabel must be used within a Custom Edge component");let c=F(()=>{var g;return(g=a.visible.edges.get(u))==null?void 0:g.zIndex});var d=T0(),h=()=>{i()&&u&&a.handleEdgeSelection(u)};vn(d,g=>({class:["svelte-flow__edge-label",{transparent:o()},t.class],tabindex:"-1",onclick:h,...s,[Yn]:g}),[()=>({display:I0().value?"none":void 0,cursor:i()?"pointer":void 0,transform:`translate(-50%, -50%) translate(${n()??""}px,${r()??""}px)`,"pointer-events":"all",width:Mn(t.width),height:Mn(t.height),"z-index":l(c)})],void 0,void 0,"svelte-1g6l770");var f=ae(d);Rn(f,()=>t.children??gr),zt(d,(g,v)=>ta==null?void 0:ta(g,v),()=>"edge-labels"),te(e,d),ke()}var C0=Gt("<path></path>"),A0=Gt('<path fill="none"></path><!><!>',1);function Ms(e,t){let n=ee(t,"interactionWidth",3,20),r=Yr(t,["$$slots","$$events","$$legacy","id","path","label","labelX","labelY","labelStyle","markerStart","markerEnd","style","interactionWidth","class"]);var i=A0(),o=Ae(i),s=ge(o);{var a=d=>{var h=C0();vn(h,()=>({d:t.path,"stroke-opacity":0,"stroke-width":n(),fill:"none",class:"svelte-flow__edge-interaction",...r})),te(d,h)};De(s,d=>{n()>0&&d(a)})}var u=ge(s);{var c=d=>{O0(d,{get x(){return t.labelX},get y(){return t.labelY},get style(){return t.labelStyle},selectEdgeOnClick:!0,children:(h,f)=>{var g=$h();be(()=>Ye(g,t.label)),te(h,g)},$$slots:{default:!0}})};De(u,d=>{t.label&&d(c)})}be(()=>{ye(o,"id",t.id),ye(o,"d",t.path),Ct(o,0,Wr(["svelte-flow__edge-path",t.class])),ye(o,"marker-start",t.markerStart),ye(o,"marker-end",t.markerEnd),Ze(o,t.style)}),te(e,i)}function Jd(e,t){Ne(t,!0);let n=F(()=>{var a;return Ld({sourceX:t.sourceX,sourceY:t.sourceY,targetX:t.targetX,targetY:t.targetY,sourcePosition:t.sourcePosition,targetPosition:t.targetPosition,curvature:(a=t.pathOptions)==null?void 0:a.curvature})}),r=F(()=>vr(l(n),3)),i=F(()=>l(r)[0]),o=F(()=>l(r)[1]),s=F(()=>l(r)[2]);Ms(e,{get id(){return t.id},get path(){return l(i)},get labelX(){return l(o)},get labelY(){return l(s)},get label(){return t.label},get labelStyle(){return t.labelStyle},get markerStart(){return t.markerStart},get markerEnd(){return t.markerEnd},get interactionWidth(){return t.interactionWidth},get style(){return t.style}}),ke()}function M0(e,t){Ne(t,!0);let n=F(()=>cl({sourceX:t.sourceX,sourceY:t.sourceY,targetX:t.targetX,targetY:t.targetY,sourcePosition:t.sourcePosition,targetPosition:t.targetPosition})),r=F(()=>vr(l(n),3)),i=F(()=>l(r)[0]),o=F(()=>l(r)[1]),s=F(()=>l(r)[2]);Ms(e,{get path(){return l(i)},get labelX(){return l(o)},get labelY(){return l(s)},get label(){return t.label},get labelStyle(){return t.labelStyle},get markerStart(){return t.markerStart},get markerEnd(){return t.markerEnd},get interactionWidth(){return t.interactionWidth},get style(){return t.style}}),ke()}function P0(e,t){Ne(t,!0);let n=F(()=>Fd({sourceX:t.sourceX,sourceY:t.sourceY,targetX:t.targetX,targetY:t.targetY})),r=F(()=>vr(l(n),3)),i=F(()=>l(r)[0]),o=F(()=>l(r)[1]),s=F(()=>l(r)[2]);Ms(e,{get path(){return l(i)},get labelX(){return l(o)},get labelY(){return l(s)},get label(){return t.label},get labelStyle(){return t.labelStyle},get markerStart(){return t.markerStart},get markerEnd(){return t.markerEnd},get interactionWidth(){return t.interactionWidth},get style(){return t.style}}),ke()}function D0(e,t){Ne(t,!0);let n=F(()=>cl({sourceX:t.sourceX,sourceY:t.sourceY,targetX:t.targetX,targetY:t.targetY,sourcePosition:t.sourcePosition,targetPosition:t.targetPosition,borderRadius:0})),r=F(()=>vr(l(n),3)),i=F(()=>l(r)[0]),o=F(()=>l(r)[1]),s=F(()=>l(r)[2]);Ms(e,{get path(){return l(i)},get labelX(){return l(o)},get labelY(){return l(s)},get label(){return t.label},get labelStyle(){return t.labelStyle},get markerStart(){return t.markerStart},get markerEnd(){return t.markerEnd},get interactionWidth(){return t.interactionWidth},get style(){return t.style}}),ke()}var ao,lo;class R0{constructor(t,n){se(this,ao);se(this,lo);Me(this,ao,t),Me(this,lo,mc(n))}get current(){return R(this,lo).call(this),R(this,ao).call(this)}}ao=new WeakMap,lo=new WeakMap;const z0=/\(.+\)/,L0=new Set(["all","print","screen","and","or","not","only"]);class V0 extends R0{constructor(t,n){let r=z0.test(t)||t.split(/[\s,]+/).some(o=>L0.has(o.trim()))?t:`(${t})`;const i=window.matchMedia(r);super(()=>i.matches,o=>ma(i,"change",o))}}function F0(e,t,n,r){const i=new Map;return ll(e,{x:0,y:0,width:n,height:r},t,!0).forEach(o=>{i.set(o.id,o)}),i}function Su(e){const{edges:t,defaultEdgeOptions:n,nodeLookup:r,previousEdges:i,connectionMode:o,onerror:s,onlyRenderVisible:a,elevateEdgesOnSelect:u,zIndexMode:c}=e,d=new Map;for(const h of t){const f=r.get(h.source),g=r.get(h.target);if(!f||!g)continue;if(a){const{visibleNodes:y,transform:w,width:x,height:O}=e;if(ky({sourceNode:f,targetNode:g,width:x,height:O,transform:w}))y.set(f.id,f),y.set(g.id,g);else continue}const v=i.get(h.id);if(v&&h===v.edge&&f==v.sourceNode&&g==v.targetNode){d.set(h.id,v);continue}const b=Ay({id:h.id,sourceNode:f,targetNode:g,sourceHandle:h.sourceHandle||null,targetHandle:h.targetHandle||null,connectionMode:o,onError:s});b&&d.set(h.id,{...n,...h,...b,zIndex:Ny({selected:h.selected,zIndex:h.zIndex??n.zIndex,sourceNode:f,targetNode:g,elevateOnSelect:u,zIndexMode:c}),sourceNode:f,targetNode:g,edge:h})}return d}const $d={input:x0,output:N0,default:Qd,group:k0},ef={straight:P0,smoothstep:M0,default:Jd,step:D0};function H0(e,t,n,r,i,o){if(t&&!n&&r&&i){const s=Ts(o,{filter:a=>!!((a.width||a.initialWidth)&&(a.height||a.initialHeight))});return ul(s,r,i,.5,2,.1)}else return n??{x:0,y:0,zoom:1}}function K0(e){var n,r,i,o,s,a,u,c,d,h,f,g,v,b,y,w,x,O,m,P,A,I,k,H,z,E,_,N,p,T,S,M,V,K,X,G,U,Z,D,C,B,Y,j,Q,re,ie,pe,me,xe,Se,oe,ne,fe,$,le,he,we,Re,ze,Be,$e,gt,Fe,dt,St,bn,_n,Mt,ce,Oe,je,rt,qe,ft,Pt,Dt;class t{constructor(){se(this,n,F(()=>e.props.id??"1"));se(this,r,Ie(null));se(this,i,Ie(null));se(this,o,Ie(e.width??0));se(this,s,Ie(e.height??0));se(this,a,Ie(e.props.zIndexMode??"basic"));se(this,u,F(()=>{var Tt;const q=Ly(e.nodes,this.nodeLookup,this.parentLookup,{nodeExtent:this.nodeExtent,nodeOrigin:this.nodeOrigin,elevateNodesOnSelect:e.props.elevateNodesOnSelect??!0,checkEquality:!0,zIndexMode:this.zIndexMode});return this.fitViewQueued&&q&&((Tt=this.fitViewOptions)!=null&&Tt.duration?this.resolveFitView():queueMicrotask(()=>{this.resolveFitView()})),q}));se(this,c,F(()=>this.panZoom!==null));se(this,d,F(()=>(Wy(this.connectionLookup,this.edgeLookup,e.edges),e.edges)));nt(this,"_prevSelectedNodes",[]);nt(this,"_prevSelectedNodeIds",new Set);se(this,h,F(()=>{const q=this._prevSelectedNodeIds.size,Tt=new Set,an=this.nodes.filter(vt=>(vt.selected&&(Tt.add(vt.id),this._prevSelectedNodeIds.delete(vt.id)),vt.selected));return(q!==Tt.size||this._prevSelectedNodeIds.size>0)&&(this._prevSelectedNodes=an),this._prevSelectedNodeIds=Tt,this._prevSelectedNodes}));nt(this,"_prevSelectedEdges",[]);nt(this,"_prevSelectedEdgeIds",new Set);se(this,f,F(()=>{const q=this._prevSelectedEdgeIds.size,Tt=new Set,an=this.edges.filter(vt=>(vt.selected&&(Tt.add(vt.id),this._prevSelectedEdgeIds.delete(vt.id)),vt.selected));return(q!==Tt.size||this._prevSelectedEdgeIds.size>0)&&(this._prevSelectedEdges=an),this._prevSelectedEdgeIds=Tt,this._prevSelectedEdges}));nt(this,"selectionChangeHandlers",new Map);nt(this,"nodeLookup",new Map);nt(this,"parentLookup",new Map);nt(this,"connectionLookup",new Map);nt(this,"edgeLookup",new Map);nt(this,"_prevVisibleEdges",new Map);se(this,g,F(()=>{const{nodes:q,_edges:Tt,_prevVisibleEdges:an,nodeLookup:vt,connectionMode:Si,onerror:Ds,onlyRenderVisibleElements:Rs,defaultEdgeOptions:zs,zIndexMode:Ls}=this;let Zr,Ti;const br={edges:Tt,defaultEdgeOptions:zs,previousEdges:an,nodeLookup:vt,connectionMode:Si,elevateEdgesOnSelect:e.props.elevateEdgesOnSelect??!0,zIndexMode:Ls,onerror:Ds};if(Rs){const{viewport:Oi,width:ko,height:Vn}=this,Io=[Oi.x,Oi.y,Oi.zoom];Zr=F0(vt,Io,ko,Vn),Ti=Su({...br,onlyRenderVisible:!0,visibleNodes:Zr,transform:Io,width:ko,height:Vn})}else Zr=this.nodeLookup,Ti=Su(br);return{nodes:Zr,edges:Ti}}));se(this,v,F(()=>e.props.nodesDraggable??!0));se(this,b,F(()=>e.props.nodesConnectable??!0));se(this,y,F(()=>e.props.elementsSelectable??!0));se(this,w,F(()=>e.props.nodesFocusable??!0));se(this,x,F(()=>e.props.edgesFocusable??!0));se(this,O,F(()=>e.props.disableKeyboardA11y??!1));se(this,m,F(()=>e.props.minZoom??.5));se(this,P,F(()=>e.props.maxZoom??2));se(this,A,F(()=>e.props.nodeOrigin??[0,0]));se(this,I,F(()=>e.props.nodeExtent??Ca));se(this,k,F(()=>e.props.translateExtent??Ca));se(this,H,F(()=>e.props.defaultEdgeOptions??{}));se(this,z,F(()=>e.props.nodeDragThreshold??1));se(this,E,F(()=>e.props.autoPanOnNodeDrag??!0));se(this,_,F(()=>e.props.autoPanOnConnect??!0));se(this,N,F(()=>e.props.autoPanOnNodeFocus??!0));se(this,p,F(()=>e.props.autoPanSpeed??15));se(this,T,F(()=>e.props.connectionDragThreshold??1));nt(this,"fitViewQueued",e.props.fitView??!1);nt(this,"fitViewOptions",e.props.fitViewOptions);nt(this,"fitViewResolver",null);se(this,S,F(()=>e.props.snapGrid??null));se(this,M,Ie(!1));se(this,V,Ie(null));se(this,K,Ie(!1));se(this,X,Ie(!1));se(this,G,Ie(!1));se(this,U,Ie(!1));se(this,Z,Ie(!1));se(this,D,Ie(null));se(this,C,Ie(""));se(this,B,F(()=>e.props.selectionMode??Ji.Partial));se(this,Y,F(()=>({...$d,...e.props.nodeTypes})));se(this,j,F(()=>({...ef,...e.props.edgeTypes})));se(this,Q,F(()=>e.props.noPanClass??"nopan"));se(this,re,F(()=>e.props.noDragClass??"nodrag"));se(this,ie,F(()=>e.props.noWheelClass??"nowheel"));se(this,pe,F(()=>wy(e.props.ariaLabelConfig)));se(this,me,Ie(H0(this.nodesInitialized,e.props.fitView,e.props.initialViewport,this.width,this.height,this.nodeLookup)));se(this,xe,Ie(Aa));se(this,Se,F(()=>this._connection.inProgress?{...this._connection,to:No(this._connection.to,[this.viewport.x,this.viewport.y,this.viewport.zoom])}:this._connection));se(this,oe,F(()=>e.props.connectionMode??bi.Strict));se(this,ne,F(()=>e.props.connectionRadius??20));se(this,fe,F(()=>e.props.isValidConnection??(()=>!0)));se(this,$,F(()=>e.props.selectNodesOnDrag??!0));se(this,le,F(()=>e.props.defaultMarkerColor===void 0?"#b1b1b7":e.props.defaultMarkerColor));se(this,he,F(()=>My(e.edges,{defaultColor:this.defaultMarkerColor,id:this.flowId,defaultMarkerStart:this.defaultEdgeOptions.markerStart,defaultMarkerEnd:this.defaultEdgeOptions.markerEnd})));se(this,we,F(()=>e.props.onlyRenderVisibleElements??!1));se(this,Re,F(()=>e.props.onflowerror??py));se(this,ze,F(()=>e.props.ondelete));se(this,Be,F(()=>e.props.onbeforedelete));se(this,$e,F(()=>e.props.onbeforeconnect));se(this,gt,F(()=>e.props.onconnect));se(this,Fe,F(()=>e.props.onconnectstart));se(this,dt,F(()=>e.props.onconnectend));se(this,St,F(()=>e.props.onbeforereconnect));se(this,bn,F(()=>e.props.onreconnect));se(this,_n,F(()=>e.props.onreconnectstart));se(this,Mt,F(()=>e.props.onreconnectend));se(this,ce,F(()=>e.props.clickConnect??!0));se(this,Oe,F(()=>e.props.onclickconnectstart));se(this,je,F(()=>e.props.onclickconnectend));se(this,rt,Ie(null));se(this,qe,F(()=>e.props.onselectiondrag));se(this,ft,F(()=>e.props.onselectiondragstart));se(this,Pt,F(()=>e.props.onselectiondragstop));nt(this,"resolveFitView",async()=>{var q;this.panZoom&&(await hy({nodes:this.nodeLookup,width:this.width,height:this.height,panZoom:this.panZoom,minZoom:this.minZoom,maxZoom:this.maxZoom},this.fitViewOptions),(q=this.fitViewResolver)==null||q.resolve(!0),this.fitViewQueued=!1,this.fitViewOptions=void 0,this.fitViewResolver=null)});nt(this,"_prefersDark",new V0("(prefers-color-scheme: dark)",e.props.colorModeSSR==="dark"));se(this,Dt,F(()=>e.props.colorMode==="system"?this._prefersDark.current?"dark":"light":e.props.colorMode??"light"))}get flowId(){return l(R(this,n))}set flowId(q){W(R(this,n),q)}get domNode(){return l(R(this,r))}set domNode(q){W(R(this,r),q)}get panZoom(){return l(R(this,i))}set panZoom(q){W(R(this,i),q)}get width(){return l(R(this,o))}set width(q){W(R(this,o),q)}get height(){return l(R(this,s))}set height(q){W(R(this,s),q)}get zIndexMode(){return l(R(this,a))}set zIndexMode(q){W(R(this,a),q)}get nodesInitialized(){return l(R(this,u))}set nodesInitialized(q){W(R(this,u),q)}get viewportInitialized(){return l(R(this,c))}set viewportInitialized(q){W(R(this,c),q)}get _edges(){return l(R(this,d))}set _edges(q){W(R(this,d),q)}get nodes(){return this.nodesInitialized,e.nodes}set nodes(q){e.nodes=q}get edges(){return this._edges}set edges(q){e.edges=q}get selectedNodes(){return l(R(this,h))}set selectedNodes(q){W(R(this,h),q)}get selectedEdges(){return l(R(this,f))}set selectedEdges(q){W(R(this,f),q)}get visible(){return l(R(this,g))}set visible(q){W(R(this,g),q)}get nodesDraggable(){return l(R(this,v))}set nodesDraggable(q){W(R(this,v),q)}get nodesConnectable(){return l(R(this,b))}set nodesConnectable(q){W(R(this,b),q)}get elementsSelectable(){return l(R(this,y))}set elementsSelectable(q){W(R(this,y),q)}get nodesFocusable(){return l(R(this,w))}set nodesFocusable(q){W(R(this,w),q)}get edgesFocusable(){return l(R(this,x))}set edgesFocusable(q){W(R(this,x),q)}get disableKeyboardA11y(){return l(R(this,O))}set disableKeyboardA11y(q){W(R(this,O),q)}get minZoom(){return l(R(this,m))}set minZoom(q){W(R(this,m),q)}get maxZoom(){return l(R(this,P))}set maxZoom(q){W(R(this,P),q)}get nodeOrigin(){return l(R(this,A))}set nodeOrigin(q){W(R(this,A),q)}get nodeExtent(){return l(R(this,I))}set nodeExtent(q){W(R(this,I),q)}get translateExtent(){return l(R(this,k))}set translateExtent(q){W(R(this,k),q)}get defaultEdgeOptions(){return l(R(this,H))}set defaultEdgeOptions(q){W(R(this,H),q)}get nodeDragThreshold(){return l(R(this,z))}set nodeDragThreshold(q){W(R(this,z),q)}get autoPanOnNodeDrag(){return l(R(this,E))}set autoPanOnNodeDrag(q){W(R(this,E),q)}get autoPanOnConnect(){return l(R(this,_))}set autoPanOnConnect(q){W(R(this,_),q)}get autoPanOnNodeFocus(){return l(R(this,N))}set autoPanOnNodeFocus(q){W(R(this,N),q)}get autoPanSpeed(){return l(R(this,p))}set autoPanSpeed(q){W(R(this,p),q)}get connectionDragThreshold(){return l(R(this,T))}set connectionDragThreshold(q){W(R(this,T),q)}get snapGrid(){return l(R(this,S))}set snapGrid(q){W(R(this,S),q)}get dragging(){return l(R(this,M))}set dragging(q){W(R(this,M),q)}get selectionRect(){return l(R(this,V))}set selectionRect(q){W(R(this,V),q)}get selectionKeyPressed(){return l(R(this,K))}set selectionKeyPressed(q){W(R(this,K),q)}get multiselectionKeyPressed(){return l(R(this,X))}set multiselectionKeyPressed(q){W(R(this,X),q)}get deleteKeyPressed(){return l(R(this,G))}set deleteKeyPressed(q){W(R(this,G),q)}get panActivationKeyPressed(){return l(R(this,U))}set panActivationKeyPressed(q){W(R(this,U),q)}get zoomActivationKeyPressed(){return l(R(this,Z))}set zoomActivationKeyPressed(q){W(R(this,Z),q)}get selectionRectMode(){return l(R(this,D))}set selectionRectMode(q){W(R(this,D),q)}get ariaLiveMessage(){return l(R(this,C))}set ariaLiveMessage(q){W(R(this,C),q)}get selectionMode(){return l(R(this,B))}set selectionMode(q){W(R(this,B),q)}get nodeTypes(){return l(R(this,Y))}set nodeTypes(q){W(R(this,Y),q)}get edgeTypes(){return l(R(this,j))}set edgeTypes(q){W(R(this,j),q)}get noPanClass(){return l(R(this,Q))}set noPanClass(q){W(R(this,Q),q)}get noDragClass(){return l(R(this,re))}set noDragClass(q){W(R(this,re),q)}get noWheelClass(){return l(R(this,ie))}set noWheelClass(q){W(R(this,ie),q)}get ariaLabelConfig(){return l(R(this,pe))}set ariaLabelConfig(q){W(R(this,pe),q)}get _viewport(){return l(R(this,me))}set _viewport(q){W(R(this,me),q)}get viewport(){return e.viewport??this._viewport}set viewport(q){e.viewport&&(e.viewport=q),this._viewport=q}get _connection(){return l(R(this,xe))}set _connection(q){W(R(this,xe),q)}get connection(){return l(R(this,Se))}set connection(q){W(R(this,Se),q)}get connectionMode(){return l(R(this,oe))}set connectionMode(q){W(R(this,oe),q)}get connectionRadius(){return l(R(this,ne))}set connectionRadius(q){W(R(this,ne),q)}get isValidConnection(){return l(R(this,fe))}set isValidConnection(q){W(R(this,fe),q)}get selectNodesOnDrag(){return l(R(this,$))}set selectNodesOnDrag(q){W(R(this,$),q)}get defaultMarkerColor(){return l(R(this,le))}set defaultMarkerColor(q){W(R(this,le),q)}get markers(){return l(R(this,he))}set markers(q){W(R(this,he),q)}get onlyRenderVisibleElements(){return l(R(this,we))}set onlyRenderVisibleElements(q){W(R(this,we),q)}get onerror(){return l(R(this,Re))}set onerror(q){W(R(this,Re),q)}get ondelete(){return l(R(this,ze))}set ondelete(q){W(R(this,ze),q)}get onbeforedelete(){return l(R(this,Be))}set onbeforedelete(q){W(R(this,Be),q)}get onbeforeconnect(){return l(R(this,$e))}set onbeforeconnect(q){W(R(this,$e),q)}get onconnect(){return l(R(this,gt))}set onconnect(q){W(R(this,gt),q)}get onconnectstart(){return l(R(this,Fe))}set onconnectstart(q){W(R(this,Fe),q)}get onconnectend(){return l(R(this,dt))}set onconnectend(q){W(R(this,dt),q)}get onbeforereconnect(){return l(R(this,St))}set onbeforereconnect(q){W(R(this,St),q)}get onreconnect(){return l(R(this,bn))}set onreconnect(q){W(R(this,bn),q)}get onreconnectstart(){return l(R(this,_n))}set onreconnectstart(q){W(R(this,_n),q)}get onreconnectend(){return l(R(this,Mt))}set onreconnectend(q){W(R(this,Mt),q)}get clickConnect(){return l(R(this,ce))}set clickConnect(q){W(R(this,ce),q)}get onclickconnectstart(){return l(R(this,Oe))}set onclickconnectstart(q){W(R(this,Oe),q)}get onclickconnectend(){return l(R(this,je))}set onclickconnectend(q){W(R(this,je),q)}get clickConnectStartHandle(){return l(R(this,rt))}set clickConnectStartHandle(q){W(R(this,rt),q)}get onselectiondrag(){return l(R(this,qe))}set onselectiondrag(q){W(R(this,qe),q)}get onselectiondragstart(){return l(R(this,ft))}set onselectiondragstart(q){W(R(this,ft),q)}get onselectiondragstop(){return l(R(this,Pt))}set onselectiondragstop(q){W(R(this,Pt),q)}get colorMode(){return l(R(this,Dt))}set colorMode(q){W(R(this,Dt),q)}resetStoreValues(){this.dragging=!1,this.selectionRect=null,this.selectionRectMode=null,this.selectionKeyPressed=!1,this.multiselectionKeyPressed=!1,this.deleteKeyPressed=!1,this.panActivationKeyPressed=!1,this.zoomActivationKeyPressed=!1,this._connection=Aa,this.clickConnectStartHandle=null,this.viewport=e.props.initialViewport??{x:0,y:0,zoom:1},this.ariaLiveMessage=""}}return n=new WeakMap,r=new WeakMap,i=new WeakMap,o=new WeakMap,s=new WeakMap,a=new WeakMap,u=new WeakMap,c=new WeakMap,d=new WeakMap,h=new WeakMap,f=new WeakMap,g=new WeakMap,v=new WeakMap,b=new WeakMap,y=new WeakMap,w=new WeakMap,x=new WeakMap,O=new WeakMap,m=new WeakMap,P=new WeakMap,A=new WeakMap,I=new WeakMap,k=new WeakMap,H=new WeakMap,z=new WeakMap,E=new WeakMap,_=new WeakMap,N=new WeakMap,p=new WeakMap,T=new WeakMap,S=new WeakMap,M=new WeakMap,V=new WeakMap,K=new WeakMap,X=new WeakMap,G=new WeakMap,U=new WeakMap,Z=new WeakMap,D=new WeakMap,C=new WeakMap,B=new WeakMap,Y=new WeakMap,j=new WeakMap,Q=new WeakMap,re=new WeakMap,ie=new WeakMap,pe=new WeakMap,me=new WeakMap,xe=new WeakMap,Se=new WeakMap,oe=new WeakMap,ne=new WeakMap,fe=new WeakMap,$=new WeakMap,le=new WeakMap,he=new WeakMap,we=new WeakMap,Re=new WeakMap,ze=new WeakMap,Be=new WeakMap,$e=new WeakMap,gt=new WeakMap,Fe=new WeakMap,dt=new WeakMap,St=new WeakMap,bn=new WeakMap,_n=new WeakMap,Mt=new WeakMap,ce=new WeakMap,Oe=new WeakMap,je=new WeakMap,rt=new WeakMap,qe=new WeakMap,ft=new WeakMap,Pt=new WeakMap,Dt=new WeakMap,new t}function mr(){const e=Wa(as);if(!e)throw new Error("To call useStore outside of <SvelteFlow /> you need to wrap your component in a <SvelteFlowProvider />");return e.getStore()}const as=Symbol();function tf(e){const t=K0(e);function n(E){t.nodeTypes={...$d,...E}}function r(E){t.edgeTypes={...ef,...E}}function i(E){t.edges=Hi(E,t.edges)}const o=(E,_=!1)=>{t.nodes=t.nodes.map(N=>{if(t.connection.inProgress&&t.connection.fromNode.id===N.id){const T=t.nodeLookup.get(N.id);T&&(t.connection={...t.connection,from:Fr(T,t.connection.fromHandle,Ce.Left,!0)})}const p=E.get(N.id);return p?{...N,position:p.position,dragging:_}:N})};function s(E){var T,S,M;const{changes:_,updatedInternals:N}=Ky(E,t.nodeLookup,t.parentLookup,t.domNode,t.nodeOrigin,t.nodeExtent,t.zIndexMode);if(!N)return;Ry(t.nodeLookup,t.parentLookup,{nodeOrigin:t.nodeOrigin,nodeExtent:t.nodeExtent,zIndexMode:t.zIndexMode}),t.fitViewQueued&&t.resolveFitView();const p=new Map;for(const V of _){const K=(T=t.nodeLookup.get(V.id))==null?void 0:T.internals.userNode;if(!K)continue;const X={...K};switch(V.type){case"dimensions":{const G={...X.measured,...V.dimensions};V.setAttributes&&(X.width=((S=V.dimensions)==null?void 0:S.width)??X.width,X.height=((M=V.dimensions)==null?void 0:M.height)??X.height),X.measured=G;break}case"position":X.position=V.position??X.position;break}p.set(V.id,X)}t.nodes=t.nodes.map(V=>p.get(V.id)??V)}function a(E){const _=t.fitViewResolver??Promise.withResolvers();return t.fitViewQueued=!0,t.fitViewOptions=E,t.fitViewResolver=_,t.nodes=[...t.nodes],_.promise}async function u(E,_,N){const p=typeof(N==null?void 0:N.zoom)<"u"?N.zoom:t.maxZoom,T=t.panZoom;return T?(await T.setViewport({x:t.width/2-E*p,y:t.height/2-_*p,zoom:p},{duration:N==null?void 0:N.duration,ease:N==null?void 0:N.ease,interpolate:N==null?void 0:N.interpolate}),Promise.resolve(!0)):Promise.resolve(!1)}function c(E,_){const N=t.panZoom;return N?N.scaleBy(E,_):Promise.resolve(!1)}function d(E){return c(1.2,E)}function h(E){return c(1/1.2,E)}function f(E){const _=t.panZoom;_&&(_.setScaleExtent([E,t.maxZoom]),t.minZoom=E)}function g(E){const _=t.panZoom;_&&(_.setScaleExtent([t.minZoom,E]),t.maxZoom=E)}function v(E){const _=t.panZoom;_&&(_.setTranslateExtent(E),t.translateExtent=E)}function b(E,_=null){let N=!1;const p=E.map(T=>(_?_.has(T.id):!0)&&T.selected?(N=!0,{...T,selected:!1}):T);return[N,p]}function y(E){const _=E!=null&&E.nodes?new Set(E.nodes.map(V=>V.id)):null,[N,p]=b(t.nodes,_);N&&(t.nodes=p);const T=E!=null&&E.edges?new Set(E.edges.map(V=>V.id)):null,[S,M]=b(t.edges,T);S&&(t.edges=M)}function w(E){const _=t.multiselectionKeyPressed;t.nodes=t.nodes.map(N=>{const p=E.includes(N.id),T=_&&N.selected||p;return!!N.selected!==T?{...N,selected:T}:N}),_||y({nodes:[]})}function x(E){const _=t.multiselectionKeyPressed;t.edges=t.edges.map(N=>{const p=E.includes(N.id),T=_&&N.selected||p;return!!N.selected!==T?{...N,selected:T}:N}),_||y({edges:[]})}function O(E,_,N){const p=t.nodeLookup.get(E);if(!p){console.warn("012",Qi.error012(E));return}t.selectionRect=null,t.selectionRectMode=null,p.selected?(_||p.selected&&t.multiselectionKeyPressed)&&(y({nodes:[p],edges:[]}),requestAnimationFrame(()=>N==null?void 0:N.blur())):w([E])}function m(E){const _=t.edgeLookup.get(E);if(!_){console.warn("012",Qi.error012(E));return}(_.selectable||t.elementsSelectable&&typeof _.selectable>"u")&&(t.selectionRect=null,t.selectionRectMode=null,_.selected?_.selected&&t.multiselectionKeyPressed&&y({nodes:[],edges:[_]}):x([E]))}function P(E,_){const{nodeExtent:N,snapGrid:p,nodeOrigin:T,nodeLookup:S,nodesDraggable:M,onerror:V}=t,K=new Map,X=(p==null?void 0:p[0])??5,G=(p==null?void 0:p[1])??5,U=E.x*X*_,Z=E.y*G*_;for(const D of S.values()){if(!(D.selected&&(D.draggable||M&&typeof D.draggable>"u")))continue;let B={x:D.internals.positionAbsolute.x+U,y:D.internals.positionAbsolute.y+Z};p&&(B=Eo(B,p));const{position:Y,positionAbsolute:j}=Cd({nodeId:D.id,nextPosition:B,nodeLookup:S,nodeExtent:N,nodeOrigin:T,onError:V});D.position=Y,D.internals.positionAbsolute=j,K.set(D.id,D)}o(K)}function A(E){return By({delta:E,panZoom:t.panZoom,transform:[t.viewport.x,t.viewport.y,t.viewport.zoom],translateExtent:t.translateExtent,width:t.width,height:t.height})}const I=E=>{t._connection={...E}};function k(){t._connection=Aa}function H(){t.resetStoreValues(),y()}return Object.assign(t,{setNodeTypes:n,setEdgeTypes:r,addEdge:i,updateNodePositions:o,updateNodeInternals:s,zoomIn:d,zoomOut:h,fitView:a,setCenter:u,setMinZoom:f,setMaxZoom:g,setTranslateExtent:v,unselectNodesAndEdges:y,addSelectedNodes:w,addSelectedEdges:x,handleNodeSelection:O,handleEdgeSelection:m,moveSelectedNodes:P,panBy:A,updateConnection:I,cancelConnection:k,reset:H})}function na(e,t){const{minZoom:n,maxZoom:r,initialViewport:i,onPanZoomStart:o,onPanZoom:s,onPanZoomEnd:a,translateExtent:u,setPanZoomInstance:c,onDraggingChange:d,onTransformChange:h}=t,f=o0({domNode:e,minZoom:n,maxZoom:r,translateExtent:u,viewport:i,onPanZoom:s,onPanZoomStart:o,onPanZoomEnd:a,onDraggingChange:d}),g=f.getViewport();return(i.x!==g.x||i.y!==g.y||i.zoom!==g.zoom)&&h([g.x,g.y,g.zoom]),c(f),f.update(t),{update(v){f.update(v)}}}var B0=de('<div class="svelte-flow__zoom svelte-flow__container"><!></div>');function W0(e,t){Ne(t,!0);let n=ee(t,"store",15),r=F(()=>n().panActivationKeyPressed||t.panOnDrag),i=F(()=>n().panActivationKeyPressed||t.panOnScroll);const{viewport:o}=n();let s=!1;et(()=>{var c;!s&&n().viewportInitialized&&((c=t.oninit)==null||c.call(t),s=!0)});var a=B0(),u=ae(a);Rn(u,()=>t.children),zt(a,(c,d)=>na==null?void 0:na(c,d),()=>({viewport:n().viewport,minZoom:n().minZoom,maxZoom:n().maxZoom,initialViewport:o,onDraggingChange:c=>{n(n().dragging=c,!0)},setPanZoomInstance:c=>{n(n().panZoom=c,!0)},onPanZoomStart:t.onmovestart,onPanZoom:t.onmove,onPanZoomEnd:t.onmoveend,zoomOnScroll:t.zoomOnScroll,zoomOnDoubleClick:t.zoomOnDoubleClick,zoomOnPinch:t.zoomOnPinch,panOnScroll:l(i),panOnDrag:l(r),panOnScrollSpeed:t.panOnScrollSpeed,panOnScrollMode:t.panOnScrollMode,zoomActivationKeyPressed:n().zoomActivationKeyPressed,preventScrolling:typeof t.preventScrolling=="boolean"?t.preventScrolling:!0,noPanClassName:n().noPanClass,noWheelClassName:n().noWheelClass,userSelectionActive:!!n().selectionRect,translateExtent:n().translateExtent,lib:"svelte",paneClickDistance:t.paneClickDistance,selectionOnDrag:t.selectionOnDrag,onTransformChange:c=>{n(n().viewport={x:c[0],y:c[1],zoom:c[2]},!0)},connectionInProgress:n().connection.inProgress})),te(e,a),ke()}function Tu(e,t){return n=>{n.target===t&&(e==null||e(n))}}function Ou(e){return t=>{const n=e.has(t.id);return!!t.selected!==n?{...t,selected:n}:t}}function Cu(e,t){if(e.size!==t.size)return!1;for(const n of e)if(!t.has(n))return!1;return!0}var Y0=de("<div><!></div>");function X0(e,t){Ne(t,!0);let n=ee(t,"store",15),r=ee(t,"panOnDrag",3,!0),i=ee(t,"paneClickDistance",3,1),o,s=null,a=new Set,u=new Set,c=F(()=>n().panActivationKeyPressed||r()),d=F(()=>n().selectionKeyPressed||!!n().selectionRect||t.selectionOnDrag&&l(c)!==!0),h=F(()=>n().elementsSelectable&&(l(d)||n().selectionRectMode==="user")),f=!1;function g(k){var p,T;if(s=o==null?void 0:o.getBoundingClientRect(),!s)return;const H=k.target===o,z=!H&&!!k.target.closest(".nokey"),E=t.selectionOnDrag&&H||n().selectionKeyPressed;if(z||!l(d)||!E||k.button!==0||!k.isPrimary)return;(T=(p=k.target)==null?void 0:p.setPointerCapture)==null||T.call(p,k.pointerId),f=!1;const{x:_,y:N}=gn(k,s);n(n().selectionRect={width:0,height:0,startX:_,startY:N,x:_,y:N},!0),H||(k.stopPropagation(),k.preventDefault())}function v(k){var S;if(!l(d)||!s||!n().selectionRect)return;const H=gn(k,s),{startX:z=0,startY:E=0}=n().selectionRect;if(!f){const M=n().selectionKeyPressed?0:i();if(Math.hypot(H.x-z,H.y-E)<=M)return;n().unselectNodesAndEdges(),(S=t.onselectionstart)==null||S.call(t,k)}f=!0;const _={...n().selectionRect,x:H.x<z?H.x:z,y:H.y<E?H.y:E,width:Math.abs(H.x-z),height:Math.abs(H.y-E)},N=a,p=u;a=new Set(ll(n().nodeLookup,_,[n().viewport.x,n().viewport.y,n().viewport.zoom],n().selectionMode===Ji.Partial,!0).map(M=>M.id));const T=n().defaultEdgeOptions.selectable??!0;u=new Set;for(const M of a){const V=n().connectionLookup.get(M);if(V)for(const{edgeId:K}of V.values()){const X=n().edgeLookup.get(K);X&&(X.selectable??T)&&u.add(K)}}Cu(N,a)||n(n().nodes=n().nodes.map(Ou(a)),!0),Cu(p,u)||n(n().edges=n().edges.map(Ou(u)),!0),n(n().selectionRectMode="user",!0),n(n().selectionRect=_,!0)}function b(k){var H,z,E;k.button===0&&((z=(H=k.target)==null?void 0:H.releasePointerCapture)==null||z.call(H,k.pointerId),!f&&k.target===o&&(x==null||x(k)),n(n().selectionRect=null,!0),f&&n(n().selectionRectMode=a.size>0?"nodes":null,!0),f&&((E=t.onselectionend)==null||E.call(t,k)))}const y=k=>{var H;if(Array.isArray(l(c))&&l(c).includes(2)){k.preventDefault();return}(H=t.onpanecontextmenu)==null||H.call(t,{event:k})},w=k=>{f&&(k.stopPropagation(),f=!1)};function x(k){var H;if(f||n().connection.inProgress){f=!1;return}(H=t.onpaneclick)==null||H.call(t,{event:k}),n().unselectNodesAndEdges(),n(n().selectionRectMode=null,!0),n(n().selectionRect=null,!0)}var O=Y0();let m;var P=F(()=>l(h)?void 0:Tu(x,o));O.__click=function(...k){var H;(H=l(P))==null||H.apply(this,k)},O.__pointermove=function(...k){var H;(H=l(h)?v:void 0)==null||H.apply(this,k)},O.__pointerup=function(...k){var H;(H=l(h)?b:void 0)==null||H.apply(this,k)};var A=F(()=>Tu(y,o));O.__contextmenu=function(...k){var H;(H=l(A))==null||H.apply(this,k)};var I=ae(O);Rn(I,()=>t.children),lt(O,k=>o=k,()=>o),be(k=>m=Ct(O,1,"svelte-flow__pane svelte-flow__container",null,m,k),[()=>({draggable:r()===!0||Array.isArray(r())&&r().includes(0),dragging:n().dragging,selection:l(d)})]),We("pointerdown",O,function(...k){var H;(H=l(h)?g:void 0)==null||H.apply(this,k)},!0),We("click",O,function(...k){var H;(H=l(h)?w:void 0)==null||H.apply(this,k)},!0),te(e,O),ke()}mt(["click","pointermove","pointerup","contextmenu"]);var j0=de('<div class="svelte-flow__viewport xyflow__viewport svelte-flow__container"><!></div>');function G0(e,t){Ne(t,!0);var n=j0();let r;var i=ae(n);Rn(i,()=>t.children),be(()=>r=Ze(n,"",r,{transform:`translate(${t.store.viewport.x??""}px, ${t.store.viewport.y??""}px) scale(${t.store.viewport.zoom??""})`})),te(e,n),ke()}function ii(e,t){const{store:n,onDrag:r,onDragStart:i,onDragStop:o,onNodeMouseDown:s}=t,a=jy({onDrag:r,onDragStart:i,onDragStop:o,onNodeMouseDown:s,getStoreItems:()=>{const{snapGrid:c,viewport:d}=n;return{nodes:n.nodes,nodeLookup:n.nodeLookup,edges:n.edges,nodeExtent:n.nodeExtent,snapGrid:c||[0,0],snapToGrid:!!c,nodeOrigin:n.nodeOrigin,multiSelectionActive:n.multiselectionKeyPressed,domNode:n.domNode,transform:[d.x,d.y,d.zoom],autoPanOnNodeDrag:n.autoPanOnNodeDrag,nodesDraggable:n.nodesDraggable,selectNodesOnDrag:n.selectNodesOnDrag,nodeDragThreshold:n.nodeDragThreshold,unselectNodesAndEdges:n.unselectNodesAndEdges,updateNodePositions:n.updateNodePositions,onSelectionDrag:n.onselectiondrag,onSelectionDragStart:n.onselectiondragstart,onSelectionDragStop:n.onselectiondragstop,panBy:n.panBy}}});function u(c,d){if(d.disabled){a.destroy();return}a.update({domNode:c,noDragClassName:d.noDragClass,handleSelector:d.handleSelector,nodeId:d.nodeId,isSelectable:d.isSelectable,nodeClickDistance:d.nodeClickDistance})}return u(e,t),{update(c){u(e,c)},destroy(){a.destroy()}}}var U0=de('<div aria-live="assertive" aria-atomic="true" class="a11y-live-msg svelte-1l9nrps"> </div>'),q0=de('<div class="a11y-hidden svelte-1l9nrps"> </div> <div class="a11y-hidden svelte-1l9nrps"> </div> <!>',1);function Z0(e,t){Ne(t,!0);var n=q0(),r=Ae(n),i=ae(r),o=ge(r,2),s=ae(o),a=ge(o,2);{var u=c=>{var d=U0(),h=ae(d);be(()=>{ye(d,"id",`${Q0}-${t.store.flowId}`),Ye(h,t.store.ariaLiveMessage)}),te(c,d)};De(a,c=>{t.store.disableKeyboardA11y||c(u)})}be(()=>{ye(r,"id",`${nf}-${t.store.flowId}`),Ye(i,t.store.disableKeyboardA11y?t.store.ariaLabelConfig["node.a11yDescription.default"]:t.store.ariaLabelConfig["node.a11yDescription.keyboardDisabled"]),ye(o,"id",`${rf}-${t.store.flowId}`),Ye(s,t.store.ariaLabelConfig["edge.a11yDescription.default"])}),te(e,n),ke()}const nf="svelte-flow__node-desc",rf="svelte-flow__edge-desc",Q0="svelte-flow__aria-live";var J0=de("<div><!></div>");function $0(e,t){Ne(t,!0);let n=ee(t,"store",15),r=F(()=>At(t.node.data,()=>({}),!0)),i=F(()=>At(t.node.selected,!1)),o=F(()=>t.node.draggable),s=F(()=>t.node.selectable),a=F(()=>At(t.node.deletable,!0)),u=F(()=>t.node.connectable),c=F(()=>t.node.focusable),d=F(()=>At(t.node.hidden,!1)),h=F(()=>At(t.node.dragging,!1)),f=F(()=>At(t.node.style,"")),g=F(()=>t.node.class),v=F(()=>At(t.node.type,"default")),b=F(()=>t.node.parentId),y=F(()=>t.node.sourcePosition),w=F(()=>t.node.targetPosition),x=F(()=>At(t.node.measured,()=>({width:0,height:0}),!0).width),O=F(()=>At(t.node.measured,()=>({width:0,height:0}),!0).height),m=F(()=>t.node.initialWidth),P=F(()=>t.node.initialHeight),A=F(()=>t.node.width),I=F(()=>t.node.height),k=F(()=>t.node.dragHandle),H=F(()=>At(t.node.internals.z,0)),z=F(()=>t.node.internals.positionAbsolute.x),E=F(()=>t.node.internals.positionAbsolute.y),_=F(()=>t.node.internals.userNode),{id:N}=t.node,p=F(()=>l(o)??n().nodesDraggable),T=F(()=>l(s)??n().elementsSelectable),S=F(()=>l(u)??n().nodesConnectable),M=F(()=>by(t.node)),V=F(()=>!!t.node.internals.handleBounds),K=F(()=>l(M)&&l(V)),X=F(()=>l(c)??n().nodesFocusable);function G(fe){return n().parentLookup.has(fe)}let U=F(()=>G(N)),Z=Ie(null),D=null,C=l(v),B=l(y),Y=l(w),j=F(()=>n().nodeTypes[l(v)]??Qd),Q=F(()=>n().ariaLabelConfig),re={get value(){return l(S)}};g0(N),p0(re);let ie=F(()=>{const fe=l(x)===void 0?l(A)??l(m):l(A),$=l(O)===void 0?l(I)??l(P):l(I);if(!(fe===void 0&&$===void 0&&l(f)===void 0))return`${l(f)};${fe?`width:${Mn(fe)};`:""}${$?`height:${Mn($)};`:""}`});et(()=>{(l(v)!==C||l(y)!==B||l(w)!==Y)&&l(Z)!==null&&requestAnimationFrame(()=>{l(Z)!==null&&n().updateNodeInternals(new Map([[N,{id:N,nodeElement:l(Z),force:!0}]]))}),C=l(v),B=l(y),Y=l(w)}),et(()=>{t.resizeObserver&&(!l(K)||l(Z)!==D)&&(D&&t.resizeObserver.unobserve(D),l(Z)&&t.resizeObserver.observe(l(Z)),D=l(Z))}),bo(()=>{var fe;D&&((fe=t.resizeObserver)==null||fe.unobserve(D))});function pe(fe){var $;l(T)&&(!n().selectNodesOnDrag||!l(p)||n().nodeDragThreshold>0)&&n().handleNodeSelection(N),($=t.onnodeclick)==null||$.call(t,{node:l(_),event:fe})}function me(fe){if(!(Rd(fe)||n().disableKeyboardA11y))if(Td.includes(fe.key)&&l(T)){const $=fe.key==="Escape";n().handleNodeSelection(N,$,l(Z))}else l(p)&&t.node.selected&&Object.prototype.hasOwnProperty.call(ss,fe.key)&&(fe.preventDefault(),n(n().ariaLiveMessage=l(Q)["node.a11yDescription.ariaLiveMessage"]({direction:fe.key.replace("Arrow","").toLowerCase(),x:~~t.node.internals.positionAbsolute.x,y:~~t.node.internals.positionAbsolute.y}),!0),n().moveSelectedNodes(ss[fe.key],fe.shiftKey?4:1))}const xe=()=>{var we;if(n().disableKeyboardA11y||!n().autoPanOnNodeFocus||!((we=l(Z))!=null&&we.matches(":focus-visible")))return;const{width:fe,height:$,viewport:le}=n();ll(new Map([[N,t.node]]),{x:0,y:0,width:fe,height:$},[le.x,le.y,le.zoom],!0).length>0||n().setCenter(t.node.position.x+(t.node.measured.width??0)/2,t.node.position.y+(t.node.measured.height??0)/2,{zoom:le.zoom})};var Se=tt(),oe=Ae(Se);{var ne=fe=>{var $=J0();vn($,()=>({"data-id":N,class:["svelte-flow__node",`svelte-flow__node-${l(v)}`,l(g)],style:l(ie),onclick:pe,onpointerenter:t.onnodepointerenter?he=>t.onnodepointerenter({node:l(_),event:he}):void 0,onpointerleave:t.onnodepointerleave?he=>t.onnodepointerleave({node:l(_),event:he}):void 0,onpointermove:t.onnodepointermove?he=>t.onnodepointermove({node:l(_),event:he}):void 0,oncontextmenu:t.onnodecontextmenu?he=>t.onnodecontextmenu({node:l(_),event:he}):void 0,onkeydown:l(X)?me:void 0,onfocus:l(X)?xe:void 0,tabIndex:l(X)?0:void 0,role:t.node.ariaRole??(l(X)?"group":void 0),"aria-roledescription":"node","aria-describedby":n().disableKeyboardA11y?void 0:`${nf}-${n().flowId}`,...t.node.domAttributes,[ir]:{dragging:l(h),selected:l(i),draggable:l(p),connectable:l(S),selectable:l(T),nopan:l(p),parent:l(U)},[Yn]:{"z-index":l(H),transform:`translate(${l(z)??""}px, ${l(E)??""}px)`,visibility:l(M)?"visible":"hidden"}}));var le=ae($);_s(le,()=>l(j),(he,we)=>{we(he,{get data(){return l(r)},get id(){return N},get selected(){return l(i)},get selectable(){return l(T)},get deletable(){return l(a)},get sourcePosition(){return l(y)},get targetPosition(){return l(w)},get zIndex(){return l(H)},get dragging(){return l(h)},get draggable(){return l(p)},get dragHandle(){return l(k)},get parentId(){return l(b)},get type(){return l(v)},get isConnectable(){return l(S)},get positionAbsoluteX(){return l(z)},get positionAbsoluteY(){return l(E)},get width(){return l(A)},get height(){return l(I)}})}),zt($,(he,we)=>ii==null?void 0:ii(he,we),()=>({nodeId:N,isSelectable:l(T),disabled:!l(p),handleSelector:l(k),noDragClass:n().noDragClass,nodeClickDistance:t.nodeClickDistance,onNodeMouseDown:n().handleNodeSelection,onDrag:(he,we,Re,ze)=>{var Be;(Be=t.onnodedrag)==null||Be.call(t,{event:he,targetNode:Re,nodes:ze})},onDragStart:(he,we,Re,ze)=>{var Be;(Be=t.onnodedragstart)==null||Be.call(t,{event:he,targetNode:Re,nodes:ze})},onDragStop:(he,we,Re,ze)=>{var Be;(Be=t.onnodedragstop)==null||Be.call(t,{event:he,targetNode:Re,nodes:ze})},store:n()})),lt($,he=>W(Z,he),()=>l(Z)),te(fe,$)};De(oe,fe=>{l(d)||fe(ne)})}te(e,Se),ke()}var eb=de('<div class="svelte-flow__nodes"></div>');function tb(e,t){Ne(t,!0);let n=ee(t,"store",15);const r=typeof ResizeObserver>"u"?null:new ResizeObserver(o=>{const s=new Map;o.forEach(a=>{const u=a.target.getAttribute("data-id");s.set(u,{id:u,nodeElement:a.target,force:!0})}),n().updateNodeInternals(s)});bo(()=>{r==null||r.disconnect()});var i=eb();it(i,21,()=>n().visible.nodes.values(),o=>o.id,(o,s)=>{$0(o,{get node(){return l(s)},get resizeObserver(){return r},get nodeClickDistance(){return t.nodeClickDistance},get onnodeclick(){return t.onnodeclick},get onnodepointerenter(){return t.onnodepointerenter},get onnodepointermove(){return t.onnodepointermove},get onnodepointerleave(){return t.onnodepointerleave},get onnodedrag(){return t.onnodedrag},get onnodedragstart(){return t.onnodedragstart},get onnodedragstop(){return t.onnodedragstop},get onnodecontextmenu(){return t.onnodecontextmenu},get store(){return n()},set store(a){n(a)}})}),te(e,i),ke()}var nb=Gt('<svg class="svelte-flow__edge-wrapper"><g><!></g></svg>');function rb(e,t){Ne(t,!0);let n=F(()=>t.edge.id),r=F(()=>t.edge.source),i=F(()=>t.edge.target),o=F(()=>t.edge.sourceX),s=F(()=>t.edge.sourceY),a=F(()=>t.edge.targetX),u=F(()=>t.edge.targetY),c=F(()=>t.edge.sourcePosition),d=F(()=>t.edge.targetPosition),h=F(()=>At(t.edge.animated,!1)),f=F(()=>At(t.edge.selected,!1)),g=F(()=>t.edge.label),v=F(()=>t.edge.labelStyle),b=F(()=>At(t.edge.data,()=>({}),!0)),y=F(()=>t.edge.style),w=F(()=>t.edge.interactionWidth),x=F(()=>At(t.edge.type,"default")),O=F(()=>t.edge.sourceHandle),m=F(()=>t.edge.targetHandle),P=F(()=>t.edge.markerStart),A=F(()=>t.edge.markerEnd),I=F(()=>t.edge.selectable),k=F(()=>t.edge.focusable),H=F(()=>At(t.edge.deletable,!0)),z=F(()=>t.edge.hidden),E=F(()=>t.edge.zIndex),_=F(()=>t.edge.class),N=F(()=>t.edge.ariaLabel);y0(l(n));let p=null,T=F(()=>l(I)??t.store.elementsSelectable),S=F(()=>l(k)??t.store.edgesFocusable),M=F(()=>t.store.edgeTypes[l(x)]??Jd),V=F(()=>l(P)?`url('#${Pa(l(P),t.store.flowId)}')`:void 0),K=F(()=>l(A)?`url('#${Pa(l(A),t.store.flowId)}')`:void 0);function X(B){var j;const Y=t.store.edgeLookup.get(l(n));Y&&(l(T)&&t.store.handleEdgeSelection(l(n)),(j=t.onedgeclick)==null||j.call(t,{event:B,edge:Y}))}function G(B,Y){const j=t.store.edgeLookup.get(l(n));j&&Y({event:B,edge:j})}function U(B){if(!t.store.disableKeyboardA11y&&Td.includes(B.key)&&l(T)){const{unselectNodesAndEdges:Y,addSelectedEdges:j}=t.store;B.key==="Escape"?(p==null||p.blur(),Y({edges:[t.edge]})):j([l(n)])}}var Z=tt(),D=Ae(Z);{var C=B=>{var Y=nb();let j;var Q=ae(Y);vn(Q,()=>({class:["svelte-flow__edge",l(_)],"data-id":l(n),onclick:X,oncontextmenu:t.onedgecontextmenu?ie=>{G(ie,t.onedgecontextmenu)}:void 0,onpointerenter:t.onedgepointerenter?ie=>{G(ie,t.onedgepointerenter)}:void 0,onpointerleave:t.onedgepointerleave?ie=>{G(ie,t.onedgepointerleave)}:void 0,"aria-label":l(N)===null?void 0:l(N)?l(N):`Edge from ${l(r)} to ${l(i)}`,"aria-describedby":l(S)?`${rf}-${t.store.flowId}`:void 0,role:t.edge.ariaRole??(l(S)?"group":"img"),"aria-roledescription":"edge",onkeydown:l(S)?U:void 0,tabindex:l(S)?0:void 0,...t.edge.domAttributes,[ir]:{animated:l(h),selected:l(f),selectable:l(T)}}));var re=ae(Q);_s(re,()=>l(M),(ie,pe)=>{pe(ie,{get id(){return l(n)},get source(){return l(r)},get target(){return l(i)},get sourceX(){return l(o)},get sourceY(){return l(s)},get targetX(){return l(a)},get targetY(){return l(u)},get sourcePosition(){return l(c)},get targetPosition(){return l(d)},get animated(){return l(h)},get selected(){return l(f)},get label(){return l(g)},get labelStyle(){return l(v)},get data(){return l(b)},get style(){return l(y)},get interactionWidth(){return l(w)},get selectable(){return l(T)},get deletable(){return l(H)},get type(){return l(x)},get sourceHandleId(){return l(O)},get targetHandleId(){return l(m)},get markerStart(){return l(V)},get markerEnd(){return l(K)}})}),lt(Q,ie=>p=ie,()=>p),be(()=>j=Ze(Y,"",j,{"z-index":l(E)})),te(B,Y)};De(D,B=>{l(z)||B(C)})}te(e,Z),ke()}dh();var ib=Gt("<defs></defs>");function ob(e,t){Ne(t,!1);const n=mr();zn();var r=ib();it(r,5,()=>n.markers,i=>i.id,(i,o)=>{ub(i,Xt(()=>l(o)))}),te(e,r),ke()}var sb=Gt('<polyline class="arrow" fill="none" stroke-linecap="round" stroke-linejoin="round" points="-5,-4 0,0 -5,4"></polyline>'),ab=Gt('<polyline class="arrowclosed" stroke-linecap="round" stroke-linejoin="round" points="-5,-4 0,0 -5,4 -5,-4"></polyline>'),lb=Gt('<marker class="svelte-flow__arrowhead" viewBox="-10 -10 20 20" refX="0" refY="0"><!></marker>');function ub(e,t){Ne(t,!0);let n=ee(t,"width",3,12.5),r=ee(t,"height",3,12.5),i=ee(t,"markerUnits",3,"strokeWidth"),o=ee(t,"orient",3,"auto-start-reverse"),s=ee(t,"color",3,"none");var a=lb(),u=ae(a);{var c=h=>{var f=sb();let g;be(()=>{ye(f,"stroke-width",t.strokeWidth),g=Ze(f,"",g,{stroke:s()})}),te(h,f)},d=h=>{var f=ab();let g;be(()=>{ye(f,"stroke-width",t.strokeWidth),g=Ze(f,"",g,{stroke:s(),fill:s()})}),te(h,f)};De(u,h=>{t.type===ns.Arrow?h(c):t.type===ns.ArrowClosed&&h(d,1)})}be(()=>{ye(a,"id",t.id),ye(a,"markerWidth",`${n()}`),ye(a,"markerHeight",`${r()}`),ye(a,"markerUnits",i()),ye(a,"orient",o())}),te(e,a),ke()}var cb=de('<div class="svelte-flow__edges"><svg class="svelte-flow__marker"><!></svg> <!></div>');function db(e,t){Ne(t,!0);let n=ee(t,"store",15);var r=cb(),i=ae(r),o=ae(i);ob(o,{});var s=ge(i,2);it(s,17,()=>n().visible.edges.values(),a=>a.id,(a,u)=>{rb(a,{get edge(){return l(u)},get onedgeclick(){return t.onedgeclick},get onedgecontextmenu(){return t.onedgecontextmenu},get onedgepointerenter(){return t.onedgepointerenter},get onedgepointerleave(){return t.onedgepointerleave},get store(){return n()},set store(c){n(c)}})}),te(e,r),ke()}var fb=de('<div class="svelte-flow__selection svelte-1f9lbg4"></div>');function of(e,t){Ne(t,!0);let n=ee(t,"x",3,0),r=ee(t,"y",3,0),i=ee(t,"width",3,0),o=ee(t,"height",3,0),s=ee(t,"isVisible",3,!0);var a=tt(),u=Ae(a);{var c=d=>{var h=fb();let f;be(g=>f=Ze(h,"",f,g),[()=>({width:typeof i()=="string"?i():Mn(i()),height:typeof o()=="string"?o():Mn(o()),transform:`translate(${n()}px, ${r()}px)`})]),te(d,h)};De(u,d=>{s()&&d(c)})}te(e,a),ke()}var hb=de("<div><!></div>");function gb(e,t){Ne(t,!0);let n=Ie(void 0);et(()=>{var h;t.store.disableKeyboardA11y||(h=l(n))==null||h.focus({preventScroll:!0})});let r=F(()=>{if(t.store.selectionRectMode==="nodes"){t.store.nodes;const h=Ts(t.store.nodeLookup,{filter:f=>!!f.selected});if(h.width>0&&h.height>0)return h}return null});function i(h){var g;const f=t.store.nodes.filter(v=>v.selected);(g=t.onselectioncontextmenu)==null||g.call(t,{nodes:f,event:h})}function o(h){var g;const f=t.store.nodes.filter(v=>v.selected);(g=t.onselectionclick)==null||g.call(t,{nodes:f,event:h})}function s(h){Object.prototype.hasOwnProperty.call(ss,h.key)&&(h.preventDefault(),t.store.moveSelectedNodes(ss[h.key],h.shiftKey?4:1))}var a=tt(),u=Ae(a);{var c=h=>{var f=hb();f.__contextmenu=i,f.__click=o,f.__keydown=function(...b){var y;(y=t.store.disableKeyboardA11y?void 0:s)==null||y.apply(this,b)};let g;var v=ae(f);of(v,{width:"100%",height:"100%",x:0,y:0}),zt(f,(b,y)=>ii==null?void 0:ii(b,y),()=>({disabled:!1,store:t.store,onDrag:(b,y,w,x)=>{var O;(O=t.onnodedrag)==null||O.call(t,{event:b,targetNode:null,nodes:x})},onDragStart:(b,y,w,x)=>{var O;(O=t.onnodedragstart)==null||O.call(t,{event:b,targetNode:null,nodes:x})},onDragStop:(b,y,w,x)=>{var O;(O=t.onnodedragstop)==null||O.call(t,{event:b,targetNode:null,nodes:x})}})),lt(f,b=>W(n,b),()=>l(n)),be(b=>{Ct(f,1,Wr(["svelte-flow__selection-wrapper",t.store.noPanClass]),"svelte-5rnsv4"),ye(f,"role",t.store.disableKeyboardA11y?void 0:"button"),ye(f,"tabindex",t.store.disableKeyboardA11y?void 0:-1),g=Ze(f,"",g,b)},[()=>({width:Mn(l(r).width),height:Mn(l(r).height),transform:`translate(${l(r).x??""}px, ${l(r).y??""}px)`})]),te(h,f)},d=F(()=>t.store.selectionRectMode==="nodes"&&l(r)&&Gn(l(r).x)&&Gn(l(r).y));De(u,h=>{l(d)&&h(c)})}te(e,a),ke()}mt(["contextmenu","click","keydown"]);function vb(e){switch(e){case"ctrl":return 8;case"shift":return 4;case"alt":return 2;case"meta":return 1}}function Ge(e,t){let{enabled:n=!0,trigger:r,type:i="keydown"}=t;function o(a){var d;const u=Array.isArray(r)?r:[r],c=[a.metaKey,a.altKey,a.shiftKey,a.ctrlKey].reduce((h,f,g)=>f?h|1<<g:h,0);for(const h of u){const f={preventDefault:!1,enabled:!0,...h},{modifier:g,key:v,callback:b,preventDefault:y,enabled:w}=f;if(w){if(a.key!==v)continue;if(g===null||g===!1){if(c!==0)continue}else if(g!==void 0&&((d=g==null?void 0:g[0])==null?void 0:d.length)>0){const O=Array.isArray(g)?g:[g];let m=!1;for(const P of O)if((Array.isArray(P)?P:[P]).reduce((I,k)=>I|vb(k),0)===c){m=!0;break}if(!m)continue}y&&a.preventDefault();const x={node:e,trigger:f,originalEvent:a};e.dispatchEvent(new CustomEvent("shortcut",{detail:x})),b==null||b(x)}}}let s;return n&&(s=ma(e,i,o)),{update:a=>{const{enabled:u=!0,type:c="keydown"}=a;n&&(!u||i!==c)?s==null||s():!n&&u&&(s=ma(e,c,o)),n=u,i=c,r=a.trigger},destroy:()=>{s==null||s()}}}function jr(){const e=F(mr),t=o=>{var c,d;const s=Iu(o)?o:l(e).nodeLookup.get(o.id),a=s.parentId?_y(s.position,s.measured,s.parentId,l(e).nodeLookup,l(e).nodeOrigin):s.position,u={...s,position:a,width:((c=s.measured)==null?void 0:c.width)??s.width,height:((d=s.measured)==null?void 0:d.height)??s.height};return wi(u)};function n(o,s,a={replace:!1}){l(e).nodes=Ve(()=>l(e).nodes).map(u=>{if(u.id===o){const c=typeof s=="function"?s(u):s;return a!=null&&a.replace&&Iu(c)?c:{...u,...c}}return u})}function r(o,s,a={replace:!1}){l(e).edges=Ve(()=>l(e).edges).map(u=>{if(u.id===o){const c=typeof s=="function"?s(u):s;return a.replace&&S0(c)?c:{...u,...c}}return u})}const i=o=>l(e).nodeLookup.get(o);return{zoomIn:l(e).zoomIn,zoomOut:l(e).zoomOut,getInternalNode:i,getNode:o=>{var s;return(s=i(o))==null?void 0:s.internals.userNode},getNodes:o=>o===void 0?l(e).nodes:Au(l(e).nodeLookup,o),getEdge:o=>l(e).edgeLookup.get(o),getEdges:o=>o===void 0?l(e).edges:Au(l(e).edgeLookup,o),setZoom:(o,s)=>{const a=l(e).panZoom;return a?a.scaleTo(o,{duration:s==null?void 0:s.duration}):Promise.resolve(!1)},getZoom:()=>l(e).viewport.zoom,setViewport:async(o,s)=>{const a=l(e).viewport;return l(e).panZoom?(await l(e).panZoom.setViewport({x:o.x??a.x,y:o.y??a.y,zoom:o.zoom??a.zoom},s),Promise.resolve(!0)):Promise.resolve(!1)},getViewport:()=>ac(l(e).viewport),setCenter:async(o,s,a)=>l(e).setCenter(o,s,a),fitView:o=>l(e).fitView(o),fitBounds:async(o,s)=>{if(!l(e).panZoom)return Promise.resolve(!1);const a=ul(o,l(e).width,l(e).height,l(e).minZoom,l(e).maxZoom,(s==null?void 0:s.padding)??.1);return await l(e).panZoom.setViewport(a,{duration:s==null?void 0:s.duration,ease:s==null?void 0:s.ease,interpolate:s==null?void 0:s.interpolate}),Promise.resolve(!0)},getIntersectingNodes:(o,s=!0,a)=>{const u=hu(o),c=u?o:t(o);return c?(a||l(e).nodes).filter(d=>{const h=l(e).nodeLookup.get(d.id);if(!h||!u&&d.id===o.id)return!1;const f=wi(h),g=$i(f,c);return s&&g>0||g>=f.width*f.height||g>=c.width*c.height}):[]},isNodeIntersecting:(o,s,a=!0)=>{const c=hu(o)?o:t(o);if(!c)return!1;const d=$i(c,s);return a&&d>0||d>=s.width*s.height||d>=c.width*c.height},deleteElements:async({nodes:o=[],edges:s=[]})=>{var c,d;const{nodes:a,edges:u}=await gy({nodesToRemove:o,edgesToRemove:s,nodes:l(e).nodes,edges:l(e).edges,onBeforeDelete:l(e).onbeforedelete});return a&&(l(e).nodes=Ve(()=>l(e).nodes).filter(h=>!a.some(({id:f})=>f===h.id))),u&&(l(e).edges=Ve(()=>l(e).edges).filter(h=>!u.some(({id:f})=>f===h.id))),(a.length>0||u.length>0)&&((d=(c=l(e)).ondelete)==null||d.call(c,{nodes:a,edges:u})),{deletedNodes:a,deletedEdges:u}},screenToFlowPosition:(o,s={snapToGrid:!0})=>{if(!l(e).domNode)return o;const a=s.snapToGrid?l(e).snapGrid:!1,{x:u,y:c,zoom:d}=l(e).viewport,{x:h,y:f}=l(e).domNode.getBoundingClientRect(),g={x:o.x-h,y:o.y-f};return No(g,[u,c,d],a!==null,a||[1,1])},flowToScreenPosition:o=>{if(!l(e).domNode)return o;const{x:s,y:a,zoom:u}=l(e).viewport,{x:c,y:d}=l(e).domNode.getBoundingClientRect(),h=is(o,[s,a,u]);return{x:h.x+c,y:h.y+d}},toObject:()=>structuredClone({nodes:[...l(e).nodes],edges:[...l(e).edges],viewport:{...l(e).viewport}}),updateNode:n,updateNodeData:(o,s,a)=>{var d;const u=(d=l(e).nodeLookup.get(o))==null?void 0:d.internals.userNode;if(!u)return;const c=typeof s=="function"?s(u):s;n(o,h=>({...h,data:a!=null&&a.replace?c:{...h.data,...c}}))},updateEdge:r,getNodesBounds:o=>cy(o,{nodeLookup:l(e).nodeLookup,nodeOrigin:l(e).nodeOrigin}),getHandleConnections:({type:o,id:s,nodeId:a})=>{var u;return Array.from(((u=l(e).connectionLookup.get(`${a}-${o}-${s??null}`))==null?void 0:u.values())??[])}}}function Au(e,t){var r;const n=[];for(const i of t){const o=e.get(i);if(o){const s="internals"in o?(r=o.internals)==null?void 0:r.userNode:o;n.push(s)}}return n}function pb(e,t){Ne(t,!0);let n=ee(t,"store",15),r=ee(t,"selectionKey",3,"Shift"),i=ee(t,"multiSelectionKey",19,()=>os()?"Meta":"Control"),o=ee(t,"deleteKey",3,"Backspace"),s=ee(t,"panActivationKey",3," "),a=ee(t,"zoomActivationKey",19,()=>os()?"Meta":"Control"),{deleteElements:u}=jr();function c(b){return b!==null&&typeof b=="object"}function d(b){return c(b)?b.modifier||[]:[]}function h(b){return b==null?"":c(b)?b.key:b}function f(b,y){return(Array.isArray(b)?b:[b]).map(x=>{const O=h(x);return{key:O,modifier:d(x),enabled:O!==null,callback:y}})}function g(){n(n().selectionRect=null,!0),n(n().selectionKeyPressed=!1,!0),n(n().multiselectionKeyPressed=!1,!0),n(n().deleteKeyPressed=!1,!0),n(n().panActivationKeyPressed=!1,!0),n(n().zoomActivationKeyPressed=!1,!0)}function v(){const b=n().nodes.filter(w=>w.selected),y=n().edges.filter(w=>w.selected);u({nodes:b,edges:y})}We("blur",ut,g),We("contextmenu",ut,g),zt(ut,(b,y)=>Ge==null?void 0:Ge(b,y),()=>({trigger:f(r(),()=>n(n().selectionKeyPressed=!0,!0)),type:"keydown"})),zt(ut,(b,y)=>Ge==null?void 0:Ge(b,y),()=>({trigger:f(r(),()=>n(n().selectionKeyPressed=!1,!0)),type:"keyup"})),zt(ut,(b,y)=>Ge==null?void 0:Ge(b,y),()=>({trigger:f(i(),()=>{n(n().multiselectionKeyPressed=!0,!0)}),type:"keydown"})),zt(ut,(b,y)=>Ge==null?void 0:Ge(b,y),()=>({trigger:f(i(),()=>n(n().multiselectionKeyPressed=!1,!0)),type:"keyup"})),zt(ut,(b,y)=>Ge==null?void 0:Ge(b,y),()=>({trigger:f(o(),b=>{!(b.originalEvent.ctrlKey||b.originalEvent.metaKey||b.originalEvent.shiftKey)&&!Rd(b.originalEvent)&&(n(n().deleteKeyPressed=!0,!0),v())}),type:"keydown"})),zt(ut,(b,y)=>Ge==null?void 0:Ge(b,y),()=>({trigger:f(o(),()=>n(n().deleteKeyPressed=!1,!0)),type:"keyup"})),zt(ut,(b,y)=>Ge==null?void 0:Ge(b,y),()=>({trigger:f(s(),()=>n(n().panActivationKeyPressed=!0,!0)),type:"keydown"})),zt(ut,(b,y)=>Ge==null?void 0:Ge(b,y),()=>({trigger:f(s(),()=>n(n().panActivationKeyPressed=!1,!0)),type:"keyup"})),zt(ut,(b,y)=>Ge==null?void 0:Ge(b,y),()=>({trigger:f(a(),()=>n(n().zoomActivationKeyPressed=!0,!0)),type:"keydown"})),zt(ut,(b,y)=>Ge==null?void 0:Ge(b,y),()=>({trigger:f(a(),()=>n(n().zoomActivationKeyPressed=!1,!0)),type:"keyup"})),ke()}var mb=Gt('<path fill="none" class="svelte-flow__connection-path"></path>'),yb=Gt('<svg class="svelte-flow__connectionline"><g><!></g></svg>');function bb(e,t){Ne(t,!0);let n=F(()=>{if(!t.store.connection.inProgress)return"";const s={sourceX:t.store.connection.from.x,sourceY:t.store.connection.from.y,sourcePosition:t.store.connection.fromPosition,targetX:t.store.connection.to.x,targetY:t.store.connection.to.y,targetPosition:t.store.connection.toPosition};switch(t.type){case or.Bezier:{const[a]=Ld(s);return a}case or.Straight:{const[a]=Fd(s);return a}case or.Step:case or.SmoothStep:{const[a]=cl({...s,borderRadius:t.type===or.Step?0:void 0});return a}}});var r=tt(),i=Ae(r);{var o=s=>{var a=yb(),u=ae(a),c=ae(u);{var d=f=>{var g=tt(),v=Ae(g);_s(v,()=>t.LineComponent,(b,y)=>{y(b,{})}),te(f,g)},h=f=>{var g=mb();be(()=>{ye(g,"d",l(n)),Ze(g,t.style)}),te(f,g)};De(c,f=>{t.LineComponent?f(d):f(h,!1)})}be(f=>{ye(a,"width",t.store.width),ye(a,"height",t.store.height),Ze(a,t.containerStyle),Ct(u,0,f)},[()=>Wr(["svelte-flow__connection",ly(t.store.connection.isValid)])]),te(s,a)};De(i,s=>{t.store.connection.inProgress&&s(o)})}te(e,r),ke()}var _b=de("<div><!></div>");function pl(e,t){Ne(t,!0);let n=ee(t,"position",3,"top-right"),r=Yr(t,["$$slots","$$events","$$legacy","position","style","class","children"]),i=F(()=>`${n()}`.split("-"));var o=_b();vn(o,a=>({class:a,style:t.style,...r}),[()=>["svelte-flow__panel",t.class,...l(i)]]);var s=ae(o);Rn(s,()=>t.children??gr),te(e,o),ke()}var wb=de('<a href="https://svelteflow.dev" target="_blank" rel="noopener noreferrer" aria-label="Svelte Flow attribution">Svelte Flow</a>');function xb(e,t){Ne(t,!0);let n=ee(t,"position",3,"bottom-right");var r=tt(),i=Ae(r);{var o=s=>{pl(s,{get position(){return n()},class:"svelte-flow__attribution","data-message":"Feel free to remove the attribution or check out how you could support us: https://svelteflow.dev/support-us",children:(a,u)=>{var c=wb();te(a,c)},$$slots:{default:!0}})};De(i,s=>{var a;(a=t.proOptions)!=null&&a.hideAttribution||s(o)})}te(e,r),ke()}var Eb=de("<div><!></div>");function Nb(e,t){Ne(t,!0);let n=ee(t,"domNode",15),r=ee(t,"clientWidth",15),i=ee(t,"clientHeight",15),o=F(()=>t.rest.class),s=F(()=>Wh(t.rest,["id","class","nodeTypes","edgeTypes","colorMode","isValidConnection","onmove","onmovestart","onmoveend","onflowerror","ondelete","onbeforedelete","onbeforeconnect","onconnect","onconnectstart","onconnectend","onbeforereconnect","onreconnect","onreconnectstart","onreconnectend","onclickconnectstart","onclickconnectend","oninit","onselectionchange","onselectiondragstart","onselectiondrag","onselectiondragstop","onselectionstart","onselectionend","clickConnect","fitView","fitViewOptions","nodeOrigin","nodeDragThreshold","connectionDragThreshold","minZoom","maxZoom","initialViewport","connectionRadius","connectionMode","selectionMode","selectNodesOnDrag","snapGrid","defaultMarkerColor","translateExtent","nodeExtent","onlyRenderVisibleElements","autoPanOnConnect","autoPanOnNodeDrag","colorModeSSR","defaultEdgeOptions","elevateNodesOnSelect","elevateEdgesOnSelect","nodesDraggable","autoPanOnNodeFocus","nodesConnectable","elementsSelectable","nodesFocusable","edgesFocusable","disableKeyboardA11y","noDragClass","noPanClass","noWheelClass","ariaLabelConfig","autoPanSpeed","panOnScrollSpeed","zIndexMode"]));function a(d){d.currentTarget.scrollTo({top:0,left:0,behavior:"auto"}),t.rest.onscroll&&t.rest.onscroll(d)}var u=Eb();vn(u,d=>({class:["svelte-flow","svelte-flow__container",l(o),t.colorMode],"data-testid":"svelte-flow__wrapper",role:"application",onscroll:a,...l(s),[Yn]:d}),[()=>({width:Mn(t.width),height:Mn(t.height)})],void 0,void 0,"svelte-rhpwh");var c=ae(u);Rn(c,()=>t.children??gr),lt(u,d=>n(d),()=>n()),Yl(u,"clientHeight",i),Yl(u,"clientWidth",r),te(e,u),ke()}var kb=de('<div class="svelte-flow__viewport-back svelte-flow__container"></div> <!> <div class="svelte-flow__edge-labels svelte-flow__container"></div> <!> <!> <!> <div class="svelte-flow__viewport-front svelte-flow__container"></div>',1),Ib=de("<!> <!>",1),Sb=de("<!> <!> <!> <!> <!>",1);function Tb(e,t){Ne(t,!0);let n=ee(t,"paneClickDistance",3,1),r=ee(t,"nodeClickDistance",3,1),i=ee(t,"panOnScrollMode",19,()=>ri.Free),o=ee(t,"preventScrolling",3,!0),s=ee(t,"zoomOnScroll",3,!0),a=ee(t,"zoomOnDoubleClick",3,!0),u=ee(t,"zoomOnPinch",3,!0),c=ee(t,"panOnScroll",3,!1),d=ee(t,"panOnScrollSpeed",3,.5),h=ee(t,"panOnDrag",3,!0),f=ee(t,"selectionOnDrag",3,!1),g=ee(t,"connectionLineType",19,()=>or.Bezier),v=ee(t,"nodes",31,()=>fn([])),b=ee(t,"edges",31,()=>fn([])),y=ee(t,"viewport",15,void 0),w=Yr(t,["$$slots","$$events","$$legacy","width","height","proOptions","selectionKey","deleteKey","panActivationKey","multiSelectionKey","zoomActivationKey","paneClickDistance","nodeClickDistance","onmovestart","onmoveend","onmove","oninit","onnodeclick","onnodecontextmenu","onnodedrag","onnodedragstart","onnodedragstop","onnodepointerenter","onnodepointermove","onnodepointerleave","onselectionclick","onselectioncontextmenu","onselectionstart","onselectionend","onedgeclick","onedgecontextmenu","onedgepointerenter","onedgepointerleave","onpaneclick","onpanecontextmenu","panOnScrollMode","preventScrolling","zoomOnScroll","zoomOnDoubleClick","zoomOnPinch","panOnScroll","panOnScrollSpeed","panOnDrag","selectionOnDrag","connectionLineComponent","connectionLineStyle","connectionLineContainerStyle","connectionLineType","attributionPosition","children","nodes","edges","viewport"]),x=tf({props:w,width:t.width,height:t.height,get nodes(){return v()},set nodes(m){v(m)},get edges(){return b()},set edges(m){b(m)},get viewport(){return y()},set viewport(m){y(m)}});const O=Wa(as);O&&O.setStore&&O.setStore(x),Ya(as,{provider:!1,getStore(){return x}}),et(()=>{var P;const m={nodes:x.selectedNodes,edges:x.selectedEdges};(P=Ve(()=>t.onselectionchange))==null||P(m);for(const A of x.selectionChangeHandlers.values())A(m)}),bo(()=>{x.reset()}),Nb(e,{get colorMode(){return x.colorMode},get width(){return t.width},get height(){return t.height},get rest(){return w},get domNode(){return x.domNode},set domNode(m){x.domNode=m},get clientWidth(){return x.width},set clientWidth(m){x.width=m},get clientHeight(){return x.height},set clientHeight(m){x.height=m},children:(m,P)=>{var A=Sb(),I=Ae(A);pb(I,{get selectionKey(){return t.selectionKey},get deleteKey(){return t.deleteKey},get panActivationKey(){return t.panActivationKey},get multiSelectionKey(){return t.multiSelectionKey},get zoomActivationKey(){return t.zoomActivationKey},get store(){return x},set store(_){x=_}});var k=ge(I,2);W0(k,{get panOnScrollMode(){return i()},get preventScrolling(){return o()},get zoomOnScroll(){return s()},get zoomOnDoubleClick(){return a()},get zoomOnPinch(){return u()},get panOnScroll(){return c()},get panOnScrollSpeed(){return d()},get panOnDrag(){return h()},get paneClickDistance(){return n()},get selectionOnDrag(){return f()},get onmovestart(){return t.onmovestart},get onmove(){return t.onmove},get onmoveend(){return t.onmoveend},get oninit(){return t.oninit},get store(){return x},set store(_){x=_},children:(_,N)=>{X0(_,{get onpaneclick(){return t.onpaneclick},get onpanecontextmenu(){return t.onpanecontextmenu},get onselectionstart(){return t.onselectionstart},get onselectionend(){return t.onselectionend},get panOnDrag(){return h()},get paneClickDistance(){return n()},get selectionOnDrag(){return f()},get store(){return x},set store(p){x=p},children:(p,T)=>{var S=Ib(),M=Ae(S);G0(M,{get store(){return x},set store(K){x=K},children:(K,X)=>{var G=kb(),U=ge(Ae(G),2);db(U,{get onedgeclick(){return t.onedgeclick},get onedgecontextmenu(){return t.onedgecontextmenu},get onedgepointerenter(){return t.onedgepointerenter},get onedgepointerleave(){return t.onedgepointerleave},get store(){return x},set store(B){x=B}});var Z=ge(U,4);bb(Z,{get type(){return g()},get LineComponent(){return t.connectionLineComponent},get containerStyle(){return t.connectionLineContainerStyle},get style(){return t.connectionLineStyle},get store(){return x},set store(B){x=B}});var D=ge(Z,2);tb(D,{get nodeClickDistance(){return r()},get onnodeclick(){return t.onnodeclick},get onnodecontextmenu(){return t.onnodecontextmenu},get onnodepointerenter(){return t.onnodepointerenter},get onnodepointermove(){return t.onnodepointermove},get onnodepointerleave(){return t.onnodepointerleave},get onnodedrag(){return t.onnodedrag},get onnodedragstart(){return t.onnodedragstart},get onnodedragstop(){return t.onnodedragstop},get store(){return x},set store(B){x=B}});var C=ge(D,2);gb(C,{get onselectionclick(){return t.onselectionclick},get onselectioncontextmenu(){return t.onselectioncontextmenu},get onnodedrag(){return t.onnodedrag},get onnodedragstart(){return t.onnodedragstart},get onnodedragstop(){return t.onnodedragstop},get store(){return x},set store(B){x=B}}),te(K,G)},$$slots:{default:!0}});var V=ge(M,2);{let K=F(()=>!!(x.selectionRect&&x.selectionRectMode==="user")),X=F(()=>{var D;return(D=x.selectionRect)==null?void 0:D.width}),G=F(()=>{var D;return(D=x.selectionRect)==null?void 0:D.height}),U=F(()=>{var D;return(D=x.selectionRect)==null?void 0:D.x}),Z=F(()=>{var D;return(D=x.selectionRect)==null?void 0:D.y});of(V,{get isVisible(){return l(K)},get width(){return l(X)},get height(){return l(G)},get x(){return l(U)},get y(){return l(Z)}})}te(p,S)},$$slots:{default:!0}})},$$slots:{default:!0}});var H=ge(k,2);xb(H,{get proOptions(){return t.proOptions},get position(){return t.attributionPosition}});var z=ge(H,2);Z0(z,{get store(){return x}});var E=ge(z,2);Rn(E,()=>t.children??gr),te(m,A)},$$slots:{default:!0}}),ke()}function Ob(e,t){Ne(t,!0);let n=Ie(tf({props:{},nodes:[],edges:[]}));Ya(as,{provider:!0,getStore(){return l(n)},setStore:o=>{W(n,o)}}),bo(()=>{l(n).reset()});var r=tt(),i=Ae(r);Rn(i,()=>t.children??gr),te(e,r),ke()}var dr;(function(e){e.Lines="lines",e.Dots="dots",e.Cross="cross"})(dr||(dr={}));var Cb=Gt("<circle></circle>");function Ab(e,t){var n=Cb();be(()=>{ye(n,"cx",t.radius),ye(n,"cy",t.radius),ye(n,"r",t.radius),Ct(n,0,Wr(["svelte-flow__background-pattern","dots",t.class]))}),te(e,n)}var Mb=Gt("<path></path>");function Pb(e,t){Ne(t,!0);var n=Mb();be(()=>{ye(n,"stroke-width",t.lineWidth),ye(n,"d",`M${t.dimensions[0]/2} 0 V${t.dimensions[1]} M0 ${t.dimensions[1]/2} H${t.dimensions[0]}`),Ct(n,0,Wr(["svelte-flow__background-pattern",t.variant,t.class]))}),te(e,n),ke()}const Db={[dr.Dots]:1,[dr.Lines]:1,[dr.Cross]:6};var Rb=Gt('<svg data-testid="svelte-flow__background"><pattern patternUnits="userSpaceOnUse"><!></pattern><rect x="0" y="0" width="100%" height="100%"></rect></svg>');function zb(e,t){Ne(t,!0);let n=ee(t,"variant",19,()=>dr.Dots),r=ee(t,"gap",3,20),i=ee(t,"lineWidth",3,1),o=F(mr),s=F(()=>n()===dr.Dots),a=F(()=>n()===dr.Cross),u=F(()=>Array.isArray(r())?r():[r(),r()]),c=F(()=>`background-pattern-${l(o).flowId}-${t.id??""}`),d=F(()=>[l(u)[0]*l(o).viewport.zoom||1,l(u)[1]*l(o).viewport.zoom||1]),h=F(()=>(t.size??Db[n()])*l(o).viewport.zoom),f=F(()=>l(a)?[l(h),l(h)]:l(d)),g=F(()=>l(s)?[l(h)/2,l(h)/2]:[l(f)[0]/2,l(f)[1]/2]);var v=Rb();let b;var y=ae(v),w=ae(y);{var x=P=>{{let A=F(()=>l(h)/2);Ab(P,{get radius(){return l(A)},get class(){return t.patternClass}})}},O=P=>{Pb(P,{get dimensions(){return l(f)},get variant(){return n()},get lineWidth(){return i()},get class(){return t.patternClass}})};De(w,P=>{l(s)?P(x):P(O,!1)})}var m=ge(y);be(()=>{Ct(v,0,Wr(["svelte-flow__background","svelte-flow__container",t.class])),b=Ze(v,"",b,{"--xy-background-color-props":t.bgColor,"--xy-background-pattern-color-props":t.patternColor}),ye(y,"id",l(c)),ye(y,"x",l(o).viewport.x%l(d)[0]),ye(y,"y",l(o).viewport.y%l(d)[1]),ye(y,"width",l(d)[0]),ye(y,"height",l(d)[1]),ye(y,"patternTransform",`translate(-${l(g)[0]},-${l(g)[1]})`),ye(m,"fill",`url(#${l(c)})`)}),te(e,v),ke()}var Lb=de("<div><!></div>");function Mu(e,t){Ne(t,!0);let n=ee(t,"variant",19,()=>eo.Handle),r=ee(t,"minWidth",3,10),i=ee(t,"minHeight",3,10),o=ee(t,"maxWidth",19,()=>Number.MAX_VALUE),s=ee(t,"maxHeight",19,()=>Number.MAX_VALUE),a=ee(t,"keepAspectRatio",3,!1),u=ee(t,"autoScale",3,!0),c=Yr(t,["$$slots","$$events","$$legacy","nodeId","position","variant","color","minWidth","minHeight","maxWidth","maxHeight","keepAspectRatio","resizeDirection","autoScale","shouldResize","onResizeStart","onResize","onResizeEnd","class","children"]);const d=mr(),h=Zd();let f=F(()=>typeof t.nodeId=="string"?t.nodeId:h);if(!l(f))throw new Error("Either pass a nodeId or use within a Custom Node component");let g,v=Ie(null),b=F(()=>n()===eo.Line),y=F(()=>{let m=l(b)?"right":"bottom-right";return t.position??m}),w=F(()=>l(y).split("-"));$a(()=>(g&&W(v,h0({domNode:g,nodeId:l(f),getStoreItems:()=>({nodeLookup:d.nodeLookup,transform:[d.viewport.x,d.viewport.y,d.viewport.zoom],snapGrid:d.snapGrid??void 0,snapToGrid:!!d.snapGrid,nodeOrigin:d.nodeOrigin,paneDomNode:d.domNode}),onChange:(m,P)=>{const A=new Map;A.set(l(f),m);for(const I of P)A.set(I.id,{x:I.position.x,y:I.position.y});d.nodes=d.nodes.map(I=>{const k=A.get(I.id),H=!t.resizeDirection||t.resizeDirection==="horizontal",z=!t.resizeDirection||t.resizeDirection==="vertical";return k?{...I,position:{x:H?k.x??I.position.x:I.position.x,y:z?k.y??I.position.y:I.position.y},width:H?k.width??I.width:I.width,height:z?k.height??I.height:I.height}:I})}}),!0),()=>{var m;(m=l(v))==null||m.destroy()})),qa(()=>{var m;(m=l(v))==null||m.update({controlPosition:l(y),boundaries:{minWidth:r(),minHeight:i(),maxWidth:o(),maxHeight:s()},keepAspectRatio:!!a(),resizeDirection:t.resizeDirection,onResizeStart:t.onResizeStart,onResize:t.onResize,onResizeEnd:t.onResizeEnd,shouldResize:t.shouldResize})});var x=Lb();vn(x,(m,P)=>({class:m,...c,[Yn]:P}),[()=>["svelte-flow__resize-control",d.noDragClass,...l(w),n(),t.class],()=>({"border-color":l(b)?t.color:void 0,"background-color":l(b)?void 0:t.color,scale:l(b)||!u()?void 0:Math.max(1/d.viewport.zoom,1)})]);var O=ae(x);Rn(O,()=>t.children??gr),lt(x,m=>g=m,()=>g),te(e,x),ke()}var Vb=de("<!> <!>",1);function Fb(e,t){Ne(t,!0);let n=ee(t,"isVisible",3,!0),r=ee(t,"autoScale",3,!0),i=Yr(t,["$$slots","$$events","$$legacy","isVisible","nodeId","handleClass","handleStyle","lineClass","lineStyle","autoScale"]);var o=tt(),s=Ae(o);{var a=u=>{var c=Vb(),d=Ae(c);it(d,16,()=>a0,f=>f,(f,g)=>{Mu(f,Xt({get class(){return t.lineClass},get style(){return t.lineStyle},get nodeId(){return t.nodeId},get position(){return g},get autoScale(){return r()},get variant(){return eo.Line}},()=>i))});var h=ge(d,2);it(h,16,()=>s0,f=>f,(f,g)=>{Mu(f,Xt({get class(){return t.handleClass},get style(){return t.handleStyle},get nodeId(){return t.nodeId},get position(){return g},get autoScale(){return r()}},()=>i))}),te(u,c)};De(s,u=>{n()&&u(a)})}te(e,o),ke()}function sf(){const e=F(mr);return{get current(){return l(e).viewport},set current(t){l(e).viewport=t},update(t){l(e).viewport=t(l(e).viewport)},set(t){l(e).viewport=t}}}const Et=fn({}),Da="datanode",Ra="rawjson",Pu="link",ra="group",Du="comment",af="input",Hb="input",ml="input",Kb="create-group",Bb="create-comment",Wb="create-raw-json",Yb="create-link",Xb="hytale-node-editor-comment-mutation",jb="hytale-node-editor-custom-mutation",Gb="hytale-node-editor-raw-json-mutation";var Qe=(e,t)=>()=>(t||e((t={exports:{}}).exports,t),t.exports),pn=Qe((e,t)=>{var n=Object.defineProperty,r=(N,p,T)=>p in N?n(N,p,{enumerable:!0,configurable:!0,writable:!0,value:T}):N[p]=T,i=(N,p)=>()=>(p||N((p={exports:{}}).exports,p),p.exports),o=(N,p,T)=>r(N,typeof p!="symbol"?p+"":p,T),s=i((N,p)=>{var T="\0",S="\0",M="",V=class{constructor(D){o(this,"_isDirected",!0),o(this,"_isMultigraph",!1),o(this,"_isCompound",!1),o(this,"_label"),o(this,"_defaultNodeLabelFn",()=>{}),o(this,"_defaultEdgeLabelFn",()=>{}),o(this,"_nodes",{}),o(this,"_in",{}),o(this,"_preds",{}),o(this,"_out",{}),o(this,"_sucs",{}),o(this,"_edgeObjs",{}),o(this,"_edgeLabels",{}),o(this,"_nodeCount",0),o(this,"_edgeCount",0),o(this,"_parent"),o(this,"_children"),D&&(this._isDirected=Object.hasOwn(D,"directed")?D.directed:!0,this._isMultigraph=Object.hasOwn(D,"multigraph")?D.multigraph:!1,this._isCompound=Object.hasOwn(D,"compound")?D.compound:!1),this._isCompound&&(this._parent={},this._children={},this._children[S]={})}isDirected(){return this._isDirected}isMultigraph(){return this._isMultigraph}isCompound(){return this._isCompound}setGraph(D){return this._label=D,this}graph(){return this._label}setDefaultNodeLabel(D){return this._defaultNodeLabelFn=D,typeof D!="function"&&(this._defaultNodeLabelFn=()=>D),this}nodeCount(){return this._nodeCount}nodes(){return Object.keys(this._nodes)}sources(){var D=this;return this.nodes().filter(C=>Object.keys(D._in[C]).length===0)}sinks(){var D=this;return this.nodes().filter(C=>Object.keys(D._out[C]).length===0)}setNodes(D,C){var B=arguments,Y=this;return D.forEach(function(j){B.length>1?Y.setNode(j,C):Y.setNode(j)}),this}setNode(D,C){return Object.hasOwn(this._nodes,D)?(arguments.length>1&&(this._nodes[D]=C),this):(this._nodes[D]=arguments.length>1?C:this._defaultNodeLabelFn(D),this._isCompound&&(this._parent[D]=S,this._children[D]={},this._children[S][D]=!0),this._in[D]={},this._preds[D]={},this._out[D]={},this._sucs[D]={},++this._nodeCount,this)}node(D){return this._nodes[D]}hasNode(D){return Object.hasOwn(this._nodes,D)}removeNode(D){var C=this;if(Object.hasOwn(this._nodes,D)){var B=Y=>C.removeEdge(C._edgeObjs[Y]);delete this._nodes[D],this._isCompound&&(this._removeFromParentsChildList(D),delete this._parent[D],this.children(D).forEach(function(Y){C.setParent(Y)}),delete this._children[D]),Object.keys(this._in[D]).forEach(B),delete this._in[D],delete this._preds[D],Object.keys(this._out[D]).forEach(B),delete this._out[D],delete this._sucs[D],--this._nodeCount}return this}setParent(D,C){if(!this._isCompound)throw new Error("Cannot set parent in a non-compound graph");if(C===void 0)C=S;else{C+="";for(var B=C;B!==void 0;B=this.parent(B))if(B===D)throw new Error("Setting "+C+" as parent of "+D+" would create a cycle");this.setNode(C)}return this.setNode(D),this._removeFromParentsChildList(D),this._parent[D]=C,this._children[C][D]=!0,this}_removeFromParentsChildList(D){delete this._children[this._parent[D]][D]}parent(D){if(this._isCompound){var C=this._parent[D];if(C!==S)return C}}children(D=S){if(this._isCompound){var C=this._children[D];if(C)return Object.keys(C)}else{if(D===S)return this.nodes();if(this.hasNode(D))return[]}}predecessors(D){var C=this._preds[D];if(C)return Object.keys(C)}successors(D){var C=this._sucs[D];if(C)return Object.keys(C)}neighbors(D){var C=this.predecessors(D);if(C){let Y=new Set(C);for(var B of this.successors(D))Y.add(B);return Array.from(Y.values())}}isLeaf(D){var C;return this.isDirected()?C=this.successors(D):C=this.neighbors(D),C.length===0}filterNodes(D){var C=new this.constructor({directed:this._isDirected,multigraph:this._isMultigraph,compound:this._isCompound});C.setGraph(this.graph());var B=this;Object.entries(this._nodes).forEach(function([Q,re]){D(Q)&&C.setNode(Q,re)}),Object.values(this._edgeObjs).forEach(function(Q){C.hasNode(Q.v)&&C.hasNode(Q.w)&&C.setEdge(Q,B.edge(Q))});var Y={};function j(Q){var re=B.parent(Q);return re===void 0||C.hasNode(re)?(Y[Q]=re,re):re in Y?Y[re]:j(re)}return this._isCompound&&C.nodes().forEach(Q=>C.setParent(Q,j(Q))),C}setDefaultEdgeLabel(D){return this._defaultEdgeLabelFn=D,typeof D!="function"&&(this._defaultEdgeLabelFn=()=>D),this}edgeCount(){return this._edgeCount}edges(){return Object.values(this._edgeObjs)}setPath(D,C){var B=this,Y=arguments;return D.reduce(function(j,Q){return Y.length>1?B.setEdge(j,Q,C):B.setEdge(j,Q),Q}),this}setEdge(){var D,C,B,Y,j=!1,Q=arguments[0];typeof Q=="object"&&Q!==null&&"v"in Q?(D=Q.v,C=Q.w,B=Q.name,arguments.length===2&&(Y=arguments[1],j=!0)):(D=Q,C=arguments[1],B=arguments[3],arguments.length>2&&(Y=arguments[2],j=!0)),D=""+D,C=""+C,B!==void 0&&(B=""+B);var re=G(this._isDirected,D,C,B);if(Object.hasOwn(this._edgeLabels,re))return j&&(this._edgeLabels[re]=Y),this;if(B!==void 0&&!this._isMultigraph)throw new Error("Cannot set a named edge when isMultigraph = false");this.setNode(D),this.setNode(C),this._edgeLabels[re]=j?Y:this._defaultEdgeLabelFn(D,C,B);var ie=U(this._isDirected,D,C,B);return D=ie.v,C=ie.w,Object.freeze(ie),this._edgeObjs[re]=ie,K(this._preds[C],D),K(this._sucs[D],C),this._in[C][re]=ie,this._out[D][re]=ie,this._edgeCount++,this}edge(D,C,B){var Y=arguments.length===1?Z(this._isDirected,arguments[0]):G(this._isDirected,D,C,B);return this._edgeLabels[Y]}edgeAsObj(){let D=this.edge(...arguments);return typeof D!="object"?{label:D}:D}hasEdge(D,C,B){var Y=arguments.length===1?Z(this._isDirected,arguments[0]):G(this._isDirected,D,C,B);return Object.hasOwn(this._edgeLabels,Y)}removeEdge(D,C,B){var Y=arguments.length===1?Z(this._isDirected,arguments[0]):G(this._isDirected,D,C,B),j=this._edgeObjs[Y];return j&&(D=j.v,C=j.w,delete this._edgeLabels[Y],delete this._edgeObjs[Y],X(this._preds[C],D),X(this._sucs[D],C),delete this._in[C][Y],delete this._out[D][Y],this._edgeCount--),this}inEdges(D,C){return this.isDirected()?this.filterEdges(this._in[D],D,C):this.nodeEdges(D,C)}outEdges(D,C){return this.isDirected()?this.filterEdges(this._out[D],D,C):this.nodeEdges(D,C)}nodeEdges(D,C){if(D in this._nodes)return this.filterEdges({...this._in[D],...this._out[D]},D,C)}filterEdges(D,C,B){if(D){var Y=Object.values(D);return B?Y.filter(function(j){return j.v===C&&j.w===B||j.v===B&&j.w===C}):Y}}};function K(D,C){D[C]?D[C]++:D[C]=1}function X(D,C){--D[C]||delete D[C]}function G(D,C,B,Y){var j=""+C,Q=""+B;if(!D&&j>Q){var re=j;j=Q,Q=re}return j+M+Q+M+(Y===void 0?T:Y)}function U(D,C,B,Y){var j=""+C,Q=""+B;if(!D&&j>Q){var re=j;j=Q,Q=re}var ie={v:j,w:Q};return Y&&(ie.name=Y),ie}function Z(D,C){return G(D,C.v,C.w,C.name)}p.exports=V}),a=i((N,p)=>{p.exports="3.0.2"}),u=i((N,p)=>{p.exports={Graph:s(),version:a()}}),c=i((N,p)=>{var T=s();p.exports={write:S,read:K};function S(X){var G={options:{directed:X.isDirected(),multigraph:X.isMultigraph(),compound:X.isCompound()},nodes:M(X),edges:V(X)};return X.graph()!==void 0&&(G.value=structuredClone(X.graph())),G}function M(X){return X.nodes().map(function(G){var U=X.node(G),Z=X.parent(G),D={v:G};return U!==void 0&&(D.value=U),Z!==void 0&&(D.parent=Z),D})}function V(X){return X.edges().map(function(G){var U=X.edge(G),Z={v:G.v,w:G.w};return G.name!==void 0&&(Z.name=G.name),U!==void 0&&(Z.value=U),Z})}function K(X){var G=new T(X.options).setGraph(X.value);return X.nodes.forEach(function(U){G.setNode(U.v,U.value),U.parent&&G.setParent(U.v,U.parent)}),X.edges.forEach(function(U){G.setEdge({v:U.v,w:U.w,name:U.name},U.value)}),G}}),d=i((N,p)=>{p.exports=S;var T=()=>1;function S(V,K,X,G){return M(V,String(K),X||T,G||function(U){return V.outEdges(U)})}function M(V,K,X,G){var U={},Z=!0,D=0,C=V.nodes(),B=function(re){var ie=X(re);U[re.v].distance+ie<U[re.w].distance&&(U[re.w]={distance:U[re.v].distance+ie,predecessor:re.v},Z=!0)},Y=function(){C.forEach(function(re){G(re).forEach(function(ie){var pe=ie.v===re?ie.v:ie.w,me=pe===ie.v?ie.w:ie.v;B({v:pe,w:me})})})};C.forEach(function(re){var ie=re===K?0:Number.POSITIVE_INFINITY;U[re]={distance:ie}});for(var j=C.length,Q=1;Q<j&&(Z=!1,D++,Y(),!!Z);Q++);if(D===j-1&&(Z=!1,Y(),Z))throw new Error("The graph contains a negative weight cycle");return U}}),h=i((N,p)=>{p.exports=T;function T(S){var M={},V=[],K;function X(G){Object.hasOwn(M,G)||(M[G]=!0,K.push(G),S.successors(G).forEach(X),S.predecessors(G).forEach(X))}return S.nodes().forEach(function(G){K=[],X(G),K.length&&V.push(K)}),V}}),f=i((N,p)=>{var T=class{constructor(){o(this,"_arr",[]),o(this,"_keyIndices",{})}size(){return this._arr.length}keys(){return this._arr.map(function(S){return S.key})}has(S){return Object.hasOwn(this._keyIndices,S)}priority(S){var M=this._keyIndices[S];if(M!==void 0)return this._arr[M].priority}min(){if(this.size()===0)throw new Error("Queue underflow");return this._arr[0].key}add(S,M){var V=this._keyIndices;if(S=String(S),!Object.hasOwn(V,S)){var K=this._arr,X=K.length;return V[S]=X,K.push({key:S,priority:M}),this._decrease(X),!0}return!1}removeMin(){this._swap(0,this._arr.length-1);var S=this._arr.pop();return delete this._keyIndices[S.key],this._heapify(0),S.key}decrease(S,M){var V=this._keyIndices[S];if(M>this._arr[V].priority)throw new Error("New priority is greater than current priority. Key: "+S+" Old: "+this._arr[V].priority+" New: "+M);this._arr[V].priority=M,this._decrease(V)}_heapify(S){var M=this._arr,V=2*S,K=V+1,X=S;V<M.length&&(X=M[V].priority<M[X].priority?V:X,K<M.length&&(X=M[K].priority<M[X].priority?K:X),X!==S&&(this._swap(S,X),this._heapify(X)))}_decrease(S){for(var M=this._arr,V=M[S].priority,K;S!==0&&(K=S>>1,!(M[K].priority<V));)this._swap(S,K),S=K}_swap(S,M){var V=this._arr,K=this._keyIndices,X=V[S],G=V[M];V[S]=G,V[M]=X,K[G.key]=S,K[X.key]=M}};p.exports=T}),g=i((N,p)=>{var T=f();p.exports=M;var S=()=>1;function M(K,X,G,U){var Z=function(D){return K.outEdges(D)};return V(K,String(X),G||S,U||Z)}function V(K,X,G,U){var Z={},D=new T,C,B,Y=function(j){var Q=j.v!==C?j.v:j.w,re=Z[Q],ie=G(j),pe=B.distance+ie;if(ie<0)throw new Error("dijkstra does not allow negative edge weights. Bad edge: "+j+" Weight: "+ie);pe<re.distance&&(re.distance=pe,re.predecessor=C,D.decrease(Q,pe))};for(K.nodes().forEach(function(j){var Q=j===X?0:Number.POSITIVE_INFINITY;Z[j]={distance:Q},D.add(j,Q)});D.size()>0&&(C=D.removeMin(),B=Z[C],B.distance!==Number.POSITIVE_INFINITY);)U(C).forEach(Y);return Z}}),v=i((N,p)=>{var T=g();p.exports=S;function S(M,V,K){return M.nodes().reduce(function(X,G){return X[G]=T(M,G,V,K),X},{})}}),b=i((N,p)=>{p.exports=T;function T(M,V,K){if(M[V].predecessor!==void 0)throw new Error("Invalid source vertex");if(M[K].predecessor===void 0&&K!==V)throw new Error("Invalid destination vertex");return{weight:M[K].distance,path:S(M,V,K)}}function S(M,V,K){for(var X=[],G=K;G!==V;)X.push(G),G=M[G].predecessor;return X.push(V),X.reverse()}}),y=i((N,p)=>{p.exports=T;function T(S){var M=0,V=[],K={},X=[];function G(U){var Z=K[U]={onStack:!0,lowlink:M,index:M++};if(V.push(U),S.successors(U).forEach(function(B){Object.hasOwn(K,B)?K[B].onStack&&(Z.lowlink=Math.min(Z.lowlink,K[B].index)):(G(B),Z.lowlink=Math.min(Z.lowlink,K[B].lowlink))}),Z.lowlink===Z.index){var D=[],C;do C=V.pop(),K[C].onStack=!1,D.push(C);while(U!==C);X.push(D)}}return S.nodes().forEach(function(U){Object.hasOwn(K,U)||G(U)}),X}}),w=i((N,p)=>{var T=y();p.exports=S;function S(M){return T(M).filter(function(V){return V.length>1||V.length===1&&M.hasEdge(V[0],V[0])})}}),x=i((N,p)=>{p.exports=S;var T=()=>1;function S(V,K,X){return M(V,K||T,X||function(G){return V.outEdges(G)})}function M(V,K,X){var G={},U=V.nodes();return U.forEach(function(Z){G[Z]={},G[Z][Z]={distance:0},U.forEach(function(D){Z!==D&&(G[Z][D]={distance:Number.POSITIVE_INFINITY})}),X(Z).forEach(function(D){var C=D.v===Z?D.w:D.v,B=K(D);G[Z][C]={distance:B,predecessor:Z}})}),U.forEach(function(Z){var D=G[Z];U.forEach(function(C){var B=G[C];U.forEach(function(Y){var j=B[Z],Q=D[Y],re=B[Y],ie=j.distance+Q.distance;ie<re.distance&&(re.distance=ie,re.predecessor=Q.predecessor)})})}),G}}),O=i((N,p)=>{function T(M){var V={},K={},X=[];function G(U){if(Object.hasOwn(K,U))throw new S;Object.hasOwn(V,U)||(K[U]=!0,V[U]=!0,M.predecessors(U).forEach(G),delete K[U],X.push(U))}if(M.sinks().forEach(G),Object.keys(V).length!==M.nodeCount())throw new S;return X}var S=class extends Error{constructor(){super(...arguments)}};p.exports=T,T.CycleException=S}),m=i((N,p)=>{var T=O();p.exports=S;function S(M){try{T(M)}catch(V){if(V instanceof T.CycleException)return!1;throw V}return!0}}),P=i((N,p)=>{p.exports=T;function T(M,V,K,X,G){Array.isArray(V)||(V=[V]);var U=(M.isDirected()?M.successors:M.neighbors).bind(M),Z={};return V.forEach(function(D){if(!M.hasNode(D))throw new Error("Graph does not have node: "+D);G=S(M,D,K==="post",Z,U,X,G)}),G}function S(M,V,K,X,G,U,Z){return Object.hasOwn(X,V)||(X[V]=!0,K||(Z=U(Z,V)),G(V).forEach(function(D){Z=S(M,D,K,X,G,U,Z)}),K&&(Z=U(Z,V))),Z}}),A=i((N,p)=>{var T=P();p.exports=S;function S(M,V,K){return T(M,V,K,function(X,G){return X.push(G),X},[])}}),I=i((N,p)=>{var T=A();p.exports=S;function S(M,V){return T(M,V,"post")}}),k=i((N,p)=>{var T=A();p.exports=S;function S(M,V){return T(M,V,"pre")}}),H=i((N,p)=>{var T=s(),S=f();p.exports=M;function M(V,K){var X=new T,G={},U=new S,Z;function D(B){var Y=B.v===Z?B.w:B.v,j=U.priority(Y);if(j!==void 0){var Q=K(B);Q<j&&(G[Y]=Z,U.decrease(Y,Q))}}if(V.nodeCount()===0)return X;V.nodes().forEach(function(B){U.add(B,Number.POSITIVE_INFINITY),X.setNode(B)}),U.decrease(V.nodes()[0],0);for(var C=!1;U.size()>0;){if(Z=U.removeMin(),Object.hasOwn(G,Z))X.setEdge(Z,G[Z]);else{if(C)throw new Error("Input graph is not connected: "+V);C=!0}V.nodeEdges(Z).forEach(D)}return X}}),z=i((N,p)=>{var T=g(),S=d();p.exports=M;function M(K,X,G,U){return V(K,X,G,U||function(Z){return K.outEdges(Z)})}function V(K,X,G,U){if(G===void 0)return T(K,X,G,U);for(var Z=!1,D=K.nodes(),C=0;C<D.length;C++){for(var B=U(D[C]),Y=0;Y<B.length;Y++){var j=B[Y],Q=j.v===D[C]?j.v:j.w,re=Q===j.v?j.w:j.v;G({v:Q,w:re})<0&&(Z=!0)}if(Z)return S(K,X,G,U)}return T(K,X,G,U)}}),E=i((N,p)=>{p.exports={bellmanFord:d(),components:h(),dijkstra:g(),dijkstraAll:v(),extractPath:b(),findCycles:w(),floydWarshall:x(),isAcyclic:m(),postorder:I(),preorder:k(),prim:H(),shortestPaths:z(),reduce:P(),tarjan:y(),topsort:O()}}),_=u();t.exports={Graph:_.Graph,json:c(),alg:E(),version:_.version}}),Ub=Qe((e,t)=>{var n=class{constructor(){let o={};o._next=o._prev=o,this._sentinel=o}dequeue(){let o=this._sentinel,s=o._prev;if(s!==o)return r(s),s}enqueue(o){let s=this._sentinel;o._prev&&o._next&&r(o),o._next=s._next,s._next._prev=o,s._next=o,o._prev=s}toString(){let o=[],s=this._sentinel,a=s._prev;for(;a!==s;)o.push(JSON.stringify(a,i)),a=a._prev;return"["+o.join(", ")+"]"}};function r(o){o._prev._next=o._next,o._next._prev=o._prev,delete o._next,delete o._prev}function i(o,s){if(o!=="_next"&&o!=="_prev")return s}t.exports=n}),qb=Qe((e,t)=>{var n=pn().Graph,r=Ub();t.exports=o;var i=()=>1;function o(h,f){if(h.nodeCount()<=1)return[];let g=u(h,f||i);return s(g.graph,g.buckets,g.zeroIdx).flatMap(v=>h.outEdges(v.v,v.w))}function s(h,f,g){let v=[],b=f[f.length-1],y=f[0],w;for(;h.nodeCount();){for(;w=y.dequeue();)a(h,f,g,w);for(;w=b.dequeue();)a(h,f,g,w);if(h.nodeCount()){for(let x=f.length-2;x>0;--x)if(w=f[x].dequeue(),w){v=v.concat(a(h,f,g,w,!0));break}}}return v}function a(h,f,g,v,b){let y=b?[]:void 0;return h.inEdges(v.v).forEach(w=>{let x=h.edge(w),O=h.node(w.v);b&&y.push({v:w.v,w:w.w}),O.out-=x,c(f,g,O)}),h.outEdges(v.v).forEach(w=>{let x=h.edge(w),O=w.w,m=h.node(O);m.in-=x,c(f,g,m)}),h.removeNode(v.v),y}function u(h,f){let g=new n,v=0,b=0;h.nodes().forEach(x=>{g.setNode(x,{v:x,in:0,out:0})}),h.edges().forEach(x=>{let O=g.edge(x.v,x.w)||0,m=f(x),P=O+m;g.setEdge(x.v,x.w,P),b=Math.max(b,g.node(x.v).out+=m),v=Math.max(v,g.node(x.w).in+=m)});let y=d(b+v+3).map(()=>new r),w=v+1;return g.nodes().forEach(x=>{c(y,w,g.node(x))}),{graph:g,buckets:y,zeroIdx:w}}function c(h,f,g){g.out?g.in?h[g.out-g.in+f].enqueue(g):h[h.length-1].enqueue(g):h[0].enqueue(g)}function d(h){let f=[];for(let g=0;g<h;g++)f.push(g);return f}}),ht=Qe((e,t)=>{var n=pn().Graph;t.exports={addBorderNode:f,addDummyNode:r,applyWithChunking:b,asNonCompoundGraph:o,buildLayerMatrix:c,intersectRect:u,mapValues:k,maxRank:y,normalizeRanks:d,notime:O,partition:w,pick:I,predecessorWeights:a,range:A,removeEmptyRanks:h,simplify:i,successorWeights:s,time:x,uniqueId:P,zipObject:H};function r(z,E,_,N){for(var p=N;z.hasNode(p);)p=P(N);return _.dummy=E,z.setNode(p,_),p}function i(z){let E=new n().setGraph(z.graph());return z.nodes().forEach(_=>E.setNode(_,z.node(_))),z.edges().forEach(_=>{let N=E.edge(_.v,_.w)||{weight:0,minlen:1},p=z.edge(_);E.setEdge(_.v,_.w,{weight:N.weight+p.weight,minlen:Math.max(N.minlen,p.minlen)})}),E}function o(z){let E=new n({multigraph:z.isMultigraph()}).setGraph(z.graph());return z.nodes().forEach(_=>{z.children(_).length||E.setNode(_,z.node(_))}),z.edges().forEach(_=>{E.setEdge(_,z.edge(_))}),E}function s(z){let E=z.nodes().map(_=>{let N={};return z.outEdges(_).forEach(p=>{N[p.w]=(N[p.w]||0)+z.edge(p).weight}),N});return H(z.nodes(),E)}function a(z){let E=z.nodes().map(_=>{let N={};return z.inEdges(_).forEach(p=>{N[p.v]=(N[p.v]||0)+z.edge(p).weight}),N});return H(z.nodes(),E)}function u(z,E){let _=z.x,N=z.y,p=E.x-_,T=E.y-N,S=z.width/2,M=z.height/2;if(!p&&!T)throw new Error("Not possible to find intersection inside of the rectangle");let V,K;return Math.abs(T)*S>Math.abs(p)*M?(T<0&&(M=-M),V=M*p/T,K=M):(p<0&&(S=-S),V=S,K=S*T/p),{x:_+V,y:N+K}}function c(z){let E=A(y(z)+1).map(()=>[]);return z.nodes().forEach(_=>{let N=z.node(_),p=N.rank;p!==void 0&&(E[p][N.order]=_)}),E}function d(z){let E=z.nodes().map(N=>{let p=z.node(N).rank;return p===void 0?Number.MAX_VALUE:p}),_=b(Math.min,E);z.nodes().forEach(N=>{let p=z.node(N);Object.hasOwn(p,"rank")&&(p.rank-=_)})}function h(z){let E=z.nodes().map(S=>z.node(S).rank).filter(S=>S!==void 0),_=b(Math.min,E),N=[];z.nodes().forEach(S=>{let M=z.node(S).rank-_;N[M]||(N[M]=[]),N[M].push(S)});let p=0,T=z.graph().nodeRankFactor;Array.from(N).forEach((S,M)=>{S===void 0&&M%T!==0?--p:S!==void 0&&p&&S.forEach(V=>z.node(V).rank+=p)})}function f(z,E,_,N){let p={width:0,height:0};return arguments.length>=4&&(p.rank=_,p.order=N),r(z,"border",p,E)}function g(z,E=v){let _=[];for(let N=0;N<z.length;N+=E){let p=z.slice(N,N+E);_.push(p)}return _}var v=65535;function b(z,E){if(E.length>v){let _=g(E);return z.apply(null,_.map(N=>z.apply(null,N)))}else return z.apply(null,E)}function y(z){let E=z.nodes().map(_=>{let N=z.node(_).rank;return N===void 0?Number.MIN_VALUE:N});return b(Math.max,E)}function w(z,E){let _={lhs:[],rhs:[]};return z.forEach(N=>{E(N)?_.lhs.push(N):_.rhs.push(N)}),_}function x(z,E){let _=Date.now();try{return E()}finally{console.log(z+" time: "+(Date.now()-_)+"ms")}}function O(z,E){return E()}var m=0;function P(z){var E=++m;return z+(""+E)}function A(z,E,_=1){E==null&&(E=z,z=0);let N=T=>T<E;_<0&&(N=T=>E<T);let p=[];for(let T=z;N(T);T+=_)p.push(T);return p}function I(z,E){let _={};for(let N of E)z[N]!==void 0&&(_[N]=z[N]);return _}function k(z,E){let _=E;return typeof E=="string"&&(_=N=>N[E]),Object.entries(z).reduce((N,[p,T])=>(N[p]=_(T,p),N),{})}function H(z,E){return z.reduce((_,N,p)=>(_[N]=E[p],_),{})}}),Zb=Qe((e,t)=>{var n=qb(),r=ht().uniqueId;t.exports={run:i,undo:s};function i(a){(a.graph().acyclicer==="greedy"?n(a,u(a)):o(a)).forEach(c=>{let d=a.edge(c);a.removeEdge(c),d.forwardName=c.name,d.reversed=!0,a.setEdge(c.w,c.v,d,r("rev"))});function u(c){return d=>c.edge(d).weight}}function o(a){let u=[],c={},d={};function h(f){Object.hasOwn(d,f)||(d[f]=!0,c[f]=!0,a.outEdges(f).forEach(g=>{Object.hasOwn(c,g.w)?u.push(g):h(g.w)}),delete c[f])}return a.nodes().forEach(h),u}function s(a){a.edges().forEach(u=>{let c=a.edge(u);if(c.reversed){a.removeEdge(u);let d=c.forwardName;delete c.reversed,delete c.forwardName,a.setEdge(u.w,u.v,c,d)}})}}),Qb=Qe((e,t)=>{var n=ht();t.exports={run:r,undo:o};function r(s){s.graph().dummyChains=[],s.edges().forEach(a=>i(s,a))}function i(s,a){let u=a.v,c=s.node(u).rank,d=a.w,h=s.node(d).rank,f=a.name,g=s.edge(a),v=g.labelRank;if(h===c+1)return;s.removeEdge(a);let b,y,w;for(w=0,++c;c<h;++w,++c)g.points=[],y={width:0,height:0,edgeLabel:g,edgeObj:a,rank:c},b=n.addDummyNode(s,"edge",y,"_d"),c===v&&(y.width=g.width,y.height=g.height,y.dummy="edge-label",y.labelpos=g.labelpos),s.setEdge(u,b,{weight:g.weight},f),w===0&&s.graph().dummyChains.push(b),u=b;s.setEdge(u,d,{weight:g.weight},f)}function o(s){s.graph().dummyChains.forEach(a=>{let u=s.node(a),c=u.edgeLabel,d;for(s.setEdge(u.edgeObj,c);u.dummy;)d=s.successors(a)[0],s.removeNode(a),c.points.push({x:u.x,y:u.y}),u.dummy==="edge-label"&&(c.x=u.x,c.y=u.y,c.width=u.width,c.height=u.height),a=d,u=s.node(a)})}}),ls=Qe((e,t)=>{var{applyWithChunking:n}=ht();t.exports={longestPath:r,slack:i};function r(o){var s={};function a(u){var c=o.node(u);if(Object.hasOwn(s,u))return c.rank;s[u]=!0;let d=o.outEdges(u).map(f=>f==null?Number.POSITIVE_INFINITY:a(f.w)-o.edge(f).minlen);var h=n(Math.min,d);return h===Number.POSITIVE_INFINITY&&(h=0),c.rank=h}o.sources().forEach(a)}function i(o,s){return o.node(s.w).rank-o.node(s.v).rank-o.edge(s).minlen}}),lf=Qe((e,t)=>{var n=pn().Graph,r=ls().slack;t.exports=i;function i(u){var c=new n({directed:!1}),d=u.nodes()[0],h=u.nodeCount();c.setNode(d,{});for(var f,g;o(c,u)<h;)f=s(c,u),g=c.hasNode(f.v)?r(u,f):-r(u,f),a(c,u,g);return c}function o(u,c){function d(h){c.nodeEdges(h).forEach(f=>{var g=f.v,v=h===g?f.w:g;!u.hasNode(v)&&!r(c,f)&&(u.setNode(v,{}),u.setEdge(h,v,{}),d(v))})}return u.nodes().forEach(d),u.nodeCount()}function s(u,c){return c.edges().reduce((d,h)=>{let f=Number.POSITIVE_INFINITY;return u.hasNode(h.v)!==u.hasNode(h.w)&&(f=r(c,h)),f<d[0]?[f,h]:d},[Number.POSITIVE_INFINITY,null])[1]}function a(u,c,d){u.nodes().forEach(h=>c.node(h).rank+=d)}}),Jb=Qe((e,t)=>{var n=lf(),r=ls().slack,i=ls().longestPath,o=pn().alg.preorder,s=pn().alg.postorder,a=ht().simplify;t.exports=u,u.initLowLimValues=f,u.initCutValues=c,u.calcCutValue=h,u.leaveEdge=v,u.enterEdge=b,u.exchangeEdges=y;function u(m){m=a(m),i(m);var P=n(m);f(P),c(P,m);for(var A,I;A=v(P);)I=b(P,m,A),y(P,m,A,I)}function c(m,P){var A=s(m,m.nodes());A=A.slice(0,A.length-1),A.forEach(I=>d(m,P,I))}function d(m,P,A){var I=m.node(A),k=I.parent;m.edge(A,k).cutvalue=h(m,P,A)}function h(m,P,A){var I=m.node(A),k=I.parent,H=!0,z=P.edge(A,k),E=0;return z||(H=!1,z=P.edge(k,A)),E=z.weight,P.nodeEdges(A).forEach(_=>{var N=_.v===A,p=N?_.w:_.v;if(p!==k){var T=N===H,S=P.edge(_).weight;if(E+=T?S:-S,x(m,A,p)){var M=m.edge(A,p).cutvalue;E+=T?-M:M}}}),E}function f(m,P){arguments.length<2&&(P=m.nodes()[0]),g(m,{},1,P)}function g(m,P,A,I,k){var H=A,z=m.node(I);return P[I]=!0,m.neighbors(I).forEach(E=>{Object.hasOwn(P,E)||(A=g(m,P,A,E,I))}),z.low=H,z.lim=A++,k?z.parent=k:delete z.parent,A}function v(m){return m.edges().find(P=>m.edge(P).cutvalue<0)}function b(m,P,A){var I=A.v,k=A.w;P.hasEdge(I,k)||(I=A.w,k=A.v);var H=m.node(I),z=m.node(k),E=H,_=!1;H.lim>z.lim&&(E=z,_=!0);var N=P.edges().filter(p=>_===O(m,m.node(p.v),E)&&_!==O(m,m.node(p.w),E));return N.reduce((p,T)=>r(P,T)<r(P,p)?T:p)}function y(m,P,A,I){var k=A.v,H=A.w;m.removeEdge(k,H),m.setEdge(I.v,I.w,{}),f(m),c(m,P),w(m,P)}function w(m,P){var A=m.nodes().find(k=>!P.node(k).parent),I=o(m,A);I=I.slice(1),I.forEach(k=>{var H=m.node(k).parent,z=P.edge(k,H),E=!1;z||(z=P.edge(H,k),E=!0),P.node(k).rank=P.node(H).rank+(E?z.minlen:-z.minlen)})}function x(m,P,A){return m.hasEdge(P,A)}function O(m,P,A){return A.low<=P.lim&&P.lim<=A.lim}}),$b=Qe((e,t)=>{var n=ls(),r=n.longestPath,i=lf(),o=Jb();t.exports=s;function s(d){var h=d.graph().ranker;if(h instanceof Function)return h(d);switch(d.graph().ranker){case"network-simplex":c(d);break;case"tight-tree":u(d);break;case"longest-path":a(d);break;case"none":break;default:c(d)}}var a=r;function u(d){r(d),i(d)}function c(d){o(d)}}),e_=Qe((e,t)=>{t.exports=n;function n(o){let s=i(o);o.graph().dummyChains.forEach(a=>{let u=o.node(a),c=u.edgeObj,d=r(o,s,c.v,c.w),h=d.path,f=d.lca,g=0,v=h[g],b=!0;for(;a!==c.w;){if(u=o.node(a),b){for(;(v=h[g])!==f&&o.node(v).maxRank<u.rank;)g++;v===f&&(b=!1)}if(!b){for(;g<h.length-1&&o.node(v=h[g+1]).minRank<=u.rank;)g++;v=h[g]}o.setParent(a,v),a=o.successors(a)[0]}})}function r(o,s,a,u){let c=[],d=[],h=Math.min(s[a].low,s[u].low),f=Math.max(s[a].lim,s[u].lim),g,v;g=a;do g=o.parent(g),c.push(g);while(g&&(s[g].low>h||f>s[g].lim));for(v=g,g=u;(g=o.parent(g))!==v;)d.push(g);return{path:c.concat(d.reverse()),lca:v}}function i(o){let s={},a=0;function u(c){let d=a;o.children(c).forEach(u),s[c]={low:d,lim:a++}}return o.children().forEach(u),s}}),t_=Qe((e,t)=>{var n=ht();t.exports={run:r,cleanup:a};function r(u){let c=n.addDummyNode(u,"root",{},"_root"),d=o(u),h=Object.values(d),f=n.applyWithChunking(Math.max,h)-1,g=2*f+1;u.graph().nestingRoot=c,u.edges().forEach(b=>u.edge(b).minlen*=g);let v=s(u)+1;u.children().forEach(b=>i(u,c,g,v,f,d,b)),u.graph().nodeRankFactor=g}function i(u,c,d,h,f,g,v){let b=u.children(v);if(!b.length){v!==c&&u.setEdge(c,v,{weight:0,minlen:d});return}let y=n.addBorderNode(u,"_bt"),w=n.addBorderNode(u,"_bb"),x=u.node(v);u.setParent(y,v),x.borderTop=y,u.setParent(w,v),x.borderBottom=w,b.forEach(O=>{i(u,c,d,h,f,g,O);let m=u.node(O),P=m.borderTop?m.borderTop:O,A=m.borderBottom?m.borderBottom:O,I=m.borderTop?h:2*h,k=P!==A?1:f-g[v]+1;u.setEdge(y,P,{weight:I,minlen:k,nestingEdge:!0}),u.setEdge(A,w,{weight:I,minlen:k,nestingEdge:!0})}),u.parent(v)||u.setEdge(c,y,{weight:0,minlen:f+g[v]})}function o(u){var c={};function d(h,f){var g=u.children(h);g&&g.length&&g.forEach(v=>d(v,f+1)),c[h]=f}return u.children().forEach(h=>d(h,1)),c}function s(u){return u.edges().reduce((c,d)=>c+u.edge(d).weight,0)}function a(u){var c=u.graph();u.removeNode(c.nestingRoot),delete c.nestingRoot,u.edges().forEach(d=>{var h=u.edge(d);h.nestingEdge&&u.removeEdge(d)})}}),n_=Qe((e,t)=>{var n=ht();t.exports=r;function r(o){function s(a){let u=o.children(a),c=o.node(a);if(u.length&&u.forEach(s),Object.hasOwn(c,"minRank")){c.borderLeft=[],c.borderRight=[];for(let d=c.minRank,h=c.maxRank+1;d<h;++d)i(o,"borderLeft","_bl",a,c,d),i(o,"borderRight","_br",a,c,d)}}o.children().forEach(s)}function i(o,s,a,u,c,d){let h={width:0,height:0,rank:d,borderType:s},f=c[s][d-1],g=n.addDummyNode(o,"border",h,a);c[s][d]=g,o.setParent(g,u),f&&o.setEdge(f,g,{weight:1})}}),r_=Qe((e,t)=>{t.exports={adjust:n,undo:r};function n(d){let h=d.graph().rankdir.toLowerCase();(h==="lr"||h==="rl")&&i(d)}function r(d){let h=d.graph().rankdir.toLowerCase();(h==="bt"||h==="rl")&&s(d),(h==="lr"||h==="rl")&&(u(d),i(d))}function i(d){d.nodes().forEach(h=>o(d.node(h))),d.edges().forEach(h=>o(d.edge(h)))}function o(d){let h=d.width;d.width=d.height,d.height=h}function s(d){d.nodes().forEach(h=>a(d.node(h))),d.edges().forEach(h=>{let f=d.edge(h);f.points.forEach(a),Object.hasOwn(f,"y")&&a(f)})}function a(d){d.y=-d.y}function u(d){d.nodes().forEach(h=>c(d.node(h))),d.edges().forEach(h=>{let f=d.edge(h);f.points.forEach(c),Object.hasOwn(f,"x")&&c(f)})}function c(d){let h=d.x;d.x=d.y,d.y=h}}),i_=Qe((e,t)=>{var n=ht();t.exports=r;function r(i){let o={},s=i.nodes().filter(h=>!i.children(h).length),a=s.map(h=>i.node(h).rank),u=n.applyWithChunking(Math.max,a),c=n.range(u+1).map(()=>[]);function d(h){if(o[h])return;o[h]=!0;let f=i.node(h);c[f.rank].push(h),i.successors(h).forEach(d)}return s.sort((h,f)=>i.node(h).rank-i.node(f).rank).forEach(d),c}}),o_=Qe((e,t)=>{var n=ht().zipObject;t.exports=r;function r(o,s){let a=0;for(let u=1;u<s.length;++u)a+=i(o,s[u-1],s[u]);return a}function i(o,s,a){let u=n(a,a.map((v,b)=>b)),c=s.flatMap(v=>o.outEdges(v).map(b=>({pos:u[b.w],weight:o.edge(b).weight})).sort((b,y)=>b.pos-y.pos)),d=1;for(;d<a.length;)d<<=1;let h=2*d-1;d-=1;let f=new Array(h).fill(0),g=0;return c.forEach(v=>{let b=v.pos+d;f[b]+=v.weight;let y=0;for(;b>0;)b%2&&(y+=f[b+1]),b=b-1>>1,f[b]+=v.weight;g+=v.weight*y}),g}}),s_=Qe((e,t)=>{t.exports=n;function n(r,i=[]){return i.map(o=>{let s=r.inEdges(o);if(s.length){let a=s.reduce((u,c)=>{let d=r.edge(c),h=r.node(c.v);return{sum:u.sum+d.weight*h.order,weight:u.weight+d.weight}},{sum:0,weight:0});return{v:o,barycenter:a.sum/a.weight,weight:a.weight}}else return{v:o}})}}),a_=Qe((e,t)=>{var n=ht();t.exports=r;function r(s,a){let u={};s.forEach((d,h)=>{let f=u[d.v]={indegree:0,in:[],out:[],vs:[d.v],i:h};d.barycenter!==void 0&&(f.barycenter=d.barycenter,f.weight=d.weight)}),a.edges().forEach(d=>{let h=u[d.v],f=u[d.w];h!==void 0&&f!==void 0&&(f.indegree++,h.out.push(u[d.w]))});let c=Object.values(u).filter(d=>!d.indegree);return i(c)}function i(s){let a=[];function u(d){return h=>{h.merged||(h.barycenter===void 0||d.barycenter===void 0||h.barycenter>=d.barycenter)&&o(d,h)}}function c(d){return h=>{h.in.push(d),--h.indegree===0&&s.push(h)}}for(;s.length;){let d=s.pop();a.push(d),d.in.reverse().forEach(u(d)),d.out.forEach(c(d))}return a.filter(d=>!d.merged).map(d=>n.pick(d,["vs","i","barycenter","weight"]))}function o(s,a){let u=0,c=0;s.weight&&(u+=s.barycenter*s.weight,c+=s.weight),a.weight&&(u+=a.barycenter*a.weight,c+=a.weight),s.vs=a.vs.concat(s.vs),s.barycenter=u/c,s.weight=c,s.i=Math.min(a.i,s.i),a.merged=!0}}),l_=Qe((e,t)=>{var n=ht();t.exports=r;function r(s,a){let u=n.partition(s,y=>Object.hasOwn(y,"barycenter")),c=u.lhs,d=u.rhs.sort((y,w)=>w.i-y.i),h=[],f=0,g=0,v=0;c.sort(o(!!a)),v=i(h,d,v),c.forEach(y=>{v+=y.vs.length,h.push(y.vs),f+=y.barycenter*y.weight,g+=y.weight,v=i(h,d,v)});let b={vs:h.flat(!0)};return g&&(b.barycenter=f/g,b.weight=g),b}function i(s,a,u){let c;for(;a.length&&(c=a[a.length-1]).i<=u;)a.pop(),s.push(c.vs),u++;return u}function o(s){return(a,u)=>a.barycenter<u.barycenter?-1:a.barycenter>u.barycenter?1:s?u.i-a.i:a.i-u.i}}),u_=Qe((e,t)=>{var n=s_(),r=a_(),i=l_();t.exports=o;function o(u,c,d,h){let f=u.children(c),g=u.node(c),v=g?g.borderLeft:void 0,b=g?g.borderRight:void 0,y={};v&&(f=f.filter(m=>m!==v&&m!==b));let w=n(u,f);w.forEach(m=>{if(u.children(m.v).length){let P=o(u,m.v,d,h);y[m.v]=P,Object.hasOwn(P,"barycenter")&&a(m,P)}});let x=r(w,d);s(x,y);let O=i(x,h);if(v&&(O.vs=[v,O.vs,b].flat(!0),u.predecessors(v).length)){let m=u.node(u.predecessors(v)[0]),P=u.node(u.predecessors(b)[0]);Object.hasOwn(O,"barycenter")||(O.barycenter=0,O.weight=0),O.barycenter=(O.barycenter*O.weight+m.order+P.order)/(O.weight+2),O.weight+=2}return O}function s(u,c){u.forEach(d=>{d.vs=d.vs.flatMap(h=>c[h]?c[h].vs:h)})}function a(u,c){u.barycenter!==void 0?(u.barycenter=(u.barycenter*u.weight+c.barycenter*c.weight)/(u.weight+c.weight),u.weight+=c.weight):(u.barycenter=c.barycenter,u.weight=c.weight)}}),c_=Qe((e,t)=>{var n=pn().Graph,r=ht();t.exports=i;function i(s,a,u,c){c||(c=s.nodes());let d=o(s),h=new n({compound:!0}).setGraph({root:d}).setDefaultNodeLabel(f=>s.node(f));return c.forEach(f=>{let g=s.node(f),v=s.parent(f);(g.rank===a||g.minRank<=a&&a<=g.maxRank)&&(h.setNode(f),h.setParent(f,v||d),s[u](f).forEach(b=>{let y=b.v===f?b.w:b.v,w=h.edge(y,f),x=w!==void 0?w.weight:0;h.setEdge(y,f,{weight:s.edge(b).weight+x})}),Object.hasOwn(g,"minRank")&&h.setNode(f,{borderLeft:g.borderLeft[a],borderRight:g.borderRight[a]}))}),h}function o(s){for(var a;s.hasNode(a=r.uniqueId("_root")););return a}}),d_=Qe((e,t)=>{t.exports=n;function n(r,i,o){let s={},a;o.forEach(u=>{let c=r.parent(u),d,h;for(;c;){if(d=r.parent(c),d?(h=s[d],s[d]=c):(h=a,a=c),h&&h!==c){i.setEdge(h,c);return}c=d}})}}),f_=Qe((e,t)=>{var n=i_(),r=o_(),i=u_(),o=c_(),s=d_(),a=pn().Graph,u=ht();t.exports=c;function c(g,v={}){if(typeof v.customOrder=="function"){v.customOrder(g,c);return}let b=u.maxRank(g),y=d(g,u.range(1,b+1),"inEdges"),w=d(g,u.range(b-1,-1,-1),"outEdges"),x=n(g);if(f(g,x),v.disableOptimalOrderHeuristic)return;let O=Number.POSITIVE_INFINITY,m,P=v.constraints||[];for(let A=0,I=0;I<4;++A,++I){h(A%2?y:w,A%4>=2,P),x=u.buildLayerMatrix(g);let k=r(g,x);k<O?(I=0,m=Object.assign({},x),O=k):k===O&&(m=structuredClone(x))}f(g,m)}function d(g,v,b){let y=new Map,w=(x,O)=>{y.has(x)||y.set(x,[]),y.get(x).push(O)};for(let x of g.nodes()){let O=g.node(x);if(typeof O.rank=="number"&&w(O.rank,x),typeof O.minRank=="number"&&typeof O.maxRank=="number")for(let m=O.minRank;m<=O.maxRank;m++)m!==O.rank&&w(m,x)}return v.map(function(x){return o(g,x,b,y.get(x)||[])})}function h(g,v,b){let y=new a;g.forEach(function(w){b.forEach(m=>y.setEdge(m.left,m.right));let x=w.graph().root,O=i(w,x,y,v);O.vs.forEach((m,P)=>w.node(m).order=P),s(w,y,O.vs)})}function f(g,v){Object.values(v).forEach(b=>b.forEach((y,w)=>g.node(y).order=w))}}),h_=Qe((e,t)=>{var n=pn().Graph,r=ht();t.exports={positionX:b,findType1Conflicts:i,findType2Conflicts:o,addConflict:a,hasConflict:u,verticalAlignment:c,horizontalCompaction:d,alignCoordinates:g,findSmallestWidthAlignment:f,balance:v};function i(x,O){let m={};function P(A,I){let k=0,H=0,z=A.length,E=I[I.length-1];return I.forEach((_,N)=>{let p=s(x,_),T=p?x.node(p).order:z;(p||_===E)&&(I.slice(H,N+1).forEach(S=>{x.predecessors(S).forEach(M=>{let V=x.node(M),K=V.order;(K<k||T<K)&&!(V.dummy&&x.node(S).dummy)&&a(m,M,S)})}),H=N+1,k=T)}),I}return O.length&&O.reduce(P),m}function o(x,O){let m={};function P(I,k,H,z,E){let _;r.range(k,H).forEach(N=>{_=I[N],x.node(_).dummy&&x.predecessors(_).forEach(p=>{let T=x.node(p);T.dummy&&(T.order<z||T.order>E)&&a(m,p,_)})})}function A(I,k){let H=-1,z,E=0;return k.forEach((_,N)=>{if(x.node(_).dummy==="border"){let p=x.predecessors(_);p.length&&(z=x.node(p[0]).order,P(k,E,N,H,z),E=N,H=z)}P(k,E,k.length,z,I.length)}),k}return O.length&&O.reduce(A),m}function s(x,O){if(x.node(O).dummy)return x.predecessors(O).find(m=>x.node(m).dummy)}function a(x,O,m){if(O>m){let A=O;O=m,m=A}let P=x[O];P||(x[O]=P={}),P[m]=!0}function u(x,O,m){if(O>m){let P=O;O=m,m=P}return!!x[O]&&Object.hasOwn(x[O],m)}function c(x,O,m,P){let A={},I={},k={};return O.forEach(H=>{H.forEach((z,E)=>{A[z]=z,I[z]=z,k[z]=E})}),O.forEach(H=>{let z=-1;H.forEach(E=>{let _=P(E);if(_.length){_=_.sort((p,T)=>k[p]-k[T]);let N=(_.length-1)/2;for(let p=Math.floor(N),T=Math.ceil(N);p<=T;++p){let S=_[p];I[E]===E&&z<k[S]&&!u(m,E,S)&&(I[S]=E,I[E]=A[E]=A[S],z=k[S])}}})}),{root:A,align:I}}function d(x,O,m,P,A){let I={},k=h(x,O,m,A),H=A?"borderLeft":"borderRight";function z(N,p){let T=k.nodes().slice(),S={},M=T.pop();for(;M;){if(S[M])N(M);else{S[M]=!0,T.push(M);for(let V of p(M))T.push(V)}M=T.pop()}}function E(N){I[N]=k.inEdges(N).reduce((p,T)=>Math.max(p,I[T.v]+k.edge(T)),0)}function _(N){let p=k.outEdges(N).reduce((S,M)=>Math.min(S,I[M.w]-k.edge(M)),Number.POSITIVE_INFINITY),T=x.node(N);p!==Number.POSITIVE_INFINITY&&T.borderType!==H&&(I[N]=Math.max(I[N],p))}return z(E,k.predecessors.bind(k)),z(_,k.successors.bind(k)),Object.keys(P).forEach(N=>I[N]=I[m[N]]),I}function h(x,O,m,P){let A=new n,I=x.graph(),k=y(I.nodesep,I.edgesep,P);return O.forEach(H=>{let z;H.forEach(E=>{let _=m[E];if(A.setNode(_),z){var N=m[z],p=A.edge(N,_);A.setEdge(N,_,Math.max(k(x,E,z),p||0))}z=E})}),A}function f(x,O){return Object.values(O).reduce((m,P)=>{let A=Number.NEGATIVE_INFINITY,I=Number.POSITIVE_INFINITY;Object.entries(P).forEach(([H,z])=>{let E=w(x,H)/2;A=Math.max(z+E,A),I=Math.min(z-E,I)});let k=A-I;return k<m[0]&&(m=[k,P]),m},[Number.POSITIVE_INFINITY,null])[1]}function g(x,O){let m=Object.values(O),P=r.applyWithChunking(Math.min,m),A=r.applyWithChunking(Math.max,m);["u","d"].forEach(I=>{["l","r"].forEach(k=>{let H=I+k,z=x[H];if(z===O)return;let E=Object.values(z),_=P-r.applyWithChunking(Math.min,E);k!=="l"&&(_=A-r.applyWithChunking(Math.max,E)),_&&(x[H]=r.mapValues(z,N=>N+_))})})}function v(x,O){return r.mapValues(x.ul,(m,P)=>{if(O)return x[O.toLowerCase()][P];{let A=Object.values(x).map(I=>I[P]).sort((I,k)=>I-k);return(A[1]+A[2])/2}})}function b(x){let O=r.buildLayerMatrix(x),m=Object.assign(i(x,O),o(x,O)),P={},A;["u","d"].forEach(k=>{A=k==="u"?O:Object.values(O).reverse(),["l","r"].forEach(H=>{H==="r"&&(A=A.map(N=>Object.values(N).reverse()));let z=(k==="u"?x.predecessors:x.successors).bind(x),E=c(x,A,m,z),_=d(x,A,E.root,E.align,H==="r");H==="r"&&(_=r.mapValues(_,N=>-N)),P[k+H]=_})});let I=f(x,P);return g(P,I),v(P,x.graph().align)}function y(x,O,m){return(P,A,I)=>{let k=P.node(A),H=P.node(I),z=0,E;if(z+=k.width/2,Object.hasOwn(k,"labelpos"))switch(k.labelpos.toLowerCase()){case"l":E=-k.width/2;break;case"r":E=k.width/2;break}if(E&&(z+=m?E:-E),E=0,z+=(k.dummy?O:x)/2,z+=(H.dummy?O:x)/2,z+=H.width/2,Object.hasOwn(H,"labelpos"))switch(H.labelpos.toLowerCase()){case"l":E=H.width/2;break;case"r":E=-H.width/2;break}return E&&(z+=m?E:-E),E=0,z}}function w(x,O){return x.node(O).width}}),g_=Qe((e,t)=>{var n=ht(),r=h_().positionX;t.exports=i;function i(s){s=n.asNonCompoundGraph(s),o(s),Object.entries(r(s)).forEach(([a,u])=>s.node(a).x=u)}function o(s){let a=n.buildLayerMatrix(s),u=s.graph().ranksep,c=s.graph().rankalign,d=0;a.forEach(h=>{let f=h.reduce((g,v)=>{let b=s.node(v).height;return g>b?g:b},0);h.forEach(g=>{let v=s.node(g);c==="top"?v.y=d+v.height/2:c==="bottom"?v.y=d+f-v.height/2:v.y=d+f/2}),d+=f+u})}}),v_=Qe((e,t)=>{var n=Zb(),r=Qb(),i=$b(),o=ht().normalizeRanks,s=e_(),a=ht().removeEmptyRanks,u=t_(),c=n_(),d=r_(),h=f_(),f=g_(),g=ht(),v=pn().Graph;t.exports=b;function b(C,B={}){let Y=B.debugTiming?g.time:g.notime;return Y("layout",()=>{let j=Y("  buildLayoutGraph",()=>z(C));return Y("  runLayout",()=>y(j,Y,B)),Y("  updateInputGraph",()=>w(C,j)),j})}function y(C,B,Y){B("    makeSpaceForEdgeLabels",()=>E(C)),B("    removeSelfEdges",()=>X(C)),B("    acyclic",()=>n.run(C)),B("    nestingGraph.run",()=>u.run(C)),B("    rank",()=>i(g.asNonCompoundGraph(C))),B("    injectEdgeLabelProxies",()=>_(C)),B("    removeEmptyRanks",()=>a(C)),B("    nestingGraph.cleanup",()=>u.cleanup(C)),B("    normalizeRanks",()=>o(C)),B("    assignRankMinMax",()=>N(C)),B("    removeEdgeLabelProxies",()=>p(C)),B("    normalize.run",()=>r.run(C)),B("    parentDummyChains",()=>s(C)),B("    addBorderSegments",()=>c(C)),B("    order",()=>h(C,Y)),B("    insertSelfEdges",()=>G(C)),B("    adjustCoordinateSystem",()=>d.adjust(C)),B("    position",()=>f(C)),B("    positionSelfEdges",()=>U(C)),B("    removeBorderNodes",()=>K(C)),B("    normalize.undo",()=>r.undo(C)),B("    fixupEdgeLabelCoords",()=>M(C)),B("    undoCoordinateSystem",()=>d.undo(C)),B("    translateGraph",()=>T(C)),B("    assignNodeIntersects",()=>S(C)),B("    reversePoints",()=>V(C)),B("    acyclic.undo",()=>n.undo(C))}function w(C,B){C.nodes().forEach(Y=>{let j=C.node(Y),Q=B.node(Y);j&&(j.x=Q.x,j.y=Q.y,j.order=Q.order,j.rank=Q.rank,B.children(Y).length&&(j.width=Q.width,j.height=Q.height))}),C.edges().forEach(Y=>{let j=C.edge(Y),Q=B.edge(Y);j.points=Q.points,Object.hasOwn(Q,"x")&&(j.x=Q.x,j.y=Q.y)}),C.graph().width=B.graph().width,C.graph().height=B.graph().height}var x=["nodesep","edgesep","ranksep","marginx","marginy"],O={ranksep:50,edgesep:20,nodesep:50,rankdir:"tb",rankalign:"center"},m=["acyclicer","ranker","rankdir","align","rankalign"],P=["width","height","rank"],A={width:0,height:0},I=["minlen","weight","width","height","labeloffset"],k={minlen:1,weight:1,width:0,height:0,labeloffset:10,labelpos:"r"},H=["labelpos"];function z(C){let B=new v({multigraph:!0,compound:!0}),Y=D(C.graph());return B.setGraph(Object.assign({},O,Z(Y,x),g.pick(Y,m))),C.nodes().forEach(j=>{let Q=D(C.node(j)),re=Z(Q,P);Object.keys(A).forEach(ie=>{re[ie]===void 0&&(re[ie]=A[ie])}),B.setNode(j,re),B.setParent(j,C.parent(j))}),C.edges().forEach(j=>{let Q=D(C.edge(j));B.setEdge(j,Object.assign({},k,Z(Q,I),g.pick(Q,H)))}),B}function E(C){let B=C.graph();B.ranksep/=2,C.edges().forEach(Y=>{let j=C.edge(Y);j.minlen*=2,j.labelpos.toLowerCase()!=="c"&&(B.rankdir==="TB"||B.rankdir==="BT"?j.width+=j.labeloffset:j.height+=j.labeloffset)})}function _(C){C.edges().forEach(B=>{let Y=C.edge(B);if(Y.width&&Y.height){let j=C.node(B.v),Q={rank:(C.node(B.w).rank-j.rank)/2+j.rank,e:B};g.addDummyNode(C,"edge-proxy",Q,"_ep")}})}function N(C){let B=0;C.nodes().forEach(Y=>{let j=C.node(Y);j.borderTop&&(j.minRank=C.node(j.borderTop).rank,j.maxRank=C.node(j.borderBottom).rank,B=Math.max(B,j.maxRank))}),C.graph().maxRank=B}function p(C){C.nodes().forEach(B=>{let Y=C.node(B);Y.dummy==="edge-proxy"&&(C.edge(Y.e).labelRank=Y.rank,C.removeNode(B))})}function T(C){let B=Number.POSITIVE_INFINITY,Y=0,j=Number.POSITIVE_INFINITY,Q=0,re=C.graph(),ie=re.marginx||0,pe=re.marginy||0;function me(xe){let Se=xe.x,oe=xe.y,ne=xe.width,fe=xe.height;B=Math.min(B,Se-ne/2),Y=Math.max(Y,Se+ne/2),j=Math.min(j,oe-fe/2),Q=Math.max(Q,oe+fe/2)}C.nodes().forEach(xe=>me(C.node(xe))),C.edges().forEach(xe=>{let Se=C.edge(xe);Object.hasOwn(Se,"x")&&me(Se)}),B-=ie,j-=pe,C.nodes().forEach(xe=>{let Se=C.node(xe);Se.x-=B,Se.y-=j}),C.edges().forEach(xe=>{let Se=C.edge(xe);Se.points.forEach(oe=>{oe.x-=B,oe.y-=j}),Object.hasOwn(Se,"x")&&(Se.x-=B),Object.hasOwn(Se,"y")&&(Se.y-=j)}),re.width=Y-B+ie,re.height=Q-j+pe}function S(C){C.edges().forEach(B=>{let Y=C.edge(B),j=C.node(B.v),Q=C.node(B.w),re,ie;Y.points?(re=Y.points[0],ie=Y.points[Y.points.length-1]):(Y.points=[],re=Q,ie=j),Y.points.unshift(g.intersectRect(j,re)),Y.points.push(g.intersectRect(Q,ie))})}function M(C){C.edges().forEach(B=>{let Y=C.edge(B);if(Object.hasOwn(Y,"x"))switch((Y.labelpos==="l"||Y.labelpos==="r")&&(Y.width-=Y.labeloffset),Y.labelpos){case"l":Y.x-=Y.width/2+Y.labeloffset;break;case"r":Y.x+=Y.width/2+Y.labeloffset;break}})}function V(C){C.edges().forEach(B=>{let Y=C.edge(B);Y.reversed&&Y.points.reverse()})}function K(C){C.nodes().forEach(B=>{if(C.children(B).length){let Y=C.node(B),j=C.node(Y.borderTop),Q=C.node(Y.borderBottom),re=C.node(Y.borderLeft[Y.borderLeft.length-1]),ie=C.node(Y.borderRight[Y.borderRight.length-1]);Y.width=Math.abs(ie.x-re.x),Y.height=Math.abs(Q.y-j.y),Y.x=re.x+Y.width/2,Y.y=j.y+Y.height/2}}),C.nodes().forEach(B=>{C.node(B).dummy==="border"&&C.removeNode(B)})}function X(C){C.edges().forEach(B=>{if(B.v===B.w){var Y=C.node(B.v);Y.selfEdges||(Y.selfEdges=[]),Y.selfEdges.push({e:B,label:C.edge(B)}),C.removeEdge(B)}})}function G(C){var B=g.buildLayerMatrix(C);B.forEach(Y=>{var j=0;Y.forEach((Q,re)=>{var ie=C.node(Q);ie.order=re+j,(ie.selfEdges||[]).forEach(pe=>{g.addDummyNode(C,"selfedge",{width:pe.label.width,height:pe.label.height,rank:ie.rank,order:re+ ++j,e:pe.e,label:pe.label},"_se")}),delete ie.selfEdges})})}function U(C){C.nodes().forEach(B=>{var Y=C.node(B);if(Y.dummy==="selfedge"){var j=C.node(Y.e.v),Q=j.x+j.width/2,re=j.y,ie=Y.x-Q,pe=j.height/2;C.setEdge(Y.e,Y.label),C.removeNode(B),Y.label.points=[{x:Q+2*ie/3,y:re-pe},{x:Q+5*ie/6,y:re-pe},{x:Q+ie,y:re},{x:Q+5*ie/6,y:re+pe},{x:Q+2*ie/3,y:re+pe}],Y.label.x=Y.x,Y.label.y=Y.y}})}function Z(C,B){return g.mapValues(g.pick(C,B),Number)}function D(C){var B={};return C&&Object.entries(C).forEach(([Y,j])=>{typeof Y=="string"&&(Y=Y.toLowerCase()),B[Y]=j}),B}}),p_=Qe((e,t)=>{var n=ht(),r=pn().Graph;t.exports={debugOrdering:i};function i(o){let s=n.buildLayerMatrix(o),a=new r({compound:!0,multigraph:!0}).setGraph({});return o.nodes().forEach(u=>{a.setNode(u,{label:u}),a.setParent(u,"layer"+o.node(u).rank)}),o.edges().forEach(u=>a.setEdge(u.v,u.w,{},u.name)),s.forEach((u,c)=>{let d="layer"+c;a.setNode(d,{rank:"same"}),u.reduce((h,f)=>(a.setEdge(h,f,{style:"invis"}),f))}),a}}),m_=Qe((e,t)=>{t.exports="2.0.4"}),y_=Qe((e,t)=>{t.exports={graphlib:pn(),layout:v_(),debug:p_(),util:{time:ht().time,notime:ht().notime},version:m_()}});const Ru=y_();/*! For license information please see dagre.esm.js.LEGAL.txt */const uf="LR",b_=360,__=240,w_=80,x_=140,E_=40,N_=40;function Hr(e){return typeof e=="string"&&e.trim()?e.trim():void 0}function $r(e,t){const n=Number(e);return Number.isFinite(n)?n:t}function zu(e,t){const n=Number(e);return Number.isFinite(n)&&n>0?n:t}function k_(e){var n;const t=(n=Hr(e))==null?void 0:n.toUpperCase();return t==="TB"||t==="LR"?t:uf}function Lu(e){const t=Array.isArray(e)?e:[];return Array.from(new Set(t.map(n=>Hr(n)).filter(n=>n!==void 0))).sort((n,r)=>n.localeCompare(r))}function I_(e){const t=Array.isArray(e)?e:[],n=[],r=new Set;for(const i of t){const o=Hr(i==null?void 0:i.id);!o||r.has(o)||(r.add(o),n.push({id:o,width:zu(i==null?void 0:i.width,b_),height:zu(i==null?void 0:i.height,__)}))}return n.sort((i,o)=>i.id.localeCompare(o.id)),n}function S_(e,t){const n=new Set(t),r=Array.isArray(e)?e:[],i=[];for(const o of r){const s=Hr(o==null?void 0:o.source),a=Hr(o==null?void 0:o.target);!s||!a||!n.has(s)||!n.has(a)||i.push({source:s,target:a})}return i}function T_(e){const t=Array.isArray(e)?e:[];if(t.length===0)return{x:0,y:0};let n=Number.POSITIVE_INFINITY,r=Number.POSITIVE_INFINITY;for(const i of t){const o=Number(i==null?void 0:i.x),s=Number(i==null?void 0:i.y);!Number.isFinite(o)||!Number.isFinite(s)||(n=Math.min(n,o),r=Math.min(r,s))}return!Number.isFinite(n)||!Number.isFinite(r)?{x:0,y:0}:{x:n,y:r}}function O_({seedNodeIds:e,edges:t,allowedNodeIds:n}={}){const r=Lu(e);if(r.length===0)return[];const i=Lu(n),o=i.length>0?new Set(i):void 0,s=new Map;for(const c of Array.isArray(t)?t:[]){const d=Hr(c==null?void 0:c.source),h=Hr(c==null?void 0:c.target);!d||!h||o&&(!o.has(d)||!o.has(h))||(s.has(d)||s.set(d,new Set),s.get(d).add(h))}const a=new Set(o?r.filter(c=>o.has(c)):r),u=Array.from(a);for(;u.length>0;){const c=u.shift(),d=s.get(c);if(d instanceof Set)for(const h of d)a.has(h)||(a.add(h),u.push(h))}return Array.from(a)}function C_({nodes:e,edges:t,direction:n=uf,spacing:r={},origin:i={}}={}){const o=I_(e);if(o.length===0)return new Map;const s=$r(r==null?void 0:r.nodeSep,w_),a=$r(r==null?void 0:r.rankSep,x_),u=$r(r==null?void 0:r.marginX,E_),c=$r(r==null?void 0:r.marginY,N_),d=$r(i==null?void 0:i.x,0),h=$r(i==null?void 0:i.y,0),f=new Ru.graphlib.Graph;f.setDefaultEdgeLabel(()=>({})),f.setGraph({rankdir:k_(n),nodesep:s,ranksep:a,marginx:u,marginy:c});const g=new Map;for(const y of o)g.set(y.id,{width:y.width,height:y.height}),f.setNode(y.id,{width:y.width,height:y.height});const v=S_(t,o.map(y=>y.id));for(let y=v.length-1;y>=0;y-=1){const w=v[y];f.setEdge(w.source,w.target)}Ru.layout(f);const b=new Map;for(const y of o){const w=f.node(y.id),x=g.get(y.id);!w||!x||b.set(y.id,{x:w.x-x.width/2+d,y:w.y-x.height/2+h})}return b}const st=Object.freeze({GO_TO_ROOT:"go-to-root",FIT_FULL_VIEW:"fit-full-view",SEARCH_NODES:"search-nodes",AUTO_POSITION_NODES:"auto-position-nodes",VIEW_RAW_JSON:"view-raw-json",HELP_AND_HOTKEYS:"help-and-hotkeys"}),Ps=Object.freeze([{id:st.GO_TO_ROOT,eventName:"gotoroot",commandId:"hytale-devtools.nodeEditor.quickAction.goToRoot",name:"Go to root"},{id:st.FIT_FULL_VIEW,eventName:"fitfullview",commandId:"hytale-devtools.nodeEditor.quickAction.fitFullView",name:"Fit full view",defaultKeybinding:{win:"V",linux:"V",mac:"V"}},{id:st.SEARCH_NODES,eventName:"searchnodes",commandId:"hytale-devtools.nodeEditor.quickAction.searchNodes",name:"Search nodes",keybindingSourceCommandId:"editor.action.webvieweditor.showFind",defaultKeybinding:{win:"F",linux:"F",mac:"F"}},{id:st.AUTO_POSITION_NODES,eventName:"autopositionnodes",commandId:"hytale-devtools.nodeEditor.quickAction.autoPositionNodes",name:"Auto position nodes",defaultKeybinding:{win:"L",linux:"L",mac:"L"}},{id:st.VIEW_RAW_JSON,eventName:"viewrawjson",commandId:"hytale-devtools.nodeEditor.quickAction.viewRawJson",name:"View raw json"},{id:st.HELP_AND_HOTKEYS,eventName:"helphotkeys",commandId:"hytale-devtools.nodeEditor.quickAction.helpAndHotkeys",name:"Show help",defaultKeybinding:{win:"?",linux:"?",mac:"?"}}]),A_=new Map(Ps.map(e=>[e.id,e])),M_=new Map(Ps.map(e=>[e.eventName,e])),za=new Map;for(const e of Ps){za.set(e.commandId,e);const t=e.keybindingSourceCommandId;t&&za.set(t,e)}function yl(e){return e?A_.get(e):void 0}function P_(e){return e?M_.get(e):void 0}function D_(e){return e?za.get(e):void 0}const cf="Comment",df="",R_=320,z_=220,L_=220,V_=140,ff=13,F_=8,H_=128;function Vu(e){return typeof e=="string"?e:cf}function Fu(e){return typeof e=="string"?e:df}function Hu(e){const t=Number(e);return Number.isFinite(t)?t:ff}function hf(e,t){Ne(t,!1);const n=Ee(),r=Ee(),i=Ee(),o=Ee();let s=ee(t,"isVisible",8,!1),a=ee(t,"autoScale",8,!1),u=ee(t,"minWidth",8,0),c=ee(t,"minHeight",8,0),d=ee(t,"color",8,"var(--vscode-focusBorder)"),h=ee(t,"handleClass",8,"rounded-sm border border-vsc-focus bg-vsc-editor-widget-bg"),f=ee(t,"lineClass",8,"border-vsc-focus"),g=ee(t,"onResizeEnd",8,void 0);const v=8,b=12,y=sf();function w(O){const m=Number(O);return!Number.isFinite(m)||m<=0?1:m}function x(O){if(!Number.isFinite(O)||O>=1)return 1;const m=1/O;return Math.min(b,Math.max(1,m))}Te(()=>{},()=>{var O;W(n,w((O=y.current)==null?void 0:O.zoom))}),Te(()=>l(n),()=>{W(r,x(l(n)))}),Te(()=>l(r),()=>{W(i,Math.round(v*l(r)))}),Te(()=>l(i),()=>{W(o,`width:${l(i)}px;height:${l(i)}px;`)}),Br(),zn(),Fb(e,{get isVisible(){return s()},get autoScale(){return a()},get minWidth(){return u()},get minHeight(){return c()},get color(){return d()},get handleClass(){return h()},get handleStyle(){return l(o)},get lineClass(){return f()},get onResizeEnd(){return g()}}),ke()}var K_=de('<input class="nodrag min-w-0 flex-1 appearance-none rounded border border-vsc-input-border bg-vsc-input-bg px-1 py-0.5 font-semibold text-vsc-input-fg outline-none focus:border-vsc-focus" type="text" aria-label="Comment title"/>'),B_=de('<button class="min-w-0 flex-1 truncate text-left font-semibold text-vsc-input-fg cursor-grab active:cursor-grabbing select-none" type="button"> </button>'),W_=de('<div class="relative h-full w-full overflow-visible rounded-lg border border-vsc-editor-widget-border bg-vsc-editor-widget-bg/90 text-vsc-editor-fg shadow-lg transition-[border-color,box-shadow]"><div class="flex items-center gap-2 border-b border-vsc-editor-widget-border bg-vsc-input-bg/70 px-2 py-1.5 cursor-grab active:cursor-grabbing" role="group" aria-label="Comment title bar"><!> <div data-comment-selection-exempt="true" class="nodrag flex items-center gap-1 rounded border border-vsc-editor-widget-border bg-vsc-editor-widget-bg px-1 py-0.5"><input class="w-10 border-0 bg-transparent p-0 text-right text-[10px] font-semibold text-vsc-muted outline-none [appearance:textfield] [&amp;::-webkit-inner-spin-button]:appearance-none [&amp;::-webkit-outer-spin-button]:appearance-none" type="number" step="1" aria-label="Comment font size"/> <span class="text-[10px] font-semibold text-vsc-muted">px</span></div></div> <textarea class="nodrag h-[calc(100%-2.75rem)] w-full resize-none border-0 bg-transparent p-2 text-vsc-editor-fg outline-none placeholder:text-vsc-muted" aria-label="Comment text" placeholder="Write a note..."></textarea> <!></div>');function Y_(e,t){Ne(t,!1);const n=Ee(),r=Ee(),i=Ee(),o=Ee(),s=Ee();let a=ee(t,"id",8),u=ee(t,"data",24,()=>({})),c=ee(t,"selected",8,!1),d=ee(t,"dragging",8,!1);const{updateNodeData:h,updateNode:f,getNodes:g,getEdges:v,updateEdge:b}=jr();let y=Ee(!1),w=Ee(!1),x=Ee(!1),O=Ee(""),m=Ee(""),P=Ee(""),A=Ee();async function I(){var oe,ne;W(y,!0),W(O,l(n)),await ct(),(oe=l(A))==null||oe.focus(),(ne=l(A))==null||ne.select()}function k(){if(!l(y))return;const oe=Vu(l(O));oe!==l(n)&&(D({name:oe}),C("comment-renamed")),W(y,!1)}function H(){W(w,!0)}function z(){if(!l(w))return;const oe=Fu(l(m));oe!==l(r)&&(D({text:oe}),C("comment-text-updated")),W(w,!1)}function E(){l(w)&&(W(w,!1),W(m,l(r)))}function _(oe){W(w,!0),W(m,oe.currentTarget.value)}function N(oe){oe.key==="Escape"&&(oe.preventDefault(),E(),oe.currentTarget.blur())}function p(){W(x,!0)}function T(){if(!l(x))return;const oe=Hu(l(P));oe!==l(i)&&(D({fontSize:oe}),C("comment-font-size-updated")),W(x,!1)}function S(){l(x)&&(W(x,!1),W(P,String(l(i))))}function M(oe){W(x,!0),W(P,oe.currentTarget.value)}function V(oe){if(oe.key==="Enter"){oe.preventDefault(),T(),oe.currentTarget.blur();return}oe.key==="Escape"&&(oe.preventDefault(),S(),oe.currentTarget.blur())}function K(){l(y)&&(W(y,!1),W(O,l(n)))}function X(oe){var ne,fe;if(oe.key==="Enter"){oe.preventDefault(),k(),(ne=l(A))==null||ne.blur();return}oe.key==="Escape"&&(oe.preventDefault(),K(),(fe=l(A))==null||fe.blur())}function G(oe){(oe.key==="Enter"||oe.key===" ")&&(oe.preventDefault(),I())}function U(oe){if(l(y)||l(x))return;const ne=Number(oe==null?void 0:oe.button);if(Number.isFinite(ne)&&ne!==0)return;const fe=oe==null?void 0:oe.target;if(typeof(fe==null?void 0:fe.closest)=="function"&&fe.closest("[data-comment-selection-exempt='true']")||oe!=null&&oe.shiftKey)return;const $=!!(oe!=null&&oe.metaKey||oe!=null&&oe.ctrlKey),le=g();for(const we of le){const Re=we.id===a()?!0:$?!!we.selected:!1;we.selected!==Re&&f(we.id,{selected:Re})}if($)return;const he=v();for(const we of he)we.selected&&b(we.id,{selected:!1})}function Z(){C("comment-resized")}function D(oe){h(a(),{name:l(n),text:l(r),fontSize:l(i),...oe})}function C(oe){typeof window>"u"||typeof window.dispatchEvent!="function"||window.dispatchEvent(new CustomEvent(Xb,{detail:{nodeId:a(),reason:oe}}))}Te(()=>Ke(u()),()=>{var oe;W(n,Vu((oe=u())==null?void 0:oe.name))}),Te(()=>Ke(u()),()=>{var oe;W(r,Fu((oe=u())==null?void 0:oe.text))}),Te(()=>Ke(u()),()=>{var oe;W(i,Hu((oe=u())==null?void 0:oe.fontSize))}),Te(()=>l(i),()=>{W(o,Math.max(11,Math.round(l(i)+1)))}),Te(()=>l(i),()=>{W(s,Math.max(16,Math.round(l(i)*1.35)))}),Te(()=>(l(y),l(n)),()=>{l(y)||W(O,l(n))}),Te(()=>(l(w),l(r)),()=>{l(w)||W(m,l(r))}),Te(()=>(l(x),l(i)),()=>{l(x)||W(P,String(l(i)))}),Br(),zn();var B=W_(),Y=ae(B);Y.__pointerup=U;var j=ae(Y);{var Q=oe=>{var ne=K_();ne.__input=$=>W(O,$.currentTarget.value),ne.__keydown=X;let fe;lt(ne,$=>W(A,$),()=>l(A)),be(()=>{Ot(ne,l(O)),fe=Ze(ne,"",fe,{"font-size":`${l(o)}px`})}),We("blur",ne,k),te(oe,ne)},re=oe=>{var ne=B_();ne.__dblclick=I,ne.__keydown=G;let fe;var $=ae(ne);be(()=>{ye(ne,"aria-label",`Comment title: ${l(n)}. Double click to rename`),fe=Ze(ne,"",fe,{"font-size":`${l(o)}px`}),Ye($,l(n))}),te(oe,ne)};De(j,oe=>{l(y)?oe(Q):oe(re,!1)})}var ie=ge(j,2),pe=ae(ie);pe.__input=M,pe.__keydown=V;var me=ge(Y,2);me.__input=_,me.__keydown=N;let xe;var Se=ge(me,2);{let oe=vo(()=>c()&&!d());hf(Se,{get isVisible(){return l(oe)},get minWidth(){return L_},get minHeight(){return V_},onResizeEnd:Z})}be(()=>{Ze(B,`outline: ${c()&&!d()?"2px solid var(--vscode-focusBorder)":"none"};`),ye(pe,"min",F_),ye(pe,"max",H_),Ot(pe,l(P)),Ot(me,l(m)),xe=Ze(me,"",xe,{"font-size":`${l(i)}px`,"line-height":`${l(s)}px`})}),We("focus",pe,p),We("blur",pe,T),We("focus",me,H),We("blur",me,z),te(e,B),ke()}mt(["pointerup","input","keydown","dblclick"]);/**
 * @license lucide-svelte v0.564.0 - ISC
 *
 * ISC License
 * 
 * Copyright (c) for portions of Lucide are held by Cole Bemis 2013-2026 as part of Feather (MIT). All other copyright (c) for Lucide are held by Lucide Contributors 2026.
 * 
 * Permission to use, copy, modify, and/or distribute this software for any
 * purpose with or without fee is hereby granted, provided that the above
 * copyright notice and this permission notice appear in all copies.
 * 
 * THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES
 * WITH REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF
 * MERCHANTABILITY AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR
 * ANY SPECIAL, DIRECT, INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES
 * WHATSOEVER RESULTING FROM LOSS OF USE, DATA OR PROFITS, WHETHER IN AN
 * ACTION OF CONTRACT, NEGLIGENCE OR OTHER TORTIOUS ACTION, ARISING OUT OF
 * OR IN CONNECTION WITH THE USE OR PERFORMANCE OF THIS SOFTWARE.
 * 
 * ---
 * 
 * The MIT License (MIT) (for portions derived from Feather)
 * 
 * Copyright (c) 2013-2026 Cole Bemis
 * 
 * Permission is hereby granted, free of charge, to any person obtaining a copy
 * of this software and associated documentation files (the "Software"), to deal
 * in the Software without restriction, including without limitation the rights
 * to use, copy, modify, merge, publish, distribute, sublicense, and/or sell
 * copies of the Software, and to permit persons to whom the Software is
 * furnished to do so, subject to the following conditions:
 * 
 * The above copyright notice and this permission notice shall be included in all
 * copies or substantial portions of the Software.
 * 
 * THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR
 * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,
 * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE
 * AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER
 * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,
 * OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE
 * SOFTWARE.
 * 
 */const X_={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor","stroke-width":2,"stroke-linecap":"round","stroke-linejoin":"round"};/**
 * @license lucide-svelte v0.564.0 - ISC
 *
 * ISC License
 * 
 * Copyright (c) for portions of Lucide are held by Cole Bemis 2013-2026 as part of Feather (MIT). All other copyright (c) for Lucide are held by Lucide Contributors 2026.
 * 
 * Permission to use, copy, modify, and/or distribute this software for any
 * purpose with or without fee is hereby granted, provided that the above
 * copyright notice and this permission notice appear in all copies.
 * 
 * THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES
 * WITH REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF
 * MERCHANTABILITY AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR
 * ANY SPECIAL, DIRECT, INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES
 * WHATSOEVER RESULTING FROM LOSS OF USE, DATA OR PROFITS, WHETHER IN AN
 * ACTION OF CONTRACT, NEGLIGENCE OR OTHER TORTIOUS ACTION, ARISING OUT OF
 * OR IN CONNECTION WITH THE USE OR PERFORMANCE OF THIS SOFTWARE.
 * 
 * ---
 * 
 * The MIT License (MIT) (for portions derived from Feather)
 * 
 * Copyright (c) 2013-2026 Cole Bemis
 * 
 * Permission is hereby granted, free of charge, to any person obtaining a copy
 * of this software and associated documentation files (the "Software"), to deal
 * in the Software without restriction, including without limitation the rights
 * to use, copy, modify, merge, publish, distribute, sublicense, and/or sell
 * copies of the Software, and to permit persons to whom the Software is
 * furnished to do so, subject to the following conditions:
 * 
 * The above copyright notice and this permission notice shall be included in all
 * copies or substantial portions of the Software.
 * 
 * THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR
 * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,
 * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE
 * AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER
 * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,
 * OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE
 * SOFTWARE.
 * 
 */const j_=e=>{for(const t in e)if(t.startsWith("aria-")||t==="role"||t==="title")return!0;return!1};/**
 * @license lucide-svelte v0.564.0 - ISC
 *
 * ISC License
 * 
 * Copyright (c) for portions of Lucide are held by Cole Bemis 2013-2026 as part of Feather (MIT). All other copyright (c) for Lucide are held by Lucide Contributors 2026.
 * 
 * Permission to use, copy, modify, and/or distribute this software for any
 * purpose with or without fee is hereby granted, provided that the above
 * copyright notice and this permission notice appear in all copies.
 * 
 * THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES
 * WITH REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF
 * MERCHANTABILITY AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR
 * ANY SPECIAL, DIRECT, INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES
 * WHATSOEVER RESULTING FROM LOSS OF USE, DATA OR PROFITS, WHETHER IN AN
 * ACTION OF CONTRACT, NEGLIGENCE OR OTHER TORTIOUS ACTION, ARISING OUT OF
 * OR IN CONNECTION WITH THE USE OR PERFORMANCE OF THIS SOFTWARE.
 * 
 * ---
 * 
 * The MIT License (MIT) (for portions derived from Feather)
 * 
 * Copyright (c) 2013-2026 Cole Bemis
 * 
 * Permission is hereby granted, free of charge, to any person obtaining a copy
 * of this software and associated documentation files (the "Software"), to deal
 * in the Software without restriction, including without limitation the rights
 * to use, copy, modify, merge, publish, distribute, sublicense, and/or sell
 * copies of the Software, and to permit persons to whom the Software is
 * furnished to do so, subject to the following conditions:
 * 
 * The above copyright notice and this permission notice shall be included in all
 * copies or substantial portions of the Software.
 * 
 * THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR
 * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,
 * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE
 * AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER
 * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,
 * OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE
 * SOFTWARE.
 * 
 */const Ku=(...e)=>e.filter((t,n,r)=>!!t&&t.trim()!==""&&r.indexOf(t)===n).join(" ").trim();var G_=Gt("<svg><!><!></svg>");function yr(e,t){const n=on(t,["children","$$slots","$$events","$$legacy"]),r=on(n,["name","color","size","strokeWidth","absoluteStrokeWidth","iconNode"]);Ne(t,!1);let i=ee(t,"name",8,void 0),o=ee(t,"color",8,"currentColor"),s=ee(t,"size",8,24),a=ee(t,"strokeWidth",8,2),u=ee(t,"absoluteStrokeWidth",8,!1),c=ee(t,"iconNode",24,()=>[]);zn();var d=G_();vn(d,(g,v,b)=>({...X_,...g,...r,width:s(),height:s(),stroke:o(),"stroke-width":v,class:b}),[()=>j_(r)?void 0:{"aria-hidden":"true"},()=>(Ke(u()),Ke(a()),Ke(s()),Ve(()=>u()?Number(a())*24/Number(s()):a())),()=>(Ke(Ku),Ke(i()),Ke(n),Ve(()=>Ku("lucide-icon","lucide",i()?`lucide-${i()}`:"",n.class)))]);var h=ae(d);it(h,1,c,Lt,(g,v)=>{var b=F(()=>vr(l(v),2));let y=()=>l(b)[0],w=()=>l(b)[1];var x=tt(),O=Ae(x);sg(O,y,!0,(m,P)=>{vn(m,()=>({...w()}))}),te(g,x)});var f=ge(h);Dn(f,t,"default",{}),te(e,d),ke()}function U_(e,t){const n=on(t,["children","$$slots","$$events","$$legacy"]);/**
 * @license lucide-svelte v0.564.0 - ISC
 *
 * ISC License
 *
 * Copyright (c) for portions of Lucide are held by Cole Bemis 2013-2026 as part of Feather (MIT). All other copyright (c) for Lucide are held by Lucide Contributors 2026.
 *
 * Permission to use, copy, modify, and/or distribute this software for any
 * purpose with or without fee is hereby granted, provided that the above
 * copyright notice and this permission notice appear in all copies.
 *
 * THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES
 * WITH REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF
 * MERCHANTABILITY AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR
 * ANY SPECIAL, DIRECT, INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES
 * WHATSOEVER RESULTING FROM LOSS OF USE, DATA OR PROFITS, WHETHER IN AN
 * ACTION OF CONTRACT, NEGLIGENCE OR OTHER TORTIOUS ACTION, ARISING OUT OF
 * OR IN CONNECTION WITH THE USE OR PERFORMANCE OF THIS SOFTWARE.
 *
 * ---
 *
 * The MIT License (MIT) (for portions derived from Feather)
 *
 * Copyright (c) 2013-2026 Cole Bemis
 *
 * Permission is hereby granted, free of charge, to any person obtaining a copy
 * of this software and associated documentation files (the "Software"), to deal
 * in the Software without restriction, including without limitation the rights
 * to use, copy, modify, merge, publish, distribute, sublicense, and/or sell
 * copies of the Software, and to permit persons to whom the Software is
 * furnished to do so, subject to the following conditions:
 *
 * The above copyright notice and this permission notice shall be included in all
 * copies or substantial portions of the Software.
 *
 * THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR
 * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,
 * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE
 * AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER
 * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,
 * OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE
 * SOFTWARE.
 *
 */const r=[["path",{d:"M3 19V5"}],["path",{d:"m13 6-6 6 6 6"}],["path",{d:"M7 12h14"}]];yr(e,Xt({name:"arrow-left-to-line"},()=>n,{get iconNode(){return r},children:(i,o)=>{var s=tt(),a=Ae(s);Dn(a,t,"default",{}),te(i,s)},$$slots:{default:!0}}))}function q_(e,t){const n=on(t,["children","$$slots","$$events","$$legacy"]);/**
 * @license lucide-svelte v0.564.0 - ISC
 *
 * ISC License
 *
 * Copyright (c) for portions of Lucide are held by Cole Bemis 2013-2026 as part of Feather (MIT). All other copyright (c) for Lucide are held by Lucide Contributors 2026.
 *
 * Permission to use, copy, modify, and/or distribute this software for any
 * purpose with or without fee is hereby granted, provided that the above
 * copyright notice and this permission notice appear in all copies.
 *
 * THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES
 * WITH REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF
 * MERCHANTABILITY AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR
 * ANY SPECIAL, DIRECT, INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES
 * WHATSOEVER RESULTING FROM LOSS OF USE, DATA OR PROFITS, WHETHER IN AN
 * ACTION OF CONTRACT, NEGLIGENCE OR OTHER TORTIOUS ACTION, ARISING OUT OF
 * OR IN CONNECTION WITH THE USE OR PERFORMANCE OF THIS SOFTWARE.
 *
 * ---
 *
 * The MIT License (MIT) (for portions derived from Feather)
 *
 * Copyright (c) 2013-2026 Cole Bemis
 *
 * Permission is hereby granted, free of charge, to any person obtaining a copy
 * of this software and associated documentation files (the "Software"), to deal
 * in the Software without restriction, including without limitation the rights
 * to use, copy, modify, merge, publish, distribute, sublicense, and/or sell
 * copies of the Software, and to permit persons to whom the Software is
 * furnished to do so, subject to the following conditions:
 *
 * The above copyright notice and this permission notice shall be included in all
 * copies or substantial portions of the Software.
 *
 * THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR
 * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,
 * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE
 * AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER
 * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,
 * OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE
 * SOFTWARE.
 *
 */const r=[["path",{d:"M10 10h4"}],["path",{d:"M19 7V4a1 1 0 0 0-1-1h-2a1 1 0 0 0-1 1v3"}],["path",{d:"M20 21a2 2 0 0 0 2-2v-3.851c0-1.39-2-2.962-2-4.829V8a1 1 0 0 0-1-1h-4a1 1 0 0 0-1 1v11a2 2 0 0 0 2 2z"}],["path",{d:"M 22 16 L 2 16"}],["path",{d:"M4 21a2 2 0 0 1-2-2v-3.851c0-1.39 2-2.962 2-4.829V8a1 1 0 0 1 1-1h4a1 1 0 0 1 1 1v11a2 2 0 0 1-2 2z"}],["path",{d:"M9 7V4a1 1 0 0 0-1-1H6a1 1 0 0 0-1 1v3"}]];yr(e,Xt({name:"binoculars"},()=>n,{get iconNode(){return r},children:(i,o)=>{var s=tt(),a=Ae(s);Dn(a,t,"default",{}),te(i,s)},$$slots:{default:!0}}))}function Z_(e,t){const n=on(t,["children","$$slots","$$events","$$legacy"]);/**
 * @license lucide-svelte v0.564.0 - ISC
 *
 * ISC License
 *
 * Copyright (c) for portions of Lucide are held by Cole Bemis 2013-2026 as part of Feather (MIT). All other copyright (c) for Lucide are held by Lucide Contributors 2026.
 *
 * Permission to use, copy, modify, and/or distribute this software for any
 * purpose with or without fee is hereby granted, provided that the above
 * copyright notice and this permission notice appear in all copies.
 *
 * THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES
 * WITH REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF
 * MERCHANTABILITY AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR
 * ANY SPECIAL, DIRECT, INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES
 * WHATSOEVER RESULTING FROM LOSS OF USE, DATA OR PROFITS, WHETHER IN AN
 * ACTION OF CONTRACT, NEGLIGENCE OR OTHER TORTIOUS ACTION, ARISING OUT OF
 * OR IN CONNECTION WITH THE USE OR PERFORMANCE OF THIS SOFTWARE.
 *
 * ---
 *
 * The MIT License (MIT) (for portions derived from Feather)
 *
 * Copyright (c) 2013-2026 Cole Bemis
 *
 * Permission is hereby granted, free of charge, to any person obtaining a copy
 * of this software and associated documentation files (the "Software"), to deal
 * in the Software without restriction, including without limitation the rights
 * to use, copy, modify, merge, publish, distribute, sublicense, and/or sell
 * copies of the Software, and to permit persons to whom the Software is
 * furnished to do so, subject to the following conditions:
 *
 * The above copyright notice and this permission notice shall be included in all
 * copies or substantial portions of the Software.
 *
 * THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR
 * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,
 * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE
 * AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER
 * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,
 * OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE
 * SOFTWARE.
 *
 */const r=[["path",{d:"M8 3H7a2 2 0 0 0-2 2v5a2 2 0 0 1-2 2 2 2 0 0 1 2 2v5c0 1.1.9 2 2 2h1"}],["path",{d:"M16 21h1a2 2 0 0 0 2-2v-5c0-1.1.9-2 2-2a2 2 0 0 1-2-2V5a2 2 0 0 0-2-2h-1"}]];yr(e,Xt({name:"braces"},()=>n,{get iconNode(){return r},children:(i,o)=>{var s=tt(),a=Ae(s);Dn(a,t,"default",{}),te(i,s)},$$slots:{default:!0}}))}function gf(e,t){const n=on(t,["children","$$slots","$$events","$$legacy"]);/**
 * @license lucide-svelte v0.564.0 - ISC
 *
 * ISC License
 *
 * Copyright (c) for portions of Lucide are held by Cole Bemis 2013-2026 as part of Feather (MIT). All other copyright (c) for Lucide are held by Lucide Contributors 2026.
 *
 * Permission to use, copy, modify, and/or distribute this software for any
 * purpose with or without fee is hereby granted, provided that the above
 * copyright notice and this permission notice appear in all copies.
 *
 * THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES
 * WITH REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF
 * MERCHANTABILITY AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR
 * ANY SPECIAL, DIRECT, INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES
 * WHATSOEVER RESULTING FROM LOSS OF USE, DATA OR PROFITS, WHETHER IN AN
 * ACTION OF CONTRACT, NEGLIGENCE OR OTHER TORTIOUS ACTION, ARISING OUT OF
 * OR IN CONNECTION WITH THE USE OR PERFORMANCE OF THIS SOFTWARE.
 *
 * ---
 *
 * The MIT License (MIT) (for portions derived from Feather)
 *
 * Copyright (c) 2013-2026 Cole Bemis
 *
 * Permission is hereby granted, free of charge, to any person obtaining a copy
 * of this software and associated documentation files (the "Software"), to deal
 * in the Software without restriction, including without limitation the rights
 * to use, copy, modify, merge, publish, distribute, sublicense, and/or sell
 * copies of the Software, and to permit persons to whom the Software is
 * furnished to do so, subject to the following conditions:
 *
 * The above copyright notice and this permission notice shall be included in all
 * copies or substantial portions of the Software.
 *
 * THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR
 * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,
 * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE
 * AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER
 * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,
 * OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE
 * SOFTWARE.
 *
 */const r=[["circle",{cx:"12",cy:"12",r:"10"}],["path",{d:"M9.09 9a3 3 0 0 1 5.83 1c0 2-3 3-3 3"}],["path",{d:"M12 17h.01"}]];yr(e,Xt({name:"circle-question-mark"},()=>n,{get iconNode(){return r},children:(i,o)=>{var s=tt(),a=Ae(s);Dn(a,t,"default",{}),te(i,s)},$$slots:{default:!0}}))}function vf(e,t){const n=on(t,["children","$$slots","$$events","$$legacy"]);/**
 * @license lucide-svelte v0.564.0 - ISC
 *
 * ISC License
 *
 * Copyright (c) for portions of Lucide are held by Cole Bemis 2013-2026 as part of Feather (MIT). All other copyright (c) for Lucide are held by Lucide Contributors 2026.
 *
 * Permission to use, copy, modify, and/or distribute this software for any
 * purpose with or without fee is hereby granted, provided that the above
 * copyright notice and this permission notice appear in all copies.
 *
 * THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES
 * WITH REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF
 * MERCHANTABILITY AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR
 * ANY SPECIAL, DIRECT, INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES
 * WHATSOEVER RESULTING FROM LOSS OF USE, DATA OR PROFITS, WHETHER IN AN
 * ACTION OF CONTRACT, NEGLIGENCE OR OTHER TORTIOUS ACTION, ARISING OUT OF
 * OR IN CONNECTION WITH THE USE OR PERFORMANCE OF THIS SOFTWARE.
 *
 * ---
 *
 * The MIT License (MIT) (for portions derived from Feather)
 *
 * Copyright (c) 2013-2026 Cole Bemis
 *
 * Permission is hereby granted, free of charge, to any person obtaining a copy
 * of this software and associated documentation files (the "Software"), to deal
 * in the Software without restriction, including without limitation the rights
 * to use, copy, modify, merge, publish, distribute, sublicense, and/or sell
 * copies of the Software, and to permit persons to whom the Software is
 * furnished to do so, subject to the following conditions:
 *
 * The above copyright notice and this permission notice shall be included in all
 * copies or substantial portions of the Software.
 *
 * THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR
 * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,
 * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE
 * AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER
 * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,
 * OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE
 * SOFTWARE.
 *
 */const r=[["path",{d:"M2.992 16.342a2 2 0 0 1 .094 1.167l-1.065 3.29a1 1 0 0 0 1.236 1.168l3.413-.998a2 2 0 0 1 1.099.092 10 10 0 1 0-4.777-4.719"}],["path",{d:"M8 12h.01"}],["path",{d:"M12 12h.01"}],["path",{d:"M16 12h.01"}]];yr(e,Xt({name:"message-circle-more"},()=>n,{get iconNode(){return r},children:(i,o)=>{var s=tt(),a=Ae(s);Dn(a,t,"default",{}),te(i,s)},$$slots:{default:!0}}))}function Q_(e,t){const n=on(t,["children","$$slots","$$events","$$legacy"]);/**
 * @license lucide-svelte v0.564.0 - ISC
 *
 * ISC License
 *
 * Copyright (c) for portions of Lucide are held by Cole Bemis 2013-2026 as part of Feather (MIT). All other copyright (c) for Lucide are held by Lucide Contributors 2026.
 *
 * Permission to use, copy, modify, and/or distribute this software for any
 * purpose with or without fee is hereby granted, provided that the above
 * copyright notice and this permission notice appear in all copies.
 *
 * THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES
 * WITH REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF
 * MERCHANTABILITY AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR
 * ANY SPECIAL, DIRECT, INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES
 * WHATSOEVER RESULTING FROM LOSS OF USE, DATA OR PROFITS, WHETHER IN AN
 * ACTION OF CONTRACT, NEGLIGENCE OR OTHER TORTIOUS ACTION, ARISING OUT OF
 * OR IN CONNECTION WITH THE USE OR PERFORMANCE OF THIS SOFTWARE.
 *
 * ---
 *
 * The MIT License (MIT) (for portions derived from Feather)
 *
 * Copyright (c) 2013-2026 Cole Bemis
 *
 * Permission is hereby granted, free of charge, to any person obtaining a copy
 * of this software and associated documentation files (the "Software"), to deal
 * in the Software without restriction, including without limitation the rights
 * to use, copy, modify, merge, publish, distribute, sublicense, and/or sell
 * copies of the Software, and to permit persons to whom the Software is
 * furnished to do so, subject to the following conditions:
 *
 * The above copyright notice and this permission notice shall be included in all
 * copies or substantial portions of the Software.
 *
 * THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR
 * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,
 * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE
 * AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER
 * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,
 * OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE
 * SOFTWARE.
 *
 */const r=[["rect",{x:"16",y:"16",width:"6",height:"6",rx:"1"}],["rect",{x:"2",y:"16",width:"6",height:"6",rx:"1"}],["rect",{x:"9",y:"2",width:"6",height:"6",rx:"1"}],["path",{d:"M5 16v-3a1 1 0 0 1 1-1h12a1 1 0 0 1 1 1v3"}],["path",{d:"M12 12V8"}]];yr(e,Xt({name:"network"},()=>n,{get iconNode(){return r},children:(i,o)=>{var s=tt(),a=Ae(s);Dn(a,t,"default",{}),te(i,s)},$$slots:{default:!0}}))}function bl(e,t){const n=on(t,["children","$$slots","$$events","$$legacy"]);/**
 * @license lucide-svelte v0.564.0 - ISC
 *
 * ISC License
 *
 * Copyright (c) for portions of Lucide are held by Cole Bemis 2013-2026 as part of Feather (MIT). All other copyright (c) for Lucide are held by Lucide Contributors 2026.
 *
 * Permission to use, copy, modify, and/or distribute this software for any
 * purpose with or without fee is hereby granted, provided that the above
 * copyright notice and this permission notice appear in all copies.
 *
 * THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES
 * WITH REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF
 * MERCHANTABILITY AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR
 * ANY SPECIAL, DIRECT, INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES
 * WHATSOEVER RESULTING FROM LOSS OF USE, DATA OR PROFITS, WHETHER IN AN
 * ACTION OF CONTRACT, NEGLIGENCE OR OTHER TORTIOUS ACTION, ARISING OUT OF
 * OR IN CONNECTION WITH THE USE OR PERFORMANCE OF THIS SOFTWARE.
 *
 * ---
 *
 * The MIT License (MIT) (for portions derived from Feather)
 *
 * Copyright (c) 2013-2026 Cole Bemis
 *
 * Permission is hereby granted, free of charge, to any person obtaining a copy
 * of this software and associated documentation files (the "Software"), to deal
 * in the Software without restriction, including without limitation the rights
 * to use, copy, modify, merge, publish, distribute, sublicense, and/or sell
 * copies of the Software, and to permit persons to whom the Software is
 * furnished to do so, subject to the following conditions:
 *
 * The above copyright notice and this permission notice shall be included in all
 * copies or substantial portions of the Software.
 *
 * THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR
 * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,
 * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE
 * AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER
 * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,
 * OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE
 * SOFTWARE.
 *
 */const r=[["path",{d:"M21.174 6.812a1 1 0 0 0-3.986-3.987L3.842 16.174a2 2 0 0 0-.5.83l-1.321 4.352a.5.5 0 0 0 .623.622l4.353-1.32a2 2 0 0 0 .83-.497z"}],["path",{d:"m15 5 4 4"}]];yr(e,Xt({name:"pencil"},()=>n,{get iconNode(){return r},children:(i,o)=>{var s=tt(),a=Ae(s);Dn(a,t,"default",{}),te(i,s)},$$slots:{default:!0}}))}function pf(e,t){const n=on(t,["children","$$slots","$$events","$$legacy"]);/**
 * @license lucide-svelte v0.564.0 - ISC
 *
 * ISC License
 *
 * Copyright (c) for portions of Lucide are held by Cole Bemis 2013-2026 as part of Feather (MIT). All other copyright (c) for Lucide are held by Lucide Contributors 2026.
 *
 * Permission to use, copy, modify, and/or distribute this software for any
 * purpose with or without fee is hereby granted, provided that the above
 * copyright notice and this permission notice appear in all copies.
 *
 * THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES
 * WITH REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF
 * MERCHANTABILITY AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR
 * ANY SPECIAL, DIRECT, INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES
 * WHATSOEVER RESULTING FROM LOSS OF USE, DATA OR PROFITS, WHETHER IN AN
 * ACTION OF CONTRACT, NEGLIGENCE OR OTHER TORTIOUS ACTION, ARISING OUT OF
 * OR IN CONNECTION WITH THE USE OR PERFORMANCE OF THIS SOFTWARE.
 *
 * ---
 *
 * The MIT License (MIT) (for portions derived from Feather)
 *
 * Copyright (c) 2013-2026 Cole Bemis
 *
 * Permission is hereby granted, free of charge, to any person obtaining a copy
 * of this software and associated documentation files (the "Software"), to deal
 * in the Software without restriction, including without limitation the rights
 * to use, copy, modify, merge, publish, distribute, sublicense, and/or sell
 * copies of the Software, and to permit persons to whom the Software is
 * furnished to do so, subject to the following conditions:
 *
 * The above copyright notice and this permission notice shall be included in all
 * copies or substantial portions of the Software.
 *
 * THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR
 * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,
 * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE
 * AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER
 * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,
 * OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE
 * SOFTWARE.
 *
 */const r=[["path",{d:"m21 21-4.34-4.34"}],["circle",{cx:"11",cy:"11",r:"8"}]];yr(e,Xt({name:"search"},()=>n,{get iconNode(){return r},children:(i,o)=>{var s=tt(),a=Ae(s);Dn(a,t,"default",{}),te(i,s)},$$slots:{default:!0}}))}const J_=['input:not([type="hidden"]):not([disabled]):not([readonly])',"textarea:not([disabled]):not([readonly])","select:not([disabled])",'[contenteditable="true"]'].join(", ");function $_(e){var t;return!!(e!=null&&e.offsetWidth||e!=null&&e.offsetHeight||(t=e==null?void 0:e.getClientRects)!=null&&t.call(e).length)}function ew(e){var t;return((t=e==null?void 0:e.closest)==null?void 0:t.call(e,"[data-node-editor-root]"))??null}function Gr(e){const t=ew(e);if(!t)return!1;const n=Array.from(t.querySelectorAll(J_)).filter($_),r=n.indexOf(e);if(r<0)return!1;const i=n[r+1];return i?(i instanceof HTMLElement&&i.focus(),!0):!1}function Ur(e){return(e==null?void 0:e.key)==="Enter"&&!(e!=null&&e.isComposing)&&!(e!=null&&e.altKey)&&!(e!=null&&e.ctrlKey)&&!(e!=null&&e.metaKey)&&!(e!=null&&e.shiftKey)}var tw=de('<textarea class="nodrag min-h-10 w-full resize-none rounded-md border border-vsc-input-border bg-vsc-input-bg px-2 py-1.5 text-xs text-vsc-input-fg h-20" rows="4"></textarea>'),nw=de('<input class="nodrag w-full rounded-md border border-vsc-input-border bg-vsc-input-bg px-2 py-1.5 text-xs text-vsc-input-fg" type="text"/>'),rw=de('<div class="flex flex-col gap-1"><label class="text-xs text-vsc-muted"> </label> <!></div>');function iw(e,t){Ne(t,!0);const n=F(()=>t.label??t.schemaKey??"Field"),r=F(()=>typeof t.value=="string"?t.value:String(t.value??"")),i=F(()=>t.type==="text"),o=F(()=>`text-${t.schemaKey??"field"}-${t.type}`);let s=Ie(!1),a=Ie("");et(()=>{l(s)||W(a,l(r),!0)});function u(O){t.onchange(O)}function c(){W(s,!0)}function d(O){W(a,O.currentTarget.value,!0)}function h(){l(s)&&(W(s,!1),l(a)!==l(r)&&u(l(a)))}function f(O){Ur(O)&&(O.preventDefault(),Gr(O.currentTarget)||O.currentTarget.blur())}var g=rw(),v=ae(g),b=ae(v),y=ge(v,2);{var w=O=>{var m=tw();m.__input=d,be(()=>{ye(m,"id",l(o)),Ot(m,l(a))}),We("focus",m,c),We("blur",m,h),te(O,m)},x=O=>{var m=nw();m.__input=d,m.__keydown=f,be(()=>{ye(m,"id",l(o)),Ot(m,l(a))}),We("focus",m,c),We("blur",m,h),te(O,m)};De(y,O=>{l(i)?O(w):O(x,!1)})}be(()=>{ye(v,"for",l(o)),Ye(b,l(n))}),te(e,g),ke()}mt(["input","keydown"]);var ow=de('<div class="flex flex-row items-center justify-start gap-2"><label class="text-xs text-vsc-muted"> </label> <input class="nodrag h-4 w-4" type="checkbox"/></div>');function sw(e,t){Ne(t,!0);const n=F(()=>t.label??t.schemaKey??"Field"),r=F(()=>!!t.value),i=F(()=>`bool-${t.schemaKey??"field"}-${t.type}`);function o(d){t.onchange(d)}var s=ow(),a=ae(s),u=ae(a),c=ge(a,2);c.__change=d=>o(d.currentTarget.checked),be(()=>{ye(a,"for",l(i)),Ye(u,l(n)),ye(c,"id",l(i)),qc(c,l(r))}),te(e,s),ke()}mt(["change"]);var aw=de('<div class="flex flex-col gap-1"><label class="text-xs text-vsc-muted"> </label> <input class="nodrag w-full rounded-md border border-vsc-input-border bg-vsc-input-bg px-2 py-1.5 text-xs text-vsc-input-fg" type="number"/></div>');function lw(e,t){Ne(t,!0);const n=F(()=>t.label??t.schemaKey??"Field"),r=F(()=>Number.isFinite(Number(t.value))?Number(t.value):0),i=F(()=>String(l(r))),o=F(()=>t.type==="float"?"any":"1"),s=F(()=>`number-${t.schemaKey??"field"}-${t.type}`);let a=Ie(!1),u=Ie("");et(()=>{l(a)||W(u,l(i),!0)});function c(x){t.onchange(x)}function d(){W(a,!0)}function h(x){W(u,x.currentTarget.value,!0)}function f(){if(!l(a))return;W(a,!1);const x=Number(l(u));if(!Number.isFinite(x)){W(u,l(i),!0);return}const O=t.type==="float"?x:Math.trunc(x);W(u,String(O),!0),O!==l(r)&&c(O)}function g(x){Ur(x)&&(x.preventDefault(),Gr(x.currentTarget)||x.currentTarget.blur())}var v=aw(),b=ae(v),y=ae(b),w=ge(b,2);w.__input=h,w.__keydown=g,be(()=>{ye(b,"for",l(s)),Ye(y,l(n)),ye(w,"id",l(s)),Ot(w,l(u)),ye(w,"step",l(o))}),We("focus",w,d),We("blur",w,f),te(e,v),ke()}mt(["input","keydown"]);var uw=de('<div class="flex flex-col gap-1"><label class="text-xs text-vsc-muted"> </label> <input class="nodrag w-full" type="range"/></div>');function cw(e,t){Ne(t,!0);const n=0,r=100,i=1,o=F(()=>Number.isFinite(Number(t.value))?Number(t.value):n),s=F(()=>`slider-${t.schemaKey??"field"}-${t.type}`);let a=Ie(n),u=Ie(!1),c=Ie("unknown");et(()=>{l(u)||W(a,l(o),!0)});const d=F(()=>`${t.label??t.schemaKey??"Field"} (${l(a)})`);function h(A){t.onchange(A)}function f(A){const I=Number(A.currentTarget.value);W(a,Number.isFinite(I)?I:n,!0),W(u,l(a)!==l(o))}function g(){W(c,"pointer")}function v(A){["ArrowLeft","ArrowRight","ArrowUp","ArrowDown","Home","End","PageUp","PageDown"].includes(A.key)&&W(c,"keyboard")}function b(){l(u)&&(h(l(a)),W(u,!1))}function y(){l(c)==="pointer"&&b()}function w(){b(),W(c,"unknown")}var x=uw(),O=ae(x),m=ae(O),P=ge(O,2);ye(P,"min",n),ye(P,"max",r),ye(P,"step",i),P.__pointerdown=g,P.__input=f,P.__change=y,P.__keydown=v,be(()=>{ye(O,"for",l(s)),Ye(m,l(d)),ye(P,"id",l(s)),Ot(P,l(a))}),We("blur",P,w),te(e,x),ke()}mt(["pointerdown","input","change","keydown"]);var dw=de('<div class="flex flex-col gap-1"><label class="text-xs text-vsc-muted"> </label> <input class="nodrag w-full rounded-md border border-vsc-input-border bg-vsc-input-bg px-2 py-1.5 text-xs text-vsc-input-fg" type="text" placeholder="path/to/file.json" spellcheck="false"/></div>');function fw(e,t){Ne(t,!0);const n=F(()=>t.label??t.schemaKey??"Field"),r=F(()=>typeof t.value=="string"?t.value:String(t.value??"")),i=F(()=>`path-${t.schemaKey??"field"}-${t.type}`);let o=Ie(!1),s=Ie("");et(()=>{l(o)||W(s,l(r),!0)});function a(y){t.onchange(y)}function u(){W(o,!0)}function c(y){W(s,y.currentTarget.value,!0)}function d(){l(o)&&(W(o,!1),l(s)!==l(r)&&a(l(s)))}function h(y){Ur(y)&&(y.preventDefault(),Gr(y.currentTarget)||y.currentTarget.blur())}var f=dw(),g=ae(f),v=ae(g),b=ge(g,2);b.__input=c,b.__keydown=h,be(()=>{ye(g,"for",l(i)),Ye(v,l(n)),ye(b,"id",l(i)),Ot(b,l(s))}),We("focus",b,u),We("blur",b,d),te(e,f),ke()}mt(["input","keydown"]);var hw=de('<div class="relative flex flex-col gap-1"><label class="text-xs text-vsc-muted"> </label> <input class="nodrag w-full rounded-md border border-vsc-input-border bg-vsc-input-bg px-2 py-1.5 text-xs text-vsc-input-fg" type="text"/></div>');function gw(e,t){Ne(t,!0);const n=F(()=>t.label??t.schemaKey??"Field"),r=F(()=>typeof t.value=="string"?t.value:String(t.value??"")),i=F(()=>`enum-${t.schemaKey??"field"}-${t.type}`);let o=Ie(!1),s=Ie(""),a;et(()=>{l(o)||W(s,l(r),!0)});function u(w){t.onchange(w)}function c(){W(o,!0)}function d(w){W(s,w.currentTarget.value,!0)}function h(w){l(o)&&(W(o,!1),l(s)!==l(r)&&u(l(s)),w&&a&&!Gr(a)&&a.blur())}function f(w){Ur(w)&&(w.preventDefault(),h(!0))}var g=hw(),v=ae(g),b=ae(v),y=ge(v,2);y.__input=d,y.__keydown=f,lt(y,w=>a=w,()=>a),be(()=>{ye(v,"for",l(i)),Ye(b,l(n)),ye(y,"id",l(i)),Ot(y,l(s))}),We("focus",y,c),We("blur",y,()=>h(!1)),te(e,g),ke()}mt(["input","keydown"]);function La(e){return e!==null&&typeof e=="object"&&!Array.isArray(e)}var vw=de('<div class="text-xs text-vsc-muted">No items</div>'),pw=de('<input class="w-4 h-4 nodrag" type="checkbox"/>'),mw=de('<input class="nodrag w-full rounded-md border border-vsc-input-border bg-vsc-input-bg px-2 py-1.5 text-xs text-vsc-input-fg" type="number"/>'),yw=de('<textarea class="nodrag min-h-10 w-full resize-y rounded-md border border-vsc-input-border bg-vsc-input-bg px-2 py-1.5 text-xs text-vsc-input-fg" rows="3"></textarea>'),bw=de('<input class="nodrag w-full rounded-md border border-vsc-input-border bg-vsc-input-bg px-2 py-1.5 text-xs text-vsc-input-fg" type="text"/>'),_w=de('<div class="flex items-start gap-1.5"><div class="flex-1"><!></div> <button class="px-2 py-1 text-xs border rounded-md border-vsc-button-border bg-vsc-button-secondary-bg text-vsc-button-secondary-fg hover:bg-vsc-button-secondary-hover" type="button">Remove</button></div>'),ww=de('<div class="flex flex-col gap-1.5"></div>'),xw=de('<div class="flex flex-col gap-1.5 rounded-md border border-dashed border-vsc-editor-widget-border p-2"><div class="flex items-center justify-between gap-2"><div class="text-xs font-bold uppercase text-vsc-muted"> </div> <button class="px-2 py-1 text-xs border rounded-md border-vsc-button-border bg-vsc-button-secondary-bg text-vsc-button-secondary-fg hover:bg-vsc-button-secondary-hover" type="button">Add</button></div> <!></div>');function Ew(e,t){Ne(t,!0);const n=F(()=>t.label??t.schemaKey??"Field"),r=F(()=>Array.isArray(t.value)?t.value:[]);function i(A){t.onchange(A)}function o(){i([...l(r),""])}function s(A){i(l(r).filter((I,k)=>k!==A))}function a(A,I){const k=l(r).slice();k[A]=I,i(k)}function u(A,I){a(A,I)}function c(A,I){const k=Number(I);a(A,Number.isFinite(k)?k:0)}function d(A,I){a(A,I)}function h(A,I){try{const k=JSON.parse(I);La(k)&&a(A,k)}catch{}}function f(A){try{return JSON.stringify(A??{},null,2)}catch{return"{}"}}function g(A){Ur(A)&&(A.preventDefault(),Gr(A.currentTarget)||A.currentTarget.blur())}var v=xw(),b=ae(v),y=ae(b),w=ae(y),x=ge(y,2);x.__click=o;var O=ge(b,2);{var m=A=>{var I=vw();te(A,I)},P=A=>{var I=ww();it(I,21,()=>l(r),Lt,(k,H,z)=>{var E=_w(),_=ae(E),N=ae(_);{var p=X=>{var G=pw();G.__change=U=>d(z,U.currentTarget.checked),be(()=>qc(G,l(H))),te(X,G)},T=X=>{var G=mw();G.__change=U=>c(z,U.currentTarget.value),G.__keydown=g,be(()=>Ot(G,l(H))),te(X,G)},S=X=>{var G=yw();G.__change=U=>h(z,U.currentTarget.value),be(U=>Ot(G,U),[()=>f(l(H))]),te(X,G)},M=F(()=>La(l(H))),V=X=>{var G=bw();G.__change=U=>u(z,U.currentTarget.value),G.__keydown=g,be(U=>Ot(G,U),[()=>typeof l(H)=="string"?l(H):String(l(H)??"")]),te(X,G)};De(N,X=>{typeof l(H)=="boolean"?X(p):typeof l(H)=="number"?X(T,1):l(M)?X(S,2):X(V,!1)})}var K=ge(_,2);K.__click=()=>s(z),te(k,E)}),te(A,I)};De(O,A=>{l(r).length===0?A(m):A(P,!1)})}be(()=>Ye(w,l(n))),te(e,v),ke()}mt(["click","change","keydown"]);function mf(e,t){var n=tt(),r=Ae(n);{var i=f=>{},o=f=>{Ew(f,{get schemaKey(){return t.schemaKey},get type(){return t.type},get label(){return t.label},get value(){return t.value},get inputWidth(){return t.inputWidth},get onchange(){return t.onchange}})},s=f=>{gw(f,{get schemaKey(){return t.schemaKey},get type(){return t.type},get label(){return t.label},get value(){return t.value},get inputWidth(){return t.inputWidth},get onchange(){return t.onchange}})},a=f=>{fw(f,{get schemaKey(){return t.schemaKey},get type(){return t.type},get label(){return t.label},get value(){return t.value},get inputWidth(){return t.inputWidth},get onchange(){return t.onchange}})},u=f=>{cw(f,{get schemaKey(){return t.schemaKey},get type(){return t.type},get label(){return t.label},get value(){return t.value},get inputWidth(){return t.inputWidth},get onchange(){return t.onchange}})},c=f=>{sw(f,{get schemaKey(){return t.schemaKey},get type(){return t.type},get label(){return t.label},get value(){return t.value},get inputWidth(){return t.inputWidth},get onchange(){return t.onchange}})},d=f=>{lw(f,{get schemaKey(){return t.schemaKey},get type(){return t.type},get label(){return t.label},get value(){return t.value},get inputWidth(){return t.inputWidth},get onchange(){return t.onchange}})},h=f=>{iw(f,{get schemaKey(){return t.schemaKey},get type(){return t.type},get label(){return t.label},get value(){return t.value},get inputWidth(){return t.inputWidth},get onchange(){return t.onchange}})};De(r,f=>{t.type==="object"?f(i):t.type==="list"?f(o,1):t.type==="enum"?f(s,2):t.type==="filepath"?f(a,3):t.type==="intslider"?f(u,4):t.type==="checkbox"?f(c,5):t.type==="int"||t.type==="float"?f(d,6):f(h,!1)})}te(e,n)}const Nw="#808080";function us(){return Nw}function kw(e){if(typeof e=="string")return e;if(Number.isFinite(e))return`#${Math.floor(e).toString(16).padStart(6,"0")}`;if(Array.isArray(e)&&e.length>=3){const[t,n,r,i]=e;return typeof i=="number"?`rgb(${Number(t)} ${Number(n)} ${Number(r)} / ${i})`:`rgb(${Number(t)} ${Number(n)} ${Number(r)})`}if(e&&typeof e=="object"){const t=e;if(typeof t.r=="number"&&typeof t.g=="number"&&typeof t.b=="number")return typeof t.a=="number"?`rgb(${t.r} ${t.g} ${t.b} / ${t.a})`:`rgb(${t.r} ${t.g} ${t.b})`}}var Iw=de('<div class="px-1"><textarea rows="1" aria-label="Node comment"></textarea></div>');function yf(e,t){Ne(t,!1);const n=Ee(),r=Ee(),i=Ee();let o=ee(t,"id",8,""),s=ee(t,"value",8,""),a=ee(t,"isVisible",12,!1),u=ee(t,"isEditing",12,!1);const c=xs();let d=Ee(!1),h=Ee(""),f=Ee();async function g(E=!1){var N,p,T;if(W(d,!0),u()||(u(!0),W(h,l(n)),await ct()),(N=l(f))==null||N.focus(),P(),E){(p=l(f))==null||p.select();return}const _=l(h).length;(T=l(f))==null||T.setSelectionRange(_,_)}function v(){u()&&(c("change",{value:l(h)}),u(!1),W(d,l(h).trim().length>0),ct().then(A))}function b(E){u()&&(W(h,E.currentTarget.value),P())}function y(E){var _;if(u()){E.key==="Escape"&&(E.preventDefault(),v(),(_=l(f))==null||_.blur());return}(E.key==="Enter"||E.key===" ")&&(E.preventDefault(),g(!1))}function w(){u()&&v()}function x(){var E;u()||(E=l(f))==null||E.blur()}function O(E){u()||c("select",{originalEvent:E})}function m(){u()||g(!0)}function P(){l(f)&&(Uo(f,l(f).style.height="auto"),Uo(f,l(f).style.height=`${l(f).scrollHeight}px`))}function A(){var E,_;if(l(f)){try{l(f).setSelectionRange(0,0)}catch{}typeof window<"u"&&((_=(E=window.getSelection)==null?void 0:E.call(window))==null||_.removeAllRanges())}}Te(()=>Ke(s()),()=>{W(n,typeof s()=="string"?s():"")}),Te(()=>l(n),()=>{W(r,l(n).trim().length>0)}),Te(()=>(Ke(u()),l(r),l(d)),()=>{a(u()||l(r)||l(d))}),Te(()=>(Ke(u()),l(n)),()=>{u()||W(h,l(n))}),Te(()=>(Ke(u()),l(h),l(n)),()=>{W(i,u()?l(h):l(n))}),Te(()=>(Ke(a()),ct),()=>{a()&&ct().then(P)}),Br();var I={startEditing:g};zn();var k=tt(),H=Ae(k);{var z=E=>{var _=Iw(),N=ae(_);N.__pointerdown=O,N.__click=m,N.__input=b,N.__keydown=y,lt(N,p=>W(f,p),()=>l(f)),be(()=>{ye(N,"id",o()),Ct(N,1,`w-full resize-none overflow-hidden p-1 rounded-md text-left text-xs leading-5 text-vsc-input-fg whitespace-pre-wrap wrap-break-word ${u()?"nodrag border border-vsc-input-border bg-vsc-input-bg":"border border-transparent bg-transparent cursor-grab active:cursor-grabbing select-none outline-none focus:outline-none focus-visible:outline-none focus:border-transparent"}`),N.readOnly=!u(),Ot(N,l(i))}),We("focus",N,x),We("blur",N,w),te(E,_)};De(H,E=>{a()&&E(z)})}return te(e,k),mg(t,"startEditing",g),ke(I)}mt(["pointerdown","click","input","keydown"]);var Sw=de('<div role="tooltip"> </div>'),Tw=de("<div><!> <!></div>");function bf(e,t){const n=on(t,["children","$$slots","$$events","$$legacy"]),r=on(n,["text","delayMs","disabled","placement","wrapperClass","tooltipClass","groupAriaLabel"]);Ne(t,!1);const i=Ee(),o=Ee(),s=Ee();let a=ee(t,"text",8),u=ee(t,"delayMs",8,300),c=ee(t,"disabled",8,!1),d=ee(t,"placement",8,"bottom"),h=ee(t,"wrapperClass",8,""),f=ee(t,"tooltipClass",8,""),g=ee(t,"groupAriaLabel",8),v=Ee(!1),b;bo(()=>{y()});function y(){typeof b<"u"&&(clearTimeout(b),b=void 0)}function w(){y(),W(v,!1)}function x(){if(!(c()||!l(i))){if(y(),l(o)===0){W(v,!0);return}b=setTimeout(()=>{W(v,!0),b=void 0},l(o))}}function O(){x()}function m(){w()}function P(){c()||!l(i)||(y(),W(v,!0))}function A(_){var p,T;const N=_.relatedTarget;(T=(p=_.currentTarget)==null?void 0:p.contains)!=null&&T.call(p,N)||w()}function I(_){switch(_){case"top":return"left-1/2 bottom-full mb-1.5 -translate-x-1/2";case"right":return"left-full top-1/2 ml-2 -translate-y-1/2";case"left":return"right-full top-1/2 mr-2 -translate-y-1/2";default:return"left-1/2 top-full mt-1.5 -translate-x-1/2"}}Te(()=>Ke(a()),()=>{W(i,typeof a()=="string"?a():void 0)}),Te(()=>Ke(u()),()=>{W(o,Number(u())||0)}),Te(()=>Ke(d()),()=>{W(s,I(d()))}),Te(()=>(Ke(c()),l(i)),()=>{(c()||!l(i))&&w()}),Br(),zn();var k=Tw();vn(k,()=>({...r,class:`relative ${h()??""}`,role:"group","aria-label":g(),onmouseenter:O,onmouseleave:m,onfocusin:P,onfocusout:A}));var H=ae(k);Dn(H,t,"default",{});var z=ge(H,2);{var E=_=>{var N=Sw(),p=ae(N);be(()=>{Ct(N,1,`pointer-events-none absolute z-20 w-max max-w-64 whitespace-normal rounded-md border border-vsc-editor-widget-border bg-vsc-editor-widget-bg px-2 py-1 text-[11px] leading-4 text-vsc-input-fg shadow-lg ${l(s)??""} ${f()??""}`),Ye(p,l(i))}),te(_,N)};De(z,_=>{l(v)&&l(i)&&_(E)})}te(e,k),ke()}var Ow=de('<span aria-hidden="true"></span>'),Cw=de('<span aria-hidden="true"></span>');function Va(e,t){Ne(t,!1);const n=Ee(),r=Ee(),i=Ee(),o=Ee(),s=Ee(),a=Ee(),u=Ee(),c=Ee(),d=Ee(),h=Ee(),f=Ee(),g=Ee(),v=Ee(),b=Ee();let y=ee(t,"id",8),w=ee(t,"type",8,"target"),x=ee(t,"side",8,"left"),O=ee(t,"top",8,"0px"),m=ee(t,"width",8,12),P=ee(t,"label",8,""),A=ee(t,"showTooltip",8,!1),I=ee(t,"color",8,void 0),k=ee(t,"connectionMultiplicity",8,"single");function H(T){return Number.isFinite(T)?`${T}px`:typeof T=="string"?T:"0px"}function z(T){return Number.isFinite(T)?`${Number(T)}px`:typeof T=="string"?T:"12px"}function E(T){return`calc(${T} * 2)`}function _(T){return T==="map"?"map":T==="multiple"?"multiple":"single"}function N(T,S){return T==="map"||T==="multiple"?"rounded-none":S==="right"?"rounded-l-full":"rounded-r-full"}function p(T,S){if(T==="map")return S==="left"?"polygon(0 0, 100% 50%, 0 100%)":"polygon(100% 0, 0 50%, 100% 100%)"}Te(()=>Ke(x()),()=>{W(n,x()==="right"?"right":"left")}),Te(()=>(l(n),Ce),()=>{W(r,l(n)==="right"?Ce.Right:Ce.Left)}),Te(()=>Ke(w()),()=>{W(i,w()==="source"?"source":"target")}),Te(()=>Ke(O()),()=>{W(o,H(O()))}),Te(()=>Ke(m()),()=>{W(s,z(m()))}),Te(()=>l(s),()=>{W(a,E(l(s)))}),Te(()=>Ke(P()),()=>{W(u,typeof P()=="string"?P():"")}),Te(()=>(Ke(I()),us),()=>{W(c,kw(I())??us())}),Te(()=>Ke(k()),()=>{W(d,_(k()))}),Te(()=>l(n),()=>{W(h,l(n)==="right"?"right-0":"left-0")}),Te(()=>(l(d),l(n)),()=>{W(f,N(l(d),l(n)))}),Te(()=>(l(d),l(n)),()=>{W(g,p(l(d),l(n)))}),Te(()=>l(n),()=>{W(v,l(n)==="right"?"right":"left")}),Te(()=>(l(u),l(n)),()=>{W(b,l(u)?`${l(n)==="right"?"Output":"Input"} pin ${l(u)}`:void 0)}),Br(),zn(),to(e,{get type(){return l(i)},get position(){return l(r)},get id(){return y()},get style(){return`top: ${l(o)??""}; height: ${l(a)??""};`},class:"w-px! min-w-0! min-h-0! bg-transparent! border-none! overflow-visible! [transform:translate(0,-50%)]",children:(T,S)=>{var M=tt(),V=Ae(M);{var K=G=>{bf(G,{get text(){return l(u)},get placement(){return l(v)},wrapperClass:"block",get style(){return`width: ${l(s)??""}; height: ${l(a)??""};`},get groupAriaLabel(){return l(b)},children:(U,Z)=>{var D=Ow();be(()=>{Ct(D,1,`absolute top-1/2 -translate-y-1/2 ${l(h)??""} ${l(f)??""}`),Ze(D,`width: ${l(s)??""}; height: ${l(a)??""}; background-color: ${l(c)??""}; clip-path: ${(l(g)||"none")??""};`)}),te(U,D)},$$slots:{default:!0}})},X=G=>{var U=Cw();be(()=>{Ct(U,1,`absolute top-1/2 -translate-y-1/2 ${l(h)??""} ${l(f)??""}`),Ze(U,`width: ${l(s)??""}; height: ${l(a)??""}; background-color: ${l(c)??""}; clip-path: ${(l(g)||"none")??""};`)}),te(G,U)};De(V,G=>{A()&&l(u)?G(K):G(X,!1)})}te(T,M)},$$slots:{default:!0}}),ke()}var Aw=de('<input class="w-full p-2 font-bold border rounded-t-lg border-vsc-input-border" type="text"/>'),Mw=de('<span class="mr-1 text-vsc-muted"> </span>'),Pw=de('<div class="flex items-center flex-1 gap-1 p-2 cursor-grab active:cursor-grabbing" role="group" aria-label="Node title bar"><button class="min-w-0 font-bold text-left border border-transparent rounded-md select-none text-vsc-input-fg cursor-grab active:cursor-grabbing" type="button"><!> <span> </span></button> <button class="inline-flex items-center justify-center rounded-md nodrag size-4 hover:backdrop-brightness-90" type="button" title="Edit node title" aria-label="Edit node title"><!></button> <button class="inline-flex items-center justify-center ml-auto rounded-md nodrag size-4 hover:backdrop-brightness-90" type="button" title="Edit node comment" aria-label="Edit node comment"><!></button></div>'),Dw=de('<!> <div class="pointer-events-none absolute pr-1 -translate-y-1/2 text-right text-[11px] text-vsc-muted whitespace-nowrap"> </div>',1),Rw=de('<div class="relative pt-0 border border-vsc-editor-widget-border rounded-lg shadow-lg bg-vsc-editor-widget-bg text-vsc-editor-fg transition-[border-color,box-shadow]" data-node-editor-root=""><div aria-hidden="true" class="absolute inset-x-0 top-0 z-10 h-1 rounded-t-lg pointer-events-none"></div> <div class="flex flex-col gap-1"><div class="flex items-center gap-1 rounded-t-lg bg-vsc-input-bg text-vsc-input-fg"><!></div> <!></div> <div class="relative py-2"><!> <div class="flex flex-col gap-2"></div> <!></div></div>');function zw(e,t){Ne(t,!0);let n=ee(t,"selected",3,!1),r=ee(t,"dragging",3,!1),i=F(()=>t.data.nodeColor),o=F(()=>t.data.outputPins),s=F(()=>t.data.inputPins),a=F(()=>t.data.fieldsBySchemaKey),u=F(()=>t.data.titleOverride),c=F(()=>t.data.defaultTitle),d=F(()=>t.data.inputConnectionIndex);const{updateNodeData:h,updateNode:f,getNodes:g,getEdges:v,updateEdge:b}=jr(),y=16,w=32,x=220,O=32,m=10,P=288,A=80;let I=F(()=>Object.keys(t.data.fieldsBySchemaKey).length>0),k=F(()=>he(l(o))),H=F(()=>(l(I)?P:A)+l(k)),z=F(()=>m+8),E=F(()=>l(k)+8),_=F(()=>Math.max(l(s).length,l(o).length)),N=F(()=>le(l(_)-1,l(_))+O),p=F(()=>l(i)??us()),T=F(()=>l(u)??l(c)),S=F(()=>l(d)!==void 0?`[${l(d)}]`:void 0),M=F(()=>`comment-${t.id??"node"}`),V=F(()=>{var ce;return typeof((ce=t.data)==null?void 0:ce.comment)=="string"?t.data.comment:""});et(()=>{l(K)||W(X,l(T),!0)});let K=Ie(!1),X=Ie(""),G=Ie(void 0),U=Ie(!1),Z;function D(ce){h(t.id,{titleOverride:ce}),oe("custom-label-updated")}function C(ce){if(ce!=null&&ce.shiftKey)return;const Oe=!!(ce!=null&&ce.metaKey||ce!=null&&ce.ctrlKey),je=g();for(const qe of je){const ft=qe.id===t.id?!0:Oe?!!qe.selected:!1;qe.selected!==ft&&f(qe.id,{selected:ft})}if(Oe)return;const rt=v();for(const qe of rt)qe.selected&&b(qe.id,{selected:!1})}async function B(){var ce,Oe;W(K,!0),W(X,l(T),!0),await ct(),(ce=l(G))==null||ce.focus(),(Oe=l(G))==null||Oe.select()}function Y(ce=!1){var Oe;l(K)&&(D(l(X)),W(K,!1),ce&&(Gr(l(G))||(Oe=l(G))==null||Oe.blur()))}function j(){l(K)&&(W(K,!1),W(X,l(T),!0))}function Q(ce){var Oe;if(Ur(ce)){ce.preventDefault(),Y(!0);return}ce.key==="Escape"&&(ce.preventDefault(),j(),(Oe=l(G))==null||Oe.blur())}function re(){Y(!1)}function ie(ce){(ce.key==="Enter"||ce.key===" ")&&(ce.preventDefault(),B())}function pe(){Z==null||Z.startEditing(!1)}function me(ce){var Oe;C((Oe=ce.detail)==null?void 0:Oe.originalEvent)}function xe(ce){h(t.id,{comment:ce??""}),oe("custom-comment-updated")}function Se(ce,Oe){h(t.id,{fieldsBySchemaKey:{...l(a),[ce]:{...l(a)[ce],value:Oe}}}),oe("custom-field-updated")}function oe(ce){typeof window>"u"||typeof window.dispatchEvent!="function"||window.dispatchEvent(new CustomEvent(jb,{detail:{nodeId:t.id,reason:ce}}))}function ne(ce){return typeof(ce==null?void 0:ce.label)=="string"?ce.label:typeof(ce==null?void 0:ce.id)=="string"?ce.id:""}function fe(ce){return(ce==null?void 0:ce.isMap)===!0?"map":(ce==null?void 0:ce.multiple)===!0?"multiple":"single"}function $(ce,Oe){return`${le(ce,Oe)}px`}function le(ce,Oe){const je=Number(Oe)||1,rt=Number(ce)||0,qe=Math.max(0,x-y),ft=je<=1?0:Math.min(w,qe/(je-1));return y+rt*ft}function he(ce){return!Array.isArray(ce)||ce.length===0?0:ce.reduce((rt,qe)=>Math.max(rt,ne(qe).length),0)*7+m+4}var we=Rw(),Re=ae(we),ze=ge(Re,2),Be=ae(ze),$e=ae(Be);{var gt=ce=>{var Oe=Aw();Oe.__input=je=>W(X,je.currentTarget.value,!0),Oe.__keydown=Q,lt(Oe,je=>W(G,je),()=>l(G)),be(()=>Ot(Oe,l(X))),We("blur",Oe,re),te(ce,Oe)},Fe=ce=>{var Oe=Pw();Oe.__pointerdown=C;var je=ae(Oe);je.__dblclick=B,je.__keydown=ie;var rt=ae(je);{var qe=an=>{var vt=Mw(),Si=ae(vt);be(()=>Ye(Si,l(S))),te(an,vt)};De(rt,an=>{l(S)!==void 0&&an(qe)})}var ft=ge(rt,2),Pt=ae(ft),Dt=ge(je,2);Dt.__click=B;var qr=ae(Dt);bl(qr,{strokeWidth:2.5,"aria-hidden":"true",class:""});var q=ge(Dt,2);q.__click=pe;var Tt=ae(q);vf(Tt,{strokeWidth:2.25,"aria-hidden":"true"}),be(()=>{Ye(Pt,l(T)),ye(q,"aria-expanded",l(U)),ye(q,"aria-controls",l(M))}),te(ce,Oe)};De($e,ce=>{l(K)?ce(gt):ce(Fe,!1)})}var dt=ge(Be,2);lt(yf(dt,{get id(){return l(M)},get value(){return l(V)},get isVisible(){return l(U)},set isVisible(ce){W(U,ce,!0)},$$events:{change:ce=>xe(ce.detail.value),select:me}}),ce=>Z=ce,()=>Z);var St=ge(ze,2),bn=ae(St);it(bn,17,()=>l(s),Lt,(ce,Oe,je)=>{const rt=F(()=>$(je,l(s).length)),qe=F(()=>ne(l(Oe)));{let ft=F(()=>ml+(je>0?`-${je}`:"")),Pt=F(()=>l(s).length>1);Va(ce,{type:"target",side:"left",get id(){return l(ft)},get top(){return l(rt)},width:m,get label(){return l(qe)},get showTooltip(){return l(Pt)},get color(){return l(Oe).color}})}});var _n=ge(bn,2);it(_n,21,()=>Object.entries(l(a)),([ce,Oe])=>ce,(ce,Oe)=>{var je=F(()=>vr(l(Oe),2));let rt=()=>l(je)[1];mf(ce,Xt(rt,{onchange:qe=>Se(rt().schemaKey,qe)}))});var Mt=ge(_n,2);it(Mt,19,()=>l(o),ce=>ce.schemaKey,(ce,Oe,je)=>{const rt=F(()=>$(l(je),l(o).length)),qe=F(()=>fe(l(Oe)));var ft=Dw(),Pt=Ae(ft);Va(Pt,{type:"source",side:"right",get id(){return l(Oe).schemaKey},get top(){return l(rt)},width:m,get color(){return l(Oe).color},get connectionMultiplicity(){return l(qe)}});var Dt=ge(Pt,2),qr=ae(Dt);be(q=>{Ze(Dt,`top: ${l(rt)??""}; right: 10px;`),Ye(qr,q)},[()=>ne(l(Oe))]),te(ce,ft)}),be(()=>{Ze(we,`min-width: ${l(H)??""}px; outline: ${n()&&!r()?"2px solid var(--vscode-focusBorder)":"none"};`),Ze(Re,`background-color: ${l(p)??""};`),Ze(St,`padding-left: ${l(z)??""}px; padding-right: ${l(E)??""}px; min-height: ${l(N)??""}px;`)}),te(e,we),ke()}mt(["input","keydown","pointerdown","dblclick","click"]);var Lw=de('<input class="inline-block max-w-full px-0 py-0 font-semibold leading-none text-left transition-transform duration-100 ease-out origin-bottom-left bg-transparent border-0 rounded outline-none appearance-none nodrag whitespace-nowrap text-vsc-editor-fg ring-0 placeholder:text-vsc-muted focus:outline-none focus:ring-0" type="text" aria-label="Edit group title"/>'),Vw=de('<button class="inline-block px-0 py-0 font-semibold leading-none text-left transition-transform duration-100 ease-out origin-bottom-left rounded cursor-default whitespace-nowrap text-vsc-editor-fg" type="button"> </button> <button data-group-edit-action="true" type="button" title="Edit group name" aria-label="Edit group name"><!></button>',1),Fw=de('<div><div class="absolute inset-x-0 top-0 flex items-end h-8 gap-1 px-2 pb-1 overflow-visible rounded-t-lg cursor-default group-title-drag-handle nopan bg-vsc-input-bg/60" role="presentation"><div class="flex items-end min-w-0 gap-1 overflow-visible"><!></div></div> <div class="absolute inset-x-0 h-px pointer-events-none top-8 bg-vsc-editor-widget-border/80"></div> <!></div>');function Hw(e,t){Ne(t,!0);const n="Group",r=180,i=120,o=18,s=5.5,a=3,u=-1e4;let c=ee(t,"data",19,()=>({})),d=ee(t,"selected",3,!1),h=ee(t,"dragging",3,!1),f=ee(t,"positionAbsoluteX",3,0),g=ee(t,"positionAbsoluteY",3,0),v=ee(t,"width",3,r),b=ee(t,"height",3,i);const y=sf(),{updateNodeData:w,updateNode:x}=jr();let O=Ie(!1),m=Ie(""),P=Ie(void 0),A=Ie(void 0),I=Ie(void 0),k=Ie(void 0),H=F(()=>{var $;return C(($=c())==null?void 0:$.name)}),z=F(()=>{var $;return B(($=y.current)==null?void 0:$.zoom)}),E=F(()=>Y(l(z))),_=F(()=>l(E)<=1.001),N=F(()=>l(_)&&!l(O));et(()=>{l(O)||W(m,l(H),!0)}),et(()=>{const $=!!d(),le=Q(v(),b());l(A)===$&&l(I)===le||(W(A,$,!0),W(I,le,!0),x(t.id,{draggable:$,dragHandle:void 0,zIndex:le}))});async function p(){var $,le;W(O,!0),W(m,l(H),!0),await ct(),($=l(P))==null||$.focus(),(le=l(P))==null||le.select()}function T(){l(O)&&(K(l(m)),W(O,!1))}function S(){l(O)&&(W(O,!1),W(m,l(H),!0))}function M($){var le,he;if($.key==="Enter"){$.preventDefault(),T(),(le=l(P))==null||le.blur();return}$.key==="Escape"&&($.preventDefault(),S(),(he=l(P))==null||he.blur())}function V($){($.key==="Enter"||$.key===" ")&&($.preventDefault(),p())}function K($){w(t.id,{name:C($)})}function X(){}function G($){var he,we;if(d()||l(O)||$.button!==0)return;const le=$==null?void 0:$.target;typeof(le==null?void 0:le.closest)=="function"&&le.closest("[data-group-edit-action='true']")||(W(k,{pointerId:$.pointerId,startClientX:Number($.clientX)||0,startClientY:Number($.clientY)||0,startNodeX:j(f()),startNodeY:j(g()),moved:!1},!0),(we=(he=$.currentTarget)==null?void 0:he.setPointerCapture)==null||we.call(he,$.pointerId))}function U($){var $e;const le=l(k);if(!le||$.pointerId!==le.pointerId)return;const he=(Number($.clientX)||0)-le.startClientX,we=(Number($.clientY)||0)-le.startClientY,Re=Math.hypot(he,we);if(!(le.moved||Re>=a))return;le.moved||W(k,{...le,moved:!0},!0);const Be=B(($e=y.current)==null?void 0:$e.zoom);x(t.id,{position:{x:le.startNodeX+he/Be,y:le.startNodeY+we/Be}}),$.preventDefault()}function Z($){const le=l(k);!le||$.pointerId!==le.pointerId||(le.moved&&(x(t.id,{selected:!0}),$.preventDefault()),W(k,void 0))}function D($){const le=l(k);!le||$.pointerId!==le.pointerId||W(k,void 0)}function C($){return typeof $=="string"?$:n}function B($){return Number($)||1}function Y($){if(!Number.isFinite($)||$>=1)return 1;const le=1/$;return Math.min(s,Math.max(1,le))}function j($){return Number($)||0}function Q($,le){const he=re($,r),we=re(le,i),Re=he*we;return u-Math.round(Re)}function re($,le){const he=Number($);return Number.isFinite(he)?he:le}var ie=Fw();let pe;var me=ae(ie);me.__pointerdown=G,me.__pointermove=U,me.__pointerup=Z;var xe=ae(me),Se=ae(xe);{var oe=$=>{var le=Lw();le.__input=we=>W(m,we.currentTarget.value,!0),le.__keydown=M;let he;lt(le,we=>W(P,we),()=>l(P)),be(we=>{Ot(le,l(m)),ye(le,"size",we),he=Ze(le,"",he,{"font-size":`${o}px`,transform:`scale(${l(E)})`})},[()=>Math.max(1,l(m).length||l(H).length)]),We("blur",le,T),te($,le)},ne=$=>{var le=Vw(),he=Ae(le);he.__dblclick=p,he.__keydown=V;let we;var Re=ae(he),ze=ge(he,2);let Be;ze.__click=p;var $e=ae(ze);bl($e,{size:12,strokeWidth:2.25,"aria-hidden":"true"}),be(()=>{ye(he,"aria-label",`Group title: ${l(H)}. Double click to rename`),we=Ze(he,"",we,{"font-size":`${o}px`,transform:`scale(${l(E)})`}),Ye(Re,l(H)),Be=Ct(ze,1,"nodrag inline-flex cursor-default items-center justify-center rounded p-0.5 text-vsc-muted transition-[opacity,transform,color] duration-200 ease-out hover:text-vsc-editor-fg",null,Be,{"opacity-100":l(N),"translate-y-0":l(N),"opacity-0":!l(N),"translate-y-0.5":!l(N),"pointer-events-none":!l(N)}),ye(ze,"tabindex",l(N)?0:-1)}),te($,le)};De(Se,$=>{l(O)?$(oe):$(ne,!1)})}var fe=ge(me,4);hf(fe,{get isVisible(){return d()},minWidth:r,minHeight:i,onResizeEnd:X}),be(()=>{pe=Ct(ie,1,"relative h-full w-full cursor-grab overflow-visible rounded-lg border border-dashed border-vsc-editor-widget-border bg-vsc-editor-widget-bg/40 transition-[border-color,box-shadow]",null,pe,{"cursor-grabbing":h()}),Ze(ie,`outline: ${d()&&!h()?"2px solid var(--vscode-focusBorder)":"none"};`)}),We("pointercancel",me,D),te(e,ie),ke()}mt(["pointerdown","pointermove","pointerup","input","keydown","dblclick","click"]);var Kw=de("<div>not implemented</div>");function Bw(e,t){Ne(t,!0),ee(t,"selected",3,!1),ee(t,"dragging",3,!1),jr();var n=Kw();te(e,n),ke()}var Ww=de('<input class="w-full p-2 font-bold border rounded-t-lg border-vsc-input-border" type="text"/>'),Yw=de('<span class="mr-1 text-vsc-muted"> </span>'),Xw=de('<div class="flex items-center flex-1 gap-1 p-2 cursor-grab active:cursor-grabbing" role="group" aria-label="Node title bar"><button class="min-w-0 font-bold text-left border border-transparent rounded-md select-none text-vsc-input-fg cursor-grab active:cursor-grabbing" type="button"><!> <span> </span></button> <button class="inline-flex items-center justify-center rounded-md nodrag size-4 hover:backdrop-brightness-90" type="button" title="Edit node title" aria-label="Edit node title"><!></button> <button class="inline-flex items-center justify-center ml-auto rounded-md nodrag size-4 hover:backdrop-brightness-90" type="button" title="Edit node comment" aria-label="Edit node comment"><!></button></div>'),jw=de('<div class="relative border border-vsc-editor-widget-border rounded-lg shadow-lg bg-vsc-editor-widget-bg text-vsc-editor-fg transition-[border-color,box-shadow]" data-node-editor-root=""><div aria-hidden="true" class="absolute inset-x-0 top-0 z-10 h-1 rounded-t-lg pointer-events-none"></div> <div class="flex flex-col gap-1"><div class="flex items-center gap-1 rounded-t-lg bg-vsc-input-bg text-vsc-input-fg"><!></div> <!></div> <div class="px-[18px] py-2"><!> <!></div></div>');function Gw(e,t){Ne(t,!0);const n={schemaKey:"Data",label:"Data",type:"text"},r=`{

}`,i="Raw JSON Node",o="var(--vscode-focusBorder)",s=10,a="50%";let u=ee(t,"selected",3,!1),c=ee(t,"dragging",3,!1);const{updateNodeData:d,updateNode:h,getNodes:f,getEdges:g,updateEdge:v}=jr(),b="nodeTitle",y="inputIndex",w=F(()=>t.data.titleOverride??i),x=F(()=>{var ne;return C((ne=t.data)==null?void 0:ne[y])}),O=F(()=>l(x)!==void 0?`[${l(x)}]`:void 0),m=F(()=>`comment-${t.id??"node"}`),P=F(()=>{var ne;return typeof((ne=t.data)==null?void 0:ne.comment)=="string"?t.data.comment:""}),A=F(()=>{var ne;return typeof((ne=t.data)==null?void 0:ne.data)=="string"?t.data.data:r});et(()=>{I||(k=l(w))});let I=!1,k="",H,z,E=!1;function _(ne){d(t.id,{[b]:ne}),D("raw-json-label-updated")}function N(ne){d(t.id,{data:typeof ne=="string"?ne:String(ne??r)}),D("raw-json-field-updated")}function p(ne){if(ne!=null&&ne.shiftKey)return;const fe=!!(ne!=null&&ne.metaKey||ne!=null&&ne.ctrlKey),$=f();for(const he of $){const we=he.id===t.id?!0:fe?!!he.selected:!1;he.selected!==we&&h(he.id,{selected:we})}if(fe)return;const le=g();for(const he of le)he.selected&&v(he.id,{selected:!1})}async function T(){I=!0,k=l(w),await ct(),H==null||H.focus(),H==null||H.select()}function S(ne=!1){I&&(_(k),I=!1,ne&&(Gr(H)||H==null||H.blur()))}function M(){I&&(I=!1,k=l(w))}function V(ne){if(Ur(ne)){ne.preventDefault(),S(!0);return}ne.key==="Escape"&&(ne.preventDefault(),M(),H==null||H.blur())}function K(){S(!1)}function X(ne){(ne.key==="Enter"||ne.key===" ")&&(ne.preventDefault(),T())}function G(){z==null||z.startEditing(!1)}function U(ne){var fe;p((fe=ne.detail)==null?void 0:fe.originalEvent)}function Z(ne){d(t.id,{comment:typeof ne=="string"?ne:String(ne??"")}),D("raw-json-comment-updated")}function D(ne){typeof window>"u"||typeof window.dispatchEvent!="function"||window.dispatchEvent(new CustomEvent(Gb,{detail:{nodeId:t.id,reason:ne}}))}function C(ne){if(ne!=null)return Number(ne)}var B=jw(),Y=ae(B);Ze(Y,"background-color: var(--vscode-focusBorder);");var j=ge(Y,2),Q=ae(j),re=ae(Q);{var ie=ne=>{var fe=Ww();fe.__input=$=>k=$.currentTarget.value,fe.__keydown=V,lt(fe,$=>H=$,()=>H),be(()=>Ot(fe,k)),We("blur",fe,K),te(ne,fe)},pe=ne=>{var fe=Xw();fe.__pointerdown=p;var $=ae(fe);$.__dblclick=T,$.__keydown=X;var le=ae($);{var he=Fe=>{var dt=Yw(),St=ae(dt);be(()=>Ye(St,l(O))),te(Fe,dt)};De(le,Fe=>{l(O)!==void 0&&Fe(he)})}var we=ge(le,2),Re=ae(we),ze=ge($,2);ze.__click=T;var Be=ae(ze);bl(Be,{strokeWidth:2.5,"aria-hidden":"true"});var $e=ge(ze,2);$e.__click=G;var gt=ae($e);vf(gt,{strokeWidth:2.25,"aria-hidden":"true"}),be(()=>{Ye(Re,l(w)),ye($e,"aria-expanded",E),ye($e,"aria-controls",l(m))}),te(ne,fe)};De(re,ne=>{I?ne(ie):ne(pe,!1)})}var me=ge(Q,2);lt(yf(me,{get id(){return l(m)},get value(){return l(P)},get isVisible(){return E},set isVisible(ne){E=ne},$$events:{change:ne=>Z(ne.detail.value),select:U}}),ne=>z=ne,()=>z);var xe=ge(j,2),Se=ae(xe);Va(Se,{type:"target",side:"left",get id(){return af},top:a,width:s,label:"Input",showTooltip:!0,color:o});var oe=ge(Se,2);mf(oe,Xt(()=>n,{get value(){return l(A)},onchange:N})),be(()=>Ze(B,`min-width: 288px; outline: ${u()&&!c()?"2px solid var(--vscode-focusBorder)":"none"};`)),te(e,B),ke()}mt(["input","keydown","pointerdown","dblclick","click"]);var Uw=de('<span aria-hidden="true" class="mx-0.5 h-5 w-px bg-vsc-editor-widget-border"></span>'),qw=de('<button type="button" class="flex h-8 w-8 items-center justify-center rounded-md border border-transparent text-vsc-muted transition-colors hover:border-vsc-editor-widget-border hover:bg-vsc-list-hover hover:text-vsc-editor-fg focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-vsc-focus"><!></button>'),Zw=de('<nav aria-label="Node editor quick actions" class="flex items-center gap-1 rounded-xl border border-vsc-editor-widget-border bg-vsc-editor-widget-bg px-2 py-0.5 shadow-2xl"></nav>');function Qw(e,t){Ne(t,!1);const n=xs(),i=[{id:st.GO_TO_ROOT,icon:U_},{id:st.FIT_FULL_VIEW,icon:q_},{key:"separator-navigation",separator:!0},{id:st.SEARCH_NODES,icon:pf},{id:st.AUTO_POSITION_NODES,icon:Q_},{key:"separator-utility",separator:!0},{id:st.VIEW_RAW_JSON,icon:Z_},{id:st.HELP_AND_HOTKEYS,icon:gf}].map(a=>a.separator?a:{...a,action:yl(a.id)}).filter(a=>a.separator===!0||!!(a!=null&&a.action));function o(a){a!=null&&a.eventName&&n(a.eventName)}function s(a){return(a==null?void 0:a.id)===st.AUTO_POSITION_NODES?"-rotate-90":void 0}zn(),pl(e,{position:"top-center",class:"pointer-events-auto",children:(a,u)=>{var c=Zw();it(c,5,()=>i,d=>d.key??d.id,(d,h)=>{var f=tt(),g=Ae(f);{var v=y=>{var w=Uw();te(y,w)},b=y=>{bf(y,{get text(){return l(h).action.name},placement:"bottom",delayMs:220,children:(w,x)=>{var O=qw();O.__click=()=>o(l(h).action);var m=ae(O);{let P=vo(()=>s(l(h)));_s(m,()=>l(h).icon,(A,I)=>{I(A,{get class(){return l(P)},size:16,strokeWidth:2})})}be(()=>ye(O,"aria-label",l(h).action.name)),te(w,O)},$$slots:{default:!0}})};De(g,y=>{l(h).separator?y(v):y(b,!1)})}te(d,f)}),te(a,c)},$$slots:{default:!0}}),ke()}mt(["click"]);function Jw(e,t){var i;const n=Array.isArray(e)?e:[],r=((i=ex(t))==null?void 0:i.toLowerCase())??"";return r?n.map(o=>({...o,items:(Array.isArray(o==null?void 0:o.items)?o.items:[]).filter(s=>(typeof(s==null?void 0:s.searchValue)=="string"?s.searchValue:"").includes(r))})).filter(o=>o.items.length>0):n.map($w)}function $w(e){return{...e,items:Array.isArray(e==null?void 0:e.items)?[...e.items]:[]}}function ex(e){return typeof e=="string"&&e.trim()?e.trim():void 0}var tx=de('<div class="px-1 py-4 text-xs text-vsc-muted">No matching nodes</div>'),nx=de('<button data-node-search-item="true" role="option" type="button"><span aria-hidden="true" class="h-3 w-3 shrink-0 rounded-full border border-vsc-editor-widget-border"></span> <span class="min-w-0 flex-1"><span class="block truncate text-xs font-semibold"> </span></span></button>'),rx=de('<div class="flex flex-col gap-1.5"><div class="flex items-center gap-2 px-1 text-[0.65rem] font-semibold uppercase tracking-[0.1em] text-vsc-muted"><span class="truncate"> </span> <span class="h-px flex-1 bg-vsc-editor-widget-border"></span></div> <!></div>'),ix=de('<div data-node-search-menu="true" role="dialog" aria-label="Search nodes" tabindex="-1" class="mt-2 ml-2 w-[30rem] max-w-[92vw] max-h-[72vh] overflow-hidden rounded-xl border border-vsc-editor-widget-border bg-vsc-editor-widget-bg p-3 text-vsc-editor-fg shadow-2xl"><div class="relative"><!> <input class="w-full rounded-md border border-vsc-input-border bg-vsc-input-bg pr-2 py-1.5 pl-9 text-xs text-vsc-input-fg focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-vsc-focus" type="search" placeholder="Type a node name or group"/></div> <div class="relative mt-3 flex max-h-[calc(72vh-4.75rem)] flex-col gap-3 overflow-auto pr-0.5" role="listbox"><!></div></div>');function ox(e,t){Ne(t,!1);const n=Ee(),r=Ee(),i=Ee(),o=Ee();let s=ee(t,"open",8,!1),a=ee(t,"openVersion",8,0),u=ee(t,"groups",24,()=>[]);const c=xs();let d=Ee(""),h=Ee(),f=Ee(),g=Ee(),v=Ee(0),b=Ee(!1),y=Ee(""),w=Ee(-1),x=Ee(void 0);function O(M){let V=0;return M.map(K=>({id:K==null?void 0:K.id,label:K==null?void 0:K.label,items:(Array.isArray(K==null?void 0:K.items)?K.items:[]).map(X=>({entry:X,flatIndex:V++}))}))}function m(){var Z,D;const M=(D=(Z=l(g))==null?void 0:Z.querySelectorAll)==null?void 0:D.call(Z,'[data-node-search-item="true"]'),V=M==null?void 0:M[l(v)];if(!l(g)||!V)return;const K=V.offsetTop,X=K+V.offsetHeight,G=l(g).scrollTop,U=G+l(g).clientHeight;if(K<G){Uo(g,l(g).scrollTop=K);return}X>U&&Uo(g,l(g).scrollTop=X-l(g).clientHeight)}function P(M){return l(v)===M}function A(M){return l(b)&&P(M)}function I(M){return!l(b)&&l(o).length>1&&P(M)}function k(M){M<0||M>=l(o).length||(W(v,M),W(b,!0))}function H(M){const V=N(M==null?void 0:M.nodeId);V&&c("select",{nodeId:V})}function z(){c("close")}function E(M){if(s()){if(M.key==="Escape"){M.preventDefault(),M.stopPropagation(),z();return}if(l(o).length!==0){if(M.key==="ArrowDown"||M.key==="ArrowUp"){if(M.preventDefault(),M.stopPropagation(),!l(b)&&l(o).length>1){W(b,!0),ct().then(()=>m());return}const V=M.key==="ArrowDown"?1:-1;W(v,(l(v)+V+l(o).length)%l(o).length),W(b,!0),ct().then(()=>m());return}M.key==="Enter"&&(M.preventDefault(),M.stopPropagation(),H(l(o)[l(v)]??l(o)[0]))}}}function _(M){return N(M==null?void 0:M.color)??"var(--vscode-descriptionForeground)"}function N(M){return typeof M=="string"?M:void 0}Te(()=>Ke(u()),()=>{W(n,Array.isArray(u())?u():[])}),Te(()=>(Ke(s()),Ke(a()),l(w),l(h)),()=>{s()&&a()!==l(w)&&(W(d,""),W(v,0),W(b,!1),W(w,a()),W(x,void 0),ct().then(()=>{var M;return(M=l(h))==null?void 0:M.focus()}))}),Te(()=>(l(n),l(d)),()=>{W(r,Jw(l(n),l(d)))}),Te(()=>l(r),()=>{W(i,O(l(r)))}),Te(()=>l(i),()=>{W(o,l(i).flatMap(M=>M.items.map(V=>V.entry)))}),Te(()=>(l(d),l(y)),()=>{l(d)!==l(y)&&(W(y,l(d)),W(v,0),W(b,!1),W(x,void 0))}),Te(()=>(l(v),l(o)),()=>{l(v)>=l(o).length&&W(v,Math.max(0,l(o).length-1))}),Te(()=>l(o),()=>{l(o).length===0&&(W(v,0),W(b,!1),W(x,void 0))}),Te(()=>(l(o),Ke(s())),()=>{l(o).length===1&&s()&&W(b,!0)}),Te(()=>(Ke(s()),l(o),l(v),ct),()=>{s()&&l(o).length>0&&l(v)>=0&&ct().then(()=>{m()})}),Te(()=>(Ke(s()),l(b),l(o),l(v),l(x)),()=>{if(s()&&l(b)&&l(o).length>0){const M=l(o)[l(v)]??l(o)[0],V=N(M==null?void 0:M.nodeId);V&&V!==l(x)&&(W(x,V),c("preview",{nodeId:V}))}}),Te(()=>Ke(s()),()=>{s()||W(x,void 0)}),Br(),zn();var p=tt(),T=Ae(p);{var S=M=>{pl(M,{position:"top-left",class:"pointer-events-auto",children:(V,K)=>{var X=ix();X.__keydown=E;var G=ae(X),U=ae(G);pf(U,{"aria-hidden":"true",size:14,strokeWidth:2,class:"pointer-events-none absolute top-1/2 left-3 -translate-y-1/2 text-vsc-muted"});var Z=ge(U,2);Z.__keydown=E,lt(Z,j=>W(h,j),()=>l(h));var D=ge(G,2),C=ae(D);{var B=j=>{var Q=tx();te(j,Q)},Y=j=>{var Q=tt(),re=Ae(Q);it(re,1,()=>l(i),Lt,(ie,pe)=>{var me=rx(),xe=ae(me),Se=ae(xe),oe=ae(Se),ne=ge(xe,2);it(ne,1,()=>(l(pe),Ve(()=>l(pe).items)),fe=>fe.flatIndex,(fe,$)=>{var le=nx();let he;le.__click=()=>H(l($).entry);var we=ae(le),Re=ge(we,2),ze=ae(Re),Be=ae(ze);be(($e,gt,Fe,dt)=>{ye(le,"data-active",$e),ye(le,"aria-selected",gt),he=Ct(le,1,"group flex w-full cursor-pointer items-center gap-2 overflow-hidden rounded-lg border border-vsc-editor-widget-border bg-vsc-button-secondary-bg px-2 py-1.5 text-left text-vsc-button-secondary-fg transition-[border-color,background-color,color]",null,he,Fe),Ze(we,`background-color: ${dt??""};`),Ye(Be,(l($),Ve(()=>l($).entry.label)))},[()=>(l($),Ve(()=>P(l($).flatIndex))),()=>(l($),Ve(()=>A(l($).flatIndex))),()=>({"border-vsc-focus":I(l($).flatIndex)||A(l($).flatIndex),"bg-vsc-list-active-bg":A(l($).flatIndex),"text-vsc-list-active-fg":A(l($).flatIndex)}),()=>(l($),Ve(()=>_(l($).entry)))]),We("mouseenter",le,()=>k(l($).flatIndex)),te(fe,le)}),be(()=>Ye(oe,(l(pe),Ve(()=>l(pe).label)))),te(ie,me)}),te(j,Q)};De(C,j=>{l(i),Ve(()=>l(i).length===0)?j(B):j(Y,!1)})}lt(D,j=>W(g,j),()=>l(g)),lt(X,j=>W(f,j),()=>l(f)),Qc(Z,()=>l(d),j=>W(d,j)),te(V,X)},$$slots:{default:!0}})};De(T,M=>{s()&&M(S)})}te(e,p),ke()}mt(["keydown","click"]);var sx=de('<div class="text-xs text-vsc-muted">No matching node types</div>'),ax=de('<button data-add-node-menu-item="true" role="option" type="button"><span aria-hidden="true" class="relative h-8 w-2.5"></span> <span class="flex-1 min-w-0"><span class="block text-xs font-semibold truncate"> </span></span></button>'),lx=de('<div class="flex flex-col gap-1.5"><div class="flex items-center gap-2 px-1 text-[0.65rem] font-semibold uppercase tracking-widest text-vsc-muted"><span> </span> <span class="flex-1 h-px bg-vsc-editor-widget-border"></span></div> <!></div>'),ux=de('<div data-add-node-menu="true" role="dialog" aria-label="Add node menu" tabindex="-1" class="absolute z-3001 w-64 max-h-[70vh] translate-x-2 translate-y-2 overflow-hidden rounded-lg border border-vsc-editor-widget-border bg-vsc-editor-widget-bg p-2.5 text-vsc-editor-fg shadow-2xl"><input class="w-full rounded-md border border-vsc-input-border bg-vsc-input-bg px-2 py-1.5 text-xs text-vsc-input-fg" type="search" placeholder="Search nodes..."/> <div class="relative mt-2 flex max-h-[calc(70vh-3.5rem)] flex-col gap-2 overflow-auto pr-0.5" role="listbox"><!></div></div>');function cx(e,t){Ne(t,!0);let n=ee(t,"open",3,!1),r=ee(t,"openVersion",3,0),i=ee(t,"position",19,()=>({x:0,y:0})),o=Ie(""),s=Ie(void 0),a=Ie(void 0),u=Ie(void 0),c=0,d="",h=-1,f=F(()=>Et.context?Object.values(Et.context.nodeTemplatesById):[]),g=F(()=>l(f).filter(I=>`${I.defaultTitle} ${I.category??""}`.toLowerCase().includes(l(o).trim().toLowerCase())).map((I,k)=>({flatIndex:k,template:I}))),v=F(()=>l(g).reduce((I,k)=>{const H=k.template.category??"Uncategorized";return{...I,[H]:[...I[H]??[],k]}},{}));et(()=>{n()&&r()!==h&&(W(o,""),c=0,h=r(),ct().then(()=>{var I;return(I=l(s))==null?void 0:I.focus()}))}),et(()=>{l(o)!==d&&(d=l(o),c=0)}),et(()=>{c>=l(g).length&&(c=Math.max(0,l(g).length-1))}),et(()=>{n()&&l(g).length>0&&c>=0&&ct().then(()=>{y()})});function b(I){if(n()){if(I.key==="Escape"){I.preventDefault(),I.stopPropagation(),t.onclose();return}if(l(g).length!==0){if(I.key==="ArrowDown"){I.preventDefault(),I.stopPropagation(),c=(c+1)%l(g).length,ct().then(()=>y());return}if(I.key==="ArrowUp"){I.preventDefault(),I.stopPropagation(),c=(c-1+l(g).length)%l(g).length,ct().then(()=>y());return}I.key==="Enter"&&(I.preventDefault(),I.stopPropagation(),t.onselect(l(g)[c]??l(g)[0]))}}}function y(){var H,z;const I=(z=(H=l(u))==null?void 0:H.querySelectorAll)==null?void 0:z.call(H,'[data-add-node-menu-item="true"]'),k=I==null?void 0:I[c];l(u)}function w(I){return c===I}function x(I){I>=0&&I<l(g).length&&(c=I)}function O(I){return typeof(I==null?void 0:I.nodeColor)=="string"&&I.nodeColor.trim()?I.nodeColor.trim():us()}var m=tt(),P=Ae(m);{var A=I=>{var k=ux();k.__keydown=b;let H;var z=ae(k);z.__keydown=b,lt(z,S=>W(s,S),()=>l(s));var E=ge(z,2),_=ae(E);{var N=S=>{var M=sx();te(S,M)},p=F(()=>Object.keys(l(v)).length===0),T=S=>{var M=tt(),V=Ae(M);it(V,17,()=>Object.entries(l(v)),Lt,(K,X)=>{var G=F(()=>vr(l(X),2));let U=()=>l(G)[0],Z=()=>l(G)[1];var D=lx(),C=ae(D),B=ae(C),Y=ae(B),j=ge(C,2);it(j,17,Z,Q=>Q.template.defaultTitle,(Q,re)=>{var ie=ax();let pe;ie.__click=()=>t.onselect(l(re).template);var me=ae(ie),xe=ge(me,2),Se=ae(xe),oe=ae(Se);be((ne,fe,$,le)=>{pe=Ct(ie,1,"group flex w-full cursor-pointer items-center gap-2 rounded-lg border border-vsc-editor-widget-border bg-vsc-button-secondary-bg text-left text-vsc-button-secondary-fg transition-[border-color,background-color,color] overflow-clip",null,pe,ne),ye(ie,"data-active",fe),ye(ie,"aria-selected",$),Ze(me,`background-color: ${le??""};`),Ye(oe,l(re).template.defaultTitle)},[()=>({"border-vsc-focus":w(l(re).flatIndex),"bg-vsc-list-active-bg":w(l(re).flatIndex),"text-vsc-list-active-fg":w(l(re).flatIndex)}),()=>w(l(re).flatIndex),()=>w(l(re).flatIndex),()=>O(l(re).template)]),We("mouseenter",ie,()=>x(l(re).flatIndex)),te(Q,ie)}),be(()=>Ye(Y,U())),te(K,D)}),te(S,M)};De(_,S=>{l(p)?S(N):S(T,!1)})}lt(E,S=>W(u,S),()=>l(u)),lt(k,S=>W(a,S),()=>l(a)),be(()=>H=Ze(k,"",H,{left:`${i().x}px`,top:`${i().y}px`})),Qc(z,()=>l(o),S=>W(o,S)),te(I,k)};De(P,I=>{n()&&I(A)})}te(e,m),ke()}mt(["keydown","click"]);var dx=de('<span class="text-[0.65rem] text-vsc-muted">+</span>'),fx=de('<kbd class="rounded border border-vsc-editor-widget-border bg-vsc-input-bg px-1.5 py-0 text-[0.65rem] leading-4 text-vsc-input-fg"> </kbd> <!>',1),hx=de('<span class="px-1 text-[0.65rem] text-vsc-muted">or</span>'),gx=de('<span class="inline-flex items-center gap-1"></span> <!>',1),vx=de('<div class="flex items-center justify-between gap-3"><span class="text-xs"> </span> <div class="flex flex-wrap items-center gap-1"></div></div>'),px=de('<span class="text-[0.65rem] text-vsc-muted">+</span>'),mx=de('<kbd class="rounded border border-vsc-editor-widget-border bg-vsc-input-bg px-1.5 py-0 text-[0.65rem] leading-4 text-vsc-input-fg"> </kbd> <!>',1),yx=de('<span class="px-1 text-[0.65rem] text-vsc-muted">or</span>'),bx=de('<span class="inline-flex items-center gap-1"></span> <!>',1),_x=de('<div class="flex items-center justify-between gap-3"><span class="text-xs"> </span> <div class="flex flex-wrap items-center gap-1"></div></div>'),wx=de('<span class="text-[0.65rem] text-vsc-muted">+</span>'),xx=de('<kbd class="rounded border border-vsc-editor-widget-border bg-vsc-input-bg px-1.5 py-0 text-[0.65rem] leading-4 text-vsc-input-fg"> </kbd> <!>',1),Ex=de('<span class="px-1 text-[0.65rem] text-vsc-muted">or</span>'),Nx=de('<span class="inline-flex items-center gap-1"></span> <!>',1),kx=de('<div class="flex items-center justify-between gap-3"><span class="text-xs"> </span> <div class="flex flex-wrap items-center gap-1"></div></div>'),Ix=de('<div data-node-help-overlay="true" class="absolute inset-0 z-50 flex items-center justify-center bg-black/15 p-4"><button type="button" aria-label="Close help" class="absolute inset-0 border-0 bg-transparent p-0"></button> <div role="dialog" aria-modal="true" aria-label="Default Keybinds" tabindex="-1" class="relative w-[30rem] max-h-[72vh] max-w-[96vw] overflow-auto rounded-xl border border-vsc-editor-widget-border bg-vsc-editor-widget-bg p-3 text-vsc-editor-fg shadow-2xl outline-none focus:outline-none focus-visible:outline-none"><div class="mb-3 flex items-center justify-between gap-2"><div class="flex items-center gap-2"><!> <h2 class="text-sm font-semibold">Default Keybinds</h2></div> <button type="button" class="inline-flex items-center gap-2 rounded-md border border-vsc-input-border bg-vsc-button-secondary-bg px-2 py-1 text-[0.7rem] font-medium text-vsc-button-secondary-fg hover:bg-vsc-button-secondary-hover focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-vsc-focus">Close</button></div> <div class="flex flex-col gap-4"><section class="rounded-lg border border-vsc-editor-widget-border bg-vsc-button-secondary-bg p-2.5"><h3 class="mb-2 text-[0.65rem] font-semibold uppercase tracking-[0.1em] text-vsc-muted">Editing</h3> <div class="grid gap-2"></div></section> <section class="rounded-lg border border-vsc-editor-widget-border bg-vsc-button-secondary-bg p-2.5"><h3 class="mb-2 text-[0.65rem] font-semibold uppercase tracking-[0.1em] text-vsc-muted">Navigation</h3> <div class="grid gap-2"></div></section> <section class="rounded-lg border border-vsc-editor-widget-border bg-vsc-button-secondary-bg p-2.5"><h3 class="mb-2 text-[0.65rem] font-semibold uppercase tracking-[0.1em] text-vsc-muted">Actions</h3> <div class="grid gap-2"></div></section></div> <div class="mt-3 flex flex-wrap items-center justify-between gap-2 border-t border-vsc-editor-widget-border pt-2"><p class="text-[0.65rem] text-vsc-muted">Keybinds can be customized in VSCode settings</p> <button type="button" class="inline-flex items-center rounded-md border border-vsc-input-border bg-vsc-button-secondary-bg px-2 py-1 text-[0.7rem] font-medium text-vsc-button-secondary-fg hover:bg-vsc-button-secondary-hover focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-vsc-focus">Customize</button></div></div></div>');function Sx(e,t){Ne(t,!1);const n=Ee(),r=Ee(),i=Ee();let o=ee(t,"open",8,!1),s=ee(t,"openVersion",8,0);const a=xs(),u=[st.SEARCH_NODES,st.FIT_FULL_VIEW,st.AUTO_POSITION_NODES,st.HELP_AND_HOTKEYS],c={label:"Add node",combos:[["Right click"]]},d=[{label:"Pan canvas",combos:[["Shift","Scroll"]]},{label:"Box select",combos:[["Shift","Drag"]]}],h=[{label:"Undo",combos:[["Cmd","Z"]]},{label:"Redo",combos:[["Shift","Cmd","Z"]]},{label:"Copy",combos:[["Cmd","C"]]},{label:"Cut",combos:[["Cmd","X"]]},{label:"Paste",combos:[["Cmd","V"]]}],f=[{label:"Undo",combos:[["Ctrl","Z"]]},{label:"Redo",combos:[["Ctrl","Y"],["Ctrl","Shift","Z"]]},{label:"Copy",combos:[["Ctrl","C"]]},{label:"Cut",combos:[["Ctrl","X"]]},{label:"Paste",combos:[["Ctrl","V"]]}];let g=Ee(),v=Ee(-1);function b(){a("close")}function y(){b()}function w(){a("customizekeybinds")}function x(z){const E=new Map(Ps.map(_=>[_.id,_]));return u.map(_=>E.get(_)).filter(Boolean).map(_=>({label:_.name,combos:[O(_,z)].filter(N=>Array.isArray(N)&&N.length>0)})).filter(_=>_.combos.length>0)}function O(z,E){const _=z==null?void 0:z.defaultKeybinding;if(!_)return[];const N=E==="mac"?_.mac:E==="linux"?_.linux:_.win;return m(N)}function m(z){const E=A(z);return E?E.split("+").map(_=>A(_)).filter(Boolean):[]}function P(){var _,N,p;const E=(A((N=(_=globalThis==null?void 0:globalThis.navigator)==null?void 0:_.userAgentData)==null?void 0:N.platform)??A((p=globalThis==null?void 0:globalThis.navigator)==null?void 0:p.platform)??"").toLowerCase();return E.includes("mac")?"mac":E.includes("linux")?"linux":"win"}function A(z){return typeof z=="string"?z:void 0}Te(()=>{},()=>{W(n,P())}),Te(()=>l(n),()=>{W(r,[c,...x(l(n))])}),Te(()=>l(n),()=>{W(i,l(n)==="mac"?h:f)}),Te(()=>(Ke(o()),Ke(s()),l(v),l(g)),()=>{o()&&s()!==l(v)&&(W(v,s()),ct().then(()=>{var z;return(z=l(g))==null?void 0:z.focus()}))}),Br(),zn();var I=tt(),k=Ae(I);{var H=z=>{var E=Ix(),_=ae(E);_.__pointerdown=y;var N=ge(_,2);N.__pointerdown=Y=>Y.stopPropagation();var p=ae(N),T=ae(p),S=ae(T);gf(S,{"aria-hidden":"true",size:15,strokeWidth:2,class:"text-vsc-muted"});var M=ge(T,2);M.__click=b;var V=ge(p,2),K=ae(V),X=ge(ae(K),2);it(X,5,()=>l(i),Lt,(Y,j)=>{var Q=vx(),re=ae(Q),ie=ae(re),pe=ge(re,2);it(pe,5,()=>(l(j),Ve(()=>l(j).combos)),Lt,(me,xe,Se)=>{var oe=gx(),ne=Ae(oe);it(ne,5,()=>l(xe),Lt,(le,he,we)=>{var Re=fx(),ze=Ae(Re),Be=ae(ze),$e=ge(ze,2);{var gt=Fe=>{var dt=dx();te(Fe,dt)};De($e,Fe=>{l(xe),Ve(()=>we<l(xe).length-1)&&Fe(gt)})}be(()=>Ye(Be,l(he))),te(le,Re)});var fe=ge(ne,2);{var $=le=>{var he=hx();te(le,he)};De(fe,le=>{l(j),Ve(()=>Se<l(j).combos.length-1)&&le($)})}te(me,oe)}),be(()=>Ye(ie,(l(j),Ve(()=>l(j).label)))),te(Y,Q)});var G=ge(K,2),U=ge(ae(G),2);it(U,5,()=>d,Lt,(Y,j)=>{var Q=_x(),re=ae(Q),ie=ae(re),pe=ge(re,2);it(pe,5,()=>(l(j),Ve(()=>l(j).combos)),Lt,(me,xe,Se)=>{var oe=bx(),ne=Ae(oe);it(ne,5,()=>l(xe),Lt,(le,he,we)=>{var Re=mx(),ze=Ae(Re),Be=ae(ze),$e=ge(ze,2);{var gt=Fe=>{var dt=px();te(Fe,dt)};De($e,Fe=>{l(xe),Ve(()=>we<l(xe).length-1)&&Fe(gt)})}be(()=>Ye(Be,l(he))),te(le,Re)});var fe=ge(ne,2);{var $=le=>{var he=yx();te(le,he)};De(fe,le=>{l(j),Ve(()=>Se<l(j).combos.length-1)&&le($)})}te(me,oe)}),be(()=>Ye(ie,(l(j),Ve(()=>l(j).label)))),te(Y,Q)});var Z=ge(G,2),D=ge(ae(Z),2);it(D,5,()=>l(r),Lt,(Y,j)=>{var Q=kx(),re=ae(Q),ie=ae(re),pe=ge(re,2);it(pe,5,()=>(l(j),Ve(()=>l(j).combos)),Lt,(me,xe,Se)=>{var oe=Nx(),ne=Ae(oe);it(ne,5,()=>l(xe),Lt,(le,he,we)=>{var Re=xx(),ze=Ae(Re),Be=ae(ze),$e=ge(ze,2);{var gt=Fe=>{var dt=wx();te(Fe,dt)};De($e,Fe=>{l(xe),Ve(()=>we<l(xe).length-1)&&Fe(gt)})}be(()=>Ye(Be,l(he))),te(le,Re)});var fe=ge(ne,2);{var $=le=>{var he=Ex();te(le,he)};De(fe,le=>{l(j),Ve(()=>Se<l(j).combos.length-1)&&le($)})}te(me,oe)}),be(()=>Ye(ie,(l(j),Ve(()=>l(j).label)))),te(Y,Q)});var C=ge(V,2),B=ge(ae(C),2);B.__click=w,lt(N,Y=>W(g,Y),()=>l(g)),te(z,E)};De(k,z=>{o()&&z(H)})}te(e,I),ke()}mt(["pointerdown","click"]);var Tx=de("<!> <!> <!>",1),Ox=de('<div class="relative w-full h-full overflow-hidden"><!> <!> <!></div>');function Cx(e,t){Ne(t,!0);let n=ee(t,"nodes",31,()=>fn([])),r=ee(t,"edges",31,()=>fn([])),i=ee(t,"loadVersion",3,0),o=ee(t,"quickActionRequest",3,void 0),s=ee(t,"revealNodeId",3,void 0),a=ee(t,"revealNodeRequestVersion",3,0);const u="Node-00000000-0000-0000-0000-000000000000",c=520,d=320,h="Group",f=`{

}`,g=6500,v=0,b=100,y=.9,w=-1e4,x=180,O=120,m={[Du]:Y_,[Da]:zw,[ra]:Hw,[Pu]:Bw,[Ra]:Gw},{fitView:P,screenToFlowPosition:A,setCenter:I,setViewport:k}=jr();let H=-1,z,E=!1,_=0,N={x:0,y:0},p={x:0,y:0},T,S=!1,M=!1,V,K=!1,X=0,G,U,Z=!1,D=0,C=[],B=-1,Y,j=-1;et(()=>{i()!==H&&(H=i(),er())}),et(()=>{a()!==j&&(j=a(),i()>0&&Pt(s()))}),et(()=>{var L,J;Number.isInteger((L=o())==null?void 0:L.token)&&o().token!==B&&(B=o().token,Qr()||me((J=o())==null?void 0:J.actionId))}),et(()=>{!S&&i()>0&&wf()});function Q(L){t.onflowchange(L,n(),r())}const re=L=>{r(Hi(L,br(r(),L))),er(),Q("edge-created")};function ie(){Q("node-moved")}function pe(L){const J=P_(L==null?void 0:L.type);J&&me(J.id)}function me(L){const J=yl(L);if(J)switch(J.id){case st.GO_TO_ROOT:Se();return;case st.FIT_FULL_VIEW:xe();return;case st.SEARCH_NODES:oe();return;case st.AUTO_POSITION_NODES:ne();return;case st.VIEW_RAW_JSON:fe();return;case st.HELP_AND_HOTKEYS:$();return;default:return}}function xe(){P({padding:.2,minZoom:v,duration:250})}function Se(){const L=Vn(Et.state.rootNodeId),J=L.position.x+L.width,ue=L.position.y+L.height/2;I(J,ue,{zoom:1.2,duration:250})}function oe(){dt()}function ne(){const L=Ef(),J=n().map(ot=>ot.id),ue=O_({seedNodeIds:L,edges:r(),allowedNodeIds:J});if(ue.length===0){console.info("[node-editor] Quick action could not resolve nodes for auto-layout.");return}const ve=new Set(ue),_e=new Map,Pe=new Map;for(const ot of ue){const wn=Vn(ot);if(!wn)continue;const Ut=So(wn);Ut&&(_e.set(ot,wn),Pe.set(ot,Ut))}if(_e.size===0||Pe.size===0)return;const Je=T_(Array.from(Pe.values())),yt=r().filter(ot=>ot.source&&ot.target&&ve.has(ot.source)&&ve.has(ot.target)),Fs=Array.from(_e.entries()).map(([ot,wn])=>{const Ut=xl(wn);return{id:ot,width:Ut==null?void 0:Ut.width,height:Ut==null?void 0:Ut.height}}),Mi=C_({nodes:Fs,edges:yt,spacing:{marginX:0,marginY:0},origin:Je});let To=!1;n(n().map(ot=>{const wn=ot.id;if(!wn||!ve.has(wn))return ot;const Ut=Mi.get(wn);if(!Ut)return ot;const Hs=Nf(ot,Ut);if(!Hs)return ot;const Tl=Ai(ot);return!Tl||kf(Tl,Hs)?(To=!0,{...ot,position:Hs}):ot})),To&&Q("auto-layout-applied")}function fe(){t.onviewrawjson()}function $(){if(Z){Mt();return}_n()}function le(L){if(he(L)){if(Qr(L==null?void 0:L.target))return;L.preventDefault(),L.stopPropagation(),we();return}!Z||(L==null?void 0:L.key)!=="Escape"||(L.preventDefault(),L.stopPropagation(),Mt())}function he(L){var ve;return((ve=L==null?void 0:L.key)==null?void 0:ve.toLowerCase())!=="d"||!!!(L!=null&&L.metaKey||L!=null&&L.ctrlKey)?!1:(L==null?void 0:L.altKey)!==!0&&(L==null?void 0:L.shiftKey)!==!0}function we(){const L=n().filter(J=>J.selected);console.log(Et.context),console.log(Et.state);for(const J of L)console.log(J)}function Re(L){!Af(L)||Qr(L==null?void 0:L.target)||queueMicrotask(()=>Q("elements-deleted"))}function ze(L){Qr(L==null?void 0:L.target)||(L.preventDefault(),L.stopPropagation())}function Be(L){Qr(L==null?void 0:L.target)||(er(),Q("nodes-cut"),L.preventDefault(),L.stopPropagation())}function $e(L){Qr(L==null?void 0:L.target)||!_f()||(Q("nodes-pasted"),L.preventDefault(),L.stopPropagation())}function gt(L){q(L)}function Fe(){E=!1,T=void 0,wl()}function dt(){Fe(),Mt(),U=void 0,K=!0,X+=1}function St({restoreViewport:L=!1}={}){if(!K)return;const J=G;K=!1,G=void 0,U=void 0,L&&k(J,{duration:250})}function bn(){St({restoreViewport:!0})}function _n(){Fe(),St({restoreViewport:!1}),Z=!0,D+=1}function Mt(){Z&&(Z=!1)}function ce(){Mt()}function Oe(){Mt(),t.oncustomizekeybinds()}function je(L){var ue;const J=(ue=L==null?void 0:L.detail)==null?void 0:ue.nodeId;!J||J===U||(U=J,qe(J))}function rt(L){var ve;const J=(ve=L==null?void 0:L.detail)==null?void 0:ve.nodeId;if(!J)return;U=J,qe(J);const ue=ft(J);St({restoreViewport:!1}),ue&&Q("node-search-selected")}function qe(L){const J=Vn(L),ue=So(J);if(!ue)return!1;const ve=xl(J),_e=ue.x+((ve==null?void 0:ve.width)??0)/2,Pe=ue.y+((ve==null?void 0:ve.height)??0)/2;return I(_e,Pe,{zoom:y,duration:b}),!0}function ft(L){if(!L)return!1;let J=!1;return n(n().map(ue=>{const _e=ue.id===L;return!!ue.selected===_e?ue:(J=!0,{...ue,selected:_e})})),r(r().map(ue=>ue.selected!==!0?ue:(J=!0,{...ue,selected:!1}))),J}async function Pt(L){if(!L)return;if(await ct(),qe(L),ft(L)){Q("document-selection-revealed");return}}function Dt(L){return typeof(L==null?void 0:L.composedPath)!="function"?!1:L.composedPath().some(J=>typeof(J==null?void 0:J.getAttribute)!="function"?!1:J.getAttribute("data-add-node-menu")==="true")}function qr(L){return typeof(L==null?void 0:L.composedPath)!="function"?!1:L.composedPath().some(J=>typeof(J==null?void 0:J.getAttribute)!="function"?!1:J.getAttribute("data-node-search-menu")==="true")}function q(L){if(!Tt(L))return;const{clientX:J,clientY:ue}=L;Y={x:J,y:ue}}function Tt(L){return z?typeof(L==null?void 0:L.composedPath)=="function"?L.composedPath().includes(z):!(L!=null&&L.target)||typeof z.contains!="function"?!1:z.contains(L.target):!1}function an(L){q(L),E&&!Dt(L)&&Fe(),K&&!qr(L)&&St({restoreViewport:!0})}function vt(L,J=void 0,ue=void 0){St({restoreViewport:!1}),Mt();const ve=Ti(L,J,ue);return ve?(N=ve.position,p=ve.nodePosition,T=ve.connection,E=!0,_+=1,!0):!1}function Si(L){const J=L==null?void 0:L.event;J&&(J.preventDefault(),vt(J))}function Ds(L){var Je;const J=L==null?void 0:L.event,ue=L==null?void 0:L.node;if(!J||!ue)return;const ve=(ue==null?void 0:ue.type)===ra,_e=(ue==null?void 0:ue.selected)===!0,Pe=!!(typeof((Je=J==null?void 0:J.target)==null?void 0:Je.closest)=="function"&&J.target.closest(".group-title-drag-handle"));!ve||_e||Pe||(J.preventDefault(),J.stopPropagation(),vt(J))}const Rs=()=>{Fe()};function zs(L,J){const ue=J==null?void 0:J.nodeId,ve=J==null?void 0:J.handleId,_e=J==null?void 0:J.handleType;if(_e&&_e!=="source"){er();return}Oi(ue,ve)}const Ls=(L,J)=>{vt(L,J.fromNode,J.fromHandle)||wl()};function Zr(L){var Pe;const J=(Pe=L==null?void 0:L.detail)==null?void 0:Pe.template;if(!J)return;if(Sf(J)){const Je={id:`Group-${Ci()}`,type:ra,data:{name:h},position:{...p},width:c,height:d,selected:!1,draggable:!1,zIndex:If(c,d)};n([Je,...n()]),Fe(),Q("group-created");return}if(Tf(J)){const Je={id:`Comment-${Ci()}`,type:Du,data:{name:cf,text:df,fontSize:ff},position:{...p},width:R_,height:z_,selected:!1};n([Je,...n()]),Fe(),Q("comment-created");return}if(Of(J)){const Je={id:`Generic-${Ci()}`,type:Ra,data:{data:f},position:{...p},origin:[.5,0]};if(n([...n(),Je]),T){const yt={...T,target:Je.id,targetHandle:af};r(Hi(yt,br(r(),yt))),er()}Fe(),Q("raw-json-node-created");return}if(Cf(J)){const Je={id:`Link-${Ci()}`,type:Pu,data:{},position:{...p},origin:[.5,0]};if(n([...n(),Je]),T){const yt={...T,target:Je.id,targetHandle:Hb};r(Hi(yt,br(r(),yt))),er()}Fe(),Q("link-node-created");return}const ue=J,ve=`${ue}-${Ci()}`,_e={id:ve,type:Da,data:{...ue},position:{...p},origin:[.5,0]};if(n([...n(),_e]),T){const Je={...T,target:ve,targetHandle:ml};r(Hi(Je,br(r(),Je))),er()}Fe(),Q("node-created")}function Ti(L,J,ue){var Je;const{clientX:ve,clientY:_e}=L,Pe=(Je=z==null?void 0:z.getBoundingClientRect)==null?void 0:Je.call(z);if(Pe)return{position:{x:ve-Pe.left,y:_e-Pe.top-60},nodePosition:A({x:ve,y:_e}),connection:{source:J,sourceHandle:ue}}}function br(L,J){const ue=J==null?void 0:J.target;if(!ue)return L;const ve=J==null?void 0:J.targetHandle;return L.filter(_e=>_e.target!==ue?!0:ve?_e.targetHandle!==ve:!1)}function Oi(L,J){if(er(),!L||ko(L,J)!=="single")return;const ve=[],_e=[];for(const Pe of r()){if(Io(Pe,L,J)){_e.push(Pe);continue}ve.push(Pe)}_e.length!==0&&(r(ve),V={sourceNodeId:L,sourceHandleId:J,removedEdges:_e})}function ko(L,J){const ve=Vn(L).data.outputPins,_e=ve==null?void 0:ve.find(Pe=>Pe.schemaKey===J);return(_e==null?void 0:_e.isMap)===!0?"map":(_e==null?void 0:_e.multiple)===!0?"multiple":"single"}function Vn(L){if(L)return n().find(J=>J.id===L)}function Io(L,J,ue){return(L==null?void 0:L.source)!==J?!1:(L==null?void 0:L.sourceHandle)===ue}function wl(){const L=(V==null?void 0:V.removedEdges)??[];if(L.length===0){V=void 0;return}const J=r(),ue=new Set(J.map(_e=>_e.id).filter(Boolean)),ve=[];for(const _e of L){const Pe=_e.id;Pe&&ue.has(Pe)||(Pe&&ue.add(Pe),ve.push(_e))}r([...J,...ve]),V=void 0}function er(){V=void 0}function _f(){var J;if(Number.isFinite(Y==null?void 0:Y.x)&&Number.isFinite(Y==null?void 0:Y.y))return A({x:Y.x,y:Y.y});const L=(J=z==null?void 0:z.getBoundingClientRect)==null?void 0:J.call(z);if(L)return A({x:L.left+L.width/2,y:L.top+L.height/2})}function Ci(){return typeof crypto<"u"&&typeof crypto.randomUUID=="function"?crypto.randomUUID():`${Date.now().toString(16)}${Math.random().toString(16).slice(2)}`}async function wf(){if(S||M)return;M=!0,await ct();const L=xf(n(),Et.state.rootNodeId);L.length>0&&P({nodes:L,padding:.2,minZoom:v,duration:0}),S=!0,M=!1}function xf(L,J){const ue=L;if(ue.length===0)return[];const ve=J??u,_e=ue.find(yt=>yt.id===ve);if(!_e)return[];const Pe=Ai(_e);if(!Pe)return[];const Je=new Set([ve]);for(const yt of ue){const Fs=yt.id,Mi=Ai(yt);if(!Mi)continue;const To=Mi.x-Pe.x,ot=Mi.y-Pe.y;Math.hypot(To,ot)<=g&&Je.add(Fs)}return Array.from(Je,yt=>({id:yt}))}function Ai(L){var ve,_e;const J=(ve=L==null?void 0:L.position)==null?void 0:ve.x,ue=(_e=L==null?void 0:L.position)==null?void 0:_e.y;if(!(!Number.isFinite(J)||!Number.isFinite(ue)))return{x:J,y:ue}}function xl(L){var ve,_e;const J=El(L==null?void 0:L.width,L==null?void 0:L.initialWidth,(ve=L==null?void 0:L.measured)==null?void 0:ve.width),ue=El(L==null?void 0:L.height,L==null?void 0:L.initialHeight,(_e=L==null?void 0:L.measured)==null?void 0:_e.height);return J===void 0&&ue===void 0?void 0:{width:J??0,height:ue??0}}function El(...L){for(const J of L)if(Number.isFinite(J))return J}function So(L,J=new Set){const ue=Ai(L);if(!ue)return;const ve=L==null?void 0:L.id,_e=L==null?void 0:L.parentId;if(!_e||ve&&J.has(ve))return ue;const Pe=Vn(_e);if(!Pe)return ue;const Je=new Set(J);ve&&Je.add(ve);const yt=So(Pe,Je);return yt?{x:yt.x+ue.x,y:yt.y+ue.y}:ue}function Ef(){var ue;const L=n().filter(ve=>(ve==null?void 0:ve.selected)===!0).map(ve=>ve.id);if(L.length>0)return Array.from(new Set(L));const J=(ue=Et.state)==null?void 0:ue.rootNodeId;return J?[J]:[]}function Nf(L,J){const ue=Ai({position:J});if(!ue)return;const ve=L==null?void 0:L.parentId;if(!ve)return ue;const _e=Vn(ve);if(!_e)return ue;const Pe=So(_e);return Pe?{x:ue.x-Pe.x,y:ue.y-Pe.y}:ue}function kf(L,J){return Math.abs(L.x-J.x)>.001||Math.abs(L.y-J.y)>.001}function If(L,J){const ue=Nl(L,c,x),ve=Nl(J,d,O),_e=ue*ve;return w-Math.round(_e)}function Nl(L,J,ue){const ve=Number(L);return Number.isFinite(ve)?Math.max(ue,ve):J}function Sf(L){return(L==null?void 0:L.kind)==="generic-action"&&(L==null?void 0:L.actionId)===Kb}function Tf(L){return(L==null?void 0:L.kind)==="generic-action"&&(L==null?void 0:L.actionId)===Bb}function Of(L){return(L==null?void 0:L.kind)==="generic-action"&&(L==null?void 0:L.actionId)===Wb}function Cf(L){return(L==null?void 0:L.kind)==="generic-action"&&(L==null?void 0:L.actionId)===Yb}function Af(L){const J=L==null?void 0:L.key;return J==="Delete"||J==="Backspace"}function Qr(L=void 0){var ue;if(kl(L))return!0;const J=(ue=globalThis==null?void 0:globalThis.document)==null?void 0:ue.activeElement;return kl(J)}function kl(L){if(!L||typeof L!="object")return!1;const J=typeof(L==null?void 0:L.tagName)=="string"?L.tagName.toLowerCase():void 0;if(J==="input"||J==="textarea"||J==="select"||(L==null?void 0:L.isContentEditable)===!0)return!0;const ue=typeof(L==null?void 0:L.getAttribute)=="function"?L.getAttribute("role"):void 0,ve=typeof ue=="string"?ue.toLowerCase():void 0;if(ve==="textbox"||ve==="searchbox"||ve==="combobox"||ve==="spinbutton")return!0;if(typeof(L==null?void 0:L.closest)=="function"){const _e=L.closest("input, textarea, select, [contenteditable], [role='textbox'], [role='searchbox'], [role='combobox'], [role='spinbutton']");if(_e){const Pe=typeof _e.getAttribute=="function"?_e.getAttribute("contenteditable"):void 0;if(typeof Pe!="string"||Pe.toLowerCase()!=="false")return!0}}return!1}var Vs=Ox();We("keydown",ut,le,!0),We("copy",ut,ze,!0),We("cut",ut,Be,!0),We("paste",ut,$e,!0),We("pointermove",ut,gt,!0),We("pointerdown",ut,an,!0),We("keyup",ut,Re);var Il=ae(Vs);{let L=F(()=>E||K||Z);Tb(Il,{get disableKeyboardA11y(){return l(L)},get selectionMode(){return Ji.Full},multiSelectionKey:"Shift",panActivationKey:"Shift",selectNodesOnDrag:!1,minZoom:v,get nodeTypes(){return m},onconnect:re,onconnectstart:zs,onconnectend:Ls,onnodedragstop:ie,onnodecontextmenu:Ds,onpaneclick:Rs,onpanecontextmenu:Si,get nodes(){return n()},set nodes(J){n(J)},get edges(){return r()},set edges(J){r(J)},children:(J,ue)=>{var ve=Tx(),_e=Ae(ve);zb(_e,{bgColor:"var(--vscode-editor-background)"});var Pe=ge(_e,2);Qw(Pe,{$$events:{gotoroot:pe,fitfullview:pe,searchnodes:pe,autopositionnodes:pe,viewrawjson:pe,helphotkeys:pe}});var Je=ge(Pe,2);ox(Je,{get open(){return K},get openVersion(){return X},get groups(){return C},$$events:{close:bn,preview:je,select:rt}}),te(J,ve)},$$slots:{default:!0}})}var Sl=ge(Il,2);cx(Sl,{get open(){return E},get openVersion(){return _},get position(){return N},onclose:Fe,onselect:Zr});var Mf=ge(Sl,2);Sx(Mf,{get open(){return Z},get openVersion(){return D},$$events:{close:ce,customizekeybinds:Oe}}),lt(Vs,L=>z=L,()=>z),te(e,Vs),ke()}function Bu(e){return`${e}-${Ax()}`}function Ax(){return crypto.randomUUID()}function Mx(e){if(console.log("Parsing document text."),!Et.context)throw new Error("Workspace context was not set before parsing document text. This should not happen.");const{rootTemplateOrVariantId:t,variantKindsById:n,nodeTemplatesById:r}=Et.context,i=JSON.parse(e);if(!La(i))throw new Error("Document must be a JSON object.");const o=[],s=[],a=(d,h,f)=>s.push({id:`${d}:${h}-${f}`,source:d,sourceHandle:h,target:f,targetHandle:ml}),u=(d,h)=>{console.log("Attempting to parse",d);let f,g=d,v=g.$NodeID,b=g.$Position??{$x:0,$y:0};const y=n[h];if(y){const x=d[y.VariantFieldName];x&&(f=y.Variants[x])}!f&&h&&(f=h),!f&&v&&(f=v.substring(0,v.indexOf("-")));const w=r[f];if(console.log("Parsing a node with template",w,i),w){v||(v=Bu(f)),console.log(Object.entries(g));const x={...w},O=new Set(Object.keys(g).filter(P=>!P.startsWith("$")));for(const P of w.outputPins){const A=P.schemaKey;switch(O.delete(A),P.type){case"single":if(g[A]!==void 0){let I=u(g[A],w.childTypes[A]);a(v,A,I)}break;case"multiple":if(Array.isArray(g[A]))for(const I of g[A]){let k=u(I,w.childTypes[A]);a(v,A,k)}break;case"map":if(typeof g[A]=="object")for(const[I,k]of Object.entries(g[A])){let H=u(k,w.childTypes[A]);a(v,A,H)}}}for(const P of Object.keys(x.fieldsBySchemaKey)){O.delete(P);const A=g[P];A&&(x.fieldsBySchemaKey[P].value=A)}x.unparsedMetadata={};for(const P of O){if(w.schemaConstants[P]){g[P]!=w.schemaConstants[P]&&console.warn(`Constant value for ${P} in asset doesn't match expected from template.`,g,w);continue}x.unparsedMetadata[P]=g[P]}const m={type:Da,id:v,position:{x:b.$x,y:b.$y},data:{...w}};o.push(m),console.log("Parsed a data node",m)}else{v||(v=Bu("Generic"));const x={type:Ra,id:v,position:{x:b.$x,y:b.$y},data:{data:JSON.stringify(d,null,2)}};o.push(x)}return v},c=u(i,t);return console.log(c),{nodes:o,edges:s,rootNodeId:c}}function Px(e,t,n){const r={$Nodes:{},$FloatingNodes:[],$Links:{},$Groups:[],$Comments:[]},i=n.reduce((c,d)=>(c.has(d.source)||c.set(d.source,new Map),c.get(d.source).set(d.sourceHandle,d.target),c),new Map),o=t.reduce((c,d)=>(c.set(d.id,d),c),new Map),s=t.reduce((c,d)=>c.add(d.id),new Set);function a(c){if(!s.has(c))throw new Error(`Circular reference detected for node ${c}. This should not happen.`);s.delete(c);const d=o.get(c),h={};switch(d.type){case"datanode":d.data.outputPins.forEach(f=>{var v;const g=(v=i.get(d.id))==null?void 0:v.get(f.schemaKey);g&&(h[f.schemaKey]=a(g))}),Object.values(d.data.fieldsBySchemaKey).forEach(f=>{h[f.schemaKey]=f.value}),h.$NodeID=d.id,h.$Comment=d.data.comment??void 0,r.$Nodes[d.id]={$Position:{$x:d.position.x,$y:d.position.y},$Title:d.data.titleOverride??void 0};break;case"comment":r.$Comments.push({$Position:{$x:d.position.x,$y:d.position.y},$width:d.width,$height:d.height,$name:d.data.name,$text:d.data.text,$fontSize:d.data.fontSize});break;case"rawjson":Object.assign(h,JSON.parse(d.data.data)),h.$NodeID=d.id,h.$Comment=d.data.comment,r.$Nodes[d.id]={$Position:{$x:d.position.x,$y:d.position.y},$Title:d.data.titleOverride??void 0};break;case"link":break;case"group":r.$Groups.push({$Position:{$x:d.position.x,$y:d.position.y},$width:d.width,$height:d.height,$name:d.data.name});break}return h}const u=a(e);for(;s.size>0;){const[c]=s;r.$FloatingNodes.push(a(c))}return{...u,$NodeEditorMetadata:r}}var Dx=de('<div class="mx-3 mt-3 text-sm text-vsc-error"> </div>'),Rx=de('<main class="flex flex-col h-screen min-h-0"><!></main>');function zx(e,t){Ne(t,!0);let n="",r=F(()=>Et.state?Et.state.nodes:[]),i=F(()=>Et.state?Et.state.edges:[]),o=-1,s=0,a="",u,c=0,d,h=0;function f(I){const k=I.data;if(k)switch(k.type){case"bootstrap":g(k);return;case"revealSelection":return;case"update":v(k);return;case"error":a=typeof k.message=="string"?k.message:"unknown editor error.";return;case"triggerQuickAction":{const H=yl(k==null?void 0:k.actionId),z=D_(k==null?void 0:k.commandId),E=H??z;if(!E)return;c+=1,u={token:c,actionId:E.id,commandId:E.commandId};return}default:return}}function g(I){Et.context=I.workspaceContext}function v(I){o=typeof I.version=="number"?I.version:o,n=typeof I.documentPath=="string"?I.documentPath:n;try{const k=Mx(I.text);console.log(k),Et.state=k,s+=1,a=""}catch(k){a=k instanceof Error?k.message:"could not parse flow json."}}function b(I,k,H){x(k,H)}function y(){const I={type:"openRawJson"};t.vscode.postMessage(I)}function w(){const I={type:"openKeybindings",query:"Hytale Node Editor"};t.vscode.postMessage(I)}function x(I,k){const H=Px(Et.state.rootNodeId,I,k),z={type:"apply",text:JSON.stringify(H.state),sourceVersion:o};t.vscode.postMessage(z)}$a(()=>{typeof t.vscode.getState=="function"&&t.vscode.getState(),window.addEventListener("message",f);const I={type:"ready"};return t.vscode.postMessage(I),()=>{window.removeEventListener("message",f)}});var O=Rx(),m=ae(O);{var P=I=>{var k=Dx(),H=ae(k);be(()=>Ye(H,a)),te(I,k)},A=I=>{Ob(I,{children:(k,H)=>{Cx(k,{get loadVersion(){return s},get quickActionRequest(){return u},revealNodeId:d,revealNodeRequestVersion:h,onflowchange:b,onviewrawjson:y,oncustomizekeybinds:w,get nodes(){return l(r)},set nodes(z){W(r,z)},get edges(){return l(i)},set edges(z){W(i,z)}})},$$slots:{default:!0}})};De(m,I=>{a?I(P):Et.state&&I(A,1)})}te(e,O),ke()}const Lx=globalThis.acquireVsCodeApi();eg(zx,{target:document.getElementById("app"),props:{vscode:Lx}});
//# sourceMappingURL=main.js.map
