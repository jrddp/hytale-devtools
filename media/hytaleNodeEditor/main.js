var Tf=Object.defineProperty;var Ml=e=>{throw TypeError(e)};var Of=(e,t,n)=>t in e?Tf(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n;var et=(e,t,n)=>Of(e,typeof t!="symbol"?t+"":t,n),Ws=(e,t,n)=>t.has(e)||Ml("Cannot "+n);var R=(e,t,n)=>(Ws(e,t,"read from private field"),n?n.call(e):t.get(e)),ie=(e,t,n)=>t.has(e)?Ml("Cannot add the same private member more than once"):t instanceof WeakSet?t.add(e):t.set(e,n),Ae=(e,t,n,r)=>(Ws(e,t,"write to private field"),r?r.call(e,n):t.set(e,n),n),xt=(e,t,n)=>(Ws(e,t,"access private method"),n);(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))r(i);new MutationObserver(i=>{for(const o of i)if(o.type==="childList")for(const s of o.addedNodes)s.tagName==="LINK"&&s.rel==="modulepreload"&&r(s)}).observe(document,{childList:!0,subtree:!0});function n(i){const o={};return i.integrity&&(o.integrity=i.integrity),i.referrerPolicy&&(o.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?o.credentials="include":i.crossOrigin==="anonymous"?o.credentials="omit":o.credentials="same-origin",o}function r(i){if(i.ep)return;i.ep=!0;const o=n(i);fetch(i.href,o)}})();const la=!1;var co=Array.isArray,Pf=Array.prototype.indexOf,gi=Array.prototype.includes,vs=Array.from,Cf=Object.defineProperty,Zn=Object.getOwnPropertyDescriptor,qc=Object.getOwnPropertyDescriptors,Zc=Object.prototype,Af=Array.prototype,ps=Object.getPrototypeOf,Dl=Object.isExtensible;function Mi(e){return typeof e=="function"}const pr=()=>{};function Mf(e){return e()}function ca(e){for(var t=0;t<e.length;t++)e[t]()}function Qc(){var e,t,n=new Promise((r,i)=>{e=r,t=i});return{promise:n,resolve:e,reject:t}}function Ct(e,t,n=!1){return e===void 0?n?t():t:e}function mr(e,t){if(Array.isArray(e))return e;if(t===void 0||!(Symbol.iterator in e))return Array.from(e);const n=[];for(const r of e)if(n.push(r),n.length===t)break;return n}const kt=2,Xi=4,uo=8,ja=1<<24,tr=16,yn=32,yr=64,Jc=128,$t=512,gt=1024,St=2048,tn=4096,Bt=8192,Qn=16384,fo=32768,$n=65536,Rl=1<<17,$c=1<<18,Wr=1<<19,eu=1<<20,Gn=1<<25,Rr=65536,ua=1<<21,Ga=1<<22,dr=1<<23,Pn=Symbol("$state"),tu=Symbol("legacy props"),Df=Symbol(""),wr=new class extends Error{constructor(){super(...arguments);et(this,"name","StaleReactionError");et(this,"message","The reaction that called `getAbortSignal()` was re-run or destroyed")}};var Xc;const Ua=((Xc=globalThis.document)==null?void 0:Xc.contentType.includes("xml"))??!1;function ms(e){throw new Error("https://svelte.dev/e/lifecycle_outside_component")}function Rf(){throw new Error("https://svelte.dev/e/async_derived_orphan")}function zf(e,t,n){throw new Error("https://svelte.dev/e/each_key_duplicate")}function Lf(e){throw new Error("https://svelte.dev/e/effect_in_teardown")}function Vf(){throw new Error("https://svelte.dev/e/effect_in_unowned_derived")}function Ff(e){throw new Error("https://svelte.dev/e/effect_orphan")}function Hf(){throw new Error("https://svelte.dev/e/effect_update_depth_exceeded")}function Kf(e){throw new Error("https://svelte.dev/e/props_invalid_value")}function Bf(){throw new Error("https://svelte.dev/e/state_descriptors_fixed")}function Wf(){throw new Error("https://svelte.dev/e/state_prototype_fixed")}function Yf(){throw new Error("https://svelte.dev/e/state_unsafe_mutation")}function Xf(){throw new Error("https://svelte.dev/e/svelte_boundary_reset_onerror")}const jf=1,Gf=2,nu=4,Uf=8,qf=16,Zf=1,Qf=2,ru=4,Jf=8,$f=16,iu=1,eh=2,bt=Symbol(),ou="http://www.w3.org/1999/xhtml",th="http://www.w3.org/2000/svg",nh="@attach";function rh(){console.warn("https://svelte.dev/e/select_multiple_invalid_value")}function ih(){console.warn("https://svelte.dev/e/svelte_boundary_reset_noop")}function su(e){return e===this.v}function au(e,t){return e!=e?t==t:e!==t||e!==null&&typeof e=="object"||typeof e=="function"}function lu(e){return!au(e,this.v)}let Ni=!1,oh=!1;function sh(){Ni=!0}const ah=[];function cu(e,t=!1,n=!1){return Ho(e,new Map,"",ah,null,n)}function Ho(e,t,n,r,i=null,o=!1){if(typeof e=="object"&&e!==null){var s=t.get(e);if(s!==void 0)return s;if(e instanceof Map)return new Map(e);if(e instanceof Set)return new Set(e);if(co(e)){var a=Array(e.length);t.set(e,a),i!==null&&t.set(i,a);for(var c=0;c<e.length;c+=1){var u=e[c];c in e&&(a[c]=Ho(u,t,n,r,null,o))}return a}if(ps(e)===Zc){a={},t.set(e,a),i!==null&&t.set(i,a);for(var d in e)a[d]=Ho(e[d],t,n,r,null,o);return a}if(e instanceof Date)return structuredClone(e);if(typeof e.toJSON=="function"&&!o)return Ho(e.toJSON(),t,n,r,e)}if(e instanceof EventTarget)return e;try{return structuredClone(e)}catch{return e}}let Ue=null;function vi(e){Ue=e}function qa(e){return Qa().get(e)}function Za(e,t){return Qa().set(e,t),t}function lh(e){return Qa().has(e)}function Ne(e,t=!1,n){Ue={p:Ue,i:!1,c:null,e:null,s:e,x:null,l:Ni&&!t?{s:null,u:null,$:[]}:null}}function ke(e){var t=Ue,n=t.e;if(n!==null){t.e=null;for(var r of n)Cu(r)}return e!==void 0&&(t.x=e),t.i=!0,Ue=t.p,e??{}}function ho(){return!Ni||Ue!==null&&Ue.l===null}function Qa(e){return Ue===null&&ms(),Ue.c??(Ue.c=new Map(ch(Ue)||void 0))}function ch(e){let t=e.p;for(;t!==null;){const n=t.c;if(n!==null)return n;t=t.p}return null}let xr=[];function uu(){var e=xr;xr=[],ca(e)}function Cn(e){if(xr.length===0&&!Ki){var t=xr;queueMicrotask(()=>{t===xr&&uu()})}xr.push(e)}function uh(){for(;xr.length>0;)uu()}function du(e){var t=Ye;if(t===null)return Ve.f|=dr,e;if(!(t.f&fo)&&!(t.f&Xi))throw e;pi(e,t)}function pi(e,t){for(;t!==null;){if(t.f&Jc){if(!(t.f&fo))throw e;try{t.b.error(e);return}catch(n){e=n}}t=t.parent}throw e}const dh=-7169;function at(e,t){e.f=e.f&dh|t}function Ja(e){e.f&$t||e.deps===null?at(e,gt):at(e,tn)}function fu(e){if(e!==null)for(const t of e)!(t.f&kt)||!(t.f&Rr)||(t.f^=Rr,fu(t.deps))}function hu(e,t,n){e.f&St?t.add(e):e.f&tn&&n.add(e),fu(e.deps),at(e,gt)}const Oo=new Set;let Le=null,da=null,Nt=null,Rt=[],ys=null,fa=!1,Ki=!1;var si,ai,kr,li,no,ro,Sr,Kn,ci,Rn,ha,ga,gu;const kl=class kl{constructor(){ie(this,Rn);et(this,"committed",!1);et(this,"current",new Map);et(this,"previous",new Map);ie(this,si,new Set);ie(this,ai,new Set);ie(this,kr,0);ie(this,li,0);ie(this,no,null);ie(this,ro,new Set);ie(this,Sr,new Set);ie(this,Kn,new Map);et(this,"is_fork",!1);ie(this,ci,!1)}is_deferred(){return this.is_fork||R(this,li)>0}skip_effect(t){R(this,Kn).has(t)||R(this,Kn).set(t,{d:[],m:[]})}unskip_effect(t){var n=R(this,Kn).get(t);if(n){R(this,Kn).delete(t);for(var r of n.d)at(r,St),hn(r);for(r of n.m)at(r,tn),hn(r)}}process(t){var i;Rt=[],this.apply();var n=[],r=[];for(const o of t)xt(this,Rn,ha).call(this,o,n,r);if(this.is_deferred()){xt(this,Rn,ga).call(this,r),xt(this,Rn,ga).call(this,n);for(const[o,s]of R(this,Kn))yu(o,s)}else{for(const o of R(this,si))o();R(this,si).clear(),R(this,kr)===0&&xt(this,Rn,gu).call(this),da=this,Le=null,zl(r),zl(n),da=null,(i=R(this,no))==null||i.resolve()}Nt=null}capture(t,n){n!==bt&&!this.previous.has(t)&&this.previous.set(t,n),t.f&dr||(this.current.set(t,t.v),Nt==null||Nt.set(t,t.v))}activate(){Le=this,this.apply()}deactivate(){Le===this&&(Le=null,Nt=null)}flush(){if(this.activate(),Rt.length>0){if(vu(),Le!==null&&Le!==this)return}else R(this,kr)===0&&this.process([]);this.deactivate()}discard(){for(const t of R(this,ai))t(this);R(this,ai).clear()}increment(t){Ae(this,kr,R(this,kr)+1),t&&Ae(this,li,R(this,li)+1)}decrement(t){Ae(this,kr,R(this,kr)-1),t&&Ae(this,li,R(this,li)-1),!R(this,ci)&&(Ae(this,ci,!0),Cn(()=>{Ae(this,ci,!1),this.is_deferred()?Rt.length>0&&this.flush():this.revive()}))}revive(){for(const t of R(this,ro))R(this,Sr).delete(t),at(t,St),hn(t);for(const t of R(this,Sr))at(t,tn),hn(t);this.flush()}oncommit(t){R(this,si).add(t)}ondiscard(t){R(this,ai).add(t)}settled(){return(R(this,no)??Ae(this,no,Qc())).promise}static ensure(){if(Le===null){const t=Le=new kl;Oo.add(Le),Ki||Cn(()=>{Le===t&&t.flush()})}return Le}apply(){}};si=new WeakMap,ai=new WeakMap,kr=new WeakMap,li=new WeakMap,no=new WeakMap,ro=new WeakMap,Sr=new WeakMap,Kn=new WeakMap,ci=new WeakMap,Rn=new WeakSet,ha=function(t,n,r){t.f^=gt;for(var i=t.first,o=null;i!==null;){var s=i.f,a=(s&(yn|yr))!==0,c=a&&(s&gt)!==0,u=c||(s&Bt)!==0||R(this,Kn).has(i);if(!u&&i.fn!==null){a?i.f^=gt:o!==null&&s&(Xi|uo|ja)?o.b.defer_effect(i):s&Xi?n.push(i):Ti(i)&&(s&tr&&R(this,Sr).add(i),zr(i));var d=i.first;if(d!==null){i=d;continue}}var h=i.parent;for(i=i.next;i===null&&h!==null;)h===o&&(o=null),i=h.next,h=h.parent}},ga=function(t){for(var n=0;n<t.length;n+=1)hu(t[n],R(this,ro),R(this,Sr))},gu=function(){var i;if(Oo.size>1){this.previous.clear();var t=Nt,n=!0;for(const o of Oo){if(o===this){n=!1;continue}const s=[];for(const[c,u]of this.current){if(o.current.has(c))if(n&&u!==o.current.get(c))o.current.set(c,u);else continue;s.push(c)}if(s.length===0)continue;const a=[...o.current.keys()].filter(c=>!this.current.has(c));if(a.length>0){var r=Rt;Rt=[];const c=new Set,u=new Map;for(const d of s)pu(d,a,c,u);if(Rt.length>0){Le=o,o.apply();for(const d of Rt)xt(i=o,Rn,ha).call(i,d,[],[]);o.deactivate()}Rt=r}}Le=null,Nt=t}this.committed=!0,Oo.delete(this)};let Jn=kl;function fh(e){var t=Ki;Ki=!0;try{for(var n;;){if(uh(),Rt.length===0&&(Le==null||Le.flush(),Rt.length===0))return ys=null,n;vu()}}finally{Ki=t}}function vu(){fa=!0;var e=null;try{for(var t=0;Rt.length>0;){var n=Jn.ensure();if(t++>1e3){var r,i;hh()}n.process(Rt),fr.clear()}}finally{Rt=[],fa=!1,ys=null}}function hh(){try{Hf()}catch(e){pi(e,ys)}}let un=null;function zl(e){var t=e.length;if(t!==0){for(var n=0;n<t;){var r=e[n++];if(!(r.f&(Qn|Bt))&&Ti(r)&&(un=new Set,zr(r),r.deps===null&&r.first===null&&r.nodes===null&&r.teardown===null&&r.ac===null&&Ru(r),(un==null?void 0:un.size)>0)){fr.clear();for(const i of un){if(i.f&(Qn|Bt))continue;const o=[i];let s=i.parent;for(;s!==null;)un.has(s)&&(un.delete(s),o.push(s)),s=s.parent;for(let a=o.length-1;a>=0;a--){const c=o[a];c.f&(Qn|Bt)||zr(c)}}un.clear()}}un=null}}function pu(e,t,n,r){if(!n.has(e)&&(n.add(e),e.reactions!==null))for(const i of e.reactions){const o=i.f;o&kt?pu(i,t,n,r):o&(Ga|tr)&&!(o&St)&&mu(i,t,r)&&(at(i,St),hn(i))}}function mu(e,t,n){const r=n.get(e);if(r!==void 0)return r;if(e.deps!==null)for(const i of e.deps){if(gi.call(t,i))return!0;if(i.f&kt&&mu(i,t,n))return n.set(i,!0),!0}return n.set(e,!1),!1}function hn(e){for(var t=ys=e;t.parent!==null;){t=t.parent;var n=t.f;if(fa&&t===Ye&&n&tr&&!(n&$c))return;if(n&(yr|yn)){if(!(n&gt))return;t.f^=gt}}Rt.push(t)}function yu(e,t){if(!(e.f&yn&&e.f&gt)){e.f&St?t.d.push(e):e.f&tn&&t.m.push(e),at(e,gt);for(var n=e.first;n!==null;)yu(n,t),n=n.next}}function bu(e){let t=0,n=gr(0),r;return()=>{el()&&(l(n),Si(()=>(t===0&&(r=De(()=>e(()=>Bi(n)))),t+=1,()=>{Cn(()=>{t-=1,t===0&&(r==null||r(),r=void 0,Bi(n))})})))}}var gh=$n|Wr|Jc;function vh(e,t,n){new ph(e,t,n)}var qt,Xa,kn,Ir,Sn,Zt,Mt,In,Bn,lr,Tr,cr,ui,Or,di,fi,Wn,ds,wt,mh,yh,va,Ko,Bo,pa;class ph{constructor(t,n,r){ie(this,wt);et(this,"parent");et(this,"is_pending",!1);ie(this,qt);ie(this,Xa,null);ie(this,kn);ie(this,Ir);ie(this,Sn);ie(this,Zt,null);ie(this,Mt,null);ie(this,In,null);ie(this,Bn,null);ie(this,lr,null);ie(this,Tr,0);ie(this,cr,0);ie(this,ui,!1);ie(this,Or,!1);ie(this,di,new Set);ie(this,fi,new Set);ie(this,Wn,null);ie(this,ds,bu(()=>(Ae(this,Wn,gr(R(this,Tr))),()=>{Ae(this,Wn,null)})));Ae(this,qt,t),Ae(this,kn,n),Ae(this,Ir,r),this.parent=Ye.b,this.is_pending=!!R(this,kn).pending,Ae(this,Sn,Ii(()=>{Ye.b=this;{var i=xt(this,wt,va).call(this);try{Ae(this,Zt,Lt(()=>r(i)))}catch(o){this.error(o)}R(this,cr)>0?xt(this,wt,Bo).call(this):this.is_pending=!1}return()=>{var o;(o=R(this,lr))==null||o.remove()}},gh))}defer_effect(t){hu(t,R(this,di),R(this,fi))}is_rendered(){return!this.is_pending&&(!this.parent||this.parent.is_rendered())}has_pending_snippet(){return!!R(this,kn).pending}update_pending_count(t){xt(this,wt,pa).call(this,t),Ae(this,Tr,R(this,Tr)+t),!(!R(this,Wn)||R(this,ui))&&(Ae(this,ui,!0),Cn(()=>{Ae(this,ui,!1),R(this,Wn)&&mi(R(this,Wn),R(this,Tr))}))}get_effect_pending(){return R(this,ds).call(this),l(R(this,Wn))}error(t){var n=R(this,kn).onerror;let r=R(this,kn).failed;if(R(this,Or)||!n&&!r)throw t;R(this,Zt)&&(_t(R(this,Zt)),Ae(this,Zt,null)),R(this,Mt)&&(_t(R(this,Mt)),Ae(this,Mt,null)),R(this,In)&&(_t(R(this,In)),Ae(this,In,null));var i=!1,o=!1;const s=()=>{if(i){ih();return}i=!0,o&&Xf(),Jn.ensure(),Ae(this,Tr,0),R(this,In)!==null&&Cr(R(this,In),()=>{Ae(this,In,null)}),this.is_pending=this.has_pending_snippet(),Ae(this,Zt,xt(this,wt,Ko).call(this,()=>(Ae(this,Or,!1),Lt(()=>R(this,Ir).call(this,R(this,qt)))))),R(this,cr)>0?xt(this,wt,Bo).call(this):this.is_pending=!1};Cn(()=>{try{o=!0,n==null||n(t,s),o=!1}catch(a){pi(a,R(this,Sn)&&R(this,Sn).parent)}r&&Ae(this,In,xt(this,wt,Ko).call(this,()=>{Jn.ensure(),Ae(this,Or,!0);try{return Lt(()=>{r(R(this,qt),()=>t,()=>s)})}catch(a){return pi(a,R(this,Sn).parent),null}finally{Ae(this,Or,!1)}}))})}}qt=new WeakMap,Xa=new WeakMap,kn=new WeakMap,Ir=new WeakMap,Sn=new WeakMap,Zt=new WeakMap,Mt=new WeakMap,In=new WeakMap,Bn=new WeakMap,lr=new WeakMap,Tr=new WeakMap,cr=new WeakMap,ui=new WeakMap,Or=new WeakMap,di=new WeakMap,fi=new WeakMap,Wn=new WeakMap,ds=new WeakMap,wt=new WeakSet,mh=function(){try{Ae(this,Zt,Lt(()=>R(this,Ir).call(this,R(this,qt))))}catch(t){this.error(t)}},yh=function(){const t=R(this,kn).pending;t&&(Ae(this,Mt,Lt(()=>t(R(this,qt)))),Cn(()=>{var n=xt(this,wt,va).call(this);Ae(this,Zt,xt(this,wt,Ko).call(this,()=>(Jn.ensure(),Lt(()=>R(this,Ir).call(this,n))))),R(this,cr)>0?xt(this,wt,Bo).call(this):(Cr(R(this,Mt),()=>{Ae(this,Mt,null)}),this.is_pending=!1)}))},va=function(){var t=R(this,qt);return this.is_pending&&(Ae(this,lr,An()),R(this,qt).before(R(this,lr)),t=R(this,lr)),t},Ko=function(t){var n=Ye,r=Ve,i=Ue;rn(R(this,Sn)),nn(R(this,Sn)),vi(R(this,Sn).ctx);try{return t()}catch(o){return du(o),null}finally{rn(n),nn(r),vi(i)}},Bo=function(){const t=R(this,kn).pending;R(this,Zt)!==null&&(Ae(this,Bn,document.createDocumentFragment()),R(this,Bn).append(R(this,lr)),Vu(R(this,Zt),R(this,Bn))),R(this,Mt)===null&&Ae(this,Mt,Lt(()=>t(R(this,qt))))},pa=function(t){var n;if(!this.has_pending_snippet()){this.parent&&xt(n=this.parent,wt,pa).call(n,t);return}if(Ae(this,cr,R(this,cr)+t),R(this,cr)===0){this.is_pending=!1;for(const r of R(this,di))at(r,St),hn(r);for(const r of R(this,fi))at(r,tn),hn(r);R(this,di).clear(),R(this,fi).clear(),R(this,Mt)&&Cr(R(this,Mt),()=>{Ae(this,Mt,null)}),R(this,Bn)&&(R(this,qt).before(R(this,Bn)),Ae(this,Bn,null))}};function _u(e,t,n,r){const i=ho()?go:bs;var o=e.filter(f=>!f.settled);if(n.length===0&&o.length===0){r(t.map(i));return}var s=Le,a=Ye,c=bh(),u=o.length===1?o[0].promise:o.length>1?Promise.all(o.map(f=>f.promise)):null;function d(f){c();try{r(f)}catch(g){a.f&Qn||pi(g,a)}s==null||s.deactivate(),ma()}if(n.length===0){u.then(()=>d(t.map(i)));return}function h(){c(),Promise.all(n.map(f=>_h(f))).then(f=>d([...t.map(i),...f])).catch(f=>pi(f,a))}u?u.then(h):h()}function bh(){var e=Ye,t=Ve,n=Ue,r=Le;return function(o=!0){rn(e),nn(t),vi(n),o&&(r==null||r.activate())}}function ma(){rn(null),nn(null),vi(null)}function go(e){var t=kt|St,n=Ve!==null&&Ve.f&kt?Ve:null;return Ye!==null&&(Ye.f|=Wr),{ctx:Ue,deps:null,effects:null,equals:su,f:t,fn:e,reactions:null,rv:0,v:bt,wv:0,parent:n??Ye,ac:null}}function _h(e,t,n){let r=Ye;r===null&&Rf();var i=r.b,o=void 0,s=gr(bt),a=!Ve,c=new Map;return Mh(()=>{var g;var u=Qc();o=u.promise;try{Promise.resolve(e()).then(u.resolve,u.reject).then(()=>{d===Le&&d.committed&&d.deactivate(),ma()})}catch(p){u.reject(p),ma()}var d=Le;if(a){var h=i.is_rendered();i.update_pending_count(1),d.increment(h),(g=c.get(d))==null||g.reject(wr),c.delete(d),c.set(d,u)}const f=(p,b=void 0)=>{if(d.activate(),b)b!==wr&&(s.f|=dr,mi(s,b));else{s.f&dr&&(s.f^=dr),mi(s,p);for(const[y,N]of c){if(c.delete(y),y===d)break;N.reject(wr)}}a&&(i.update_pending_count(-1),d.decrement(h))};u.promise.then(f,p=>f(null,p||"unknown"))}),po(()=>{for(const u of c.values())u.reject(wr)}),new Promise(u=>{function d(h){function f(){h===o?u(s):d(o)}h.then(f,f)}d(o)})}function V(e){const t=go(e);return Fu(t),t}function bs(e){const t=go(e);return t.equals=lu,t}function wh(e){var t=e.effects;if(t!==null){e.effects=null;for(var n=0;n<t.length;n+=1)_t(t[n])}}function xh(e){for(var t=e.parent;t!==null;){if(!(t.f&kt))return t.f&Qn?null:t;t=t.parent}return null}function $a(e){var t,n=Ye;rn(xh(e));try{e.f&=~Rr,wh(e),t=Wu(e)}finally{rn(n)}return t}function wu(e){var t=$a(e);if(!e.equals(t)&&(e.wv=Ku(),(!(Le!=null&&Le.is_fork)||e.deps===null)&&(e.v=t,e.deps===null))){at(e,gt);return}vr||(Nt!==null?(el()||Le!=null&&Le.is_fork)&&Nt.set(e,t):Ja(e))}function Eh(e){var t,n;if(e.effects!==null)for(const r of e.effects)(r.teardown||r.ac)&&((t=r.teardown)==null||t.call(r),(n=r.ac)==null||n.abort(wr),r.teardown=pr,r.ac=null,ji(r,0),nl(r))}function xu(e){if(e.effects!==null)for(const t of e.effects)t.teardown&&zr(t)}let ya=new Set;const fr=new Map;let Eu=!1;function gr(e,t){var n={f:0,v:e,reactions:null,equals:su,rv:0,wv:0};return n}function we(e,t){const n=gr(e);return Fu(n),n}function Oe(e,t=!1,n=!0){var i;const r=gr(e);return t||(r.equals=lu),Ni&&n&&Ue!==null&&Ue.l!==null&&((i=Ue.l).s??(i.s=[])).push(r),r}function qo(e,t){return j(e,De(()=>l(e))),t}function j(e,t,n=!1){Ve!==null&&(!gn||Ve.f&Rl)&&ho()&&Ve.f&(kt|tr|Ga|Rl)&&(en===null||!gi.call(en,e))&&Yf();let r=n?Jt(t):t;return mi(e,r)}function mi(e,t){if(!e.equals(t)){var n=e.v;vr?fr.set(e,t):fr.set(e,n),e.v=t;var r=Jn.ensure();if(r.capture(e,n),e.f&kt){const i=e;e.f&St&&$a(i),Ja(i)}e.wv=Ku(),Nu(e,St),ho()&&Ye!==null&&Ye.f&gt&&!(Ye.f&(yn|yr))&&(Ut===null?zh([e]):Ut.push(e)),!r.is_fork&&ya.size>0&&!Eu&&Nh()}return t}function Nh(){Eu=!1;for(const e of ya)e.f&gt&&at(e,tn),Ti(e)&&zr(e);ya.clear()}function Ll(e,t=1){var n=l(e),r=t===1?n++:n--;return j(e,n),r}function Bi(e){j(e,e.v+1)}function Nu(e,t){var n=e.reactions;if(n!==null)for(var r=ho(),i=n.length,o=0;o<i;o++){var s=n[o],a=s.f;if(!(!r&&s===Ye)){var c=(a&St)===0;if(c&&at(s,t),a&kt){var u=s;Nt==null||Nt.delete(u),a&Rr||(a&$t&&(s.f|=Rr),Nu(u,tn))}else c&&(a&tr&&un!==null&&un.add(s),hn(s))}}}function Jt(e){if(typeof e!="object"||e===null||Pn in e)return e;const t=ps(e);if(t!==Zc&&t!==Af)return e;var n=new Map,r=co(e),i=we(0),o=Ar,s=a=>{if(Ar===o)return a();var c=Ve,u=Ar;nn(null),Kl(o);var d=a();return nn(c),Kl(u),d};return r&&n.set("length",we(e.length)),new Proxy(e,{defineProperty(a,c,u){(!("value"in u)||u.configurable===!1||u.enumerable===!1||u.writable===!1)&&Bf();var d=n.get(c);return d===void 0?s(()=>{var h=we(u.value);return n.set(c,h),h}):j(d,u.value,!0),!0},deleteProperty(a,c){var u=n.get(c);if(u===void 0){if(c in a){const d=s(()=>we(bt));n.set(c,d),Bi(i)}}else j(u,bt),Bi(i);return!0},get(a,c,u){var g;if(c===Pn)return e;var d=n.get(c),h=c in a;if(d===void 0&&(!h||(g=Zn(a,c))!=null&&g.writable)&&(d=s(()=>{var p=Jt(h?a[c]:bt),b=we(p);return b}),n.set(c,d)),d!==void 0){var f=l(d);return f===bt?void 0:f}return Reflect.get(a,c,u)},getOwnPropertyDescriptor(a,c){var u=Reflect.getOwnPropertyDescriptor(a,c);if(u&&"value"in u){var d=n.get(c);d&&(u.value=l(d))}else if(u===void 0){var h=n.get(c),f=h==null?void 0:h.v;if(h!==void 0&&f!==bt)return{enumerable:!0,configurable:!0,value:f,writable:!0}}return u},has(a,c){var f;if(c===Pn)return!0;var u=n.get(c),d=u!==void 0&&u.v!==bt||Reflect.has(a,c);if(u!==void 0||Ye!==null&&(!d||(f=Zn(a,c))!=null&&f.writable)){u===void 0&&(u=s(()=>{var g=d?Jt(a[c]):bt,p=we(g);return p}),n.set(c,u));var h=l(u);if(h===bt)return!1}return d},set(a,c,u,d){var I;var h=n.get(c),f=c in a;if(r&&c==="length")for(var g=u;g<h.v;g+=1){var p=n.get(g+"");p!==void 0?j(p,bt):g in a&&(p=s(()=>we(bt)),n.set(g+"",p))}if(h===void 0)(!f||(I=Zn(a,c))!=null&&I.writable)&&(h=s(()=>we(void 0)),j(h,Jt(u)),n.set(c,h));else{f=h.v!==bt;var b=s(()=>Jt(u));j(h,b)}var y=Reflect.getOwnPropertyDescriptor(a,c);if(y!=null&&y.set&&y.set.call(d,u),!f){if(r&&typeof c=="string"){var N=n.get("length"),w=Number(c);Number.isInteger(w)&&w>=N.v&&j(N,w+1)}Bi(i)}return!0},ownKeys(a){l(i);var c=Reflect.ownKeys(a).filter(h=>{var f=n.get(h);return f===void 0||f.v!==bt});for(var[u,d]of n)d.v!==bt&&!(u in a)&&c.push(u);return c},setPrototypeOf(){Wf()}})}function Vl(e){try{if(e!==null&&typeof e=="object"&&Pn in e)return e[Pn]}catch{}return e}function kh(e,t){return Object.is(Vl(e),Vl(t))}var ct,ku,Su,Iu;function Sh(){if(ct===void 0){ct=window,ku=/Firefox/.test(navigator.userAgent);var e=Element.prototype,t=Node.prototype,n=Text.prototype;Su=Zn(t,"firstChild").get,Iu=Zn(t,"nextSibling").get,Dl(e)&&(e.__click=void 0,e.__className=void 0,e.__attributes=null,e.__style=void 0,e.__e=void 0),Dl(n)&&(n.__t=void 0)}}function An(e=""){return document.createTextNode(e)}function Yn(e){return Su.call(e)}function vo(e){return Iu.call(e)}function se(e,t){return Yn(e)}function Ce(e,t=!1){{var n=Yn(e);return n instanceof Comment&&n.data===""?vo(n):n}}function he(e,t=1,n=!1){let r=e;for(;t--;)r=vo(r);return r}function Ih(e){e.textContent=""}function Tu(){return!1}function Ou(e,t,n){return document.createElementNS(t??ou,e,void 0)}function Th(e,t){if(t){const n=document.body;e.autofocus=!0,Cn(()=>{document.activeElement===n&&e.focus()})}}let Fl=!1;function Oh(){Fl||(Fl=!0,document.addEventListener("reset",e=>{Promise.resolve().then(()=>{var t;if(!e.defaultPrevented)for(const n of e.target.elements)(t=n.__on_r)==null||t.call(n)})},{capture:!0}))}function _s(e){var t=Ve,n=Ye;nn(null),rn(null);try{return e()}finally{nn(t),rn(n)}}function Ph(e,t,n,r=n){e.addEventListener(t,()=>_s(n));const i=e.__on_r;i?e.__on_r=()=>{i(),r(!0)}:e.__on_r=()=>r(!0),Oh()}function Pu(e){Ye===null&&(Ve===null&&Ff(),Vf()),vr&&Lf()}function Ch(e,t){var n=t.last;n===null?t.last=t.first=e:(n.next=e,e.prev=n,t.last=e)}function sn(e,t,n){var r=Ye;r!==null&&r.f&Bt&&(e|=Bt);var i={ctx:Ue,deps:null,nodes:null,f:e|St|$t,first:null,fn:t,last:null,next:null,parent:r,b:r&&r.b,prev:null,teardown:null,wv:0,ac:null};if(n)try{zr(i)}catch(a){throw _t(i),a}else t!==null&&hn(i);var o=i;if(n&&o.deps===null&&o.teardown===null&&o.nodes===null&&o.first===o.last&&!(o.f&Wr)&&(o=o.first,e&tr&&e&$n&&o!==null&&(o.f|=$n)),o!==null&&(o.parent=r,r!==null&&Ch(o,r),Ve!==null&&Ve.f&kt&&!(e&yr))){var s=Ve;(s.effects??(s.effects=[])).push(o)}return i}function el(){return Ve!==null&&!gn}function po(e){const t=sn(uo,null,!1);return at(t,gt),t.teardown=e,t}function qe(e){Pu();var t=Ye.f,n=!Ve&&(t&yn)!==0&&(t&fo)===0;if(n){var r=Ue;(r.e??(r.e=[])).push(e)}else return Cu(e)}function Cu(e){return sn(Xi|eu,e,!1)}function tl(e){return Pu(),sn(uo|eu,e,!0)}function Au(e){Jn.ensure();const t=sn(yr|Wr,e,!0);return()=>{_t(t)}}function Ah(e){Jn.ensure();const t=sn(yr|Wr,e,!0);return(n={})=>new Promise(r=>{n.outro?Cr(t,()=>{_t(t),r(void 0)}):(_t(t),r(void 0))})}function mo(e){return sn(Xi,e,!1)}function Me(e,t){var n=Ue,r={effect:null,ran:!1,deps:e};n.l.$.push(r),r.effect=Si(()=>{e(),!r.ran&&(r.ran=!0,De(t))})}function ki(){var e=Ue;Si(()=>{for(var t of e.l.$){t.deps();var n=t.effect;n.f&gt&&n.deps!==null&&at(n,tn),Ti(n)&&zr(n),t.ran=!1}})}function Mh(e){return sn(Ga|Wr,e,!0)}function Si(e,t=0){return sn(uo|t,e,!0)}function ye(e,t=[],n=[],r=[]){_u(r,t,n,i=>{sn(uo,()=>e(...i.map(l)),!0)})}function Ii(e,t=0){var n=sn(tr|t,e,!0);return n}function Mu(e,t=0){var n=sn(ja|t,e,!0);return n}function Lt(e){return sn(yn|Wr,e,!0)}function Du(e){var t=e.teardown;if(t!==null){const n=vr,r=Ve;Hl(!0),nn(null);try{t.call(null)}finally{Hl(n),nn(r)}}}function nl(e,t=!1){var n=e.first;for(e.first=e.last=null;n!==null;){const i=n.ac;i!==null&&_s(()=>{i.abort(wr)});var r=n.next;n.f&yr?n.parent=null:_t(n,t),n=r}}function Dh(e){for(var t=e.first;t!==null;){var n=t.next;t.f&yn||_t(t),t=n}}function _t(e,t=!0){var n=!1;(t||e.f&$c)&&e.nodes!==null&&e.nodes.end!==null&&(Rh(e.nodes.start,e.nodes.end),n=!0),nl(e,t&&!n),ji(e,0),at(e,Qn);var r=e.nodes&&e.nodes.t;if(r!==null)for(const o of r)o.stop();Du(e);var i=e.parent;i!==null&&i.first!==null&&Ru(e),e.next=e.prev=e.teardown=e.ctx=e.deps=e.fn=e.nodes=e.ac=null}function Rh(e,t){for(;e!==null;){var n=e===t?null:vo(e);e.remove(),e=n}}function Ru(e){var t=e.parent,n=e.prev,r=e.next;n!==null&&(n.next=r),r!==null&&(r.prev=n),t!==null&&(t.first===e&&(t.first=r),t.last===e&&(t.last=n))}function Cr(e,t,n=!0){var r=[];zu(e,r,!0);var i=()=>{n&&_t(e),t&&t()},o=r.length;if(o>0){var s=()=>--o||i();for(var a of r)a.out(s)}else i()}function zu(e,t,n){if(!(e.f&Bt)){e.f^=Bt;var r=e.nodes&&e.nodes.t;if(r!==null)for(const a of r)(a.is_global||n)&&t.push(a);for(var i=e.first;i!==null;){var o=i.next,s=(i.f&$n)!==0||(i.f&yn)!==0&&(e.f&tr)!==0;zu(i,t,s?n:!1),i=o}}}function rl(e){Lu(e,!0)}function Lu(e,t){if(e.f&Bt){e.f^=Bt,e.f&gt||(at(e,St),hn(e));for(var n=e.first;n!==null;){var r=n.next,i=(n.f&$n)!==0||(n.f&yn)!==0;Lu(n,i?t:!1),n=r}var o=e.nodes&&e.nodes.t;if(o!==null)for(const s of o)(s.is_global||t)&&s.in()}}function Vu(e,t){if(e.nodes)for(var n=e.nodes.start,r=e.nodes.end;n!==null;){var i=n===r?null:vo(n);t.append(n),n=i}}let Wo=!1,vr=!1;function Hl(e){vr=e}let Ve=null,gn=!1;function nn(e){Ve=e}let Ye=null;function rn(e){Ye=e}let en=null;function Fu(e){Ve!==null&&(en===null?en=[e]:en.push(e))}let zt=null,Ft=0,Ut=null;function zh(e){Ut=e}let Hu=1,Er=0,Ar=Er;function Kl(e){Ar=e}function Ku(){return++Hu}function Ti(e){var t=e.f;if(t&St)return!0;if(t&kt&&(e.f&=~Rr),t&tn){for(var n=e.deps,r=n.length,i=0;i<r;i++){var o=n[i];if(Ti(o)&&wu(o),o.wv>e.wv)return!0}t&$t&&Nt===null&&at(e,gt)}return!1}function Bu(e,t,n=!0){var r=e.reactions;if(r!==null&&!(en!==null&&gi.call(en,e)))for(var i=0;i<r.length;i++){var o=r[i];o.f&kt?Bu(o,t,!1):t===o&&(n?at(o,St):o.f&gt&&at(o,tn),hn(o))}}function Wu(e){var b;var t=zt,n=Ft,r=Ut,i=Ve,o=en,s=Ue,a=gn,c=Ar,u=e.f;zt=null,Ft=0,Ut=null,Ve=u&(yn|yr)?null:e,en=null,vi(e.ctx),gn=!1,Ar=++Er,e.ac!==null&&(_s(()=>{e.ac.abort(wr)}),e.ac=null);try{e.f|=ua;var d=e.fn,h=d();e.f|=fo;var f=e.deps,g=Le==null?void 0:Le.is_fork;if(zt!==null){var p;if(g||ji(e,Ft),f!==null&&Ft>0)for(f.length=Ft+zt.length,p=0;p<zt.length;p++)f[Ft+p]=zt[p];else e.deps=f=zt;if(el()&&e.f&$t)for(p=Ft;p<f.length;p++)((b=f[p]).reactions??(b.reactions=[])).push(e)}else!g&&f!==null&&Ft<f.length&&(ji(e,Ft),f.length=Ft);if(ho()&&Ut!==null&&!gn&&f!==null&&!(e.f&(kt|tn|St)))for(p=0;p<Ut.length;p++)Bu(Ut[p],e);if(i!==null&&i!==e){if(Er++,i.deps!==null)for(let y=0;y<n;y+=1)i.deps[y].rv=Er;if(t!==null)for(const y of t)y.rv=Er;Ut!==null&&(r===null?r=Ut:r.push(...Ut))}return e.f&dr&&(e.f^=dr),h}catch(y){return du(y)}finally{e.f^=ua,zt=t,Ft=n,Ut=r,Ve=i,en=o,vi(s),gn=a,Ar=c}}function Lh(e,t){let n=t.reactions;if(n!==null){var r=Pf.call(n,e);if(r!==-1){var i=n.length-1;i===0?n=t.reactions=null:(n[r]=n[i],n.pop())}}if(n===null&&t.f&kt&&(zt===null||!gi.call(zt,t))){var o=t;o.f&$t&&(o.f^=$t,o.f&=~Rr),Ja(o),Eh(o),ji(o,0)}}function ji(e,t){var n=e.deps;if(n!==null)for(var r=t;r<n.length;r++)Lh(e,n[r])}function zr(e){var t=e.f;if(!(t&Qn)){at(e,gt);var n=Ye,r=Wo;Ye=e,Wo=!0;try{t&(tr|ja)?Dh(e):nl(e),Du(e);var i=Wu(e);e.teardown=typeof i=="function"?i:null,e.wv=Hu;var o;la&&oh&&e.f&St&&e.deps}finally{Wo=r,Ye=n}}}async function ut(){await Promise.resolve(),fh()}function l(e){var t=e.f,n=(t&kt)!==0;if(Ve!==null&&!gn){var r=Ye!==null&&(Ye.f&Qn)!==0;if(!r&&(en===null||!gi.call(en,e))){var i=Ve.deps;if(Ve.f&ua)e.rv<Er&&(e.rv=Er,zt===null&&i!==null&&i[Ft]===e?Ft++:zt===null?zt=[e]:zt.push(e));else{(Ve.deps??(Ve.deps=[])).push(e);var o=e.reactions;o===null?e.reactions=[Ve]:gi.call(o,Ve)||o.push(Ve)}}}if(vr&&fr.has(e))return fr.get(e);if(n){var s=e;if(vr){var a=s.v;return(!(s.f&gt)&&s.reactions!==null||Xu(s))&&(a=$a(s)),fr.set(s,a),a}var c=(s.f&$t)===0&&!gn&&Ve!==null&&(Wo||(Ve.f&$t)!==0),u=(s.f&fo)===0;Ti(s)&&(c&&(s.f|=$t),wu(s)),c&&!u&&(xu(s),Yu(s))}if(Nt!=null&&Nt.has(e))return Nt.get(e);if(e.f&dr)throw e.v;return e.v}function Yu(e){if(e.f|=$t,e.deps!==null)for(const t of e.deps)(t.reactions??(t.reactions=[])).push(e),t.f&kt&&!(t.f&$t)&&(xu(t),Yu(t))}function Xu(e){if(e.v===bt)return!0;if(e.deps===null)return!1;for(const t of e.deps)if(fr.has(t)||t.f&kt&&Xu(t))return!0;return!1}function De(e){var t=gn;try{return gn=!0,e()}finally{gn=t}}function Vh(e,t){var n={};for(var r in e)t.includes(r)||(n[r]=e[r]);for(var i of Object.getOwnPropertySymbols(e))Object.propertyIsEnumerable.call(e,i)&&!t.includes(i)&&(n[i]=e[i]);return n}function Fe(e){if(!(typeof e!="object"||!e||e instanceof EventTarget)){if(Pn in e)ba(e);else if(!Array.isArray(e))for(let t in e){const n=e[t];typeof n=="object"&&n&&Pn in n&&ba(n)}}}function ba(e,t=new Set){if(typeof e=="object"&&e!==null&&!(e instanceof EventTarget)&&!t.has(e)){t.add(e),e instanceof Date&&e.getTime();for(let r in e)try{ba(e[r],t)}catch{}const n=ps(e);if(n!==Object.prototype&&n!==Array.prototype&&n!==Map.prototype&&n!==Set.prototype&&n!==Date.prototype){const r=qc(n);for(let i in r){const o=r[i].get;if(o)try{o.call(e)}catch{}}}}}function Fh(e){return e.endsWith("capture")&&e!=="gotpointercapture"&&e!=="lostpointercapture"}const Hh=["beforeinput","click","change","dblclick","contextmenu","focusin","focusout","input","keydown","keyup","mousedown","mousemove","mouseout","mouseover","mouseup","pointerdown","pointermove","pointerout","pointerover","pointerup","touchend","touchmove","touchstart"];function Kh(e){return Hh.includes(e)}const Bh={formnovalidate:"formNoValidate",ismap:"isMap",nomodule:"noModule",playsinline:"playsInline",readonly:"readOnly",defaultvalue:"defaultValue",defaultchecked:"defaultChecked",srcobject:"srcObject",novalidate:"noValidate",allowfullscreen:"allowFullscreen",disablepictureinpicture:"disablePictureInPicture",disableremoteplayback:"disableRemotePlayback"};function Wh(e){return e=e.toLowerCase(),Bh[e]??e}const Yh=["touchstart","touchmove"];function Xh(e){return Yh.includes(e)}const ju=new Set,_a=new Set;function il(e,t,n,r={}){function i(o){if(r.capture||xa.call(t,o),!o.cancelBubble)return _s(()=>n==null?void 0:n.call(this,o))}return e.startsWith("pointer")||e.startsWith("touch")||e==="wheel"?Cn(()=>{t.addEventListener(e,i,r)}):t.addEventListener(e,i,r),i}function wa(e,t,n,r={}){var i=il(t,e,n,r);return()=>{e.removeEventListener(t,i,r)}}function Ke(e,t,n,r,i){var o={capture:r,passive:i},s=il(e,t,n,o);(t===document.body||t===window||t===document||t instanceof HTMLMediaElement)&&po(()=>{t.removeEventListener(e,s,o)})}function vt(e){for(var t=0;t<e.length;t++)ju.add(e[t]);for(var n of _a)n(e)}let Bl=null;function xa(e){var y;var t=this,n=t.ownerDocument,r=e.type,i=((y=e.composedPath)==null?void 0:y.call(e))||[],o=i[0]||e.target;Bl=e;var s=0,a=Bl===e&&e.__root;if(a){var c=i.indexOf(a);if(c!==-1&&(t===document||t===window)){e.__root=t;return}var u=i.indexOf(t);if(u===-1)return;c<=u&&(s=c)}if(o=i[s]||e.target,o!==t){Cf(e,"currentTarget",{configurable:!0,get(){return o||n}});var d=Ve,h=Ye;nn(null),rn(null);try{for(var f,g=[];o!==null;){var p=o.assignedSlot||o.parentNode||o.host||null;try{var b=o["__"+r];b!=null&&(!o.disabled||e.target===o)&&b.call(o,e)}catch(N){f?g.push(N):f=N}if(e.cancelBubble||p===t||p===null)break;o=p}if(f){for(let N of g)queueMicrotask(()=>{throw N});throw f}}finally{e.__root=t,delete e.currentTarget,nn(d),rn(h)}}}var jc,Gc;const Ys=(Gc=(jc=globalThis==null?void 0:globalThis.window)==null?void 0:jc.trustedTypes)==null?void 0:Gc.createPolicy("svelte-trusted-html",{createHTML:e=>e});function jh(e){return(Ys==null?void 0:Ys.createHTML(e))??e}function Gu(e,t=!1){var n=Ou("template");return e=e.replaceAll("<!>","<!---->"),n.innerHTML=t?jh(e):e,n.content}function Lr(e,t){var n=Ye;n.nodes===null&&(n.nodes={start:e,end:t,a:null,t:null})}function de(e,t){var n=(t&iu)!==0,r=(t&eh)!==0,i,o=!e.startsWith("<!>");return()=>{i===void 0&&(i=Gu(o?e:"<!>"+e,!0),n||(i=Yn(i)));var s=r||ku?document.importNode(i,!0):i.cloneNode(!0);if(n){var a=Yn(s),c=s.lastChild;Lr(a,c)}else Lr(s,s);return s}}function Gh(e,t,n="svg"){var r=!e.startsWith("<!>"),i=(t&iu)!==0,o=`<${n}>${r?e:"<!>"+e}</${n}>`,s;return()=>{if(!s){var a=Gu(o,!0),c=Yn(a);if(i)for(s=document.createDocumentFragment();Yn(c);)s.appendChild(Yn(c));else s=Yn(c)}var u=s.cloneNode(!0);if(i){var d=Yn(u),h=u.lastChild;Lr(d,h)}else Lr(u,u);return u}}function Xt(e,t){return Gh(e,t,"svg")}function Uh(e=""){{var t=An(e+"");return Lr(t,t),t}}function $e(){var e=document.createDocumentFragment(),t=document.createComment(""),n=An();return e.append(t,n),Lr(t,n),e}function te(e,t){e!==null&&e.before(t)}function We(e,t){var n=t==null?"":typeof t=="object"?t+"":t;n!==(e.__t??(e.__t=e.nodeValue))&&(e.__t=n,e.nodeValue=n+"")}function qh(e,t){return Zh(e,t)}const Po=new Map;function Zh(e,{target:t,anchor:n,props:r={},events:i,context:o,intro:s=!0}){Sh();var a=new Set,c=h=>{for(var f=0;f<h.length;f++){var g=h[f];if(!a.has(g)){a.add(g);var p=Xh(g);for(const N of[t,document]){var b=Po.get(N);b===void 0&&(b=new Map,Po.set(N,b));var y=b.get(g);y===void 0?(N.addEventListener(g,xa,{passive:p}),b.set(g,1)):b.set(g,y+1)}}}};c(vs(ju)),_a.add(c);var u=void 0,d=Ah(()=>{var h=n??t.appendChild(An());return vh(h,{pending:()=>{}},f=>{Ne({});var g=Ue;o&&(g.c=o),i&&(r.$$events=i),u=e(f,r)||{},ke()}),()=>{var b;for(var f of a)for(const y of[t,document]){var g=Po.get(y),p=g.get(f);--p==0?(y.removeEventListener(f,xa),g.delete(f),g.size===0&&Po.delete(y)):g.set(f,p)}_a.delete(c),h!==n&&((b=h.parentNode)==null||b.removeChild(h))}});return Qh.set(u,d),u}let Qh=new WeakMap;var dn,Tn,Ht,Pr,io,oo,fs;class ws{constructor(t,n=!0){et(this,"anchor");ie(this,dn,new Map);ie(this,Tn,new Map);ie(this,Ht,new Map);ie(this,Pr,new Set);ie(this,io,!0);ie(this,oo,()=>{var t=Le;if(R(this,dn).has(t)){var n=R(this,dn).get(t),r=R(this,Tn).get(n);if(r)rl(r),R(this,Pr).delete(n);else{var i=R(this,Ht).get(n);i&&(R(this,Tn).set(n,i.effect),R(this,Ht).delete(n),i.fragment.lastChild.remove(),this.anchor.before(i.fragment),r=i.effect)}for(const[o,s]of R(this,dn)){if(R(this,dn).delete(o),o===t)break;const a=R(this,Ht).get(s);a&&(_t(a.effect),R(this,Ht).delete(s))}for(const[o,s]of R(this,Tn)){if(o===n||R(this,Pr).has(o))continue;const a=()=>{if(Array.from(R(this,dn).values()).includes(o)){var u=document.createDocumentFragment();Vu(s,u),u.append(An()),R(this,Ht).set(o,{effect:s,fragment:u})}else _t(s);R(this,Pr).delete(o),R(this,Tn).delete(o)};R(this,io)||!r?(R(this,Pr).add(o),Cr(s,a,!1)):a()}}});ie(this,fs,t=>{R(this,dn).delete(t);const n=Array.from(R(this,dn).values());for(const[r,i]of R(this,Ht))n.includes(r)||(_t(i.effect),R(this,Ht).delete(r))});this.anchor=t,Ae(this,io,n)}ensure(t,n){var r=Le,i=Tu();if(n&&!R(this,Tn).has(t)&&!R(this,Ht).has(t))if(i){var o=document.createDocumentFragment(),s=An();o.append(s),R(this,Ht).set(t,{effect:Lt(()=>n(s)),fragment:o})}else R(this,Tn).set(t,Lt(()=>n(this.anchor)));if(R(this,dn).set(r,t),i){for(const[a,c]of R(this,Tn))a===t?r.unskip_effect(c):r.skip_effect(c);for(const[a,c]of R(this,Ht))a===t?r.unskip_effect(c.effect):r.skip_effect(c.effect);r.oncommit(R(this,oo)),r.ondiscard(R(this,fs))}else R(this,oo).call(this)}}dn=new WeakMap,Tn=new WeakMap,Ht=new WeakMap,Pr=new WeakMap,io=new WeakMap,oo=new WeakMap,fs=new WeakMap;function Re(e,t,n=!1){var r=new ws(e),i=n?$n:0;function o(s,a){r.ensure(s,a)}Ii(()=>{var s=!1;t((a,c=0)=>{s=!0,o(c,a)}),s||o(!1,null)},i)}function Kt(e,t){return t}function Jh(e,t,n){for(var r=[],i=t.length,o,s=t.length,a=0;a<i;a++){let h=t[a];Cr(h,()=>{if(o){if(o.pending.delete(h),o.done.add(h),o.pending.size===0){var f=e.outrogroups;Ea(vs(o.done)),f.delete(o),f.size===0&&(e.outrogroups=null)}}else s-=1},!1)}if(s===0){var c=r.length===0&&n!==null;if(c){var u=n,d=u.parentNode;Ih(d),d.append(u),e.items.clear()}Ea(t,!c)}else o={pending:new Set(t),done:new Set},(e.outrogroups??(e.outrogroups=new Set)).add(o)}function Ea(e,t=!0){for(var n=0;n<e.length;n++)_t(e[n],t)}var Wl;function rt(e,t,n,r,i,o=null){var s=e,a=new Map,c=(t&nu)!==0;if(c){var u=e;s=u.appendChild(An())}var d=null,h=bs(()=>{var N=n();return co(N)?N:N==null?[]:vs(N)}),f,g=!0;function p(){y.fallback=d,$h(y,f,s,t,r),d!==null&&(f.length===0?d.f&Gn?(d.f^=Gn,Li(d,null,s)):rl(d):Cr(d,()=>{d=null}))}var b=Ii(()=>{f=l(h);for(var N=f.length,w=new Set,I=Le,m=Tu(),C=0;C<N;C+=1){var O=f[C],k=r(O,C),S=g?null:a.get(k);S?(S.v&&mi(S.v,O),S.i&&mi(S.i,C),m&&I.unskip_effect(S.e)):(S=eg(a,g?s:Wl??(Wl=An()),O,k,C,i,t,n),g||(S.e.f|=Gn),a.set(k,S)),w.add(k)}if(N===0&&o&&!d&&(g?d=Lt(()=>o(s)):(d=Lt(()=>o(Wl??(Wl=An()))),d.f|=Gn)),N>w.size&&zf(),!g)if(m){for(const[F,D]of a)w.has(F)||I.skip_effect(D.e);I.oncommit(p),I.ondiscard(()=>{})}else p();l(h)}),y={effect:b,items:a,outrogroups:null,fallback:d};g=!1}function Di(e){for(;e!==null&&!(e.f&yn);)e=e.next;return e}function $h(e,t,n,r,i){var D,E,_,x,v,A,T,M,L;var o=(r&Uf)!==0,s=t.length,a=e.items,c=Di(e.effect.first),u,d=null,h,f=[],g=[],p,b,y,N;if(o)for(N=0;N<s;N+=1)p=t[N],b=i(p,N),y=a.get(b).e,y.f&Gn||((E=(D=y.nodes)==null?void 0:D.a)==null||E.measure(),(h??(h=new Set)).add(y));for(N=0;N<s;N+=1){if(p=t[N],b=i(p,N),y=a.get(b).e,e.outrogroups!==null)for(const H of e.outrogroups)H.pending.delete(y),H.done.delete(y);if(y.f&Gn)if(y.f^=Gn,y===c)Li(y,null,n);else{var w=d?d.next:c;y===e.effect.last&&(e.effect.last=y.prev),y.prev&&(y.prev.next=y.next),y.next&&(y.next.prev=y.prev),rr(e,d,y),rr(e,y,w),Li(y,w,n),d=y,f=[],g=[],c=Di(d.next);continue}if(y.f&Bt&&(rl(y),o&&((x=(_=y.nodes)==null?void 0:_.a)==null||x.unfix(),(h??(h=new Set)).delete(y))),y!==c){if(u!==void 0&&u.has(y)){if(f.length<g.length){var I=g[0],m;d=I.prev;var C=f[0],O=f[f.length-1];for(m=0;m<f.length;m+=1)Li(f[m],I,n);for(m=0;m<g.length;m+=1)u.delete(g[m]);rr(e,C.prev,O.next),rr(e,d,C),rr(e,O,I),c=I,d=O,N-=1,f=[],g=[]}else u.delete(y),Li(y,c,n),rr(e,y.prev,y.next),rr(e,y,d===null?e.effect.first:d.next),rr(e,d,y),d=y;continue}for(f=[],g=[];c!==null&&c!==y;)(u??(u=new Set)).add(c),g.push(c),c=Di(c.next);if(c===null)continue}y.f&Gn||f.push(y),d=y,c=Di(y.next)}if(e.outrogroups!==null){for(const H of e.outrogroups)H.pending.size===0&&(Ea(vs(H.done)),(v=e.outrogroups)==null||v.delete(H));e.outrogroups.size===0&&(e.outrogroups=null)}if(c!==null||u!==void 0){var k=[];if(u!==void 0)for(y of u)y.f&Bt||k.push(y);for(;c!==null;)!(c.f&Bt)&&c!==e.fallback&&k.push(c),c=Di(c.next);var S=k.length;if(S>0){var F=r&nu&&s===0?n:null;if(o){for(N=0;N<S;N+=1)(T=(A=k[N].nodes)==null?void 0:A.a)==null||T.measure();for(N=0;N<S;N+=1)(L=(M=k[N].nodes)==null?void 0:M.a)==null||L.fix()}Jh(e,k,F)}}o&&Cn(()=>{var H,B;if(h!==void 0)for(y of h)(B=(H=y.nodes)==null?void 0:H.a)==null||B.apply()})}function eg(e,t,n,r,i,o,s,a){var c=s&jf?s&qf?gr(n):Oe(n,!1,!1):null,u=s&Gf?gr(i):null;return{v:c,i:u,e:Lt(()=>(o(t,c??n,u??i,a),()=>{e.delete(r)}))}}function Li(e,t,n){if(e.nodes)for(var r=e.nodes.start,i=e.nodes.end,o=t&&!(t.f&Gn)?t.nodes.start:n;r!==null;){var s=vo(r);if(o.before(r),r===i)return;r=s}}function rr(e,t,n){t===null?e.effect.first=n:t.next=n,n===null?e.effect.last=t:n.prev=t}function zn(e,t,n,r,i){var a;var o=(a=t.$$slots)==null?void 0:a[n],s=!1;o===!0&&(o=t.children,s=!0),o===void 0||o(e,s?()=>r:r)}function Ln(e,t,...n){var r=new ws(e);Ii(()=>{const i=t()??null;r.ensure(i,i&&(o=>i(o,...n)))},$n)}function xs(e,t,n){var r=new ws(e);Ii(()=>{var i=t()??null;r.ensure(i,i&&(o=>n(o,i)))},$n)}function tg(e,t,n,r,i,o){var s=null,a=e,c=new ws(a,!1);Ii(()=>{const u=t()||null;var d=th;if(u===null){c.ensure(null,null);return}return c.ensure(u,h=>{if(u){if(s=Ou(u,d),Lr(s,s),r){var f=s.appendChild(An());r(s,f)}Ye.nodes.end=s,h.before(s)}}),()=>{}},$n),po(()=>{})}function Dt(e,t,n){mo(()=>{var r=De(()=>t(e,n==null?void 0:n())||{});if(n&&(r!=null&&r.update)){var i=!1,o={};Si(()=>{var s=n();Fe(s),i&&au(o,s)&&(o=s,r.update(s))}),i=!0}if(r!=null&&r.destroy)return()=>r.destroy()})}function ng(e,t){var n=void 0,r;Mu(()=>{n!==(n=t())&&(r&&(_t(r),r=null),n&&(r=Lt(()=>{mo(()=>n(e))})))})}function Uu(e){var t,n,r="";if(typeof e=="string"||typeof e=="number")r+=e;else if(typeof e=="object")if(Array.isArray(e)){var i=e.length;for(t=0;t<i;t++)e[t]&&(n=Uu(e[t]))&&(r&&(r+=" "),r+=n)}else for(n in e)e[n]&&(r&&(r+=" "),r+=n);return r}function rg(){for(var e,t,n=0,r="",i=arguments.length;n<i;n++)(e=arguments[n])&&(t=Uu(e))&&(r&&(r+=" "),r+=t);return r}function Yr(e){return typeof e=="object"?rg(e):e??""}const Yl=[...` 	
\r\fÂ \v\uFEFF`];function ig(e,t,n){var r=e==null?"":""+e;if(t&&(r=r?r+" "+t:t),n){for(var i in n)if(n[i])r=r?r+" "+i:i;else if(r.length)for(var o=i.length,s=0;(s=r.indexOf(i,s))>=0;){var a=s+o;(s===0||Yl.includes(r[s-1]))&&(a===r.length||Yl.includes(r[a]))?r=(s===0?"":r.substring(0,s))+r.substring(a+1):s=a}}return r===""?null:r}function Xl(e,t=!1){var n=t?" !important;":";",r="";for(var i in e){var o=e[i];o!=null&&o!==""&&(r+=" "+i+": "+o+n)}return r}function Xs(e){return e[0]!=="-"||e[1]!=="-"?e.toLowerCase():e}function og(e,t){if(t){var n="",r,i;if(Array.isArray(t)?(r=t[0],i=t[1]):r=t,e){e=String(e).replaceAll(/\s*\/\*.*?\*\/\s*/g,"").trim();var o=!1,s=0,a=!1,c=[];r&&c.push(...Object.keys(r).map(Xs)),i&&c.push(...Object.keys(i).map(Xs));var u=0,d=-1;const b=e.length;for(var h=0;h<b;h++){var f=e[h];if(a?f==="/"&&e[h-1]==="*"&&(a=!1):o?o===f&&(o=!1):f==="/"&&e[h+1]==="*"?a=!0:f==='"'||f==="'"?o=f:f==="("?s++:f===")"&&s--,!a&&o===!1&&s===0){if(f===":"&&d===-1)d=h;else if(f===";"||h===b-1){if(d!==-1){var g=Xs(e.substring(u,d).trim());if(!c.includes(g)){f!==";"&&h++;var p=e.substring(u,h).trim();n+=" "+p+";"}}u=h+1,d=-1}}}}return r&&(n+=Xl(r)),i&&(n+=Xl(i,!0)),n=n.trim(),n===""?null:n}return e==null?null:String(e)}function Ot(e,t,n,r,i,o){var s=e.__className;if(s!==n||s===void 0){var a=ig(n,r,o);a==null?e.removeAttribute("class"):t?e.className=a:e.setAttribute("class",a),e.__className=n}else if(o&&i!==o)for(var c in o){var u=!!o[c];(i==null||u!==!!i[c])&&e.classList.toggle(c,u)}return o}function js(e,t={},n,r){for(var i in n){var o=n[i];t[i]!==o&&(n[i]==null?e.style.removeProperty(i):e.style.setProperty(i,o,r))}}function Ze(e,t,n,r){var i=e.__style;if(i!==t){var o=og(t,r);o==null?e.removeAttribute("style"):e.style.cssText=o,e.__style=t}else r&&(Array.isArray(r)?(js(e,n==null?void 0:n[0],r[0]),js(e,n==null?void 0:n[1],r[1],"important")):js(e,n,r));return r}function Na(e,t,n=!1){if(e.multiple){if(t==null)return;if(!co(t))return rh();for(var r of e.options)r.selected=t.includes(jl(r));return}for(r of e.options){var i=jl(r);if(kh(i,t)){r.selected=!0;return}}(!n||t!==void 0)&&(e.selectedIndex=-1)}function sg(e){var t=new MutationObserver(()=>{Na(e,e.__value)});t.observe(e,{childList:!0,subtree:!0,attributes:!0,attributeFilter:["value"]}),po(()=>{t.disconnect()})}function jl(e){return"__value"in e?e.__value:e.value}const sr=Symbol("class"),Xn=Symbol("style"),qu=Symbol("is custom element"),Zu=Symbol("is html"),ag=Ua?"option":"OPTION",lg=Ua?"select":"SELECT",cg=Ua?"progress":"PROGRESS";function Tt(e,t){var n=Es(e);n.value===(n.value=t??void 0)||e.value===t&&(t!==0||e.nodeName!==cg)||(e.value=t??"")}function Qu(e,t){var n=Es(e);n.checked!==(n.checked=t??void 0)&&(e.checked=t)}function ug(e,t){t?e.hasAttribute("selected")||e.setAttribute("selected",""):e.removeAttribute("selected")}function pe(e,t,n,r){var i=Es(e);i[t]!==(i[t]=n)&&(t==="loading"&&(e[Df]=n),n==null?e.removeAttribute(t):typeof n!="string"&&Ju(e).includes(t)?e[t]=n:e.setAttribute(t,n))}function dg(e,t,n,r,i=!1,o=!1){var s=Es(e),a=s[qu],c=!s[Zu],u=t||{},d=e.nodeName===ag;for(var h in t)h in n||(n[h]=null);n.class?n.class=Yr(n.class):(r||n[sr])&&(n.class=null),n[Xn]&&(n.style??(n.style=null));var f=Ju(e);for(const m in n){let C=n[m];if(d&&m==="value"&&C==null){e.value=e.__value="",u[m]=C;continue}if(m==="class"){var g=e.namespaceURI==="http://www.w3.org/1999/xhtml";Ot(e,g,C,r,t==null?void 0:t[sr],n[sr]),u[m]=C,u[sr]=n[sr];continue}if(m==="style"){Ze(e,C,t==null?void 0:t[Xn],n[Xn]),u[m]=C,u[Xn]=n[Xn];continue}var p=u[m];if(!(C===p&&!(C===void 0&&e.hasAttribute(m)))){u[m]=C;var b=m[0]+m[1];if(b!=="$$")if(b==="on"){const O={},k="$$"+m;let S=m.slice(2);var y=Kh(S);if(Fh(S)&&(S=S.slice(0,-7),O.capture=!0),!y&&p){if(C!=null)continue;e.removeEventListener(S,u[k],O),u[k]=null}if(C!=null)if(y)e[`__${S}`]=C,vt([S]);else{let F=function(D){u[m].call(this,D)};var I=F;u[k]=il(S,e,F,O)}else y&&(e[`__${S}`]=void 0)}else if(m==="style")pe(e,m,C);else if(m==="autofocus")Th(e,!!C);else if(!a&&(m==="__value"||m==="value"&&C!=null))e.value=e.__value=C;else if(m==="selected"&&d)ug(e,C);else{var N=m;c||(N=Wh(N));var w=N==="defaultValue"||N==="defaultChecked";if(C==null&&!a&&!w)if(s[m]=null,N==="value"||N==="checked"){let O=e;const k=t===void 0;if(N==="value"){let S=O.defaultValue;O.removeAttribute(N),O.defaultValue=S,O.value=O.__value=k?S:null}else{let S=O.defaultChecked;O.removeAttribute(N),O.defaultChecked=S,O.checked=k?S:!1}}else e.removeAttribute(m);else w||f.includes(N)&&(a||typeof C!="string")?(e[N]=C,N in s&&(s[N]=bt)):typeof C!="function"&&pe(e,N,C)}}}return u}function pn(e,t,n=[],r=[],i=[],o,s=!1,a=!1){_u(i,n,r,c=>{var u=void 0,d={},h=e.nodeName===lg,f=!1;if(Mu(()=>{var p=t(...c.map(l)),b=dg(e,u,p,o,s,a);f&&h&&"value"in p&&Na(e,p.value);for(let N of Object.getOwnPropertySymbols(d))p[N]||_t(d[N]);for(let N of Object.getOwnPropertySymbols(p)){var y=p[N];N.description===nh&&(!u||y!==u[N])&&(d[N]&&_t(d[N]),d[N]=Lt(()=>ng(e,()=>y))),b[N]=y}u=b}),h){var g=e;mo(()=>{Na(g,u.value,!0),sg(g)})}f=!0})}function Es(e){return e.__attributes??(e.__attributes={[qu]:e.nodeName.includes("-"),[Zu]:e.namespaceURI===ou})}var Gl=new Map;function Ju(e){var t=e.getAttribute("is")||e.nodeName,n=Gl.get(t);if(n)return n;Gl.set(t,n=[]);for(var r,i=e,o=Element.prototype;o!==i;){r=qc(i);for(var s in r)r[s].set&&n.push(s);i=ps(i)}return n}function $u(e,t,n=t){var r=new WeakSet;Ph(e,"input",async i=>{var o=i?e.defaultValue:e.value;if(o=Gs(e)?Us(o):o,n(o),Le!==null&&r.add(Le),await ut(),o!==(o=t())){var s=e.selectionStart,a=e.selectionEnd,c=e.value.length;if(e.value=o??"",a!==null){var u=e.value.length;s===a&&a===c&&u>c?(e.selectionStart=u,e.selectionEnd=u):(e.selectionStart=s,e.selectionEnd=Math.min(a,u))}}}),De(t)==null&&e.value&&(n(Gs(e)?Us(e.value):e.value),Le!==null&&r.add(Le)),Si(()=>{var i=t();if(e===document.activeElement){var o=da??Le;if(r.has(o))return}Gs(e)&&i===Us(e.value)||e.type==="date"&&!i&&!e.value||i!==e.value&&(e.value=i??"")})}function Gs(e){var t=e.type;return t==="number"||t==="range"}function Us(e){return e===""?null:+e}function fg(e,t,n){var r=Zn(e,t);r&&r.set&&(e[t]=n,po(()=>{e[t]=null}))}var ur,hi,so,hs,ed;const gs=class gs{constructor(t){ie(this,hs);ie(this,ur,new WeakMap);ie(this,hi);ie(this,so);Ae(this,so,t)}observe(t,n){var r=R(this,ur).get(t)||new Set;return r.add(n),R(this,ur).set(t,r),xt(this,hs,ed).call(this).observe(t,R(this,so)),()=>{var i=R(this,ur).get(t);i.delete(n),i.size===0&&(R(this,ur).delete(t),R(this,hi).unobserve(t))}}};ur=new WeakMap,hi=new WeakMap,so=new WeakMap,hs=new WeakSet,ed=function(){return R(this,hi)??Ae(this,hi,new ResizeObserver(t=>{for(var n of t){gs.entries.set(n.target,n);for(var r of R(this,ur).get(n.target)||[])r(n)}}))},et(gs,"entries",new WeakMap);let ka=gs;var hg=new ka({box:"border-box"});function Ul(e,t,n){var r=hg.observe(e,()=>n(e[t]));mo(()=>(De(()=>n(e[t])),r))}function ql(e,t){return e===t||(e==null?void 0:e[Pn])===t}function lt(e={},t,n,r){return mo(()=>{var i,o;return Si(()=>{i=o,o=[],De(()=>{e!==n(...o)&&(t(e,...o),i&&ql(n(...i),e)&&t(null,...i))})}),()=>{Cn(()=>{o&&ql(n(...o),e)&&t(null,...o)})}}),e}function nr(e=!1){const t=Ue,n=t.l.u;if(!n)return;let r=()=>Fe(t.s);if(e){let i=0,o={};const s=go(()=>{let a=!1;const c=t.s;for(const u in c)c[u]!==o[u]&&(o[u]=c[u],a=!0);return a&&i++,i});r=()=>l(s)}n.b.length&&tl(()=>{Zl(t,r),ca(n.b)}),qe(()=>{const i=De(()=>n.m.map(Mf));return()=>{for(const o of i)typeof o=="function"&&o()}}),n.a.length&&qe(()=>{Zl(t,r),ca(n.a)})}function Zl(e,t){if(e.l.s)for(const n of e.l.s)l(n);t()}let Co=!1;function gg(e){var t=Co;try{return Co=!1,[e(),Co]}finally{Co=t}}const vg={get(e,t){if(!e.exclude.includes(t))return e.props[t]},set(e,t){return!1},getOwnPropertyDescriptor(e,t){if(!e.exclude.includes(t)&&t in e.props)return{enumerable:!0,configurable:!0,value:e.props[t]}},has(e,t){return e.exclude.includes(t)?!1:t in e.props},ownKeys(e){return Reflect.ownKeys(e.props).filter(t=>!e.exclude.includes(t))}};function Xr(e,t,n){return new Proxy({props:e,exclude:t},vg)}const pg={get(e,t){if(!e.exclude.includes(t))return l(e.version),t in e.special?e.special[t]():e.props[t]},set(e,t,n){if(!(t in e.special)){var r=Ye;try{rn(e.parent_effect),e.special[t]=ee({get[t](){return e.props[t]}},t,ru)}finally{rn(r)}}return e.special[t](n),Ll(e.version),!0},getOwnPropertyDescriptor(e,t){if(!e.exclude.includes(t)&&t in e.props)return{enumerable:!0,configurable:!0,value:e.props[t]}},deleteProperty(e,t){return e.exclude.includes(t)||(e.exclude.push(t),Ll(e.version)),!0},has(e,t){return e.exclude.includes(t)?!1:t in e.props},ownKeys(e){return Reflect.ownKeys(e.props).filter(t=>!e.exclude.includes(t))}};function on(e,t){return new Proxy({props:e,exclude:t,special:{},version:gr(0),parent_effect:Ye},pg)}const mg={get(e,t){let n=e.props.length;for(;n--;){let r=e.props[n];if(Mi(r)&&(r=r()),typeof r=="object"&&r!==null&&t in r)return r[t]}},set(e,t,n){let r=e.props.length;for(;r--;){let i=e.props[r];Mi(i)&&(i=i());const o=Zn(i,t);if(o&&o.set)return o.set(n),!0}return!1},getOwnPropertyDescriptor(e,t){let n=e.props.length;for(;n--;){let r=e.props[n];if(Mi(r)&&(r=r()),typeof r=="object"&&r!==null&&t in r){const i=Zn(r,t);return i&&!i.configurable&&(i.configurable=!0),i}}},has(e,t){if(t===Pn||t===tu)return!1;for(let n of e.props)if(Mi(n)&&(n=n()),n!=null&&t in n)return!0;return!1},ownKeys(e){const t=[];for(let n of e.props)if(Mi(n)&&(n=n()),!!n){for(const r in n)t.includes(r)||t.push(r);for(const r of Object.getOwnPropertySymbols(n))t.includes(r)||t.push(r)}return t}};function Wt(...e){return new Proxy({props:e},mg)}function ee(e,t,n,r){var I;var i=!Ni||(n&Qf)!==0,o=(n&Jf)!==0,s=(n&$f)!==0,a=r,c=!0,u=()=>(c&&(c=!1,a=s?De(r):r),a),d;if(o){var h=Pn in e||tu in e;d=((I=Zn(e,t))==null?void 0:I.set)??(h&&t in e?m=>e[t]=m:void 0)}var f,g=!1;o?[f,g]=gg(()=>e[t]):f=e[t],f===void 0&&r!==void 0&&(f=u(),d&&(i&&Kf(),d(f)));var p;if(i?p=()=>{var m=e[t];return m===void 0?u():(c=!0,m)}:p=()=>{var m=e[t];return m!==void 0&&(a=void 0),m===void 0?a:m},i&&!(n&ru))return p;if(d){var b=e.$$legacy;return function(m,C){return arguments.length>0?((!i||!C||b||g)&&d(C?p():m),m):p()}}var y=!1,N=(n&Zf?go:bs)(()=>(y=!1,p()));o&&l(N);var w=Ye;return function(m,C){if(arguments.length>0){const O=C?l(N):i&&o?Jt(m):m;return j(N,O),y=!0,a!==void 0&&(a=O),m}return vr&&y||w.f&Qn?N.v:l(N)}}function ol(e){Ue===null&&ms(),Ni&&Ue.l!==null?bg(Ue).m.push(e):qe(()=>{const t=De(e);if(typeof t=="function")return t})}function yo(e){Ue===null&&ms(),ol(()=>()=>De(e))}function yg(e,t,{bubbles:n=!1,cancelable:r=!1}={}){return new CustomEvent(e,{detail:t,bubbles:n,cancelable:r})}function Ns(){const e=Ue;return e===null&&ms(),(t,n,r)=>{var o;const i=(o=e.s.$$events)==null?void 0:o[t];if(i){const s=co(i)?i.slice():[i],a=yg(t,n,r);for(const c of s)c.call(e.x,a);return!a.defaultPrevented}return!0}}function bg(e){var t=e.l;return t.u??(t.u={a:[],b:[],m:[]})}const _g="5";var Uc;typeof window<"u"&&((Uc=window.__svelte??(window.__svelte={})).v??(Uc.v=new Set)).add(_g);var wg={value:()=>{}};function ks(){for(var e=0,t=arguments.length,n={},r;e<t;++e){if(!(r=arguments[e]+"")||r in n||/[\s.]/.test(r))throw new Error("illegal type: "+r);n[r]=[]}return new Yo(n)}function Yo(e){this._=e}function xg(e,t){return e.trim().split(/^|\s+/).map(function(n){var r="",i=n.indexOf(".");if(i>=0&&(r=n.slice(i+1),n=n.slice(0,i)),n&&!t.hasOwnProperty(n))throw new Error("unknown type: "+n);return{type:n,name:r}})}Yo.prototype=ks.prototype={constructor:Yo,on:function(e,t){var n=this._,r=xg(e+"",n),i,o=-1,s=r.length;if(arguments.length<2){for(;++o<s;)if((i=(e=r[o]).type)&&(i=Eg(n[i],e.name)))return i;return}if(t!=null&&typeof t!="function")throw new Error("invalid callback: "+t);for(;++o<s;)if(i=(e=r[o]).type)n[i]=Ql(n[i],e.name,t);else if(t==null)for(i in n)n[i]=Ql(n[i],e.name,null);return this},copy:function(){var e={},t=this._;for(var n in t)e[n]=t[n].slice();return new Yo(e)},call:function(e,t){if((i=arguments.length-2)>0)for(var n=new Array(i),r=0,i,o;r<i;++r)n[r]=arguments[r+2];if(!this._.hasOwnProperty(e))throw new Error("unknown type: "+e);for(o=this._[e],r=0,i=o.length;r<i;++r)o[r].value.apply(t,n)},apply:function(e,t,n){if(!this._.hasOwnProperty(e))throw new Error("unknown type: "+e);for(var r=this._[e],i=0,o=r.length;i<o;++i)r[i].value.apply(t,n)}};function Eg(e,t){for(var n=0,r=e.length,i;n<r;++n)if((i=e[n]).name===t)return i.value}function Ql(e,t,n){for(var r=0,i=e.length;r<i;++r)if(e[r].name===t){e[r]=wg,e=e.slice(0,r).concat(e.slice(r+1));break}return n!=null&&e.push({name:t,value:n}),e}var Sa="http://www.w3.org/1999/xhtml";const Jl={svg:"http://www.w3.org/2000/svg",xhtml:Sa,xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/"};function Ss(e){var t=e+="",n=t.indexOf(":");return n>=0&&(t=e.slice(0,n))!=="xmlns"&&(e=e.slice(n+1)),Jl.hasOwnProperty(t)?{space:Jl[t],local:e}:e}function Ng(e){return function(){var t=this.ownerDocument,n=this.namespaceURI;return n===Sa&&t.documentElement.namespaceURI===Sa?t.createElement(e):t.createElementNS(n,e)}}function kg(e){return function(){return this.ownerDocument.createElementNS(e.space,e.local)}}function td(e){var t=Ss(e);return(t.local?kg:Ng)(t)}function Sg(){}function sl(e){return e==null?Sg:function(){return this.querySelector(e)}}function Ig(e){typeof e!="function"&&(e=sl(e));for(var t=this._groups,n=t.length,r=new Array(n),i=0;i<n;++i)for(var o=t[i],s=o.length,a=r[i]=new Array(s),c,u,d=0;d<s;++d)(c=o[d])&&(u=e.call(c,c.__data__,d,o))&&("__data__"in c&&(u.__data__=c.__data__),a[d]=u);return new Yt(r,this._parents)}function Tg(e){return e==null?[]:Array.isArray(e)?e:Array.from(e)}function Og(){return[]}function nd(e){return e==null?Og:function(){return this.querySelectorAll(e)}}function Pg(e){return function(){return Tg(e.apply(this,arguments))}}function Cg(e){typeof e=="function"?e=Pg(e):e=nd(e);for(var t=this._groups,n=t.length,r=[],i=[],o=0;o<n;++o)for(var s=t[o],a=s.length,c,u=0;u<a;++u)(c=s[u])&&(r.push(e.call(c,c.__data__,u,s)),i.push(c));return new Yt(r,i)}function rd(e){return function(){return this.matches(e)}}function id(e){return function(t){return t.matches(e)}}var Ag=Array.prototype.find;function Mg(e){return function(){return Ag.call(this.children,e)}}function Dg(){return this.firstElementChild}function Rg(e){return this.select(e==null?Dg:Mg(typeof e=="function"?e:id(e)))}var zg=Array.prototype.filter;function Lg(){return Array.from(this.children)}function Vg(e){return function(){return zg.call(this.children,e)}}function Fg(e){return this.selectAll(e==null?Lg:Vg(typeof e=="function"?e:id(e)))}function Hg(e){typeof e!="function"&&(e=rd(e));for(var t=this._groups,n=t.length,r=new Array(n),i=0;i<n;++i)for(var o=t[i],s=o.length,a=r[i]=[],c,u=0;u<s;++u)(c=o[u])&&e.call(c,c.__data__,u,o)&&a.push(c);return new Yt(r,this._parents)}function od(e){return new Array(e.length)}function Kg(){return new Yt(this._enter||this._groups.map(od),this._parents)}function Zo(e,t){this.ownerDocument=e.ownerDocument,this.namespaceURI=e.namespaceURI,this._next=null,this._parent=e,this.__data__=t}Zo.prototype={constructor:Zo,appendChild:function(e){return this._parent.insertBefore(e,this._next)},insertBefore:function(e,t){return this._parent.insertBefore(e,t)},querySelector:function(e){return this._parent.querySelector(e)},querySelectorAll:function(e){return this._parent.querySelectorAll(e)}};function Bg(e){return function(){return e}}function Wg(e,t,n,r,i,o){for(var s=0,a,c=t.length,u=o.length;s<u;++s)(a=t[s])?(a.__data__=o[s],r[s]=a):n[s]=new Zo(e,o[s]);for(;s<c;++s)(a=t[s])&&(i[s]=a)}function Yg(e,t,n,r,i,o,s){var a,c,u=new Map,d=t.length,h=o.length,f=new Array(d),g;for(a=0;a<d;++a)(c=t[a])&&(f[a]=g=s.call(c,c.__data__,a,t)+"",u.has(g)?i[a]=c:u.set(g,c));for(a=0;a<h;++a)g=s.call(e,o[a],a,o)+"",(c=u.get(g))?(r[a]=c,c.__data__=o[a],u.delete(g)):n[a]=new Zo(e,o[a]);for(a=0;a<d;++a)(c=t[a])&&u.get(f[a])===c&&(i[a]=c)}function Xg(e){return e.__data__}function jg(e,t){if(!arguments.length)return Array.from(this,Xg);var n=t?Yg:Wg,r=this._parents,i=this._groups;typeof e!="function"&&(e=Bg(e));for(var o=i.length,s=new Array(o),a=new Array(o),c=new Array(o),u=0;u<o;++u){var d=r[u],h=i[u],f=h.length,g=Gg(e.call(d,d&&d.__data__,u,r)),p=g.length,b=a[u]=new Array(p),y=s[u]=new Array(p),N=c[u]=new Array(f);n(d,h,b,y,N,g,t);for(var w=0,I=0,m,C;w<p;++w)if(m=b[w]){for(w>=I&&(I=w+1);!(C=y[I])&&++I<p;);m._next=C||null}}return s=new Yt(s,r),s._enter=a,s._exit=c,s}function Gg(e){return typeof e=="object"&&"length"in e?e:Array.from(e)}function Ug(){return new Yt(this._exit||this._groups.map(od),this._parents)}function qg(e,t,n){var r=this.enter(),i=this,o=this.exit();return typeof e=="function"?(r=e(r),r&&(r=r.selection())):r=r.append(e+""),t!=null&&(i=t(i),i&&(i=i.selection())),n==null?o.remove():n(o),r&&i?r.merge(i).order():i}function Zg(e){for(var t=e.selection?e.selection():e,n=this._groups,r=t._groups,i=n.length,o=r.length,s=Math.min(i,o),a=new Array(i),c=0;c<s;++c)for(var u=n[c],d=r[c],h=u.length,f=a[c]=new Array(h),g,p=0;p<h;++p)(g=u[p]||d[p])&&(f[p]=g);for(;c<i;++c)a[c]=n[c];return new Yt(a,this._parents)}function Qg(){for(var e=this._groups,t=-1,n=e.length;++t<n;)for(var r=e[t],i=r.length-1,o=r[i],s;--i>=0;)(s=r[i])&&(o&&s.compareDocumentPosition(o)^4&&o.parentNode.insertBefore(s,o),o=s);return this}function Jg(e){e||(e=$g);function t(h,f){return h&&f?e(h.__data__,f.__data__):!h-!f}for(var n=this._groups,r=n.length,i=new Array(r),o=0;o<r;++o){for(var s=n[o],a=s.length,c=i[o]=new Array(a),u,d=0;d<a;++d)(u=s[d])&&(c[d]=u);c.sort(t)}return new Yt(i,this._parents).order()}function $g(e,t){return e<t?-1:e>t?1:e>=t?0:NaN}function ev(){var e=arguments[0];return arguments[0]=this,e.apply(null,arguments),this}function tv(){return Array.from(this)}function nv(){for(var e=this._groups,t=0,n=e.length;t<n;++t)for(var r=e[t],i=0,o=r.length;i<o;++i){var s=r[i];if(s)return s}return null}function rv(){let e=0;for(const t of this)++e;return e}function iv(){return!this.node()}function ov(e){for(var t=this._groups,n=0,r=t.length;n<r;++n)for(var i=t[n],o=0,s=i.length,a;o<s;++o)(a=i[o])&&e.call(a,a.__data__,o,i);return this}function sv(e){return function(){this.removeAttribute(e)}}function av(e){return function(){this.removeAttributeNS(e.space,e.local)}}function lv(e,t){return function(){this.setAttribute(e,t)}}function cv(e,t){return function(){this.setAttributeNS(e.space,e.local,t)}}function uv(e,t){return function(){var n=t.apply(this,arguments);n==null?this.removeAttribute(e):this.setAttribute(e,n)}}function dv(e,t){return function(){var n=t.apply(this,arguments);n==null?this.removeAttributeNS(e.space,e.local):this.setAttributeNS(e.space,e.local,n)}}function fv(e,t){var n=Ss(e);if(arguments.length<2){var r=this.node();return n.local?r.getAttributeNS(n.space,n.local):r.getAttribute(n)}return this.each((t==null?n.local?av:sv:typeof t=="function"?n.local?dv:uv:n.local?cv:lv)(n,t))}function sd(e){return e.ownerDocument&&e.ownerDocument.defaultView||e.document&&e||e.defaultView}function hv(e){return function(){this.style.removeProperty(e)}}function gv(e,t,n){return function(){this.style.setProperty(e,t,n)}}function vv(e,t,n){return function(){var r=t.apply(this,arguments);r==null?this.style.removeProperty(e):this.style.setProperty(e,r,n)}}function pv(e,t,n){return arguments.length>1?this.each((t==null?hv:typeof t=="function"?vv:gv)(e,t,n??"")):yi(this.node(),e)}function yi(e,t){return e.style.getPropertyValue(t)||sd(e).getComputedStyle(e,null).getPropertyValue(t)}function mv(e){return function(){delete this[e]}}function yv(e,t){return function(){this[e]=t}}function bv(e,t){return function(){var n=t.apply(this,arguments);n==null?delete this[e]:this[e]=n}}function _v(e,t){return arguments.length>1?this.each((t==null?mv:typeof t=="function"?bv:yv)(e,t)):this.node()[e]}function ad(e){return e.trim().split(/^|\s+/)}function al(e){return e.classList||new ld(e)}function ld(e){this._node=e,this._names=ad(e.getAttribute("class")||"")}ld.prototype={add:function(e){var t=this._names.indexOf(e);t<0&&(this._names.push(e),this._node.setAttribute("class",this._names.join(" ")))},remove:function(e){var t=this._names.indexOf(e);t>=0&&(this._names.splice(t,1),this._node.setAttribute("class",this._names.join(" ")))},contains:function(e){return this._names.indexOf(e)>=0}};function cd(e,t){for(var n=al(e),r=-1,i=t.length;++r<i;)n.add(t[r])}function ud(e,t){for(var n=al(e),r=-1,i=t.length;++r<i;)n.remove(t[r])}function wv(e){return function(){cd(this,e)}}function xv(e){return function(){ud(this,e)}}function Ev(e,t){return function(){(t.apply(this,arguments)?cd:ud)(this,e)}}function Nv(e,t){var n=ad(e+"");if(arguments.length<2){for(var r=al(this.node()),i=-1,o=n.length;++i<o;)if(!r.contains(n[i]))return!1;return!0}return this.each((typeof t=="function"?Ev:t?wv:xv)(n,t))}function kv(){this.textContent=""}function Sv(e){return function(){this.textContent=e}}function Iv(e){return function(){var t=e.apply(this,arguments);this.textContent=t??""}}function Tv(e){return arguments.length?this.each(e==null?kv:(typeof e=="function"?Iv:Sv)(e)):this.node().textContent}function Ov(){this.innerHTML=""}function Pv(e){return function(){this.innerHTML=e}}function Cv(e){return function(){var t=e.apply(this,arguments);this.innerHTML=t??""}}function Av(e){return arguments.length?this.each(e==null?Ov:(typeof e=="function"?Cv:Pv)(e)):this.node().innerHTML}function Mv(){this.nextSibling&&this.parentNode.appendChild(this)}function Dv(){return this.each(Mv)}function Rv(){this.previousSibling&&this.parentNode.insertBefore(this,this.parentNode.firstChild)}function zv(){return this.each(Rv)}function Lv(e){var t=typeof e=="function"?e:td(e);return this.select(function(){return this.appendChild(t.apply(this,arguments))})}function Vv(){return null}function Fv(e,t){var n=typeof e=="function"?e:td(e),r=t==null?Vv:typeof t=="function"?t:sl(t);return this.select(function(){return this.insertBefore(n.apply(this,arguments),r.apply(this,arguments)||null)})}function Hv(){var e=this.parentNode;e&&e.removeChild(this)}function Kv(){return this.each(Hv)}function Bv(){var e=this.cloneNode(!1),t=this.parentNode;return t?t.insertBefore(e,this.nextSibling):e}function Wv(){var e=this.cloneNode(!0),t=this.parentNode;return t?t.insertBefore(e,this.nextSibling):e}function Yv(e){return this.select(e?Wv:Bv)}function Xv(e){return arguments.length?this.property("__data__",e):this.node().__data__}function jv(e){return function(t){e.call(this,t,this.__data__)}}function Gv(e){return e.trim().split(/^|\s+/).map(function(t){var n="",r=t.indexOf(".");return r>=0&&(n=t.slice(r+1),t=t.slice(0,r)),{type:t,name:n}})}function Uv(e){return function(){var t=this.__on;if(t){for(var n=0,r=-1,i=t.length,o;n<i;++n)o=t[n],(!e.type||o.type===e.type)&&o.name===e.name?this.removeEventListener(o.type,o.listener,o.options):t[++r]=o;++r?t.length=r:delete this.__on}}}function qv(e,t,n){return function(){var r=this.__on,i,o=jv(t);if(r){for(var s=0,a=r.length;s<a;++s)if((i=r[s]).type===e.type&&i.name===e.name){this.removeEventListener(i.type,i.listener,i.options),this.addEventListener(i.type,i.listener=o,i.options=n),i.value=t;return}}this.addEventListener(e.type,o,n),i={type:e.type,name:e.name,value:t,listener:o,options:n},r?r.push(i):this.__on=[i]}}function Zv(e,t,n){var r=Gv(e+""),i,o=r.length,s;if(arguments.length<2){var a=this.node().__on;if(a){for(var c=0,u=a.length,d;c<u;++c)for(i=0,d=a[c];i<o;++i)if((s=r[i]).type===d.type&&s.name===d.name)return d.value}return}for(a=t?qv:Uv,i=0;i<o;++i)this.each(a(r[i],t,n));return this}function dd(e,t,n){var r=sd(e),i=r.CustomEvent;typeof i=="function"?i=new i(t,n):(i=r.document.createEvent("Event"),n?(i.initEvent(t,n.bubbles,n.cancelable),i.detail=n.detail):i.initEvent(t,!1,!1)),e.dispatchEvent(i)}function Qv(e,t){return function(){return dd(this,e,t)}}function Jv(e,t){return function(){return dd(this,e,t.apply(this,arguments))}}function $v(e,t){return this.each((typeof t=="function"?Jv:Qv)(e,t))}function*ep(){for(var e=this._groups,t=0,n=e.length;t<n;++t)for(var r=e[t],i=0,o=r.length,s;i<o;++i)(s=r[i])&&(yield s)}var fd=[null];function Yt(e,t){this._groups=e,this._parents=t}function bo(){return new Yt([[document.documentElement]],fd)}function tp(){return this}Yt.prototype=bo.prototype={constructor:Yt,select:Ig,selectAll:Cg,selectChild:Rg,selectChildren:Fg,filter:Hg,data:jg,enter:Kg,exit:Ug,join:qg,merge:Zg,selection:tp,order:Qg,sort:Jg,call:ev,nodes:tv,node:nv,size:rv,empty:iv,each:ov,attr:fv,style:pv,property:_v,classed:Nv,text:Tv,html:Av,raise:Dv,lower:zv,append:Lv,insert:Fv,remove:Kv,clone:Yv,datum:Xv,on:Zv,dispatch:$v,[Symbol.iterator]:ep};function Qt(e){return typeof e=="string"?new Yt([[document.querySelector(e)]],[document.documentElement]):new Yt([[e]],fd)}function np(e){let t;for(;t=e.sourceEvent;)e=t;return e}function Nn(e,t){if(e=np(e),t===void 0&&(t=e.currentTarget),t){var n=t.ownerSVGElement||t;if(n.createSVGPoint){var r=n.createSVGPoint();return r.x=e.clientX,r.y=e.clientY,r=r.matrixTransform(t.getScreenCTM().inverse()),[r.x,r.y]}if(t.getBoundingClientRect){var i=t.getBoundingClientRect();return[e.clientX-i.left-t.clientLeft,e.clientY-i.top-t.clientTop]}}return[e.pageX,e.pageY]}const rp={passive:!1},Gi={capture:!0,passive:!1};function qs(e){e.stopImmediatePropagation()}function ni(e){e.preventDefault(),e.stopImmediatePropagation()}function hd(e){var t=e.document.documentElement,n=Qt(e).on("dragstart.drag",ni,Gi);"onselectstart"in t?n.on("selectstart.drag",ni,Gi):(t.__noselect=t.style.MozUserSelect,t.style.MozUserSelect="none")}function gd(e,t){var n=e.document.documentElement,r=Qt(e).on("dragstart.drag",null);t&&(r.on("click.drag",ni,Gi),setTimeout(function(){r.on("click.drag",null)},0)),"onselectstart"in n?r.on("selectstart.drag",null):(n.style.MozUserSelect=n.__noselect,delete n.__noselect)}const Ao=e=>()=>e;function Ia(e,{sourceEvent:t,subject:n,target:r,identifier:i,active:o,x:s,y:a,dx:c,dy:u,dispatch:d}){Object.defineProperties(this,{type:{value:e,enumerable:!0,configurable:!0},sourceEvent:{value:t,enumerable:!0,configurable:!0},subject:{value:n,enumerable:!0,configurable:!0},target:{value:r,enumerable:!0,configurable:!0},identifier:{value:i,enumerable:!0,configurable:!0},active:{value:o,enumerable:!0,configurable:!0},x:{value:s,enumerable:!0,configurable:!0},y:{value:a,enumerable:!0,configurable:!0},dx:{value:c,enumerable:!0,configurable:!0},dy:{value:u,enumerable:!0,configurable:!0},_:{value:d}})}Ia.prototype.on=function(){var e=this._.on.apply(this._,arguments);return e===this._?this:e};function ip(e){return!e.ctrlKey&&!e.button}function op(){return this.parentNode}function sp(e,t){return t??{x:e.x,y:e.y}}function ap(){return navigator.maxTouchPoints||"ontouchstart"in this}function vd(){var e=ip,t=op,n=sp,r=ap,i={},o=ks("start","drag","end"),s=0,a,c,u,d,h=0;function f(m){m.on("mousedown.drag",g).filter(r).on("touchstart.drag",y).on("touchmove.drag",N,rp).on("touchend.drag touchcancel.drag",w).style("touch-action","none").style("-webkit-tap-highlight-color","rgba(0,0,0,0)")}function g(m,C){if(!(d||!e.call(this,m,C))){var O=I(this,t.call(this,m,C),m,C,"mouse");O&&(Qt(m.view).on("mousemove.drag",p,Gi).on("mouseup.drag",b,Gi),hd(m.view),qs(m),u=!1,a=m.clientX,c=m.clientY,O("start",m))}}function p(m){if(ni(m),!u){var C=m.clientX-a,O=m.clientY-c;u=C*C+O*O>h}i.mouse("drag",m)}function b(m){Qt(m.view).on("mousemove.drag mouseup.drag",null),gd(m.view,u),ni(m),i.mouse("end",m)}function y(m,C){if(e.call(this,m,C)){var O=m.changedTouches,k=t.call(this,m,C),S=O.length,F,D;for(F=0;F<S;++F)(D=I(this,k,m,C,O[F].identifier,O[F]))&&(qs(m),D("start",m,O[F]))}}function N(m){var C=m.changedTouches,O=C.length,k,S;for(k=0;k<O;++k)(S=i[C[k].identifier])&&(ni(m),S("drag",m,C[k]))}function w(m){var C=m.changedTouches,O=C.length,k,S;for(d&&clearTimeout(d),d=setTimeout(function(){d=null},500),k=0;k<O;++k)(S=i[C[k].identifier])&&(qs(m),S("end",m,C[k]))}function I(m,C,O,k,S,F){var D=o.copy(),E=Nn(F||O,C),_,x,v;if((v=n.call(m,new Ia("beforestart",{sourceEvent:O,target:f,identifier:S,active:s,x:E[0],y:E[1],dx:0,dy:0,dispatch:D}),k))!=null)return _=v.x-E[0]||0,x=v.y-E[1]||0,function A(T,M,L){var H=E,B;switch(T){case"start":i[S]=A,B=s++;break;case"end":delete i[S],--s;case"drag":E=Nn(L||M,C),B=s;break}D.call(T,m,new Ia(T,{sourceEvent:M,subject:v,target:f,identifier:S,active:B,x:E[0]+_,y:E[1]+x,dx:E[0]-H[0],dy:E[1]-H[1],dispatch:D}),k)}}return f.filter=function(m){return arguments.length?(e=typeof m=="function"?m:Ao(!!m),f):e},f.container=function(m){return arguments.length?(t=typeof m=="function"?m:Ao(m),f):t},f.subject=function(m){return arguments.length?(n=typeof m=="function"?m:Ao(m),f):n},f.touchable=function(m){return arguments.length?(r=typeof m=="function"?m:Ao(!!m),f):r},f.on=function(){var m=o.on.apply(o,arguments);return m===o?f:m},f.clickDistance=function(m){return arguments.length?(h=(m=+m)*m,f):Math.sqrt(h)},f}function ll(e,t,n){e.prototype=t.prototype=n,n.constructor=e}function pd(e,t){var n=Object.create(e.prototype);for(var r in t)n[r]=t[r];return n}function _o(){}var Ui=.7,Qo=1/Ui,ri="\\s*([+-]?\\d+)\\s*",qi="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)\\s*",Mn="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*",lp=/^#([0-9a-f]{3,8})$/,cp=new RegExp(`^rgb\\(${ri},${ri},${ri}\\)$`),up=new RegExp(`^rgb\\(${Mn},${Mn},${Mn}\\)$`),dp=new RegExp(`^rgba\\(${ri},${ri},${ri},${qi}\\)$`),fp=new RegExp(`^rgba\\(${Mn},${Mn},${Mn},${qi}\\)$`),hp=new RegExp(`^hsl\\(${qi},${Mn},${Mn}\\)$`),gp=new RegExp(`^hsla\\(${qi},${Mn},${Mn},${qi}\\)$`),$l={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};ll(_o,Vr,{copy(e){return Object.assign(new this.constructor,this,e)},displayable(){return this.rgb().displayable()},hex:ec,formatHex:ec,formatHex8:vp,formatHsl:pp,formatRgb:tc,toString:tc});function ec(){return this.rgb().formatHex()}function vp(){return this.rgb().formatHex8()}function pp(){return md(this).formatHsl()}function tc(){return this.rgb().formatRgb()}function Vr(e){var t,n;return e=(e+"").trim().toLowerCase(),(t=lp.exec(e))?(n=t[1].length,t=parseInt(t[1],16),n===6?nc(t):n===3?new Vt(t>>8&15|t>>4&240,t>>4&15|t&240,(t&15)<<4|t&15,1):n===8?Mo(t>>24&255,t>>16&255,t>>8&255,(t&255)/255):n===4?Mo(t>>12&15|t>>8&240,t>>8&15|t>>4&240,t>>4&15|t&240,((t&15)<<4|t&15)/255):null):(t=cp.exec(e))?new Vt(t[1],t[2],t[3],1):(t=up.exec(e))?new Vt(t[1]*255/100,t[2]*255/100,t[3]*255/100,1):(t=dp.exec(e))?Mo(t[1],t[2],t[3],t[4]):(t=fp.exec(e))?Mo(t[1]*255/100,t[2]*255/100,t[3]*255/100,t[4]):(t=hp.exec(e))?oc(t[1],t[2]/100,t[3]/100,1):(t=gp.exec(e))?oc(t[1],t[2]/100,t[3]/100,t[4]):$l.hasOwnProperty(e)?nc($l[e]):e==="transparent"?new Vt(NaN,NaN,NaN,0):null}function nc(e){return new Vt(e>>16&255,e>>8&255,e&255,1)}function Mo(e,t,n,r){return r<=0&&(e=t=n=NaN),new Vt(e,t,n,r)}function mp(e){return e instanceof _o||(e=Vr(e)),e?(e=e.rgb(),new Vt(e.r,e.g,e.b,e.opacity)):new Vt}function Ta(e,t,n,r){return arguments.length===1?mp(e):new Vt(e,t,n,r??1)}function Vt(e,t,n,r){this.r=+e,this.g=+t,this.b=+n,this.opacity=+r}ll(Vt,Ta,pd(_o,{brighter(e){return e=e==null?Qo:Math.pow(Qo,e),new Vt(this.r*e,this.g*e,this.b*e,this.opacity)},darker(e){return e=e==null?Ui:Math.pow(Ui,e),new Vt(this.r*e,this.g*e,this.b*e,this.opacity)},rgb(){return this},clamp(){return new Vt(Mr(this.r),Mr(this.g),Mr(this.b),Jo(this.opacity))},displayable(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:rc,formatHex:rc,formatHex8:yp,formatRgb:ic,toString:ic}));function rc(){return`#${Nr(this.r)}${Nr(this.g)}${Nr(this.b)}`}function yp(){return`#${Nr(this.r)}${Nr(this.g)}${Nr(this.b)}${Nr((isNaN(this.opacity)?1:this.opacity)*255)}`}function ic(){const e=Jo(this.opacity);return`${e===1?"rgb(":"rgba("}${Mr(this.r)}, ${Mr(this.g)}, ${Mr(this.b)}${e===1?")":`, ${e})`}`}function Jo(e){return isNaN(e)?1:Math.max(0,Math.min(1,e))}function Mr(e){return Math.max(0,Math.min(255,Math.round(e)||0))}function Nr(e){return e=Mr(e),(e<16?"0":"")+e.toString(16)}function oc(e,t,n,r){return r<=0?e=t=n=NaN:n<=0||n>=1?e=t=NaN:t<=0&&(e=NaN),new fn(e,t,n,r)}function md(e){if(e instanceof fn)return new fn(e.h,e.s,e.l,e.opacity);if(e instanceof _o||(e=Vr(e)),!e)return new fn;if(e instanceof fn)return e;e=e.rgb();var t=e.r/255,n=e.g/255,r=e.b/255,i=Math.min(t,n,r),o=Math.max(t,n,r),s=NaN,a=o-i,c=(o+i)/2;return a?(t===o?s=(n-r)/a+(n<r)*6:n===o?s=(r-t)/a+2:s=(t-n)/a+4,a/=c<.5?o+i:2-o-i,s*=60):a=c>0&&c<1?0:s,new fn(s,a,c,e.opacity)}function bp(e,t,n,r){return arguments.length===1?md(e):new fn(e,t,n,r??1)}function fn(e,t,n,r){this.h=+e,this.s=+t,this.l=+n,this.opacity=+r}ll(fn,bp,pd(_o,{brighter(e){return e=e==null?Qo:Math.pow(Qo,e),new fn(this.h,this.s,this.l*e,this.opacity)},darker(e){return e=e==null?Ui:Math.pow(Ui,e),new fn(this.h,this.s,this.l*e,this.opacity)},rgb(){var e=this.h%360+(this.h<0)*360,t=isNaN(e)||isNaN(this.s)?0:this.s,n=this.l,r=n+(n<.5?n:1-n)*t,i=2*n-r;return new Vt(Zs(e>=240?e-240:e+120,i,r),Zs(e,i,r),Zs(e<120?e+240:e-120,i,r),this.opacity)},clamp(){return new fn(sc(this.h),Do(this.s),Do(this.l),Jo(this.opacity))},displayable(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl(){const e=Jo(this.opacity);return`${e===1?"hsl(":"hsla("}${sc(this.h)}, ${Do(this.s)*100}%, ${Do(this.l)*100}%${e===1?")":`, ${e})`}`}}));function sc(e){return e=(e||0)%360,e<0?e+360:e}function Do(e){return Math.max(0,Math.min(1,e||0))}function Zs(e,t,n){return(e<60?t+(n-t)*e/60:e<180?n:e<240?t+(n-t)*(240-e)/60:t)*255}const cl=e=>()=>e;function _p(e,t){return function(n){return e+n*t}}function wp(e,t,n){return e=Math.pow(e,n),t=Math.pow(t,n)-e,n=1/n,function(r){return Math.pow(e+r*t,n)}}function xp(e){return(e=+e)==1?yd:function(t,n){return n-t?wp(t,n,e):cl(isNaN(t)?n:t)}}function yd(e,t){var n=t-e;return n?_p(e,n):cl(isNaN(e)?t:e)}const $o=function e(t){var n=xp(t);function r(i,o){var s=n((i=Ta(i)).r,(o=Ta(o)).r),a=n(i.g,o.g),c=n(i.b,o.b),u=yd(i.opacity,o.opacity);return function(d){return i.r=s(d),i.g=a(d),i.b=c(d),i.opacity=u(d),i+""}}return r.gamma=e,r}(1);function Ep(e,t){t||(t=[]);var n=e?Math.min(t.length,e.length):0,r=t.slice(),i;return function(o){for(i=0;i<n;++i)r[i]=e[i]*(1-o)+t[i]*o;return r}}function Np(e){return ArrayBuffer.isView(e)&&!(e instanceof DataView)}function kp(e,t){var n=t?t.length:0,r=e?Math.min(n,e.length):0,i=new Array(r),o=new Array(n),s;for(s=0;s<r;++s)i[s]=Wi(e[s],t[s]);for(;s<n;++s)o[s]=t[s];return function(a){for(s=0;s<r;++s)o[s]=i[s](a);return o}}function Sp(e,t){var n=new Date;return e=+e,t=+t,function(r){return n.setTime(e*(1-r)+t*r),n}}function On(e,t){return e=+e,t=+t,function(n){return e*(1-n)+t*n}}function Ip(e,t){var n={},r={},i;(e===null||typeof e!="object")&&(e={}),(t===null||typeof t!="object")&&(t={});for(i in t)i in e?n[i]=Wi(e[i],t[i]):r[i]=t[i];return function(o){for(i in n)r[i]=n[i](o);return r}}var Oa=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,Qs=new RegExp(Oa.source,"g");function Tp(e){return function(){return e}}function Op(e){return function(t){return e(t)+""}}function bd(e,t){var n=Oa.lastIndex=Qs.lastIndex=0,r,i,o,s=-1,a=[],c=[];for(e=e+"",t=t+"";(r=Oa.exec(e))&&(i=Qs.exec(t));)(o=i.index)>n&&(o=t.slice(n,o),a[s]?a[s]+=o:a[++s]=o),(r=r[0])===(i=i[0])?a[s]?a[s]+=i:a[++s]=i:(a[++s]=null,c.push({i:s,x:On(r,i)})),n=Qs.lastIndex;return n<t.length&&(o=t.slice(n),a[s]?a[s]+=o:a[++s]=o),a.length<2?c[0]?Op(c[0].x):Tp(t):(t=c.length,function(u){for(var d=0,h;d<t;++d)a[(h=c[d]).i]=h.x(u);return a.join("")})}function Wi(e,t){var n=typeof t,r;return t==null||n==="boolean"?cl(t):(n==="number"?On:n==="string"?(r=Vr(t))?(t=r,$o):bd:t instanceof Vr?$o:t instanceof Date?Sp:Np(t)?Ep:Array.isArray(t)?kp:typeof t.valueOf!="function"&&typeof t.toString!="function"||isNaN(t)?Ip:On)(e,t)}var ac=180/Math.PI,Pa={translateX:0,translateY:0,rotate:0,skewX:0,scaleX:1,scaleY:1};function _d(e,t,n,r,i,o){var s,a,c;return(s=Math.sqrt(e*e+t*t))&&(e/=s,t/=s),(c=e*n+t*r)&&(n-=e*c,r-=t*c),(a=Math.sqrt(n*n+r*r))&&(n/=a,r/=a,c/=a),e*r<t*n&&(e=-e,t=-t,c=-c,s=-s),{translateX:i,translateY:o,rotate:Math.atan2(t,e)*ac,skewX:Math.atan(c)*ac,scaleX:s,scaleY:a}}var Ro;function Pp(e){const t=new(typeof DOMMatrix=="function"?DOMMatrix:WebKitCSSMatrix)(e+"");return t.isIdentity?Pa:_d(t.a,t.b,t.c,t.d,t.e,t.f)}function Cp(e){return e==null||(Ro||(Ro=document.createElementNS("http://www.w3.org/2000/svg","g")),Ro.setAttribute("transform",e),!(e=Ro.transform.baseVal.consolidate()))?Pa:(e=e.matrix,_d(e.a,e.b,e.c,e.d,e.e,e.f))}function wd(e,t,n,r){function i(u){return u.length?u.pop()+" ":""}function o(u,d,h,f,g,p){if(u!==h||d!==f){var b=g.push("translate(",null,t,null,n);p.push({i:b-4,x:On(u,h)},{i:b-2,x:On(d,f)})}else(h||f)&&g.push("translate("+h+t+f+n)}function s(u,d,h,f){u!==d?(u-d>180?d+=360:d-u>180&&(u+=360),f.push({i:h.push(i(h)+"rotate(",null,r)-2,x:On(u,d)})):d&&h.push(i(h)+"rotate("+d+r)}function a(u,d,h,f){u!==d?f.push({i:h.push(i(h)+"skewX(",null,r)-2,x:On(u,d)}):d&&h.push(i(h)+"skewX("+d+r)}function c(u,d,h,f,g,p){if(u!==h||d!==f){var b=g.push(i(g)+"scale(",null,",",null,")");p.push({i:b-4,x:On(u,h)},{i:b-2,x:On(d,f)})}else(h!==1||f!==1)&&g.push(i(g)+"scale("+h+","+f+")")}return function(u,d){var h=[],f=[];return u=e(u),d=e(d),o(u.translateX,u.translateY,d.translateX,d.translateY,h,f),s(u.rotate,d.rotate,h,f),a(u.skewX,d.skewX,h,f),c(u.scaleX,u.scaleY,d.scaleX,d.scaleY,h,f),u=d=null,function(g){for(var p=-1,b=f.length,y;++p<b;)h[(y=f[p]).i]=y.x(g);return h.join("")}}}var Ap=wd(Pp,"px, ","px)","deg)"),Mp=wd(Cp,", ",")",")"),Dp=1e-12;function lc(e){return((e=Math.exp(e))+1/e)/2}function Rp(e){return((e=Math.exp(e))-1/e)/2}function zp(e){return((e=Math.exp(2*e))-1)/(e+1)}const Xo=function e(t,n,r){function i(o,s){var a=o[0],c=o[1],u=o[2],d=s[0],h=s[1],f=s[2],g=d-a,p=h-c,b=g*g+p*p,y,N;if(b<Dp)N=Math.log(f/u)/t,y=function(k){return[a+k*g,c+k*p,u*Math.exp(t*k*N)]};else{var w=Math.sqrt(b),I=(f*f-u*u+r*b)/(2*u*n*w),m=(f*f-u*u-r*b)/(2*f*n*w),C=Math.log(Math.sqrt(I*I+1)-I),O=Math.log(Math.sqrt(m*m+1)-m);N=(O-C)/t,y=function(k){var S=k*N,F=lc(C),D=u/(n*w)*(F*zp(t*S+C)-Rp(C));return[a+D*g,c+D*p,u*F/lc(t*S+C)]}}return y.duration=N*1e3*t/Math.SQRT2,y}return i.rho=function(o){var s=Math.max(.001,+o),a=s*s,c=a*a;return e(s,a,c)},i}(Math.SQRT2,2,4);var bi=0,Vi=0,Ri=0,xd=1e3,es,Fi,ts=0,Fr=0,Is=0,Zi=typeof performance=="object"&&performance.now?performance:Date,Ed=typeof window=="object"&&window.requestAnimationFrame?window.requestAnimationFrame.bind(window):function(e){setTimeout(e,17)};function ul(){return Fr||(Ed(Lp),Fr=Zi.now()+Is)}function Lp(){Fr=0}function ns(){this._call=this._time=this._next=null}ns.prototype=Nd.prototype={constructor:ns,restart:function(e,t,n){if(typeof e!="function")throw new TypeError("callback is not a function");n=(n==null?ul():+n)+(t==null?0:+t),!this._next&&Fi!==this&&(Fi?Fi._next=this:es=this,Fi=this),this._call=e,this._time=n,Ca()},stop:function(){this._call&&(this._call=null,this._time=1/0,Ca())}};function Nd(e,t,n){var r=new ns;return r.restart(e,t,n),r}function Vp(){ul(),++bi;for(var e=es,t;e;)(t=Fr-e._time)>=0&&e._call.call(void 0,t),e=e._next;--bi}function cc(){Fr=(ts=Zi.now())+Is,bi=Vi=0;try{Vp()}finally{bi=0,Hp(),Fr=0}}function Fp(){var e=Zi.now(),t=e-ts;t>xd&&(Is-=t,ts=e)}function Hp(){for(var e,t=es,n,r=1/0;t;)t._call?(r>t._time&&(r=t._time),e=t,t=t._next):(n=t._next,t._next=null,t=e?e._next=n:es=n);Fi=e,Ca(r)}function Ca(e){if(!bi){Vi&&(Vi=clearTimeout(Vi));var t=e-Fr;t>24?(e<1/0&&(Vi=setTimeout(cc,e-Zi.now()-Is)),Ri&&(Ri=clearInterval(Ri))):(Ri||(ts=Zi.now(),Ri=setInterval(Fp,xd)),bi=1,Ed(cc))}}function uc(e,t,n){var r=new ns;return t=t==null?0:+t,r.restart(i=>{r.stop(),e(i+t)},t,n),r}var Kp=ks("start","end","cancel","interrupt"),Bp=[],kd=0,dc=1,Aa=2,jo=3,fc=4,Ma=5,Go=6;function Ts(e,t,n,r,i,o){var s=e.__transition;if(!s)e.__transition={};else if(n in s)return;Wp(e,n,{name:t,index:r,group:i,on:Kp,tween:Bp,time:o.time,delay:o.delay,duration:o.duration,ease:o.ease,timer:null,state:kd})}function dl(e,t){var n=bn(e,t);if(n.state>kd)throw new Error("too late; already scheduled");return n}function Vn(e,t){var n=bn(e,t);if(n.state>jo)throw new Error("too late; already running");return n}function bn(e,t){var n=e.__transition;if(!n||!(n=n[t]))throw new Error("transition not found");return n}function Wp(e,t,n){var r=e.__transition,i;r[t]=n,n.timer=Nd(o,0,n.time);function o(u){n.state=dc,n.timer.restart(s,n.delay,n.time),n.delay<=u&&s(u-n.delay)}function s(u){var d,h,f,g;if(n.state!==dc)return c();for(d in r)if(g=r[d],g.name===n.name){if(g.state===jo)return uc(s);g.state===fc?(g.state=Go,g.timer.stop(),g.on.call("interrupt",e,e.__data__,g.index,g.group),delete r[d]):+d<t&&(g.state=Go,g.timer.stop(),g.on.call("cancel",e,e.__data__,g.index,g.group),delete r[d])}if(uc(function(){n.state===jo&&(n.state=fc,n.timer.restart(a,n.delay,n.time),a(u))}),n.state=Aa,n.on.call("start",e,e.__data__,n.index,n.group),n.state===Aa){for(n.state=jo,i=new Array(f=n.tween.length),d=0,h=-1;d<f;++d)(g=n.tween[d].value.call(e,e.__data__,n.index,n.group))&&(i[++h]=g);i.length=h+1}}function a(u){for(var d=u<n.duration?n.ease.call(null,u/n.duration):(n.timer.restart(c),n.state=Ma,1),h=-1,f=i.length;++h<f;)i[h].call(e,d);n.state===Ma&&(n.on.call("end",e,e.__data__,n.index,n.group),c())}function c(){n.state=Go,n.timer.stop(),delete r[t];for(var u in r)return;delete e.__transition}}function Uo(e,t){var n=e.__transition,r,i,o=!0,s;if(n){t=t==null?null:t+"";for(s in n){if((r=n[s]).name!==t){o=!1;continue}i=r.state>Aa&&r.state<Ma,r.state=Go,r.timer.stop(),r.on.call(i?"interrupt":"cancel",e,e.__data__,r.index,r.group),delete n[s]}o&&delete e.__transition}}function Yp(e){return this.each(function(){Uo(this,e)})}function Xp(e,t){var n,r;return function(){var i=Vn(this,e),o=i.tween;if(o!==n){r=n=o;for(var s=0,a=r.length;s<a;++s)if(r[s].name===t){r=r.slice(),r.splice(s,1);break}}i.tween=r}}function jp(e,t,n){var r,i;if(typeof n!="function")throw new Error;return function(){var o=Vn(this,e),s=o.tween;if(s!==r){i=(r=s).slice();for(var a={name:t,value:n},c=0,u=i.length;c<u;++c)if(i[c].name===t){i[c]=a;break}c===u&&i.push(a)}o.tween=i}}function Gp(e,t){var n=this._id;if(e+="",arguments.length<2){for(var r=bn(this.node(),n).tween,i=0,o=r.length,s;i<o;++i)if((s=r[i]).name===e)return s.value;return null}return this.each((t==null?Xp:jp)(n,e,t))}function fl(e,t,n){var r=e._id;return e.each(function(){var i=Vn(this,r);(i.value||(i.value={}))[t]=n.apply(this,arguments)}),function(i){return bn(i,r).value[t]}}function Sd(e,t){var n;return(typeof t=="number"?On:t instanceof Vr?$o:(n=Vr(t))?(t=n,$o):bd)(e,t)}function Up(e){return function(){this.removeAttribute(e)}}function qp(e){return function(){this.removeAttributeNS(e.space,e.local)}}function Zp(e,t,n){var r,i=n+"",o;return function(){var s=this.getAttribute(e);return s===i?null:s===r?o:o=t(r=s,n)}}function Qp(e,t,n){var r,i=n+"",o;return function(){var s=this.getAttributeNS(e.space,e.local);return s===i?null:s===r?o:o=t(r=s,n)}}function Jp(e,t,n){var r,i,o;return function(){var s,a=n(this),c;return a==null?void this.removeAttribute(e):(s=this.getAttribute(e),c=a+"",s===c?null:s===r&&c===i?o:(i=c,o=t(r=s,a)))}}function $p(e,t,n){var r,i,o;return function(){var s,a=n(this),c;return a==null?void this.removeAttributeNS(e.space,e.local):(s=this.getAttributeNS(e.space,e.local),c=a+"",s===c?null:s===r&&c===i?o:(i=c,o=t(r=s,a)))}}function em(e,t){var n=Ss(e),r=n==="transform"?Mp:Sd;return this.attrTween(e,typeof t=="function"?(n.local?$p:Jp)(n,r,fl(this,"attr."+e,t)):t==null?(n.local?qp:Up)(n):(n.local?Qp:Zp)(n,r,t))}function tm(e,t){return function(n){this.setAttribute(e,t.call(this,n))}}function nm(e,t){return function(n){this.setAttributeNS(e.space,e.local,t.call(this,n))}}function rm(e,t){var n,r;function i(){var o=t.apply(this,arguments);return o!==r&&(n=(r=o)&&nm(e,o)),n}return i._value=t,i}function im(e,t){var n,r;function i(){var o=t.apply(this,arguments);return o!==r&&(n=(r=o)&&tm(e,o)),n}return i._value=t,i}function om(e,t){var n="attr."+e;if(arguments.length<2)return(n=this.tween(n))&&n._value;if(t==null)return this.tween(n,null);if(typeof t!="function")throw new Error;var r=Ss(e);return this.tween(n,(r.local?rm:im)(r,t))}function sm(e,t){return function(){dl(this,e).delay=+t.apply(this,arguments)}}function am(e,t){return t=+t,function(){dl(this,e).delay=t}}function lm(e){var t=this._id;return arguments.length?this.each((typeof e=="function"?sm:am)(t,e)):bn(this.node(),t).delay}function cm(e,t){return function(){Vn(this,e).duration=+t.apply(this,arguments)}}function um(e,t){return t=+t,function(){Vn(this,e).duration=t}}function dm(e){var t=this._id;return arguments.length?this.each((typeof e=="function"?cm:um)(t,e)):bn(this.node(),t).duration}function fm(e,t){if(typeof t!="function")throw new Error;return function(){Vn(this,e).ease=t}}function hm(e){var t=this._id;return arguments.length?this.each(fm(t,e)):bn(this.node(),t).ease}function gm(e,t){return function(){var n=t.apply(this,arguments);if(typeof n!="function")throw new Error;Vn(this,e).ease=n}}function vm(e){if(typeof e!="function")throw new Error;return this.each(gm(this._id,e))}function pm(e){typeof e!="function"&&(e=rd(e));for(var t=this._groups,n=t.length,r=new Array(n),i=0;i<n;++i)for(var o=t[i],s=o.length,a=r[i]=[],c,u=0;u<s;++u)(c=o[u])&&e.call(c,c.__data__,u,o)&&a.push(c);return new er(r,this._parents,this._name,this._id)}function mm(e){if(e._id!==this._id)throw new Error;for(var t=this._groups,n=e._groups,r=t.length,i=n.length,o=Math.min(r,i),s=new Array(r),a=0;a<o;++a)for(var c=t[a],u=n[a],d=c.length,h=s[a]=new Array(d),f,g=0;g<d;++g)(f=c[g]||u[g])&&(h[g]=f);for(;a<r;++a)s[a]=t[a];return new er(s,this._parents,this._name,this._id)}function ym(e){return(e+"").trim().split(/^|\s+/).every(function(t){var n=t.indexOf(".");return n>=0&&(t=t.slice(0,n)),!t||t==="start"})}function bm(e,t,n){var r,i,o=ym(t)?dl:Vn;return function(){var s=o(this,e),a=s.on;a!==r&&(i=(r=a).copy()).on(t,n),s.on=i}}function _m(e,t){var n=this._id;return arguments.length<2?bn(this.node(),n).on.on(e):this.each(bm(n,e,t))}function wm(e){return function(){var t=this.parentNode;for(var n in this.__transition)if(+n!==e)return;t&&t.removeChild(this)}}function xm(){return this.on("end.remove",wm(this._id))}function Em(e){var t=this._name,n=this._id;typeof e!="function"&&(e=sl(e));for(var r=this._groups,i=r.length,o=new Array(i),s=0;s<i;++s)for(var a=r[s],c=a.length,u=o[s]=new Array(c),d,h,f=0;f<c;++f)(d=a[f])&&(h=e.call(d,d.__data__,f,a))&&("__data__"in d&&(h.__data__=d.__data__),u[f]=h,Ts(u[f],t,n,f,u,bn(d,n)));return new er(o,this._parents,t,n)}function Nm(e){var t=this._name,n=this._id;typeof e!="function"&&(e=nd(e));for(var r=this._groups,i=r.length,o=[],s=[],a=0;a<i;++a)for(var c=r[a],u=c.length,d,h=0;h<u;++h)if(d=c[h]){for(var f=e.call(d,d.__data__,h,c),g,p=bn(d,n),b=0,y=f.length;b<y;++b)(g=f[b])&&Ts(g,t,n,b,f,p);o.push(f),s.push(d)}return new er(o,s,t,n)}var km=bo.prototype.constructor;function Sm(){return new km(this._groups,this._parents)}function Im(e,t){var n,r,i;return function(){var o=yi(this,e),s=(this.style.removeProperty(e),yi(this,e));return o===s?null:o===n&&s===r?i:i=t(n=o,r=s)}}function Id(e){return function(){this.style.removeProperty(e)}}function Tm(e,t,n){var r,i=n+"",o;return function(){var s=yi(this,e);return s===i?null:s===r?o:o=t(r=s,n)}}function Om(e,t,n){var r,i,o;return function(){var s=yi(this,e),a=n(this),c=a+"";return a==null&&(c=a=(this.style.removeProperty(e),yi(this,e))),s===c?null:s===r&&c===i?o:(i=c,o=t(r=s,a))}}function Pm(e,t){var n,r,i,o="style."+t,s="end."+o,a;return function(){var c=Vn(this,e),u=c.on,d=c.value[o]==null?a||(a=Id(t)):void 0;(u!==n||i!==d)&&(r=(n=u).copy()).on(s,i=d),c.on=r}}function Cm(e,t,n){var r=(e+="")=="transform"?Ap:Sd;return t==null?this.styleTween(e,Im(e,r)).on("end.style."+e,Id(e)):typeof t=="function"?this.styleTween(e,Om(e,r,fl(this,"style."+e,t))).each(Pm(this._id,e)):this.styleTween(e,Tm(e,r,t),n).on("end.style."+e,null)}function Am(e,t,n){return function(r){this.style.setProperty(e,t.call(this,r),n)}}function Mm(e,t,n){var r,i;function o(){var s=t.apply(this,arguments);return s!==i&&(r=(i=s)&&Am(e,s,n)),r}return o._value=t,o}function Dm(e,t,n){var r="style."+(e+="");if(arguments.length<2)return(r=this.tween(r))&&r._value;if(t==null)return this.tween(r,null);if(typeof t!="function")throw new Error;return this.tween(r,Mm(e,t,n??""))}function Rm(e){return function(){this.textContent=e}}function zm(e){return function(){var t=e(this);this.textContent=t??""}}function Lm(e){return this.tween("text",typeof e=="function"?zm(fl(this,"text",e)):Rm(e==null?"":e+""))}function Vm(e){return function(t){this.textContent=e.call(this,t)}}function Fm(e){var t,n;function r(){var i=e.apply(this,arguments);return i!==n&&(t=(n=i)&&Vm(i)),t}return r._value=e,r}function Hm(e){var t="text";if(arguments.length<1)return(t=this.tween(t))&&t._value;if(e==null)return this.tween(t,null);if(typeof e!="function")throw new Error;return this.tween(t,Fm(e))}function Km(){for(var e=this._name,t=this._id,n=Td(),r=this._groups,i=r.length,o=0;o<i;++o)for(var s=r[o],a=s.length,c,u=0;u<a;++u)if(c=s[u]){var d=bn(c,t);Ts(c,e,n,u,s,{time:d.time+d.delay+d.duration,delay:0,duration:d.duration,ease:d.ease})}return new er(r,this._parents,e,n)}function Bm(){var e,t,n=this,r=n._id,i=n.size();return new Promise(function(o,s){var a={value:s},c={value:function(){--i===0&&o()}};n.each(function(){var u=Vn(this,r),d=u.on;d!==e&&(t=(e=d).copy(),t._.cancel.push(a),t._.interrupt.push(a),t._.end.push(c)),u.on=t}),i===0&&o()})}var Wm=0;function er(e,t,n,r){this._groups=e,this._parents=t,this._name=n,this._id=r}function Td(){return++Wm}var Hn=bo.prototype;er.prototype={constructor:er,select:Em,selectAll:Nm,selectChild:Hn.selectChild,selectChildren:Hn.selectChildren,filter:pm,merge:mm,selection:Sm,transition:Km,call:Hn.call,nodes:Hn.nodes,node:Hn.node,size:Hn.size,empty:Hn.empty,each:Hn.each,on:_m,attr:em,attrTween:om,style:Cm,styleTween:Dm,text:Lm,textTween:Hm,remove:xm,tween:Gp,delay:lm,duration:dm,ease:hm,easeVarying:vm,end:Bm,[Symbol.iterator]:Hn[Symbol.iterator]};function Ym(e){return((e*=2)<=1?e*e*e:(e-=2)*e*e+2)/2}var Xm={time:null,delay:0,duration:250,ease:Ym};function jm(e,t){for(var n;!(n=e.__transition)||!(n=n[t]);)if(!(e=e.parentNode))throw new Error(`transition ${t} not found`);return n}function Gm(e){var t,n;e instanceof er?(t=e._id,e=e._name):(t=Td(),(n=Xm).time=ul(),e=e==null?null:e+"");for(var r=this._groups,i=r.length,o=0;o<i;++o)for(var s=r[o],a=s.length,c,u=0;u<a;++u)(c=s[u])&&Ts(c,e,t,u,s,n||jm(c,t));return new er(r,this._parents,e,t)}bo.prototype.interrupt=Yp;bo.prototype.transition=Gm;const zo=e=>()=>e;function Um(e,{sourceEvent:t,target:n,transform:r,dispatch:i}){Object.defineProperties(this,{type:{value:e,enumerable:!0,configurable:!0},sourceEvent:{value:t,enumerable:!0,configurable:!0},target:{value:n,enumerable:!0,configurable:!0},transform:{value:r,enumerable:!0,configurable:!0},_:{value:i}})}function Un(e,t,n){this.k=e,this.x=t,this.y=n}Un.prototype={constructor:Un,scale:function(e){return e===1?this:new Un(this.k*e,this.x,this.y)},translate:function(e,t){return e===0&t===0?this:new Un(this.k,this.x+this.k*e,this.y+this.k*t)},apply:function(e){return[e[0]*this.k+this.x,e[1]*this.k+this.y]},applyX:function(e){return e*this.k+this.x},applyY:function(e){return e*this.k+this.y},invert:function(e){return[(e[0]-this.x)/this.k,(e[1]-this.y)/this.k]},invertX:function(e){return(e-this.x)/this.k},invertY:function(e){return(e-this.y)/this.k},rescaleX:function(e){return e.copy().domain(e.range().map(this.invertX,this).map(e.invert,e))},rescaleY:function(e){return e.copy().domain(e.range().map(this.invertY,this).map(e.invert,e))},toString:function(){return"translate("+this.x+","+this.y+") scale("+this.k+")"}};var Os=new Un(1,0,0);Od.prototype=Un.prototype;function Od(e){for(;!e.__zoom;)if(!(e=e.parentNode))return Os;return e.__zoom}function Js(e){e.stopImmediatePropagation()}function zi(e){e.preventDefault(),e.stopImmediatePropagation()}function qm(e){return(!e.ctrlKey||e.type==="wheel")&&!e.button}function Zm(){var e=this;return e instanceof SVGElement?(e=e.ownerSVGElement||e,e.hasAttribute("viewBox")?(e=e.viewBox.baseVal,[[e.x,e.y],[e.x+e.width,e.y+e.height]]):[[0,0],[e.width.baseVal.value,e.height.baseVal.value]]):[[0,0],[e.clientWidth,e.clientHeight]]}function hc(){return this.__zoom||Os}function Qm(e){return-e.deltaY*(e.deltaMode===1?.05:e.deltaMode?1:.002)*(e.ctrlKey?10:1)}function Jm(){return navigator.maxTouchPoints||"ontouchstart"in this}function $m(e,t,n){var r=e.invertX(t[0][0])-n[0][0],i=e.invertX(t[1][0])-n[1][0],o=e.invertY(t[0][1])-n[0][1],s=e.invertY(t[1][1])-n[1][1];return e.translate(i>r?(r+i)/2:Math.min(0,r)||Math.max(0,i),s>o?(o+s)/2:Math.min(0,o)||Math.max(0,s))}function ey(){var e=qm,t=Zm,n=$m,r=Qm,i=Jm,o=[0,1/0],s=[[-1/0,-1/0],[1/0,1/0]],a=250,c=Xo,u=ks("start","zoom","end"),d,h,f,g=500,p=150,b=0,y=10;function N(v){v.property("__zoom",hc).on("wheel.zoom",S,{passive:!1}).on("mousedown.zoom",F).on("dblclick.zoom",D).filter(i).on("touchstart.zoom",E).on("touchmove.zoom",_).on("touchend.zoom touchcancel.zoom",x).style("-webkit-tap-highlight-color","rgba(0,0,0,0)")}N.transform=function(v,A,T,M){var L=v.selection?v.selection():v;L.property("__zoom",hc),v!==L?C(v,A,T,M):L.interrupt().each(function(){O(this,arguments).event(M).start().zoom(null,typeof A=="function"?A.apply(this,arguments):A).end()})},N.scaleBy=function(v,A,T,M){N.scaleTo(v,function(){var L=this.__zoom.k,H=typeof A=="function"?A.apply(this,arguments):A;return L*H},T,M)},N.scaleTo=function(v,A,T,M){N.transform(v,function(){var L=t.apply(this,arguments),H=this.__zoom,B=T==null?m(L):typeof T=="function"?T.apply(this,arguments):T,G=H.invert(B),U=typeof A=="function"?A.apply(this,arguments):A;return n(I(w(H,U),B,G),L,s)},T,M)},N.translateBy=function(v,A,T,M){N.transform(v,function(){return n(this.__zoom.translate(typeof A=="function"?A.apply(this,arguments):A,typeof T=="function"?T.apply(this,arguments):T),t.apply(this,arguments),s)},null,M)},N.translateTo=function(v,A,T,M,L){N.transform(v,function(){var H=t.apply(this,arguments),B=this.__zoom,G=M==null?m(H):typeof M=="function"?M.apply(this,arguments):M;return n(Os.translate(G[0],G[1]).scale(B.k).translate(typeof A=="function"?-A.apply(this,arguments):-A,typeof T=="function"?-T.apply(this,arguments):-T),H,s)},M,L)};function w(v,A){return A=Math.max(o[0],Math.min(o[1],A)),A===v.k?v:new Un(A,v.x,v.y)}function I(v,A,T){var M=A[0]-T[0]*v.k,L=A[1]-T[1]*v.k;return M===v.x&&L===v.y?v:new Un(v.k,M,L)}function m(v){return[(+v[0][0]+ +v[1][0])/2,(+v[0][1]+ +v[1][1])/2]}function C(v,A,T,M){v.on("start.zoom",function(){O(this,arguments).event(M).start()}).on("interrupt.zoom end.zoom",function(){O(this,arguments).event(M).end()}).tween("zoom",function(){var L=this,H=arguments,B=O(L,H).event(M),G=t.apply(L,H),U=T==null?m(G):typeof T=="function"?T.apply(L,H):T,Q=Math.max(G[1][0]-G[0][0],G[1][1]-G[0][1]),z=L.__zoom,P=typeof A=="function"?A.apply(L,H):A,W=c(z.invert(U).concat(Q/z.k),P.invert(U).concat(Q/P.k));return function(X){if(X===1)X=P;else{var Y=W(X),J=Q/Y[2];X=new Un(J,U[0]-Y[0]*J,U[1]-Y[1]*J)}B.zoom(null,X)}})}function O(v,A,T){return!T&&v.__zooming||new k(v,A)}function k(v,A){this.that=v,this.args=A,this.active=0,this.sourceEvent=null,this.extent=t.apply(v,A),this.taps=0}k.prototype={event:function(v){return v&&(this.sourceEvent=v),this},start:function(){return++this.active===1&&(this.that.__zooming=this,this.emit("start")),this},zoom:function(v,A){return this.mouse&&v!=="mouse"&&(this.mouse[1]=A.invert(this.mouse[0])),this.touch0&&v!=="touch"&&(this.touch0[1]=A.invert(this.touch0[0])),this.touch1&&v!=="touch"&&(this.touch1[1]=A.invert(this.touch1[0])),this.that.__zoom=A,this.emit("zoom"),this},end:function(){return--this.active===0&&(delete this.that.__zooming,this.emit("end")),this},emit:function(v){var A=Qt(this.that).datum();u.call(v,this.that,new Um(v,{sourceEvent:this.sourceEvent,target:N,transform:this.that.__zoom,dispatch:u}),A)}};function S(v,...A){if(!e.apply(this,arguments))return;var T=O(this,A).event(v),M=this.__zoom,L=Math.max(o[0],Math.min(o[1],M.k*Math.pow(2,r.apply(this,arguments)))),H=Nn(v);if(T.wheel)(T.mouse[0][0]!==H[0]||T.mouse[0][1]!==H[1])&&(T.mouse[1]=M.invert(T.mouse[0]=H)),clearTimeout(T.wheel);else{if(M.k===L)return;T.mouse=[H,M.invert(H)],Uo(this),T.start()}zi(v),T.wheel=setTimeout(B,p),T.zoom("mouse",n(I(w(M,L),T.mouse[0],T.mouse[1]),T.extent,s));function B(){T.wheel=null,T.end()}}function F(v,...A){if(f||!e.apply(this,arguments))return;var T=v.currentTarget,M=O(this,A,!0).event(v),L=Qt(v.view).on("mousemove.zoom",U,!0).on("mouseup.zoom",Q,!0),H=Nn(v,T),B=v.clientX,G=v.clientY;hd(v.view),Js(v),M.mouse=[H,this.__zoom.invert(H)],Uo(this),M.start();function U(z){if(zi(z),!M.moved){var P=z.clientX-B,W=z.clientY-G;M.moved=P*P+W*W>b}M.event(z).zoom("mouse",n(I(M.that.__zoom,M.mouse[0]=Nn(z,T),M.mouse[1]),M.extent,s))}function Q(z){L.on("mousemove.zoom mouseup.zoom",null),gd(z.view,M.moved),zi(z),M.event(z).end()}}function D(v,...A){if(e.apply(this,arguments)){var T=this.__zoom,M=Nn(v.changedTouches?v.changedTouches[0]:v,this),L=T.invert(M),H=T.k*(v.shiftKey?.5:2),B=n(I(w(T,H),M,L),t.apply(this,A),s);zi(v),a>0?Qt(this).transition().duration(a).call(C,B,M,v):Qt(this).call(N.transform,B,M,v)}}function E(v,...A){if(e.apply(this,arguments)){var T=v.touches,M=T.length,L=O(this,A,v.changedTouches.length===M).event(v),H,B,G,U;for(Js(v),B=0;B<M;++B)G=T[B],U=Nn(G,this),U=[U,this.__zoom.invert(U),G.identifier],L.touch0?!L.touch1&&L.touch0[2]!==U[2]&&(L.touch1=U,L.taps=0):(L.touch0=U,H=!0,L.taps=1+!!d);d&&(d=clearTimeout(d)),H&&(L.taps<2&&(h=U[0],d=setTimeout(function(){d=null},g)),Uo(this),L.start())}}function _(v,...A){if(this.__zooming){var T=O(this,A).event(v),M=v.changedTouches,L=M.length,H,B,G,U;for(zi(v),H=0;H<L;++H)B=M[H],G=Nn(B,this),T.touch0&&T.touch0[2]===B.identifier?T.touch0[0]=G:T.touch1&&T.touch1[2]===B.identifier&&(T.touch1[0]=G);if(B=T.that.__zoom,T.touch1){var Q=T.touch0[0],z=T.touch0[1],P=T.touch1[0],W=T.touch1[1],X=(X=P[0]-Q[0])*X+(X=P[1]-Q[1])*X,Y=(Y=W[0]-z[0])*Y+(Y=W[1]-z[1])*Y;B=w(B,Math.sqrt(X/Y)),G=[(Q[0]+P[0])/2,(Q[1]+P[1])/2],U=[(z[0]+W[0])/2,(z[1]+W[1])/2]}else if(T.touch0)G=T.touch0[0],U=T.touch0[1];else return;T.zoom("touch",n(I(B,G,U),T.extent,s))}}function x(v,...A){if(this.__zooming){var T=O(this,A).event(v),M=v.changedTouches,L=M.length,H,B;for(Js(v),f&&clearTimeout(f),f=setTimeout(function(){f=null},g),H=0;H<L;++H)B=M[H],T.touch0&&T.touch0[2]===B.identifier?delete T.touch0:T.touch1&&T.touch1[2]===B.identifier&&delete T.touch1;if(T.touch1&&!T.touch0&&(T.touch0=T.touch1,delete T.touch1),T.touch0)T.touch0[1]=this.__zoom.invert(T.touch0[0]);else if(T.end(),T.taps===2&&(B=Nn(B,this),Math.hypot(h[0]-B[0],h[1]-B[1])<y)){var G=Qt(this).on("dblclick.zoom");G&&G.apply(this,arguments)}}}return N.wheelDelta=function(v){return arguments.length?(r=typeof v=="function"?v:zo(+v),N):r},N.filter=function(v){return arguments.length?(e=typeof v=="function"?v:zo(!!v),N):e},N.touchable=function(v){return arguments.length?(i=typeof v=="function"?v:zo(!!v),N):i},N.extent=function(v){return arguments.length?(t=typeof v=="function"?v:zo([[+v[0][0],+v[0][1]],[+v[1][0],+v[1][1]]]),N):t},N.scaleExtent=function(v){return arguments.length?(o[0]=+v[0],o[1]=+v[1],N):[o[0],o[1]]},N.translateExtent=function(v){return arguments.length?(s[0][0]=+v[0][0],s[1][0]=+v[1][0],s[0][1]=+v[0][1],s[1][1]=+v[1][1],N):[[s[0][0],s[0][1]],[s[1][0],s[1][1]]]},N.constrain=function(v){return arguments.length?(n=v,N):n},N.duration=function(v){return arguments.length?(a=+v,N):a},N.interpolate=function(v){return arguments.length?(c=v,N):c},N.on=function(){var v=u.on.apply(u,arguments);return v===u?N:v},N.clickDistance=function(v){return arguments.length?(b=(v=+v)*v,N):Math.sqrt(b)},N.tapDistance=function(v){return arguments.length?(y=+v,N):y},N}const Qi={error001:()=>"[React Flow]: Seems like you have not used zustand provider as an ancestor. Help: https://reactflow.dev/error#001",error002:()=>"It looks like you've created a new nodeTypes or edgeTypes object. If this wasn't on purpose please define the nodeTypes/edgeTypes outside of the component or memoize them.",error003:e=>`Node type "${e}" not found. Using fallback type "default".`,error004:()=>"The React Flow parent container needs a width and a height to render the graph.",error005:()=>"Only child nodes can use a parent extent.",error006:()=>"Can't create edge. An edge needs a source and a target.",error007:e=>`The old edge with id=${e} does not exist.`,error009:e=>`Marker type "${e}" doesn't exist.`,error008:(e,{id:t,sourceHandle:n,targetHandle:r})=>`Couldn't create edge for ${e} handle id: "${e==="source"?n:r}", edge id: ${t}.`,error010:()=>"Handle: No node id found. Make sure to only use a Handle inside a custom Node.",error011:e=>`Edge type "${e}" not found. Using fallback type "default".`,error012:e=>`Node with id "${e}" does not exist, it may have been removed. This can happen when a node is deleted before the "onNodeClick" handler is called.`,error013:(e="react")=>`It seems that you haven't loaded the styles. Please import '@xyflow/${e}/dist/style.css' or base.css to make sure everything is working properly.`,error014:()=>"useNodeConnections: No node ID found. Call useNodeConnections inside a custom Node or provide a node ID.",error015:()=>"It seems that you are trying to drag a node that is not initialized. Please use onNodesChange as explained in the docs."},Da=[[Number.NEGATIVE_INFINITY,Number.NEGATIVE_INFINITY],[Number.POSITIVE_INFINITY,Number.POSITIVE_INFINITY]],Pd=["Enter"," ","Escape"],ty={"node.a11yDescription.default":"Press enter or space to select a node. Press delete to remove it and escape to cancel.","node.a11yDescription.keyboardDisabled":"Press enter or space to select a node. You can then use the arrow keys to move the node around. Press delete to remove it and escape to cancel.","node.a11yDescription.ariaLiveMessage":({direction:e,x:t,y:n})=>`Moved selected node ${e}. New position, x: ${t}, y: ${n}`,"edge.a11yDescription.default":"Press enter or space to select an edge. You can then press delete to remove it or escape to cancel.","controls.ariaLabel":"Control Panel","controls.zoomIn.ariaLabel":"Zoom In","controls.zoomOut.ariaLabel":"Zoom Out","controls.fitView.ariaLabel":"Fit View","controls.interactive.ariaLabel":"Toggle Interactivity","minimap.ariaLabel":"Mini Map","handle.ariaLabel":"Handle"};var _i;(function(e){e.Strict="strict",e.Loose="loose"})(_i||(_i={}));var ii;(function(e){e.Free="free",e.Vertical="vertical",e.Horizontal="horizontal"})(ii||(ii={}));var Ji;(function(e){e.Partial="partial",e.Full="full"})(Ji||(Ji={}));const Ra={inProgress:!1,isValid:null,from:null,fromHandle:null,fromPosition:null,fromNode:null,to:null,toHandle:null,toPosition:null,toNode:null,pointer:null};var ar;(function(e){e.Bezier="default",e.Straight="straight",e.Step="step",e.SmoothStep="smoothstep",e.SimpleBezier="simplebezier"})(ar||(ar={}));var rs;(function(e){e.Arrow="arrow",e.ArrowClosed="arrowclosed"})(rs||(rs={}));var Pe;(function(e){e.Left="left",e.Top="top",e.Right="right",e.Bottom="bottom"})(Pe||(Pe={}));const gc={[Pe.Left]:Pe.Right,[Pe.Right]:Pe.Left,[Pe.Top]:Pe.Bottom,[Pe.Bottom]:Pe.Top};function ny(e,t){if(!e&&!t)return!0;if(!e||!t||e.size!==t.size)return!1;if(!e.size&&!t.size)return!0;for(const n of e.keys())if(!t.has(n))return!1;return!0}function vc(e,t,n){if(!n)return;const r=[];e.forEach((i,o)=>{t!=null&&t.has(o)||r.push(i)}),r.length&&n(r)}function ry(e){return e===null?null:e?"valid":"invalid"}const Cd=e=>"id"in e&&"source"in e&&"target"in e,iy=e=>"id"in e&&"position"in e&&!("source"in e)&&!("target"in e),hl=e=>"id"in e&&"internals"in e&&!("source"in e)&&!("target"in e),wo=(e,t=[0,0])=>{const{width:n,height:r}=jr(e),i=e.origin??t,o=n*i[0],s=r*i[1];return{x:e.position.x-o,y:e.position.y-s}},oy=(e,t={nodeOrigin:[0,0]})=>{if(e.length===0)return{x:0,y:0,width:0,height:0};const n=e.reduce((r,i)=>{const o=typeof i=="string";let s=!t.nodeLookup&&!o?i:void 0;t.nodeLookup&&(s=o?t.nodeLookup.get(i):hl(i)?i:t.nodeLookup.get(i.id));const a=s?is(s,t.nodeOrigin):{x:0,y:0,x2:0,y2:0};return Cs(r,a)},{x:1/0,y:1/0,x2:-1/0,y2:-1/0});return As(n)},Ps=(e,t={})=>{let n={x:1/0,y:1/0,x2:-1/0,y2:-1/0},r=!1;return e.forEach(i=>{(t.filter===void 0||t.filter(i))&&(n=Cs(n,is(i)),r=!0)}),r?As(n):{x:0,y:0,width:0,height:0}},gl=(e,t,[n,r,i]=[0,0,1],o=!1,s=!1)=>{const a={...Eo(t,[n,r,i]),width:t.width/i,height:t.height/i},c=[];for(const u of e.values()){const{measured:d,selectable:h=!0,hidden:f=!1}=u;if(s&&!h||f)continue;const g=d.width??u.width??u.initialWidth??null,p=d.height??u.height??u.initialHeight??null,b=$i(a,xi(u)),y=(g??0)*(p??0),N=o&&b>0;(!u.internals.handleBounds||N||b>=y||u.dragging)&&c.push(u)}return c},sy=(e,t)=>{const n=new Set;return e.forEach(r=>{n.add(r.id)}),t.filter(r=>n.has(r.source)||n.has(r.target))};function ay(e,t){const n=new Map,r=t!=null&&t.nodes?new Set(t.nodes.map(i=>i.id)):null;return e.forEach(i=>{i.measured.width&&i.measured.height&&((t==null?void 0:t.includeHiddenNodes)||!i.hidden)&&(!r||r.has(i.id))&&n.set(i.id,i)}),n}async function ly({nodes:e,width:t,height:n,panZoom:r,minZoom:i,maxZoom:o},s){if(e.size===0)return Promise.resolve(!0);const a=ay(e,s),c=Ps(a),u=vl(c,t,n,(s==null?void 0:s.minZoom)??i,(s==null?void 0:s.maxZoom)??o,(s==null?void 0:s.padding)??.1);return await r.setViewport(u,{duration:s==null?void 0:s.duration,ease:s==null?void 0:s.ease,interpolate:s==null?void 0:s.interpolate}),Promise.resolve(!0)}function Ad({nodeId:e,nextPosition:t,nodeLookup:n,nodeOrigin:r=[0,0],nodeExtent:i,onError:o}){const s=n.get(e),a=s.parentId?n.get(s.parentId):void 0,{x:c,y:u}=a?a.internals.positionAbsolute:{x:0,y:0},d=s.origin??r;let h=s.extent||i;if(s.extent==="parent"&&!s.expandParent)if(!a)o==null||o("005",Qi.error005());else{const g=a.measured.width,p=a.measured.height;g&&p&&(h=[[c,u],[c+g,u+p]])}else a&&Ei(s.extent)&&(h=[[s.extent[0][0]+c,s.extent[0][1]+u],[s.extent[1][0]+c,s.extent[1][1]+u]]);const f=Ei(h)?Hr(t,h,s.measured):t;return(s.measured.width===void 0||s.measured.height===void 0)&&(o==null||o("015",Qi.error015())),{position:{x:f.x-c+(s.measured.width??0)*d[0],y:f.y-u+(s.measured.height??0)*d[1]},positionAbsolute:f}}async function cy({nodesToRemove:e=[],edgesToRemove:t=[],nodes:n,edges:r,onBeforeDelete:i}){const o=new Set(e.map(f=>f.id)),s=[];for(const f of n){if(f.deletable===!1)continue;const g=o.has(f.id),p=!g&&f.parentId&&s.find(b=>b.id===f.parentId);(g||p)&&s.push(f)}const a=new Set(t.map(f=>f.id)),c=r.filter(f=>f.deletable!==!1),d=sy(s,c);for(const f of c)a.has(f.id)&&!d.find(p=>p.id===f.id)&&d.push(f);if(!i)return{edges:d,nodes:s};const h=await i({nodes:s,edges:d});return typeof h=="boolean"?h?{edges:d,nodes:s}:{edges:[],nodes:[]}:h}const wi=(e,t=0,n=1)=>Math.min(Math.max(e,t),n),Hr=(e={x:0,y:0},t,n)=>({x:wi(e.x,t[0][0],t[1][0]-((n==null?void 0:n.width)??0)),y:wi(e.y,t[0][1],t[1][1]-((n==null?void 0:n.height)??0))});function Md(e,t,n){const{width:r,height:i}=jr(n),{x:o,y:s}=n.internals.positionAbsolute;return Hr(e,[[o,s],[o+r,s+i]],t)}const pc=(e,t,n)=>e<t?wi(Math.abs(e-t),1,t)/t:e>n?-wi(Math.abs(e-n),1,t)/t:0,Dd=(e,t,n=15,r=40)=>{const i=pc(e.x,r,t.width-r)*n,o=pc(e.y,r,t.height-r)*n;return[i,o]},Cs=(e,t)=>({x:Math.min(e.x,t.x),y:Math.min(e.y,t.y),x2:Math.max(e.x2,t.x2),y2:Math.max(e.y2,t.y2)}),za=({x:e,y:t,width:n,height:r})=>({x:e,y:t,x2:e+n,y2:t+r}),As=({x:e,y:t,x2:n,y2:r})=>({x:e,y:t,width:n-e,height:r-t}),xi=(e,t=[0,0])=>{var i,o;const{x:n,y:r}=hl(e)?e.internals.positionAbsolute:wo(e,t);return{x:n,y:r,width:((i=e.measured)==null?void 0:i.width)??e.width??e.initialWidth??0,height:((o=e.measured)==null?void 0:o.height)??e.height??e.initialHeight??0}},is=(e,t=[0,0])=>{var i,o;const{x:n,y:r}=hl(e)?e.internals.positionAbsolute:wo(e,t);return{x:n,y:r,x2:n+(((i=e.measured)==null?void 0:i.width)??e.width??e.initialWidth??0),y2:r+(((o=e.measured)==null?void 0:o.height)??e.height??e.initialHeight??0)}},uy=(e,t)=>As(Cs(za(e),za(t))),$i=(e,t)=>{const n=Math.max(0,Math.min(e.x+e.width,t.x+t.width)-Math.max(e.x,t.x)),r=Math.max(0,Math.min(e.y+e.height,t.y+t.height)-Math.max(e.y,t.y));return Math.ceil(n*r)},mc=e=>qn(e.width)&&qn(e.height)&&qn(e.x)&&qn(e.y),qn=e=>!isNaN(e)&&isFinite(e),dy=(e,t)=>{},xo=(e,t=[1,1])=>({x:t[0]*Math.round(e.x/t[0]),y:t[1]*Math.round(e.y/t[1])}),Eo=({x:e,y:t},[n,r,i],o=!1,s=[1,1])=>{const a={x:(e-n)/i,y:(t-r)/i};return o?xo(a,s):a},os=({x:e,y:t},[n,r,i])=>({x:e*i+n,y:t*i+r});function Jr(e,t){if(typeof e=="number")return Math.floor((t-t/(1+e))*.5);if(typeof e=="string"&&e.endsWith("px")){const n=parseFloat(e);if(!Number.isNaN(n))return Math.floor(n)}if(typeof e=="string"&&e.endsWith("%")){const n=parseFloat(e);if(!Number.isNaN(n))return Math.floor(t*n*.01)}return console.error(`[React Flow] The padding value "${e}" is invalid. Please provide a number or a string with a valid unit (px or %).`),0}function fy(e,t,n){if(typeof e=="string"||typeof e=="number"){const r=Jr(e,n),i=Jr(e,t);return{top:r,right:i,bottom:r,left:i,x:i*2,y:r*2}}if(typeof e=="object"){const r=Jr(e.top??e.y??0,n),i=Jr(e.bottom??e.y??0,n),o=Jr(e.left??e.x??0,t),s=Jr(e.right??e.x??0,t);return{top:r,right:s,bottom:i,left:o,x:o+s,y:r+i}}return{top:0,right:0,bottom:0,left:0,x:0,y:0}}function hy(e,t,n,r,i,o){const{x:s,y:a}=os(e,[t,n,r]),{x:c,y:u}=os({x:e.x+e.width,y:e.y+e.height},[t,n,r]),d=i-c,h=o-u;return{left:Math.floor(s),top:Math.floor(a),right:Math.floor(d),bottom:Math.floor(h)}}const vl=(e,t,n,r,i,o)=>{const s=fy(o,t,n),a=(t-s.x)/e.width,c=(n-s.y)/e.height,u=Math.min(a,c),d=wi(u,r,i),h=e.x+e.width/2,f=e.y+e.height/2,g=t/2-h*d,p=n/2-f*d,b=hy(e,g,p,d,t,n),y={left:Math.min(b.left-s.left,0),top:Math.min(b.top-s.top,0),right:Math.min(b.right-s.right,0),bottom:Math.min(b.bottom-s.bottom,0)};return{x:g-y.left+y.right,y:p-y.top+y.bottom,zoom:d}},ss=()=>{var e;return typeof navigator<"u"&&((e=navigator==null?void 0:navigator.userAgent)==null?void 0:e.indexOf("Mac"))>=0};function Ei(e){return e!=null&&e!=="parent"}function jr(e){var t,n;return{width:((t=e.measured)==null?void 0:t.width)??e.width??e.initialWidth??0,height:((n=e.measured)==null?void 0:n.height)??e.height??e.initialHeight??0}}function gy(e){var t,n;return(((t=e.measured)==null?void 0:t.width)??e.width??e.initialWidth)!==void 0&&(((n=e.measured)==null?void 0:n.height)??e.height??e.initialHeight)!==void 0}function vy(e,t={width:0,height:0},n,r,i){const o={...e},s=r.get(n);if(s){const a=s.origin||i;o.x+=s.internals.positionAbsolute.x-(t.width??0)*a[0],o.y+=s.internals.positionAbsolute.y-(t.height??0)*a[1]}return o}function py(e){return{...ty,...e||{}}}function Yi(e,{snapGrid:t=[0,0],snapToGrid:n=!1,transform:r,containerBounds:i}){const{x:o,y:s}=vn(e),a=Eo({x:o-((i==null?void 0:i.left)??0),y:s-((i==null?void 0:i.top)??0)},r),{x:c,y:u}=n?xo(a,t):a;return{xSnapped:c,ySnapped:u,...a}}const Rd=e=>({width:e.offsetWidth,height:e.offsetHeight}),zd=e=>{var t;return((t=e==null?void 0:e.getRootNode)==null?void 0:t.call(e))||(window==null?void 0:window.document)},my=["INPUT","SELECT","TEXTAREA"];function Ld(e){var r,i;const t=((i=(r=e.composedPath)==null?void 0:r.call(e))==null?void 0:i[0])||e.target;return(t==null?void 0:t.nodeType)!==1?!1:my.includes(t.nodeName)||t.hasAttribute("contenteditable")||!!t.closest(".nokey")}const Vd=e=>"clientX"in e,vn=(e,t)=>{var o,s;const n=Vd(e),r=n?e.clientX:(o=e.touches)==null?void 0:o[0].clientX,i=n?e.clientY:(s=e.touches)==null?void 0:s[0].clientY;return{x:r-((t==null?void 0:t.left)??0),y:i-((t==null?void 0:t.top)??0)}},yc=(e,t,n,r,i)=>{const o=t.querySelectorAll(`.${e}`);return!o||!o.length?null:Array.from(o).map(s=>{const a=s.getBoundingClientRect();return{id:s.getAttribute("data-handleid"),type:e,nodeId:i,position:s.getAttribute("data-handlepos"),x:(a.left-n.left)/r,y:(a.top-n.top)/r,...Rd(s)}})};function yy({sourceX:e,sourceY:t,targetX:n,targetY:r,sourceControlX:i,sourceControlY:o,targetControlX:s,targetControlY:a}){const c=e*.125+i*.375+s*.375+n*.125,u=t*.125+o*.375+a*.375+r*.125,d=Math.abs(c-e),h=Math.abs(u-t);return[c,u,d,h]}function Lo(e,t){return e>=0?.5*e:t*25*Math.sqrt(-e)}function bc({pos:e,x1:t,y1:n,x2:r,y2:i,c:o}){switch(e){case Pe.Left:return[t-Lo(t-r,o),n];case Pe.Right:return[t+Lo(r-t,o),n];case Pe.Top:return[t,n-Lo(n-i,o)];case Pe.Bottom:return[t,n+Lo(i-n,o)]}}function Fd({sourceX:e,sourceY:t,sourcePosition:n=Pe.Bottom,targetX:r,targetY:i,targetPosition:o=Pe.Top,curvature:s=.25}){const[a,c]=bc({pos:n,x1:e,y1:t,x2:r,y2:i,c:s}),[u,d]=bc({pos:o,x1:r,y1:i,x2:e,y2:t,c:s}),[h,f,g,p]=yy({sourceX:e,sourceY:t,targetX:r,targetY:i,sourceControlX:a,sourceControlY:c,targetControlX:u,targetControlY:d});return[`M${e},${t} C${a},${c} ${u},${d} ${r},${i}`,h,f,g,p]}function Hd({sourceX:e,sourceY:t,targetX:n,targetY:r}){const i=Math.abs(n-e)/2,o=n<e?n+i:n-i,s=Math.abs(r-t)/2,a=r<t?r+s:r-s;return[o,a,i,s]}function by({sourceNode:e,targetNode:t,selected:n=!1,zIndex:r=0,elevateOnSelect:i=!1,zIndexMode:o="basic"}){if(o==="manual")return r;const s=i&&n?r+1e3:r,a=Math.max(e.parentId||i&&e.selected?e.internals.z:0,t.parentId||i&&t.selected?t.internals.z:0);return s+a}function _y({sourceNode:e,targetNode:t,width:n,height:r,transform:i}){const o=Cs(is(e),is(t));o.x===o.x2&&(o.x2+=1),o.y===o.y2&&(o.y2+=1);const s={x:-i[0]/i[2],y:-i[1]/i[2],width:n/i[2],height:r/i[2]};return $i(s,As(o))>0}const wy=({source:e,sourceHandle:t,target:n,targetHandle:r})=>`xy-edge__${e}${t||""}-${n}${r||""}`,xy=(e,t)=>t.some(n=>n.source===e.source&&n.target===e.target&&(n.sourceHandle===e.sourceHandle||!n.sourceHandle&&!e.sourceHandle)&&(n.targetHandle===e.targetHandle||!n.targetHandle&&!e.targetHandle)),Hi=(e,t,n={})=>{if(!e.source||!e.target)return t;const r=n.getEdgeId||wy;let i;return Cd(e)?i={...e}:i={...e,id:r(e)},xy(i,t)?t:(i.sourceHandle===null&&delete i.sourceHandle,i.targetHandle===null&&delete i.targetHandle,t.concat(i))};function Kd({sourceX:e,sourceY:t,targetX:n,targetY:r}){const[i,o,s,a]=Hd({sourceX:e,sourceY:t,targetX:n,targetY:r});return[`M ${e},${t}L ${n},${r}`,i,o,s,a]}const _c={[Pe.Left]:{x:-1,y:0},[Pe.Right]:{x:1,y:0},[Pe.Top]:{x:0,y:-1},[Pe.Bottom]:{x:0,y:1}},Ey=({source:e,sourcePosition:t=Pe.Bottom,target:n})=>t===Pe.Left||t===Pe.Right?e.x<n.x?{x:1,y:0}:{x:-1,y:0}:e.y<n.y?{x:0,y:1}:{x:0,y:-1},wc=(e,t)=>Math.sqrt(Math.pow(t.x-e.x,2)+Math.pow(t.y-e.y,2));function Ny({source:e,sourcePosition:t=Pe.Bottom,target:n,targetPosition:r=Pe.Top,center:i,offset:o,stepPosition:s}){const a=_c[t],c=_c[r],u={x:e.x+a.x*o,y:e.y+a.y*o},d={x:n.x+c.x*o,y:n.y+c.y*o},h=Ey({source:u,sourcePosition:t,target:d}),f=h.x!==0?"x":"y",g=h[f];let p=[],b,y;const N={x:0,y:0},w={x:0,y:0},[,,I,m]=Hd({sourceX:e.x,sourceY:e.y,targetX:n.x,targetY:n.y});if(a[f]*c[f]===-1){f==="x"?(b=i.x??u.x+(d.x-u.x)*s,y=i.y??(u.y+d.y)/2):(b=i.x??(u.x+d.x)/2,y=i.y??u.y+(d.y-u.y)*s);const O=[{x:b,y:u.y},{x:b,y:d.y}],k=[{x:u.x,y},{x:d.x,y}];a[f]===g?p=f==="x"?O:k:p=f==="x"?k:O}else{const O=[{x:u.x,y:d.y}],k=[{x:d.x,y:u.y}];if(f==="x"?p=a.x===g?k:O:p=a.y===g?O:k,t===r){const _=Math.abs(e[f]-n[f]);if(_<=o){const x=Math.min(o-1,o-_);a[f]===g?N[f]=(u[f]>e[f]?-1:1)*x:w[f]=(d[f]>n[f]?-1:1)*x}}if(t!==r){const _=f==="x"?"y":"x",x=a[f]===c[_],v=u[_]>d[_],A=u[_]<d[_];(a[f]===1&&(!x&&v||x&&A)||a[f]!==1&&(!x&&A||x&&v))&&(p=f==="x"?O:k)}const S={x:u.x+N.x,y:u.y+N.y},F={x:d.x+w.x,y:d.y+w.y},D=Math.max(Math.abs(S.x-p[0].x),Math.abs(F.x-p[0].x)),E=Math.max(Math.abs(S.y-p[0].y),Math.abs(F.y-p[0].y));D>=E?(b=(S.x+F.x)/2,y=p[0].y):(b=p[0].x,y=(S.y+F.y)/2)}return[[e,{x:u.x+N.x,y:u.y+N.y},...p,{x:d.x+w.x,y:d.y+w.y},n],b,y,I,m]}function ky(e,t,n,r){const i=Math.min(wc(e,t)/2,wc(t,n)/2,r),{x:o,y:s}=t;if(e.x===o&&o===n.x||e.y===s&&s===n.y)return`L${o} ${s}`;if(e.y===s){const u=e.x<n.x?-1:1,d=e.y<n.y?1:-1;return`L ${o+i*u},${s}Q ${o},${s} ${o},${s+i*d}`}const a=e.x<n.x?1:-1,c=e.y<n.y?-1:1;return`L ${o},${s+i*c}Q ${o},${s} ${o+i*a},${s}`}function pl({sourceX:e,sourceY:t,sourcePosition:n=Pe.Bottom,targetX:r,targetY:i,targetPosition:o=Pe.Top,borderRadius:s=5,centerX:a,centerY:c,offset:u=20,stepPosition:d=.5}){const[h,f,g,p,b]=Ny({source:{x:e,y:t},sourcePosition:n,target:{x:r,y:i},targetPosition:o,center:{x:a,y:c},offset:u,stepPosition:d});return[h.reduce((N,w,I)=>{let m="";return I>0&&I<h.length-1?m=ky(h[I-1],w,h[I+1],s):m=`${I===0?"M":"L"}${w.x} ${w.y}`,N+=m,N},""),f,g,p,b]}function xc(e){var t;return e&&!!(e.internals.handleBounds||(t=e.handles)!=null&&t.length)&&!!(e.measured.width||e.width||e.initialWidth)}function Sy(e){var h;const{sourceNode:t,targetNode:n}=e;if(!xc(t)||!xc(n))return null;const r=t.internals.handleBounds||Ec(t.handles),i=n.internals.handleBounds||Ec(n.handles),o=Nc((r==null?void 0:r.source)??[],e.sourceHandle),s=Nc(e.connectionMode===_i.Strict?(i==null?void 0:i.target)??[]:((i==null?void 0:i.target)??[]).concat((i==null?void 0:i.source)??[]),e.targetHandle);if(!o||!s)return(h=e.onError)==null||h.call(e,"008",Qi.error008(o?"target":"source",{id:e.id,sourceHandle:e.sourceHandle,targetHandle:e.targetHandle})),null;const a=(o==null?void 0:o.position)||Pe.Bottom,c=(s==null?void 0:s.position)||Pe.Top,u=Kr(t,o,a),d=Kr(n,s,c);return{sourceX:u.x,sourceY:u.y,targetX:d.x,targetY:d.y,sourcePosition:a,targetPosition:c}}function Ec(e){if(!e)return null;const t=[],n=[];for(const r of e)r.width=r.width??1,r.height=r.height??1,r.type==="source"?t.push(r):r.type==="target"&&n.push(r);return{source:t,target:n}}function Kr(e,t,n=Pe.Left,r=!1){const i=((t==null?void 0:t.x)??0)+e.internals.positionAbsolute.x,o=((t==null?void 0:t.y)??0)+e.internals.positionAbsolute.y,{width:s,height:a}=t??jr(e);if(r)return{x:i+s/2,y:o+a/2};switch((t==null?void 0:t.position)??n){case Pe.Top:return{x:i+s/2,y:o};case Pe.Right:return{x:i+s,y:o+a/2};case Pe.Bottom:return{x:i+s/2,y:o+a};case Pe.Left:return{x:i,y:o+a/2}}}function Nc(e,t){return e&&(t?e.find(n=>n.id===t):e[0])||null}function La(e,t){return e?typeof e=="string"?e:`${t?`${t}__`:""}${Object.keys(e).sort().map(r=>`${r}=${e[r]}`).join("&")}`:""}function Iy(e,{id:t,defaultColor:n,defaultMarkerStart:r,defaultMarkerEnd:i}){const o=new Set;return e.reduce((s,a)=>([a.markerStart||r,a.markerEnd||i].forEach(c=>{if(c&&typeof c=="object"){const u=La(c,t);o.has(u)||(s.push({id:u,color:c.color||n,...c}),o.add(u))}}),s),[]).sort((s,a)=>s.id.localeCompare(a.id))}const Bd=1e3,Ty=10,ml={nodeOrigin:[0,0],nodeExtent:Da,elevateNodesOnSelect:!0,zIndexMode:"basic",defaults:{}},Oy={...ml,checkEquality:!0};function yl(e,t){const n={...e};for(const r in t)t[r]!==void 0&&(n[r]=t[r]);return n}function Py(e,t,n){const r=yl(ml,n);for(const i of e.values())if(i.parentId)_l(i,e,t,r);else{const o=wo(i,r.nodeOrigin),s=Ei(i.extent)?i.extent:r.nodeExtent,a=Hr(o,s,jr(i));i.internals.positionAbsolute=a}}function Cy(e,t){if(!e.handles)return e.measured?t==null?void 0:t.internals.handleBounds:void 0;const n=[],r=[];for(const i of e.handles){const o={id:i.id,width:i.width??1,height:i.height??1,nodeId:e.id,x:i.x,y:i.y,position:i.position,type:i.type};i.type==="source"?n.push(o):i.type==="target"&&r.push(o)}return{source:n,target:r}}function bl(e){return e==="manual"}function Ay(e,t,n,r={}){var u,d;const i=yl(Oy,r),o={i:0},s=new Map(t),a=i!=null&&i.elevateNodesOnSelect&&!bl(i.zIndexMode)?Bd:0;let c=e.length>0;t.clear(),n.clear();for(const h of e){let f=s.get(h.id);if(i.checkEquality&&h===(f==null?void 0:f.internals.userNode))t.set(h.id,f);else{const g=wo(h,i.nodeOrigin),p=Ei(h.extent)?h.extent:i.nodeExtent,b=Hr(g,p,jr(h));f={...i.defaults,...h,measured:{width:(u=h.measured)==null?void 0:u.width,height:(d=h.measured)==null?void 0:d.height},internals:{positionAbsolute:b,handleBounds:Cy(h,f),z:Wd(h,a,i.zIndexMode),userNode:h}},t.set(h.id,f)}(f.measured===void 0||f.measured.width===void 0||f.measured.height===void 0)&&!f.hidden&&(c=!1),h.parentId&&_l(f,t,n,r,o)}return c}function My(e,t){if(!e.parentId)return;const n=t.get(e.parentId);n?n.set(e.id,e):t.set(e.parentId,new Map([[e.id,e]]))}function _l(e,t,n,r,i){const{elevateNodesOnSelect:o,nodeOrigin:s,nodeExtent:a,zIndexMode:c}=yl(ml,r),u=e.parentId,d=t.get(u);if(!d){console.warn(`Parent node ${u} not found. Please make sure that parent nodes are in front of their child nodes in the nodes array.`);return}My(e,n),i&&!d.parentId&&d.internals.rootParentIndex===void 0&&c==="auto"&&(d.internals.rootParentIndex=++i.i,d.internals.z=d.internals.z+i.i*Ty),i&&d.internals.rootParentIndex!==void 0&&(i.i=d.internals.rootParentIndex);const h=o&&!bl(c)?Bd:0,{x:f,y:g,z:p}=Dy(e,d,s,a,h,c),{positionAbsolute:b}=e.internals,y=f!==b.x||g!==b.y;(y||p!==e.internals.z)&&t.set(e.id,{...e,internals:{...e.internals,positionAbsolute:y?{x:f,y:g}:b,z:p}})}function Wd(e,t,n){const r=qn(e.zIndex)?e.zIndex:0;return bl(n)?r:r+(e.selected?t:0)}function Dy(e,t,n,r,i,o){const{x:s,y:a}=t.internals.positionAbsolute,c=jr(e),u=wo(e,n),d=Ei(e.extent)?Hr(u,e.extent,c):u;let h=Hr({x:s+d.x,y:a+d.y},r,c);e.extent==="parent"&&(h=Md(h,c,t));const f=Wd(e,i,o),g=t.internals.z??0;return{x:h.x,y:h.y,z:g>=f?g+1:f}}function Ry(e,t,n,r=[0,0]){var s;const i=[],o=new Map;for(const a of e){const c=t.get(a.parentId);if(!c)continue;const u=((s=o.get(a.parentId))==null?void 0:s.expandedRect)??xi(c),d=uy(u,a.rect);o.set(a.parentId,{expandedRect:d,parent:c})}return o.size>0&&o.forEach(({expandedRect:a,parent:c},u)=>{var I;const d=c.internals.positionAbsolute,h=jr(c),f=c.origin??r,g=a.x<d.x?Math.round(Math.abs(d.x-a.x)):0,p=a.y<d.y?Math.round(Math.abs(d.y-a.y)):0,b=Math.max(h.width,Math.round(a.width)),y=Math.max(h.height,Math.round(a.height)),N=(b-h.width)*f[0],w=(y-h.height)*f[1];(g>0||p>0||N||w)&&(i.push({id:u,type:"position",position:{x:c.position.x-g+N,y:c.position.y-p+w}}),(I=n.get(u))==null||I.forEach(m=>{e.some(C=>C.id===m.id)||i.push({id:m.id,type:"position",position:{x:m.position.x+g,y:m.position.y+p}})})),(h.width<a.width||h.height<a.height||g||p)&&i.push({id:u,type:"dimensions",setAttributes:!0,dimensions:{width:b+(g?f[0]*g-N:0),height:y+(p?f[1]*p-w:0)}})}),i}function zy(e,t,n,r,i,o,s){const a=r==null?void 0:r.querySelector(".xyflow__viewport");let c=!1;if(!a)return{changes:[],updatedInternals:c};const u=[],d=window.getComputedStyle(a),{m22:h}=new window.DOMMatrixReadOnly(d.transform),f=[];for(const g of e.values()){const p=t.get(g.id);if(!p)continue;if(p.hidden){t.set(p.id,{...p,internals:{...p.internals,handleBounds:void 0}}),c=!0;continue}const b=Rd(g.nodeElement),y=p.measured.width!==b.width||p.measured.height!==b.height;if(!!(b.width&&b.height&&(y||!p.internals.handleBounds||g.force))){const w=g.nodeElement.getBoundingClientRect(),I=Ei(p.extent)?p.extent:o;let{positionAbsolute:m}=p.internals;p.parentId&&p.extent==="parent"?m=Md(m,b,t.get(p.parentId)):I&&(m=Hr(m,I,b));const C={...p,measured:b,internals:{...p.internals,positionAbsolute:m,handleBounds:{source:yc("source",g.nodeElement,w,h,p.id),target:yc("target",g.nodeElement,w,h,p.id)}}};t.set(p.id,C),p.parentId&&_l(C,t,n,{nodeOrigin:i,zIndexMode:s}),c=!0,y&&(u.push({id:p.id,type:"dimensions",dimensions:b}),p.expandParent&&p.parentId&&f.push({id:p.id,parentId:p.parentId,rect:xi(C,i)}))}}if(f.length>0){const g=Ry(f,t,n,i);u.push(...g)}return{changes:u,updatedInternals:c}}async function Ly({delta:e,panZoom:t,transform:n,translateExtent:r,width:i,height:o}){if(!t||!e.x&&!e.y)return Promise.resolve(!1);const s=await t.setViewportConstrained({x:n[0]+e.x,y:n[1]+e.y,zoom:n[2]},[[0,0],[i,o]],r),a=!!s&&(s.x!==n[0]||s.y!==n[1]||s.k!==n[2]);return Promise.resolve(a)}function kc(e,t,n,r,i,o){let s=i;const a=r.get(s)||new Map;r.set(s,a.set(n,t)),s=`${i}-${e}`;const c=r.get(s)||new Map;if(r.set(s,c.set(n,t)),o){s=`${i}-${e}-${o}`;const u=r.get(s)||new Map;r.set(s,u.set(n,t))}}function Vy(e,t,n){e.clear(),t.clear();for(const r of n){const{source:i,target:o,sourceHandle:s=null,targetHandle:a=null}=r,c={edgeId:r.id,source:i,target:o,sourceHandle:s,targetHandle:a},u=`${i}-${s}--${o}-${a}`,d=`${o}-${a}--${i}-${s}`;kc("source",c,d,e,i,s),kc("target",c,u,e,o,a),t.set(r.id,r)}}function Yd(e,t){if(!e.parentId)return!1;const n=t.get(e.parentId);return n?n.selected?!0:Yd(n,t):!1}function Sc(e,t,n){var i;let r=e;do{if((i=r==null?void 0:r.matches)!=null&&i.call(r,t))return!0;if(r===n)return!1;r=r==null?void 0:r.parentElement}while(r);return!1}function Fy(e,t,n,r){const i=new Map;for(const[o,s]of e)if((s.selected||s.id===r)&&(!s.parentId||!Yd(s,e))&&(s.draggable||t&&typeof s.draggable>"u")){const a=e.get(o);a&&i.set(o,{id:o,position:a.position||{x:0,y:0},distance:{x:n.x-a.internals.positionAbsolute.x,y:n.y-a.internals.positionAbsolute.y},extent:a.extent,parentId:a.parentId,origin:a.origin,expandParent:a.expandParent,internals:{positionAbsolute:a.internals.positionAbsolute||{x:0,y:0}},measured:{width:a.measured.width??0,height:a.measured.height??0}})}return i}function $s({nodeId:e,dragItems:t,nodeLookup:n,dragging:r=!0}){var s,a,c;const i=[];for(const[u,d]of t){const h=(s=n.get(u))==null?void 0:s.internals.userNode;h&&i.push({...h,position:d.position,dragging:r})}if(!e)return[i[0],i];const o=(a=n.get(e))==null?void 0:a.internals.userNode;return[o?{...o,position:((c=t.get(e))==null?void 0:c.position)||o.position,dragging:r}:i[0],i]}function Hy({dragItems:e,snapGrid:t,x:n,y:r}){const i=e.values().next().value;if(!i)return null;const o={x:n-i.distance.x,y:r-i.distance.y},s=xo(o,t);return{x:s.x-o.x,y:s.y-o.y}}function Ky({onNodeMouseDown:e,getStoreItems:t,onDragStart:n,onDrag:r,onDragStop:i}){let o={x:null,y:null},s=0,a=new Map,c=!1,u={x:0,y:0},d=null,h=!1,f=null,g=!1,p=!1,b=null;function y({noDragClassName:w,handleSelector:I,domNode:m,isSelectable:C,nodeId:O,nodeClickDistance:k=0}){f=Qt(m);function S({x:_,y:x}){const{nodeLookup:v,nodeExtent:A,snapGrid:T,snapToGrid:M,nodeOrigin:L,onNodeDrag:H,onSelectionDrag:B,onError:G,updateNodePositions:U}=t();o={x:_,y:x};let Q=!1;const z=a.size>1,P=z&&A?za(Ps(a)):null,W=z&&M?Hy({dragItems:a,snapGrid:T,x:_,y:x}):null;for(const[X,Y]of a){if(!v.has(X))continue;let J={x:_-Y.distance.x,y:x-Y.distance.y};M&&(J=W?{x:Math.round(J.x+W.x),y:Math.round(J.y+W.y)}:xo(J,T));let re=null;if(z&&A&&!Y.extent&&P){const{positionAbsolute:ge}=Y.internals,me=ge.x-P.x+A[0][0],oe=ge.x+Y.measured.width-P.x2+A[1][0],be=ge.y-P.y+A[0][1],xe=ge.y+Y.measured.height-P.y2+A[1][1];re=[[me,be],[oe,xe]]}const{position:q,positionAbsolute:ue}=Ad({nodeId:X,nextPosition:J,nodeLookup:v,nodeExtent:re||A,nodeOrigin:L,onError:G});Q=Q||Y.position.x!==q.x||Y.position.y!==q.y,Y.position=q,Y.internals.positionAbsolute=ue}if(p=p||Q,!!Q&&(U(a,!0),b&&(r||H||!O&&B))){const[X,Y]=$s({nodeId:O,dragItems:a,nodeLookup:v});r==null||r(b,a,X,Y),H==null||H(b,X,Y),O||B==null||B(b,Y)}}async function F(){if(!d)return;const{transform:_,panBy:x,autoPanSpeed:v,autoPanOnNodeDrag:A}=t();if(!A){c=!1,cancelAnimationFrame(s);return}const[T,M]=Dd(u,d,v);(T!==0||M!==0)&&(o.x=(o.x??0)-T/_[2],o.y=(o.y??0)-M/_[2],await x({x:T,y:M})&&S(o)),s=requestAnimationFrame(F)}function D(_){var z;const{nodeLookup:x,multiSelectionActive:v,nodesDraggable:A,transform:T,snapGrid:M,snapToGrid:L,selectNodesOnDrag:H,onNodeDragStart:B,onSelectionDragStart:G,unselectNodesAndEdges:U}=t();h=!0,(!H||!C)&&!v&&O&&((z=x.get(O))!=null&&z.selected||U()),C&&H&&O&&(e==null||e(O));const Q=Yi(_.sourceEvent,{transform:T,snapGrid:M,snapToGrid:L,containerBounds:d});if(o=Q,a=Fy(x,A,Q,O),a.size>0&&(n||B||!O&&G)){const[P,W]=$s({nodeId:O,dragItems:a,nodeLookup:x});n==null||n(_.sourceEvent,a,P,W),B==null||B(_.sourceEvent,P,W),O||G==null||G(_.sourceEvent,W)}}const E=vd().clickDistance(k).on("start",_=>{const{domNode:x,nodeDragThreshold:v,transform:A,snapGrid:T,snapToGrid:M}=t();d=(x==null?void 0:x.getBoundingClientRect())||null,g=!1,p=!1,b=_.sourceEvent,v===0&&D(_),o=Yi(_.sourceEvent,{transform:A,snapGrid:T,snapToGrid:M,containerBounds:d}),u=vn(_.sourceEvent,d)}).on("drag",_=>{const{autoPanOnNodeDrag:x,transform:v,snapGrid:A,snapToGrid:T,nodeDragThreshold:M,nodeLookup:L}=t(),H=Yi(_.sourceEvent,{transform:v,snapGrid:A,snapToGrid:T,containerBounds:d});if(b=_.sourceEvent,(_.sourceEvent.type==="touchmove"&&_.sourceEvent.touches.length>1||O&&!L.has(O))&&(g=!0),!g){if(!c&&x&&h&&(c=!0,F()),!h){const B=vn(_.sourceEvent,d),G=B.x-u.x,U=B.y-u.y;Math.sqrt(G*G+U*U)>M&&D(_)}(o.x!==H.xSnapped||o.y!==H.ySnapped)&&a&&h&&(u=vn(_.sourceEvent,d),S(H))}}).on("end",_=>{if(!(!h||g)&&(c=!1,h=!1,cancelAnimationFrame(s),a.size>0)){const{nodeLookup:x,updateNodePositions:v,onNodeDragStop:A,onSelectionDragStop:T}=t();if(p&&(v(a,!1),p=!1),i||A||!O&&T){const[M,L]=$s({nodeId:O,dragItems:a,nodeLookup:x,dragging:!1});i==null||i(_.sourceEvent,a,M,L),A==null||A(_.sourceEvent,M,L),O||T==null||T(_.sourceEvent,L)}}}).filter(_=>{const x=_.target;return!_.button&&(!w||!Sc(x,`.${w}`,m))&&(!I||Sc(x,I,m))});f.call(E)}function N(){f==null||f.on(".drag",null)}return{update:y,destroy:N}}function By(e,t,n){const r=[],i={x:e.x-n,y:e.y-n,width:n*2,height:n*2};for(const o of t.values())$i(i,xi(o))>0&&r.push(o);return r}const Wy=250;function Yy(e,t,n,r){var a,c;let i=[],o=1/0;const s=By(e,n,t+Wy);for(const u of s){const d=[...((a=u.internals.handleBounds)==null?void 0:a.source)??[],...((c=u.internals.handleBounds)==null?void 0:c.target)??[]];for(const h of d){if(r.nodeId===h.nodeId&&r.type===h.type&&r.id===h.id)continue;const{x:f,y:g}=Kr(u,h,h.position,!0),p=Math.sqrt(Math.pow(f-e.x,2)+Math.pow(g-e.y,2));p>t||(p<o?(i=[{...h,x:f,y:g}],o=p):p===o&&i.push({...h,x:f,y:g}))}}if(!i.length)return null;if(i.length>1){const u=r.type==="source"?"target":"source";return i.find(d=>d.type===u)??i[0]}return i[0]}function Xd(e,t,n,r,i,o=!1){var u,d,h;const s=r.get(e);if(!s)return null;const a=i==="strict"?(u=s.internals.handleBounds)==null?void 0:u[t]:[...((d=s.internals.handleBounds)==null?void 0:d.source)??[],...((h=s.internals.handleBounds)==null?void 0:h.target)??[]],c=(n?a==null?void 0:a.find(f=>f.id===n):a==null?void 0:a[0])??null;return c&&o?{...c,...Kr(s,c,c.position,!0)}:c}function jd(e,t){return e||(t!=null&&t.classList.contains("target")?"target":t!=null&&t.classList.contains("source")?"source":null)}function Xy(e,t){let n=null;return t?n=!0:e&&!t&&(n=!1),n}const Gd=()=>!0;function jy(e,{connectionMode:t,connectionRadius:n,handleId:r,nodeId:i,edgeUpdaterType:o,isTarget:s,domNode:a,nodeLookup:c,lib:u,autoPanOnConnect:d,flowId:h,panBy:f,cancelConnection:g,onConnectStart:p,onConnect:b,onConnectEnd:y,isValidConnection:N=Gd,onReconnectEnd:w,updateConnection:I,getTransform:m,getFromHandle:C,autoPanSpeed:O,dragThreshold:k=1,handleDomNode:S}){const F=zd(e.target);let D=0,E;const{x:_,y:x}=vn(e),v=jd(o,S),A=a==null?void 0:a.getBoundingClientRect();let T=!1;if(!A||!v)return;const M=Xd(i,v,r,c,t);if(!M)return;let L=vn(e,A),H=!1,B=null,G=!1,U=null;function Q(){if(!d||!A)return;const[q,ue]=Dd(L,A,O);f({x:q,y:ue}),D=requestAnimationFrame(Q)}const z={...M,nodeId:i,type:v,position:M.position},P=c.get(i);let X={inProgress:!0,isValid:null,from:Kr(P,z,Pe.Left,!0),fromHandle:z,fromPosition:z.position,fromNode:P,to:L,toHandle:null,toPosition:gc[z.position],toNode:null,pointer:L};function Y(){T=!0,I(X),p==null||p(e,{nodeId:i,handleId:r,handleType:v})}k===0&&Y();function J(q){if(!T){const{x:xe,y:_e}=vn(q),ne=xe-_,ae=_e-x;if(!(ne*ne+ae*ae>k*k))return;Y()}if(!C()||!z){re(q);return}const ue=m();L=vn(q,A),E=Yy(Eo(L,ue,!1,[1,1]),n,c,z),H||(Q(),H=!0);const ge=Ud(q,{handle:E,connectionMode:t,fromNodeId:i,fromHandleId:r,fromType:s?"target":"source",isValidConnection:N,doc:F,lib:u,flowId:h,nodeLookup:c});U=ge.handleDomNode,B=ge.connection,G=Xy(!!E,ge.isValid);const me=c.get(i),oe=me?Kr(me,z,Pe.Left,!0):X.from,be={...X,from:oe,isValid:G,to:ge.toHandle&&G?os({x:ge.toHandle.x,y:ge.toHandle.y},ue):L,toHandle:ge.toHandle,toPosition:G&&ge.toHandle?ge.toHandle.position:gc[z.position],toNode:ge.toHandle?c.get(ge.toHandle.nodeId):null,pointer:L};I(be),X=be}function re(q){if(!("touches"in q&&q.touches.length>0)){if(T){(E||U)&&B&&G&&(b==null||b(B));const{inProgress:ue,...ge}=X,me={...ge,toPosition:X.toHandle?X.toPosition:null};y==null||y(q,me),o&&(w==null||w(q,me))}g(),cancelAnimationFrame(D),H=!1,G=!1,B=null,U=null,F.removeEventListener("mousemove",J),F.removeEventListener("mouseup",re),F.removeEventListener("touchmove",J),F.removeEventListener("touchend",re)}}F.addEventListener("mousemove",J),F.addEventListener("mouseup",re),F.addEventListener("touchmove",J),F.addEventListener("touchend",re)}function Ud(e,{handle:t,connectionMode:n,fromNodeId:r,fromHandleId:i,fromType:o,doc:s,lib:a,flowId:c,isValidConnection:u=Gd,nodeLookup:d}){const h=o==="target",f=t?s.querySelector(`.${a}-flow__handle[data-id="${c}-${t==null?void 0:t.nodeId}-${t==null?void 0:t.id}-${t==null?void 0:t.type}"]`):null,{x:g,y:p}=vn(e),b=s.elementFromPoint(g,p),y=b!=null&&b.classList.contains(`${a}-flow__handle`)?b:f,N={handleDomNode:y,isValid:!1,connection:null,toHandle:null};if(y){const w=jd(void 0,y),I=y.getAttribute("data-nodeid"),m=y.getAttribute("data-handleid"),C=y.classList.contains("connectable"),O=y.classList.contains("connectableend");if(!I||!w)return N;const k={source:h?I:r,sourceHandle:h?m:i,target:h?r:I,targetHandle:h?i:m};N.connection=k;const F=C&&O&&(n===_i.Strict?h&&w==="source"||!h&&w==="target":I!==r||m!==i);N.isValid=F&&u(k),N.toHandle=Xd(I,w,m,d,n,!0)}return N}const Ic={onPointerDown:jy,isValid:Ud},Ms=e=>({x:e.x,y:e.y,zoom:e.k}),ea=({x:e,y:t,zoom:n})=>Os.translate(e,t).scale(n),ei=(e,t)=>e.target.closest(`.${t}`),qd=(e,t)=>t===2&&Array.isArray(e)&&e.includes(2),Gy=e=>((e*=2)<=1?e*e*e:(e-=2)*e*e+2)/2,ta=(e,t=0,n=Gy,r=()=>{})=>{const i=typeof t=="number"&&t>0;return i||r(),i?e.transition().duration(t).ease(n).on("end",r):e},Zd=e=>{const t=e.ctrlKey&&ss()?10:1;return-e.deltaY*(e.deltaMode===1?.05:e.deltaMode?1:.002)*t};function Uy({zoomPanValues:e,noWheelClassName:t,d3Selection:n,d3Zoom:r,panOnScrollMode:i,panOnScrollSpeed:o,zoomOnPinch:s,onPanZoomStart:a,onPanZoom:c,onPanZoomEnd:u}){return d=>{if(ei(d,t))return d.ctrlKey&&d.preventDefault(),!1;d.preventDefault(),d.stopImmediatePropagation();const h=n.property("__zoom").k||1;if(d.ctrlKey&&s){const y=Nn(d),N=Zd(d),w=h*Math.pow(2,N);r.scaleTo(n,w,y,d);return}const f=d.deltaMode===1?20:1;let g=i===ii.Vertical?0:d.deltaX*f,p=i===ii.Horizontal?0:d.deltaY*f;!ss()&&d.shiftKey&&i!==ii.Vertical&&(g=d.deltaY*f,p=0),r.translateBy(n,-(g/h)*o,-(p/h)*o,{internal:!0});const b=Ms(n.property("__zoom"));clearTimeout(e.panScrollTimeout),e.isPanScrolling?(c==null||c(d,b),e.panScrollTimeout=setTimeout(()=>{u==null||u(d,b),e.isPanScrolling=!1},150)):(e.isPanScrolling=!0,a==null||a(d,b))}}function qy({noWheelClassName:e,preventScrolling:t,d3ZoomHandler:n}){return function(r,i){const o=r.type==="wheel",s=!t&&o&&!r.ctrlKey,a=ei(r,e);if(r.ctrlKey&&o&&a&&r.preventDefault(),s||a)return null;r.preventDefault(),n.call(this,r,i)}}function Zy({zoomPanValues:e,onDraggingChange:t,onPanZoomStart:n}){return r=>{var o,s,a;if((o=r.sourceEvent)!=null&&o.internal)return;const i=Ms(r.transform);e.mouseButton=((s=r.sourceEvent)==null?void 0:s.button)||0,e.isZoomingOrPanning=!0,e.prevViewport=i,((a=r.sourceEvent)==null?void 0:a.type)==="mousedown"&&t(!0),n&&(n==null||n(r.sourceEvent,i))}}function Qy({zoomPanValues:e,panOnDrag:t,onPaneContextMenu:n,onTransformChange:r,onPanZoom:i}){return o=>{var s,a;e.usedRightMouseButton=!!(n&&qd(t,e.mouseButton??0)),(s=o.sourceEvent)!=null&&s.sync||r([o.transform.x,o.transform.y,o.transform.k]),i&&!((a=o.sourceEvent)!=null&&a.internal)&&(i==null||i(o.sourceEvent,Ms(o.transform)))}}function Jy({zoomPanValues:e,panOnDrag:t,panOnScroll:n,onDraggingChange:r,onPanZoomEnd:i,onPaneContextMenu:o}){return s=>{var a;if(!((a=s.sourceEvent)!=null&&a.internal)&&(e.isZoomingOrPanning=!1,o&&qd(t,e.mouseButton??0)&&!e.usedRightMouseButton&&s.sourceEvent&&o(s.sourceEvent),e.usedRightMouseButton=!1,r(!1),i)){const c=Ms(s.transform);e.prevViewport=c,clearTimeout(e.timerId),e.timerId=setTimeout(()=>{i==null||i(s.sourceEvent,c)},n?150:0)}}}function $y({zoomActivationKeyPressed:e,zoomOnScroll:t,zoomOnPinch:n,panOnDrag:r,panOnScroll:i,zoomOnDoubleClick:o,userSelectionActive:s,noWheelClassName:a,noPanClassName:c,lib:u,connectionInProgress:d}){return h=>{var y;const f=e||t,g=n&&h.ctrlKey,p=h.type==="wheel";if(h.button===1&&h.type==="mousedown"&&(ei(h,`${u}-flow__node`)||ei(h,`${u}-flow__edge`)))return!0;if(!r&&!f&&!i&&!o&&!n||s||d&&!p||ei(h,a)&&p||ei(h,c)&&(!p||i&&p&&!e)||!n&&h.ctrlKey&&p)return!1;if(!n&&h.type==="touchstart"&&((y=h.touches)==null?void 0:y.length)>1)return h.preventDefault(),!1;if(!f&&!i&&!g&&p||!r&&(h.type==="mousedown"||h.type==="touchstart")||Array.isArray(r)&&!r.includes(h.button)&&h.type==="mousedown")return!1;const b=Array.isArray(r)&&r.includes(h.button)||!h.button||h.button<=1;return(!h.ctrlKey||p)&&b}}function e0({domNode:e,minZoom:t,maxZoom:n,translateExtent:r,viewport:i,onPanZoom:o,onPanZoomStart:s,onPanZoomEnd:a,onDraggingChange:c}){const u={isZoomingOrPanning:!1,usedRightMouseButton:!1,prevViewport:{},mouseButton:0,timerId:void 0,panScrollTimeout:void 0,isPanScrolling:!1},d=e.getBoundingClientRect(),h=ey().scaleExtent([t,n]).translateExtent(r),f=Qt(e).call(h);w({x:i.x,y:i.y,zoom:wi(i.zoom,t,n)},[[0,0],[d.width,d.height]],r);const g=f.on("wheel.zoom"),p=f.on("dblclick.zoom");h.wheelDelta(Zd);function b(E,_){return f?new Promise(x=>{h==null||h.interpolate((_==null?void 0:_.interpolate)==="linear"?Wi:Xo).transform(ta(f,_==null?void 0:_.duration,_==null?void 0:_.ease,()=>x(!0)),E)}):Promise.resolve(!1)}function y({noWheelClassName:E,noPanClassName:_,onPaneContextMenu:x,userSelectionActive:v,panOnScroll:A,panOnDrag:T,panOnScrollMode:M,panOnScrollSpeed:L,preventScrolling:H,zoomOnPinch:B,zoomOnScroll:G,zoomOnDoubleClick:U,zoomActivationKeyPressed:Q,lib:z,onTransformChange:P,connectionInProgress:W,paneClickDistance:X,selectionOnDrag:Y}){v&&!u.isZoomingOrPanning&&N();const J=A&&!Q&&!v;h.clickDistance(Y?1/0:!qn(X)||X<0?0:X);const re=J?Uy({zoomPanValues:u,noWheelClassName:E,d3Selection:f,d3Zoom:h,panOnScrollMode:M,panOnScrollSpeed:L,zoomOnPinch:B,onPanZoomStart:s,onPanZoom:o,onPanZoomEnd:a}):qy({noWheelClassName:E,preventScrolling:H,d3ZoomHandler:g});if(f.on("wheel.zoom",re,{passive:!1}),!v){const ue=Zy({zoomPanValues:u,onDraggingChange:c,onPanZoomStart:s});h.on("start",ue);const ge=Qy({zoomPanValues:u,panOnDrag:T,onPaneContextMenu:!!x,onPanZoom:o,onTransformChange:P});h.on("zoom",ge);const me=Jy({zoomPanValues:u,panOnDrag:T,panOnScroll:A,onPaneContextMenu:x,onPanZoomEnd:a,onDraggingChange:c});h.on("end",me)}const q=$y({zoomActivationKeyPressed:Q,panOnDrag:T,zoomOnScroll:G,panOnScroll:A,zoomOnDoubleClick:U,zoomOnPinch:B,userSelectionActive:v,noPanClassName:_,noWheelClassName:E,lib:z,connectionInProgress:W});h.filter(q),U?f.on("dblclick.zoom",p):f.on("dblclick.zoom",null)}function N(){h.on("zoom",null)}async function w(E,_,x){const v=ea(E),A=h==null?void 0:h.constrain()(v,_,x);return A&&await b(A),new Promise(T=>T(A))}async function I(E,_){const x=ea(E);return await b(x,_),new Promise(v=>v(x))}function m(E){if(f){const _=ea(E),x=f.property("__zoom");(x.k!==E.zoom||x.x!==E.x||x.y!==E.y)&&(h==null||h.transform(f,_,null,{sync:!0}))}}function C(){const E=f?Od(f.node()):{x:0,y:0,k:1};return{x:E.x,y:E.y,zoom:E.k}}function O(E,_){return f?new Promise(x=>{h==null||h.interpolate((_==null?void 0:_.interpolate)==="linear"?Wi:Xo).scaleTo(ta(f,_==null?void 0:_.duration,_==null?void 0:_.ease,()=>x(!0)),E)}):Promise.resolve(!1)}function k(E,_){return f?new Promise(x=>{h==null||h.interpolate((_==null?void 0:_.interpolate)==="linear"?Wi:Xo).scaleBy(ta(f,_==null?void 0:_.duration,_==null?void 0:_.ease,()=>x(!0)),E)}):Promise.resolve(!1)}function S(E){h==null||h.scaleExtent(E)}function F(E){h==null||h.translateExtent(E)}function D(E){const _=!qn(E)||E<0?0:E;h==null||h.clickDistance(_)}return{update:y,destroy:N,setViewport:I,setViewportConstrained:w,getViewport:C,scaleTo:O,scaleBy:k,setScaleExtent:S,setTranslateExtent:F,syncViewport:m,setClickDistance:D}}var eo;(function(e){e.Line="line",e.Handle="handle"})(eo||(eo={}));const t0=["top-left","top-right","bottom-left","bottom-right"],n0=["top","right","bottom","left"];function r0({width:e,prevWidth:t,height:n,prevHeight:r,affectsX:i,affectsY:o}){const s=e-t,a=n-r,c=[s>0?1:s<0?-1:0,a>0?1:a<0?-1:0];return s&&i&&(c[0]=c[0]*-1),a&&o&&(c[1]=c[1]*-1),c}function Tc(e){const t=e.includes("right")||e.includes("left"),n=e.includes("bottom")||e.includes("top"),r=e.includes("left"),i=e.includes("top");return{isHorizontal:t,isVertical:n,affectsX:r,affectsY:i}}function ir(e,t){return Math.max(0,t-e)}function or(e,t){return Math.max(0,e-t)}function Vo(e,t,n){return Math.max(0,t-e,e-n)}function Oc(e,t){return e?!t:t}function i0(e,t,n,r,i,o,s,a){let{affectsX:c,affectsY:u}=t;const{isHorizontal:d,isVertical:h}=t,f=d&&h,{xSnapped:g,ySnapped:p}=n,{minWidth:b,maxWidth:y,minHeight:N,maxHeight:w}=r,{x:I,y:m,width:C,height:O,aspectRatio:k}=e;let S=Math.floor(d?g-e.pointerX:0),F=Math.floor(h?p-e.pointerY:0);const D=C+(c?-S:S),E=O+(u?-F:F),_=-o[0]*C,x=-o[1]*O;let v=Vo(D,b,y),A=Vo(E,N,w);if(s){let L=0,H=0;c&&S<0?L=ir(I+S+_,s[0][0]):!c&&S>0&&(L=or(I+D+_,s[1][0])),u&&F<0?H=ir(m+F+x,s[0][1]):!u&&F>0&&(H=or(m+E+x,s[1][1])),v=Math.max(v,L),A=Math.max(A,H)}if(a){let L=0,H=0;c&&S>0?L=or(I+S,a[0][0]):!c&&S<0&&(L=ir(I+D,a[1][0])),u&&F>0?H=or(m+F,a[0][1]):!u&&F<0&&(H=ir(m+E,a[1][1])),v=Math.max(v,L),A=Math.max(A,H)}if(i){if(d){const L=Vo(D/k,N,w)*k;if(v=Math.max(v,L),s){let H=0;!c&&!u||c&&!u&&f?H=or(m+x+D/k,s[1][1])*k:H=ir(m+x+(c?S:-S)/k,s[0][1])*k,v=Math.max(v,H)}if(a){let H=0;!c&&!u||c&&!u&&f?H=ir(m+D/k,a[1][1])*k:H=or(m+(c?S:-S)/k,a[0][1])*k,v=Math.max(v,H)}}if(h){const L=Vo(E*k,b,y)/k;if(A=Math.max(A,L),s){let H=0;!c&&!u||u&&!c&&f?H=or(I+E*k+_,s[1][0])/k:H=ir(I+(u?F:-F)*k+_,s[0][0])/k,A=Math.max(A,H)}if(a){let H=0;!c&&!u||u&&!c&&f?H=ir(I+E*k,a[1][0])/k:H=or(I+(u?F:-F)*k,a[0][0])/k,A=Math.max(A,H)}}}F=F+(F<0?A:-A),S=S+(S<0?v:-v),i&&(f?D>E*k?F=(Oc(c,u)?-S:S)/k:S=(Oc(c,u)?-F:F)*k:d?(F=S/k,u=c):(S=F*k,c=u));const T=c?I+S:I,M=u?m+F:m;return{width:C+(c?-S:S),height:O+(u?-F:F),x:o[0]*S*(c?-1:1)+T,y:o[1]*F*(u?-1:1)+M}}const Qd={width:0,height:0,x:0,y:0},o0={...Qd,pointerX:0,pointerY:0,aspectRatio:1};function s0(e){return[[0,0],[e.measured.width,e.measured.height]]}function a0(e,t,n){const r=t.position.x+e.position.x,i=t.position.y+e.position.y,o=e.measured.width??0,s=e.measured.height??0,a=n[0]*o,c=n[1]*s;return[[r-a,i-c],[r+o-a,i+s-c]]}function l0({domNode:e,nodeId:t,getStoreItems:n,onChange:r,onEnd:i}){const o=Qt(e);let s={controlDirection:Tc("bottom-right"),boundaries:{minWidth:0,minHeight:0,maxWidth:Number.MAX_VALUE,maxHeight:Number.MAX_VALUE},resizeDirection:void 0,keepAspectRatio:!1};function a({controlPosition:u,boundaries:d,keepAspectRatio:h,resizeDirection:f,onResizeStart:g,onResize:p,onResizeEnd:b,shouldResize:y}){let N={...Qd},w={...o0};s={boundaries:d,resizeDirection:f,keepAspectRatio:h,controlDirection:Tc(u)};let I,m=null,C=[],O,k,S,F=!1;const D=vd().on("start",E=>{const{nodeLookup:_,transform:x,snapGrid:v,snapToGrid:A,nodeOrigin:T,paneDomNode:M}=n();if(I=_.get(t),!I)return;m=(M==null?void 0:M.getBoundingClientRect())??null;const{xSnapped:L,ySnapped:H}=Yi(E.sourceEvent,{transform:x,snapGrid:v,snapToGrid:A,containerBounds:m});N={width:I.measured.width??0,height:I.measured.height??0,x:I.position.x??0,y:I.position.y??0},w={...N,pointerX:L,pointerY:H,aspectRatio:N.width/N.height},O=void 0,I.parentId&&(I.extent==="parent"||I.expandParent)&&(O=_.get(I.parentId),k=O&&I.extent==="parent"?s0(O):void 0),C=[],S=void 0;for(const[B,G]of _)if(G.parentId===t&&(C.push({id:B,position:{...G.position},extent:G.extent}),G.extent==="parent"||G.expandParent)){const U=a0(G,I,G.origin??T);S?S=[[Math.min(U[0][0],S[0][0]),Math.min(U[0][1],S[0][1])],[Math.max(U[1][0],S[1][0]),Math.max(U[1][1],S[1][1])]]:S=U}g==null||g(E,{...N})}).on("drag",E=>{const{transform:_,snapGrid:x,snapToGrid:v,nodeOrigin:A}=n(),T=Yi(E.sourceEvent,{transform:_,snapGrid:x,snapToGrid:v,containerBounds:m}),M=[];if(!I)return;const{x:L,y:H,width:B,height:G}=N,U={},Q=I.origin??A,{width:z,height:P,x:W,y:X}=i0(w,s.controlDirection,T,s.boundaries,s.keepAspectRatio,Q,k,S),Y=z!==B,J=P!==G,re=W!==L&&Y,q=X!==H&&J;if(!re&&!q&&!Y&&!J)return;if((re||q||Q[0]===1||Q[1]===1)&&(U.x=re?W:N.x,U.y=q?X:N.y,N.x=U.x,N.y=U.y,C.length>0)){const oe=W-L,be=X-H;for(const xe of C)xe.position={x:xe.position.x-oe+Q[0]*(z-B),y:xe.position.y-be+Q[1]*(P-G)},M.push(xe)}if((Y||J)&&(U.width=Y&&(!s.resizeDirection||s.resizeDirection==="horizontal")?z:N.width,U.height=J&&(!s.resizeDirection||s.resizeDirection==="vertical")?P:N.height,N.width=U.width,N.height=U.height),O&&I.expandParent){const oe=Q[0]*(U.width??0);U.x&&U.x<oe&&(N.x=oe,w.x=w.x-(U.x-oe));const be=Q[1]*(U.height??0);U.y&&U.y<be&&(N.y=be,w.y=w.y-(U.y-be))}const ue=r0({width:N.width,prevWidth:B,height:N.height,prevHeight:G,affectsX:s.controlDirection.affectsX,affectsY:s.controlDirection.affectsY}),ge={...N,direction:ue};(y==null?void 0:y(E,ge))!==!1&&(F=!0,p==null||p(E,ge),r(U,M))}).on("end",E=>{F&&(b==null||b(E,{...N}),i==null||i({...N}),F=!1)});o.call(D)}function c(){o.on(".drag",null)}return{update:a,destroy:c}}function wl(){const e={};return[t=>{if(t&&!lh(e))throw new Error(t);return qa(e)},t=>Za(e,t)]}const[Jd,c0]=wl(),[u0,d0]=wl(),[f0,h0]=wl();var g0=de("<div><!></div>");function to(e,t){Ne(t,!0);let n=ee(t,"id",3,null),r=ee(t,"type",3,"source"),i=ee(t,"position",19,()=>Pe.Top),o=ee(t,"isConnectableStart",3,!0),s=ee(t,"isConnectableEnd",3,!0),a=Xr(t,["$$slots","$$events","$$legacy","id","type","position","style","class","isConnectable","isConnectableStart","isConnectableEnd","isValidConnection","onconnect","ondisconnect","children"]);const c=Jd("Handle must be used within a Custom Node component"),u=u0("Handle must be used within a Custom Node component");let d=V(()=>r()==="target"),h=V(()=>t.isConnectable!==void 0?t.isConnectable:u.value),f=br(),g=V(()=>f.ariaLabelConfig),p=null;tl(()=>{if(t.onconnect||t.ondisconnect){f.edges;let _=f.connectionLookup.get(`${c}-${r()}${n()?`-${n()}`:""}`);if(p&&!ny(_,p)){const x=_??new Map;vc(p,x,t.ondisconnect),vc(x,p,t.onconnect)}p=new Map(_)}});let b=V(()=>{if(!f.connection.inProgress)return[!1,!1,!1,!1,null];const{fromHandle:_,toHandle:x,isValid:v}=f.connection,A=_&&_.nodeId===c&&_.type===r()&&_.id===n(),T=x&&x.nodeId===c&&x.type===r()&&x.id===n(),M=f.connectionMode===_i.Strict?(_==null?void 0:_.type)!==r():c!==(_==null?void 0:_.nodeId)||n()!==(_==null?void 0:_.id);return[!0,A,T,M,T&&v]}),y=V(()=>mr(l(b),5)),N=V(()=>l(y)[0]),w=V(()=>l(y)[1]),I=V(()=>l(y)[2]),m=V(()=>l(y)[3]),C=V(()=>l(y)[4]);function O(_){var v;const x=f.onbeforeconnect?f.onbeforeconnect(_):_;x&&(f.addEdge(x),(v=f.onconnect)==null||v.call(f,_))}function k(_){const x=Vd(_);_.currentTarget&&(x&&_.button===0||!x)&&Ic.onPointerDown(_,{handleId:n(),nodeId:c,isTarget:l(d),connectionRadius:f.connectionRadius,domNode:f.domNode,nodeLookup:f.nodeLookup,connectionMode:f.connectionMode,lib:"svelte",autoPanOnConnect:f.autoPanOnConnect,autoPanSpeed:f.autoPanSpeed,flowId:f.flowId,isValidConnection:t.isValidConnection??f.isValidConnection,updateConnection:f.updateConnection,cancelConnection:f.cancelConnection,panBy:f.panBy,onConnect:O,onConnectStart:(v,A)=>{var T;(T=f.onconnectstart)==null||T.call(f,v,{nodeId:A.nodeId,handleId:A.handleId,handleType:A.handleType})},onConnectEnd:(v,A)=>{var T;(T=f.onconnectend)==null||T.call(f,v,A)},getTransform:()=>[f.viewport.x,f.viewport.y,f.viewport.zoom],getFromHandle:()=>f.connection.fromHandle,dragThreshold:f.connectionDragThreshold,handleDomNode:_.currentTarget})}function S(_){var U,Q;if(!c||!f.clickConnectStartHandle&&!o())return;if(!f.clickConnectStartHandle){(U=f.onclickconnectstart)==null||U.call(f,_,{nodeId:c,handleId:n(),handleType:r()}),f.clickConnectStartHandle={nodeId:c,type:r(),id:n()};return}const x=zd(_.target),v=t.isValidConnection??f.isValidConnection,{connectionMode:A,clickConnectStartHandle:T,flowId:M,nodeLookup:L}=f,{connection:H,isValid:B}=Ic.isValid(_,{handle:{nodeId:c,id:n(),type:r()},connectionMode:A,fromNodeId:T.nodeId,fromHandleId:T.id??null,fromType:T.type,isValidConnection:v,flowId:M,doc:x,lib:"svelte",nodeLookup:L});B&&H&&O(H);const G=structuredClone(cu(f.connection));delete G.inProgress,G.toPosition=G.toHandle?G.toHandle.position:null,(Q=f.onclickconnectend)==null||Q.call(f,_,G),f.clickConnectStartHandle=null}var F=g0(),D=()=>{};pn(F,()=>({"data-handleid":n(),"data-nodeid":c,"data-handlepos":i(),"data-id":`${f.flowId??""}-${c??""}-${n()??"null"??""}-${r()??""}`,class:["svelte-flow__handle",`svelte-flow__handle-${i()}`,f.noDragClass,f.noPanClass,i(),t.class],onmousedown:k,ontouchstart:k,onclick:f.clickConnect?S:void 0,onkeypress:D,style:t.style,role:"button","aria-label":l(g)["handle.ariaLabel"],tabindex:"-1",...a,[sr]:{valid:l(C),connectingto:l(I),connectingfrom:l(w),source:!l(d),target:l(d),connectablestart:o(),connectableend:s(),connectable:l(h),connectionindicator:l(h)&&(!l(N)||l(m))&&(l(N)||f.clickConnectStartHandle?s():o())}}));var E=se(F);Ln(E,()=>t.children??pr),te(e,F),ke()}var v0=de("<!> <!>",1);function $d(e,t){Ne(t,!0);let n=ee(t,"targetPosition",19,()=>Pe.Top),r=ee(t,"sourcePosition",19,()=>Pe.Bottom);var i=v0(),o=Ce(i);to(o,{type:"target",get position(){return n()}});var s=he(o),a=he(s);to(a,{type:"source",get position(){return r()}}),ye(()=>{var c;return We(s,` ${((c=t.data)==null?void 0:c.label)??""} `)}),te(e,i),ke()}var p0=de(" <!>",1);function m0(e,t){Ne(t,!0);let n=ee(t,"data",19,()=>({label:"Node"})),r=ee(t,"sourcePosition",19,()=>Pe.Bottom);var i=p0(),o=Ce(i),s=he(o);to(s,{type:"source",get position(){return r()}}),ye(()=>{var a;return We(o,`${((a=n())==null?void 0:a.label)??""} `)}),te(e,i),ke()}var y0=de(" <!>",1);function b0(e,t){Ne(t,!0);let n=ee(t,"data",19,()=>({label:"Node"})),r=ee(t,"targetPosition",19,()=>Pe.Top);var i=y0(),o=Ce(i),s=he(o);to(s,{type:"target",get position(){return r()}}),ye(()=>{var a;return We(o,`${((a=n())==null?void 0:a.label)??""} `)}),te(e,i),ke()}function _0(e,t){}function na(e,t,n){if(!n||!t)return;const r=n==="root"?t:t.querySelector(`.svelte-flow__${n}`);r&&r.appendChild(e)}function ra(e,t){const n=V(br),r=V(()=>l(n).domNode);let i;return l(r)?na(e,l(r),t):i=Au(()=>{qe(()=>{na(e,l(r),t),i==null||i()})}),{async update(o){na(e,l(r),o)},destroy(){e.parentNode&&e.parentNode.removeChild(e),i==null||i()}}}function w0(){let e=we(typeof window>"u");if(l(e)){const t=Au(()=>{qe(()=>{j(e,!1),t==null||t()})})}return{get value(){return l(e)}}}const Pc=e=>iy(e),x0=e=>Cd(e);function Dn(e){return e===void 0?void 0:`${e}px`}const as={ArrowUp:{x:0,y:-1},ArrowDown:{x:0,y:1},ArrowLeft:{x:-1,y:0},ArrowRight:{x:1,y:0}};var E0=de("<div><!></div>");function N0(e,t){Ne(t,!0);let n=ee(t,"x",3,0),r=ee(t,"y",3,0),i=ee(t,"selectEdgeOnClick",3,!1),o=ee(t,"transparent",3,!1),s=Xr(t,["$$slots","$$events","$$legacy","x","y","width","height","selectEdgeOnClick","transparent","class","children"]);const a=br(),c=f0("EdgeLabel must be used within a Custom Edge component");let u=V(()=>{var g;return(g=a.visible.edges.get(c))==null?void 0:g.zIndex});var d=E0(),h=()=>{i()&&c&&a.handleEdgeSelection(c)};pn(d,g=>({class:["svelte-flow__edge-label",{transparent:o()},t.class],tabindex:"-1",onclick:h,...s,[Xn]:g}),[()=>({display:w0().value?"none":void 0,cursor:i()?"pointer":void 0,transform:`translate(-50%, -50%) translate(${n()??""}px,${r()??""}px)`,"pointer-events":"all",width:Dn(t.width),height:Dn(t.height),"z-index":l(u)})],void 0,void 0,"svelte-1g6l770");var f=se(d);Ln(f,()=>t.children??pr),Dt(d,(g,p)=>ra==null?void 0:ra(g,p),()=>"edge-labels"),te(e,d),ke()}var k0=Xt("<path></path>"),S0=Xt('<path fill="none"></path><!><!>',1);function Ds(e,t){let n=ee(t,"interactionWidth",3,20),r=Xr(t,["$$slots","$$events","$$legacy","id","path","label","labelX","labelY","labelStyle","markerStart","markerEnd","style","interactionWidth","class"]);var i=S0(),o=Ce(i),s=he(o);{var a=d=>{var h=k0();pn(h,()=>({d:t.path,"stroke-opacity":0,"stroke-width":n(),fill:"none",class:"svelte-flow__edge-interaction",...r})),te(d,h)};Re(s,d=>{n()>0&&d(a)})}var c=he(s);{var u=d=>{N0(d,{get x(){return t.labelX},get y(){return t.labelY},get style(){return t.labelStyle},selectEdgeOnClick:!0,children:(h,f)=>{var g=Uh();ye(()=>We(g,t.label)),te(h,g)},$$slots:{default:!0}})};Re(c,d=>{t.label&&d(u)})}ye(()=>{pe(o,"id",t.id),pe(o,"d",t.path),Ot(o,0,Yr(["svelte-flow__edge-path",t.class])),pe(o,"marker-start",t.markerStart),pe(o,"marker-end",t.markerEnd),Ze(o,t.style)}),te(e,i)}function ef(e,t){Ne(t,!0);let n=V(()=>{var a;return Fd({sourceX:t.sourceX,sourceY:t.sourceY,targetX:t.targetX,targetY:t.targetY,sourcePosition:t.sourcePosition,targetPosition:t.targetPosition,curvature:(a=t.pathOptions)==null?void 0:a.curvature})}),r=V(()=>mr(l(n),3)),i=V(()=>l(r)[0]),o=V(()=>l(r)[1]),s=V(()=>l(r)[2]);Ds(e,{get id(){return t.id},get path(){return l(i)},get labelX(){return l(o)},get labelY(){return l(s)},get label(){return t.label},get labelStyle(){return t.labelStyle},get markerStart(){return t.markerStart},get markerEnd(){return t.markerEnd},get interactionWidth(){return t.interactionWidth},get style(){return t.style}}),ke()}function I0(e,t){Ne(t,!0);let n=V(()=>pl({sourceX:t.sourceX,sourceY:t.sourceY,targetX:t.targetX,targetY:t.targetY,sourcePosition:t.sourcePosition,targetPosition:t.targetPosition})),r=V(()=>mr(l(n),3)),i=V(()=>l(r)[0]),o=V(()=>l(r)[1]),s=V(()=>l(r)[2]);Ds(e,{get path(){return l(i)},get labelX(){return l(o)},get labelY(){return l(s)},get label(){return t.label},get labelStyle(){return t.labelStyle},get markerStart(){return t.markerStart},get markerEnd(){return t.markerEnd},get interactionWidth(){return t.interactionWidth},get style(){return t.style}}),ke()}function T0(e,t){Ne(t,!0);let n=V(()=>Kd({sourceX:t.sourceX,sourceY:t.sourceY,targetX:t.targetX,targetY:t.targetY})),r=V(()=>mr(l(n),3)),i=V(()=>l(r)[0]),o=V(()=>l(r)[1]),s=V(()=>l(r)[2]);Ds(e,{get path(){return l(i)},get labelX(){return l(o)},get labelY(){return l(s)},get label(){return t.label},get labelStyle(){return t.labelStyle},get markerStart(){return t.markerStart},get markerEnd(){return t.markerEnd},get interactionWidth(){return t.interactionWidth},get style(){return t.style}}),ke()}function O0(e,t){Ne(t,!0);let n=V(()=>pl({sourceX:t.sourceX,sourceY:t.sourceY,targetX:t.targetX,targetY:t.targetY,sourcePosition:t.sourcePosition,targetPosition:t.targetPosition,borderRadius:0})),r=V(()=>mr(l(n),3)),i=V(()=>l(r)[0]),o=V(()=>l(r)[1]),s=V(()=>l(r)[2]);Ds(e,{get path(){return l(i)},get labelX(){return l(o)},get labelY(){return l(s)},get label(){return t.label},get labelStyle(){return t.labelStyle},get markerStart(){return t.markerStart},get markerEnd(){return t.markerEnd},get interactionWidth(){return t.interactionWidth},get style(){return t.style}}),ke()}var ao,lo;class P0{constructor(t,n){ie(this,ao);ie(this,lo);Ae(this,ao,t),Ae(this,lo,bu(n))}get current(){return R(this,lo).call(this),R(this,ao).call(this)}}ao=new WeakMap,lo=new WeakMap;const C0=/\(.+\)/,A0=new Set(["all","print","screen","and","or","not","only"]);class M0 extends P0{constructor(t,n){let r=C0.test(t)||t.split(/[\s,]+/).some(o=>A0.has(o.trim()))?t:`(${t})`;const i=window.matchMedia(r);super(()=>i.matches,o=>wa(i,"change",o))}}function D0(e,t,n,r){const i=new Map;return gl(e,{x:0,y:0,width:n,height:r},t,!0).forEach(o=>{i.set(o.id,o)}),i}function Cc(e){const{edges:t,defaultEdgeOptions:n,nodeLookup:r,previousEdges:i,connectionMode:o,onerror:s,onlyRenderVisible:a,elevateEdgesOnSelect:c,zIndexMode:u}=e,d=new Map;for(const h of t){const f=r.get(h.source),g=r.get(h.target);if(!f||!g)continue;if(a){const{visibleNodes:y,transform:N,width:w,height:I}=e;if(_y({sourceNode:f,targetNode:g,width:w,height:I,transform:N}))y.set(f.id,f),y.set(g.id,g);else continue}const p=i.get(h.id);if(p&&h===p.edge&&f==p.sourceNode&&g==p.targetNode){d.set(h.id,p);continue}const b=Sy({id:h.id,sourceNode:f,targetNode:g,sourceHandle:h.sourceHandle||null,targetHandle:h.targetHandle||null,connectionMode:o,onError:s});b&&d.set(h.id,{...n,...h,...b,zIndex:by({selected:h.selected,zIndex:h.zIndex??n.zIndex,sourceNode:f,targetNode:g,elevateOnSelect:c,zIndexMode:u}),sourceNode:f,targetNode:g,edge:h})}return d}const tf={input:m0,output:b0,default:$d,group:_0},nf={straight:T0,smoothstep:I0,default:ef,step:O0};function R0(e,t,n,r,i,o){if(t&&!n&&r&&i){const s=Ps(o,{filter:a=>!!((a.width||a.initialWidth)&&(a.height||a.initialHeight))});return vl(s,r,i,.5,2,.1)}else return n??{x:0,y:0,zoom:1}}function z0(e){var n,r,i,o,s,a,c,u,d,h,f,g,p,b,y,N,w,I,m,C,O,k,S,F,D,E,_,x,v,A,T,M,L,H,B,G,U,Q,z,P,W,X,Y,J,re,q,ue,ge,me,oe,be,xe,_e,ne,ae,ve,Ie,He,Te,Be,je,dt,tt,it,_n,wn,Fn,le,Se,Xe,nt,Je,ht,Pt,At,an;class t{constructor(){ie(this,n,V(()=>e.props.id??"1"));ie(this,r,we(null));ie(this,i,we(null));ie(this,o,we(e.width??0));ie(this,s,we(e.height??0));ie(this,a,we(e.props.zIndexMode??"basic"));ie(this,c,V(()=>{var pt;const Z=Ay(e.nodes,this.nodeLookup,this.parentLookup,{nodeExtent:this.nodeExtent,nodeOrigin:this.nodeOrigin,elevateNodesOnSelect:e.props.elevateNodesOnSelect??!0,checkEquality:!0,zIndexMode:this.zIndexMode});return this.fitViewQueued&&Z&&((pt=this.fitViewOptions)!=null&&pt.duration?this.resolveFitView():queueMicrotask(()=>{this.resolveFitView()})),Z}));ie(this,u,V(()=>this.panZoom!==null));ie(this,d,V(()=>(Vy(this.connectionLookup,this.edgeLookup,e.edges),e.edges)));et(this,"_prevSelectedNodes",[]);et(this,"_prevSelectedNodeIds",new Set);ie(this,h,V(()=>{const Z=this._prevSelectedNodeIds.size,pt=new Set,xn=this.nodes.filter(It=>(It.selected&&(pt.add(It.id),this._prevSelectedNodeIds.delete(It.id)),It.selected));return(Z!==pt.size||this._prevSelectedNodeIds.size>0)&&(this._prevSelectedNodes=xn),this._prevSelectedNodeIds=pt,this._prevSelectedNodes}));et(this,"_prevSelectedEdges",[]);et(this,"_prevSelectedEdgeIds",new Set);ie(this,f,V(()=>{const Z=this._prevSelectedEdgeIds.size,pt=new Set,xn=this.edges.filter(It=>(It.selected&&(pt.add(It.id),this._prevSelectedEdgeIds.delete(It.id)),It.selected));return(Z!==pt.size||this._prevSelectedEdgeIds.size>0)&&(this._prevSelectedEdges=xn),this._prevSelectedEdgeIds=pt,this._prevSelectedEdges}));et(this,"selectionChangeHandlers",new Map);et(this,"nodeLookup",new Map);et(this,"parentLookup",new Map);et(this,"connectionLookup",new Map);et(this,"edgeLookup",new Map);et(this,"_prevVisibleEdges",new Map);ie(this,g,V(()=>{const{nodes:Z,_edges:pt,_prevVisibleEdges:xn,nodeLookup:It,connectionMode:zs,onerror:Ls,onlyRenderVisibleElements:Vs,defaultEdgeOptions:Zr,zIndexMode:Fs}=this;let cn,Oi;const Pi={edges:pt,defaultEdgeOptions:Zr,previousEdges:xn,nodeLookup:It,connectionMode:zs,elevateEdgesOnSelect:e.props.elevateEdgesOnSelect??!0,zIndexMode:Fs,onerror:Ls};if(Vs){const{viewport:jt,width:No,height:ko}=this,So=[jt.x,jt.y,jt.zoom];cn=D0(It,So,No,ko),Oi=Cc({...Pi,onlyRenderVisible:!0,visibleNodes:cn,transform:So,width:No,height:ko})}else cn=this.nodeLookup,Oi=Cc(Pi);return{nodes:cn,edges:Oi}}));ie(this,p,V(()=>e.props.nodesDraggable??!0));ie(this,b,V(()=>e.props.nodesConnectable??!0));ie(this,y,V(()=>e.props.elementsSelectable??!0));ie(this,N,V(()=>e.props.nodesFocusable??!0));ie(this,w,V(()=>e.props.edgesFocusable??!0));ie(this,I,V(()=>e.props.disableKeyboardA11y??!1));ie(this,m,V(()=>e.props.minZoom??.5));ie(this,C,V(()=>e.props.maxZoom??2));ie(this,O,V(()=>e.props.nodeOrigin??[0,0]));ie(this,k,V(()=>e.props.nodeExtent??Da));ie(this,S,V(()=>e.props.translateExtent??Da));ie(this,F,V(()=>e.props.defaultEdgeOptions??{}));ie(this,D,V(()=>e.props.nodeDragThreshold??1));ie(this,E,V(()=>e.props.autoPanOnNodeDrag??!0));ie(this,_,V(()=>e.props.autoPanOnConnect??!0));ie(this,x,V(()=>e.props.autoPanOnNodeFocus??!0));ie(this,v,V(()=>e.props.autoPanSpeed??15));ie(this,A,V(()=>e.props.connectionDragThreshold??1));et(this,"fitViewQueued",e.props.fitView??!1);et(this,"fitViewOptions",e.props.fitViewOptions);et(this,"fitViewResolver",null);ie(this,T,V(()=>e.props.snapGrid??null));ie(this,M,we(!1));ie(this,L,we(null));ie(this,H,we(!1));ie(this,B,we(!1));ie(this,G,we(!1));ie(this,U,we(!1));ie(this,Q,we(!1));ie(this,z,we(null));ie(this,P,we(""));ie(this,W,V(()=>e.props.selectionMode??Ji.Partial));ie(this,X,V(()=>({...tf,...e.props.nodeTypes})));ie(this,Y,V(()=>({...nf,...e.props.edgeTypes})));ie(this,J,V(()=>e.props.noPanClass??"nopan"));ie(this,re,V(()=>e.props.noDragClass??"nodrag"));ie(this,q,V(()=>e.props.noWheelClass??"nowheel"));ie(this,ue,V(()=>py(e.props.ariaLabelConfig)));ie(this,ge,we(R0(this.nodesInitialized,e.props.fitView,e.props.initialViewport,this.width,this.height,this.nodeLookup)));ie(this,me,we(Ra));ie(this,oe,V(()=>this._connection.inProgress?{...this._connection,to:Eo(this._connection.to,[this.viewport.x,this.viewport.y,this.viewport.zoom])}:this._connection));ie(this,be,V(()=>e.props.connectionMode??_i.Strict));ie(this,xe,V(()=>e.props.connectionRadius??20));ie(this,_e,V(()=>e.props.isValidConnection??(()=>!0)));ie(this,ne,V(()=>e.props.selectNodesOnDrag??!0));ie(this,ae,V(()=>e.props.defaultMarkerColor===void 0?"#b1b1b7":e.props.defaultMarkerColor));ie(this,ve,V(()=>Iy(e.edges,{defaultColor:this.defaultMarkerColor,id:this.flowId,defaultMarkerStart:this.defaultEdgeOptions.markerStart,defaultMarkerEnd:this.defaultEdgeOptions.markerEnd})));ie(this,Ie,V(()=>e.props.onlyRenderVisibleElements??!1));ie(this,He,V(()=>e.props.onflowerror??dy));ie(this,Te,V(()=>e.props.ondelete));ie(this,Be,V(()=>e.props.onbeforedelete));ie(this,je,V(()=>e.props.onbeforeconnect));ie(this,dt,V(()=>e.props.onconnect));ie(this,tt,V(()=>e.props.onconnectstart));ie(this,it,V(()=>e.props.onconnectend));ie(this,_n,V(()=>e.props.onbeforereconnect));ie(this,wn,V(()=>e.props.onreconnect));ie(this,Fn,V(()=>e.props.onreconnectstart));ie(this,le,V(()=>e.props.onreconnectend));ie(this,Se,V(()=>e.props.clickConnect??!0));ie(this,Xe,V(()=>e.props.onclickconnectstart));ie(this,nt,V(()=>e.props.onclickconnectend));ie(this,Je,we(null));ie(this,ht,V(()=>e.props.onselectiondrag));ie(this,Pt,V(()=>e.props.onselectiondragstart));ie(this,At,V(()=>e.props.onselectiondragstop));et(this,"resolveFitView",async()=>{var Z;this.panZoom&&(await ly({nodes:this.nodeLookup,width:this.width,height:this.height,panZoom:this.panZoom,minZoom:this.minZoom,maxZoom:this.maxZoom},this.fitViewOptions),(Z=this.fitViewResolver)==null||Z.resolve(!0),this.fitViewQueued=!1,this.fitViewOptions=void 0,this.fitViewResolver=null)});et(this,"_prefersDark",new M0("(prefers-color-scheme: dark)",e.props.colorModeSSR==="dark"));ie(this,an,V(()=>e.props.colorMode==="system"?this._prefersDark.current?"dark":"light":e.props.colorMode??"light"))}get flowId(){return l(R(this,n))}set flowId(Z){j(R(this,n),Z)}get domNode(){return l(R(this,r))}set domNode(Z){j(R(this,r),Z)}get panZoom(){return l(R(this,i))}set panZoom(Z){j(R(this,i),Z)}get width(){return l(R(this,o))}set width(Z){j(R(this,o),Z)}get height(){return l(R(this,s))}set height(Z){j(R(this,s),Z)}get zIndexMode(){return l(R(this,a))}set zIndexMode(Z){j(R(this,a),Z)}get nodesInitialized(){return l(R(this,c))}set nodesInitialized(Z){j(R(this,c),Z)}get viewportInitialized(){return l(R(this,u))}set viewportInitialized(Z){j(R(this,u),Z)}get _edges(){return l(R(this,d))}set _edges(Z){j(R(this,d),Z)}get nodes(){return this.nodesInitialized,e.nodes}set nodes(Z){e.nodes=Z}get edges(){return this._edges}set edges(Z){e.edges=Z}get selectedNodes(){return l(R(this,h))}set selectedNodes(Z){j(R(this,h),Z)}get selectedEdges(){return l(R(this,f))}set selectedEdges(Z){j(R(this,f),Z)}get visible(){return l(R(this,g))}set visible(Z){j(R(this,g),Z)}get nodesDraggable(){return l(R(this,p))}set nodesDraggable(Z){j(R(this,p),Z)}get nodesConnectable(){return l(R(this,b))}set nodesConnectable(Z){j(R(this,b),Z)}get elementsSelectable(){return l(R(this,y))}set elementsSelectable(Z){j(R(this,y),Z)}get nodesFocusable(){return l(R(this,N))}set nodesFocusable(Z){j(R(this,N),Z)}get edgesFocusable(){return l(R(this,w))}set edgesFocusable(Z){j(R(this,w),Z)}get disableKeyboardA11y(){return l(R(this,I))}set disableKeyboardA11y(Z){j(R(this,I),Z)}get minZoom(){return l(R(this,m))}set minZoom(Z){j(R(this,m),Z)}get maxZoom(){return l(R(this,C))}set maxZoom(Z){j(R(this,C),Z)}get nodeOrigin(){return l(R(this,O))}set nodeOrigin(Z){j(R(this,O),Z)}get nodeExtent(){return l(R(this,k))}set nodeExtent(Z){j(R(this,k),Z)}get translateExtent(){return l(R(this,S))}set translateExtent(Z){j(R(this,S),Z)}get defaultEdgeOptions(){return l(R(this,F))}set defaultEdgeOptions(Z){j(R(this,F),Z)}get nodeDragThreshold(){return l(R(this,D))}set nodeDragThreshold(Z){j(R(this,D),Z)}get autoPanOnNodeDrag(){return l(R(this,E))}set autoPanOnNodeDrag(Z){j(R(this,E),Z)}get autoPanOnConnect(){return l(R(this,_))}set autoPanOnConnect(Z){j(R(this,_),Z)}get autoPanOnNodeFocus(){return l(R(this,x))}set autoPanOnNodeFocus(Z){j(R(this,x),Z)}get autoPanSpeed(){return l(R(this,v))}set autoPanSpeed(Z){j(R(this,v),Z)}get connectionDragThreshold(){return l(R(this,A))}set connectionDragThreshold(Z){j(R(this,A),Z)}get snapGrid(){return l(R(this,T))}set snapGrid(Z){j(R(this,T),Z)}get dragging(){return l(R(this,M))}set dragging(Z){j(R(this,M),Z)}get selectionRect(){return l(R(this,L))}set selectionRect(Z){j(R(this,L),Z)}get selectionKeyPressed(){return l(R(this,H))}set selectionKeyPressed(Z){j(R(this,H),Z)}get multiselectionKeyPressed(){return l(R(this,B))}set multiselectionKeyPressed(Z){j(R(this,B),Z)}get deleteKeyPressed(){return l(R(this,G))}set deleteKeyPressed(Z){j(R(this,G),Z)}get panActivationKeyPressed(){return l(R(this,U))}set panActivationKeyPressed(Z){j(R(this,U),Z)}get zoomActivationKeyPressed(){return l(R(this,Q))}set zoomActivationKeyPressed(Z){j(R(this,Q),Z)}get selectionRectMode(){return l(R(this,z))}set selectionRectMode(Z){j(R(this,z),Z)}get ariaLiveMessage(){return l(R(this,P))}set ariaLiveMessage(Z){j(R(this,P),Z)}get selectionMode(){return l(R(this,W))}set selectionMode(Z){j(R(this,W),Z)}get nodeTypes(){return l(R(this,X))}set nodeTypes(Z){j(R(this,X),Z)}get edgeTypes(){return l(R(this,Y))}set edgeTypes(Z){j(R(this,Y),Z)}get noPanClass(){return l(R(this,J))}set noPanClass(Z){j(R(this,J),Z)}get noDragClass(){return l(R(this,re))}set noDragClass(Z){j(R(this,re),Z)}get noWheelClass(){return l(R(this,q))}set noWheelClass(Z){j(R(this,q),Z)}get ariaLabelConfig(){return l(R(this,ue))}set ariaLabelConfig(Z){j(R(this,ue),Z)}get _viewport(){return l(R(this,ge))}set _viewport(Z){j(R(this,ge),Z)}get viewport(){return e.viewport??this._viewport}set viewport(Z){e.viewport&&(e.viewport=Z),this._viewport=Z}get _connection(){return l(R(this,me))}set _connection(Z){j(R(this,me),Z)}get connection(){return l(R(this,oe))}set connection(Z){j(R(this,oe),Z)}get connectionMode(){return l(R(this,be))}set connectionMode(Z){j(R(this,be),Z)}get connectionRadius(){return l(R(this,xe))}set connectionRadius(Z){j(R(this,xe),Z)}get isValidConnection(){return l(R(this,_e))}set isValidConnection(Z){j(R(this,_e),Z)}get selectNodesOnDrag(){return l(R(this,ne))}set selectNodesOnDrag(Z){j(R(this,ne),Z)}get defaultMarkerColor(){return l(R(this,ae))}set defaultMarkerColor(Z){j(R(this,ae),Z)}get markers(){return l(R(this,ve))}set markers(Z){j(R(this,ve),Z)}get onlyRenderVisibleElements(){return l(R(this,Ie))}set onlyRenderVisibleElements(Z){j(R(this,Ie),Z)}get onerror(){return l(R(this,He))}set onerror(Z){j(R(this,He),Z)}get ondelete(){return l(R(this,Te))}set ondelete(Z){j(R(this,Te),Z)}get onbeforedelete(){return l(R(this,Be))}set onbeforedelete(Z){j(R(this,Be),Z)}get onbeforeconnect(){return l(R(this,je))}set onbeforeconnect(Z){j(R(this,je),Z)}get onconnect(){return l(R(this,dt))}set onconnect(Z){j(R(this,dt),Z)}get onconnectstart(){return l(R(this,tt))}set onconnectstart(Z){j(R(this,tt),Z)}get onconnectend(){return l(R(this,it))}set onconnectend(Z){j(R(this,it),Z)}get onbeforereconnect(){return l(R(this,_n))}set onbeforereconnect(Z){j(R(this,_n),Z)}get onreconnect(){return l(R(this,wn))}set onreconnect(Z){j(R(this,wn),Z)}get onreconnectstart(){return l(R(this,Fn))}set onreconnectstart(Z){j(R(this,Fn),Z)}get onreconnectend(){return l(R(this,le))}set onreconnectend(Z){j(R(this,le),Z)}get clickConnect(){return l(R(this,Se))}set clickConnect(Z){j(R(this,Se),Z)}get onclickconnectstart(){return l(R(this,Xe))}set onclickconnectstart(Z){j(R(this,Xe),Z)}get onclickconnectend(){return l(R(this,nt))}set onclickconnectend(Z){j(R(this,nt),Z)}get clickConnectStartHandle(){return l(R(this,Je))}set clickConnectStartHandle(Z){j(R(this,Je),Z)}get onselectiondrag(){return l(R(this,ht))}set onselectiondrag(Z){j(R(this,ht),Z)}get onselectiondragstart(){return l(R(this,Pt))}set onselectiondragstart(Z){j(R(this,Pt),Z)}get onselectiondragstop(){return l(R(this,At))}set onselectiondragstop(Z){j(R(this,At),Z)}get colorMode(){return l(R(this,an))}set colorMode(Z){j(R(this,an),Z)}resetStoreValues(){this.dragging=!1,this.selectionRect=null,this.selectionRectMode=null,this.selectionKeyPressed=!1,this.multiselectionKeyPressed=!1,this.deleteKeyPressed=!1,this.panActivationKeyPressed=!1,this.zoomActivationKeyPressed=!1,this._connection=Ra,this.clickConnectStartHandle=null,this.viewport=e.props.initialViewport??{x:0,y:0,zoom:1},this.ariaLiveMessage=""}}return n=new WeakMap,r=new WeakMap,i=new WeakMap,o=new WeakMap,s=new WeakMap,a=new WeakMap,c=new WeakMap,u=new WeakMap,d=new WeakMap,h=new WeakMap,f=new WeakMap,g=new WeakMap,p=new WeakMap,b=new WeakMap,y=new WeakMap,N=new WeakMap,w=new WeakMap,I=new WeakMap,m=new WeakMap,C=new WeakMap,O=new WeakMap,k=new WeakMap,S=new WeakMap,F=new WeakMap,D=new WeakMap,E=new WeakMap,_=new WeakMap,x=new WeakMap,v=new WeakMap,A=new WeakMap,T=new WeakMap,M=new WeakMap,L=new WeakMap,H=new WeakMap,B=new WeakMap,G=new WeakMap,U=new WeakMap,Q=new WeakMap,z=new WeakMap,P=new WeakMap,W=new WeakMap,X=new WeakMap,Y=new WeakMap,J=new WeakMap,re=new WeakMap,q=new WeakMap,ue=new WeakMap,ge=new WeakMap,me=new WeakMap,oe=new WeakMap,be=new WeakMap,xe=new WeakMap,_e=new WeakMap,ne=new WeakMap,ae=new WeakMap,ve=new WeakMap,Ie=new WeakMap,He=new WeakMap,Te=new WeakMap,Be=new WeakMap,je=new WeakMap,dt=new WeakMap,tt=new WeakMap,it=new WeakMap,_n=new WeakMap,wn=new WeakMap,Fn=new WeakMap,le=new WeakMap,Se=new WeakMap,Xe=new WeakMap,nt=new WeakMap,Je=new WeakMap,ht=new WeakMap,Pt=new WeakMap,At=new WeakMap,an=new WeakMap,new t}function br(){const e=qa(ls);if(!e)throw new Error("To call useStore outside of <SvelteFlow /> you need to wrap your component in a <SvelteFlowProvider />");return e.getStore()}const ls=Symbol();function rf(e){const t=z0(e);function n(E){t.nodeTypes={...tf,...E}}function r(E){t.edgeTypes={...nf,...E}}function i(E){t.edges=Hi(E,t.edges)}const o=(E,_=!1)=>{t.nodes=t.nodes.map(x=>{if(t.connection.inProgress&&t.connection.fromNode.id===x.id){const A=t.nodeLookup.get(x.id);A&&(t.connection={...t.connection,from:Kr(A,t.connection.fromHandle,Pe.Left,!0)})}const v=E.get(x.id);return v?{...x,position:v.position,dragging:_}:x})};function s(E){var A,T,M;const{changes:_,updatedInternals:x}=zy(E,t.nodeLookup,t.parentLookup,t.domNode,t.nodeOrigin,t.nodeExtent,t.zIndexMode);if(!x)return;Py(t.nodeLookup,t.parentLookup,{nodeOrigin:t.nodeOrigin,nodeExtent:t.nodeExtent,zIndexMode:t.zIndexMode}),t.fitViewQueued&&t.resolveFitView();const v=new Map;for(const L of _){const H=(A=t.nodeLookup.get(L.id))==null?void 0:A.internals.userNode;if(!H)continue;const B={...H};switch(L.type){case"dimensions":{const G={...B.measured,...L.dimensions};L.setAttributes&&(B.width=((T=L.dimensions)==null?void 0:T.width)??B.width,B.height=((M=L.dimensions)==null?void 0:M.height)??B.height),B.measured=G;break}case"position":B.position=L.position??B.position;break}v.set(L.id,B)}t.nodes=t.nodes.map(L=>v.get(L.id)??L)}function a(E){const _=t.fitViewResolver??Promise.withResolvers();return t.fitViewQueued=!0,t.fitViewOptions=E,t.fitViewResolver=_,t.nodes=[...t.nodes],_.promise}async function c(E,_,x){const v=typeof(x==null?void 0:x.zoom)<"u"?x.zoom:t.maxZoom,A=t.panZoom;return A?(await A.setViewport({x:t.width/2-E*v,y:t.height/2-_*v,zoom:v},{duration:x==null?void 0:x.duration,ease:x==null?void 0:x.ease,interpolate:x==null?void 0:x.interpolate}),Promise.resolve(!0)):Promise.resolve(!1)}function u(E,_){const x=t.panZoom;return x?x.scaleBy(E,_):Promise.resolve(!1)}function d(E){return u(1.2,E)}function h(E){return u(1/1.2,E)}function f(E){const _=t.panZoom;_&&(_.setScaleExtent([E,t.maxZoom]),t.minZoom=E)}function g(E){const _=t.panZoom;_&&(_.setScaleExtent([t.minZoom,E]),t.maxZoom=E)}function p(E){const _=t.panZoom;_&&(_.setTranslateExtent(E),t.translateExtent=E)}function b(E,_=null){let x=!1;const v=E.map(A=>(_?_.has(A.id):!0)&&A.selected?(x=!0,{...A,selected:!1}):A);return[x,v]}function y(E){const _=E!=null&&E.nodes?new Set(E.nodes.map(L=>L.id)):null,[x,v]=b(t.nodes,_);x&&(t.nodes=v);const A=E!=null&&E.edges?new Set(E.edges.map(L=>L.id)):null,[T,M]=b(t.edges,A);T&&(t.edges=M)}function N(E){const _=t.multiselectionKeyPressed;t.nodes=t.nodes.map(x=>{const v=E.includes(x.id),A=_&&x.selected||v;return!!x.selected!==A?{...x,selected:A}:x}),_||y({nodes:[]})}function w(E){const _=t.multiselectionKeyPressed;t.edges=t.edges.map(x=>{const v=E.includes(x.id),A=_&&x.selected||v;return!!x.selected!==A?{...x,selected:A}:x}),_||y({edges:[]})}function I(E,_,x){const v=t.nodeLookup.get(E);if(!v){console.warn("012",Qi.error012(E));return}t.selectionRect=null,t.selectionRectMode=null,v.selected?(_||v.selected&&t.multiselectionKeyPressed)&&(y({nodes:[v],edges:[]}),requestAnimationFrame(()=>x==null?void 0:x.blur())):N([E])}function m(E){const _=t.edgeLookup.get(E);if(!_){console.warn("012",Qi.error012(E));return}(_.selectable||t.elementsSelectable&&typeof _.selectable>"u")&&(t.selectionRect=null,t.selectionRectMode=null,_.selected?_.selected&&t.multiselectionKeyPressed&&y({nodes:[],edges:[_]}):w([E]))}function C(E,_){const{nodeExtent:x,snapGrid:v,nodeOrigin:A,nodeLookup:T,nodesDraggable:M,onerror:L}=t,H=new Map,B=(v==null?void 0:v[0])??5,G=(v==null?void 0:v[1])??5,U=E.x*B*_,Q=E.y*G*_;for(const z of T.values()){if(!(z.selected&&(z.draggable||M&&typeof z.draggable>"u")))continue;let W={x:z.internals.positionAbsolute.x+U,y:z.internals.positionAbsolute.y+Q};v&&(W=xo(W,v));const{position:X,positionAbsolute:Y}=Ad({nodeId:z.id,nextPosition:W,nodeLookup:T,nodeExtent:x,nodeOrigin:A,onError:L});z.position=X,z.internals.positionAbsolute=Y,H.set(z.id,z)}o(H)}function O(E){return Ly({delta:E,panZoom:t.panZoom,transform:[t.viewport.x,t.viewport.y,t.viewport.zoom],translateExtent:t.translateExtent,width:t.width,height:t.height})}const k=E=>{t._connection={...E}};function S(){t._connection=Ra}function F(){t.resetStoreValues(),y()}return Object.assign(t,{setNodeTypes:n,setEdgeTypes:r,addEdge:i,updateNodePositions:o,updateNodeInternals:s,zoomIn:d,zoomOut:h,fitView:a,setCenter:c,setMinZoom:f,setMaxZoom:g,setTranslateExtent:p,unselectNodesAndEdges:y,addSelectedNodes:N,addSelectedEdges:w,handleNodeSelection:I,handleEdgeSelection:m,moveSelectedNodes:C,panBy:O,updateConnection:k,cancelConnection:S,reset:F})}function ia(e,t){const{minZoom:n,maxZoom:r,initialViewport:i,onPanZoomStart:o,onPanZoom:s,onPanZoomEnd:a,translateExtent:c,setPanZoomInstance:u,onDraggingChange:d,onTransformChange:h}=t,f=e0({domNode:e,minZoom:n,maxZoom:r,translateExtent:c,viewport:i,onPanZoom:s,onPanZoomStart:o,onPanZoomEnd:a,onDraggingChange:d}),g=f.getViewport();return(i.x!==g.x||i.y!==g.y||i.zoom!==g.zoom)&&h([g.x,g.y,g.zoom]),u(f),f.update(t),{update(p){f.update(p)}}}var L0=de('<div class="svelte-flow__zoom svelte-flow__container"><!></div>');function V0(e,t){Ne(t,!0);let n=ee(t,"store",15),r=V(()=>n().panActivationKeyPressed||t.panOnDrag),i=V(()=>n().panActivationKeyPressed||t.panOnScroll);const{viewport:o}=n();let s=!1;qe(()=>{var u;!s&&n().viewportInitialized&&((u=t.oninit)==null||u.call(t),s=!0)});var a=L0(),c=se(a);Ln(c,()=>t.children),Dt(a,(u,d)=>ia==null?void 0:ia(u,d),()=>({viewport:n().viewport,minZoom:n().minZoom,maxZoom:n().maxZoom,initialViewport:o,onDraggingChange:u=>{n(n().dragging=u,!0)},setPanZoomInstance:u=>{n(n().panZoom=u,!0)},onPanZoomStart:t.onmovestart,onPanZoom:t.onmove,onPanZoomEnd:t.onmoveend,zoomOnScroll:t.zoomOnScroll,zoomOnDoubleClick:t.zoomOnDoubleClick,zoomOnPinch:t.zoomOnPinch,panOnScroll:l(i),panOnDrag:l(r),panOnScrollSpeed:t.panOnScrollSpeed,panOnScrollMode:t.panOnScrollMode,zoomActivationKeyPressed:n().zoomActivationKeyPressed,preventScrolling:typeof t.preventScrolling=="boolean"?t.preventScrolling:!0,noPanClassName:n().noPanClass,noWheelClassName:n().noWheelClass,userSelectionActive:!!n().selectionRect,translateExtent:n().translateExtent,lib:"svelte",paneClickDistance:t.paneClickDistance,selectionOnDrag:t.selectionOnDrag,onTransformChange:u=>{n(n().viewport={x:u[0],y:u[1],zoom:u[2]},!0)},connectionInProgress:n().connection.inProgress})),te(e,a),ke()}function Ac(e,t){return n=>{n.target===t&&(e==null||e(n))}}function Mc(e){return t=>{const n=e.has(t.id);return!!t.selected!==n?{...t,selected:n}:t}}function Dc(e,t){if(e.size!==t.size)return!1;for(const n of e)if(!t.has(n))return!1;return!0}var F0=de("<div><!></div>");function H0(e,t){Ne(t,!0);let n=ee(t,"store",15),r=ee(t,"panOnDrag",3,!0),i=ee(t,"paneClickDistance",3,1),o,s=null,a=new Set,c=new Set,u=V(()=>n().panActivationKeyPressed||r()),d=V(()=>n().selectionKeyPressed||!!n().selectionRect||t.selectionOnDrag&&l(u)!==!0),h=V(()=>n().elementsSelectable&&(l(d)||n().selectionRectMode==="user")),f=!1;function g(S){var v,A;if(s=o==null?void 0:o.getBoundingClientRect(),!s)return;const F=S.target===o,D=!F&&!!S.target.closest(".nokey"),E=t.selectionOnDrag&&F||n().selectionKeyPressed;if(D||!l(d)||!E||S.button!==0||!S.isPrimary)return;(A=(v=S.target)==null?void 0:v.setPointerCapture)==null||A.call(v,S.pointerId),f=!1;const{x:_,y:x}=vn(S,s);n(n().selectionRect={width:0,height:0,startX:_,startY:x,x:_,y:x},!0),F||(S.stopPropagation(),S.preventDefault())}function p(S){var T;if(!l(d)||!s||!n().selectionRect)return;const F=vn(S,s),{startX:D=0,startY:E=0}=n().selectionRect;if(!f){const M=n().selectionKeyPressed?0:i();if(Math.hypot(F.x-D,F.y-E)<=M)return;n().unselectNodesAndEdges(),(T=t.onselectionstart)==null||T.call(t,S)}f=!0;const _={...n().selectionRect,x:F.x<D?F.x:D,y:F.y<E?F.y:E,width:Math.abs(F.x-D),height:Math.abs(F.y-E)},x=a,v=c;a=new Set(gl(n().nodeLookup,_,[n().viewport.x,n().viewport.y,n().viewport.zoom],n().selectionMode===Ji.Partial,!0).map(M=>M.id));const A=n().defaultEdgeOptions.selectable??!0;c=new Set;for(const M of a){const L=n().connectionLookup.get(M);if(L)for(const{edgeId:H}of L.values()){const B=n().edgeLookup.get(H);B&&(B.selectable??A)&&c.add(H)}}Dc(x,a)||n(n().nodes=n().nodes.map(Mc(a)),!0),Dc(v,c)||n(n().edges=n().edges.map(Mc(c)),!0),n(n().selectionRectMode="user",!0),n(n().selectionRect=_,!0)}function b(S){var F,D,E;S.button===0&&((D=(F=S.target)==null?void 0:F.releasePointerCapture)==null||D.call(F,S.pointerId),!f&&S.target===o&&(w==null||w(S)),n(n().selectionRect=null,!0),f&&n(n().selectionRectMode=a.size>0?"nodes":null,!0),f&&((E=t.onselectionend)==null||E.call(t,S)))}const y=S=>{var F;if(Array.isArray(l(u))&&l(u).includes(2)){S.preventDefault();return}(F=t.onpanecontextmenu)==null||F.call(t,{event:S})},N=S=>{f&&(S.stopPropagation(),f=!1)};function w(S){var F;if(f||n().connection.inProgress){f=!1;return}(F=t.onpaneclick)==null||F.call(t,{event:S}),n().unselectNodesAndEdges(),n(n().selectionRectMode=null,!0),n(n().selectionRect=null,!0)}var I=F0();let m;var C=V(()=>l(h)?void 0:Ac(w,o));I.__click=function(...S){var F;(F=l(C))==null||F.apply(this,S)},I.__pointermove=function(...S){var F;(F=l(h)?p:void 0)==null||F.apply(this,S)},I.__pointerup=function(...S){var F;(F=l(h)?b:void 0)==null||F.apply(this,S)};var O=V(()=>Ac(y,o));I.__contextmenu=function(...S){var F;(F=l(O))==null||F.apply(this,S)};var k=se(I);Ln(k,()=>t.children),lt(I,S=>o=S,()=>o),ye(S=>m=Ot(I,1,"svelte-flow__pane svelte-flow__container",null,m,S),[()=>({draggable:r()===!0||Array.isArray(r())&&r().includes(0),dragging:n().dragging,selection:l(d)})]),Ke("pointerdown",I,function(...S){var F;(F=l(h)?g:void 0)==null||F.apply(this,S)},!0),Ke("click",I,function(...S){var F;(F=l(h)?N:void 0)==null||F.apply(this,S)},!0),te(e,I),ke()}vt(["click","pointermove","pointerup","contextmenu"]);var K0=de('<div class="svelte-flow__viewport xyflow__viewport svelte-flow__container"><!></div>');function B0(e,t){Ne(t,!0);var n=K0();let r;var i=se(n);Ln(i,()=>t.children),ye(()=>r=Ze(n,"",r,{transform:`translate(${t.store.viewport.x??""}px, ${t.store.viewport.y??""}px) scale(${t.store.viewport.zoom??""})`})),te(e,n),ke()}function oi(e,t){const{store:n,onDrag:r,onDragStart:i,onDragStop:o,onNodeMouseDown:s}=t,a=Ky({onDrag:r,onDragStart:i,onDragStop:o,onNodeMouseDown:s,getStoreItems:()=>{const{snapGrid:u,viewport:d}=n;return{nodes:n.nodes,nodeLookup:n.nodeLookup,edges:n.edges,nodeExtent:n.nodeExtent,snapGrid:u||[0,0],snapToGrid:!!u,nodeOrigin:n.nodeOrigin,multiSelectionActive:n.multiselectionKeyPressed,domNode:n.domNode,transform:[d.x,d.y,d.zoom],autoPanOnNodeDrag:n.autoPanOnNodeDrag,nodesDraggable:n.nodesDraggable,selectNodesOnDrag:n.selectNodesOnDrag,nodeDragThreshold:n.nodeDragThreshold,unselectNodesAndEdges:n.unselectNodesAndEdges,updateNodePositions:n.updateNodePositions,onSelectionDrag:n.onselectiondrag,onSelectionDragStart:n.onselectiondragstart,onSelectionDragStop:n.onselectiondragstop,panBy:n.panBy}}});function c(u,d){if(d.disabled){a.destroy();return}a.update({domNode:u,noDragClassName:d.noDragClass,handleSelector:d.handleSelector,nodeId:d.nodeId,isSelectable:d.isSelectable,nodeClickDistance:d.nodeClickDistance})}return c(e,t),{update(u){c(e,u)},destroy(){a.destroy()}}}var W0=de('<div aria-live="assertive" aria-atomic="true" class="a11y-live-msg svelte-1l9nrps"> </div>'),Y0=de('<div class="a11y-hidden svelte-1l9nrps"> </div> <div class="a11y-hidden svelte-1l9nrps"> </div> <!>',1);function X0(e,t){Ne(t,!0);var n=Y0(),r=Ce(n),i=se(r),o=he(r,2),s=se(o),a=he(o,2);{var c=u=>{var d=W0(),h=se(d);ye(()=>{pe(d,"id",`${j0}-${t.store.flowId}`),We(h,t.store.ariaLiveMessage)}),te(u,d)};Re(a,u=>{t.store.disableKeyboardA11y||u(c)})}ye(()=>{pe(r,"id",`${of}-${t.store.flowId}`),We(i,t.store.disableKeyboardA11y?t.store.ariaLabelConfig["node.a11yDescription.default"]:t.store.ariaLabelConfig["node.a11yDescription.keyboardDisabled"]),pe(o,"id",`${sf}-${t.store.flowId}`),We(s,t.store.ariaLabelConfig["edge.a11yDescription.default"])}),te(e,n),ke()}const of="svelte-flow__node-desc",sf="svelte-flow__edge-desc",j0="svelte-flow__aria-live";var G0=de("<div><!></div>");function U0(e,t){Ne(t,!0);let n=ee(t,"store",15),r=V(()=>Ct(t.node.data,()=>({}),!0)),i=V(()=>Ct(t.node.selected,!1)),o=V(()=>t.node.draggable),s=V(()=>t.node.selectable),a=V(()=>Ct(t.node.deletable,!0)),c=V(()=>t.node.connectable),u=V(()=>t.node.focusable),d=V(()=>Ct(t.node.hidden,!1)),h=V(()=>Ct(t.node.dragging,!1)),f=V(()=>Ct(t.node.style,"")),g=V(()=>t.node.class),p=V(()=>Ct(t.node.type,"default")),b=V(()=>t.node.parentId),y=V(()=>t.node.sourcePosition),N=V(()=>t.node.targetPosition),w=V(()=>Ct(t.node.measured,()=>({width:0,height:0}),!0).width),I=V(()=>Ct(t.node.measured,()=>({width:0,height:0}),!0).height),m=V(()=>t.node.initialWidth),C=V(()=>t.node.initialHeight),O=V(()=>t.node.width),k=V(()=>t.node.height),S=V(()=>t.node.dragHandle),F=V(()=>Ct(t.node.internals.z,0)),D=V(()=>t.node.internals.positionAbsolute.x),E=V(()=>t.node.internals.positionAbsolute.y),_=V(()=>t.node.internals.userNode),{id:x}=t.node,v=V(()=>l(o)??n().nodesDraggable),A=V(()=>l(s)??n().elementsSelectable),T=V(()=>l(c)??n().nodesConnectable),M=V(()=>gy(t.node)),L=V(()=>!!t.node.internals.handleBounds),H=V(()=>l(M)&&l(L)),B=V(()=>l(u)??n().nodesFocusable);function G(_e){return n().parentLookup.has(_e)}let U=V(()=>G(x)),Q=we(null),z=null,P=l(p),W=l(y),X=l(N),Y=V(()=>n().nodeTypes[l(p)]??$d),J=V(()=>n().ariaLabelConfig),re={get value(){return l(T)}};c0(x),d0(re);let q=V(()=>{const _e=l(w)===void 0?l(O)??l(m):l(O),ne=l(I)===void 0?l(k)??l(C):l(k);if(!(_e===void 0&&ne===void 0&&l(f)===void 0))return`${l(f)};${_e?`width:${Dn(_e)};`:""}${ne?`height:${Dn(ne)};`:""}`});qe(()=>{(l(p)!==P||l(y)!==W||l(N)!==X)&&l(Q)!==null&&requestAnimationFrame(()=>{l(Q)!==null&&n().updateNodeInternals(new Map([[x,{id:x,nodeElement:l(Q),force:!0}]]))}),P=l(p),W=l(y),X=l(N)}),qe(()=>{t.resizeObserver&&(!l(H)||l(Q)!==z)&&(z&&t.resizeObserver.unobserve(z),l(Q)&&t.resizeObserver.observe(l(Q)),z=l(Q))}),yo(()=>{var _e;z&&((_e=t.resizeObserver)==null||_e.unobserve(z))});function ue(_e){var ne;l(A)&&(!n().selectNodesOnDrag||!l(v)||n().nodeDragThreshold>0)&&n().handleNodeSelection(x),(ne=t.onnodeclick)==null||ne.call(t,{node:l(_),event:_e})}function ge(_e){if(!(Ld(_e)||n().disableKeyboardA11y))if(Pd.includes(_e.key)&&l(A)){const ne=_e.key==="Escape";n().handleNodeSelection(x,ne,l(Q))}else l(v)&&t.node.selected&&Object.prototype.hasOwnProperty.call(as,_e.key)&&(_e.preventDefault(),n(n().ariaLiveMessage=l(J)["node.a11yDescription.ariaLiveMessage"]({direction:_e.key.replace("Arrow","").toLowerCase(),x:~~t.node.internals.positionAbsolute.x,y:~~t.node.internals.positionAbsolute.y}),!0),n().moveSelectedNodes(as[_e.key],_e.shiftKey?4:1))}const me=()=>{var Ie;if(n().disableKeyboardA11y||!n().autoPanOnNodeFocus||!((Ie=l(Q))!=null&&Ie.matches(":focus-visible")))return;const{width:_e,height:ne,viewport:ae}=n();gl(new Map([[x,t.node]]),{x:0,y:0,width:_e,height:ne},[ae.x,ae.y,ae.zoom],!0).length>0||n().setCenter(t.node.position.x+(t.node.measured.width??0)/2,t.node.position.y+(t.node.measured.height??0)/2,{zoom:ae.zoom})};var oe=$e(),be=Ce(oe);{var xe=_e=>{var ne=G0();pn(ne,()=>({"data-id":x,class:["svelte-flow__node",`svelte-flow__node-${l(p)}`,l(g)],style:l(q),onclick:ue,onpointerenter:t.onnodepointerenter?ve=>t.onnodepointerenter({node:l(_),event:ve}):void 0,onpointerleave:t.onnodepointerleave?ve=>t.onnodepointerleave({node:l(_),event:ve}):void 0,onpointermove:t.onnodepointermove?ve=>t.onnodepointermove({node:l(_),event:ve}):void 0,oncontextmenu:t.onnodecontextmenu?ve=>t.onnodecontextmenu({node:l(_),event:ve}):void 0,onkeydown:l(B)?ge:void 0,onfocus:l(B)?me:void 0,tabIndex:l(B)?0:void 0,role:t.node.ariaRole??(l(B)?"group":void 0),"aria-roledescription":"node","aria-describedby":n().disableKeyboardA11y?void 0:`${of}-${n().flowId}`,...t.node.domAttributes,[sr]:{dragging:l(h),selected:l(i),draggable:l(v),connectable:l(T),selectable:l(A),nopan:l(v),parent:l(U)},[Xn]:{"z-index":l(F),transform:`translate(${l(D)??""}px, ${l(E)??""}px)`,visibility:l(M)?"visible":"hidden"}}));var ae=se(ne);xs(ae,()=>l(Y),(ve,Ie)=>{Ie(ve,{get data(){return l(r)},get id(){return x},get selected(){return l(i)},get selectable(){return l(A)},get deletable(){return l(a)},get sourcePosition(){return l(y)},get targetPosition(){return l(N)},get zIndex(){return l(F)},get dragging(){return l(h)},get draggable(){return l(v)},get dragHandle(){return l(S)},get parentId(){return l(b)},get type(){return l(p)},get isConnectable(){return l(T)},get positionAbsoluteX(){return l(D)},get positionAbsoluteY(){return l(E)},get width(){return l(O)},get height(){return l(k)}})}),Dt(ne,(ve,Ie)=>oi==null?void 0:oi(ve,Ie),()=>({nodeId:x,isSelectable:l(A),disabled:!l(v),handleSelector:l(S),noDragClass:n().noDragClass,nodeClickDistance:t.nodeClickDistance,onNodeMouseDown:n().handleNodeSelection,onDrag:(ve,Ie,He,Te)=>{var Be;(Be=t.onnodedrag)==null||Be.call(t,{event:ve,targetNode:He,nodes:Te})},onDragStart:(ve,Ie,He,Te)=>{var Be;(Be=t.onnodedragstart)==null||Be.call(t,{event:ve,targetNode:He,nodes:Te})},onDragStop:(ve,Ie,He,Te)=>{var Be;(Be=t.onnodedragstop)==null||Be.call(t,{event:ve,targetNode:He,nodes:Te})},store:n()})),lt(ne,ve=>j(Q,ve),()=>l(Q)),te(_e,ne)};Re(be,_e=>{l(d)||_e(xe)})}te(e,oe),ke()}var q0=de('<div class="svelte-flow__nodes"></div>');function Z0(e,t){Ne(t,!0);let n=ee(t,"store",15);const r=typeof ResizeObserver>"u"?null:new ResizeObserver(o=>{const s=new Map;o.forEach(a=>{const c=a.target.getAttribute("data-id");s.set(c,{id:c,nodeElement:a.target,force:!0})}),n().updateNodeInternals(s)});yo(()=>{r==null||r.disconnect()});var i=q0();rt(i,21,()=>n().visible.nodes.values(),o=>o.id,(o,s)=>{U0(o,{get node(){return l(s)},get resizeObserver(){return r},get nodeClickDistance(){return t.nodeClickDistance},get onnodeclick(){return t.onnodeclick},get onnodepointerenter(){return t.onnodepointerenter},get onnodepointermove(){return t.onnodepointermove},get onnodepointerleave(){return t.onnodepointerleave},get onnodedrag(){return t.onnodedrag},get onnodedragstart(){return t.onnodedragstart},get onnodedragstop(){return t.onnodedragstop},get onnodecontextmenu(){return t.onnodecontextmenu},get store(){return n()},set store(a){n(a)}})}),te(e,i),ke()}var Q0=Xt('<svg class="svelte-flow__edge-wrapper"><g><!></g></svg>');function J0(e,t){Ne(t,!0);let n=V(()=>t.edge.id),r=V(()=>t.edge.source),i=V(()=>t.edge.target),o=V(()=>t.edge.sourceX),s=V(()=>t.edge.sourceY),a=V(()=>t.edge.targetX),c=V(()=>t.edge.targetY),u=V(()=>t.edge.sourcePosition),d=V(()=>t.edge.targetPosition),h=V(()=>Ct(t.edge.animated,!1)),f=V(()=>Ct(t.edge.selected,!1)),g=V(()=>t.edge.label),p=V(()=>t.edge.labelStyle),b=V(()=>Ct(t.edge.data,()=>({}),!0)),y=V(()=>t.edge.style),N=V(()=>t.edge.interactionWidth),w=V(()=>Ct(t.edge.type,"default")),I=V(()=>t.edge.sourceHandle),m=V(()=>t.edge.targetHandle),C=V(()=>t.edge.markerStart),O=V(()=>t.edge.markerEnd),k=V(()=>t.edge.selectable),S=V(()=>t.edge.focusable),F=V(()=>Ct(t.edge.deletable,!0)),D=V(()=>t.edge.hidden),E=V(()=>t.edge.zIndex),_=V(()=>t.edge.class),x=V(()=>t.edge.ariaLabel);h0(l(n));let v=null,A=V(()=>l(k)??t.store.elementsSelectable),T=V(()=>l(S)??t.store.edgesFocusable),M=V(()=>t.store.edgeTypes[l(w)]??ef),L=V(()=>l(C)?`url('#${La(l(C),t.store.flowId)}')`:void 0),H=V(()=>l(O)?`url('#${La(l(O),t.store.flowId)}')`:void 0);function B(W){var Y;const X=t.store.edgeLookup.get(l(n));X&&(l(A)&&t.store.handleEdgeSelection(l(n)),(Y=t.onedgeclick)==null||Y.call(t,{event:W,edge:X}))}function G(W,X){const Y=t.store.edgeLookup.get(l(n));Y&&X({event:W,edge:Y})}function U(W){if(!t.store.disableKeyboardA11y&&Pd.includes(W.key)&&l(A)){const{unselectNodesAndEdges:X,addSelectedEdges:Y}=t.store;W.key==="Escape"?(v==null||v.blur(),X({edges:[t.edge]})):Y([l(n)])}}var Q=$e(),z=Ce(Q);{var P=W=>{var X=Q0();let Y;var J=se(X);pn(J,()=>({class:["svelte-flow__edge",l(_)],"data-id":l(n),onclick:B,oncontextmenu:t.onedgecontextmenu?q=>{G(q,t.onedgecontextmenu)}:void 0,onpointerenter:t.onedgepointerenter?q=>{G(q,t.onedgepointerenter)}:void 0,onpointerleave:t.onedgepointerleave?q=>{G(q,t.onedgepointerleave)}:void 0,"aria-label":l(x)===null?void 0:l(x)?l(x):`Edge from ${l(r)} to ${l(i)}`,"aria-describedby":l(T)?`${sf}-${t.store.flowId}`:void 0,role:t.edge.ariaRole??(l(T)?"group":"img"),"aria-roledescription":"edge",onkeydown:l(T)?U:void 0,tabindex:l(T)?0:void 0,...t.edge.domAttributes,[sr]:{animated:l(h),selected:l(f),selectable:l(A)}}));var re=se(J);xs(re,()=>l(M),(q,ue)=>{ue(q,{get id(){return l(n)},get source(){return l(r)},get target(){return l(i)},get sourceX(){return l(o)},get sourceY(){return l(s)},get targetX(){return l(a)},get targetY(){return l(c)},get sourcePosition(){return l(u)},get targetPosition(){return l(d)},get animated(){return l(h)},get selected(){return l(f)},get label(){return l(g)},get labelStyle(){return l(p)},get data(){return l(b)},get style(){return l(y)},get interactionWidth(){return l(N)},get selectable(){return l(A)},get deletable(){return l(F)},get type(){return l(w)},get sourceHandleId(){return l(I)},get targetHandleId(){return l(m)},get markerStart(){return l(L)},get markerEnd(){return l(H)}})}),lt(J,q=>v=q,()=>v),ye(()=>Y=Ze(X,"",Y,{"z-index":l(E)})),te(W,X)};Re(z,W=>{l(D)||W(P)})}te(e,Q),ke()}sh();var $0=Xt("<defs></defs>");function eb(e,t){Ne(t,!1);const n=br();nr();var r=$0();rt(r,5,()=>n.markers,i=>i.id,(i,o)=>{ib(i,Wt(()=>l(o)))}),te(e,r),ke()}var tb=Xt('<polyline class="arrow" fill="none" stroke-linecap="round" stroke-linejoin="round" points="-5,-4 0,0 -5,4"></polyline>'),nb=Xt('<polyline class="arrowclosed" stroke-linecap="round" stroke-linejoin="round" points="-5,-4 0,0 -5,4 -5,-4"></polyline>'),rb=Xt('<marker class="svelte-flow__arrowhead" viewBox="-10 -10 20 20" refX="0" refY="0"><!></marker>');function ib(e,t){Ne(t,!0);let n=ee(t,"width",3,12.5),r=ee(t,"height",3,12.5),i=ee(t,"markerUnits",3,"strokeWidth"),o=ee(t,"orient",3,"auto-start-reverse"),s=ee(t,"color",3,"none");var a=rb(),c=se(a);{var u=h=>{var f=tb();let g;ye(()=>{pe(f,"stroke-width",t.strokeWidth),g=Ze(f,"",g,{stroke:s()})}),te(h,f)},d=h=>{var f=nb();let g;ye(()=>{pe(f,"stroke-width",t.strokeWidth),g=Ze(f,"",g,{stroke:s(),fill:s()})}),te(h,f)};Re(c,h=>{t.type===rs.Arrow?h(u):t.type===rs.ArrowClosed&&h(d,1)})}ye(()=>{pe(a,"id",t.id),pe(a,"markerWidth",`${n()}`),pe(a,"markerHeight",`${r()}`),pe(a,"markerUnits",i()),pe(a,"orient",o())}),te(e,a),ke()}var ob=de('<div class="svelte-flow__edges"><svg class="svelte-flow__marker"><!></svg> <!></div>');function sb(e,t){Ne(t,!0);let n=ee(t,"store",15);var r=ob(),i=se(r),o=se(i);eb(o,{});var s=he(i,2);rt(s,17,()=>n().visible.edges.values(),a=>a.id,(a,c)=>{J0(a,{get edge(){return l(c)},get onedgeclick(){return t.onedgeclick},get onedgecontextmenu(){return t.onedgecontextmenu},get onedgepointerenter(){return t.onedgepointerenter},get onedgepointerleave(){return t.onedgepointerleave},get store(){return n()},set store(u){n(u)}})}),te(e,r),ke()}var ab=de('<div class="svelte-flow__selection svelte-1f9lbg4"></div>');function af(e,t){Ne(t,!0);let n=ee(t,"x",3,0),r=ee(t,"y",3,0),i=ee(t,"width",3,0),o=ee(t,"height",3,0),s=ee(t,"isVisible",3,!0);var a=$e(),c=Ce(a);{var u=d=>{var h=ab();let f;ye(g=>f=Ze(h,"",f,g),[()=>({width:typeof i()=="string"?i():Dn(i()),height:typeof o()=="string"?o():Dn(o()),transform:`translate(${n()}px, ${r()}px)`})]),te(d,h)};Re(c,d=>{s()&&d(u)})}te(e,a),ke()}var lb=de("<div><!></div>");function cb(e,t){Ne(t,!0);let n=we(void 0);qe(()=>{var h;t.store.disableKeyboardA11y||(h=l(n))==null||h.focus({preventScroll:!0})});let r=V(()=>{if(t.store.selectionRectMode==="nodes"){t.store.nodes;const h=Ps(t.store.nodeLookup,{filter:f=>!!f.selected});if(h.width>0&&h.height>0)return h}return null});function i(h){var g;const f=t.store.nodes.filter(p=>p.selected);(g=t.onselectioncontextmenu)==null||g.call(t,{nodes:f,event:h})}function o(h){var g;const f=t.store.nodes.filter(p=>p.selected);(g=t.onselectionclick)==null||g.call(t,{nodes:f,event:h})}function s(h){Object.prototype.hasOwnProperty.call(as,h.key)&&(h.preventDefault(),t.store.moveSelectedNodes(as[h.key],h.shiftKey?4:1))}var a=$e(),c=Ce(a);{var u=h=>{var f=lb();f.__contextmenu=i,f.__click=o,f.__keydown=function(...b){var y;(y=t.store.disableKeyboardA11y?void 0:s)==null||y.apply(this,b)};let g;var p=se(f);af(p,{width:"100%",height:"100%",x:0,y:0}),Dt(f,(b,y)=>oi==null?void 0:oi(b,y),()=>({disabled:!1,store:t.store,onDrag:(b,y,N,w)=>{var I;(I=t.onnodedrag)==null||I.call(t,{event:b,targetNode:null,nodes:w})},onDragStart:(b,y,N,w)=>{var I;(I=t.onnodedragstart)==null||I.call(t,{event:b,targetNode:null,nodes:w})},onDragStop:(b,y,N,w)=>{var I;(I=t.onnodedragstop)==null||I.call(t,{event:b,targetNode:null,nodes:w})}})),lt(f,b=>j(n,b),()=>l(n)),ye(b=>{Ot(f,1,Yr(["svelte-flow__selection-wrapper",t.store.noPanClass]),"svelte-5rnsv4"),pe(f,"role",t.store.disableKeyboardA11y?void 0:"button"),pe(f,"tabindex",t.store.disableKeyboardA11y?void 0:-1),g=Ze(f,"",g,b)},[()=>({width:Dn(l(r).width),height:Dn(l(r).height),transform:`translate(${l(r).x??""}px, ${l(r).y??""}px)`})]),te(h,f)},d=V(()=>t.store.selectionRectMode==="nodes"&&l(r)&&qn(l(r).x)&&qn(l(r).y));Re(c,h=>{l(d)&&h(u)})}te(e,a),ke()}vt(["contextmenu","click","keydown"]);function ub(e){switch(e){case"ctrl":return 8;case"shift":return 4;case"alt":return 2;case"meta":return 1}}function Ge(e,t){let{enabled:n=!0,trigger:r,type:i="keydown"}=t;function o(a){var d;const c=Array.isArray(r)?r:[r],u=[a.metaKey,a.altKey,a.shiftKey,a.ctrlKey].reduce((h,f,g)=>f?h|1<<g:h,0);for(const h of c){const f={preventDefault:!1,enabled:!0,...h},{modifier:g,key:p,callback:b,preventDefault:y,enabled:N}=f;if(N){if(a.key!==p)continue;if(g===null||g===!1){if(u!==0)continue}else if(g!==void 0&&((d=g==null?void 0:g[0])==null?void 0:d.length)>0){const I=Array.isArray(g)?g:[g];let m=!1;for(const C of I)if((Array.isArray(C)?C:[C]).reduce((k,S)=>k|ub(S),0)===u){m=!0;break}if(!m)continue}y&&a.preventDefault();const w={node:e,trigger:f,originalEvent:a};e.dispatchEvent(new CustomEvent("shortcut",{detail:w})),b==null||b(w)}}}let s;return n&&(s=wa(e,i,o)),{update:a=>{const{enabled:c=!0,type:u="keydown"}=a;n&&(!c||i!==u)?s==null||s():!n&&c&&(s=wa(e,u,o)),n=c,i=u,r=a.trigger},destroy:()=>{s==null||s()}}}function Gr(){const e=V(br),t=o=>{var u,d;const s=Pc(o)?o:l(e).nodeLookup.get(o.id),a=s.parentId?vy(s.position,s.measured,s.parentId,l(e).nodeLookup,l(e).nodeOrigin):s.position,c={...s,position:a,width:((u=s.measured)==null?void 0:u.width)??s.width,height:((d=s.measured)==null?void 0:d.height)??s.height};return xi(c)};function n(o,s,a={replace:!1}){l(e).nodes=De(()=>l(e).nodes).map(c=>{if(c.id===o){const u=typeof s=="function"?s(c):s;return a!=null&&a.replace&&Pc(u)?u:{...c,...u}}return c})}function r(o,s,a={replace:!1}){l(e).edges=De(()=>l(e).edges).map(c=>{if(c.id===o){const u=typeof s=="function"?s(c):s;return a.replace&&x0(u)?u:{...c,...u}}return c})}const i=o=>l(e).nodeLookup.get(o);return{zoomIn:l(e).zoomIn,zoomOut:l(e).zoomOut,getInternalNode:i,getNode:o=>{var s;return(s=i(o))==null?void 0:s.internals.userNode},getNodes:o=>o===void 0?l(e).nodes:Rc(l(e).nodeLookup,o),getEdge:o=>l(e).edgeLookup.get(o),getEdges:o=>o===void 0?l(e).edges:Rc(l(e).edgeLookup,o),setZoom:(o,s)=>{const a=l(e).panZoom;return a?a.scaleTo(o,{duration:s==null?void 0:s.duration}):Promise.resolve(!1)},getZoom:()=>l(e).viewport.zoom,setViewport:async(o,s)=>{const a=l(e).viewport;return l(e).panZoom?(await l(e).panZoom.setViewport({x:o.x??a.x,y:o.y??a.y,zoom:o.zoom??a.zoom},s),Promise.resolve(!0)):Promise.resolve(!1)},getViewport:()=>cu(l(e).viewport),setCenter:async(o,s,a)=>l(e).setCenter(o,s,a),fitView:o=>l(e).fitView(o),fitBounds:async(o,s)=>{if(!l(e).panZoom)return Promise.resolve(!1);const a=vl(o,l(e).width,l(e).height,l(e).minZoom,l(e).maxZoom,(s==null?void 0:s.padding)??.1);return await l(e).panZoom.setViewport(a,{duration:s==null?void 0:s.duration,ease:s==null?void 0:s.ease,interpolate:s==null?void 0:s.interpolate}),Promise.resolve(!0)},getIntersectingNodes:(o,s=!0,a)=>{const c=mc(o),u=c?o:t(o);return u?(a||l(e).nodes).filter(d=>{const h=l(e).nodeLookup.get(d.id);if(!h||!c&&d.id===o.id)return!1;const f=xi(h),g=$i(f,u);return s&&g>0||g>=f.width*f.height||g>=u.width*u.height}):[]},isNodeIntersecting:(o,s,a=!0)=>{const u=mc(o)?o:t(o);if(!u)return!1;const d=$i(u,s);return a&&d>0||d>=s.width*s.height||d>=u.width*u.height},deleteElements:async({nodes:o=[],edges:s=[]})=>{var u,d;const{nodes:a,edges:c}=await cy({nodesToRemove:o,edgesToRemove:s,nodes:l(e).nodes,edges:l(e).edges,onBeforeDelete:l(e).onbeforedelete});return a&&(l(e).nodes=De(()=>l(e).nodes).filter(h=>!a.some(({id:f})=>f===h.id))),c&&(l(e).edges=De(()=>l(e).edges).filter(h=>!c.some(({id:f})=>f===h.id))),(a.length>0||c.length>0)&&((d=(u=l(e)).ondelete)==null||d.call(u,{nodes:a,edges:c})),{deletedNodes:a,deletedEdges:c}},screenToFlowPosition:(o,s={snapToGrid:!0})=>{if(!l(e).domNode)return o;const a=s.snapToGrid?l(e).snapGrid:!1,{x:c,y:u,zoom:d}=l(e).viewport,{x:h,y:f}=l(e).domNode.getBoundingClientRect(),g={x:o.x-h,y:o.y-f};return Eo(g,[c,u,d],a!==null,a||[1,1])},flowToScreenPosition:o=>{if(!l(e).domNode)return o;const{x:s,y:a,zoom:c}=l(e).viewport,{x:u,y:d}=l(e).domNode.getBoundingClientRect(),h=os(o,[s,a,c]);return{x:h.x+u,y:h.y+d}},toObject:()=>structuredClone({nodes:[...l(e).nodes],edges:[...l(e).edges],viewport:{...l(e).viewport}}),updateNode:n,updateNodeData:(o,s,a)=>{var d;const c=(d=l(e).nodeLookup.get(o))==null?void 0:d.internals.userNode;if(!c)return;const u=typeof s=="function"?s(c):s;n(o,h=>({...h,data:a!=null&&a.replace?u:{...h.data,...u}}))},updateEdge:r,getNodesBounds:o=>oy(o,{nodeLookup:l(e).nodeLookup,nodeOrigin:l(e).nodeOrigin}),getHandleConnections:({type:o,id:s,nodeId:a})=>{var c;return Array.from(((c=l(e).connectionLookup.get(`${a}-${o}-${s??null}`))==null?void 0:c.values())??[])}}}function Rc(e,t){var r;const n=[];for(const i of t){const o=e.get(i);if(o){const s="internals"in o?(r=o.internals)==null?void 0:r.userNode:o;n.push(s)}}return n}function db(e,t){Ne(t,!0);let n=ee(t,"store",15),r=ee(t,"selectionKey",3,"Shift"),i=ee(t,"multiSelectionKey",19,()=>ss()?"Meta":"Control"),o=ee(t,"deleteKey",3,"Backspace"),s=ee(t,"panActivationKey",3," "),a=ee(t,"zoomActivationKey",19,()=>ss()?"Meta":"Control"),{deleteElements:c}=Gr();function u(b){return b!==null&&typeof b=="object"}function d(b){return u(b)?b.modifier||[]:[]}function h(b){return b==null?"":u(b)?b.key:b}function f(b,y){return(Array.isArray(b)?b:[b]).map(w=>{const I=h(w);return{key:I,modifier:d(w),enabled:I!==null,callback:y}})}function g(){n(n().selectionRect=null,!0),n(n().selectionKeyPressed=!1,!0),n(n().multiselectionKeyPressed=!1,!0),n(n().deleteKeyPressed=!1,!0),n(n().panActivationKeyPressed=!1,!0),n(n().zoomActivationKeyPressed=!1,!0)}function p(){const b=n().nodes.filter(N=>N.selected),y=n().edges.filter(N=>N.selected);c({nodes:b,edges:y})}Ke("blur",ct,g),Ke("contextmenu",ct,g),Dt(ct,(b,y)=>Ge==null?void 0:Ge(b,y),()=>({trigger:f(r(),()=>n(n().selectionKeyPressed=!0,!0)),type:"keydown"})),Dt(ct,(b,y)=>Ge==null?void 0:Ge(b,y),()=>({trigger:f(r(),()=>n(n().selectionKeyPressed=!1,!0)),type:"keyup"})),Dt(ct,(b,y)=>Ge==null?void 0:Ge(b,y),()=>({trigger:f(i(),()=>{n(n().multiselectionKeyPressed=!0,!0)}),type:"keydown"})),Dt(ct,(b,y)=>Ge==null?void 0:Ge(b,y),()=>({trigger:f(i(),()=>n(n().multiselectionKeyPressed=!1,!0)),type:"keyup"})),Dt(ct,(b,y)=>Ge==null?void 0:Ge(b,y),()=>({trigger:f(o(),b=>{!(b.originalEvent.ctrlKey||b.originalEvent.metaKey||b.originalEvent.shiftKey)&&!Ld(b.originalEvent)&&(n(n().deleteKeyPressed=!0,!0),p())}),type:"keydown"})),Dt(ct,(b,y)=>Ge==null?void 0:Ge(b,y),()=>({trigger:f(o(),()=>n(n().deleteKeyPressed=!1,!0)),type:"keyup"})),Dt(ct,(b,y)=>Ge==null?void 0:Ge(b,y),()=>({trigger:f(s(),()=>n(n().panActivationKeyPressed=!0,!0)),type:"keydown"})),Dt(ct,(b,y)=>Ge==null?void 0:Ge(b,y),()=>({trigger:f(s(),()=>n(n().panActivationKeyPressed=!1,!0)),type:"keyup"})),Dt(ct,(b,y)=>Ge==null?void 0:Ge(b,y),()=>({trigger:f(a(),()=>n(n().zoomActivationKeyPressed=!0,!0)),type:"keydown"})),Dt(ct,(b,y)=>Ge==null?void 0:Ge(b,y),()=>({trigger:f(a(),()=>n(n().zoomActivationKeyPressed=!1,!0)),type:"keyup"})),ke()}var fb=Xt('<path fill="none" class="svelte-flow__connection-path"></path>'),hb=Xt('<svg class="svelte-flow__connectionline"><g><!></g></svg>');function gb(e,t){Ne(t,!0);let n=V(()=>{if(!t.store.connection.inProgress)return"";const s={sourceX:t.store.connection.from.x,sourceY:t.store.connection.from.y,sourcePosition:t.store.connection.fromPosition,targetX:t.store.connection.to.x,targetY:t.store.connection.to.y,targetPosition:t.store.connection.toPosition};switch(t.type){case ar.Bezier:{const[a]=Fd(s);return a}case ar.Straight:{const[a]=Kd(s);return a}case ar.Step:case ar.SmoothStep:{const[a]=pl({...s,borderRadius:t.type===ar.Step?0:void 0});return a}}});var r=$e(),i=Ce(r);{var o=s=>{var a=hb(),c=se(a),u=se(c);{var d=f=>{var g=$e(),p=Ce(g);xs(p,()=>t.LineComponent,(b,y)=>{y(b,{})}),te(f,g)},h=f=>{var g=fb();ye(()=>{pe(g,"d",l(n)),Ze(g,t.style)}),te(f,g)};Re(u,f=>{t.LineComponent?f(d):f(h,!1)})}ye(f=>{pe(a,"width",t.store.width),pe(a,"height",t.store.height),Ze(a,t.containerStyle),Ot(c,0,f)},[()=>Yr(["svelte-flow__connection",ry(t.store.connection.isValid)])]),te(s,a)};Re(i,s=>{t.store.connection.inProgress&&s(o)})}te(e,r),ke()}var vb=de("<div><!></div>");function xl(e,t){Ne(t,!0);let n=ee(t,"position",3,"top-right"),r=Xr(t,["$$slots","$$events","$$legacy","position","style","class","children"]),i=V(()=>`${n()}`.split("-"));var o=vb();pn(o,a=>({class:a,style:t.style,...r}),[()=>["svelte-flow__panel",t.class,...l(i)]]);var s=se(o);Ln(s,()=>t.children??pr),te(e,o),ke()}var pb=de('<a href="https://svelteflow.dev" target="_blank" rel="noopener noreferrer" aria-label="Svelte Flow attribution">Svelte Flow</a>');function mb(e,t){Ne(t,!0);let n=ee(t,"position",3,"bottom-right");var r=$e(),i=Ce(r);{var o=s=>{xl(s,{get position(){return n()},class:"svelte-flow__attribution","data-message":"Feel free to remove the attribution or check out how you could support us: https://svelteflow.dev/support-us",children:(a,c)=>{var u=pb();te(a,u)},$$slots:{default:!0}})};Re(i,s=>{var a;(a=t.proOptions)!=null&&a.hideAttribution||s(o)})}te(e,r),ke()}var yb=de("<div><!></div>");function bb(e,t){Ne(t,!0);let n=ee(t,"domNode",15),r=ee(t,"clientWidth",15),i=ee(t,"clientHeight",15),o=V(()=>t.rest.class),s=V(()=>Vh(t.rest,["id","class","nodeTypes","edgeTypes","colorMode","isValidConnection","onmove","onmovestart","onmoveend","onflowerror","ondelete","onbeforedelete","onbeforeconnect","onconnect","onconnectstart","onconnectend","onbeforereconnect","onreconnect","onreconnectstart","onreconnectend","onclickconnectstart","onclickconnectend","oninit","onselectionchange","onselectiondragstart","onselectiondrag","onselectiondragstop","onselectionstart","onselectionend","clickConnect","fitView","fitViewOptions","nodeOrigin","nodeDragThreshold","connectionDragThreshold","minZoom","maxZoom","initialViewport","connectionRadius","connectionMode","selectionMode","selectNodesOnDrag","snapGrid","defaultMarkerColor","translateExtent","nodeExtent","onlyRenderVisibleElements","autoPanOnConnect","autoPanOnNodeDrag","colorModeSSR","defaultEdgeOptions","elevateNodesOnSelect","elevateEdgesOnSelect","nodesDraggable","autoPanOnNodeFocus","nodesConnectable","elementsSelectable","nodesFocusable","edgesFocusable","disableKeyboardA11y","noDragClass","noPanClass","noWheelClass","ariaLabelConfig","autoPanSpeed","panOnScrollSpeed","zIndexMode"]));function a(d){d.currentTarget.scrollTo({top:0,left:0,behavior:"auto"}),t.rest.onscroll&&t.rest.onscroll(d)}var c=yb();pn(c,d=>({class:["svelte-flow","svelte-flow__container",l(o),t.colorMode],"data-testid":"svelte-flow__wrapper",role:"application",onscroll:a,...l(s),[Xn]:d}),[()=>({width:Dn(t.width),height:Dn(t.height)})],void 0,void 0,"svelte-rhpwh");var u=se(c);Ln(u,()=>t.children??pr),lt(c,d=>n(d),()=>n()),Ul(c,"clientHeight",i),Ul(c,"clientWidth",r),te(e,c),ke()}var _b=de('<div class="svelte-flow__viewport-back svelte-flow__container"></div> <!> <div class="svelte-flow__edge-labels svelte-flow__container"></div> <!> <!> <!> <div class="svelte-flow__viewport-front svelte-flow__container"></div>',1),wb=de("<!> <!>",1),xb=de("<!> <!> <!> <!> <!>",1);function Eb(e,t){Ne(t,!0);let n=ee(t,"paneClickDistance",3,1),r=ee(t,"nodeClickDistance",3,1),i=ee(t,"panOnScrollMode",19,()=>ii.Free),o=ee(t,"preventScrolling",3,!0),s=ee(t,"zoomOnScroll",3,!0),a=ee(t,"zoomOnDoubleClick",3,!0),c=ee(t,"zoomOnPinch",3,!0),u=ee(t,"panOnScroll",3,!1),d=ee(t,"panOnScrollSpeed",3,.5),h=ee(t,"panOnDrag",3,!0),f=ee(t,"selectionOnDrag",3,!1),g=ee(t,"connectionLineType",19,()=>ar.Bezier),p=ee(t,"nodes",31,()=>Jt([])),b=ee(t,"edges",31,()=>Jt([])),y=ee(t,"viewport",15,void 0),N=Xr(t,["$$slots","$$events","$$legacy","width","height","proOptions","selectionKey","deleteKey","panActivationKey","multiSelectionKey","zoomActivationKey","paneClickDistance","nodeClickDistance","onmovestart","onmoveend","onmove","oninit","onnodeclick","onnodecontextmenu","onnodedrag","onnodedragstart","onnodedragstop","onnodepointerenter","onnodepointermove","onnodepointerleave","onselectionclick","onselectioncontextmenu","onselectionstart","onselectionend","onedgeclick","onedgecontextmenu","onedgepointerenter","onedgepointerleave","onpaneclick","onpanecontextmenu","panOnScrollMode","preventScrolling","zoomOnScroll","zoomOnDoubleClick","zoomOnPinch","panOnScroll","panOnScrollSpeed","panOnDrag","selectionOnDrag","connectionLineComponent","connectionLineStyle","connectionLineContainerStyle","connectionLineType","attributionPosition","children","nodes","edges","viewport"]),w=rf({props:N,width:t.width,height:t.height,get nodes(){return p()},set nodes(m){p(m)},get edges(){return b()},set edges(m){b(m)},get viewport(){return y()},set viewport(m){y(m)}});const I=qa(ls);I&&I.setStore&&I.setStore(w),Za(ls,{provider:!1,getStore(){return w}}),qe(()=>{var C;const m={nodes:w.selectedNodes,edges:w.selectedEdges};(C=De(()=>t.onselectionchange))==null||C(m);for(const O of w.selectionChangeHandlers.values())O(m)}),yo(()=>{w.reset()}),bb(e,{get colorMode(){return w.colorMode},get width(){return t.width},get height(){return t.height},get rest(){return N},get domNode(){return w.domNode},set domNode(m){w.domNode=m},get clientWidth(){return w.width},set clientWidth(m){w.width=m},get clientHeight(){return w.height},set clientHeight(m){w.height=m},children:(m,C)=>{var O=xb(),k=Ce(O);db(k,{get selectionKey(){return t.selectionKey},get deleteKey(){return t.deleteKey},get panActivationKey(){return t.panActivationKey},get multiSelectionKey(){return t.multiSelectionKey},get zoomActivationKey(){return t.zoomActivationKey},get store(){return w},set store(_){w=_}});var S=he(k,2);V0(S,{get panOnScrollMode(){return i()},get preventScrolling(){return o()},get zoomOnScroll(){return s()},get zoomOnDoubleClick(){return a()},get zoomOnPinch(){return c()},get panOnScroll(){return u()},get panOnScrollSpeed(){return d()},get panOnDrag(){return h()},get paneClickDistance(){return n()},get selectionOnDrag(){return f()},get onmovestart(){return t.onmovestart},get onmove(){return t.onmove},get onmoveend(){return t.onmoveend},get oninit(){return t.oninit},get store(){return w},set store(_){w=_},children:(_,x)=>{H0(_,{get onpaneclick(){return t.onpaneclick},get onpanecontextmenu(){return t.onpanecontextmenu},get onselectionstart(){return t.onselectionstart},get onselectionend(){return t.onselectionend},get panOnDrag(){return h()},get paneClickDistance(){return n()},get selectionOnDrag(){return f()},get store(){return w},set store(v){w=v},children:(v,A)=>{var T=wb(),M=Ce(T);B0(M,{get store(){return w},set store(H){w=H},children:(H,B)=>{var G=_b(),U=he(Ce(G),2);sb(U,{get onedgeclick(){return t.onedgeclick},get onedgecontextmenu(){return t.onedgecontextmenu},get onedgepointerenter(){return t.onedgepointerenter},get onedgepointerleave(){return t.onedgepointerleave},get store(){return w},set store(W){w=W}});var Q=he(U,4);gb(Q,{get type(){return g()},get LineComponent(){return t.connectionLineComponent},get containerStyle(){return t.connectionLineContainerStyle},get style(){return t.connectionLineStyle},get store(){return w},set store(W){w=W}});var z=he(Q,2);Z0(z,{get nodeClickDistance(){return r()},get onnodeclick(){return t.onnodeclick},get onnodecontextmenu(){return t.onnodecontextmenu},get onnodepointerenter(){return t.onnodepointerenter},get onnodepointermove(){return t.onnodepointermove},get onnodepointerleave(){return t.onnodepointerleave},get onnodedrag(){return t.onnodedrag},get onnodedragstart(){return t.onnodedragstart},get onnodedragstop(){return t.onnodedragstop},get store(){return w},set store(W){w=W}});var P=he(z,2);cb(P,{get onselectionclick(){return t.onselectionclick},get onselectioncontextmenu(){return t.onselectioncontextmenu},get onnodedrag(){return t.onnodedrag},get onnodedragstart(){return t.onnodedragstart},get onnodedragstop(){return t.onnodedragstop},get store(){return w},set store(W){w=W}}),te(H,G)},$$slots:{default:!0}});var L=he(M,2);{let H=V(()=>!!(w.selectionRect&&w.selectionRectMode==="user")),B=V(()=>{var z;return(z=w.selectionRect)==null?void 0:z.width}),G=V(()=>{var z;return(z=w.selectionRect)==null?void 0:z.height}),U=V(()=>{var z;return(z=w.selectionRect)==null?void 0:z.x}),Q=V(()=>{var z;return(z=w.selectionRect)==null?void 0:z.y});af(L,{get isVisible(){return l(H)},get width(){return l(B)},get height(){return l(G)},get x(){return l(U)},get y(){return l(Q)}})}te(v,T)},$$slots:{default:!0}})},$$slots:{default:!0}});var F=he(S,2);mb(F,{get proOptions(){return t.proOptions},get position(){return t.attributionPosition}});var D=he(F,2);X0(D,{get store(){return w}});var E=he(D,2);Ln(E,()=>t.children??pr),te(m,O)},$$slots:{default:!0}}),ke()}function Nb(e,t){Ne(t,!0);let n=we(rf({props:{},nodes:[],edges:[]}));Za(ls,{provider:!0,getStore(){return l(n)},setStore:o=>{j(n,o)}}),yo(()=>{l(n).reset()});var r=$e(),i=Ce(r);Ln(i,()=>t.children??pr),te(e,r),ke()}var hr;(function(e){e.Lines="lines",e.Dots="dots",e.Cross="cross"})(hr||(hr={}));var kb=Xt("<circle></circle>");function Sb(e,t){var n=kb();ye(()=>{pe(n,"cx",t.radius),pe(n,"cy",t.radius),pe(n,"r",t.radius),Ot(n,0,Yr(["svelte-flow__background-pattern","dots",t.class]))}),te(e,n)}var Ib=Xt("<path></path>");function Tb(e,t){Ne(t,!0);var n=Ib();ye(()=>{pe(n,"stroke-width",t.lineWidth),pe(n,"d",`M${t.dimensions[0]/2} 0 V${t.dimensions[1]} M0 ${t.dimensions[1]/2} H${t.dimensions[0]}`),Ot(n,0,Yr(["svelte-flow__background-pattern",t.variant,t.class]))}),te(e,n),ke()}const Ob={[hr.Dots]:1,[hr.Lines]:1,[hr.Cross]:6};var Pb=Xt('<svg data-testid="svelte-flow__background"><pattern patternUnits="userSpaceOnUse"><!></pattern><rect x="0" y="0" width="100%" height="100%"></rect></svg>');function Cb(e,t){Ne(t,!0);let n=ee(t,"variant",19,()=>hr.Dots),r=ee(t,"gap",3,20),i=ee(t,"lineWidth",3,1),o=V(br),s=V(()=>n()===hr.Dots),a=V(()=>n()===hr.Cross),c=V(()=>Array.isArray(r())?r():[r(),r()]),u=V(()=>`background-pattern-${l(o).flowId}-${t.id??""}`),d=V(()=>[l(c)[0]*l(o).viewport.zoom||1,l(c)[1]*l(o).viewport.zoom||1]),h=V(()=>(t.size??Ob[n()])*l(o).viewport.zoom),f=V(()=>l(a)?[l(h),l(h)]:l(d)),g=V(()=>l(s)?[l(h)/2,l(h)/2]:[l(f)[0]/2,l(f)[1]/2]);var p=Pb();let b;var y=se(p),N=se(y);{var w=C=>{{let O=V(()=>l(h)/2);Sb(C,{get radius(){return l(O)},get class(){return t.patternClass}})}},I=C=>{Tb(C,{get dimensions(){return l(f)},get variant(){return n()},get lineWidth(){return i()},get class(){return t.patternClass}})};Re(N,C=>{l(s)?C(w):C(I,!1)})}var m=he(y);ye(()=>{Ot(p,0,Yr(["svelte-flow__background","svelte-flow__container",t.class])),b=Ze(p,"",b,{"--xy-background-color-props":t.bgColor,"--xy-background-pattern-color-props":t.patternColor}),pe(y,"id",l(u)),pe(y,"x",l(o).viewport.x%l(d)[0]),pe(y,"y",l(o).viewport.y%l(d)[1]),pe(y,"width",l(d)[0]),pe(y,"height",l(d)[1]),pe(y,"patternTransform",`translate(-${l(g)[0]},-${l(g)[1]})`),pe(m,"fill",`url(#${l(u)})`)}),te(e,p),ke()}var Ab=de("<div><!></div>");function zc(e,t){Ne(t,!0);let n=ee(t,"variant",19,()=>eo.Handle),r=ee(t,"minWidth",3,10),i=ee(t,"minHeight",3,10),o=ee(t,"maxWidth",19,()=>Number.MAX_VALUE),s=ee(t,"maxHeight",19,()=>Number.MAX_VALUE),a=ee(t,"keepAspectRatio",3,!1),c=ee(t,"autoScale",3,!0),u=Xr(t,["$$slots","$$events","$$legacy","nodeId","position","variant","color","minWidth","minHeight","maxWidth","maxHeight","keepAspectRatio","resizeDirection","autoScale","shouldResize","onResizeStart","onResize","onResizeEnd","class","children"]);const d=br(),h=Jd();let f=V(()=>typeof t.nodeId=="string"?t.nodeId:h);if(!l(f))throw new Error("Either pass a nodeId or use within a Custom Node component");let g,p=we(null),b=V(()=>n()===eo.Line),y=V(()=>{let m=l(b)?"right":"bottom-right";return t.position??m}),N=V(()=>l(y).split("-"));ol(()=>(g&&j(p,l0({domNode:g,nodeId:l(f),getStoreItems:()=>({nodeLookup:d.nodeLookup,transform:[d.viewport.x,d.viewport.y,d.viewport.zoom],snapGrid:d.snapGrid??void 0,snapToGrid:!!d.snapGrid,nodeOrigin:d.nodeOrigin,paneDomNode:d.domNode}),onChange:(m,C)=>{const O=new Map;O.set(l(f),m);for(const k of C)O.set(k.id,{x:k.position.x,y:k.position.y});d.nodes=d.nodes.map(k=>{const S=O.get(k.id),F=!t.resizeDirection||t.resizeDirection==="horizontal",D=!t.resizeDirection||t.resizeDirection==="vertical";return S?{...k,position:{x:F?S.x??k.position.x:k.position.x,y:D?S.y??k.position.y:k.position.y},width:F?S.width??k.width:k.width,height:D?S.height??k.height:k.height}:k})}}),!0),()=>{var m;(m=l(p))==null||m.destroy()})),tl(()=>{var m;(m=l(p))==null||m.update({controlPosition:l(y),boundaries:{minWidth:r(),minHeight:i(),maxWidth:o(),maxHeight:s()},keepAspectRatio:!!a(),resizeDirection:t.resizeDirection,onResizeStart:t.onResizeStart,onResize:t.onResize,onResizeEnd:t.onResizeEnd,shouldResize:t.shouldResize})});var w=Ab();pn(w,(m,C)=>({class:m,...u,[Xn]:C}),[()=>["svelte-flow__resize-control",d.noDragClass,...l(N),n(),t.class],()=>({"border-color":l(b)?t.color:void 0,"background-color":l(b)?void 0:t.color,scale:l(b)||!c()?void 0:Math.max(1/d.viewport.zoom,1)})]);var I=se(w);Ln(I,()=>t.children??pr),lt(w,m=>g=m,()=>g),te(e,w),ke()}var Mb=de("<!> <!>",1);function Db(e,t){Ne(t,!0);let n=ee(t,"isVisible",3,!0),r=ee(t,"autoScale",3,!0),i=Xr(t,["$$slots","$$events","$$legacy","isVisible","nodeId","handleClass","handleStyle","lineClass","lineStyle","autoScale"]);var o=$e(),s=Ce(o);{var a=c=>{var u=Mb(),d=Ce(u);rt(d,16,()=>n0,f=>f,(f,g)=>{zc(f,Wt({get class(){return t.lineClass},get style(){return t.lineStyle},get nodeId(){return t.nodeId},get position(){return g},get autoScale(){return r()},get variant(){return eo.Line}},()=>i))});var h=he(d,2);rt(h,16,()=>t0,f=>f,(f,g)=>{zc(f,Wt({get class(){return t.handleClass},get style(){return t.handleStyle},get nodeId(){return t.nodeId},get position(){return g},get autoScale(){return r()}},()=>i))}),te(c,u)};Re(s,c=>{n()&&c(a)})}te(e,o),ke()}function lf(){const e=V(br);return{get current(){return l(e).viewport},set current(t){l(e).viewport=t},update(t){l(e).viewport=t(l(e).viewport)},set(t){l(e).viewport=t}}}const Et=Jt({}),Va="datanode",Fa="rawjson",Ha="link",oa="group",Ka="comment",Dr="input",Lc="output",Fo="Generic",cf="$Group",uf="$Comment",df="$RawJson",ff="$Link",Rb="hytale-node-editor-comment-mutation",zb="hytale-node-editor-custom-mutation",Lb="hytale-node-editor-raw-json-mutation",Vb=200,Fb=100,Hb=9,sa=520,aa=320,cs=`{

}`,Kb="Raw JSON Node",Vc="#808080",Fc={aqua:"#0f8b8d",black:"#000000",blue:"#2f4f9d",darkpink:"#8f3f69",gray:"#6f7c87",green:"#4f8a5f",grey:"#6f7c87",lightblue:"#5e7ea6",lightpurple:"#8774aa",magenta:"#8d5f9f",olive:"#808000",orange:"#b5773b",pink:"#ad6f91",purple:"#6f5aa5",red:"#b35353",white:"#ffffff",yellow:"#b79a3b"};function ti(e){if(!e)return Vc;if(e=e.toLowerCase(),Fc[e])return Fc[e];const[t,n,r]=e.split(",");return t&&n&&r?`rgb(${t}, ${n}, ${r})`:(console.error(`Could not read node color: ${e}`),Vc)}var Bb=de('<div class="text-xs text-vsc-muted">No matching node types</div>'),Wb=de('<button data-add-node-menu-item="true" role="option" type="button"><span aria-hidden="true" class="relative h-8 w-2.5"></span> <span class="flex-1 min-w-0"><span class="block text-xs font-semibold truncate"> </span></span></button>'),Yb=de('<div class="flex flex-col gap-1.5"><div class="flex items-center gap-2 px-1 text-[0.65rem] font-semibold uppercase tracking-widest text-vsc-muted"><span> </span> <span class="flex-1 h-px bg-vsc-editor-widget-border"></span></div> <!></div>'),Xb=de('<div data-add-node-menu="true" role="dialog" aria-label="Add node menu" tabindex="-1" class="absolute z-3001 w-64 max-h-[70vh] translate-x-2 translate-y-2 overflow-hidden rounded-lg border border-vsc-editor-widget-border bg-vsc-editor-widget-bg p-2.5 text-vsc-editor-fg shadow-2xl"><input class="w-full rounded-md border border-vsc-input-border bg-vsc-input-bg px-2 py-1.5 text-xs text-vsc-input-fg" type="search" placeholder="Search nodes..."/> <div class="relative mt-2 flex max-h-[calc(70vh-3.5rem)] flex-col gap-2 overflow-auto pr-0.5" role="listbox"><!></div></div>');function jb(e,t){Ne(t,!0),console.log("Add Menu attempted to exist.");let n=ee(t,"open",3,!1),r=ee(t,"openVersion",3,0),i=ee(t,"position",19,()=>({x:0,y:0})),o=we(""),s=we(void 0),a=we(void 0),c=we(void 0),u=0,d="",h=-1;const f=[{templateId:cf,defaultTitle:"Add Group",childTypes:{},fieldsBySchemaKey:{},inputPins:[],outputPins:[],schemaConstants:{},category:Fo},{templateId:uf,defaultTitle:"Add Comment",childTypes:{},fieldsBySchemaKey:{},inputPins:[],outputPins:[],schemaConstants:{},category:Fo},{templateId:ff,defaultTitle:"Add Link",childTypes:{},fieldsBySchemaKey:{},inputPins:[],outputPins:[],schemaConstants:{},category:Fo},{templateId:df,defaultTitle:"Raw JSON Node",childTypes:{},fieldsBySchemaKey:{},inputPins:[],outputPins:[],schemaConstants:{},category:Fo}];let g=V(()=>[...f,...Et.context?Object.values(Et.context.nodeTemplatesById):[]]),p=V(()=>l(g).filter(k=>`${k.defaultTitle} ${k.category??""}`.toLowerCase().includes(l(o).trim().toLowerCase())).map((k,S)=>({flatIndex:S,template:k}))),b=V(()=>l(p).reduce((k,S)=>{const F=S.template.category??"Uncategorized";return{...k,[F]:[...k[F]??[],S]}},{}));qe(()=>{n()&&r()!==h&&(j(o,""),u=0,h=r(),ut().then(()=>{var k;return(k=l(s))==null?void 0:k.focus()}))}),qe(()=>{l(o)!==d&&(d=l(o),u=0)}),qe(()=>{u>=l(p).length&&(u=Math.max(0,l(p).length-1))}),qe(()=>{n()&&l(p).length>0&&u>=0&&ut().then(()=>{N()})});function y(k){if(n()){if(k.key==="Escape"){k.preventDefault(),k.stopPropagation(),t.onclose();return}if(l(p).length!==0){if(k.key==="ArrowDown"){k.preventDefault(),k.stopPropagation(),u=(u+1)%l(p).length,ut().then(()=>N());return}if(k.key==="ArrowUp"){k.preventDefault(),k.stopPropagation(),u=(u-1+l(p).length)%l(p).length,ut().then(()=>N());return}k.key==="Enter"&&(k.preventDefault(),k.stopPropagation(),t.onselect((l(p)[u]??l(p)[0]).template))}}}function N(){var F,D;const k=(D=(F=l(c))==null?void 0:F.querySelectorAll)==null?void 0:D.call(F,'[data-add-node-menu-item="true"]'),S=k==null?void 0:k[u];l(c)}function w(k){return u===k}function I(k){k>=0&&k<l(p).length&&(u=k)}var m=$e(),C=Ce(m);{var O=k=>{var S=Xb();S.__keydown=y;let F;var D=se(S);D.__keydown=y,lt(D,T=>j(s,T),()=>l(s));var E=he(D,2),_=se(E);{var x=T=>{var M=Bb();te(T,M)},v=V(()=>Object.keys(l(b)).length===0),A=T=>{var M=$e(),L=Ce(M);rt(L,17,()=>Object.entries(l(b)),([H,B])=>H,(H,B)=>{var G=V(()=>mr(l(B),2));let U=()=>l(G)[0],Q=()=>l(G)[1];var z=Yb(),P=se(z),W=se(P),X=se(W),Y=he(P,2);rt(Y,17,Q,J=>J.template.templateId,(J,re)=>{var q=Wb();let ue;q.__click=()=>t.onselect(l(re).template);var ge=se(q),me=he(ge,2),oe=se(me),be=se(oe);ye((xe,_e,ne,ae)=>{ue=Ot(q,1,"group flex w-full cursor-pointer items-center gap-2 rounded-lg border border-vsc-editor-widget-border bg-vsc-button-secondary-bg text-left text-vsc-button-secondary-fg transition-[border-color,background-color,color] overflow-clip",null,ue,xe),pe(q,"data-active",_e),pe(q,"aria-selected",ne),Ze(ge,`background-color: ${ae??""};`),We(be,l(re).template.defaultTitle)},[()=>({"border-vsc-focus":w(l(re).flatIndex),"bg-vsc-list-active-bg":w(l(re).flatIndex),"text-vsc-list-active-fg":w(l(re).flatIndex)}),()=>w(l(re).flatIndex),()=>w(l(re).flatIndex),()=>ti(l(re).template.nodeColor)]),Ke("mouseenter",q,()=>I(l(re).flatIndex)),te(J,q)}),ye(()=>We(X,U())),te(H,z)}),te(T,M)};Re(_,T=>{l(v)?T(x):T(A,!1)})}lt(E,T=>j(c,T),()=>l(c)),lt(S,T=>j(a,T),()=>l(a)),ye(()=>F=Ze(S,"",F,{left:`${i().x}px`,top:`${i().y}px`})),$u(D,()=>l(o),T=>j(o,T)),te(k,S)};Re(C,k=>{n()&&k(O)})}te(e,m),ke()}vt(["keydown","click"]);/**
 * @license lucide-svelte v0.564.0 - ISC
 *
 * ISC License
 * 
 * Copyright (c) for portions of Lucide are held by Cole Bemis 2013-2026 as part of Feather (MIT). All other copyright (c) for Lucide are held by Lucide Contributors 2026.
 * 
 * Permission to use, copy, modify, and/or distribute this software for any
 * purpose with or without fee is hereby granted, provided that the above
 * copyright notice and this permission notice appear in all copies.
 * 
 * THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES
 * WITH REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF
 * MERCHANTABILITY AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR
 * ANY SPECIAL, DIRECT, INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES
 * WHATSOEVER RESULTING FROM LOSS OF USE, DATA OR PROFITS, WHETHER IN AN
 * ACTION OF CONTRACT, NEGLIGENCE OR OTHER TORTIOUS ACTION, ARISING OUT OF
 * OR IN CONNECTION WITH THE USE OR PERFORMANCE OF THIS SOFTWARE.
 * 
 * ---
 * 
 * The MIT License (MIT) (for portions derived from Feather)
 * 
 * Copyright (c) 2013-2026 Cole Bemis
 * 
 * Permission is hereby granted, free of charge, to any person obtaining a copy
 * of this software and associated documentation files (the "Software"), to deal
 * in the Software without restriction, including without limitation the rights
 * to use, copy, modify, merge, publish, distribute, sublicense, and/or sell
 * copies of the Software, and to permit persons to whom the Software is
 * furnished to do so, subject to the following conditions:
 * 
 * The above copyright notice and this permission notice shall be included in all
 * copies or substantial portions of the Software.
 * 
 * THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR
 * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,
 * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE
 * AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER
 * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,
 * OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE
 * SOFTWARE.
 * 
 */const Gb={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor","stroke-width":2,"stroke-linecap":"round","stroke-linejoin":"round"};/**
 * @license lucide-svelte v0.564.0 - ISC
 *
 * ISC License
 * 
 * Copyright (c) for portions of Lucide are held by Cole Bemis 2013-2026 as part of Feather (MIT). All other copyright (c) for Lucide are held by Lucide Contributors 2026.
 * 
 * Permission to use, copy, modify, and/or distribute this software for any
 * purpose with or without fee is hereby granted, provided that the above
 * copyright notice and this permission notice appear in all copies.
 * 
 * THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES
 * WITH REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF
 * MERCHANTABILITY AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR
 * ANY SPECIAL, DIRECT, INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES
 * WHATSOEVER RESULTING FROM LOSS OF USE, DATA OR PROFITS, WHETHER IN AN
 * ACTION OF CONTRACT, NEGLIGENCE OR OTHER TORTIOUS ACTION, ARISING OUT OF
 * OR IN CONNECTION WITH THE USE OR PERFORMANCE OF THIS SOFTWARE.
 * 
 * ---
 * 
 * The MIT License (MIT) (for portions derived from Feather)
 * 
 * Copyright (c) 2013-2026 Cole Bemis
 * 
 * Permission is hereby granted, free of charge, to any person obtaining a copy
 * of this software and associated documentation files (the "Software"), to deal
 * in the Software without restriction, including without limitation the rights
 * to use, copy, modify, merge, publish, distribute, sublicense, and/or sell
 * copies of the Software, and to permit persons to whom the Software is
 * furnished to do so, subject to the following conditions:
 * 
 * The above copyright notice and this permission notice shall be included in all
 * copies or substantial portions of the Software.
 * 
 * THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR
 * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,
 * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE
 * AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER
 * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,
 * OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE
 * SOFTWARE.
 * 
 */const Ub=e=>{for(const t in e)if(t.startsWith("aria-")||t==="role"||t==="title")return!0;return!1};/**
 * @license lucide-svelte v0.564.0 - ISC
 *
 * ISC License
 * 
 * Copyright (c) for portions of Lucide are held by Cole Bemis 2013-2026 as part of Feather (MIT). All other copyright (c) for Lucide are held by Lucide Contributors 2026.
 * 
 * Permission to use, copy, modify, and/or distribute this software for any
 * purpose with or without fee is hereby granted, provided that the above
 * copyright notice and this permission notice appear in all copies.
 * 
 * THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES
 * WITH REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF
 * MERCHANTABILITY AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR
 * ANY SPECIAL, DIRECT, INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES
 * WHATSOEVER RESULTING FROM LOSS OF USE, DATA OR PROFITS, WHETHER IN AN
 * ACTION OF CONTRACT, NEGLIGENCE OR OTHER TORTIOUS ACTION, ARISING OUT OF
 * OR IN CONNECTION WITH THE USE OR PERFORMANCE OF THIS SOFTWARE.
 * 
 * ---
 * 
 * The MIT License (MIT) (for portions derived from Feather)
 * 
 * Copyright (c) 2013-2026 Cole Bemis
 * 
 * Permission is hereby granted, free of charge, to any person obtaining a copy
 * of this software and associated documentation files (the "Software"), to deal
 * in the Software without restriction, including without limitation the rights
 * to use, copy, modify, merge, publish, distribute, sublicense, and/or sell
 * copies of the Software, and to permit persons to whom the Software is
 * furnished to do so, subject to the following conditions:
 * 
 * The above copyright notice and this permission notice shall be included in all
 * copies or substantial portions of the Software.
 * 
 * THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR
 * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,
 * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE
 * AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER
 * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,
 * OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE
 * SOFTWARE.
 * 
 */const Hc=(...e)=>e.filter((t,n,r)=>!!t&&t.trim()!==""&&r.indexOf(t)===n).join(" ").trim();var qb=Xt("<svg><!><!></svg>");function _r(e,t){const n=on(t,["children","$$slots","$$events","$$legacy"]),r=on(n,["name","color","size","strokeWidth","absoluteStrokeWidth","iconNode"]);Ne(t,!1);let i=ee(t,"name",8,void 0),o=ee(t,"color",8,"currentColor"),s=ee(t,"size",8,24),a=ee(t,"strokeWidth",8,2),c=ee(t,"absoluteStrokeWidth",8,!1),u=ee(t,"iconNode",24,()=>[]);nr();var d=qb();pn(d,(g,p,b)=>({...Gb,...g,...r,width:s(),height:s(),stroke:o(),"stroke-width":p,class:b}),[()=>Ub(r)?void 0:{"aria-hidden":"true"},()=>(Fe(c()),Fe(a()),Fe(s()),De(()=>c()?Number(a())*24/Number(s()):a())),()=>(Fe(Hc),Fe(i()),Fe(n),De(()=>Hc("lucide-icon","lucide",i()?`lucide-${i()}`:"",n.class)))]);var h=se(d);rt(h,1,u,Kt,(g,p)=>{var b=V(()=>mr(l(p),2));let y=()=>l(b)[0],N=()=>l(b)[1];var w=$e(),I=Ce(w);tg(I,y,!0,(m,C)=>{pn(m,()=>({...N()}))}),te(g,w)});var f=he(h);zn(f,t,"default",{}),te(e,d),ke()}function Zb(e,t){const n=on(t,["children","$$slots","$$events","$$legacy"]);/**
 * @license lucide-svelte v0.564.0 - ISC
 *
 * ISC License
 *
 * Copyright (c) for portions of Lucide are held by Cole Bemis 2013-2026 as part of Feather (MIT). All other copyright (c) for Lucide are held by Lucide Contributors 2026.
 *
 * Permission to use, copy, modify, and/or distribute this software for any
 * purpose with or without fee is hereby granted, provided that the above
 * copyright notice and this permission notice appear in all copies.
 *
 * THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES
 * WITH REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF
 * MERCHANTABILITY AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR
 * ANY SPECIAL, DIRECT, INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES
 * WHATSOEVER RESULTING FROM LOSS OF USE, DATA OR PROFITS, WHETHER IN AN
 * ACTION OF CONTRACT, NEGLIGENCE OR OTHER TORTIOUS ACTION, ARISING OUT OF
 * OR IN CONNECTION WITH THE USE OR PERFORMANCE OF THIS SOFTWARE.
 *
 * ---
 *
 * The MIT License (MIT) (for portions derived from Feather)
 *
 * Copyright (c) 2013-2026 Cole Bemis
 *
 * Permission is hereby granted, free of charge, to any person obtaining a copy
 * of this software and associated documentation files (the "Software"), to deal
 * in the Software without restriction, including without limitation the rights
 * to use, copy, modify, merge, publish, distribute, sublicense, and/or sell
 * copies of the Software, and to permit persons to whom the Software is
 * furnished to do so, subject to the following conditions:
 *
 * The above copyright notice and this permission notice shall be included in all
 * copies or substantial portions of the Software.
 *
 * THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR
 * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,
 * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE
 * AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER
 * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,
 * OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE
 * SOFTWARE.
 *
 */const r=[["path",{d:"M3 19V5"}],["path",{d:"m13 6-6 6 6 6"}],["path",{d:"M7 12h14"}]];_r(e,Wt({name:"arrow-left-to-line"},()=>n,{get iconNode(){return r},children:(i,o)=>{var s=$e(),a=Ce(s);zn(a,t,"default",{}),te(i,s)},$$slots:{default:!0}}))}function Qb(e,t){const n=on(t,["children","$$slots","$$events","$$legacy"]);/**
 * @license lucide-svelte v0.564.0 - ISC
 *
 * ISC License
 *
 * Copyright (c) for portions of Lucide are held by Cole Bemis 2013-2026 as part of Feather (MIT). All other copyright (c) for Lucide are held by Lucide Contributors 2026.
 *
 * Permission to use, copy, modify, and/or distribute this software for any
 * purpose with or without fee is hereby granted, provided that the above
 * copyright notice and this permission notice appear in all copies.
 *
 * THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES
 * WITH REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF
 * MERCHANTABILITY AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR
 * ANY SPECIAL, DIRECT, INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES
 * WHATSOEVER RESULTING FROM LOSS OF USE, DATA OR PROFITS, WHETHER IN AN
 * ACTION OF CONTRACT, NEGLIGENCE OR OTHER TORTIOUS ACTION, ARISING OUT OF
 * OR IN CONNECTION WITH THE USE OR PERFORMANCE OF THIS SOFTWARE.
 *
 * ---
 *
 * The MIT License (MIT) (for portions derived from Feather)
 *
 * Copyright (c) 2013-2026 Cole Bemis
 *
 * Permission is hereby granted, free of charge, to any person obtaining a copy
 * of this software and associated documentation files (the "Software"), to deal
 * in the Software without restriction, including without limitation the rights
 * to use, copy, modify, merge, publish, distribute, sublicense, and/or sell
 * copies of the Software, and to permit persons to whom the Software is
 * furnished to do so, subject to the following conditions:
 *
 * The above copyright notice and this permission notice shall be included in all
 * copies or substantial portions of the Software.
 *
 * THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR
 * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,
 * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE
 * AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER
 * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,
 * OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE
 * SOFTWARE.
 *
 */const r=[["path",{d:"M10 10h4"}],["path",{d:"M19 7V4a1 1 0 0 0-1-1h-2a1 1 0 0 0-1 1v3"}],["path",{d:"M20 21a2 2 0 0 0 2-2v-3.851c0-1.39-2-2.962-2-4.829V8a1 1 0 0 0-1-1h-4a1 1 0 0 0-1 1v11a2 2 0 0 0 2 2z"}],["path",{d:"M 22 16 L 2 16"}],["path",{d:"M4 21a2 2 0 0 1-2-2v-3.851c0-1.39 2-2.962 2-4.829V8a1 1 0 0 1 1-1h4a1 1 0 0 1 1 1v11a2 2 0 0 1-2 2z"}],["path",{d:"M9 7V4a1 1 0 0 0-1-1H6a1 1 0 0 0-1 1v3"}]];_r(e,Wt({name:"binoculars"},()=>n,{get iconNode(){return r},children:(i,o)=>{var s=$e(),a=Ce(s);zn(a,t,"default",{}),te(i,s)},$$slots:{default:!0}}))}function Jb(e,t){const n=on(t,["children","$$slots","$$events","$$legacy"]);/**
 * @license lucide-svelte v0.564.0 - ISC
 *
 * ISC License
 *
 * Copyright (c) for portions of Lucide are held by Cole Bemis 2013-2026 as part of Feather (MIT). All other copyright (c) for Lucide are held by Lucide Contributors 2026.
 *
 * Permission to use, copy, modify, and/or distribute this software for any
 * purpose with or without fee is hereby granted, provided that the above
 * copyright notice and this permission notice appear in all copies.
 *
 * THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES
 * WITH REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF
 * MERCHANTABILITY AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR
 * ANY SPECIAL, DIRECT, INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES
 * WHATSOEVER RESULTING FROM LOSS OF USE, DATA OR PROFITS, WHETHER IN AN
 * ACTION OF CONTRACT, NEGLIGENCE OR OTHER TORTIOUS ACTION, ARISING OUT OF
 * OR IN CONNECTION WITH THE USE OR PERFORMANCE OF THIS SOFTWARE.
 *
 * ---
 *
 * The MIT License (MIT) (for portions derived from Feather)
 *
 * Copyright (c) 2013-2026 Cole Bemis
 *
 * Permission is hereby granted, free of charge, to any person obtaining a copy
 * of this software and associated documentation files (the "Software"), to deal
 * in the Software without restriction, including without limitation the rights
 * to use, copy, modify, merge, publish, distribute, sublicense, and/or sell
 * copies of the Software, and to permit persons to whom the Software is
 * furnished to do so, subject to the following conditions:
 *
 * The above copyright notice and this permission notice shall be included in all
 * copies or substantial portions of the Software.
 *
 * THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR
 * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,
 * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE
 * AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER
 * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,
 * OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE
 * SOFTWARE.
 *
 */const r=[["path",{d:"M8 3H7a2 2 0 0 0-2 2v5a2 2 0 0 1-2 2 2 2 0 0 1 2 2v5c0 1.1.9 2 2 2h1"}],["path",{d:"M16 21h1a2 2 0 0 0 2-2v-5c0-1.1.9-2 2-2a2 2 0 0 1-2-2V5a2 2 0 0 0-2-2h-1"}]];_r(e,Wt({name:"braces"},()=>n,{get iconNode(){return r},children:(i,o)=>{var s=$e(),a=Ce(s);zn(a,t,"default",{}),te(i,s)},$$slots:{default:!0}}))}function hf(e,t){const n=on(t,["children","$$slots","$$events","$$legacy"]);/**
 * @license lucide-svelte v0.564.0 - ISC
 *
 * ISC License
 *
 * Copyright (c) for portions of Lucide are held by Cole Bemis 2013-2026 as part of Feather (MIT). All other copyright (c) for Lucide are held by Lucide Contributors 2026.
 *
 * Permission to use, copy, modify, and/or distribute this software for any
 * purpose with or without fee is hereby granted, provided that the above
 * copyright notice and this permission notice appear in all copies.
 *
 * THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES
 * WITH REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF
 * MERCHANTABILITY AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR
 * ANY SPECIAL, DIRECT, INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES
 * WHATSOEVER RESULTING FROM LOSS OF USE, DATA OR PROFITS, WHETHER IN AN
 * ACTION OF CONTRACT, NEGLIGENCE OR OTHER TORTIOUS ACTION, ARISING OUT OF
 * OR IN CONNECTION WITH THE USE OR PERFORMANCE OF THIS SOFTWARE.
 *
 * ---
 *
 * The MIT License (MIT) (for portions derived from Feather)
 *
 * Copyright (c) 2013-2026 Cole Bemis
 *
 * Permission is hereby granted, free of charge, to any person obtaining a copy
 * of this software and associated documentation files (the "Software"), to deal
 * in the Software without restriction, including without limitation the rights
 * to use, copy, modify, merge, publish, distribute, sublicense, and/or sell
 * copies of the Software, and to permit persons to whom the Software is
 * furnished to do so, subject to the following conditions:
 *
 * The above copyright notice and this permission notice shall be included in all
 * copies or substantial portions of the Software.
 *
 * THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR
 * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,
 * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE
 * AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER
 * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,
 * OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE
 * SOFTWARE.
 *
 */const r=[["circle",{cx:"12",cy:"12",r:"10"}],["path",{d:"M9.09 9a3 3 0 0 1 5.83 1c0 2-3 3-3 3"}],["path",{d:"M12 17h.01"}]];_r(e,Wt({name:"circle-question-mark"},()=>n,{get iconNode(){return r},children:(i,o)=>{var s=$e(),a=Ce(s);zn(a,t,"default",{}),te(i,s)},$$slots:{default:!0}}))}function gf(e,t){const n=on(t,["children","$$slots","$$events","$$legacy"]);/**
 * @license lucide-svelte v0.564.0 - ISC
 *
 * ISC License
 *
 * Copyright (c) for portions of Lucide are held by Cole Bemis 2013-2026 as part of Feather (MIT). All other copyright (c) for Lucide are held by Lucide Contributors 2026.
 *
 * Permission to use, copy, modify, and/or distribute this software for any
 * purpose with or without fee is hereby granted, provided that the above
 * copyright notice and this permission notice appear in all copies.
 *
 * THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES
 * WITH REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF
 * MERCHANTABILITY AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR
 * ANY SPECIAL, DIRECT, INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES
 * WHATSOEVER RESULTING FROM LOSS OF USE, DATA OR PROFITS, WHETHER IN AN
 * ACTION OF CONTRACT, NEGLIGENCE OR OTHER TORTIOUS ACTION, ARISING OUT OF
 * OR IN CONNECTION WITH THE USE OR PERFORMANCE OF THIS SOFTWARE.
 *
 * ---
 *
 * The MIT License (MIT) (for portions derived from Feather)
 *
 * Copyright (c) 2013-2026 Cole Bemis
 *
 * Permission is hereby granted, free of charge, to any person obtaining a copy
 * of this software and associated documentation files (the "Software"), to deal
 * in the Software without restriction, including without limitation the rights
 * to use, copy, modify, merge, publish, distribute, sublicense, and/or sell
 * copies of the Software, and to permit persons to whom the Software is
 * furnished to do so, subject to the following conditions:
 *
 * The above copyright notice and this permission notice shall be included in all
 * copies or substantial portions of the Software.
 *
 * THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR
 * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,
 * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE
 * AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER
 * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,
 * OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE
 * SOFTWARE.
 *
 */const r=[["path",{d:"M2.992 16.342a2 2 0 0 1 .094 1.167l-1.065 3.29a1 1 0 0 0 1.236 1.168l3.413-.998a2 2 0 0 1 1.099.092 10 10 0 1 0-4.777-4.719"}],["path",{d:"M8 12h.01"}],["path",{d:"M12 12h.01"}],["path",{d:"M16 12h.01"}]];_r(e,Wt({name:"message-circle-more"},()=>n,{get iconNode(){return r},children:(i,o)=>{var s=$e(),a=Ce(s);zn(a,t,"default",{}),te(i,s)},$$slots:{default:!0}}))}function $b(e,t){const n=on(t,["children","$$slots","$$events","$$legacy"]);/**
 * @license lucide-svelte v0.564.0 - ISC
 *
 * ISC License
 *
 * Copyright (c) for portions of Lucide are held by Cole Bemis 2013-2026 as part of Feather (MIT). All other copyright (c) for Lucide are held by Lucide Contributors 2026.
 *
 * Permission to use, copy, modify, and/or distribute this software for any
 * purpose with or without fee is hereby granted, provided that the above
 * copyright notice and this permission notice appear in all copies.
 *
 * THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES
 * WITH REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF
 * MERCHANTABILITY AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR
 * ANY SPECIAL, DIRECT, INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES
 * WHATSOEVER RESULTING FROM LOSS OF USE, DATA OR PROFITS, WHETHER IN AN
 * ACTION OF CONTRACT, NEGLIGENCE OR OTHER TORTIOUS ACTION, ARISING OUT OF
 * OR IN CONNECTION WITH THE USE OR PERFORMANCE OF THIS SOFTWARE.
 *
 * ---
 *
 * The MIT License (MIT) (for portions derived from Feather)
 *
 * Copyright (c) 2013-2026 Cole Bemis
 *
 * Permission is hereby granted, free of charge, to any person obtaining a copy
 * of this software and associated documentation files (the "Software"), to deal
 * in the Software without restriction, including without limitation the rights
 * to use, copy, modify, merge, publish, distribute, sublicense, and/or sell
 * copies of the Software, and to permit persons to whom the Software is
 * furnished to do so, subject to the following conditions:
 *
 * The above copyright notice and this permission notice shall be included in all
 * copies or substantial portions of the Software.
 *
 * THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR
 * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,
 * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE
 * AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER
 * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,
 * OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE
 * SOFTWARE.
 *
 */const r=[["rect",{x:"16",y:"16",width:"6",height:"6",rx:"1"}],["rect",{x:"2",y:"16",width:"6",height:"6",rx:"1"}],["rect",{x:"9",y:"2",width:"6",height:"6",rx:"1"}],["path",{d:"M5 16v-3a1 1 0 0 1 1-1h12a1 1 0 0 1 1 1v3"}],["path",{d:"M12 12V8"}]];_r(e,Wt({name:"network"},()=>n,{get iconNode(){return r},children:(i,o)=>{var s=$e(),a=Ce(s);zn(a,t,"default",{}),te(i,s)},$$slots:{default:!0}}))}function El(e,t){const n=on(t,["children","$$slots","$$events","$$legacy"]);/**
 * @license lucide-svelte v0.564.0 - ISC
 *
 * ISC License
 *
 * Copyright (c) for portions of Lucide are held by Cole Bemis 2013-2026 as part of Feather (MIT). All other copyright (c) for Lucide are held by Lucide Contributors 2026.
 *
 * Permission to use, copy, modify, and/or distribute this software for any
 * purpose with or without fee is hereby granted, provided that the above
 * copyright notice and this permission notice appear in all copies.
 *
 * THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES
 * WITH REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF
 * MERCHANTABILITY AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR
 * ANY SPECIAL, DIRECT, INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES
 * WHATSOEVER RESULTING FROM LOSS OF USE, DATA OR PROFITS, WHETHER IN AN
 * ACTION OF CONTRACT, NEGLIGENCE OR OTHER TORTIOUS ACTION, ARISING OUT OF
 * OR IN CONNECTION WITH THE USE OR PERFORMANCE OF THIS SOFTWARE.
 *
 * ---
 *
 * The MIT License (MIT) (for portions derived from Feather)
 *
 * Copyright (c) 2013-2026 Cole Bemis
 *
 * Permission is hereby granted, free of charge, to any person obtaining a copy
 * of this software and associated documentation files (the "Software"), to deal
 * in the Software without restriction, including without limitation the rights
 * to use, copy, modify, merge, publish, distribute, sublicense, and/or sell
 * copies of the Software, and to permit persons to whom the Software is
 * furnished to do so, subject to the following conditions:
 *
 * The above copyright notice and this permission notice shall be included in all
 * copies or substantial portions of the Software.
 *
 * THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR
 * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,
 * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE
 * AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER
 * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,
 * OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE
 * SOFTWARE.
 *
 */const r=[["path",{d:"M21.174 6.812a1 1 0 0 0-3.986-3.987L3.842 16.174a2 2 0 0 0-.5.83l-1.321 4.352a.5.5 0 0 0 .623.622l4.353-1.32a2 2 0 0 0 .83-.497z"}],["path",{d:"m15 5 4 4"}]];_r(e,Wt({name:"pencil"},()=>n,{get iconNode(){return r},children:(i,o)=>{var s=$e(),a=Ce(s);zn(a,t,"default",{}),te(i,s)},$$slots:{default:!0}}))}function vf(e,t){const n=on(t,["children","$$slots","$$events","$$legacy"]);/**
 * @license lucide-svelte v0.564.0 - ISC
 *
 * ISC License
 *
 * Copyright (c) for portions of Lucide are held by Cole Bemis 2013-2026 as part of Feather (MIT). All other copyright (c) for Lucide are held by Lucide Contributors 2026.
 *
 * Permission to use, copy, modify, and/or distribute this software for any
 * purpose with or without fee is hereby granted, provided that the above
 * copyright notice and this permission notice appear in all copies.
 *
 * THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES
 * WITH REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF
 * MERCHANTABILITY AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR
 * ANY SPECIAL, DIRECT, INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES
 * WHATSOEVER RESULTING FROM LOSS OF USE, DATA OR PROFITS, WHETHER IN AN
 * ACTION OF CONTRACT, NEGLIGENCE OR OTHER TORTIOUS ACTION, ARISING OUT OF
 * OR IN CONNECTION WITH THE USE OR PERFORMANCE OF THIS SOFTWARE.
 *
 * ---
 *
 * The MIT License (MIT) (for portions derived from Feather)
 *
 * Copyright (c) 2013-2026 Cole Bemis
 *
 * Permission is hereby granted, free of charge, to any person obtaining a copy
 * of this software and associated documentation files (the "Software"), to deal
 * in the Software without restriction, including without limitation the rights
 * to use, copy, modify, merge, publish, distribute, sublicense, and/or sell
 * copies of the Software, and to permit persons to whom the Software is
 * furnished to do so, subject to the following conditions:
 *
 * The above copyright notice and this permission notice shall be included in all
 * copies or substantial portions of the Software.
 *
 * THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR
 * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,
 * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE
 * AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER
 * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,
 * OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE
 * SOFTWARE.
 *
 */const r=[["path",{d:"m21 21-4.34-4.34"}],["circle",{cx:"11",cy:"11",r:"8"}]];_r(e,Wt({name:"search"},()=>n,{get iconNode(){return r},children:(i,o)=>{var s=$e(),a=Ce(s);zn(a,t,"default",{}),te(i,s)},$$slots:{default:!0}}))}var e_=de('<div role="tooltip"> </div>'),t_=de("<div><!> <!></div>");function pf(e,t){const n=on(t,["children","$$slots","$$events","$$legacy"]),r=on(n,["text","delayMs","disabled","placement","wrapperClass","tooltipClass","groupAriaLabel"]);Ne(t,!1);const i=Oe(),o=Oe(),s=Oe();let a=ee(t,"text",8),c=ee(t,"delayMs",8,300),u=ee(t,"disabled",8,!1),d=ee(t,"placement",8,"bottom"),h=ee(t,"wrapperClass",8,""),f=ee(t,"tooltipClass",8,""),g=ee(t,"groupAriaLabel",8),p=Oe(!1),b;yo(()=>{y()});function y(){typeof b<"u"&&(clearTimeout(b),b=void 0)}function N(){y(),j(p,!1)}function w(){if(!(u()||!l(i))){if(y(),l(o)===0){j(p,!0);return}b=setTimeout(()=>{j(p,!0),b=void 0},l(o))}}function I(){w()}function m(){N()}function C(){u()||!l(i)||(y(),j(p,!0))}function O(_){var v,A;const x=_.relatedTarget;(A=(v=_.currentTarget)==null?void 0:v.contains)!=null&&A.call(v,x)||N()}function k(_){switch(_){case"top":return"left-1/2 bottom-full mb-1.5 -translate-x-1/2";case"right":return"left-full top-1/2 ml-2 -translate-y-1/2";case"left":return"right-full top-1/2 mr-2 -translate-y-1/2";default:return"left-1/2 top-full mt-1.5 -translate-x-1/2"}}Me(()=>Fe(a()),()=>{j(i,typeof a()=="string"?a():void 0)}),Me(()=>Fe(c()),()=>{j(o,Number(c())||0)}),Me(()=>Fe(d()),()=>{j(s,k(d()))}),Me(()=>(Fe(u()),l(i)),()=>{(u()||!l(i))&&N()}),ki(),nr();var S=t_();pn(S,()=>({...r,class:`relative ${h()??""}`,role:"group","aria-label":g(),onmouseenter:I,onmouseleave:m,onfocusin:C,onfocusout:O}));var F=se(S);zn(F,t,"default",{});var D=he(F,2);{var E=_=>{var x=e_(),v=se(x);ye(()=>{Ot(x,1,`pointer-events-none absolute z-20 w-max max-w-64 whitespace-normal rounded-md border border-vsc-editor-widget-border bg-vsc-editor-widget-bg px-2 py-1 text-[11px] leading-4 text-vsc-input-fg shadow-lg ${l(s)??""} ${f()??""}`),We(v,l(i))}),te(_,x)};Re(D,_=>{l(p)&&l(i)&&_(E)})}te(e,S),ke()}const st=Object.freeze({GO_TO_ROOT:"go-to-root",FIT_FULL_VIEW:"fit-full-view",SEARCH_NODES:"search-nodes",AUTO_POSITION_NODES:"auto-position-nodes",VIEW_RAW_JSON:"view-raw-json",HELP_AND_HOTKEYS:"help-and-hotkeys"}),Rs=Object.freeze([{id:st.GO_TO_ROOT,eventName:"gotoroot",commandId:"hytale-devtools.nodeEditor.quickAction.goToRoot",name:"Go to root"},{id:st.FIT_FULL_VIEW,eventName:"fitfullview",commandId:"hytale-devtools.nodeEditor.quickAction.fitFullView",name:"Fit full view",defaultKeybinding:{win:"V",linux:"V",mac:"V"}},{id:st.SEARCH_NODES,eventName:"searchnodes",commandId:"hytale-devtools.nodeEditor.quickAction.searchNodes",name:"Search nodes",keybindingSourceCommandId:"editor.action.webvieweditor.showFind",defaultKeybinding:{win:"F",linux:"F",mac:"F"}},{id:st.AUTO_POSITION_NODES,eventName:"autopositionnodes",commandId:"hytale-devtools.nodeEditor.quickAction.autoPositionNodes",name:"Auto position nodes",defaultKeybinding:{win:"L",linux:"L",mac:"L"}},{id:st.VIEW_RAW_JSON,eventName:"viewrawjson",commandId:"hytale-devtools.nodeEditor.quickAction.viewRawJson",name:"View raw json"},{id:st.HELP_AND_HOTKEYS,eventName:"helphotkeys",commandId:"hytale-devtools.nodeEditor.quickAction.helpAndHotkeys",name:"Show help",defaultKeybinding:{win:"?",linux:"?",mac:"?"}}]),n_=new Map(Rs.map(e=>[e.id,e])),r_=new Map(Rs.map(e=>[e.eventName,e])),Ba=new Map;for(const e of Rs){Ba.set(e.commandId,e);const t=e.keybindingSourceCommandId;t&&Ba.set(t,e)}function Nl(e){return e?n_.get(e):void 0}function i_(e){return e?r_.get(e):void 0}function o_(e){return e?Ba.get(e):void 0}var s_=de('<span aria-hidden="true" class="mx-0.5 h-5 w-px bg-vsc-editor-widget-border"></span>'),a_=de('<button type="button" class="flex h-8 w-8 items-center justify-center rounded-md border border-transparent text-vsc-muted transition-colors hover:border-vsc-editor-widget-border hover:bg-vsc-list-hover hover:text-vsc-editor-fg focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-vsc-focus"><!></button>'),l_=de('<nav aria-label="Node editor quick actions" class="flex items-center gap-1 rounded-xl border border-vsc-editor-widget-border bg-vsc-editor-widget-bg px-2 py-0.5 shadow-2xl"></nav>');function c_(e,t){Ne(t,!1);const n=Ns(),i=[{id:st.GO_TO_ROOT,icon:Zb},{id:st.FIT_FULL_VIEW,icon:Qb},{key:"separator-navigation",separator:!0},{id:st.SEARCH_NODES,icon:vf},{id:st.AUTO_POSITION_NODES,icon:$b},{key:"separator-utility",separator:!0},{id:st.VIEW_RAW_JSON,icon:Jb},{id:st.HELP_AND_HOTKEYS,icon:hf}].map(a=>a.separator?a:{...a,action:Nl(a.id)}).filter(a=>a.separator===!0||!!(a!=null&&a.action));function o(a){a!=null&&a.eventName&&n(a.eventName)}function s(a){return(a==null?void 0:a.id)===st.AUTO_POSITION_NODES?"-rotate-90":void 0}nr(),xl(e,{position:"top-center",class:"pointer-events-auto",children:(a,c)=>{var u=l_();rt(u,5,()=>i,d=>d.key??d.id,(d,h)=>{var f=$e(),g=Ce(f);{var p=y=>{var N=s_();te(y,N)},b=y=>{pf(y,{get text(){return l(h).action.name},placement:"bottom",delayMs:220,children:(N,w)=>{var I=a_();I.__click=()=>o(l(h).action);var m=se(I);{let C=bs(()=>s(l(h)));xs(m,()=>l(h).icon,(O,k)=>{k(O,{get class(){return l(C)},size:16,strokeWidth:2})})}ye(()=>pe(I,"aria-label",l(h).action.name)),te(N,I)},$$slots:{default:!0}})};Re(g,y=>{l(h).separator?y(p):y(b,!1)})}te(d,f)}),te(a,u)},$$slots:{default:!0}}),ke()}vt(["click"]);var u_=de('<span class="text-[0.65rem] text-vsc-muted">+</span>'),d_=de('<kbd class="rounded border border-vsc-editor-widget-border bg-vsc-input-bg px-1.5 py-0 text-[0.65rem] leading-4 text-vsc-input-fg"> </kbd> <!>',1),f_=de('<span class="px-1 text-[0.65rem] text-vsc-muted">or</span>'),h_=de('<span class="inline-flex items-center gap-1"></span> <!>',1),g_=de('<div class="flex items-center justify-between gap-3"><span class="text-xs"> </span> <div class="flex flex-wrap items-center gap-1"></div></div>'),v_=de('<span class="text-[0.65rem] text-vsc-muted">+</span>'),p_=de('<kbd class="rounded border border-vsc-editor-widget-border bg-vsc-input-bg px-1.5 py-0 text-[0.65rem] leading-4 text-vsc-input-fg"> </kbd> <!>',1),m_=de('<span class="px-1 text-[0.65rem] text-vsc-muted">or</span>'),y_=de('<span class="inline-flex items-center gap-1"></span> <!>',1),b_=de('<div class="flex items-center justify-between gap-3"><span class="text-xs"> </span> <div class="flex flex-wrap items-center gap-1"></div></div>'),__=de('<span class="text-[0.65rem] text-vsc-muted">+</span>'),w_=de('<kbd class="rounded border border-vsc-editor-widget-border bg-vsc-input-bg px-1.5 py-0 text-[0.65rem] leading-4 text-vsc-input-fg"> </kbd> <!>',1),x_=de('<span class="px-1 text-[0.65rem] text-vsc-muted">or</span>'),E_=de('<span class="inline-flex items-center gap-1"></span> <!>',1),N_=de('<div class="flex items-center justify-between gap-3"><span class="text-xs"> </span> <div class="flex flex-wrap items-center gap-1"></div></div>'),k_=de('<div data-node-help-overlay="true" class="absolute inset-0 z-50 flex items-center justify-center bg-black/15 p-4"><button type="button" aria-label="Close help" class="absolute inset-0 border-0 bg-transparent p-0"></button> <div role="dialog" aria-modal="true" aria-label="Default Keybinds" tabindex="-1" class="relative w-[30rem] max-h-[72vh] max-w-[96vw] overflow-auto rounded-xl border border-vsc-editor-widget-border bg-vsc-editor-widget-bg p-3 text-vsc-editor-fg shadow-2xl outline-none focus:outline-none focus-visible:outline-none"><div class="mb-3 flex items-center justify-between gap-2"><div class="flex items-center gap-2"><!> <h2 class="text-sm font-semibold">Default Keybinds</h2></div> <button type="button" class="inline-flex items-center gap-2 rounded-md border border-vsc-input-border bg-vsc-button-secondary-bg px-2 py-1 text-[0.7rem] font-medium text-vsc-button-secondary-fg hover:bg-vsc-button-secondary-hover focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-vsc-focus">Close</button></div> <div class="flex flex-col gap-4"><section class="rounded-lg border border-vsc-editor-widget-border bg-vsc-button-secondary-bg p-2.5"><h3 class="mb-2 text-[0.65rem] font-semibold uppercase tracking-[0.1em] text-vsc-muted">Editing</h3> <div class="grid gap-2"></div></section> <section class="rounded-lg border border-vsc-editor-widget-border bg-vsc-button-secondary-bg p-2.5"><h3 class="mb-2 text-[0.65rem] font-semibold uppercase tracking-[0.1em] text-vsc-muted">Navigation</h3> <div class="grid gap-2"></div></section> <section class="rounded-lg border border-vsc-editor-widget-border bg-vsc-button-secondary-bg p-2.5"><h3 class="mb-2 text-[0.65rem] font-semibold uppercase tracking-[0.1em] text-vsc-muted">Actions</h3> <div class="grid gap-2"></div></section></div> <div class="mt-3 flex flex-wrap items-center justify-between gap-2 border-t border-vsc-editor-widget-border pt-2"><p class="text-[0.65rem] text-vsc-muted">Keybinds can be customized in VSCode settings</p> <button type="button" class="inline-flex items-center rounded-md border border-vsc-input-border bg-vsc-button-secondary-bg px-2 py-1 text-[0.7rem] font-medium text-vsc-button-secondary-fg hover:bg-vsc-button-secondary-hover focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-vsc-focus">Customize</button></div></div></div>');function S_(e,t){Ne(t,!1);const n=Oe(),r=Oe(),i=Oe();let o=ee(t,"open",8,!1),s=ee(t,"openVersion",8,0);const a=Ns(),c=[st.SEARCH_NODES,st.FIT_FULL_VIEW,st.AUTO_POSITION_NODES,st.HELP_AND_HOTKEYS],u={label:"Add node",combos:[["Right click"]]},d=[{label:"Pan canvas",combos:[["Shift","Scroll"]]},{label:"Box select",combos:[["Shift","Drag"]]}],h=[{label:"Undo",combos:[["Cmd","Z"]]},{label:"Redo",combos:[["Shift","Cmd","Z"]]},{label:"Copy",combos:[["Cmd","C"]]},{label:"Cut",combos:[["Cmd","X"]]},{label:"Paste",combos:[["Cmd","V"]]}],f=[{label:"Undo",combos:[["Ctrl","Z"]]},{label:"Redo",combos:[["Ctrl","Y"],["Ctrl","Shift","Z"]]},{label:"Copy",combos:[["Ctrl","C"]]},{label:"Cut",combos:[["Ctrl","X"]]},{label:"Paste",combos:[["Ctrl","V"]]}];let g=Oe(),p=Oe(-1);function b(){a("close")}function y(){b()}function N(){a("customizekeybinds")}function w(D){const E=new Map(Rs.map(_=>[_.id,_]));return c.map(_=>E.get(_)).filter(Boolean).map(_=>({label:_.name,combos:[I(_,D)].filter(x=>Array.isArray(x)&&x.length>0)})).filter(_=>_.combos.length>0)}function I(D,E){const _=D==null?void 0:D.defaultKeybinding;if(!_)return[];const x=E==="mac"?_.mac:E==="linux"?_.linux:_.win;return m(x)}function m(D){const E=O(D);return E?E.split("+").map(_=>O(_)).filter(Boolean):[]}function C(){var _,x,v;const E=(O((x=(_=globalThis==null?void 0:globalThis.navigator)==null?void 0:_.userAgentData)==null?void 0:x.platform)??O((v=globalThis==null?void 0:globalThis.navigator)==null?void 0:v.platform)??"").toLowerCase();return E.includes("mac")?"mac":E.includes("linux")?"linux":"win"}function O(D){return typeof D=="string"?D:void 0}Me(()=>{},()=>{j(n,C())}),Me(()=>l(n),()=>{j(r,[u,...w(l(n))])}),Me(()=>l(n),()=>{j(i,l(n)==="mac"?h:f)}),Me(()=>(Fe(o()),Fe(s()),l(p),l(g)),()=>{o()&&s()!==l(p)&&(j(p,s()),ut().then(()=>{var D;return(D=l(g))==null?void 0:D.focus()}))}),ki(),nr();var k=$e(),S=Ce(k);{var F=D=>{var E=k_(),_=se(E);_.__pointerdown=y;var x=he(_,2);x.__pointerdown=X=>X.stopPropagation();var v=se(x),A=se(v),T=se(A);hf(T,{"aria-hidden":"true",size:15,strokeWidth:2,class:"text-vsc-muted"});var M=he(A,2);M.__click=b;var L=he(v,2),H=se(L),B=he(se(H),2);rt(B,5,()=>l(i),Kt,(X,Y)=>{var J=g_(),re=se(J),q=se(re),ue=he(re,2);rt(ue,5,()=>(l(Y),De(()=>l(Y).combos)),Kt,(ge,me,oe)=>{var be=h_(),xe=Ce(be);rt(xe,5,()=>l(me),Kt,(ae,ve,Ie)=>{var He=d_(),Te=Ce(He),Be=se(Te),je=he(Te,2);{var dt=tt=>{var it=u_();te(tt,it)};Re(je,tt=>{l(me),De(()=>Ie<l(me).length-1)&&tt(dt)})}ye(()=>We(Be,l(ve))),te(ae,He)});var _e=he(xe,2);{var ne=ae=>{var ve=f_();te(ae,ve)};Re(_e,ae=>{l(Y),De(()=>oe<l(Y).combos.length-1)&&ae(ne)})}te(ge,be)}),ye(()=>We(q,(l(Y),De(()=>l(Y).label)))),te(X,J)});var G=he(H,2),U=he(se(G),2);rt(U,5,()=>d,Kt,(X,Y)=>{var J=b_(),re=se(J),q=se(re),ue=he(re,2);rt(ue,5,()=>(l(Y),De(()=>l(Y).combos)),Kt,(ge,me,oe)=>{var be=y_(),xe=Ce(be);rt(xe,5,()=>l(me),Kt,(ae,ve,Ie)=>{var He=p_(),Te=Ce(He),Be=se(Te),je=he(Te,2);{var dt=tt=>{var it=v_();te(tt,it)};Re(je,tt=>{l(me),De(()=>Ie<l(me).length-1)&&tt(dt)})}ye(()=>We(Be,l(ve))),te(ae,He)});var _e=he(xe,2);{var ne=ae=>{var ve=m_();te(ae,ve)};Re(_e,ae=>{l(Y),De(()=>oe<l(Y).combos.length-1)&&ae(ne)})}te(ge,be)}),ye(()=>We(q,(l(Y),De(()=>l(Y).label)))),te(X,J)});var Q=he(G,2),z=he(se(Q),2);rt(z,5,()=>l(r),Kt,(X,Y)=>{var J=N_(),re=se(J),q=se(re),ue=he(re,2);rt(ue,5,()=>(l(Y),De(()=>l(Y).combos)),Kt,(ge,me,oe)=>{var be=E_(),xe=Ce(be);rt(xe,5,()=>l(me),Kt,(ae,ve,Ie)=>{var He=w_(),Te=Ce(He),Be=se(Te),je=he(Te,2);{var dt=tt=>{var it=__();te(tt,it)};Re(je,tt=>{l(me),De(()=>Ie<l(me).length-1)&&tt(dt)})}ye(()=>We(Be,l(ve))),te(ae,He)});var _e=he(xe,2);{var ne=ae=>{var ve=x_();te(ae,ve)};Re(_e,ae=>{l(Y),De(()=>oe<l(Y).combos.length-1)&&ae(ne)})}te(ge,be)}),ye(()=>We(q,(l(Y),De(()=>l(Y).label)))),te(X,J)});var P=he(L,2),W=he(se(P),2);W.__click=N,lt(x,X=>j(g,X),()=>l(g)),te(D,E)};Re(S,D=>{o()&&D(F)})}te(e,k),ke()}vt(["pointerdown","click"]);function I_(e,t){var i;const n=Array.isArray(e)?e:[],r=((i=O_(t))==null?void 0:i.toLowerCase())??"";return r?n.map(o=>({...o,items:(Array.isArray(o==null?void 0:o.items)?o.items:[]).filter(s=>(typeof(s==null?void 0:s.searchValue)=="string"?s.searchValue:"").includes(r))})).filter(o=>o.items.length>0):n.map(T_)}function T_(e){return{...e,items:Array.isArray(e==null?void 0:e.items)?[...e.items]:[]}}function O_(e){return typeof e=="string"&&e.trim()?e.trim():void 0}var P_=de('<div class="px-1 py-4 text-xs text-vsc-muted">No matching nodes</div>'),C_=de('<button data-node-search-item="true" role="option" type="button"><span aria-hidden="true" class="h-3 w-3 shrink-0 rounded-full border border-vsc-editor-widget-border"></span> <span class="min-w-0 flex-1"><span class="block truncate text-xs font-semibold"> </span></span></button>'),A_=de('<div class="flex flex-col gap-1.5"><div class="flex items-center gap-2 px-1 text-[0.65rem] font-semibold uppercase tracking-[0.1em] text-vsc-muted"><span class="truncate"> </span> <span class="h-px flex-1 bg-vsc-editor-widget-border"></span></div> <!></div>'),M_=de('<div data-node-search-menu="true" role="dialog" aria-label="Search nodes" tabindex="-1" class="mt-2 ml-2 w-[30rem] max-w-[92vw] max-h-[72vh] overflow-hidden rounded-xl border border-vsc-editor-widget-border bg-vsc-editor-widget-bg p-3 text-vsc-editor-fg shadow-2xl"><div class="relative"><!> <input class="w-full rounded-md border border-vsc-input-border bg-vsc-input-bg pr-2 py-1.5 pl-9 text-xs text-vsc-input-fg focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-vsc-focus" type="search" placeholder="Type a node name or group"/></div> <div class="relative mt-3 flex max-h-[calc(72vh-4.75rem)] flex-col gap-3 overflow-auto pr-0.5" role="listbox"><!></div></div>');function D_(e,t){Ne(t,!1);const n=Oe(),r=Oe(),i=Oe(),o=Oe();let s=ee(t,"open",8,!1),a=ee(t,"openVersion",8,0),c=ee(t,"groups",24,()=>[]);const u=Ns();let d=Oe(""),h=Oe(),f=Oe(),g=Oe(),p=Oe(0),b=Oe(!1),y=Oe(""),N=Oe(-1),w=Oe(void 0);function I(M){let L=0;return M.map(H=>({id:H==null?void 0:H.id,label:H==null?void 0:H.label,items:(Array.isArray(H==null?void 0:H.items)?H.items:[]).map(B=>({entry:B,flatIndex:L++}))}))}function m(){var Q,z;const M=(z=(Q=l(g))==null?void 0:Q.querySelectorAll)==null?void 0:z.call(Q,'[data-node-search-item="true"]'),L=M==null?void 0:M[l(p)];if(!l(g)||!L)return;const H=L.offsetTop,B=H+L.offsetHeight,G=l(g).scrollTop,U=G+l(g).clientHeight;if(H<G){qo(g,l(g).scrollTop=H);return}B>U&&qo(g,l(g).scrollTop=B-l(g).clientHeight)}function C(M){return l(p)===M}function O(M){return l(b)&&C(M)}function k(M){return!l(b)&&l(o).length>1&&C(M)}function S(M){M<0||M>=l(o).length||(j(p,M),j(b,!0))}function F(M){const L=x(M==null?void 0:M.nodeId);L&&u("select",{nodeId:L})}function D(){u("close")}function E(M){if(s()){if(M.key==="Escape"){M.preventDefault(),M.stopPropagation(),D();return}if(l(o).length!==0){if(M.key==="ArrowDown"||M.key==="ArrowUp"){if(M.preventDefault(),M.stopPropagation(),!l(b)&&l(o).length>1){j(b,!0),ut().then(()=>m());return}const L=M.key==="ArrowDown"?1:-1;j(p,(l(p)+L+l(o).length)%l(o).length),j(b,!0),ut().then(()=>m());return}M.key==="Enter"&&(M.preventDefault(),M.stopPropagation(),F(l(o)[l(p)]??l(o)[0]))}}}function _(M){return x(M==null?void 0:M.color)??"var(--vscode-descriptionForeground)"}function x(M){return typeof M=="string"?M:void 0}Me(()=>Fe(c()),()=>{j(n,Array.isArray(c())?c():[])}),Me(()=>(Fe(s()),Fe(a()),l(N),l(h)),()=>{s()&&a()!==l(N)&&(j(d,""),j(p,0),j(b,!1),j(N,a()),j(w,void 0),ut().then(()=>{var M;return(M=l(h))==null?void 0:M.focus()}))}),Me(()=>(l(n),l(d)),()=>{j(r,I_(l(n),l(d)))}),Me(()=>l(r),()=>{j(i,I(l(r)))}),Me(()=>l(i),()=>{j(o,l(i).flatMap(M=>M.items.map(L=>L.entry)))}),Me(()=>(l(d),l(y)),()=>{l(d)!==l(y)&&(j(y,l(d)),j(p,0),j(b,!1),j(w,void 0))}),Me(()=>(l(p),l(o)),()=>{l(p)>=l(o).length&&j(p,Math.max(0,l(o).length-1))}),Me(()=>l(o),()=>{l(o).length===0&&(j(p,0),j(b,!1),j(w,void 0))}),Me(()=>(l(o),Fe(s())),()=>{l(o).length===1&&s()&&j(b,!0)}),Me(()=>(Fe(s()),l(o),l(p),ut),()=>{s()&&l(o).length>0&&l(p)>=0&&ut().then(()=>{m()})}),Me(()=>(Fe(s()),l(b),l(o),l(p),l(w)),()=>{if(s()&&l(b)&&l(o).length>0){const M=l(o)[l(p)]??l(o)[0],L=x(M==null?void 0:M.nodeId);L&&L!==l(w)&&(j(w,L),u("preview",{nodeId:L}))}}),Me(()=>Fe(s()),()=>{s()||j(w,void 0)}),ki(),nr();var v=$e(),A=Ce(v);{var T=M=>{xl(M,{position:"top-left",class:"pointer-events-auto",children:(L,H)=>{var B=M_();B.__keydown=E;var G=se(B),U=se(G);vf(U,{"aria-hidden":"true",size:14,strokeWidth:2,class:"pointer-events-none absolute top-1/2 left-3 -translate-y-1/2 text-vsc-muted"});var Q=he(U,2);Q.__keydown=E,lt(Q,Y=>j(h,Y),()=>l(h));var z=he(G,2),P=se(z);{var W=Y=>{var J=P_();te(Y,J)},X=Y=>{var J=$e(),re=Ce(J);rt(re,1,()=>l(i),Kt,(q,ue)=>{var ge=A_(),me=se(ge),oe=se(me),be=se(oe),xe=he(me,2);rt(xe,1,()=>(l(ue),De(()=>l(ue).items)),_e=>_e.flatIndex,(_e,ne)=>{var ae=C_();let ve;ae.__click=()=>F(l(ne).entry);var Ie=se(ae),He=he(Ie,2),Te=se(He),Be=se(Te);ye((je,dt,tt,it)=>{pe(ae,"data-active",je),pe(ae,"aria-selected",dt),ve=Ot(ae,1,"group flex w-full cursor-pointer items-center gap-2 overflow-hidden rounded-lg border border-vsc-editor-widget-border bg-vsc-button-secondary-bg px-2 py-1.5 text-left text-vsc-button-secondary-fg transition-[border-color,background-color,color]",null,ve,tt),Ze(Ie,`background-color: ${it??""};`),We(Be,(l(ne),De(()=>l(ne).entry.label)))},[()=>(l(ne),De(()=>C(l(ne).flatIndex))),()=>(l(ne),De(()=>O(l(ne).flatIndex))),()=>({"border-vsc-focus":k(l(ne).flatIndex)||O(l(ne).flatIndex),"bg-vsc-list-active-bg":O(l(ne).flatIndex),"text-vsc-list-active-fg":O(l(ne).flatIndex)}),()=>(l(ne),De(()=>_(l(ne).entry)))]),Ke("mouseenter",ae,()=>S(l(ne).flatIndex)),te(_e,ae)}),ye(()=>We(be,(l(ue),De(()=>l(ue).label)))),te(q,ge)}),te(Y,J)};Re(P,Y=>{l(i),De(()=>l(i).length===0)?Y(W):Y(X,!1)})}lt(z,Y=>j(g,Y),()=>l(g)),lt(B,Y=>j(f,Y),()=>l(f)),$u(Q,()=>l(d),Y=>j(d,Y)),te(L,B)},$$slots:{default:!0}})};Re(A,M=>{s()&&M(T)})}te(e,v),ke()}vt(["keydown","click"]);function jn(e){return`${e}-${R_()}`}function R_(){return crypto.randomUUID()}var Qe=(e,t)=>()=>(t||e((t={exports:{}}).exports,t),t.exports),mn=Qe((e,t)=>{var n=Object.defineProperty,r=(x,v,A)=>v in x?n(x,v,{enumerable:!0,configurable:!0,writable:!0,value:A}):x[v]=A,i=(x,v)=>()=>(v||x((v={exports:{}}).exports,v),v.exports),o=(x,v,A)=>r(x,typeof v!="symbol"?v+"":v,A),s=i((x,v)=>{var A="\0",T="\0",M="",L=class{constructor(z){o(this,"_isDirected",!0),o(this,"_isMultigraph",!1),o(this,"_isCompound",!1),o(this,"_label"),o(this,"_defaultNodeLabelFn",()=>{}),o(this,"_defaultEdgeLabelFn",()=>{}),o(this,"_nodes",{}),o(this,"_in",{}),o(this,"_preds",{}),o(this,"_out",{}),o(this,"_sucs",{}),o(this,"_edgeObjs",{}),o(this,"_edgeLabels",{}),o(this,"_nodeCount",0),o(this,"_edgeCount",0),o(this,"_parent"),o(this,"_children"),z&&(this._isDirected=Object.hasOwn(z,"directed")?z.directed:!0,this._isMultigraph=Object.hasOwn(z,"multigraph")?z.multigraph:!1,this._isCompound=Object.hasOwn(z,"compound")?z.compound:!1),this._isCompound&&(this._parent={},this._children={},this._children[T]={})}isDirected(){return this._isDirected}isMultigraph(){return this._isMultigraph}isCompound(){return this._isCompound}setGraph(z){return this._label=z,this}graph(){return this._label}setDefaultNodeLabel(z){return this._defaultNodeLabelFn=z,typeof z!="function"&&(this._defaultNodeLabelFn=()=>z),this}nodeCount(){return this._nodeCount}nodes(){return Object.keys(this._nodes)}sources(){var z=this;return this.nodes().filter(P=>Object.keys(z._in[P]).length===0)}sinks(){var z=this;return this.nodes().filter(P=>Object.keys(z._out[P]).length===0)}setNodes(z,P){var W=arguments,X=this;return z.forEach(function(Y){W.length>1?X.setNode(Y,P):X.setNode(Y)}),this}setNode(z,P){return Object.hasOwn(this._nodes,z)?(arguments.length>1&&(this._nodes[z]=P),this):(this._nodes[z]=arguments.length>1?P:this._defaultNodeLabelFn(z),this._isCompound&&(this._parent[z]=T,this._children[z]={},this._children[T][z]=!0),this._in[z]={},this._preds[z]={},this._out[z]={},this._sucs[z]={},++this._nodeCount,this)}node(z){return this._nodes[z]}hasNode(z){return Object.hasOwn(this._nodes,z)}removeNode(z){var P=this;if(Object.hasOwn(this._nodes,z)){var W=X=>P.removeEdge(P._edgeObjs[X]);delete this._nodes[z],this._isCompound&&(this._removeFromParentsChildList(z),delete this._parent[z],this.children(z).forEach(function(X){P.setParent(X)}),delete this._children[z]),Object.keys(this._in[z]).forEach(W),delete this._in[z],delete this._preds[z],Object.keys(this._out[z]).forEach(W),delete this._out[z],delete this._sucs[z],--this._nodeCount}return this}setParent(z,P){if(!this._isCompound)throw new Error("Cannot set parent in a non-compound graph");if(P===void 0)P=T;else{P+="";for(var W=P;W!==void 0;W=this.parent(W))if(W===z)throw new Error("Setting "+P+" as parent of "+z+" would create a cycle");this.setNode(P)}return this.setNode(z),this._removeFromParentsChildList(z),this._parent[z]=P,this._children[P][z]=!0,this}_removeFromParentsChildList(z){delete this._children[this._parent[z]][z]}parent(z){if(this._isCompound){var P=this._parent[z];if(P!==T)return P}}children(z=T){if(this._isCompound){var P=this._children[z];if(P)return Object.keys(P)}else{if(z===T)return this.nodes();if(this.hasNode(z))return[]}}predecessors(z){var P=this._preds[z];if(P)return Object.keys(P)}successors(z){var P=this._sucs[z];if(P)return Object.keys(P)}neighbors(z){var P=this.predecessors(z);if(P){let X=new Set(P);for(var W of this.successors(z))X.add(W);return Array.from(X.values())}}isLeaf(z){var P;return this.isDirected()?P=this.successors(z):P=this.neighbors(z),P.length===0}filterNodes(z){var P=new this.constructor({directed:this._isDirected,multigraph:this._isMultigraph,compound:this._isCompound});P.setGraph(this.graph());var W=this;Object.entries(this._nodes).forEach(function([J,re]){z(J)&&P.setNode(J,re)}),Object.values(this._edgeObjs).forEach(function(J){P.hasNode(J.v)&&P.hasNode(J.w)&&P.setEdge(J,W.edge(J))});var X={};function Y(J){var re=W.parent(J);return re===void 0||P.hasNode(re)?(X[J]=re,re):re in X?X[re]:Y(re)}return this._isCompound&&P.nodes().forEach(J=>P.setParent(J,Y(J))),P}setDefaultEdgeLabel(z){return this._defaultEdgeLabelFn=z,typeof z!="function"&&(this._defaultEdgeLabelFn=()=>z),this}edgeCount(){return this._edgeCount}edges(){return Object.values(this._edgeObjs)}setPath(z,P){var W=this,X=arguments;return z.reduce(function(Y,J){return X.length>1?W.setEdge(Y,J,P):W.setEdge(Y,J),J}),this}setEdge(){var z,P,W,X,Y=!1,J=arguments[0];typeof J=="object"&&J!==null&&"v"in J?(z=J.v,P=J.w,W=J.name,arguments.length===2&&(X=arguments[1],Y=!0)):(z=J,P=arguments[1],W=arguments[3],arguments.length>2&&(X=arguments[2],Y=!0)),z=""+z,P=""+P,W!==void 0&&(W=""+W);var re=G(this._isDirected,z,P,W);if(Object.hasOwn(this._edgeLabels,re))return Y&&(this._edgeLabels[re]=X),this;if(W!==void 0&&!this._isMultigraph)throw new Error("Cannot set a named edge when isMultigraph = false");this.setNode(z),this.setNode(P),this._edgeLabels[re]=Y?X:this._defaultEdgeLabelFn(z,P,W);var q=U(this._isDirected,z,P,W);return z=q.v,P=q.w,Object.freeze(q),this._edgeObjs[re]=q,H(this._preds[P],z),H(this._sucs[z],P),this._in[P][re]=q,this._out[z][re]=q,this._edgeCount++,this}edge(z,P,W){var X=arguments.length===1?Q(this._isDirected,arguments[0]):G(this._isDirected,z,P,W);return this._edgeLabels[X]}edgeAsObj(){let z=this.edge(...arguments);return typeof z!="object"?{label:z}:z}hasEdge(z,P,W){var X=arguments.length===1?Q(this._isDirected,arguments[0]):G(this._isDirected,z,P,W);return Object.hasOwn(this._edgeLabels,X)}removeEdge(z,P,W){var X=arguments.length===1?Q(this._isDirected,arguments[0]):G(this._isDirected,z,P,W),Y=this._edgeObjs[X];return Y&&(z=Y.v,P=Y.w,delete this._edgeLabels[X],delete this._edgeObjs[X],B(this._preds[P],z),B(this._sucs[z],P),delete this._in[P][X],delete this._out[z][X],this._edgeCount--),this}inEdges(z,P){return this.isDirected()?this.filterEdges(this._in[z],z,P):this.nodeEdges(z,P)}outEdges(z,P){return this.isDirected()?this.filterEdges(this._out[z],z,P):this.nodeEdges(z,P)}nodeEdges(z,P){if(z in this._nodes)return this.filterEdges({...this._in[z],...this._out[z]},z,P)}filterEdges(z,P,W){if(z){var X=Object.values(z);return W?X.filter(function(Y){return Y.v===P&&Y.w===W||Y.v===W&&Y.w===P}):X}}};function H(z,P){z[P]?z[P]++:z[P]=1}function B(z,P){--z[P]||delete z[P]}function G(z,P,W,X){var Y=""+P,J=""+W;if(!z&&Y>J){var re=Y;Y=J,J=re}return Y+M+J+M+(X===void 0?A:X)}function U(z,P,W,X){var Y=""+P,J=""+W;if(!z&&Y>J){var re=Y;Y=J,J=re}var q={v:Y,w:J};return X&&(q.name=X),q}function Q(z,P){return G(z,P.v,P.w,P.name)}v.exports=L}),a=i((x,v)=>{v.exports="3.0.2"}),c=i((x,v)=>{v.exports={Graph:s(),version:a()}}),u=i((x,v)=>{var A=s();v.exports={write:T,read:H};function T(B){var G={options:{directed:B.isDirected(),multigraph:B.isMultigraph(),compound:B.isCompound()},nodes:M(B),edges:L(B)};return B.graph()!==void 0&&(G.value=structuredClone(B.graph())),G}function M(B){return B.nodes().map(function(G){var U=B.node(G),Q=B.parent(G),z={v:G};return U!==void 0&&(z.value=U),Q!==void 0&&(z.parent=Q),z})}function L(B){return B.edges().map(function(G){var U=B.edge(G),Q={v:G.v,w:G.w};return G.name!==void 0&&(Q.name=G.name),U!==void 0&&(Q.value=U),Q})}function H(B){var G=new A(B.options).setGraph(B.value);return B.nodes.forEach(function(U){G.setNode(U.v,U.value),U.parent&&G.setParent(U.v,U.parent)}),B.edges.forEach(function(U){G.setEdge({v:U.v,w:U.w,name:U.name},U.value)}),G}}),d=i((x,v)=>{v.exports=T;var A=()=>1;function T(L,H,B,G){return M(L,String(H),B||A,G||function(U){return L.outEdges(U)})}function M(L,H,B,G){var U={},Q=!0,z=0,P=L.nodes(),W=function(re){var q=B(re);U[re.v].distance+q<U[re.w].distance&&(U[re.w]={distance:U[re.v].distance+q,predecessor:re.v},Q=!0)},X=function(){P.forEach(function(re){G(re).forEach(function(q){var ue=q.v===re?q.v:q.w,ge=ue===q.v?q.w:q.v;W({v:ue,w:ge})})})};P.forEach(function(re){var q=re===H?0:Number.POSITIVE_INFINITY;U[re]={distance:q}});for(var Y=P.length,J=1;J<Y&&(Q=!1,z++,X(),!!Q);J++);if(z===Y-1&&(Q=!1,X(),Q))throw new Error("The graph contains a negative weight cycle");return U}}),h=i((x,v)=>{v.exports=A;function A(T){var M={},L=[],H;function B(G){Object.hasOwn(M,G)||(M[G]=!0,H.push(G),T.successors(G).forEach(B),T.predecessors(G).forEach(B))}return T.nodes().forEach(function(G){H=[],B(G),H.length&&L.push(H)}),L}}),f=i((x,v)=>{var A=class{constructor(){o(this,"_arr",[]),o(this,"_keyIndices",{})}size(){return this._arr.length}keys(){return this._arr.map(function(T){return T.key})}has(T){return Object.hasOwn(this._keyIndices,T)}priority(T){var M=this._keyIndices[T];if(M!==void 0)return this._arr[M].priority}min(){if(this.size()===0)throw new Error("Queue underflow");return this._arr[0].key}add(T,M){var L=this._keyIndices;if(T=String(T),!Object.hasOwn(L,T)){var H=this._arr,B=H.length;return L[T]=B,H.push({key:T,priority:M}),this._decrease(B),!0}return!1}removeMin(){this._swap(0,this._arr.length-1);var T=this._arr.pop();return delete this._keyIndices[T.key],this._heapify(0),T.key}decrease(T,M){var L=this._keyIndices[T];if(M>this._arr[L].priority)throw new Error("New priority is greater than current priority. Key: "+T+" Old: "+this._arr[L].priority+" New: "+M);this._arr[L].priority=M,this._decrease(L)}_heapify(T){var M=this._arr,L=2*T,H=L+1,B=T;L<M.length&&(B=M[L].priority<M[B].priority?L:B,H<M.length&&(B=M[H].priority<M[B].priority?H:B),B!==T&&(this._swap(T,B),this._heapify(B)))}_decrease(T){for(var M=this._arr,L=M[T].priority,H;T!==0&&(H=T>>1,!(M[H].priority<L));)this._swap(T,H),T=H}_swap(T,M){var L=this._arr,H=this._keyIndices,B=L[T],G=L[M];L[T]=G,L[M]=B,H[G.key]=T,H[B.key]=M}};v.exports=A}),g=i((x,v)=>{var A=f();v.exports=M;var T=()=>1;function M(H,B,G,U){var Q=function(z){return H.outEdges(z)};return L(H,String(B),G||T,U||Q)}function L(H,B,G,U){var Q={},z=new A,P,W,X=function(Y){var J=Y.v!==P?Y.v:Y.w,re=Q[J],q=G(Y),ue=W.distance+q;if(q<0)throw new Error("dijkstra does not allow negative edge weights. Bad edge: "+Y+" Weight: "+q);ue<re.distance&&(re.distance=ue,re.predecessor=P,z.decrease(J,ue))};for(H.nodes().forEach(function(Y){var J=Y===B?0:Number.POSITIVE_INFINITY;Q[Y]={distance:J},z.add(Y,J)});z.size()>0&&(P=z.removeMin(),W=Q[P],W.distance!==Number.POSITIVE_INFINITY);)U(P).forEach(X);return Q}}),p=i((x,v)=>{var A=g();v.exports=T;function T(M,L,H){return M.nodes().reduce(function(B,G){return B[G]=A(M,G,L,H),B},{})}}),b=i((x,v)=>{v.exports=A;function A(M,L,H){if(M[L].predecessor!==void 0)throw new Error("Invalid source vertex");if(M[H].predecessor===void 0&&H!==L)throw new Error("Invalid destination vertex");return{weight:M[H].distance,path:T(M,L,H)}}function T(M,L,H){for(var B=[],G=H;G!==L;)B.push(G),G=M[G].predecessor;return B.push(L),B.reverse()}}),y=i((x,v)=>{v.exports=A;function A(T){var M=0,L=[],H={},B=[];function G(U){var Q=H[U]={onStack:!0,lowlink:M,index:M++};if(L.push(U),T.successors(U).forEach(function(W){Object.hasOwn(H,W)?H[W].onStack&&(Q.lowlink=Math.min(Q.lowlink,H[W].index)):(G(W),Q.lowlink=Math.min(Q.lowlink,H[W].lowlink))}),Q.lowlink===Q.index){var z=[],P;do P=L.pop(),H[P].onStack=!1,z.push(P);while(U!==P);B.push(z)}}return T.nodes().forEach(function(U){Object.hasOwn(H,U)||G(U)}),B}}),N=i((x,v)=>{var A=y();v.exports=T;function T(M){return A(M).filter(function(L){return L.length>1||L.length===1&&M.hasEdge(L[0],L[0])})}}),w=i((x,v)=>{v.exports=T;var A=()=>1;function T(L,H,B){return M(L,H||A,B||function(G){return L.outEdges(G)})}function M(L,H,B){var G={},U=L.nodes();return U.forEach(function(Q){G[Q]={},G[Q][Q]={distance:0},U.forEach(function(z){Q!==z&&(G[Q][z]={distance:Number.POSITIVE_INFINITY})}),B(Q).forEach(function(z){var P=z.v===Q?z.w:z.v,W=H(z);G[Q][P]={distance:W,predecessor:Q}})}),U.forEach(function(Q){var z=G[Q];U.forEach(function(P){var W=G[P];U.forEach(function(X){var Y=W[Q],J=z[X],re=W[X],q=Y.distance+J.distance;q<re.distance&&(re.distance=q,re.predecessor=J.predecessor)})})}),G}}),I=i((x,v)=>{function A(M){var L={},H={},B=[];function G(U){if(Object.hasOwn(H,U))throw new T;Object.hasOwn(L,U)||(H[U]=!0,L[U]=!0,M.predecessors(U).forEach(G),delete H[U],B.push(U))}if(M.sinks().forEach(G),Object.keys(L).length!==M.nodeCount())throw new T;return B}var T=class extends Error{constructor(){super(...arguments)}};v.exports=A,A.CycleException=T}),m=i((x,v)=>{var A=I();v.exports=T;function T(M){try{A(M)}catch(L){if(L instanceof A.CycleException)return!1;throw L}return!0}}),C=i((x,v)=>{v.exports=A;function A(M,L,H,B,G){Array.isArray(L)||(L=[L]);var U=(M.isDirected()?M.successors:M.neighbors).bind(M),Q={};return L.forEach(function(z){if(!M.hasNode(z))throw new Error("Graph does not have node: "+z);G=T(M,z,H==="post",Q,U,B,G)}),G}function T(M,L,H,B,G,U,Q){return Object.hasOwn(B,L)||(B[L]=!0,H||(Q=U(Q,L)),G(L).forEach(function(z){Q=T(M,z,H,B,G,U,Q)}),H&&(Q=U(Q,L))),Q}}),O=i((x,v)=>{var A=C();v.exports=T;function T(M,L,H){return A(M,L,H,function(B,G){return B.push(G),B},[])}}),k=i((x,v)=>{var A=O();v.exports=T;function T(M,L){return A(M,L,"post")}}),S=i((x,v)=>{var A=O();v.exports=T;function T(M,L){return A(M,L,"pre")}}),F=i((x,v)=>{var A=s(),T=f();v.exports=M;function M(L,H){var B=new A,G={},U=new T,Q;function z(W){var X=W.v===Q?W.w:W.v,Y=U.priority(X);if(Y!==void 0){var J=H(W);J<Y&&(G[X]=Q,U.decrease(X,J))}}if(L.nodeCount()===0)return B;L.nodes().forEach(function(W){U.add(W,Number.POSITIVE_INFINITY),B.setNode(W)}),U.decrease(L.nodes()[0],0);for(var P=!1;U.size()>0;){if(Q=U.removeMin(),Object.hasOwn(G,Q))B.setEdge(Q,G[Q]);else{if(P)throw new Error("Input graph is not connected: "+L);P=!0}L.nodeEdges(Q).forEach(z)}return B}}),D=i((x,v)=>{var A=g(),T=d();v.exports=M;function M(H,B,G,U){return L(H,B,G,U||function(Q){return H.outEdges(Q)})}function L(H,B,G,U){if(G===void 0)return A(H,B,G,U);for(var Q=!1,z=H.nodes(),P=0;P<z.length;P++){for(var W=U(z[P]),X=0;X<W.length;X++){var Y=W[X],J=Y.v===z[P]?Y.v:Y.w,re=J===Y.v?Y.w:Y.v;G({v:J,w:re})<0&&(Q=!0)}if(Q)return T(H,B,G,U)}return A(H,B,G,U)}}),E=i((x,v)=>{v.exports={bellmanFord:d(),components:h(),dijkstra:g(),dijkstraAll:p(),extractPath:b(),findCycles:N(),floydWarshall:w(),isAcyclic:m(),postorder:k(),preorder:S(),prim:F(),shortestPaths:D(),reduce:C(),tarjan:y(),topsort:I()}}),_=c();t.exports={Graph:_.Graph,json:u(),alg:E(),version:_.version}}),z_=Qe((e,t)=>{var n=class{constructor(){let o={};o._next=o._prev=o,this._sentinel=o}dequeue(){let o=this._sentinel,s=o._prev;if(s!==o)return r(s),s}enqueue(o){let s=this._sentinel;o._prev&&o._next&&r(o),o._next=s._next,s._next._prev=o,s._next=o,o._prev=s}toString(){let o=[],s=this._sentinel,a=s._prev;for(;a!==s;)o.push(JSON.stringify(a,i)),a=a._prev;return"["+o.join(", ")+"]"}};function r(o){o._prev._next=o._next,o._next._prev=o._prev,delete o._next,delete o._prev}function i(o,s){if(o!=="_next"&&o!=="_prev")return s}t.exports=n}),L_=Qe((e,t)=>{var n=mn().Graph,r=z_();t.exports=o;var i=()=>1;function o(h,f){if(h.nodeCount()<=1)return[];let g=c(h,f||i);return s(g.graph,g.buckets,g.zeroIdx).flatMap(p=>h.outEdges(p.v,p.w))}function s(h,f,g){let p=[],b=f[f.length-1],y=f[0],N;for(;h.nodeCount();){for(;N=y.dequeue();)a(h,f,g,N);for(;N=b.dequeue();)a(h,f,g,N);if(h.nodeCount()){for(let w=f.length-2;w>0;--w)if(N=f[w].dequeue(),N){p=p.concat(a(h,f,g,N,!0));break}}}return p}function a(h,f,g,p,b){let y=b?[]:void 0;return h.inEdges(p.v).forEach(N=>{let w=h.edge(N),I=h.node(N.v);b&&y.push({v:N.v,w:N.w}),I.out-=w,u(f,g,I)}),h.outEdges(p.v).forEach(N=>{let w=h.edge(N),I=N.w,m=h.node(I);m.in-=w,u(f,g,m)}),h.removeNode(p.v),y}function c(h,f){let g=new n,p=0,b=0;h.nodes().forEach(w=>{g.setNode(w,{v:w,in:0,out:0})}),h.edges().forEach(w=>{let I=g.edge(w.v,w.w)||0,m=f(w),C=I+m;g.setEdge(w.v,w.w,C),b=Math.max(b,g.node(w.v).out+=m),p=Math.max(p,g.node(w.w).in+=m)});let y=d(b+p+3).map(()=>new r),N=p+1;return g.nodes().forEach(w=>{u(y,N,g.node(w))}),{graph:g,buckets:y,zeroIdx:N}}function u(h,f,g){g.out?g.in?h[g.out-g.in+f].enqueue(g):h[h.length-1].enqueue(g):h[0].enqueue(g)}function d(h){let f=[];for(let g=0;g<h;g++)f.push(g);return f}}),ft=Qe((e,t)=>{var n=mn().Graph;t.exports={addBorderNode:f,addDummyNode:r,applyWithChunking:b,asNonCompoundGraph:o,buildLayerMatrix:u,intersectRect:c,mapValues:S,maxRank:y,normalizeRanks:d,notime:I,partition:N,pick:k,predecessorWeights:a,range:O,removeEmptyRanks:h,simplify:i,successorWeights:s,time:w,uniqueId:C,zipObject:F};function r(D,E,_,x){for(var v=x;D.hasNode(v);)v=C(x);return _.dummy=E,D.setNode(v,_),v}function i(D){let E=new n().setGraph(D.graph());return D.nodes().forEach(_=>E.setNode(_,D.node(_))),D.edges().forEach(_=>{let x=E.edge(_.v,_.w)||{weight:0,minlen:1},v=D.edge(_);E.setEdge(_.v,_.w,{weight:x.weight+v.weight,minlen:Math.max(x.minlen,v.minlen)})}),E}function o(D){let E=new n({multigraph:D.isMultigraph()}).setGraph(D.graph());return D.nodes().forEach(_=>{D.children(_).length||E.setNode(_,D.node(_))}),D.edges().forEach(_=>{E.setEdge(_,D.edge(_))}),E}function s(D){let E=D.nodes().map(_=>{let x={};return D.outEdges(_).forEach(v=>{x[v.w]=(x[v.w]||0)+D.edge(v).weight}),x});return F(D.nodes(),E)}function a(D){let E=D.nodes().map(_=>{let x={};return D.inEdges(_).forEach(v=>{x[v.v]=(x[v.v]||0)+D.edge(v).weight}),x});return F(D.nodes(),E)}function c(D,E){let _=D.x,x=D.y,v=E.x-_,A=E.y-x,T=D.width/2,M=D.height/2;if(!v&&!A)throw new Error("Not possible to find intersection inside of the rectangle");let L,H;return Math.abs(A)*T>Math.abs(v)*M?(A<0&&(M=-M),L=M*v/A,H=M):(v<0&&(T=-T),L=T,H=T*A/v),{x:_+L,y:x+H}}function u(D){let E=O(y(D)+1).map(()=>[]);return D.nodes().forEach(_=>{let x=D.node(_),v=x.rank;v!==void 0&&(E[v][x.order]=_)}),E}function d(D){let E=D.nodes().map(x=>{let v=D.node(x).rank;return v===void 0?Number.MAX_VALUE:v}),_=b(Math.min,E);D.nodes().forEach(x=>{let v=D.node(x);Object.hasOwn(v,"rank")&&(v.rank-=_)})}function h(D){let E=D.nodes().map(T=>D.node(T).rank).filter(T=>T!==void 0),_=b(Math.min,E),x=[];D.nodes().forEach(T=>{let M=D.node(T).rank-_;x[M]||(x[M]=[]),x[M].push(T)});let v=0,A=D.graph().nodeRankFactor;Array.from(x).forEach((T,M)=>{T===void 0&&M%A!==0?--v:T!==void 0&&v&&T.forEach(L=>D.node(L).rank+=v)})}function f(D,E,_,x){let v={width:0,height:0};return arguments.length>=4&&(v.rank=_,v.order=x),r(D,"border",v,E)}function g(D,E=p){let _=[];for(let x=0;x<D.length;x+=E){let v=D.slice(x,x+E);_.push(v)}return _}var p=65535;function b(D,E){if(E.length>p){let _=g(E);return D.apply(null,_.map(x=>D.apply(null,x)))}else return D.apply(null,E)}function y(D){let E=D.nodes().map(_=>{let x=D.node(_).rank;return x===void 0?Number.MIN_VALUE:x});return b(Math.max,E)}function N(D,E){let _={lhs:[],rhs:[]};return D.forEach(x=>{E(x)?_.lhs.push(x):_.rhs.push(x)}),_}function w(D,E){let _=Date.now();try{return E()}finally{console.log(D+" time: "+(Date.now()-_)+"ms")}}function I(D,E){return E()}var m=0;function C(D){var E=++m;return D+(""+E)}function O(D,E,_=1){E==null&&(E=D,D=0);let x=A=>A<E;_<0&&(x=A=>E<A);let v=[];for(let A=D;x(A);A+=_)v.push(A);return v}function k(D,E){let _={};for(let x of E)D[x]!==void 0&&(_[x]=D[x]);return _}function S(D,E){let _=E;return typeof E=="string"&&(_=x=>x[E]),Object.entries(D).reduce((x,[v,A])=>(x[v]=_(A,v),x),{})}function F(D,E){return D.reduce((_,x,v)=>(_[x]=E[v],_),{})}}),V_=Qe((e,t)=>{var n=L_(),r=ft().uniqueId;t.exports={run:i,undo:s};function i(a){(a.graph().acyclicer==="greedy"?n(a,c(a)):o(a)).forEach(u=>{let d=a.edge(u);a.removeEdge(u),d.forwardName=u.name,d.reversed=!0,a.setEdge(u.w,u.v,d,r("rev"))});function c(u){return d=>u.edge(d).weight}}function o(a){let c=[],u={},d={};function h(f){Object.hasOwn(d,f)||(d[f]=!0,u[f]=!0,a.outEdges(f).forEach(g=>{Object.hasOwn(u,g.w)?c.push(g):h(g.w)}),delete u[f])}return a.nodes().forEach(h),c}function s(a){a.edges().forEach(c=>{let u=a.edge(c);if(u.reversed){a.removeEdge(c);let d=u.forwardName;delete u.reversed,delete u.forwardName,a.setEdge(c.w,c.v,u,d)}})}}),F_=Qe((e,t)=>{var n=ft();t.exports={run:r,undo:o};function r(s){s.graph().dummyChains=[],s.edges().forEach(a=>i(s,a))}function i(s,a){let c=a.v,u=s.node(c).rank,d=a.w,h=s.node(d).rank,f=a.name,g=s.edge(a),p=g.labelRank;if(h===u+1)return;s.removeEdge(a);let b,y,N;for(N=0,++u;u<h;++N,++u)g.points=[],y={width:0,height:0,edgeLabel:g,edgeObj:a,rank:u},b=n.addDummyNode(s,"edge",y,"_d"),u===p&&(y.width=g.width,y.height=g.height,y.dummy="edge-label",y.labelpos=g.labelpos),s.setEdge(c,b,{weight:g.weight},f),N===0&&s.graph().dummyChains.push(b),c=b;s.setEdge(c,d,{weight:g.weight},f)}function o(s){s.graph().dummyChains.forEach(a=>{let c=s.node(a),u=c.edgeLabel,d;for(s.setEdge(c.edgeObj,u);c.dummy;)d=s.successors(a)[0],s.removeNode(a),u.points.push({x:c.x,y:c.y}),c.dummy==="edge-label"&&(u.x=c.x,u.y=c.y,u.width=c.width,u.height=c.height),a=d,c=s.node(a)})}}),us=Qe((e,t)=>{var{applyWithChunking:n}=ft();t.exports={longestPath:r,slack:i};function r(o){var s={};function a(c){var u=o.node(c);if(Object.hasOwn(s,c))return u.rank;s[c]=!0;let d=o.outEdges(c).map(f=>f==null?Number.POSITIVE_INFINITY:a(f.w)-o.edge(f).minlen);var h=n(Math.min,d);return h===Number.POSITIVE_INFINITY&&(h=0),u.rank=h}o.sources().forEach(a)}function i(o,s){return o.node(s.w).rank-o.node(s.v).rank-o.edge(s).minlen}}),mf=Qe((e,t)=>{var n=mn().Graph,r=us().slack;t.exports=i;function i(c){var u=new n({directed:!1}),d=c.nodes()[0],h=c.nodeCount();u.setNode(d,{});for(var f,g;o(u,c)<h;)f=s(u,c),g=u.hasNode(f.v)?r(c,f):-r(c,f),a(u,c,g);return u}function o(c,u){function d(h){u.nodeEdges(h).forEach(f=>{var g=f.v,p=h===g?f.w:g;!c.hasNode(p)&&!r(u,f)&&(c.setNode(p,{}),c.setEdge(h,p,{}),d(p))})}return c.nodes().forEach(d),c.nodeCount()}function s(c,u){return u.edges().reduce((d,h)=>{let f=Number.POSITIVE_INFINITY;return c.hasNode(h.v)!==c.hasNode(h.w)&&(f=r(u,h)),f<d[0]?[f,h]:d},[Number.POSITIVE_INFINITY,null])[1]}function a(c,u,d){c.nodes().forEach(h=>u.node(h).rank+=d)}}),H_=Qe((e,t)=>{var n=mf(),r=us().slack,i=us().longestPath,o=mn().alg.preorder,s=mn().alg.postorder,a=ft().simplify;t.exports=c,c.initLowLimValues=f,c.initCutValues=u,c.calcCutValue=h,c.leaveEdge=p,c.enterEdge=b,c.exchangeEdges=y;function c(m){m=a(m),i(m);var C=n(m);f(C),u(C,m);for(var O,k;O=p(C);)k=b(C,m,O),y(C,m,O,k)}function u(m,C){var O=s(m,m.nodes());O=O.slice(0,O.length-1),O.forEach(k=>d(m,C,k))}function d(m,C,O){var k=m.node(O),S=k.parent;m.edge(O,S).cutvalue=h(m,C,O)}function h(m,C,O){var k=m.node(O),S=k.parent,F=!0,D=C.edge(O,S),E=0;return D||(F=!1,D=C.edge(S,O)),E=D.weight,C.nodeEdges(O).forEach(_=>{var x=_.v===O,v=x?_.w:_.v;if(v!==S){var A=x===F,T=C.edge(_).weight;if(E+=A?T:-T,w(m,O,v)){var M=m.edge(O,v).cutvalue;E+=A?-M:M}}}),E}function f(m,C){arguments.length<2&&(C=m.nodes()[0]),g(m,{},1,C)}function g(m,C,O,k,S){var F=O,D=m.node(k);return C[k]=!0,m.neighbors(k).forEach(E=>{Object.hasOwn(C,E)||(O=g(m,C,O,E,k))}),D.low=F,D.lim=O++,S?D.parent=S:delete D.parent,O}function p(m){return m.edges().find(C=>m.edge(C).cutvalue<0)}function b(m,C,O){var k=O.v,S=O.w;C.hasEdge(k,S)||(k=O.w,S=O.v);var F=m.node(k),D=m.node(S),E=F,_=!1;F.lim>D.lim&&(E=D,_=!0);var x=C.edges().filter(v=>_===I(m,m.node(v.v),E)&&_!==I(m,m.node(v.w),E));return x.reduce((v,A)=>r(C,A)<r(C,v)?A:v)}function y(m,C,O,k){var S=O.v,F=O.w;m.removeEdge(S,F),m.setEdge(k.v,k.w,{}),f(m),u(m,C),N(m,C)}function N(m,C){var O=m.nodes().find(S=>!C.node(S).parent),k=o(m,O);k=k.slice(1),k.forEach(S=>{var F=m.node(S).parent,D=C.edge(S,F),E=!1;D||(D=C.edge(F,S),E=!0),C.node(S).rank=C.node(F).rank+(E?D.minlen:-D.minlen)})}function w(m,C,O){return m.hasEdge(C,O)}function I(m,C,O){return O.low<=C.lim&&C.lim<=O.lim}}),K_=Qe((e,t)=>{var n=us(),r=n.longestPath,i=mf(),o=H_();t.exports=s;function s(d){var h=d.graph().ranker;if(h instanceof Function)return h(d);switch(d.graph().ranker){case"network-simplex":u(d);break;case"tight-tree":c(d);break;case"longest-path":a(d);break;case"none":break;default:u(d)}}var a=r;function c(d){r(d),i(d)}function u(d){o(d)}}),B_=Qe((e,t)=>{t.exports=n;function n(o){let s=i(o);o.graph().dummyChains.forEach(a=>{let c=o.node(a),u=c.edgeObj,d=r(o,s,u.v,u.w),h=d.path,f=d.lca,g=0,p=h[g],b=!0;for(;a!==u.w;){if(c=o.node(a),b){for(;(p=h[g])!==f&&o.node(p).maxRank<c.rank;)g++;p===f&&(b=!1)}if(!b){for(;g<h.length-1&&o.node(p=h[g+1]).minRank<=c.rank;)g++;p=h[g]}o.setParent(a,p),a=o.successors(a)[0]}})}function r(o,s,a,c){let u=[],d=[],h=Math.min(s[a].low,s[c].low),f=Math.max(s[a].lim,s[c].lim),g,p;g=a;do g=o.parent(g),u.push(g);while(g&&(s[g].low>h||f>s[g].lim));for(p=g,g=c;(g=o.parent(g))!==p;)d.push(g);return{path:u.concat(d.reverse()),lca:p}}function i(o){let s={},a=0;function c(u){let d=a;o.children(u).forEach(c),s[u]={low:d,lim:a++}}return o.children().forEach(c),s}}),W_=Qe((e,t)=>{var n=ft();t.exports={run:r,cleanup:a};function r(c){let u=n.addDummyNode(c,"root",{},"_root"),d=o(c),h=Object.values(d),f=n.applyWithChunking(Math.max,h)-1,g=2*f+1;c.graph().nestingRoot=u,c.edges().forEach(b=>c.edge(b).minlen*=g);let p=s(c)+1;c.children().forEach(b=>i(c,u,g,p,f,d,b)),c.graph().nodeRankFactor=g}function i(c,u,d,h,f,g,p){let b=c.children(p);if(!b.length){p!==u&&c.setEdge(u,p,{weight:0,minlen:d});return}let y=n.addBorderNode(c,"_bt"),N=n.addBorderNode(c,"_bb"),w=c.node(p);c.setParent(y,p),w.borderTop=y,c.setParent(N,p),w.borderBottom=N,b.forEach(I=>{i(c,u,d,h,f,g,I);let m=c.node(I),C=m.borderTop?m.borderTop:I,O=m.borderBottom?m.borderBottom:I,k=m.borderTop?h:2*h,S=C!==O?1:f-g[p]+1;c.setEdge(y,C,{weight:k,minlen:S,nestingEdge:!0}),c.setEdge(O,N,{weight:k,minlen:S,nestingEdge:!0})}),c.parent(p)||c.setEdge(u,y,{weight:0,minlen:f+g[p]})}function o(c){var u={};function d(h,f){var g=c.children(h);g&&g.length&&g.forEach(p=>d(p,f+1)),u[h]=f}return c.children().forEach(h=>d(h,1)),u}function s(c){return c.edges().reduce((u,d)=>u+c.edge(d).weight,0)}function a(c){var u=c.graph();c.removeNode(u.nestingRoot),delete u.nestingRoot,c.edges().forEach(d=>{var h=c.edge(d);h.nestingEdge&&c.removeEdge(d)})}}),Y_=Qe((e,t)=>{var n=ft();t.exports=r;function r(o){function s(a){let c=o.children(a),u=o.node(a);if(c.length&&c.forEach(s),Object.hasOwn(u,"minRank")){u.borderLeft=[],u.borderRight=[];for(let d=u.minRank,h=u.maxRank+1;d<h;++d)i(o,"borderLeft","_bl",a,u,d),i(o,"borderRight","_br",a,u,d)}}o.children().forEach(s)}function i(o,s,a,c,u,d){let h={width:0,height:0,rank:d,borderType:s},f=u[s][d-1],g=n.addDummyNode(o,"border",h,a);u[s][d]=g,o.setParent(g,c),f&&o.setEdge(f,g,{weight:1})}}),X_=Qe((e,t)=>{t.exports={adjust:n,undo:r};function n(d){let h=d.graph().rankdir.toLowerCase();(h==="lr"||h==="rl")&&i(d)}function r(d){let h=d.graph().rankdir.toLowerCase();(h==="bt"||h==="rl")&&s(d),(h==="lr"||h==="rl")&&(c(d),i(d))}function i(d){d.nodes().forEach(h=>o(d.node(h))),d.edges().forEach(h=>o(d.edge(h)))}function o(d){let h=d.width;d.width=d.height,d.height=h}function s(d){d.nodes().forEach(h=>a(d.node(h))),d.edges().forEach(h=>{let f=d.edge(h);f.points.forEach(a),Object.hasOwn(f,"y")&&a(f)})}function a(d){d.y=-d.y}function c(d){d.nodes().forEach(h=>u(d.node(h))),d.edges().forEach(h=>{let f=d.edge(h);f.points.forEach(u),Object.hasOwn(f,"x")&&u(f)})}function u(d){let h=d.x;d.x=d.y,d.y=h}}),j_=Qe((e,t)=>{var n=ft();t.exports=r;function r(i){let o={},s=i.nodes().filter(h=>!i.children(h).length),a=s.map(h=>i.node(h).rank),c=n.applyWithChunking(Math.max,a),u=n.range(c+1).map(()=>[]);function d(h){if(o[h])return;o[h]=!0;let f=i.node(h);u[f.rank].push(h),i.successors(h).forEach(d)}return s.sort((h,f)=>i.node(h).rank-i.node(f).rank).forEach(d),u}}),G_=Qe((e,t)=>{var n=ft().zipObject;t.exports=r;function r(o,s){let a=0;for(let c=1;c<s.length;++c)a+=i(o,s[c-1],s[c]);return a}function i(o,s,a){let c=n(a,a.map((p,b)=>b)),u=s.flatMap(p=>o.outEdges(p).map(b=>({pos:c[b.w],weight:o.edge(b).weight})).sort((b,y)=>b.pos-y.pos)),d=1;for(;d<a.length;)d<<=1;let h=2*d-1;d-=1;let f=new Array(h).fill(0),g=0;return u.forEach(p=>{let b=p.pos+d;f[b]+=p.weight;let y=0;for(;b>0;)b%2&&(y+=f[b+1]),b=b-1>>1,f[b]+=p.weight;g+=p.weight*y}),g}}),U_=Qe((e,t)=>{t.exports=n;function n(r,i=[]){return i.map(o=>{let s=r.inEdges(o);if(s.length){let a=s.reduce((c,u)=>{let d=r.edge(u),h=r.node(u.v);return{sum:c.sum+d.weight*h.order,weight:c.weight+d.weight}},{sum:0,weight:0});return{v:o,barycenter:a.sum/a.weight,weight:a.weight}}else return{v:o}})}}),q_=Qe((e,t)=>{var n=ft();t.exports=r;function r(s,a){let c={};s.forEach((d,h)=>{let f=c[d.v]={indegree:0,in:[],out:[],vs:[d.v],i:h};d.barycenter!==void 0&&(f.barycenter=d.barycenter,f.weight=d.weight)}),a.edges().forEach(d=>{let h=c[d.v],f=c[d.w];h!==void 0&&f!==void 0&&(f.indegree++,h.out.push(c[d.w]))});let u=Object.values(c).filter(d=>!d.indegree);return i(u)}function i(s){let a=[];function c(d){return h=>{h.merged||(h.barycenter===void 0||d.barycenter===void 0||h.barycenter>=d.barycenter)&&o(d,h)}}function u(d){return h=>{h.in.push(d),--h.indegree===0&&s.push(h)}}for(;s.length;){let d=s.pop();a.push(d),d.in.reverse().forEach(c(d)),d.out.forEach(u(d))}return a.filter(d=>!d.merged).map(d=>n.pick(d,["vs","i","barycenter","weight"]))}function o(s,a){let c=0,u=0;s.weight&&(c+=s.barycenter*s.weight,u+=s.weight),a.weight&&(c+=a.barycenter*a.weight,u+=a.weight),s.vs=a.vs.concat(s.vs),s.barycenter=c/u,s.weight=u,s.i=Math.min(a.i,s.i),a.merged=!0}}),Z_=Qe((e,t)=>{var n=ft();t.exports=r;function r(s,a){let c=n.partition(s,y=>Object.hasOwn(y,"barycenter")),u=c.lhs,d=c.rhs.sort((y,N)=>N.i-y.i),h=[],f=0,g=0,p=0;u.sort(o(!!a)),p=i(h,d,p),u.forEach(y=>{p+=y.vs.length,h.push(y.vs),f+=y.barycenter*y.weight,g+=y.weight,p=i(h,d,p)});let b={vs:h.flat(!0)};return g&&(b.barycenter=f/g,b.weight=g),b}function i(s,a,c){let u;for(;a.length&&(u=a[a.length-1]).i<=c;)a.pop(),s.push(u.vs),c++;return c}function o(s){return(a,c)=>a.barycenter<c.barycenter?-1:a.barycenter>c.barycenter?1:s?c.i-a.i:a.i-c.i}}),Q_=Qe((e,t)=>{var n=U_(),r=q_(),i=Z_();t.exports=o;function o(c,u,d,h){let f=c.children(u),g=c.node(u),p=g?g.borderLeft:void 0,b=g?g.borderRight:void 0,y={};p&&(f=f.filter(m=>m!==p&&m!==b));let N=n(c,f);N.forEach(m=>{if(c.children(m.v).length){let C=o(c,m.v,d,h);y[m.v]=C,Object.hasOwn(C,"barycenter")&&a(m,C)}});let w=r(N,d);s(w,y);let I=i(w,h);if(p&&(I.vs=[p,I.vs,b].flat(!0),c.predecessors(p).length)){let m=c.node(c.predecessors(p)[0]),C=c.node(c.predecessors(b)[0]);Object.hasOwn(I,"barycenter")||(I.barycenter=0,I.weight=0),I.barycenter=(I.barycenter*I.weight+m.order+C.order)/(I.weight+2),I.weight+=2}return I}function s(c,u){c.forEach(d=>{d.vs=d.vs.flatMap(h=>u[h]?u[h].vs:h)})}function a(c,u){c.barycenter!==void 0?(c.barycenter=(c.barycenter*c.weight+u.barycenter*u.weight)/(c.weight+u.weight),c.weight+=u.weight):(c.barycenter=u.barycenter,c.weight=u.weight)}}),J_=Qe((e,t)=>{var n=mn().Graph,r=ft();t.exports=i;function i(s,a,c,u){u||(u=s.nodes());let d=o(s),h=new n({compound:!0}).setGraph({root:d}).setDefaultNodeLabel(f=>s.node(f));return u.forEach(f=>{let g=s.node(f),p=s.parent(f);(g.rank===a||g.minRank<=a&&a<=g.maxRank)&&(h.setNode(f),h.setParent(f,p||d),s[c](f).forEach(b=>{let y=b.v===f?b.w:b.v,N=h.edge(y,f),w=N!==void 0?N.weight:0;h.setEdge(y,f,{weight:s.edge(b).weight+w})}),Object.hasOwn(g,"minRank")&&h.setNode(f,{borderLeft:g.borderLeft[a],borderRight:g.borderRight[a]}))}),h}function o(s){for(var a;s.hasNode(a=r.uniqueId("_root")););return a}}),$_=Qe((e,t)=>{t.exports=n;function n(r,i,o){let s={},a;o.forEach(c=>{let u=r.parent(c),d,h;for(;u;){if(d=r.parent(u),d?(h=s[d],s[d]=u):(h=a,a=u),h&&h!==u){i.setEdge(h,u);return}u=d}})}}),ew=Qe((e,t)=>{var n=j_(),r=G_(),i=Q_(),o=J_(),s=$_(),a=mn().Graph,c=ft();t.exports=u;function u(g,p={}){if(typeof p.customOrder=="function"){p.customOrder(g,u);return}let b=c.maxRank(g),y=d(g,c.range(1,b+1),"inEdges"),N=d(g,c.range(b-1,-1,-1),"outEdges"),w=n(g);if(f(g,w),p.disableOptimalOrderHeuristic)return;let I=Number.POSITIVE_INFINITY,m,C=p.constraints||[];for(let O=0,k=0;k<4;++O,++k){h(O%2?y:N,O%4>=2,C),w=c.buildLayerMatrix(g);let S=r(g,w);S<I?(k=0,m=Object.assign({},w),I=S):S===I&&(m=structuredClone(w))}f(g,m)}function d(g,p,b){let y=new Map,N=(w,I)=>{y.has(w)||y.set(w,[]),y.get(w).push(I)};for(let w of g.nodes()){let I=g.node(w);if(typeof I.rank=="number"&&N(I.rank,w),typeof I.minRank=="number"&&typeof I.maxRank=="number")for(let m=I.minRank;m<=I.maxRank;m++)m!==I.rank&&N(m,w)}return p.map(function(w){return o(g,w,b,y.get(w)||[])})}function h(g,p,b){let y=new a;g.forEach(function(N){b.forEach(m=>y.setEdge(m.left,m.right));let w=N.graph().root,I=i(N,w,y,p);I.vs.forEach((m,C)=>N.node(m).order=C),s(N,y,I.vs)})}function f(g,p){Object.values(p).forEach(b=>b.forEach((y,N)=>g.node(y).order=N))}}),tw=Qe((e,t)=>{var n=mn().Graph,r=ft();t.exports={positionX:b,findType1Conflicts:i,findType2Conflicts:o,addConflict:a,hasConflict:c,verticalAlignment:u,horizontalCompaction:d,alignCoordinates:g,findSmallestWidthAlignment:f,balance:p};function i(w,I){let m={};function C(O,k){let S=0,F=0,D=O.length,E=k[k.length-1];return k.forEach((_,x)=>{let v=s(w,_),A=v?w.node(v).order:D;(v||_===E)&&(k.slice(F,x+1).forEach(T=>{w.predecessors(T).forEach(M=>{let L=w.node(M),H=L.order;(H<S||A<H)&&!(L.dummy&&w.node(T).dummy)&&a(m,M,T)})}),F=x+1,S=A)}),k}return I.length&&I.reduce(C),m}function o(w,I){let m={};function C(k,S,F,D,E){let _;r.range(S,F).forEach(x=>{_=k[x],w.node(_).dummy&&w.predecessors(_).forEach(v=>{let A=w.node(v);A.dummy&&(A.order<D||A.order>E)&&a(m,v,_)})})}function O(k,S){let F=-1,D,E=0;return S.forEach((_,x)=>{if(w.node(_).dummy==="border"){let v=w.predecessors(_);v.length&&(D=w.node(v[0]).order,C(S,E,x,F,D),E=x,F=D)}C(S,E,S.length,D,k.length)}),S}return I.length&&I.reduce(O),m}function s(w,I){if(w.node(I).dummy)return w.predecessors(I).find(m=>w.node(m).dummy)}function a(w,I,m){if(I>m){let O=I;I=m,m=O}let C=w[I];C||(w[I]=C={}),C[m]=!0}function c(w,I,m){if(I>m){let C=I;I=m,m=C}return!!w[I]&&Object.hasOwn(w[I],m)}function u(w,I,m,C){let O={},k={},S={};return I.forEach(F=>{F.forEach((D,E)=>{O[D]=D,k[D]=D,S[D]=E})}),I.forEach(F=>{let D=-1;F.forEach(E=>{let _=C(E);if(_.length){_=_.sort((v,A)=>S[v]-S[A]);let x=(_.length-1)/2;for(let v=Math.floor(x),A=Math.ceil(x);v<=A;++v){let T=_[v];k[E]===E&&D<S[T]&&!c(m,E,T)&&(k[T]=E,k[E]=O[E]=O[T],D=S[T])}}})}),{root:O,align:k}}function d(w,I,m,C,O){let k={},S=h(w,I,m,O),F=O?"borderLeft":"borderRight";function D(x,v){let A=S.nodes().slice(),T={},M=A.pop();for(;M;){if(T[M])x(M);else{T[M]=!0,A.push(M);for(let L of v(M))A.push(L)}M=A.pop()}}function E(x){k[x]=S.inEdges(x).reduce((v,A)=>Math.max(v,k[A.v]+S.edge(A)),0)}function _(x){let v=S.outEdges(x).reduce((T,M)=>Math.min(T,k[M.w]-S.edge(M)),Number.POSITIVE_INFINITY),A=w.node(x);v!==Number.POSITIVE_INFINITY&&A.borderType!==F&&(k[x]=Math.max(k[x],v))}return D(E,S.predecessors.bind(S)),D(_,S.successors.bind(S)),Object.keys(C).forEach(x=>k[x]=k[m[x]]),k}function h(w,I,m,C){let O=new n,k=w.graph(),S=y(k.nodesep,k.edgesep,C);return I.forEach(F=>{let D;F.forEach(E=>{let _=m[E];if(O.setNode(_),D){var x=m[D],v=O.edge(x,_);O.setEdge(x,_,Math.max(S(w,E,D),v||0))}D=E})}),O}function f(w,I){return Object.values(I).reduce((m,C)=>{let O=Number.NEGATIVE_INFINITY,k=Number.POSITIVE_INFINITY;Object.entries(C).forEach(([F,D])=>{let E=N(w,F)/2;O=Math.max(D+E,O),k=Math.min(D-E,k)});let S=O-k;return S<m[0]&&(m=[S,C]),m},[Number.POSITIVE_INFINITY,null])[1]}function g(w,I){let m=Object.values(I),C=r.applyWithChunking(Math.min,m),O=r.applyWithChunking(Math.max,m);["u","d"].forEach(k=>{["l","r"].forEach(S=>{let F=k+S,D=w[F];if(D===I)return;let E=Object.values(D),_=C-r.applyWithChunking(Math.min,E);S!=="l"&&(_=O-r.applyWithChunking(Math.max,E)),_&&(w[F]=r.mapValues(D,x=>x+_))})})}function p(w,I){return r.mapValues(w.ul,(m,C)=>{if(I)return w[I.toLowerCase()][C];{let O=Object.values(w).map(k=>k[C]).sort((k,S)=>k-S);return(O[1]+O[2])/2}})}function b(w){let I=r.buildLayerMatrix(w),m=Object.assign(i(w,I),o(w,I)),C={},O;["u","d"].forEach(S=>{O=S==="u"?I:Object.values(I).reverse(),["l","r"].forEach(F=>{F==="r"&&(O=O.map(x=>Object.values(x).reverse()));let D=(S==="u"?w.predecessors:w.successors).bind(w),E=u(w,O,m,D),_=d(w,O,E.root,E.align,F==="r");F==="r"&&(_=r.mapValues(_,x=>-x)),C[S+F]=_})});let k=f(w,C);return g(C,k),p(C,w.graph().align)}function y(w,I,m){return(C,O,k)=>{let S=C.node(O),F=C.node(k),D=0,E;if(D+=S.width/2,Object.hasOwn(S,"labelpos"))switch(S.labelpos.toLowerCase()){case"l":E=-S.width/2;break;case"r":E=S.width/2;break}if(E&&(D+=m?E:-E),E=0,D+=(S.dummy?I:w)/2,D+=(F.dummy?I:w)/2,D+=F.width/2,Object.hasOwn(F,"labelpos"))switch(F.labelpos.toLowerCase()){case"l":E=F.width/2;break;case"r":E=-F.width/2;break}return E&&(D+=m?E:-E),E=0,D}}function N(w,I){return w.node(I).width}}),nw=Qe((e,t)=>{var n=ft(),r=tw().positionX;t.exports=i;function i(s){s=n.asNonCompoundGraph(s),o(s),Object.entries(r(s)).forEach(([a,c])=>s.node(a).x=c)}function o(s){let a=n.buildLayerMatrix(s),c=s.graph().ranksep,u=s.graph().rankalign,d=0;a.forEach(h=>{let f=h.reduce((g,p)=>{let b=s.node(p).height;return g>b?g:b},0);h.forEach(g=>{let p=s.node(g);u==="top"?p.y=d+p.height/2:u==="bottom"?p.y=d+f-p.height/2:p.y=d+f/2}),d+=f+c})}}),rw=Qe((e,t)=>{var n=V_(),r=F_(),i=K_(),o=ft().normalizeRanks,s=B_(),a=ft().removeEmptyRanks,c=W_(),u=Y_(),d=X_(),h=ew(),f=nw(),g=ft(),p=mn().Graph;t.exports=b;function b(P,W={}){let X=W.debugTiming?g.time:g.notime;return X("layout",()=>{let Y=X("  buildLayoutGraph",()=>D(P));return X("  runLayout",()=>y(Y,X,W)),X("  updateInputGraph",()=>N(P,Y)),Y})}function y(P,W,X){W("    makeSpaceForEdgeLabels",()=>E(P)),W("    removeSelfEdges",()=>B(P)),W("    acyclic",()=>n.run(P)),W("    nestingGraph.run",()=>c.run(P)),W("    rank",()=>i(g.asNonCompoundGraph(P))),W("    injectEdgeLabelProxies",()=>_(P)),W("    removeEmptyRanks",()=>a(P)),W("    nestingGraph.cleanup",()=>c.cleanup(P)),W("    normalizeRanks",()=>o(P)),W("    assignRankMinMax",()=>x(P)),W("    removeEdgeLabelProxies",()=>v(P)),W("    normalize.run",()=>r.run(P)),W("    parentDummyChains",()=>s(P)),W("    addBorderSegments",()=>u(P)),W("    order",()=>h(P,X)),W("    insertSelfEdges",()=>G(P)),W("    adjustCoordinateSystem",()=>d.adjust(P)),W("    position",()=>f(P)),W("    positionSelfEdges",()=>U(P)),W("    removeBorderNodes",()=>H(P)),W("    normalize.undo",()=>r.undo(P)),W("    fixupEdgeLabelCoords",()=>M(P)),W("    undoCoordinateSystem",()=>d.undo(P)),W("    translateGraph",()=>A(P)),W("    assignNodeIntersects",()=>T(P)),W("    reversePoints",()=>L(P)),W("    acyclic.undo",()=>n.undo(P))}function N(P,W){P.nodes().forEach(X=>{let Y=P.node(X),J=W.node(X);Y&&(Y.x=J.x,Y.y=J.y,Y.order=J.order,Y.rank=J.rank,W.children(X).length&&(Y.width=J.width,Y.height=J.height))}),P.edges().forEach(X=>{let Y=P.edge(X),J=W.edge(X);Y.points=J.points,Object.hasOwn(J,"x")&&(Y.x=J.x,Y.y=J.y)}),P.graph().width=W.graph().width,P.graph().height=W.graph().height}var w=["nodesep","edgesep","ranksep","marginx","marginy"],I={ranksep:50,edgesep:20,nodesep:50,rankdir:"tb",rankalign:"center"},m=["acyclicer","ranker","rankdir","align","rankalign"],C=["width","height","rank"],O={width:0,height:0},k=["minlen","weight","width","height","labeloffset"],S={minlen:1,weight:1,width:0,height:0,labeloffset:10,labelpos:"r"},F=["labelpos"];function D(P){let W=new p({multigraph:!0,compound:!0}),X=z(P.graph());return W.setGraph(Object.assign({},I,Q(X,w),g.pick(X,m))),P.nodes().forEach(Y=>{let J=z(P.node(Y)),re=Q(J,C);Object.keys(O).forEach(q=>{re[q]===void 0&&(re[q]=O[q])}),W.setNode(Y,re),W.setParent(Y,P.parent(Y))}),P.edges().forEach(Y=>{let J=z(P.edge(Y));W.setEdge(Y,Object.assign({},S,Q(J,k),g.pick(J,F)))}),W}function E(P){let W=P.graph();W.ranksep/=2,P.edges().forEach(X=>{let Y=P.edge(X);Y.minlen*=2,Y.labelpos.toLowerCase()!=="c"&&(W.rankdir==="TB"||W.rankdir==="BT"?Y.width+=Y.labeloffset:Y.height+=Y.labeloffset)})}function _(P){P.edges().forEach(W=>{let X=P.edge(W);if(X.width&&X.height){let Y=P.node(W.v),J={rank:(P.node(W.w).rank-Y.rank)/2+Y.rank,e:W};g.addDummyNode(P,"edge-proxy",J,"_ep")}})}function x(P){let W=0;P.nodes().forEach(X=>{let Y=P.node(X);Y.borderTop&&(Y.minRank=P.node(Y.borderTop).rank,Y.maxRank=P.node(Y.borderBottom).rank,W=Math.max(W,Y.maxRank))}),P.graph().maxRank=W}function v(P){P.nodes().forEach(W=>{let X=P.node(W);X.dummy==="edge-proxy"&&(P.edge(X.e).labelRank=X.rank,P.removeNode(W))})}function A(P){let W=Number.POSITIVE_INFINITY,X=0,Y=Number.POSITIVE_INFINITY,J=0,re=P.graph(),q=re.marginx||0,ue=re.marginy||0;function ge(me){let oe=me.x,be=me.y,xe=me.width,_e=me.height;W=Math.min(W,oe-xe/2),X=Math.max(X,oe+xe/2),Y=Math.min(Y,be-_e/2),J=Math.max(J,be+_e/2)}P.nodes().forEach(me=>ge(P.node(me))),P.edges().forEach(me=>{let oe=P.edge(me);Object.hasOwn(oe,"x")&&ge(oe)}),W-=q,Y-=ue,P.nodes().forEach(me=>{let oe=P.node(me);oe.x-=W,oe.y-=Y}),P.edges().forEach(me=>{let oe=P.edge(me);oe.points.forEach(be=>{be.x-=W,be.y-=Y}),Object.hasOwn(oe,"x")&&(oe.x-=W),Object.hasOwn(oe,"y")&&(oe.y-=Y)}),re.width=X-W+q,re.height=J-Y+ue}function T(P){P.edges().forEach(W=>{let X=P.edge(W),Y=P.node(W.v),J=P.node(W.w),re,q;X.points?(re=X.points[0],q=X.points[X.points.length-1]):(X.points=[],re=J,q=Y),X.points.unshift(g.intersectRect(Y,re)),X.points.push(g.intersectRect(J,q))})}function M(P){P.edges().forEach(W=>{let X=P.edge(W);if(Object.hasOwn(X,"x"))switch((X.labelpos==="l"||X.labelpos==="r")&&(X.width-=X.labeloffset),X.labelpos){case"l":X.x-=X.width/2+X.labeloffset;break;case"r":X.x+=X.width/2+X.labeloffset;break}})}function L(P){P.edges().forEach(W=>{let X=P.edge(W);X.reversed&&X.points.reverse()})}function H(P){P.nodes().forEach(W=>{if(P.children(W).length){let X=P.node(W),Y=P.node(X.borderTop),J=P.node(X.borderBottom),re=P.node(X.borderLeft[X.borderLeft.length-1]),q=P.node(X.borderRight[X.borderRight.length-1]);X.width=Math.abs(q.x-re.x),X.height=Math.abs(J.y-Y.y),X.x=re.x+X.width/2,X.y=Y.y+X.height/2}}),P.nodes().forEach(W=>{P.node(W).dummy==="border"&&P.removeNode(W)})}function B(P){P.edges().forEach(W=>{if(W.v===W.w){var X=P.node(W.v);X.selfEdges||(X.selfEdges=[]),X.selfEdges.push({e:W,label:P.edge(W)}),P.removeEdge(W)}})}function G(P){var W=g.buildLayerMatrix(P);W.forEach(X=>{var Y=0;X.forEach((J,re)=>{var q=P.node(J);q.order=re+Y,(q.selfEdges||[]).forEach(ue=>{g.addDummyNode(P,"selfedge",{width:ue.label.width,height:ue.label.height,rank:q.rank,order:re+ ++Y,e:ue.e,label:ue.label},"_se")}),delete q.selfEdges})})}function U(P){P.nodes().forEach(W=>{var X=P.node(W);if(X.dummy==="selfedge"){var Y=P.node(X.e.v),J=Y.x+Y.width/2,re=Y.y,q=X.x-J,ue=Y.height/2;P.setEdge(X.e,X.label),P.removeNode(W),X.label.points=[{x:J+2*q/3,y:re-ue},{x:J+5*q/6,y:re-ue},{x:J+q,y:re},{x:J+5*q/6,y:re+ue},{x:J+2*q/3,y:re+ue}],X.label.x=X.x,X.label.y=X.y}})}function Q(P,W){return g.mapValues(g.pick(P,W),Number)}function z(P){var W={};return P&&Object.entries(P).forEach(([X,Y])=>{typeof X=="string"&&(X=X.toLowerCase()),W[X]=Y}),W}}),iw=Qe((e,t)=>{var n=ft(),r=mn().Graph;t.exports={debugOrdering:i};function i(o){let s=n.buildLayerMatrix(o),a=new r({compound:!0,multigraph:!0}).setGraph({});return o.nodes().forEach(c=>{a.setNode(c,{label:c}),a.setParent(c,"layer"+o.node(c).rank)}),o.edges().forEach(c=>a.setEdge(c.v,c.w,{},c.name)),s.forEach((c,u)=>{let d="layer"+u;a.setNode(d,{rank:"same"}),c.reduce((h,f)=>(a.setEdge(h,f,{style:"invis"}),f))}),a}}),ow=Qe((e,t)=>{t.exports="2.0.4"}),sw=Qe((e,t)=>{t.exports={graphlib:mn(),layout:rw(),debug:iw(),util:{time:ft().time,notime:ft().notime},version:ow()}});const Kc=sw();/*! For license information please see dagre.esm.js.LEGAL.txt */const yf="LR",aw=360,lw=240,cw=80,uw=140,dw=40,fw=40;function Br(e){return typeof e=="string"&&e.trim()?e.trim():void 0}function $r(e,t){const n=Number(e);return Number.isFinite(n)?n:t}function Bc(e,t){const n=Number(e);return Number.isFinite(n)&&n>0?n:t}function hw(e){var n;const t=(n=Br(e))==null?void 0:n.toUpperCase();return t==="TB"||t==="LR"?t:yf}function Wc(e){const t=Array.isArray(e)?e:[];return Array.from(new Set(t.map(n=>Br(n)).filter(n=>n!==void 0))).sort((n,r)=>n.localeCompare(r))}function gw(e){const t=Array.isArray(e)?e:[],n=[],r=new Set;for(const i of t){const o=Br(i==null?void 0:i.id);!o||r.has(o)||(r.add(o),n.push({id:o,width:Bc(i==null?void 0:i.width,aw),height:Bc(i==null?void 0:i.height,lw)}))}return n.sort((i,o)=>i.id.localeCompare(o.id)),n}function vw(e,t){const n=new Set(t),r=Array.isArray(e)?e:[],i=[];for(const o of r){const s=Br(o==null?void 0:o.source),a=Br(o==null?void 0:o.target);!s||!a||!n.has(s)||!n.has(a)||i.push({source:s,target:a})}return i}function pw(e){const t=Array.isArray(e)?e:[];if(t.length===0)return{x:0,y:0};let n=Number.POSITIVE_INFINITY,r=Number.POSITIVE_INFINITY;for(const i of t){const o=Number(i==null?void 0:i.x),s=Number(i==null?void 0:i.y);!Number.isFinite(o)||!Number.isFinite(s)||(n=Math.min(n,o),r=Math.min(r,s))}return!Number.isFinite(n)||!Number.isFinite(r)?{x:0,y:0}:{x:n,y:r}}function mw({seedNodeIds:e,edges:t,allowedNodeIds:n}={}){const r=Wc(e);if(r.length===0)return[];const i=Wc(n),o=i.length>0?new Set(i):void 0,s=new Map;for(const u of Array.isArray(t)?t:[]){const d=Br(u==null?void 0:u.source),h=Br(u==null?void 0:u.target);!d||!h||o&&(!o.has(d)||!o.has(h))||(s.has(d)||s.set(d,new Set),s.get(d).add(h))}const a=new Set(o?r.filter(u=>o.has(u)):r),c=Array.from(a);for(;c.length>0;){const u=c.shift(),d=s.get(u);if(d instanceof Set)for(const h of d)a.has(h)||(a.add(h),c.push(h))}return Array.from(a)}function yw({nodes:e,edges:t,direction:n=yf,spacing:r={},origin:i={}}={}){const o=gw(e);if(o.length===0)return new Map;const s=$r(r==null?void 0:r.nodeSep,cw),a=$r(r==null?void 0:r.rankSep,uw),c=$r(r==null?void 0:r.marginX,dw),u=$r(r==null?void 0:r.marginY,fw),d=$r(i==null?void 0:i.x,0),h=$r(i==null?void 0:i.y,0),f=new Kc.graphlib.Graph;f.setDefaultEdgeLabel(()=>({})),f.setGraph({rankdir:hw(n),nodesep:s,ranksep:a,marginx:c,marginy:u});const g=new Map;for(const y of o)g.set(y.id,{width:y.width,height:y.height}),f.setNode(y.id,{width:y.width,height:y.height});const p=vw(t,o.map(y=>y.id));for(let y=p.length-1;y>=0;y-=1){const N=p[y];f.setEdge(N.source,N.target)}Kc.layout(f);const b=new Map;for(const y of o){const N=f.node(y.id),w=g.get(y.id);!N||!w||b.set(y.id,{x:N.x-w.width/2+d,y:N.y-w.height/2+h})}return b}function bf(e,t){Ne(t,!1);const n=Oe(),r=Oe(),i=Oe(),o=Oe();let s=ee(t,"isVisible",8,!1),a=ee(t,"autoScale",8,!1),c=ee(t,"minWidth",8,0),u=ee(t,"minHeight",8,0),d=ee(t,"color",8,"var(--vscode-focusBorder)"),h=ee(t,"handleClass",8,"rounded-sm border border-vsc-focus bg-vsc-editor-widget-bg"),f=ee(t,"lineClass",8,"border-vsc-focus"),g=ee(t,"onResizeEnd",8,void 0);const p=8,b=12,y=lf();function N(I){const m=Number(I);return!Number.isFinite(m)||m<=0?1:m}function w(I){if(!Number.isFinite(I)||I>=1)return 1;const m=1/I;return Math.min(b,Math.max(1,m))}Me(()=>{},()=>{var I;j(n,N((I=y.current)==null?void 0:I.zoom))}),Me(()=>l(n),()=>{j(r,w(l(n)))}),Me(()=>l(r),()=>{j(i,Math.round(p*l(r)))}),Me(()=>l(i),()=>{j(o,`width:${l(i)}px;height:${l(i)}px;`)}),ki(),nr(),Db(e,{get isVisible(){return s()},get autoScale(){return a()},get minWidth(){return c()},get minHeight(){return u()},get color(){return d()},get handleClass(){return h()},get handleStyle(){return l(o)},get lineClass(){return f()},get onResizeEnd(){return g()}}),ke()}var bw=de('<input class="nodrag min-w-0 flex-1 appearance-none rounded border border-vsc-input-border bg-vsc-input-bg px-1 py-0.5 font-semibold text-vsc-input-fg outline-none focus:border-vsc-focus" type="text" aria-label="Comment title"/>'),_w=de('<button class="flex-1 min-w-0 font-semibold text-left truncate select-none text-vsc-input-fg cursor-grab active:cursor-grabbing" type="button"> </button>'),ww=de('<div class="relative h-full w-full overflow-visible rounded-lg border border-vsc-editor-widget-border bg-vsc-editor-widget-bg/90 text-vsc-editor-fg shadow-lg transition-[border-color,box-shadow]"><div class="flex items-center gap-2 border-b border-vsc-editor-widget-border bg-vsc-input-bg/70 px-2 py-1.5 cursor-grab active:cursor-grabbing" role="group" aria-label="Comment title bar"><!> <div data-comment-selection-exempt="true" class="nodrag flex items-center gap-1 rounded border border-vsc-editor-widget-border bg-vsc-editor-widget-bg px-1 py-0.5"><input class="w-10 border-0 bg-transparent p-0 text-right text-[10px] font-semibold text-vsc-muted outline-none [appearance:textfield] [&amp;::-webkit-inner-spin-button]:appearance-none [&amp;::-webkit-outer-spin-button]:appearance-none" type="number" step="1" aria-label="Comment font size"/> <span class="text-[10px] font-semibold text-vsc-muted">px</span></div></div> <textarea class="nodrag h-[calc(100%-2.75rem)] w-full resize-none border-0 bg-transparent p-2 text-vsc-editor-fg outline-none placeholder:text-vsc-muted" aria-label="Comment text" placeholder="Write a note..."></textarea> <!></div>');function xw(e,t){Ne(t,!0);let n=ee(t,"selected",3,!1),r=ee(t,"dragging",3,!1);const{updateNodeData:i,updateNode:o,getNodes:s,getEdges:a,updateEdge:c}=Gr();qe(()=>{l(h)||j(p,t.data.name,!0)}),qe(()=>{f||j(b,t.data.name,!0)}),qe(()=>{g||j(y,t.data.fontSize)});const u=8,d=128;let h=we(!1),f=!1,g=!1,p=we(""),b=we(""),y=V(()=>t.data.fontSize),N=we(void 0);async function w(){var q,ue;j(h,!0),j(p,t.data.name,!0),await ut(),(q=l(N))==null||q.focus(),(ue=l(N))==null||ue.select()}function I(){if(!l(h))return;const q=l(p);q!==t.data.name&&(H({name:q}),B("comment-renamed")),j(h,!1)}function m(){f=!0}function C(){if(!f)return;const q=l(b);q!==t.data.text&&(H({text:q}),B("comment-text-updated")),f=!1}function O(){f&&(f=!1,j(b,t.data.text,!0))}function k(q){f=!0,j(b,q.currentTarget.value,!0)}function S(q){q.key==="Escape"&&(q.preventDefault(),O(),q.currentTarget.blur())}function F(){g=!0}function D(){if(!g)return;const q=l(y);q!==t.data.fontSize&&(H({fontSize:q}),B("comment-font-size-updated")),g=!1}function E(){g&&(g=!1,j(y,t.data.fontSize))}function _(q){g=!0,j(y,q.currentTarget.value)}function x(q){if(q.key==="Enter"){q.preventDefault(),D(),q.currentTarget.blur();return}q.key==="Escape"&&(q.preventDefault(),E(),q.currentTarget.blur())}function v(){l(h)&&(j(h,!1),j(p,t.data.name,!0))}function A(q){var ue,ge;if(q.key==="Enter"){q.preventDefault(),I(),(ue=l(N))==null||ue.blur();return}q.key==="Escape"&&(q.preventDefault(),v(),(ge=l(N))==null||ge.blur())}function T(q){(q.key==="Enter"||q.key===" ")&&(q.preventDefault(),w())}function M(q){if(l(h)||g)return;const ue=Number(q==null?void 0:q.button);if(Number.isFinite(ue)&&ue!==0)return;const ge=q==null?void 0:q.target;if(typeof(ge==null?void 0:ge.closest)=="function"&&ge.closest("[data-comment-selection-exempt='true']")||q!=null&&q.shiftKey)return;const me=!!(q!=null&&q.metaKey||q!=null&&q.ctrlKey),oe=s();for(const xe of oe){const _e=xe.id===t.id?!0:me?!!xe.selected:!1;xe.selected!==_e&&o(xe.id,{selected:_e})}if(me)return;const be=a();for(const xe of be)xe.selected&&c(xe.id,{selected:!1})}function L(){B("comment-resized")}function H(q){i(t.id,{name:t.data.name,text:t.data.text,fontSize:t.data.fontSize,...q})}function B(q){typeof window>"u"||typeof window.dispatchEvent!="function"||window.dispatchEvent(new CustomEvent(Rb,{detail:{nodeId:t.id,reason:q}}))}var G=ww(),U=se(G);U.__pointerup=M;var Q=se(U);{var z=q=>{var ue=bw();ue.__input=me=>j(p,me.currentTarget.value,!0),ue.__keydown=A;let ge;lt(ue,me=>j(N,me),()=>l(N)),ye(()=>{Tt(ue,l(p)),ge=Ze(ue,"",ge,{"font-size":`${t.data.fontSize}px`})}),Ke("blur",ue,I),te(q,ue)},P=q=>{var ue=_w();ue.__dblclick=w,ue.__keydown=T;let ge;var me=se(ue);ye(()=>{pe(ue,"aria-label",`Comment title: ${t.data.name}. Double click to rename`),ge=Ze(ue,"",ge,{"font-size":`${t.data.fontSize}px`}),We(me,t.data.name)}),te(q,ue)};Re(Q,q=>{l(h)?q(z):q(P,!1)})}var W=he(Q,2),X=se(W);pe(X,"min",u),pe(X,"max",d),X.__input=_,X.__keydown=x;var Y=he(U,2);Y.__input=k,Y.__keydown=S;let J;var re=he(Y,2);{let q=V(()=>n()&&!r());bf(re,{get isVisible(){return l(q)},onResizeEnd:L})}ye(()=>{Ze(G,`outline: ${n()&&!r()?"2px solid var(--vscode-focusBorder)":"none"};`),Tt(X,l(y)),Tt(Y,l(b)),J=Ze(Y,"",J,{"font-size":`${t.data.fontSize}px`})}),Ke("focus",X,F),Ke("blur",X,D),Ke("focus",Y,m),Ke("blur",Y,C),te(e,G),ke()}vt(["pointerup","input","keydown","dblclick"]);const Ew=['input:not([type="hidden"]):not([disabled]):not([readonly])',"textarea:not([disabled]):not([readonly])","select:not([disabled])",'[contenteditable="true"]'].join(", ");function Nw(e){var t;return!!(e!=null&&e.offsetWidth||e!=null&&e.offsetHeight||(t=e==null?void 0:e.getClientRects)!=null&&t.call(e).length)}function kw(e){var t;return((t=e==null?void 0:e.closest)==null?void 0:t.call(e,"[data-node-editor-root]"))??null}function Ur(e){const t=kw(e);if(!t)return!1;const n=Array.from(t.querySelectorAll(Ew)).filter(Nw),r=n.indexOf(e);if(r<0)return!1;const i=n[r+1];return i?(i instanceof HTMLElement&&i.focus(),!0):!1}function qr(e){return(e==null?void 0:e.key)==="Enter"&&!(e!=null&&e.isComposing)&&!(e!=null&&e.altKey)&&!(e!=null&&e.ctrlKey)&&!(e!=null&&e.metaKey)&&!(e!=null&&e.shiftKey)}var Sw=de('<textarea class="nodrag min-h-10 w-full resize-none rounded-md border border-vsc-input-border bg-vsc-input-bg px-2 py-1.5 text-xs text-vsc-input-fg h-20" rows="4"></textarea>'),Iw=de('<input class="nodrag w-full rounded-md border border-vsc-input-border bg-vsc-input-bg px-2 py-1.5 text-xs text-vsc-input-fg" type="text"/>'),Tw=de('<div class="flex flex-col gap-1"><label class="text-xs text-vsc-muted"> </label> <!></div>');function Ow(e,t){Ne(t,!0);const n=V(()=>t.label??t.schemaKey??"Field"),r=V(()=>typeof t.value=="string"?t.value:String(t.value??"")),i=V(()=>t.type==="text"),o=V(()=>`text-${t.schemaKey??"field"}-${t.type}`);let s=we(!1),a=we("");qe(()=>{l(s)||j(a,l(r),!0)});function c(I){t.onchange(I)}function u(){j(s,!0)}function d(I){j(a,I.currentTarget.value,!0)}function h(){l(s)&&(j(s,!1),l(a)!==l(r)&&c(l(a)))}function f(I){qr(I)&&(I.preventDefault(),Ur(I.currentTarget)||I.currentTarget.blur())}var g=Tw(),p=se(g),b=se(p),y=he(p,2);{var N=I=>{var m=Sw();m.__input=d,ye(()=>{pe(m,"id",l(o)),Tt(m,l(a))}),Ke("focus",m,u),Ke("blur",m,h),te(I,m)},w=I=>{var m=Iw();m.__input=d,m.__keydown=f,ye(()=>{pe(m,"id",l(o)),Tt(m,l(a))}),Ke("focus",m,u),Ke("blur",m,h),te(I,m)};Re(y,I=>{l(i)?I(N):I(w,!1)})}ye(()=>{pe(p,"for",l(o)),We(b,l(n))}),te(e,g),ke()}vt(["input","keydown"]);var Pw=de('<div class="flex flex-row items-center justify-start gap-2"><label class="text-xs text-vsc-muted"> </label> <input class="nodrag h-4 w-4" type="checkbox"/></div>');function Cw(e,t){Ne(t,!0);const n=V(()=>t.label??t.schemaKey??"Field"),r=V(()=>!!t.value),i=V(()=>`bool-${t.schemaKey??"field"}-${t.type}`);function o(d){t.onchange(d)}var s=Pw(),a=se(s),c=se(a),u=he(a,2);u.__change=d=>o(d.currentTarget.checked),ye(()=>{pe(a,"for",l(i)),We(c,l(n)),pe(u,"id",l(i)),Qu(u,l(r))}),te(e,s),ke()}vt(["change"]);var Aw=de('<div class="flex flex-col gap-1"><label class="text-xs text-vsc-muted"> </label> <input class="nodrag w-full rounded-md border border-vsc-input-border bg-vsc-input-bg px-2 py-1.5 text-xs text-vsc-input-fg" type="number"/></div>');function Mw(e,t){Ne(t,!0);const n=V(()=>t.label??t.schemaKey??"Field"),r=V(()=>Number.isFinite(Number(t.value))?Number(t.value):0),i=V(()=>String(l(r))),o=V(()=>t.type==="float"?"any":"1"),s=V(()=>`number-${t.schemaKey??"field"}-${t.type}`);let a=we(!1),c=we("");qe(()=>{l(a)||j(c,l(i),!0)});function u(w){t.onchange(w)}function d(){j(a,!0)}function h(w){j(c,w.currentTarget.value,!0)}function f(){if(!l(a))return;j(a,!1);const w=Number(l(c));if(!Number.isFinite(w)){j(c,l(i),!0);return}const I=t.type==="float"?w:Math.trunc(w);j(c,String(I),!0),I!==l(r)&&u(I)}function g(w){qr(w)&&(w.preventDefault(),Ur(w.currentTarget)||w.currentTarget.blur())}var p=Aw(),b=se(p),y=se(b),N=he(b,2);N.__input=h,N.__keydown=g,ye(()=>{pe(b,"for",l(s)),We(y,l(n)),pe(N,"id",l(s)),Tt(N,l(c)),pe(N,"step",l(o))}),Ke("focus",N,d),Ke("blur",N,f),te(e,p),ke()}vt(["input","keydown"]);var Dw=de('<div class="flex flex-col gap-1"><label class="text-xs text-vsc-muted"> </label> <input class="nodrag w-full" type="range"/></div>');function Rw(e,t){Ne(t,!0);const n=0,r=100,i=1,o=V(()=>Number.isFinite(Number(t.value))?Number(t.value):n),s=V(()=>`slider-${t.schemaKey??"field"}-${t.type}`);let a=we(n),c=we(!1),u=we("unknown");qe(()=>{l(c)||j(a,l(o),!0)});const d=V(()=>`${t.label??t.schemaKey??"Field"} (${l(a)})`);function h(O){t.onchange(O)}function f(O){const k=Number(O.currentTarget.value);j(a,Number.isFinite(k)?k:n,!0),j(c,l(a)!==l(o))}function g(){j(u,"pointer")}function p(O){["ArrowLeft","ArrowRight","ArrowUp","ArrowDown","Home","End","PageUp","PageDown"].includes(O.key)&&j(u,"keyboard")}function b(){l(c)&&(h(l(a)),j(c,!1))}function y(){l(u)==="pointer"&&b()}function N(){b(),j(u,"unknown")}var w=Dw(),I=se(w),m=se(I),C=he(I,2);pe(C,"min",n),pe(C,"max",r),pe(C,"step",i),C.__pointerdown=g,C.__input=f,C.__change=y,C.__keydown=p,ye(()=>{pe(I,"for",l(s)),We(m,l(d)),pe(C,"id",l(s)),Tt(C,l(a))}),Ke("blur",C,N),te(e,w),ke()}vt(["pointerdown","input","change","keydown"]);var zw=de('<div class="flex flex-col gap-1"><label class="text-xs text-vsc-muted"> </label> <input class="nodrag w-full rounded-md border border-vsc-input-border bg-vsc-input-bg px-2 py-1.5 text-xs text-vsc-input-fg" type="text" placeholder="path/to/file.json" spellcheck="false"/></div>');function Lw(e,t){Ne(t,!0);const n=V(()=>t.label??t.schemaKey??"Field"),r=V(()=>typeof t.value=="string"?t.value:String(t.value??"")),i=V(()=>`path-${t.schemaKey??"field"}-${t.type}`);let o=we(!1),s=we("");qe(()=>{l(o)||j(s,l(r),!0)});function a(y){t.onchange(y)}function c(){j(o,!0)}function u(y){j(s,y.currentTarget.value,!0)}function d(){l(o)&&(j(o,!1),l(s)!==l(r)&&a(l(s)))}function h(y){qr(y)&&(y.preventDefault(),Ur(y.currentTarget)||y.currentTarget.blur())}var f=zw(),g=se(f),p=se(g),b=he(g,2);b.__input=u,b.__keydown=h,ye(()=>{pe(g,"for",l(i)),We(p,l(n)),pe(b,"id",l(i)),Tt(b,l(s))}),Ke("focus",b,c),Ke("blur",b,d),te(e,f),ke()}vt(["input","keydown"]);var Vw=de('<div class="relative flex flex-col gap-1"><label class="text-xs text-vsc-muted"> </label> <input class="nodrag w-full rounded-md border border-vsc-input-border bg-vsc-input-bg px-2 py-1.5 text-xs text-vsc-input-fg" type="text"/></div>');function Fw(e,t){Ne(t,!0);const n=V(()=>t.label??t.schemaKey??"Field"),r=V(()=>typeof t.value=="string"?t.value:String(t.value??"")),i=V(()=>`enum-${t.schemaKey??"field"}-${t.type}`);let o=we(!1),s=we(""),a;qe(()=>{l(o)||j(s,l(r),!0)});function c(N){t.onchange(N)}function u(){j(o,!0)}function d(N){j(s,N.currentTarget.value,!0)}function h(N){l(o)&&(j(o,!1),l(s)!==l(r)&&c(l(s)),N&&a&&!Ur(a)&&a.blur())}function f(N){qr(N)&&(N.preventDefault(),h(!0))}var g=Vw(),p=se(g),b=se(p),y=he(p,2);y.__input=d,y.__keydown=f,lt(y,N=>a=N,()=>a),ye(()=>{pe(p,"for",l(i)),We(b,l(n)),pe(y,"id",l(i)),Tt(y,l(s))}),Ke("focus",y,u),Ke("blur",y,()=>h(!1)),te(e,g),ke()}vt(["input","keydown"]);function Wa(e){return e!==null&&typeof e=="object"&&!Array.isArray(e)}var Hw=de('<div class="text-xs text-vsc-muted">No items</div>'),Kw=de('<input class="w-4 h-4 nodrag" type="checkbox"/>'),Bw=de('<input class="nodrag w-full rounded-md border border-vsc-input-border bg-vsc-input-bg px-2 py-1.5 text-xs text-vsc-input-fg" type="number"/>'),Ww=de('<textarea class="nodrag min-h-10 w-full resize-y rounded-md border border-vsc-input-border bg-vsc-input-bg px-2 py-1.5 text-xs text-vsc-input-fg" rows="3"></textarea>'),Yw=de('<input class="nodrag w-full rounded-md border border-vsc-input-border bg-vsc-input-bg px-2 py-1.5 text-xs text-vsc-input-fg" type="text"/>'),Xw=de('<div class="flex items-start gap-1.5"><div class="flex-1"><!></div> <button class="px-2 py-1 text-xs border rounded-md border-vsc-button-border bg-vsc-button-secondary-bg text-vsc-button-secondary-fg hover:bg-vsc-button-secondary-hover" type="button">Remove</button></div>'),jw=de('<div class="flex flex-col gap-1.5"></div>'),Gw=de('<div class="flex flex-col gap-1.5 rounded-md border border-dashed border-vsc-editor-widget-border p-2"><div class="flex items-center justify-between gap-2"><div class="text-xs font-bold uppercase text-vsc-muted"> </div> <button class="px-2 py-1 text-xs border rounded-md border-vsc-button-border bg-vsc-button-secondary-bg text-vsc-button-secondary-fg hover:bg-vsc-button-secondary-hover" type="button">Add</button></div> <!></div>');function Uw(e,t){Ne(t,!0);const n=V(()=>t.label??t.schemaKey??"Field"),r=V(()=>Array.isArray(t.value)?t.value:[]);function i(O){t.onchange(O)}function o(){i([...l(r),""])}function s(O){i(l(r).filter((k,S)=>S!==O))}function a(O,k){const S=l(r).slice();S[O]=k,i(S)}function c(O,k){a(O,k)}function u(O,k){const S=Number(k);a(O,Number.isFinite(S)?S:0)}function d(O,k){a(O,k)}function h(O,k){try{const S=JSON.parse(k);Wa(S)&&a(O,S)}catch{}}function f(O){try{return JSON.stringify(O??{},null,2)}catch{return"{}"}}function g(O){qr(O)&&(O.preventDefault(),Ur(O.currentTarget)||O.currentTarget.blur())}var p=Gw(),b=se(p),y=se(b),N=se(y),w=he(y,2);w.__click=o;var I=he(b,2);{var m=O=>{var k=Hw();te(O,k)},C=O=>{var k=jw();rt(k,21,()=>l(r),Kt,(S,F,D)=>{var E=Xw(),_=se(E),x=se(_);{var v=B=>{var G=Kw();G.__change=U=>d(D,U.currentTarget.checked),ye(()=>Qu(G,l(F))),te(B,G)},A=B=>{var G=Bw();G.__change=U=>u(D,U.currentTarget.value),G.__keydown=g,ye(()=>Tt(G,l(F))),te(B,G)},T=B=>{var G=Ww();G.__change=U=>h(D,U.currentTarget.value),ye(U=>Tt(G,U),[()=>f(l(F))]),te(B,G)},M=V(()=>Wa(l(F))),L=B=>{var G=Yw();G.__change=U=>c(D,U.currentTarget.value),G.__keydown=g,ye(U=>Tt(G,U),[()=>typeof l(F)=="string"?l(F):String(l(F)??"")]),te(B,G)};Re(x,B=>{typeof l(F)=="boolean"?B(v):typeof l(F)=="number"?B(A,1):l(M)?B(T,2):B(L,!1)})}var H=he(_,2);H.__click=()=>s(D),te(S,E)}),te(O,k)};Re(I,O=>{l(r).length===0?O(m):O(C,!1)})}ye(()=>We(N,l(n))),te(e,p),ke()}vt(["click","change","keydown"]);function _f(e,t){var n=$e(),r=Ce(n);{var i=f=>{},o=f=>{Uw(f,{get schemaKey(){return t.schemaKey},get type(){return t.type},get label(){return t.label},get value(){return t.value},get inputWidth(){return t.inputWidth},get onchange(){return t.onchange}})},s=f=>{Fw(f,{get schemaKey(){return t.schemaKey},get type(){return t.type},get label(){return t.label},get value(){return t.value},get inputWidth(){return t.inputWidth},get onchange(){return t.onchange}})},a=f=>{Lw(f,{get schemaKey(){return t.schemaKey},get type(){return t.type},get label(){return t.label},get value(){return t.value},get inputWidth(){return t.inputWidth},get onchange(){return t.onchange}})},c=f=>{Rw(f,{get schemaKey(){return t.schemaKey},get type(){return t.type},get label(){return t.label},get value(){return t.value},get inputWidth(){return t.inputWidth},get onchange(){return t.onchange}})},u=f=>{Cw(f,{get schemaKey(){return t.schemaKey},get type(){return t.type},get label(){return t.label},get value(){return t.value},get inputWidth(){return t.inputWidth},get onchange(){return t.onchange}})},d=f=>{Mw(f,{get schemaKey(){return t.schemaKey},get type(){return t.type},get label(){return t.label},get value(){return t.value},get inputWidth(){return t.inputWidth},get onchange(){return t.onchange}})},h=f=>{Ow(f,{get schemaKey(){return t.schemaKey},get type(){return t.type},get label(){return t.label},get value(){return t.value},get inputWidth(){return t.inputWidth},get onchange(){return t.onchange}})};Re(r,f=>{t.type==="object"?f(i):t.type==="list"?f(o,1):t.type==="enum"?f(s,2):t.type==="filepath"?f(a,3):t.type==="intslider"?f(c,4):t.type==="checkbox"?f(u,5):t.type==="int"||t.type==="float"?f(d,6):f(h,!1)})}te(e,n)}var qw=de('<div class="px-1"><textarea rows="1" aria-label="Node comment"></textarea></div>');function wf(e,t){Ne(t,!1);const n=Oe(),r=Oe(),i=Oe();let o=ee(t,"id",8,""),s=ee(t,"value",8,""),a=ee(t,"isVisible",12,!1),c=ee(t,"isEditing",12,!1);const u=Ns();let d=Oe(!1),h=Oe(""),f=Oe();async function g(E=!1){var x,v,A;if(j(d,!0),c()||(c(!0),j(h,l(n)),await ut()),(x=l(f))==null||x.focus(),C(),E){(v=l(f))==null||v.select();return}const _=l(h).length;(A=l(f))==null||A.setSelectionRange(_,_)}function p(){c()&&(u("change",{value:l(h)}),c(!1),j(d,l(h).trim().length>0),ut().then(O))}function b(E){c()&&(j(h,E.currentTarget.value),C())}function y(E){var _;if(c()){E.key==="Escape"&&(E.preventDefault(),p(),(_=l(f))==null||_.blur());return}(E.key==="Enter"||E.key===" ")&&(E.preventDefault(),g(!1))}function N(){c()&&p()}function w(){var E;c()||(E=l(f))==null||E.blur()}function I(E){c()||u("select",{originalEvent:E})}function m(){c()||g(!0)}function C(){l(f)&&(qo(f,l(f).style.height="auto"),qo(f,l(f).style.height=`${l(f).scrollHeight}px`))}function O(){var E,_;if(l(f)){try{l(f).setSelectionRange(0,0)}catch{}typeof window<"u"&&((_=(E=window.getSelection)==null?void 0:E.call(window))==null||_.removeAllRanges())}}Me(()=>Fe(s()),()=>{j(n,typeof s()=="string"?s():"")}),Me(()=>l(n),()=>{j(r,l(n).trim().length>0)}),Me(()=>(Fe(c()),l(r),l(d)),()=>{a(c()||l(r)||l(d))}),Me(()=>(Fe(c()),l(n)),()=>{c()||j(h,l(n))}),Me(()=>(Fe(c()),l(h),l(n)),()=>{j(i,c()?l(h):l(n))}),Me(()=>(Fe(a()),ut),()=>{a()&&ut().then(C)}),ki();var k={startEditing:g};nr();var S=$e(),F=Ce(S);{var D=E=>{var _=qw(),x=se(_);x.__pointerdown=I,x.__click=m,x.__input=b,x.__keydown=y,lt(x,v=>j(f,v),()=>l(f)),ye(()=>{pe(x,"id",o()),Ot(x,1,`w-full resize-none overflow-hidden p-1 rounded-md text-left text-xs leading-5 text-vsc-input-fg whitespace-pre-wrap wrap-break-word ${c()?"nodrag border border-vsc-input-border bg-vsc-input-bg":"border border-transparent bg-transparent cursor-grab active:cursor-grabbing select-none outline-none focus:outline-none focus-visible:outline-none focus:border-transparent"}`),x.readOnly=!c(),Tt(x,l(i))}),Ke("focus",x,w),Ke("blur",x,N),te(E,_)};Re(F,E=>{a()&&E(D)})}return te(e,S),fg(t,"startEditing",g),ke(k)}vt(["pointerdown","click","input","keydown"]);var Zw=de('<span aria-hidden="true"></span>'),Qw=de('<span aria-hidden="true"></span>');function Ya(e,t){Ne(t,!1);const n=Oe(),r=Oe(),i=Oe(),o=Oe(),s=Oe(),a=Oe(),c=Oe(),u=Oe(),d=Oe(),h=Oe(),f=Oe(),g=Oe(),p=Oe();let b=ee(t,"id",8),y=ee(t,"type",8,"target"),N=ee(t,"side",8,"left"),w=ee(t,"top",8,"0px"),I=ee(t,"width",8,12),m=ee(t,"label",8,""),C=ee(t,"showTooltip",8,!1),O=ee(t,"color",8,void 0),k=ee(t,"connectionMultiplicity",8,"single");function S(v){return Number.isFinite(v)?`${v}px`:typeof v=="string"?v:"0px"}function F(v){return Number.isFinite(v)?`${Number(v)}px`:typeof v=="string"?v:"12px"}function D(v){return`calc(${v} * 2)`}function E(v){return v==="map"?"map":v==="multiple"?"multiple":"single"}function _(v,A){return v==="map"||v==="multiple"?"rounded-none":A==="right"?"rounded-l-full":"rounded-r-full"}function x(v,A){if(v==="map")return A==="left"?"polygon(0 0, 100% 50%, 0 100%)":"polygon(100% 0, 0 50%, 100% 100%)"}Me(()=>Fe(N()),()=>{j(n,N()==="right"?"right":"left")}),Me(()=>(l(n),Pe),()=>{j(r,l(n)==="right"?Pe.Right:Pe.Left)}),Me(()=>Fe(y()),()=>{j(i,y()==="source"?"source":"target")}),Me(()=>Fe(w()),()=>{j(o,S(w()))}),Me(()=>Fe(I()),()=>{j(s,F(I()))}),Me(()=>l(s),()=>{j(a,D(l(s)))}),Me(()=>Fe(m()),()=>{j(c,typeof m()=="string"?m():"")}),Me(()=>Fe(k()),()=>{j(u,E(k()))}),Me(()=>l(n),()=>{j(d,l(n)==="right"?"right-0":"left-0")}),Me(()=>(l(u),l(n)),()=>{j(h,_(l(u),l(n)))}),Me(()=>(l(u),l(n)),()=>{j(f,x(l(u),l(n)))}),Me(()=>l(n),()=>{j(g,l(n)==="right"?"right":"left")}),Me(()=>(l(c),l(n)),()=>{j(p,l(c)?`${l(n)==="right"?"Output":"Input"} pin ${l(c)}`:void 0)}),ki(),nr(),to(e,{get type(){return l(i)},get position(){return l(r)},get id(){return b()},get style(){return`top: ${l(o)??""}; height: ${l(a)??""};`},class:"w-px! min-w-0! min-h-0! bg-transparent! border-none! overflow-visible! transform-[translate(0,-50%)]",children:(v,A)=>{var T=$e(),M=Ce(T);{var L=B=>{pf(B,{get text(){return l(c)},get placement(){return l(g)},wrapperClass:"block",get style(){return`width: ${l(s)??""}; height: ${l(a)??""};`},get groupAriaLabel(){return l(p)},children:(G,U)=>{var Q=Zw();ye(z=>{Ot(Q,1,`absolute top-1/2 -translate-y-1/2 ${l(d)??""} ${l(h)??""}`),Ze(Q,`width: ${l(s)??""}; height: ${l(a)??""}; background-color: ${z??""}; clip-path: ${(l(f)||"none")??""};`)},[()=>(Fe(ti),Fe(O()),De(()=>ti(O())))]),te(G,Q)},$$slots:{default:!0}})},H=B=>{var G=Qw();ye(U=>{Ot(G,1,`absolute top-1/2 -translate-y-1/2 ${l(d)??""} ${l(h)??""}`),Ze(G,`width: ${l(s)??""}; height: ${l(a)??""}; background-color: ${U??""}; clip-path: ${(l(f)||"none")??""};`)},[()=>(Fe(ti),Fe(O()),De(()=>ti(O())))]),te(B,G)};Re(M,B=>{C()&&l(c)?B(L):B(H,!1)})}te(v,T)},$$slots:{default:!0}}),ke()}var Jw=de('<input class="w-full p-2 font-bold border rounded-t-lg border-vsc-input-border" type="text"/>'),$w=de('<span class="mr-1 text-vsc-muted"> </span>'),ex=de('<div class="flex items-center flex-1 gap-1 p-2 cursor-grab active:cursor-grabbing" role="group" aria-label="Node title bar"><button class="min-w-0 font-bold text-left border border-transparent rounded-md select-none text-vsc-input-fg cursor-grab active:cursor-grabbing" type="button"><!> <span> </span></button> <button class="inline-flex items-center justify-center rounded-md nodrag size-4 hover:backdrop-brightness-90" type="button" title="Edit node title" aria-label="Edit node title"><!></button> <button class="inline-flex items-center justify-center ml-auto rounded-md nodrag size-4 hover:backdrop-brightness-90" type="button" title="Edit node comment" aria-label="Edit node comment"><!></button></div>'),tx=de('<!> <div class="pointer-events-none absolute pr-1 -translate-y-1/2 text-right text-[11px] text-vsc-muted whitespace-nowrap"> </div>',1),nx=de('<div class="relative pt-0 border border-vsc-editor-widget-border rounded-lg shadow-lg bg-vsc-editor-widget-bg text-vsc-editor-fg transition-[border-color,box-shadow]" data-node-editor-root=""><div aria-hidden="true" class="absolute inset-x-0 top-0 z-10 h-1 rounded-t-lg pointer-events-none"></div> <div class="flex flex-col gap-1"><div class="flex items-center gap-1 rounded-t-lg bg-vsc-input-bg text-vsc-input-fg"><!></div> <!></div> <div class="relative py-2"><!> <div class="flex flex-col gap-2"></div> <!></div></div>');function rx(e,t){Ne(t,!0);let n=ee(t,"selected",3,!1),r=ee(t,"dragging",3,!1),i=V(()=>t.data.nodeColor),o=V(()=>t.data.outputPins),s=V(()=>t.data.inputPins),a=V(()=>t.data.fieldsBySchemaKey),c=V(()=>t.data.titleOverride),u=V(()=>t.data.defaultTitle),d=V(()=>t.data.inputConnectionIndex);const{updateNodeData:h,updateNode:f,getNodes:g,getEdges:p,updateEdge:b}=Gr(),y=16,N=32,w=220,I=32,m=10,C=288,O=80;let k=V(()=>Object.keys(t.data.fieldsBySchemaKey).length>0),S=V(()=>ae(l(o))),F=V(()=>(l(k)?C:O)+l(S)),D=V(()=>m+8),E=V(()=>l(S)+8),_=V(()=>Math.max(l(s).length,l(o).length)),x=V(()=>ne(l(_)-1,l(_))+I),v=V(()=>l(c)??l(u)),A=V(()=>l(d)!==void 0?`[${l(d)}]`:void 0),T=V(()=>`comment-${t.id??"node"}`),M=V(()=>{var le;return typeof((le=t.data)==null?void 0:le.comment)=="string"?t.data.comment:""});qe(()=>{l(L)||j(H,l(v),!0)});let L=we(!1),H=we(""),B=we(void 0),G=we(!1),U;function Q(le){h(t.id,{titleOverride:le}),oe("custom-label-updated")}function z(le){if(le!=null&&le.shiftKey)return;const Se=!!(le!=null&&le.metaKey||le!=null&&le.ctrlKey),Xe=g();for(const Je of Xe){const ht=Je.id===t.id?!0:Se?!!Je.selected:!1;Je.selected!==ht&&f(Je.id,{selected:ht})}if(Se)return;const nt=p();for(const Je of nt)Je.selected&&b(Je.id,{selected:!1})}async function P(){var le,Se;j(L,!0),j(H,l(v),!0),await ut(),(le=l(B))==null||le.focus(),(Se=l(B))==null||Se.select()}function W(le=!1){var Se;l(L)&&(Q(l(H)),j(L,!1),le&&(Ur(l(B))||(Se=l(B))==null||Se.blur()))}function X(){l(L)&&(j(L,!1),j(H,l(v),!0))}function Y(le){var Se;if(qr(le)){le.preventDefault(),W(!0);return}le.key==="Escape"&&(le.preventDefault(),X(),(Se=l(B))==null||Se.blur())}function J(){W(!1)}function re(le){(le.key==="Enter"||le.key===" ")&&(le.preventDefault(),P())}function q(){U==null||U.startEditing(!1)}function ue(le){var Se;z((Se=le.detail)==null?void 0:Se.originalEvent)}function ge(le){h(t.id,{comment:le??""}),oe("custom-comment-updated")}function me(le,Se){h(t.id,{fieldsBySchemaKey:{...l(a),[le]:{...l(a)[le],value:Se}}}),oe("custom-field-updated")}function oe(le){typeof window>"u"||typeof window.dispatchEvent!="function"||window.dispatchEvent(new CustomEvent(zb,{detail:{nodeId:t.id,reason:le}}))}function be(le){return typeof(le==null?void 0:le.label)=="string"?le.label:typeof(le==null?void 0:le.id)=="string"?le.id:""}function xe(le){return(le==null?void 0:le.isMap)===!0?"map":(le==null?void 0:le.multiple)===!0?"multiple":"single"}function _e(le,Se){return`${ne(le,Se)}px`}function ne(le,Se){const Xe=Number(Se)||1,nt=Number(le)||0,Je=Math.max(0,w-y),ht=Xe<=1?0:Math.min(N,Je/(Xe-1));return y+nt*ht}function ae(le){return!Array.isArray(le)||le.length===0?0:le.reduce((nt,Je)=>Math.max(nt,be(Je).length),0)*7+m+4}var ve=nx(),Ie=se(ve),He=he(Ie,2),Te=se(He),Be=se(Te);{var je=le=>{var Se=Jw();Se.__input=Xe=>j(H,Xe.currentTarget.value,!0),Se.__keydown=Y,lt(Se,Xe=>j(B,Xe),()=>l(B)),ye(()=>Tt(Se,l(H))),Ke("blur",Se,J),te(le,Se)},dt=le=>{var Se=ex();Se.__pointerdown=z;var Xe=se(Se);Xe.__dblclick=P,Xe.__keydown=re;var nt=se(Xe);{var Je=pt=>{var xn=$w(),It=se(xn);ye(()=>We(It,l(A))),te(pt,xn)};Re(nt,pt=>{l(A)!==void 0&&pt(Je)})}var ht=he(nt,2),Pt=se(ht),At=he(Xe,2);At.__click=P;var an=se(At);El(an,{strokeWidth:2.5,"aria-hidden":"true",class:""});var ln=he(At,2);ln.__click=q;var Z=se(ln);gf(Z,{strokeWidth:2.25,"aria-hidden":"true"}),ye(()=>{We(Pt,l(v)),pe(ln,"aria-expanded",l(G)),pe(ln,"aria-controls",l(T))}),te(le,Se)};Re(Be,le=>{l(L)?le(je):le(dt,!1)})}var tt=he(Te,2);lt(wf(tt,{get id(){return l(T)},get value(){return l(M)},get isVisible(){return l(G)},set isVisible(le){j(G,le,!0)},$$events:{change:le=>ge(le.detail.value),select:ue}}),le=>U=le,()=>U);var it=he(He,2),_n=se(it);rt(_n,17,()=>l(s),Kt,(le,Se,Xe)=>{const nt=V(()=>_e(Xe,l(s).length)),Je=V(()=>be(l(Se)));{let ht=V(()=>Dr+(Xe>0?`-${Xe}`:"")),Pt=V(()=>l(s).length>1);Ya(le,{type:"target",side:"left",get id(){return l(ht)},get top(){return l(nt)},width:m,get label(){return l(Je)},get showTooltip(){return l(Pt)},get color(){return l(Se).color}})}});var wn=he(_n,2);rt(wn,21,()=>Object.entries(l(a)),([le,Se])=>le,(le,Se)=>{var Xe=V(()=>mr(l(Se),2));let nt=()=>l(Xe)[1];_f(le,Wt(nt,{onchange:Je=>me(nt().schemaKey,Je)}))});var Fn=he(wn,2);rt(Fn,19,()=>l(o),le=>le.schemaKey,(le,Se,Xe)=>{const nt=V(()=>_e(l(Xe),l(o).length)),Je=V(()=>xe(l(Se)));var ht=tx(),Pt=Ce(ht);Ya(Pt,{type:"source",side:"right",get id(){return l(Se).schemaKey},get top(){return l(nt)},width:m,get color(){return l(Se).color},get connectionMultiplicity(){return l(Je)}});var At=he(Pt,2),an=se(At);ye(ln=>{Ze(At,`top: ${l(nt)??""}; right: 10px;`),We(an,ln)},[()=>be(l(Se))]),te(le,ht)}),ye(le=>{Ze(ve,`min-width: ${l(F)??""}px; outline: ${n()&&!r()?"2px solid var(--vscode-focusBorder)":"none"};`),Ze(Ie,`background-color: ${le??""};`),Ze(it,`padding-left: ${l(D)??""}px; padding-right: ${l(E)??""}px; min-height: ${l(x)??""}px;`)},[()=>ti(l(i))]),te(e,ve),ke()}vt(["input","keydown","pointerdown","dblclick","click"]);var ix=de('<input class="inline-block max-w-full px-0 py-0 font-semibold leading-none text-left transition-transform duration-100 ease-out origin-bottom-left bg-transparent border-0 rounded outline-none appearance-none nodrag whitespace-nowrap text-vsc-editor-fg ring-0 placeholder:text-vsc-muted focus:outline-none focus:ring-0" type="text" aria-label="Edit group title"/>'),ox=de('<button class="inline-block px-0 py-0 font-semibold leading-none text-left transition-transform duration-100 ease-out origin-bottom-left rounded cursor-default whitespace-nowrap text-vsc-editor-fg" type="button"> </button> <button data-group-edit-action="true" type="button" title="Edit group name" aria-label="Edit group name"><!></button>',1),sx=de('<div><div class="absolute inset-x-0 top-0 flex items-end h-8 gap-1 px-2 pb-1 overflow-visible rounded-t-lg cursor-default group-title-drag-handle nopan bg-vsc-input-bg/60" role="presentation"><div class="flex items-end min-w-0 gap-1 overflow-visible"><!></div></div> <div class="absolute inset-x-0 h-px pointer-events-none top-8 bg-vsc-editor-widget-border/80"></div> <!></div>');function ax(e,t){Ne(t,!0);const n="Group",r=180,i=120,o=18,s=5.5,a=3,c=-1e4;let u=ee(t,"data",19,()=>({})),d=ee(t,"selected",3,!1),h=ee(t,"dragging",3,!1),f=ee(t,"positionAbsoluteX",3,0),g=ee(t,"positionAbsoluteY",3,0),p=ee(t,"width",3,r),b=ee(t,"height",3,i);const y=lf(),{updateNodeData:N,updateNode:w}=Gr();let I=we(!1),m=we(""),C=we(void 0),O=we(void 0),k=we(void 0),S=we(void 0),F=V(()=>{var ne;return P((ne=u())==null?void 0:ne.name)}),D=V(()=>{var ne;return W((ne=y.current)==null?void 0:ne.zoom)}),E=V(()=>X(l(D))),_=V(()=>l(E)<=1.001),x=V(()=>l(_)&&!l(I));qe(()=>{l(I)||j(m,l(F),!0)}),qe(()=>{const ne=!!d(),ae=J(p(),b());l(O)===ne&&l(k)===ae||(j(O,ne,!0),j(k,ae,!0),w(t.id,{draggable:ne,dragHandle:void 0,zIndex:ae}))});async function v(){var ne,ae;j(I,!0),j(m,l(F),!0),await ut(),(ne=l(C))==null||ne.focus(),(ae=l(C))==null||ae.select()}function A(){l(I)&&(H(l(m)),j(I,!1))}function T(){l(I)&&(j(I,!1),j(m,l(F),!0))}function M(ne){var ae,ve;if(ne.key==="Enter"){ne.preventDefault(),A(),(ae=l(C))==null||ae.blur();return}ne.key==="Escape"&&(ne.preventDefault(),T(),(ve=l(C))==null||ve.blur())}function L(ne){(ne.key==="Enter"||ne.key===" ")&&(ne.preventDefault(),v())}function H(ne){N(t.id,{name:P(ne)})}function B(){}function G(ne){var ve,Ie;if(d()||l(I)||ne.button!==0)return;const ae=ne==null?void 0:ne.target;typeof(ae==null?void 0:ae.closest)=="function"&&ae.closest("[data-group-edit-action='true']")||(j(S,{pointerId:ne.pointerId,startClientX:Number(ne.clientX)||0,startClientY:Number(ne.clientY)||0,startNodeX:Y(f()),startNodeY:Y(g()),moved:!1},!0),(Ie=(ve=ne.currentTarget)==null?void 0:ve.setPointerCapture)==null||Ie.call(ve,ne.pointerId))}function U(ne){var je;const ae=l(S);if(!ae||ne.pointerId!==ae.pointerId)return;const ve=(Number(ne.clientX)||0)-ae.startClientX,Ie=(Number(ne.clientY)||0)-ae.startClientY,He=Math.hypot(ve,Ie);if(!(ae.moved||He>=a))return;ae.moved||j(S,{...ae,moved:!0},!0);const Be=W((je=y.current)==null?void 0:je.zoom);w(t.id,{position:{x:ae.startNodeX+ve/Be,y:ae.startNodeY+Ie/Be}}),ne.preventDefault()}function Q(ne){const ae=l(S);!ae||ne.pointerId!==ae.pointerId||(ae.moved&&(w(t.id,{selected:!0}),ne.preventDefault()),j(S,void 0))}function z(ne){const ae=l(S);!ae||ne.pointerId!==ae.pointerId||j(S,void 0)}function P(ne){return typeof ne=="string"?ne:n}function W(ne){return Number(ne)||1}function X(ne){if(!Number.isFinite(ne)||ne>=1)return 1;const ae=1/ne;return Math.min(s,Math.max(1,ae))}function Y(ne){return Number(ne)||0}function J(ne,ae){const ve=re(ne,r),Ie=re(ae,i),He=ve*Ie;return c-Math.round(He)}function re(ne,ae){const ve=Number(ne);return Number.isFinite(ve)?ve:ae}var q=sx();let ue;var ge=se(q);ge.__pointerdown=G,ge.__pointermove=U,ge.__pointerup=Q;var me=se(ge),oe=se(me);{var be=ne=>{var ae=ix();ae.__input=Ie=>j(m,Ie.currentTarget.value,!0),ae.__keydown=M;let ve;lt(ae,Ie=>j(C,Ie),()=>l(C)),ye(Ie=>{Tt(ae,l(m)),pe(ae,"size",Ie),ve=Ze(ae,"",ve,{"font-size":`${o}px`,transform:`scale(${l(E)})`})},[()=>Math.max(1,l(m).length||l(F).length)]),Ke("blur",ae,A),te(ne,ae)},xe=ne=>{var ae=ox(),ve=Ce(ae);ve.__dblclick=v,ve.__keydown=L;let Ie;var He=se(ve),Te=he(ve,2);let Be;Te.__click=v;var je=se(Te);El(je,{size:12,strokeWidth:2.25,"aria-hidden":"true"}),ye(()=>{pe(ve,"aria-label",`Group title: ${l(F)}. Double click to rename`),Ie=Ze(ve,"",Ie,{"font-size":`${o}px`,transform:`scale(${l(E)})`}),We(He,l(F)),Be=Ot(Te,1,"nodrag inline-flex cursor-default items-center justify-center rounded p-0.5 text-vsc-muted transition-[opacity,transform,color] duration-200 ease-out hover:text-vsc-editor-fg",null,Be,{"opacity-100":l(x),"translate-y-0":l(x),"opacity-0":!l(x),"translate-y-0.5":!l(x),"pointer-events-none":!l(x)}),pe(Te,"tabindex",l(x)?0:-1)}),te(ne,ae)};Re(oe,ne=>{l(I)?ne(be):ne(xe,!1)})}var _e=he(ge,4);bf(_e,{get isVisible(){return d()},minWidth:r,minHeight:i,onResizeEnd:B}),ye(()=>{ue=Ot(q,1,"relative h-full w-full cursor-grab overflow-visible rounded-lg border border-dashed border-vsc-editor-widget-border bg-vsc-editor-widget-bg/40 transition-[border-color,box-shadow]",null,ue,{"cursor-grabbing":h()}),Ze(q,`outline: ${d()&&!h()?"2px solid var(--vscode-focusBorder)":"none"};`)}),Ke("pointercancel",ge,z),te(e,q),ke()}vt(["pointerdown","pointermove","pointerup","input","keydown","dblclick","click"]);var lx=de("<div>not implemented</div>");function cx(e,t){Ne(t,!0),ee(t,"selected",3,!1),ee(t,"dragging",3,!1),Gr();var n=lx();te(e,n),ke()}var ux=de('<input class="w-full p-2 font-bold border rounded-t-lg border-vsc-input-border" type="text"/>'),dx=de('<span class="mr-1 text-vsc-muted"> </span>'),fx=de('<div class="flex items-center flex-1 gap-1 p-2 cursor-grab active:cursor-grabbing" role="group" aria-label="Node title bar"><button class="min-w-0 font-bold text-left border border-transparent rounded-md select-none text-vsc-input-fg cursor-grab active:cursor-grabbing" type="button"><!> <span> </span></button> <button class="inline-flex items-center justify-center rounded-md nodrag size-4 hover:backdrop-brightness-90" type="button" title="Edit node title" aria-label="Edit node title"><!></button> <button class="inline-flex items-center justify-center ml-auto rounded-md nodrag size-4 hover:backdrop-brightness-90" type="button" title="Edit node comment" aria-label="Edit node comment"><!></button></div>'),hx=de('<div class="relative border border-vsc-editor-widget-border rounded-lg shadow-lg bg-vsc-editor-widget-bg text-vsc-editor-fg transition-[border-color,box-shadow]" data-node-editor-root=""><div aria-hidden="true" class="absolute inset-x-0 top-0 z-10 h-1 rounded-t-lg pointer-events-none"></div> <div class="flex flex-col gap-1"><div class="flex items-center gap-1 rounded-t-lg bg-vsc-input-bg text-vsc-input-fg"><!></div> <!></div> <div class="px-4.5 py-2"><!> <!></div></div>');function gx(e,t){Ne(t,!0);const n={schemaKey:"Data",label:"Data",type:"text"},r="var(--vscode-focusBorder)",i=10,o="50%";let s=ee(t,"selected",3,!1),a=ee(t,"dragging",3,!1);const{updateNodeData:c,updateNode:u,getNodes:d,getEdges:h,updateEdge:f}=Gr(),g="nodeTitle",p="inputIndex",b=V(()=>t.data.titleOverride??Kb),y=V(()=>{var oe;return Q((oe=t.data)==null?void 0:oe[p])}),N=V(()=>l(y)!==void 0?`[${l(y)}]`:void 0),w=V(()=>`comment-${t.id??"node"}`),I=V(()=>{var oe;return typeof((oe=t.data)==null?void 0:oe.comment)=="string"?t.data.comment:""}),m=V(()=>{var oe;return typeof((oe=t.data)==null?void 0:oe.data)=="string"?t.data.data:cs});qe(()=>{C||(O=l(b))});let C=!1,O="",k,S,F=!1;function D(oe){c(t.id,{[g]:oe}),U("raw-json-label-updated")}function E(oe){c(t.id,{data:typeof oe=="string"?oe:String(oe??cs)}),U("raw-json-field-updated")}function _(oe){if(oe!=null&&oe.shiftKey)return;const be=!!(oe!=null&&oe.metaKey||oe!=null&&oe.ctrlKey),xe=d();for(const ne of xe){const ae=ne.id===t.id?!0:be?!!ne.selected:!1;ne.selected!==ae&&u(ne.id,{selected:ae})}if(be)return;const _e=h();for(const ne of _e)ne.selected&&f(ne.id,{selected:!1})}async function x(){C=!0,O=l(b),await ut(),k==null||k.focus(),k==null||k.select()}function v(oe=!1){C&&(D(O),C=!1,oe&&(Ur(k)||k==null||k.blur()))}function A(){C&&(C=!1,O=l(b))}function T(oe){if(qr(oe)){oe.preventDefault(),v(!0);return}oe.key==="Escape"&&(oe.preventDefault(),A(),k==null||k.blur())}function M(){v(!1)}function L(oe){(oe.key==="Enter"||oe.key===" ")&&(oe.preventDefault(),x())}function H(){S==null||S.startEditing(!1)}function B(oe){var be;_((be=oe.detail)==null?void 0:be.originalEvent)}function G(oe){c(t.id,{comment:typeof oe=="string"?oe:String(oe??"")}),U("raw-json-comment-updated")}function U(oe){typeof window>"u"||typeof window.dispatchEvent!="function"||window.dispatchEvent(new CustomEvent(Lb,{detail:{nodeId:t.id,reason:oe}}))}function Q(oe){if(oe!=null)return Number(oe)}var z=hx(),P=se(z);Ze(P,"background-color: var(--vscode-focusBorder);");var W=he(P,2),X=se(W),Y=se(X);{var J=oe=>{var be=ux();be.__input=xe=>O=xe.currentTarget.value,be.__keydown=T,lt(be,xe=>k=xe,()=>k),ye(()=>Tt(be,O)),Ke("blur",be,M),te(oe,be)},re=oe=>{var be=fx();be.__pointerdown=_;var xe=se(be);xe.__dblclick=x,xe.__keydown=L;var _e=se(xe);{var ne=je=>{var dt=dx(),tt=se(dt);ye(()=>We(tt,l(N))),te(je,dt)};Re(_e,je=>{l(N)!==void 0&&je(ne)})}var ae=he(_e,2),ve=se(ae),Ie=he(xe,2);Ie.__click=x;var He=se(Ie);El(He,{strokeWidth:2.5,"aria-hidden":"true"});var Te=he(Ie,2);Te.__click=H;var Be=se(Te);gf(Be,{strokeWidth:2.25,"aria-hidden":"true"}),ye(()=>{We(ve,l(b)),pe(Te,"aria-expanded",F),pe(Te,"aria-controls",l(w))}),te(oe,be)};Re(Y,oe=>{C?oe(J):oe(re,!1)})}var q=he(X,2);lt(wf(q,{get id(){return l(w)},get value(){return l(I)},get isVisible(){return F},set isVisible(oe){F=oe},$$events:{change:oe=>G(oe.detail.value),select:B}}),oe=>S=oe,()=>S);var ue=he(W,2),ge=se(ue);Ya(ge,{type:"target",side:"left",get id(){return Dr},top:o,width:i,label:"Input",showTooltip:!0,color:r});var me=he(ge,2);_f(me,Wt(()=>n,{get value(){return l(m)},onchange:E})),ye(()=>Ze(z,`min-width: 288px; outline: ${s()&&!a()?"2px solid var(--vscode-focusBorder)":"none"};`)),te(e,z),ke()}vt(["input","keydown","pointerdown","dblclick","click"]);var vx=de("<!> <!> <!>",1),px=de('<div class="relative w-full h-full overflow-hidden"><!> <!> <!></div>');function mx(e,t){Ne(t,!0);let n=ee(t,"nodes",31,()=>Jt([])),r=ee(t,"edges",31,()=>Jt([])),i=ee(t,"loadVersion",3,0),o=ee(t,"quickActionRequest",3,void 0),s=ee(t,"revealNodeId",3,void 0),a=ee(t,"revealNodeRequestVersion",3,0);const c="Node-00000000-0000-0000-0000-000000000000",u=6500,d=0,h=100,f=.9,g=-1e4,p=180,b=120,y={[Ka]:xw,[Va]:rx,[oa]:ax,[Ha]:cx,[Fa]:gx},{fitView:N,screenToFlowPosition:w,setCenter:I,setViewport:m}=Gr();let C=-1,O,k=we(!1),S=we(0),F=we(Jt({x:0,y:0})),D={x:0,y:0},E,_=!1,x=!1,v,A=!1,T=0,M,L,H=!1,B=0,G=[],U=-1,Q,z=-1;qe(()=>{i()!==C&&(C=i(),jt())}),qe(()=>{a()!==z&&(z=a(),i()>0&&nt(s()))}),qe(()=>{var K,$;Number.isInteger((K=o())==null?void 0:K.token)&&o().token!==U&&(U=o().token,Qr()||J(($=o())==null?void 0:$.actionId))}),qe(()=>{!_&&i()>0&&ko()});function P(K){t.onflowchange(K,n(),r())}const W=K=>{r(Hi(K,Zr(r(),K))),jt(),P("edge-created")};function X(){P("node-moved")}function Y(K){const $=i_(K==null?void 0:K.type);$&&J($.id)}function J(K){const $=Nl(K);if($)switch($.id){case st.GO_TO_ROOT:q();return;case st.FIT_FULL_VIEW:re();return;case st.SEARCH_NODES:ue();return;case st.AUTO_POSITION_NODES:ge();return;case st.VIEW_RAW_JSON:me();return;case st.HELP_AND_HOTKEYS:oe();return;default:return}}function re(){N({padding:.2,minZoom:d,duration:250})}function q(){const K=cn(Et.state.rootNodeId),$=K.position.x+K.width,ce=K.position.y+K.height/2;I($,ce,{zoom:1.2,duration:250})}function ue(){Be()}function ge(){const K=xf(),$=n().map(ot=>ot.id),ce=mw({seedNodeIds:K,edges:r(),allowedNodeIds:$});if(ce.length===0){console.info("[node-editor] Quick action could not resolve nodes for auto-layout.");return}const fe=new Set(ce),Ee=new Map,ze=new Map;for(const ot of ce){const En=cn(ot);if(!En)continue;const Gt=Io(En);Gt&&(Ee.set(ot,En),ze.set(ot,Gt))}if(Ee.size===0||ze.size===0)return;const mt=pw(Array.from(ze.values())),yt=r().filter(ot=>ot.source&&ot.target&&fe.has(ot.source)&&fe.has(ot.target)),Ks=Array.from(Ee.entries()).map(([ot,En])=>{const Gt=Sl(En);return{id:ot,width:Gt==null?void 0:Gt.width,height:Gt==null?void 0:Gt.height}}),Ai=yw({nodes:Ks,edges:yt,spacing:{marginX:0,marginY:0},origin:mt});let To=!1;n(n().map(ot=>{const En=ot.id;if(!En||!fe.has(En))return ot;const Gt=Ai.get(En);if(!Gt)return ot;const Bs=Ef(ot,Gt);if(!Bs)return ot;const Al=Ci(ot);return!Al||Nf(Al,Bs)?(To=!0,{...ot,position:Bs}):ot})),To&&P("auto-layout-applied")}function me(){t.onviewrawjson()}function oe(){if(H){it();return}tt()}function be(K){if(xe(K)){if(Qr(K==null?void 0:K.target))return;K.preventDefault(),K.stopPropagation(),_e();return}!H||(K==null?void 0:K.key)!=="Escape"||(K.preventDefault(),K.stopPropagation(),it())}function xe(K){var fe;return((fe=K==null?void 0:K.key)==null?void 0:fe.toLowerCase())!=="d"||!!!(K!=null&&K.metaKey||K!=null&&K.ctrlKey)?!1:(K==null?void 0:K.altKey)!==!0&&(K==null?void 0:K.shiftKey)!==!0}function _e(){const K=n().filter($=>$.selected);console.log("workspace.context",Et.context),console.log("workspace.state",Et.state);for(const $ of K)console.log($)}function ne(K){!Sf(K)||Qr(K==null?void 0:K.target)||queueMicrotask(()=>P("elements-deleted"))}function ae(K){Qr(K==null?void 0:K.target)||(K.preventDefault(),K.stopPropagation())}function ve(K){Qr(K==null?void 0:K.target)||(jt(),P("nodes-cut"),K.preventDefault(),K.stopPropagation())}function Ie(K){Qr(K==null?void 0:K.target)||!No()||(P("nodes-pasted"),K.preventDefault(),K.stopPropagation())}function He(K){Pt(K)}function Te(){j(k,!1),E=void 0,Pi()}function Be(){Te(),it(),L=void 0,A=!0,T+=1}function je({restoreViewport:K=!1}={}){if(!A)return;const $=M;A=!1,M=void 0,L=void 0,K&&m($,{duration:250})}function dt(){je({restoreViewport:!0})}function tt(){Te(),je({restoreViewport:!1}),H=!0,B+=1}function it(){H&&(H=!1)}function _n(){it()}function wn(){it(),t.oncustomizekeybinds()}function Fn(K){var ce;const $=(ce=K==null?void 0:K.detail)==null?void 0:ce.nodeId;!$||$===L||(L=$,Se($))}function le(K){var fe;const $=(fe=K==null?void 0:K.detail)==null?void 0:fe.nodeId;if(!$)return;L=$,Se($);const ce=Xe($);je({restoreViewport:!1}),ce&&P("node-search-selected")}function Se(K){const $=cn(K),ce=Io($);if(!ce)return!1;const fe=Sl($),Ee=ce.x+((fe==null?void 0:fe.width)??0)/2,ze=ce.y+((fe==null?void 0:fe.height)??0)/2;return I(Ee,ze,{zoom:f,duration:h}),!0}function Xe(K){if(!K)return!1;let $=!1;return n(n().map(ce=>{const Ee=ce.id===K;return!!ce.selected===Ee?ce:($=!0,{...ce,selected:Ee})})),r(r().map(ce=>ce.selected!==!0?ce:($=!0,{...ce,selected:!1}))),$}async function nt(K){if(!K)return;if(await ut(),Se(K),Xe(K)){P("document-selection-revealed");return}}function Je(K){return typeof(K==null?void 0:K.composedPath)!="function"?!1:K.composedPath().some($=>typeof($==null?void 0:$.getAttribute)!="function"?!1:$.getAttribute("data-add-node-menu")==="true")}function ht(K){return typeof(K==null?void 0:K.composedPath)!="function"?!1:K.composedPath().some($=>typeof($==null?void 0:$.getAttribute)!="function"?!1:$.getAttribute("data-node-search-menu")==="true")}function Pt(K){if(!At(K))return;const{clientX:$,clientY:ce}=K;Q={x:$,y:ce}}function At(K){return O?typeof(K==null?void 0:K.composedPath)=="function"?K.composedPath().includes(O):!(K!=null&&K.target)||typeof O.contains!="function"?!1:O.contains(K.target):!1}function an(K){Pt(K),l(k)&&!Je(K)&&Te(),A&&!ht(K)&&je({restoreViewport:!0})}function ln(K,$=void 0,ce=void 0){je({restoreViewport:!1}),it();const fe=Vs(K,$,ce);return fe?(j(F,fe.position,!0),D=fe.nodePosition,E=fe.connection,j(k,!0),j(S,l(S)+1),!0):!1}function Z(K){const $=K==null?void 0:K.event;$&&($.preventDefault(),ln($))}function pt(K){var mt;const $=K==null?void 0:K.event,ce=K==null?void 0:K.node;if(!$||!ce)return;const fe=(ce==null?void 0:ce.type)===oa,Ee=(ce==null?void 0:ce.selected)===!0,ze=!!(typeof((mt=$==null?void 0:$.target)==null?void 0:mt.closest)=="function"&&$.target.closest(".group-title-drag-handle"));!fe||Ee||ze||($.preventDefault(),$.stopPropagation(),ln($))}const xn=()=>{Te()};function It(K,$){const ce=$==null?void 0:$.nodeId,fe=$==null?void 0:$.handleId,Ee=$==null?void 0:$.handleType;if(Ee&&Ee!=="source"){jt();return}Fs(ce,fe)}const zs=(K,$)=>{ln(K,$.fromNode,$.fromHandle)||Pi()};function Ls(K){if(K.templateId===cf){const fe={id:jn("Group"),type:oa,data:{name:"Group"},position:{...D},width:sa,height:aa,selected:!1,draggable:!1,zIndex:kf(sa,aa)};n([fe,...n()]),Te(),P("group-created");return}if(K.templateId===uf){const fe={id:jn("Comment"),type:Ka,data:{name:"Comment",text:"",fontSize:Hb},position:{...D},width:Vb,height:Fb,selected:!1};n([fe,...n()]),Te(),P("comment-created");return}if(K.templateId===df){const fe={id:jn("Generic"),type:Fa,data:{data:cs},position:{...D},origin:[.5,0]};if(n([...n(),fe]),E){const Ee={...E,target:fe.id,targetHandle:Dr};r(Hi(Ee,Zr(r(),Ee))),jt()}Te(),P("raw-json-node-created");return}if(K.templateId===ff){const fe={id:jn(""),type:Ha,data:{},position:{...D},origin:[.5,0]};if(n([...n(),fe]),E){const Ee={...E,target:fe.id,targetHandle:Dr};r(Hi(Ee,Zr(r(),Ee))),jt()}Te(),P("link-node-created");return}const $=jn(K.templateId),ce={id:$,type:Va,data:{...K},position:{...D},origin:[.5,0]};if(n([...n(),ce]),E){const fe={...E,target:$,targetHandle:Dr};r(Hi(fe,Zr(r(),fe))),jt()}Te(),P("node-created")}function Vs(K,$,ce){var mt;const{clientX:fe,clientY:Ee}=K,ze=(mt=O==null?void 0:O.getBoundingClientRect)==null?void 0:mt.call(O);if(ze)return{position:{x:fe-ze.left,y:Ee-ze.top-60},nodePosition:w({x:fe,y:Ee}),connection:{source:$,sourceHandle:ce}}}function Zr(K,$){const ce=$==null?void 0:$.target;if(!ce)return K;const fe=$==null?void 0:$.targetHandle;return K.filter(Ee=>Ee.target!==ce?!0:fe?Ee.targetHandle!==fe:!1)}function Fs(K,$){var mt;if(jt(),!K)return;const ce=cn(K);let fe="single";if(ce.data.outputPins&&(fe=((mt=ce.data.outputPins.find(yt=>yt.schemaKey===$))==null?void 0:mt.type)??"single"),fe!=="single")return;const Ee=[],ze=[];for(const yt of r()){if(Oi(yt,K,$)){ze.push(yt);continue}Ee.push(yt)}ze.length!==0&&(r(Ee),v={sourceNodeId:K,sourceHandleId:$,removedEdges:ze})}function cn(K){if(K)return n().find($=>$.id===K)}function Oi(K,$,ce){return(K==null?void 0:K.source)!==$?!1:(K==null?void 0:K.sourceHandle)===ce}function Pi(){const K=(v==null?void 0:v.removedEdges)??[];if(K.length===0){v=void 0;return}const $=r(),ce=new Set($.map(Ee=>Ee.id).filter(Boolean)),fe=[];for(const Ee of K){const ze=Ee.id;ze&&ce.has(ze)||(ze&&ce.add(ze),fe.push(Ee))}r([...$,...fe]),v=void 0}function jt(){v=void 0}function No(){var $;if(Number.isFinite(Q==null?void 0:Q.x)&&Number.isFinite(Q==null?void 0:Q.y))return w({x:Q.x,y:Q.y});const K=($=O==null?void 0:O.getBoundingClientRect)==null?void 0:$.call(O);if(K)return w({x:K.left+K.width/2,y:K.top+K.height/2})}async function ko(){if(_||x)return;x=!0,await ut();const K=So(n(),Et.state.rootNodeId);K.length>0&&N({nodes:K,padding:.2,minZoom:d,duration:0}),_=!0,x=!1}function So(K,$){const ce=K;if(ce.length===0)return[];const fe=$??c,Ee=ce.find(yt=>yt.id===fe);if(!Ee)return[];const ze=Ci(Ee);if(!ze)return[];const mt=new Set([fe]);for(const yt of ce){const Ks=yt.id,Ai=Ci(yt);if(!Ai)continue;const To=Ai.x-ze.x,ot=Ai.y-ze.y;Math.hypot(To,ot)<=u&&mt.add(Ks)}return Array.from(mt,yt=>({id:yt}))}function Ci(K){var fe,Ee;const $=(fe=K==null?void 0:K.position)==null?void 0:fe.x,ce=(Ee=K==null?void 0:K.position)==null?void 0:Ee.y;if(!(!Number.isFinite($)||!Number.isFinite(ce)))return{x:$,y:ce}}function Sl(K){var fe,Ee;const $=Il(K==null?void 0:K.width,K==null?void 0:K.initialWidth,(fe=K==null?void 0:K.measured)==null?void 0:fe.width),ce=Il(K==null?void 0:K.height,K==null?void 0:K.initialHeight,(Ee=K==null?void 0:K.measured)==null?void 0:Ee.height);return $===void 0&&ce===void 0?void 0:{width:$??0,height:ce??0}}function Il(...K){for(const $ of K)if(Number.isFinite($))return $}function Io(K,$=new Set){const ce=Ci(K);if(!ce)return;const fe=K==null?void 0:K.id,Ee=K==null?void 0:K.parentId;if(!Ee||fe&&$.has(fe))return ce;const ze=cn(Ee);if(!ze)return ce;const mt=new Set($);fe&&mt.add(fe);const yt=Io(ze,mt);return yt?{x:yt.x+ce.x,y:yt.y+ce.y}:ce}function xf(){var ce;const K=n().filter(fe=>(fe==null?void 0:fe.selected)===!0).map(fe=>fe.id);if(K.length>0)return Array.from(new Set(K));const $=(ce=Et.state)==null?void 0:ce.rootNodeId;return $?[$]:[]}function Ef(K,$){const ce=Ci({position:$});if(!ce)return;const fe=K==null?void 0:K.parentId;if(!fe)return ce;const Ee=cn(fe);if(!Ee)return ce;const ze=Io(Ee);return ze?{x:ce.x-ze.x,y:ce.y-ze.y}:ce}function Nf(K,$){return Math.abs(K.x-$.x)>.001||Math.abs(K.y-$.y)>.001}function kf(K,$){const ce=Tl(K,sa,p),fe=Tl($,aa,b),Ee=ce*fe;return g-Math.round(Ee)}function Tl(K,$,ce){const fe=Number(K);return Number.isFinite(fe)?Math.max(ce,fe):$}function Sf(K){const $=K==null?void 0:K.key;return $==="Delete"||$==="Backspace"}function Qr(K=void 0){var ce;if(Ol(K))return!0;const $=(ce=globalThis==null?void 0:globalThis.document)==null?void 0:ce.activeElement;return Ol($)}function Ol(K){if(!K||typeof K!="object")return!1;const $=typeof(K==null?void 0:K.tagName)=="string"?K.tagName.toLowerCase():void 0;if($==="input"||$==="textarea"||$==="select"||(K==null?void 0:K.isContentEditable)===!0)return!0;const ce=typeof(K==null?void 0:K.getAttribute)=="function"?K.getAttribute("role"):void 0,fe=typeof ce=="string"?ce.toLowerCase():void 0;if(fe==="textbox"||fe==="searchbox"||fe==="combobox"||fe==="spinbutton")return!0;if(typeof(K==null?void 0:K.closest)=="function"){const Ee=K.closest("input, textarea, select, [contenteditable], [role='textbox'], [role='searchbox'], [role='combobox'], [role='spinbutton']");if(Ee){const ze=typeof Ee.getAttribute=="function"?Ee.getAttribute("contenteditable"):void 0;if(typeof ze!="string"||ze.toLowerCase()!=="false")return!0}}return!1}var Hs=px();Ke("keydown",ct,be,!0),Ke("copy",ct,ae,!0),Ke("cut",ct,ve,!0),Ke("paste",ct,Ie,!0),Ke("pointermove",ct,He,!0),Ke("pointerdown",ct,an,!0),Ke("keyup",ct,ne);var Pl=se(Hs);{let K=V(()=>l(k)||A||H);Eb(Pl,{get disableKeyboardA11y(){return l(K)},get selectionMode(){return Ji.Full},multiSelectionKey:"Shift",panActivationKey:"Shift",selectNodesOnDrag:!1,minZoom:d,get nodeTypes(){return y},onconnect:W,onconnectstart:It,onconnectend:zs,onnodedragstop:X,onnodecontextmenu:pt,onpaneclick:xn,onpanecontextmenu:Z,get nodes(){return n()},set nodes($){n($)},get edges(){return r()},set edges($){r($)},children:($,ce)=>{var fe=vx(),Ee=Ce(fe);Cb(Ee,{bgColor:"var(--vscode-editor-background)"});var ze=he(Ee,2);c_(ze,{$$events:{gotoroot:Y,fitfullview:Y,searchnodes:Y,autopositionnodes:Y,viewrawjson:Y,helphotkeys:Y}});var mt=he(ze,2);D_(mt,{get open(){return A},get openVersion(){return T},get groups(){return G},$$events:{close:dt,preview:Fn,select:le}}),te($,fe)},$$slots:{default:!0}})}var Cl=he(Pl,2);jb(Cl,{get open(){return l(k)},get openVersion(){return l(S)},get position(){return l(F)},onclose:Te,onselect:Ls});var If=he(Cl,2);S_(If,{get open(){return H},get openVersion(){return B},$$events:{close:_n,customizekeybinds:wn}}),lt(Hs,K=>O=K,()=>O),te(e,Hs),ke()}function yx(e){var b,y,N;if(!Et.context)throw new Error("Workspace context was not set before parsing document text. This should not happen.");const{rootTemplateOrVariantId:t,variantKindsById:n,nodeTemplatesById:r}=Et.context,i=JSON.parse(e);if(!Wa(i))throw new Error("Document must be a JSON object.");const o=[],s=[],a=new Map,c=new Map,u=new Map,d=(w,I,m)=>{const C={id:`${w}:${I}-${m}`,source:w,sourceHandle:I,target:m,targetHandle:Dr};s.push(C),c.has(w)||c.set(w,new Map),c.get(w).has(I)||c.get(w).set(I,[]),c.get(w).get(I).push(C),u.has(m)||u.set(m,[]),u.get(m).push(C)},h=w=>{o.push(w),a.set(w.id,w)},f=(w,I)=>{let m,C=w,O=C.$NodeId,k=C.$Position??{$x:0,$y:0};const S=n[I];if(S){const D=w[S.VariantFieldName];D&&(m=S.Variants[D])}!m&&I&&(m=I),!m&&O&&(m=O.substring(0,O.indexOf("-")));const F=r[m];if(F){O||(O=jn(m));const D={...F},E=new Set(Object.keys(C).filter(x=>!x.startsWith("$")));for(const x of F.outputPins){const v=x.schemaKey;switch(E.delete(v),x.type){case"single":if(C[v]!==void 0){let A=f(C[v],F.childTypes[v]);d(O,v,A)}break;case"multiple":if(Array.isArray(C[v]))for(const A of C[v]){let T=f(A,F.childTypes[v]);d(O,v,T)}break;case"map":if(typeof C[v]=="object")for(const[A,T]of Object.entries(C[v])){let M=f(T,F.childTypes[v]);d(O,v,M)}}}for(const x of Object.keys(D.fieldsBySchemaKey)){E.delete(x);const v=C[x];v&&(D.fieldsBySchemaKey[x].value=v)}D.unparsedMetadata={};for(const x of E){if(F.schemaConstants[x]){C[x]!=F.schemaConstants[x]&&console.warn(`Constant value for ${x} in asset doesn't match expected from template.`,C,F);continue}D.unparsedMetadata[x]=C[x]}const _={type:Va,id:O,position:{x:k.$x,y:k.$y},data:{...D,comment:C.$Comment}};h(_)}else{O||(O=jn("Generic"));const D={};Object.entries(C).forEach(([_,x])=>{_.startsWith("$")||(D[_]=x)});const E={type:Fa,id:O,position:{x:k.$x,y:k.$y},data:{data:D?JSON.stringify(D,null,"/t"):cs,comment:C.$Comment}};h(E)}return O},g=f(i,t),p=i.$NodeEditorMetadata;if(p){for(const w of p.$FloatingNodes??[])f(w,null);for(const[w,I]of Object.entries(p.$Nodes??{})){const m=a.get(w);if(!m){console.warn(`Metadata info saved for node ${w} but node was not found.`);continue}m.position.x=I.$Position.$x,m.position.y=I.$Position.$y,m.data.titleOverride=I.$Title}for(const[w,I]of Object.entries(p.$Links??{})){const m={type:Ha,id:w,position:{x:I.$Position.$x,y:I.$Position.$y},data:{}};h(m);const C=I.sourceEndpoint,O=I.outputConnections;if(C&&O){const k=C.split(":")[0],S=C.split(":")[1],F=a.get(k);if(!F){console.warn(`Link source node ${k} not found.`);continue}const D=((y=(b=F.data.outputPins)==null?void 0:b.find(E=>E.localId===S))==null?void 0:y.schemaKey)??Lc;for(const E of O){const _=E.split(":")[0];for(const x of((N=c.get(k))==null?void 0:N.get(D))??[])x.target===_&&x.targetHandle===Dr&&(x.target=w),d(w,Lc,_)}}}for(const w of p.$Groups??[])h(Yc(w));for(const w of p.$Comments??[]){const I={type:Ka,id:jn("Comment"),position:{x:w.$Position.$x,y:w.$Position.$y},width:w.$width,height:w.$height,data:{name:w.$name,text:w.$text,fontSize:w.$fontSize}};h(I)}}for(const w of i.$Groups??[])h(Yc(w));return{nodes:o,edges:s,rootNodeId:g}}function Yc(e){return{type:"group",id:jn("Group"),position:{x:e.$Position.$x,y:e.$Position.$y},width:e.$width,height:e.$height,data:{name:e.$name}}}function bx(e,t,n){const r={$Nodes:{},$FloatingNodes:[],$Links:{},$Groups:[],$Comments:[]},i=n.reduce((u,d)=>(u.has(d.source)||u.set(d.source,new Map),u.get(d.source).has(d.sourceHandle)||u.get(d.source).set(d.sourceHandle,[]),u.get(d.source).get(d.sourceHandle).push(d.target),u),new Map),o=t.reduce((u,d)=>(u.set(d.id,d),u),new Map),s=t.reduce((u,d)=>u.add(d.id),new Set);function a(u){if(!s.has(u))throw new Error(`Circular reference detected for node ${u}. This should not happen.`);s.delete(u);const d=o.get(u);let h={};switch(d.type){case"datanode":h.$NodeId=d.id,h.$Comment=d.data.comment??void 0,d.data.outputPins.forEach(f=>{var p;const g=((p=i.get(d.id))==null?void 0:p.get(f.schemaKey))??[];if(g.length>0)switch(f.type){case"single":h[f.schemaKey]=a(g[0]);break;case"multiple":h[f.schemaKey]=g.map(b=>a(b));break;case"map":h[f.schemaKey]=g.reduce((b,y)=>{const w=o.get(y).data.titleOverride??y;return b[w]=a(y),b},{})}}),Object.values(d.data.fieldsBySchemaKey).forEach(f=>{h[f.schemaKey]=f.value}),h={...h,...d.data.unparsedMetadata,...d.data.schemaConstants},r.$Nodes[d.id]={$Position:{$x:d.position.x,$y:d.position.y},$Title:d.data.titleOverride??void 0};break;case"comment":r.$Comments.push({$Position:{$x:d.position.x,$y:d.position.y},$width:d.width,$height:d.height,$name:d.data.name,$text:d.data.text,$fontSize:d.data.fontSize}),h=void 0;break;case"rawjson":h={$NodeId:d.id,$Comment:d.data.comment,...JSON.parse(d.data.data)},r.$Nodes[d.id]={$Position:{$x:d.position.x,$y:d.position.y},$Title:d.data.titleOverride??void 0};break;case"link":h=void 0;break;case"group":r.$Groups.push({$Position:{$x:d.position.x,$y:d.position.y},$width:d.width,$height:d.height,$name:d.data.name}),h=void 0;break}return h}const c=a(e);for(;s.size>0;){const[u]=s,d=a(u);d&&r.$FloatingNodes.push(d)}return{...c,$NodeEditorMetadata:r}}var _x=de('<div class="mx-3 mt-3 text-sm text-vsc-error"> </div>'),wx=de('<main class="flex flex-col h-screen min-h-0"><!></main>');function xx(e,t){Ne(t,!0);let n="",r=V(()=>Et.state?Et.state.nodes:[]),i=V(()=>Et.state?Et.state.edges:[]),o=-1,s=0,a="",c,u=0,d,h=0;function f(k){const S=k.data;if(S)switch(S.type){case"bootstrap":g(S);return;case"revealSelection":return;case"update":p(S);return;case"error":a=typeof S.message=="string"?S.message:"unknown editor error.";return;case"triggerQuickAction":{const F=Nl(S==null?void 0:S.actionId),D=o_(S==null?void 0:S.commandId),E=F??D;if(!E)return;u+=1,c={token:u,actionId:E.id,commandId:E.commandId};return}default:return}}function g(k){Et.context=k.workspaceContext}function p(k){o=typeof k.version=="number"?k.version:o,n=typeof k.documentPath=="string"?k.documentPath:n;try{const S=yx(k.text);Et.state=S,s+=1,a=""}catch(S){a=S instanceof Error?S.message:"could not parse flow json."}}function b(k,S,F){w(S,F)}function y(){const k={type:"openRawJson"};t.vscode.postMessage(k)}function N(){const k={type:"openKeybindings",query:"Hytale Node Editor"};t.vscode.postMessage(k)}function w(k,S){const F=bx(Et.state.rootNodeId,k,S),D={type:"apply",text:JSON.stringify(F,null,"	"),sourceVersion:o};t.vscode.postMessage(D)}ol(()=>{typeof t.vscode.getState=="function"&&t.vscode.getState(),window.addEventListener("message",f);const k={type:"ready"};return t.vscode.postMessage(k),()=>{window.removeEventListener("message",f)}});var I=wx(),m=se(I);{var C=k=>{var S=_x(),F=se(S);ye(()=>We(F,a)),te(k,S)},O=k=>{Nb(k,{children:(S,F)=>{mx(S,{get loadVersion(){return s},get quickActionRequest(){return c},revealNodeId:d,revealNodeRequestVersion:h,onflowchange:b,onviewrawjson:y,oncustomizekeybinds:N,get nodes(){return l(r)},set nodes(D){j(r,D)},get edges(){return l(i)},set edges(D){j(i,D)}})},$$slots:{default:!0}})};Re(m,k=>{a?k(C):Et.state&&k(O,1)})}te(e,I),ke()}const Ex=globalThis.acquireVsCodeApi();qh(xx,{target:document.getElementById("app"),props:{vscode:Ex}});
//# sourceMappingURL=main.js.map
