var Rf=Object.defineProperty;var Ml=e=>{throw TypeError(e)};var Lf=(e,t,n)=>t in e?Rf(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n;var nt=(e,t,n)=>Lf(e,typeof t!="symbol"?t+"":t,n),Bs=(e,t,n)=>t.has(e)||Ml("Cannot "+n);var L=(e,t,n)=>(Bs(e,t,"read from private field"),n?n.call(e):t.get(e)),se=(e,t,n)=>t.has(e)?Ml("Cannot add the same private member more than once"):t instanceof WeakSet?t.add(e):t.set(e,n),Ae=(e,t,n,r)=>(Bs(e,t,"write to private field"),r?r.call(e,n):t.set(e,n),n),xt=(e,t,n)=>(Bs(e,t,"access private method"),n);(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))r(i);new MutationObserver(i=>{for(const o of i)if(o.type==="childList")for(const s of o.addedNodes)s.tagName==="LINK"&&s.rel==="modulepreload"&&r(s)}).observe(document,{childList:!0,subtree:!0});function n(i){const o={};return i.integrity&&(o.integrity=i.integrity),i.referrerPolicy&&(o.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?o.credentials="include":i.crossOrigin==="anonymous"?o.credentials="omit":o.credentials="same-origin",o}function r(i){if(i.ep)return;i.ep=!0;const o=n(i);fetch(i.href,o)}})();const oa=!1;var uo=Array.isArray,zf=Array.prototype.indexOf,hi=Array.prototype.includes,vs=Array.from,Vf=Object.defineProperty,Un=Object.getOwnPropertyDescriptor,qu=Object.getOwnPropertyDescriptors,Zu=Object.prototype,Ff=Array.prototype,ps=Object.getPrototypeOf,Al=Object.isExtensible;function Pi(e){return typeof e=="function"}const gr=()=>{};function Hf(e){return e()}function sa(e){for(var t=0;t<e.length;t++)e[t]()}function Qu(){var e,t,n=new Promise((r,i)=>{e=r,t=i});return{promise:n,resolve:e,reject:t}}function Mt(e,t,n=!1){return e===void 0?n?t():t:e}function vr(e,t){if(Array.isArray(e))return e;if(t===void 0||!(Symbol.iterator in e))return Array.from(e);const n=[];for(const r of e)if(n.push(r),n.length===t)break;return n}const kt=2,Xi=4,co=8,Wa=1<<24,$n=16,mn=32,pr=64,Ju=128,$t=512,pt=1024,It=2048,tn=4096,Yt=8192,qn=16384,fo=32768,Qn=65536,Pl=1<<17,$u=1<<18,Kr=1<<19,ec=1<<20,Xn=1<<25,Pr=65536,aa=1<<21,Ya=1<<22,ur=1<<23,Tn=Symbol("$state"),tc=Symbol("legacy props"),Kf=Symbol(""),_r=new class extends Error{constructor(){super(...arguments);nt(this,"name","StaleReactionError");nt(this,"message","The reaction that called `getAbortSignal()` was re-run or destroyed")}};var Xu;const Xa=((Xu=globalThis.document)==null?void 0:Xu.contentType.includes("xml"))??!1;function ms(e){throw new Error("https://svelte.dev/e/lifecycle_outside_component")}function Bf(){throw new Error("https://svelte.dev/e/async_derived_orphan")}function Wf(e,t,n){throw new Error("https://svelte.dev/e/each_key_duplicate")}function Yf(e){throw new Error("https://svelte.dev/e/effect_in_teardown")}function Xf(){throw new Error("https://svelte.dev/e/effect_in_unowned_derived")}function jf(e){throw new Error("https://svelte.dev/e/effect_orphan")}function Gf(){throw new Error("https://svelte.dev/e/effect_update_depth_exceeded")}function Uf(e){throw new Error("https://svelte.dev/e/props_invalid_value")}function qf(){throw new Error("https://svelte.dev/e/state_descriptors_fixed")}function Zf(){throw new Error("https://svelte.dev/e/state_prototype_fixed")}function Qf(){throw new Error("https://svelte.dev/e/state_unsafe_mutation")}function Jf(){throw new Error("https://svelte.dev/e/svelte_boundary_reset_onerror")}const $f=1,eh=2,nc=4,th=8,nh=16,rh=1,ih=2,rc=4,oh=8,sh=16,ic=1,ah=2,bt=Symbol(),oc="http://www.w3.org/1999/xhtml",lh="http://www.w3.org/2000/svg",uh="@attach";function ch(){console.warn("https://svelte.dev/e/select_multiple_invalid_value")}function dh(){console.warn("https://svelte.dev/e/svelte_boundary_reset_noop")}function sc(e){return e===this.v}function ac(e,t){return e!=e?t==t:e!==t||e!==null&&typeof e=="object"||typeof e=="function"}function lc(e){return!ac(e,this.v)}let Ei=!1,fh=!1;function hh(){Ei=!0}const gh=[];function uc(e,t=!1,n=!1){return Fo(e,new Map,"",gh,null,n)}function Fo(e,t,n,r,i=null,o=!1){if(typeof e=="object"&&e!==null){var s=t.get(e);if(s!==void 0)return s;if(e instanceof Map)return new Map(e);if(e instanceof Set)return new Set(e);if(uo(e)){var a=Array(e.length);t.set(e,a),i!==null&&t.set(i,a);for(var u=0;u<e.length;u+=1){var d=e[u];u in e&&(a[u]=Fo(d,t,n,r,null,o))}return a}if(ps(e)===Zu){a={},t.set(e,a),i!==null&&t.set(i,a);for(var c in e)a[c]=Fo(e[c],t,n,r,null,o);return a}if(e instanceof Date)return structuredClone(e);if(typeof e.toJSON=="function"&&!o)return Fo(e.toJSON(),t,n,r,e)}if(e instanceof EventTarget)return e;try{return structuredClone(e)}catch{return e}}let Ue=null;function gi(e){Ue=e}function ja(e){return Ua().get(e)}function Ga(e,t){return Ua().set(e,t),t}function vh(e){return Ua().has(e)}function Ne(e,t=!1,n){Ue={p:Ue,i:!1,c:null,e:null,s:e,x:null,l:Ei&&!t?{s:null,u:null,$:[]}:null}}function ke(e){var t=Ue,n=t.e;if(n!==null){t.e=null;for(var r of n)Mc(r)}return e!==void 0&&(t.x=e),t.i=!0,Ue=t.p,e??{}}function ho(){return!Ei||Ue!==null&&Ue.l===null}function Ua(e){return Ue===null&&ms(),Ue.c??(Ue.c=new Map(ph(Ue)||void 0))}function ph(e){let t=e.p;for(;t!==null;){const n=t.c;if(n!==null)return n;t=t.p}return null}let wr=[];function cc(){var e=wr;wr=[],sa(e)}function On(e){if(wr.length===0&&!Ki){var t=wr;queueMicrotask(()=>{t===wr&&cc()})}wr.push(e)}function mh(){for(;wr.length>0;)cc()}function dc(e){var t=Xe;if(t===null)return He.f|=ur,e;if(!(t.f&fo)&&!(t.f&Xi))throw e;vi(e,t)}function vi(e,t){for(;t!==null;){if(t.f&Ju){if(!(t.f&fo))throw e;try{t.b.error(e);return}catch(n){e=n}}t=t.parent}throw e}const yh=-7169;function at(e,t){e.f=e.f&yh|t}function qa(e){e.f&$t||e.deps===null?at(e,pt):at(e,tn)}function fc(e){if(e!==null)for(const t of e)!(t.f&kt)||!(t.f&Pr)||(t.f^=Pr,fc(t.deps))}function hc(e,t,n){e.f&It?t.add(e):e.f&tn&&n.add(e),fc(e.deps),at(e,pt)}const Oo=new Set;let ze=null,la=null,Nt=null,Vt=[],ys=null,ua=!1,Ki=!1;var oi,si,Nr,ai,no,ro,kr,Hn,li,Pn,ca,da,gc;const xl=class xl{constructor(){se(this,Pn);nt(this,"committed",!1);nt(this,"current",new Map);nt(this,"previous",new Map);se(this,oi,new Set);se(this,si,new Set);se(this,Nr,0);se(this,ai,0);se(this,no,null);se(this,ro,new Set);se(this,kr,new Set);se(this,Hn,new Map);nt(this,"is_fork",!1);se(this,li,!1)}is_deferred(){return this.is_fork||L(this,ai)>0}skip_effect(t){L(this,Hn).has(t)||L(this,Hn).set(t,{d:[],m:[]})}unskip_effect(t){var n=L(this,Hn).get(t);if(n){L(this,Hn).delete(t);for(var r of n.d)at(r,It),dn(r);for(r of n.m)at(r,tn),dn(r)}}process(t){var i;Vt=[],this.apply();var n=[],r=[];for(const o of t)xt(this,Pn,ca).call(this,o,n,r);if(this.is_deferred()){xt(this,Pn,da).call(this,r),xt(this,Pn,da).call(this,n);for(const[o,s]of L(this,Hn))yc(o,s)}else{for(const o of L(this,oi))o();L(this,oi).clear(),L(this,Nr)===0&&xt(this,Pn,gc).call(this),la=this,ze=null,Dl(r),Dl(n),la=null,(i=L(this,no))==null||i.resolve()}Nt=null}capture(t,n){n!==bt&&!this.previous.has(t)&&this.previous.set(t,n),t.f&ur||(this.current.set(t,t.v),Nt==null||Nt.set(t,t.v))}activate(){ze=this,this.apply()}deactivate(){ze===this&&(ze=null,Nt=null)}flush(){if(this.activate(),Vt.length>0){if(vc(),ze!==null&&ze!==this)return}else L(this,Nr)===0&&this.process([]);this.deactivate()}discard(){for(const t of L(this,si))t(this);L(this,si).clear()}increment(t){Ae(this,Nr,L(this,Nr)+1),t&&Ae(this,ai,L(this,ai)+1)}decrement(t){Ae(this,Nr,L(this,Nr)-1),t&&Ae(this,ai,L(this,ai)-1),!L(this,li)&&(Ae(this,li,!0),On(()=>{Ae(this,li,!1),this.is_deferred()?Vt.length>0&&this.flush():this.revive()}))}revive(){for(const t of L(this,ro))L(this,kr).delete(t),at(t,It),dn(t);for(const t of L(this,kr))at(t,tn),dn(t);this.flush()}oncommit(t){L(this,oi).add(t)}ondiscard(t){L(this,si).add(t)}settled(){return(L(this,no)??Ae(this,no,Qu())).promise}static ensure(){if(ze===null){const t=ze=new xl;Oo.add(ze),Ki||On(()=>{ze===t&&t.flush()})}return ze}apply(){}};oi=new WeakMap,si=new WeakMap,Nr=new WeakMap,ai=new WeakMap,no=new WeakMap,ro=new WeakMap,kr=new WeakMap,Hn=new WeakMap,li=new WeakMap,Pn=new WeakSet,ca=function(t,n,r){t.f^=pt;for(var i=t.first,o=null;i!==null;){var s=i.f,a=(s&(mn|pr))!==0,u=a&&(s&pt)!==0,d=u||(s&Yt)!==0||L(this,Hn).has(i);if(!d&&i.fn!==null){a?i.f^=pt:o!==null&&s&(Xi|co|Wa)?o.b.defer_effect(i):s&Xi?n.push(i):Ii(i)&&(s&$n&&L(this,kr).add(i),Dr(i));var c=i.first;if(c!==null){i=c;continue}}var h=i.parent;for(i=i.next;i===null&&h!==null;)h===o&&(o=null),i=h.next,h=h.parent}},da=function(t){for(var n=0;n<t.length;n+=1)hc(t[n],L(this,ro),L(this,kr))},gc=function(){var i;if(Oo.size>1){this.previous.clear();var t=Nt,n=!0;for(const o of Oo){if(o===this){n=!1;continue}const s=[];for(const[u,d]of this.current){if(o.current.has(u))if(n&&d!==o.current.get(u))o.current.set(u,d);else continue;s.push(u)}if(s.length===0)continue;const a=[...o.current.keys()].filter(u=>!this.current.has(u));if(a.length>0){var r=Vt;Vt=[];const u=new Set,d=new Map;for(const c of s)pc(c,a,u,d);if(Vt.length>0){ze=o,o.apply();for(const c of Vt)xt(i=o,Pn,ca).call(i,c,[],[]);o.deactivate()}Vt=r}}ze=null,Nt=t}this.committed=!0,Oo.delete(this)};let Zn=xl;function bh(e){var t=Ki;Ki=!0;try{for(var n;;){if(mh(),Vt.length===0&&(ze==null||ze.flush(),Vt.length===0))return ys=null,n;vc()}}finally{Ki=t}}function vc(){ua=!0;var e=null;try{for(var t=0;Vt.length>0;){var n=Zn.ensure();if(t++>1e3){var r,i;_h()}n.process(Vt),cr.clear()}}finally{Vt=[],ua=!1,ys=null}}function _h(){try{Gf()}catch(e){vi(e,ys)}}let ln=null;function Dl(e){var t=e.length;if(t!==0){for(var n=0;n<t;){var r=e[n++];if(!(r.f&(qn|Yt))&&Ii(r)&&(ln=new Set,Dr(r),r.deps===null&&r.first===null&&r.nodes===null&&r.teardown===null&&r.ac===null&&Rc(r),(ln==null?void 0:ln.size)>0)){cr.clear();for(const i of ln){if(i.f&(qn|Yt))continue;const o=[i];let s=i.parent;for(;s!==null;)ln.has(s)&&(ln.delete(s),o.push(s)),s=s.parent;for(let a=o.length-1;a>=0;a--){const u=o[a];u.f&(qn|Yt)||Dr(u)}}ln.clear()}}ln=null}}function pc(e,t,n,r){if(!n.has(e)&&(n.add(e),e.reactions!==null))for(const i of e.reactions){const o=i.f;o&kt?pc(i,t,n,r):o&(Ya|$n)&&!(o&It)&&mc(i,t,r)&&(at(i,It),dn(i))}}function mc(e,t,n){const r=n.get(e);if(r!==void 0)return r;if(e.deps!==null)for(const i of e.deps){if(hi.call(t,i))return!0;if(i.f&kt&&mc(i,t,n))return n.set(i,!0),!0}return n.set(e,!1),!1}function dn(e){for(var t=ys=e;t.parent!==null;){t=t.parent;var n=t.f;if(ua&&t===Xe&&n&$n&&!(n&$u))return;if(n&(pr|mn)){if(!(n&pt))return;t.f^=pt}}Vt.push(t)}function yc(e,t){if(!(e.f&mn&&e.f&pt)){e.f&It?t.d.push(e):e.f&tn&&t.m.push(e),at(e,pt);for(var n=e.first;n!==null;)yc(n,t),n=n.next}}function bc(e){let t=0,n=fr(0),r;return()=>{Qa()&&(l(n),Ni(()=>(t===0&&(r=Ve(()=>e(()=>Bi(n)))),t+=1,()=>{On(()=>{t-=1,t===0&&(r==null||r(),r=void 0,Bi(n))})})))}}var wh=Qn|Kr|Ju;function xh(e,t,n){new Eh(e,t,n)}var Zt,Ba,En,Ir,Nn,Qt,Rt,kn,Kn,sr,Sr,ar,ui,Tr,ci,di,Bn,ds,wt,Nh,kh,fa,Ho,Ko,ha;class Eh{constructor(t,n,r){se(this,wt);nt(this,"parent");nt(this,"is_pending",!1);se(this,Zt);se(this,Ba,null);se(this,En);se(this,Ir);se(this,Nn);se(this,Qt,null);se(this,Rt,null);se(this,kn,null);se(this,Kn,null);se(this,sr,null);se(this,Sr,0);se(this,ar,0);se(this,ui,!1);se(this,Tr,!1);se(this,ci,new Set);se(this,di,new Set);se(this,Bn,null);se(this,ds,bc(()=>(Ae(this,Bn,fr(L(this,Sr))),()=>{Ae(this,Bn,null)})));Ae(this,Zt,t),Ae(this,En,n),Ae(this,Ir,r),this.parent=Xe.b,this.is_pending=!!L(this,En).pending,Ae(this,Nn,ki(()=>{Xe.b=this;{var i=xt(this,wt,fa).call(this);try{Ae(this,Qt,Ht(()=>r(i)))}catch(o){this.error(o)}L(this,ar)>0?xt(this,wt,Ko).call(this):this.is_pending=!1}return()=>{var o;(o=L(this,sr))==null||o.remove()}},wh))}defer_effect(t){hc(t,L(this,ci),L(this,di))}is_rendered(){return!this.is_pending&&(!this.parent||this.parent.is_rendered())}has_pending_snippet(){return!!L(this,En).pending}update_pending_count(t){xt(this,wt,ha).call(this,t),Ae(this,Sr,L(this,Sr)+t),!(!L(this,Bn)||L(this,ui))&&(Ae(this,ui,!0),On(()=>{Ae(this,ui,!1),L(this,Bn)&&pi(L(this,Bn),L(this,Sr))}))}get_effect_pending(){return L(this,ds).call(this),l(L(this,Bn))}error(t){var n=L(this,En).onerror;let r=L(this,En).failed;if(L(this,Tr)||!n&&!r)throw t;L(this,Qt)&&(_t(L(this,Qt)),Ae(this,Qt,null)),L(this,Rt)&&(_t(L(this,Rt)),Ae(this,Rt,null)),L(this,kn)&&(_t(L(this,kn)),Ae(this,kn,null));var i=!1,o=!1;const s=()=>{if(i){dh();return}i=!0,o&&Jf(),Zn.ensure(),Ae(this,Sr,0),L(this,kn)!==null&&Cr(L(this,kn),()=>{Ae(this,kn,null)}),this.is_pending=this.has_pending_snippet(),Ae(this,Qt,xt(this,wt,Ho).call(this,()=>(Ae(this,Tr,!1),Ht(()=>L(this,Ir).call(this,L(this,Zt)))))),L(this,ar)>0?xt(this,wt,Ko).call(this):this.is_pending=!1};On(()=>{try{o=!0,n==null||n(t,s),o=!1}catch(a){vi(a,L(this,Nn)&&L(this,Nn).parent)}r&&Ae(this,kn,xt(this,wt,Ho).call(this,()=>{Zn.ensure(),Ae(this,Tr,!0);try{return Ht(()=>{r(L(this,Zt),()=>t,()=>s)})}catch(a){return vi(a,L(this,Nn).parent),null}finally{Ae(this,Tr,!1)}}))})}}Zt=new WeakMap,Ba=new WeakMap,En=new WeakMap,Ir=new WeakMap,Nn=new WeakMap,Qt=new WeakMap,Rt=new WeakMap,kn=new WeakMap,Kn=new WeakMap,sr=new WeakMap,Sr=new WeakMap,ar=new WeakMap,ui=new WeakMap,Tr=new WeakMap,ci=new WeakMap,di=new WeakMap,Bn=new WeakMap,ds=new WeakMap,wt=new WeakSet,Nh=function(){try{Ae(this,Qt,Ht(()=>L(this,Ir).call(this,L(this,Zt))))}catch(t){this.error(t)}},kh=function(){const t=L(this,En).pending;t&&(Ae(this,Rt,Ht(()=>t(L(this,Zt)))),On(()=>{var n=xt(this,wt,fa).call(this);Ae(this,Qt,xt(this,wt,Ho).call(this,()=>(Zn.ensure(),Ht(()=>L(this,Ir).call(this,n))))),L(this,ar)>0?xt(this,wt,Ko).call(this):(Cr(L(this,Rt),()=>{Ae(this,Rt,null)}),this.is_pending=!1)}))},fa=function(){var t=L(this,Zt);return this.is_pending&&(Ae(this,sr,Cn()),L(this,Zt).before(L(this,sr)),t=L(this,sr)),t},Ho=function(t){var n=Xe,r=He,i=Ue;rn(L(this,Nn)),nn(L(this,Nn)),gi(L(this,Nn).ctx);try{return t()}catch(o){return dc(o),null}finally{rn(n),nn(r),gi(i)}},Ko=function(){const t=L(this,En).pending;L(this,Qt)!==null&&(Ae(this,Kn,document.createDocumentFragment()),L(this,Kn).append(L(this,sr)),Vc(L(this,Qt),L(this,Kn))),L(this,Rt)===null&&Ae(this,Rt,Ht(()=>t(L(this,Zt))))},ha=function(t){var n;if(!this.has_pending_snippet()){this.parent&&xt(n=this.parent,wt,ha).call(n,t);return}if(Ae(this,ar,L(this,ar)+t),L(this,ar)===0){this.is_pending=!1;for(const r of L(this,ci))at(r,It),dn(r);for(const r of L(this,di))at(r,tn),dn(r);L(this,ci).clear(),L(this,di).clear(),L(this,Rt)&&Cr(L(this,Rt),()=>{Ae(this,Rt,null)}),L(this,Kn)&&(L(this,Zt).before(L(this,Kn)),Ae(this,Kn,null))}};function _c(e,t,n,r){const i=ho()?go:vo;var o=e.filter(f=>!f.settled);if(n.length===0&&o.length===0){r(t.map(i));return}var s=ze,a=Xe,u=Ih(),d=o.length===1?o[0].promise:o.length>1?Promise.all(o.map(f=>f.promise)):null;function c(f){u();try{r(f)}catch(g){a.f&qn||vi(g,a)}s==null||s.deactivate(),ga()}if(n.length===0){d.then(()=>c(t.map(i)));return}function h(){u(),Promise.all(n.map(f=>Sh(f))).then(f=>c([...t.map(i),...f])).catch(f=>vi(f,a))}d?d.then(h):h()}function Ih(){var e=Xe,t=He,n=Ue,r=ze;return function(o=!0){rn(e),nn(t),gi(n),o&&(r==null||r.activate())}}function ga(){rn(null),nn(null),gi(null)}function go(e){var t=kt|It,n=He!==null&&He.f&kt?He:null;return Xe!==null&&(Xe.f|=Kr),{ctx:Ue,deps:null,effects:null,equals:sc,f:t,fn:e,reactions:null,rv:0,v:bt,wv:0,parent:n??Xe,ac:null}}function Sh(e,t,n){let r=Xe;r===null&&Bf();var i=r.b,o=void 0,s=fr(bt),a=!He,u=new Map;return Hh(()=>{var g;var d=Qu();o=d.promise;try{Promise.resolve(e()).then(d.resolve,d.reject).then(()=>{c===ze&&c.committed&&c.deactivate(),ga()})}catch(m){d.reject(m),ga()}var c=ze;if(a){var h=i.is_rendered();i.update_pending_count(1),c.increment(h),(g=u.get(c))==null||g.reject(_r),u.delete(c),u.set(c,d)}const f=(m,b=void 0)=>{if(c.activate(),b)b!==_r&&(s.f|=ur,pi(s,b));else{s.f&ur&&(s.f^=ur),pi(s,m);for(const[y,E]of u){if(u.delete(y),y===c)break;E.reject(_r)}}a&&(i.update_pending_count(-1),c.decrement(h))};d.promise.then(f,m=>f(null,m||"unknown"))}),mo(()=>{for(const d of u.values())d.reject(_r)}),new Promise(d=>{function c(h){function f(){h===o?d(s):c(o)}h.then(f,f)}c(o)})}function H(e){const t=go(e);return Fc(t),t}function vo(e){const t=go(e);return t.equals=lc,t}function Th(e){var t=e.effects;if(t!==null){e.effects=null;for(var n=0;n<t.length;n+=1)_t(t[n])}}function Oh(e){for(var t=e.parent;t!==null;){if(!(t.f&kt))return t.f&qn?null:t;t=t.parent}return null}function Za(e){var t,n=Xe;rn(Oh(e));try{e.f&=~Pr,Th(e),t=Wc(e)}finally{rn(n)}return t}function wc(e){var t=Za(e);if(!e.equals(t)&&(e.wv=Kc(),(!(ze!=null&&ze.is_fork)||e.deps===null)&&(e.v=t,e.deps===null))){at(e,pt);return}hr||(Nt!==null?(Qa()||ze!=null&&ze.is_fork)&&Nt.set(e,t):qa(e))}function Ch(e){var t,n;if(e.effects!==null)for(const r of e.effects)(r.teardown||r.ac)&&((t=r.teardown)==null||t.call(r),(n=r.ac)==null||n.abort(_r),r.teardown=gr,r.ac=null,ji(r,0),$a(r))}function xc(e){if(e.effects!==null)for(const t of e.effects)t.teardown&&Dr(t)}let va=new Set;const cr=new Map;let Ec=!1;function fr(e,t){var n={f:0,v:e,reactions:null,equals:sc,rv:0,wv:0};return n}function Ie(e,t){const n=fr(e);return Fc(n),n}function Ee(e,t=!1,n=!0){var i;const r=fr(e);return t||(r.equals=lc),Ei&&n&&Ue!==null&&Ue.l!==null&&((i=Ue.l).s??(i.s=[])).push(r),r}function Uo(e,t){return W(e,Ve(()=>l(e))),t}function W(e,t,n=!1){He!==null&&(!hn||He.f&Pl)&&ho()&&He.f&(kt|$n|Ya|Pl)&&(en===null||!hi.call(en,e))&&Qf();let r=n?fn(t):t;return pi(e,r)}function pi(e,t){if(!e.equals(t)){var n=e.v;hr?cr.set(e,t):cr.set(e,n),e.v=t;var r=Zn.ensure();if(r.capture(e,n),e.f&kt){const i=e;e.f&It&&Za(i),qa(i)}e.wv=Kc(),Nc(e,It),ho()&&Xe!==null&&Xe.f&pt&&!(Xe.f&(mn|pr))&&(qt===null?Wh([e]):qt.push(e)),!r.is_fork&&va.size>0&&!Ec&&Mh()}return t}function Mh(){Ec=!1;for(const e of va)e.f&pt&&at(e,tn),Ii(e)&&Dr(e);va.clear()}function Rl(e,t=1){var n=l(e),r=t===1?n++:n--;return W(e,n),r}function Bi(e){W(e,e.v+1)}function Nc(e,t){var n=e.reactions;if(n!==null)for(var r=ho(),i=n.length,o=0;o<i;o++){var s=n[o],a=s.f;if(!(!r&&s===Xe)){var u=(a&It)===0;if(u&&at(s,t),a&kt){var d=s;Nt==null||Nt.delete(d),a&Pr||(a&$t&&(s.f|=Pr),Nc(d,tn))}else u&&(a&$n&&ln!==null&&ln.add(s),dn(s))}}}function fn(e){if(typeof e!="object"||e===null||Tn in e)return e;const t=ps(e);if(t!==Zu&&t!==Ff)return e;var n=new Map,r=uo(e),i=Ie(0),o=Mr,s=a=>{if(Mr===o)return a();var u=He,d=Mr;nn(null),Fl(o);var c=a();return nn(u),Fl(d),c};return r&&n.set("length",Ie(e.length)),new Proxy(e,{defineProperty(a,u,d){(!("value"in d)||d.configurable===!1||d.enumerable===!1||d.writable===!1)&&qf();var c=n.get(u);return c===void 0?s(()=>{var h=Ie(d.value);return n.set(u,h),h}):W(c,d.value,!0),!0},deleteProperty(a,u){var d=n.get(u);if(d===void 0){if(u in a){const c=s(()=>Ie(bt));n.set(u,c),Bi(i)}}else W(d,bt),Bi(i);return!0},get(a,u,d){var g;if(u===Tn)return e;var c=n.get(u),h=u in a;if(c===void 0&&(!h||(g=Un(a,u))!=null&&g.writable)&&(c=s(()=>{var m=fn(h?a[u]:bt),b=Ie(m);return b}),n.set(u,c)),c!==void 0){var f=l(c);return f===bt?void 0:f}return Reflect.get(a,u,d)},getOwnPropertyDescriptor(a,u){var d=Reflect.getOwnPropertyDescriptor(a,u);if(d&&"value"in d){var c=n.get(u);c&&(d.value=l(c))}else if(d===void 0){var h=n.get(u),f=h==null?void 0:h.v;if(h!==void 0&&f!==bt)return{enumerable:!0,configurable:!0,value:f,writable:!0}}return d},has(a,u){var f;if(u===Tn)return!0;var d=n.get(u),c=d!==void 0&&d.v!==bt||Reflect.has(a,u);if(d!==void 0||Xe!==null&&(!c||(f=Un(a,u))!=null&&f.writable)){d===void 0&&(d=s(()=>{var g=c?fn(a[u]):bt,m=Ie(g);return m}),n.set(u,d));var h=l(d);if(h===bt)return!1}return c},set(a,u,d,c){var S;var h=n.get(u),f=u in a;if(r&&u==="length")for(var g=d;g<h.v;g+=1){var m=n.get(g+"");m!==void 0?W(m,bt):g in a&&(m=s(()=>Ie(bt)),n.set(g+"",m))}if(h===void 0)(!f||(S=Un(a,u))!=null&&S.writable)&&(h=s(()=>Ie(void 0)),W(h,fn(d)),n.set(u,h));else{f=h.v!==bt;var b=s(()=>fn(d));W(h,b)}var y=Reflect.getOwnPropertyDescriptor(a,u);if(y!=null&&y.set&&y.set.call(c,d),!f){if(r&&typeof u=="string"){var E=n.get("length"),w=Number(u);Number.isInteger(w)&&w>=E.v&&W(E,w+1)}Bi(i)}return!0},ownKeys(a){l(i);var u=Reflect.ownKeys(a).filter(h=>{var f=n.get(h);return f===void 0||f.v!==bt});for(var[d,c]of n)c.v!==bt&&!(d in a)&&u.push(d);return u},setPrototypeOf(){Zf()}})}function Ll(e){try{if(e!==null&&typeof e=="object"&&Tn in e)return e[Tn]}catch{}return e}function Ah(e,t){return Object.is(Ll(e),Ll(t))}var ut,kc,Ic,Sc;function Ph(){if(ut===void 0){ut=window,kc=/Firefox/.test(navigator.userAgent);var e=Element.prototype,t=Node.prototype,n=Text.prototype;Ic=Un(t,"firstChild").get,Sc=Un(t,"nextSibling").get,Al(e)&&(e.__click=void 0,e.__className=void 0,e.__attributes=null,e.__style=void 0,e.__e=void 0),Al(n)&&(n.__t=void 0)}}function Cn(e=""){return document.createTextNode(e)}function Wn(e){return Ic.call(e)}function po(e){return Sc.call(e)}function ae(e,t){return Wn(e)}function Me(e,t=!1){{var n=Wn(e);return n instanceof Comment&&n.data===""?po(n):n}}function ge(e,t=1,n=!1){let r=e;for(;t--;)r=po(r);return r}function Dh(e){e.textContent=""}function Tc(){return!1}function Oc(e,t,n){return document.createElementNS(t??oc,e,void 0)}function Rh(e,t){if(t){const n=document.body;e.autofocus=!0,On(()=>{document.activeElement===n&&e.focus()})}}let zl=!1;function Lh(){zl||(zl=!0,document.addEventListener("reset",e=>{Promise.resolve().then(()=>{var t;if(!e.defaultPrevented)for(const n of e.target.elements)(t=n.__on_r)==null||t.call(n)})},{capture:!0}))}function bs(e){var t=He,n=Xe;nn(null),rn(null);try{return e()}finally{nn(t),rn(n)}}function zh(e,t,n,r=n){e.addEventListener(t,()=>bs(n));const i=e.__on_r;i?e.__on_r=()=>{i(),r(!0)}:e.__on_r=()=>r(!0),Lh()}function Cc(e){Xe===null&&(He===null&&jf(),Xf()),hr&&Yf()}function Vh(e,t){var n=t.last;n===null?t.last=t.first=e:(n.next=e,e.prev=n,t.last=e)}function sn(e,t,n){var r=Xe;r!==null&&r.f&Yt&&(e|=Yt);var i={ctx:Ue,deps:null,nodes:null,f:e|It|$t,first:null,fn:t,last:null,next:null,parent:r,b:r&&r.b,prev:null,teardown:null,wv:0,ac:null};if(n)try{Dr(i)}catch(a){throw _t(i),a}else t!==null&&dn(i);var o=i;if(n&&o.deps===null&&o.teardown===null&&o.nodes===null&&o.first===o.last&&!(o.f&Kr)&&(o=o.first,e&$n&&e&Qn&&o!==null&&(o.f|=Qn)),o!==null&&(o.parent=r,r!==null&&Vh(o,r),He!==null&&He.f&kt&&!(e&pr))){var s=He;(s.effects??(s.effects=[])).push(o)}return i}function Qa(){return He!==null&&!hn}function mo(e){const t=sn(co,null,!1);return at(t,pt),t.teardown=e,t}function et(e){Cc();var t=Xe.f,n=!He&&(t&mn)!==0&&(t&fo)===0;if(n){var r=Ue;(r.e??(r.e=[])).push(e)}else return Mc(e)}function Mc(e){return sn(Xi|ec,e,!1)}function Ja(e){return Cc(),sn(co|ec,e,!0)}function Ac(e){Zn.ensure();const t=sn(pr|Kr,e,!0);return()=>{_t(t)}}function Fh(e){Zn.ensure();const t=sn(pr|Kr,e,!0);return(n={})=>new Promise(r=>{n.outro?Cr(t,()=>{_t(t),r(void 0)}):(_t(t),r(void 0))})}function yo(e){return sn(Xi,e,!1)}function Te(e,t){var n=Ue,r={effect:null,ran:!1,deps:e};n.l.$.push(r),r.effect=Ni(()=>{e(),!r.ran&&(r.ran=!0,Ve(t))})}function Br(){var e=Ue;Ni(()=>{for(var t of e.l.$){t.deps();var n=t.effect;n.f&pt&&n.deps!==null&&at(n,tn),Ii(n)&&Dr(n),t.ran=!1}})}function Hh(e){return sn(Ya|Kr,e,!0)}function Ni(e,t=0){return sn(co|t,e,!0)}function be(e,t=[],n=[],r=[]){_c(r,t,n,i=>{sn(co,()=>e(...i.map(l)),!0)})}function ki(e,t=0){var n=sn($n|t,e,!0);return n}function Pc(e,t=0){var n=sn(Wa|t,e,!0);return n}function Ht(e){return sn(mn|Kr,e,!0)}function Dc(e){var t=e.teardown;if(t!==null){const n=hr,r=He;Vl(!0),nn(null);try{t.call(null)}finally{Vl(n),nn(r)}}}function $a(e,t=!1){var n=e.first;for(e.first=e.last=null;n!==null;){const i=n.ac;i!==null&&bs(()=>{i.abort(_r)});var r=n.next;n.f&pr?n.parent=null:_t(n,t),n=r}}function Kh(e){for(var t=e.first;t!==null;){var n=t.next;t.f&mn||_t(t),t=n}}function _t(e,t=!0){var n=!1;(t||e.f&$u)&&e.nodes!==null&&e.nodes.end!==null&&(Bh(e.nodes.start,e.nodes.end),n=!0),$a(e,t&&!n),ji(e,0),at(e,qn);var r=e.nodes&&e.nodes.t;if(r!==null)for(const o of r)o.stop();Dc(e);var i=e.parent;i!==null&&i.first!==null&&Rc(e),e.next=e.prev=e.teardown=e.ctx=e.deps=e.fn=e.nodes=e.ac=null}function Bh(e,t){for(;e!==null;){var n=e===t?null:po(e);e.remove(),e=n}}function Rc(e){var t=e.parent,n=e.prev,r=e.next;n!==null&&(n.next=r),r!==null&&(r.prev=n),t!==null&&(t.first===e&&(t.first=r),t.last===e&&(t.last=n))}function Cr(e,t,n=!0){var r=[];Lc(e,r,!0);var i=()=>{n&&_t(e),t&&t()},o=r.length;if(o>0){var s=()=>--o||i();for(var a of r)a.out(s)}else i()}function Lc(e,t,n){if(!(e.f&Yt)){e.f^=Yt;var r=e.nodes&&e.nodes.t;if(r!==null)for(const a of r)(a.is_global||n)&&t.push(a);for(var i=e.first;i!==null;){var o=i.next,s=(i.f&Qn)!==0||(i.f&mn)!==0&&(e.f&$n)!==0;Lc(i,t,s?n:!1),i=o}}}function el(e){zc(e,!0)}function zc(e,t){if(e.f&Yt){e.f^=Yt,e.f&pt||(at(e,It),dn(e));for(var n=e.first;n!==null;){var r=n.next,i=(n.f&Qn)!==0||(n.f&mn)!==0;zc(n,i?t:!1),n=r}var o=e.nodes&&e.nodes.t;if(o!==null)for(const s of o)(s.is_global||t)&&s.in()}}function Vc(e,t){if(e.nodes)for(var n=e.nodes.start,r=e.nodes.end;n!==null;){var i=n===r?null:po(n);t.append(n),n=i}}let Bo=!1,hr=!1;function Vl(e){hr=e}let He=null,hn=!1;function nn(e){He=e}let Xe=null;function rn(e){Xe=e}let en=null;function Fc(e){He!==null&&(en===null?en=[e]:en.push(e))}let Ft=null,Bt=0,qt=null;function Wh(e){qt=e}let Hc=1,xr=0,Mr=xr;function Fl(e){Mr=e}function Kc(){return++Hc}function Ii(e){var t=e.f;if(t&It)return!0;if(t&kt&&(e.f&=~Pr),t&tn){for(var n=e.deps,r=n.length,i=0;i<r;i++){var o=n[i];if(Ii(o)&&wc(o),o.wv>e.wv)return!0}t&$t&&Nt===null&&at(e,pt)}return!1}function Bc(e,t,n=!0){var r=e.reactions;if(r!==null&&!(en!==null&&hi.call(en,e)))for(var i=0;i<r.length;i++){var o=r[i];o.f&kt?Bc(o,t,!1):t===o&&(n?at(o,It):o.f&pt&&at(o,tn),dn(o))}}function Wc(e){var b;var t=Ft,n=Bt,r=qt,i=He,o=en,s=Ue,a=hn,u=Mr,d=e.f;Ft=null,Bt=0,qt=null,He=d&(mn|pr)?null:e,en=null,gi(e.ctx),hn=!1,Mr=++xr,e.ac!==null&&(bs(()=>{e.ac.abort(_r)}),e.ac=null);try{e.f|=aa;var c=e.fn,h=c();e.f|=fo;var f=e.deps,g=ze==null?void 0:ze.is_fork;if(Ft!==null){var m;if(g||ji(e,Bt),f!==null&&Bt>0)for(f.length=Bt+Ft.length,m=0;m<Ft.length;m++)f[Bt+m]=Ft[m];else e.deps=f=Ft;if(Qa()&&e.f&$t)for(m=Bt;m<f.length;m++)((b=f[m]).reactions??(b.reactions=[])).push(e)}else!g&&f!==null&&Bt<f.length&&(ji(e,Bt),f.length=Bt);if(ho()&&qt!==null&&!hn&&f!==null&&!(e.f&(kt|tn|It)))for(m=0;m<qt.length;m++)Bc(qt[m],e);if(i!==null&&i!==e){if(xr++,i.deps!==null)for(let y=0;y<n;y+=1)i.deps[y].rv=xr;if(t!==null)for(const y of t)y.rv=xr;qt!==null&&(r===null?r=qt:r.push(...qt))}return e.f&ur&&(e.f^=ur),h}catch(y){return dc(y)}finally{e.f^=aa,Ft=t,Bt=n,qt=r,He=i,en=o,gi(s),hn=a,Mr=u}}function Yh(e,t){let n=t.reactions;if(n!==null){var r=zf.call(n,e);if(r!==-1){var i=n.length-1;i===0?n=t.reactions=null:(n[r]=n[i],n.pop())}}if(n===null&&t.f&kt&&(Ft===null||!hi.call(Ft,t))){var o=t;o.f&$t&&(o.f^=$t,o.f&=~Pr),qa(o),Ch(o),ji(o,0)}}function ji(e,t){var n=e.deps;if(n!==null)for(var r=t;r<n.length;r++)Yh(e,n[r])}function Dr(e){var t=e.f;if(!(t&qn)){at(e,pt);var n=Xe,r=Bo;Xe=e,Bo=!0;try{t&($n|Wa)?Kh(e):$a(e),Dc(e);var i=Wc(e);e.teardown=typeof i=="function"?i:null,e.wv=Hc;var o;oa&&fh&&e.f&It&&e.deps}finally{Bo=r,Xe=n}}}async function ct(){await Promise.resolve(),bh()}function l(e){var t=e.f,n=(t&kt)!==0;if(He!==null&&!hn){var r=Xe!==null&&(Xe.f&qn)!==0;if(!r&&(en===null||!hi.call(en,e))){var i=He.deps;if(He.f&aa)e.rv<xr&&(e.rv=xr,Ft===null&&i!==null&&i[Bt]===e?Bt++:Ft===null?Ft=[e]:Ft.push(e));else{(He.deps??(He.deps=[])).push(e);var o=e.reactions;o===null?e.reactions=[He]:hi.call(o,He)||o.push(He)}}}if(hr&&cr.has(e))return cr.get(e);if(n){var s=e;if(hr){var a=s.v;return(!(s.f&pt)&&s.reactions!==null||Xc(s))&&(a=Za(s)),cr.set(s,a),a}var u=(s.f&$t)===0&&!hn&&He!==null&&(Bo||(He.f&$t)!==0),d=(s.f&fo)===0;Ii(s)&&(u&&(s.f|=$t),wc(s)),u&&!d&&(xc(s),Yc(s))}if(Nt!=null&&Nt.has(e))return Nt.get(e);if(e.f&ur)throw e.v;return e.v}function Yc(e){if(e.f|=$t,e.deps!==null)for(const t of e.deps)(t.reactions??(t.reactions=[])).push(e),t.f&kt&&!(t.f&$t)&&(xc(t),Yc(t))}function Xc(e){if(e.v===bt)return!0;if(e.deps===null)return!1;for(const t of e.deps)if(cr.has(t)||t.f&kt&&Xc(t))return!0;return!1}function Ve(e){var t=hn;try{return hn=!0,e()}finally{hn=t}}function Xh(e,t){var n={};for(var r in e)t.includes(r)||(n[r]=e[r]);for(var i of Object.getOwnPropertySymbols(e))Object.propertyIsEnumerable.call(e,i)&&!t.includes(i)&&(n[i]=e[i]);return n}function Ke(e){if(!(typeof e!="object"||!e||e instanceof EventTarget)){if(Tn in e)pa(e);else if(!Array.isArray(e))for(let t in e){const n=e[t];typeof n=="object"&&n&&Tn in n&&pa(n)}}}function pa(e,t=new Set){if(typeof e=="object"&&e!==null&&!(e instanceof EventTarget)&&!t.has(e)){t.add(e),e instanceof Date&&e.getTime();for(let r in e)try{pa(e[r],t)}catch{}const n=ps(e);if(n!==Object.prototype&&n!==Array.prototype&&n!==Map.prototype&&n!==Set.prototype&&n!==Date.prototype){const r=qu(n);for(let i in r){const o=r[i].get;if(o)try{o.call(e)}catch{}}}}}function jh(e){return e.endsWith("capture")&&e!=="gotpointercapture"&&e!=="lostpointercapture"}const Gh=["beforeinput","click","change","dblclick","contextmenu","focusin","focusout","input","keydown","keyup","mousedown","mousemove","mouseout","mouseover","mouseup","pointerdown","pointermove","pointerout","pointerover","pointerup","touchend","touchmove","touchstart"];function Uh(e){return Gh.includes(e)}const qh={formnovalidate:"formNoValidate",ismap:"isMap",nomodule:"noModule",playsinline:"playsInline",readonly:"readOnly",defaultvalue:"defaultValue",defaultchecked:"defaultChecked",srcobject:"srcObject",novalidate:"noValidate",allowfullscreen:"allowFullscreen",disablepictureinpicture:"disablePictureInPicture",disableremoteplayback:"disableRemotePlayback"};function Zh(e){return e=e.toLowerCase(),qh[e]??e}const Qh=["touchstart","touchmove"];function Jh(e){return Qh.includes(e)}const jc=new Set,ma=new Set;function tl(e,t,n,r={}){function i(o){if(r.capture||ba.call(t,o),!o.cancelBubble)return bs(()=>n==null?void 0:n.call(this,o))}return e.startsWith("pointer")||e.startsWith("touch")||e==="wheel"?On(()=>{t.addEventListener(e,i,r)}):t.addEventListener(e,i,r),i}function ya(e,t,n,r={}){var i=tl(t,e,n,r);return()=>{e.removeEventListener(t,i,r)}}function We(e,t,n,r,i){var o={capture:r,passive:i},s=tl(e,t,n,o);(t===document.body||t===window||t===document||t instanceof HTMLMediaElement)&&mo(()=>{t.removeEventListener(e,s,o)})}function mt(e){for(var t=0;t<e.length;t++)jc.add(e[t]);for(var n of ma)n(e)}let Hl=null;function ba(e){var y;var t=this,n=t.ownerDocument,r=e.type,i=((y=e.composedPath)==null?void 0:y.call(e))||[],o=i[0]||e.target;Hl=e;var s=0,a=Hl===e&&e.__root;if(a){var u=i.indexOf(a);if(u!==-1&&(t===document||t===window)){e.__root=t;return}var d=i.indexOf(t);if(d===-1)return;u<=d&&(s=u)}if(o=i[s]||e.target,o!==t){Vf(e,"currentTarget",{configurable:!0,get(){return o||n}});var c=He,h=Xe;nn(null),rn(null);try{for(var f,g=[];o!==null;){var m=o.assignedSlot||o.parentNode||o.host||null;try{var b=o["__"+r];b!=null&&(!o.disabled||e.target===o)&&b.call(o,e)}catch(E){f?g.push(E):f=E}if(e.cancelBubble||m===t||m===null)break;o=m}if(f){for(let E of g)queueMicrotask(()=>{throw E});throw f}}finally{e.__root=t,delete e.currentTarget,nn(c),rn(h)}}}var ju,Gu;const Ws=(Gu=(ju=globalThis==null?void 0:globalThis.window)==null?void 0:ju.trustedTypes)==null?void 0:Gu.createPolicy("svelte-trusted-html",{createHTML:e=>e});function $h(e){return(Ws==null?void 0:Ws.createHTML(e))??e}function Gc(e,t=!1){var n=Oc("template");return e=e.replaceAll("<!>","<!---->"),n.innerHTML=t?$h(e):e,n.content}function Rr(e,t){var n=Xe;n.nodes===null&&(n.nodes={start:e,end:t,a:null,t:null})}function de(e,t){var n=(t&ic)!==0,r=(t&ah)!==0,i,o=!e.startsWith("<!>");return()=>{i===void 0&&(i=Gc(o?e:"<!>"+e,!0),n||(i=Wn(i)));var s=r||kc?document.importNode(i,!0):i.cloneNode(!0);if(n){var a=Wn(s),u=s.lastChild;Rr(a,u)}else Rr(s,s);return s}}function eg(e,t,n="svg"){var r=!e.startsWith("<!>"),i=(t&ic)!==0,o=`<${n}>${r?e:"<!>"+e}</${n}>`,s;return()=>{if(!s){var a=Gc(o,!0),u=Wn(a);if(i)for(s=document.createDocumentFragment();Wn(u);)s.appendChild(Wn(u));else s=Wn(u)}var d=s.cloneNode(!0);if(i){var c=Wn(d),h=d.lastChild;Rr(c,h)}else Rr(d,d);return d}}function Gt(e,t){return eg(e,t,"svg")}function tg(e=""){{var t=Cn(e+"");return Rr(t,t),t}}function tt(){var e=document.createDocumentFragment(),t=document.createComment(""),n=Cn();return e.append(t,n),Rr(t,n),e}function te(e,t){e!==null&&e.before(t)}function Ye(e,t){var n=t==null?"":typeof t=="object"?t+"":t;n!==(e.__t??(e.__t=e.nodeValue))&&(e.__t=n,e.nodeValue=n+"")}function ng(e,t){return rg(e,t)}const Co=new Map;function rg(e,{target:t,anchor:n,props:r={},events:i,context:o,intro:s=!0}){Ph();var a=new Set,u=h=>{for(var f=0;f<h.length;f++){var g=h[f];if(!a.has(g)){a.add(g);var m=Jh(g);for(const E of[t,document]){var b=Co.get(E);b===void 0&&(b=new Map,Co.set(E,b));var y=b.get(g);y===void 0?(E.addEventListener(g,ba,{passive:m}),b.set(g,1)):b.set(g,y+1)}}}};u(vs(jc)),ma.add(u);var d=void 0,c=Fh(()=>{var h=n??t.appendChild(Cn());return xh(h,{pending:()=>{}},f=>{Ne({});var g=Ue;o&&(g.c=o),i&&(r.$$events=i),d=e(f,r)||{},ke()}),()=>{var b;for(var f of a)for(const y of[t,document]){var g=Co.get(y),m=g.get(f);--m==0?(y.removeEventListener(f,ba),g.delete(f),g.size===0&&Co.delete(y)):g.set(f,m)}ma.delete(u),h!==n&&((b=h.parentNode)==null||b.removeChild(h))}});return ig.set(d,c),d}let ig=new WeakMap;var un,In,Wt,Or,io,oo,fs;class _s{constructor(t,n=!0){nt(this,"anchor");se(this,un,new Map);se(this,In,new Map);se(this,Wt,new Map);se(this,Or,new Set);se(this,io,!0);se(this,oo,()=>{var t=ze;if(L(this,un).has(t)){var n=L(this,un).get(t),r=L(this,In).get(n);if(r)el(r),L(this,Or).delete(n);else{var i=L(this,Wt).get(n);i&&(L(this,In).set(n,i.effect),L(this,Wt).delete(n),i.fragment.lastChild.remove(),this.anchor.before(i.fragment),r=i.effect)}for(const[o,s]of L(this,un)){if(L(this,un).delete(o),o===t)break;const a=L(this,Wt).get(s);a&&(_t(a.effect),L(this,Wt).delete(s))}for(const[o,s]of L(this,In)){if(o===n||L(this,Or).has(o))continue;const a=()=>{if(Array.from(L(this,un).values()).includes(o)){var d=document.createDocumentFragment();Vc(s,d),d.append(Cn()),L(this,Wt).set(o,{effect:s,fragment:d})}else _t(s);L(this,Or).delete(o),L(this,In).delete(o)};L(this,io)||!r?(L(this,Or).add(o),Cr(s,a,!1)):a()}}});se(this,fs,t=>{L(this,un).delete(t);const n=Array.from(L(this,un).values());for(const[r,i]of L(this,Wt))n.includes(r)||(_t(i.effect),L(this,Wt).delete(r))});this.anchor=t,Ae(this,io,n)}ensure(t,n){var r=ze,i=Tc();if(n&&!L(this,In).has(t)&&!L(this,Wt).has(t))if(i){var o=document.createDocumentFragment(),s=Cn();o.append(s),L(this,Wt).set(t,{effect:Ht(()=>n(s)),fragment:o})}else L(this,In).set(t,Ht(()=>n(this.anchor)));if(L(this,un).set(r,t),i){for(const[a,u]of L(this,In))a===t?r.unskip_effect(u):r.skip_effect(u);for(const[a,u]of L(this,Wt))a===t?r.unskip_effect(u.effect):r.skip_effect(u.effect);r.oncommit(L(this,oo)),r.ondiscard(L(this,fs))}else L(this,oo).call(this)}}un=new WeakMap,In=new WeakMap,Wt=new WeakMap,Or=new WeakMap,io=new WeakMap,oo=new WeakMap,fs=new WeakMap;function De(e,t,n=!1){var r=new _s(e),i=n?Qn:0;function o(s,a){r.ensure(s,a)}ki(()=>{var s=!1;t((a,u=0)=>{s=!0,o(u,a)}),s||o(!1,null)},i)}function zt(e,t){return t}function og(e,t,n){for(var r=[],i=t.length,o,s=t.length,a=0;a<i;a++){let h=t[a];Cr(h,()=>{if(o){if(o.pending.delete(h),o.done.add(h),o.pending.size===0){var f=e.outrogroups;_a(vs(o.done)),f.delete(o),f.size===0&&(e.outrogroups=null)}}else s-=1},!1)}if(s===0){var u=r.length===0&&n!==null;if(u){var d=n,c=d.parentNode;Dh(c),c.append(d),e.items.clear()}_a(t,!u)}else o={pending:new Set(t),done:new Set},(e.outrogroups??(e.outrogroups=new Set)).add(o)}function _a(e,t=!0){for(var n=0;n<e.length;n++)_t(e[n],t)}var Kl;function it(e,t,n,r,i,o=null){var s=e,a=new Map,u=(t&nc)!==0;if(u){var d=e;s=d.appendChild(Cn())}var c=null,h=vo(()=>{var E=n();return uo(E)?E:E==null?[]:vs(E)}),f,g=!0;function m(){y.fallback=c,sg(y,f,s,t,r),c!==null&&(f.length===0?c.f&Xn?(c.f^=Xn,zi(c,null,s)):el(c):Cr(c,()=>{c=null}))}var b=ki(()=>{f=l(h);for(var E=f.length,w=new Set,S=ze,p=Tc(),M=0;M<E;M+=1){var A=f[M],I=r(A,M),k=g?null:a.get(I);k?(k.v&&pi(k.v,A),k.i&&pi(k.i,M),p&&S.unskip_effect(k.e)):(k=ag(a,g?s:Kl??(Kl=Cn()),A,I,M,i,t,n),g||(k.e.f|=Xn),a.set(I,k)),w.add(I)}if(E===0&&o&&!c&&(g?c=Ht(()=>o(s)):(c=Ht(()=>o(Kl??(Kl=Cn()))),c.f|=Xn)),E>w.size&&Wf(),!g)if(p){for(const[V,D]of a)w.has(V)||S.skip_effect(D.e);S.oncommit(m),S.ondiscard(()=>{})}else m();l(h)}),y={effect:b,items:a,outrogroups:null,fallback:c};g=!1}function Di(e){for(;e!==null&&!(e.f&mn);)e=e.next;return e}function sg(e,t,n,r,i){var D,N,_,x,v,O,T,P,F;var o=(r&th)!==0,s=t.length,a=e.items,u=Di(e.effect.first),d,c=null,h,f=[],g=[],m,b,y,E;if(o)for(E=0;E<s;E+=1)m=t[E],b=i(m,E),y=a.get(b).e,y.f&Xn||((N=(D=y.nodes)==null?void 0:D.a)==null||N.measure(),(h??(h=new Set)).add(y));for(E=0;E<s;E+=1){if(m=t[E],b=i(m,E),y=a.get(b).e,e.outrogroups!==null)for(const K of e.outrogroups)K.pending.delete(y),K.done.delete(y);if(y.f&Xn)if(y.f^=Xn,y===u)zi(y,null,n);else{var w=c?c.next:u;y===e.effect.last&&(e.effect.last=y.prev),y.prev&&(y.prev.next=y.next),y.next&&(y.next.prev=y.prev),tr(e,c,y),tr(e,y,w),zi(y,w,n),c=y,f=[],g=[],u=Di(c.next);continue}if(y.f&Yt&&(el(y),o&&((x=(_=y.nodes)==null?void 0:_.a)==null||x.unfix(),(h??(h=new Set)).delete(y))),y!==u){if(d!==void 0&&d.has(y)){if(f.length<g.length){var S=g[0],p;c=S.prev;var M=f[0],A=f[f.length-1];for(p=0;p<f.length;p+=1)zi(f[p],S,n);for(p=0;p<g.length;p+=1)d.delete(g[p]);tr(e,M.prev,A.next),tr(e,c,M),tr(e,A,S),u=S,c=A,E-=1,f=[],g=[]}else d.delete(y),zi(y,u,n),tr(e,y.prev,y.next),tr(e,y,c===null?e.effect.first:c.next),tr(e,c,y),c=y;continue}for(f=[],g=[];u!==null&&u!==y;)(d??(d=new Set)).add(u),g.push(u),u=Di(u.next);if(u===null)continue}y.f&Xn||f.push(y),c=y,u=Di(y.next)}if(e.outrogroups!==null){for(const K of e.outrogroups)K.pending.size===0&&(_a(vs(K.done)),(v=e.outrogroups)==null||v.delete(K));e.outrogroups.size===0&&(e.outrogroups=null)}if(u!==null||d!==void 0){var I=[];if(d!==void 0)for(y of d)y.f&Yt||I.push(y);for(;u!==null;)!(u.f&Yt)&&u!==e.fallback&&I.push(u),u=Di(u.next);var k=I.length;if(k>0){var V=r&nc&&s===0?n:null;if(o){for(E=0;E<k;E+=1)(T=(O=I[E].nodes)==null?void 0:O.a)==null||T.measure();for(E=0;E<k;E+=1)(F=(P=I[E].nodes)==null?void 0:P.a)==null||F.fix()}og(e,I,V)}}o&&On(()=>{var K,X;if(h!==void 0)for(y of h)(X=(K=y.nodes)==null?void 0:K.a)==null||X.apply()})}function ag(e,t,n,r,i,o,s,a){var u=s&$f?s&nh?fr(n):Ee(n,!1,!1):null,d=s&eh?fr(i):null;return{v:u,i:d,e:Ht(()=>(o(t,u??n,d??i,a),()=>{e.delete(r)}))}}function zi(e,t,n){if(e.nodes)for(var r=e.nodes.start,i=e.nodes.end,o=t&&!(t.f&Xn)?t.nodes.start:n;r!==null;){var s=po(r);if(o.before(r),r===i)return;r=s}}function tr(e,t,n){t===null?e.effect.first=n:t.next=n,n===null?e.effect.last=t:n.prev=t}function Dn(e,t,n,r,i){var a;var o=(a=t.$$slots)==null?void 0:a[n],s=!1;o===!0&&(o=t.children,s=!0),o===void 0||o(e,s?()=>r:r)}function Rn(e,t,...n){var r=new _s(e);ki(()=>{const i=t()??null;r.ensure(i,i&&(o=>i(o,...n)))},Qn)}function ws(e,t,n){var r=new _s(e);ki(()=>{var i=t()??null;r.ensure(i,i&&(o=>n(o,i)))},Qn)}function lg(e,t,n,r,i,o){var s=null,a=e,u=new _s(a,!1);ki(()=>{const d=t()||null;var c=lh;if(d===null){u.ensure(null,null);return}return u.ensure(d,h=>{if(d){if(s=Oc(d,c),Rr(s,s),r){var f=s.appendChild(Cn());r(s,f)}Xe.nodes.end=s,h.before(s)}}),()=>{}},Qn),mo(()=>{})}function Lt(e,t,n){yo(()=>{var r=Ve(()=>t(e,n==null?void 0:n())||{});if(n&&(r!=null&&r.update)){var i=!1,o={};Ni(()=>{var s=n();Ke(s),i&&ac(o,s)&&(o=s,r.update(s))}),i=!0}if(r!=null&&r.destroy)return()=>r.destroy()})}function ug(e,t){var n=void 0,r;Pc(()=>{n!==(n=t())&&(r&&(_t(r),r=null),n&&(r=Ht(()=>{yo(()=>n(e))})))})}function Uc(e){var t,n,r="";if(typeof e=="string"||typeof e=="number")r+=e;else if(typeof e=="object")if(Array.isArray(e)){var i=e.length;for(t=0;t<i;t++)e[t]&&(n=Uc(e[t]))&&(r&&(r+=" "),r+=n)}else for(n in e)e[n]&&(r&&(r+=" "),r+=n);return r}function cg(){for(var e,t,n=0,r="",i=arguments.length;n<i;n++)(e=arguments[n])&&(t=Uc(e))&&(r&&(r+=" "),r+=t);return r}function Wr(e){return typeof e=="object"?cg(e):e??""}const Bl=[...` 	
\r\fÂ \v\uFEFF`];function dg(e,t,n){var r=e==null?"":""+e;if(t&&(r=r?r+" "+t:t),n){for(var i in n)if(n[i])r=r?r+" "+i:i;else if(r.length)for(var o=i.length,s=0;(s=r.indexOf(i,s))>=0;){var a=s+o;(s===0||Bl.includes(r[s-1]))&&(a===r.length||Bl.includes(r[a]))?r=(s===0?"":r.substring(0,s))+r.substring(a+1):s=a}}return r===""?null:r}function Wl(e,t=!1){var n=t?" !important;":";",r="";for(var i in e){var o=e[i];o!=null&&o!==""&&(r+=" "+i+": "+o+n)}return r}function Ys(e){return e[0]!=="-"||e[1]!=="-"?e.toLowerCase():e}function fg(e,t){if(t){var n="",r,i;if(Array.isArray(t)?(r=t[0],i=t[1]):r=t,e){e=String(e).replaceAll(/\s*\/\*.*?\*\/\s*/g,"").trim();var o=!1,s=0,a=!1,u=[];r&&u.push(...Object.keys(r).map(Ys)),i&&u.push(...Object.keys(i).map(Ys));var d=0,c=-1;const b=e.length;for(var h=0;h<b;h++){var f=e[h];if(a?f==="/"&&e[h-1]==="*"&&(a=!1):o?o===f&&(o=!1):f==="/"&&e[h+1]==="*"?a=!0:f==='"'||f==="'"?o=f:f==="("?s++:f===")"&&s--,!a&&o===!1&&s===0){if(f===":"&&c===-1)c=h;else if(f===";"||h===b-1){if(c!==-1){var g=Ys(e.substring(d,c).trim());if(!u.includes(g)){f!==";"&&h++;var m=e.substring(d,h).trim();n+=" "+m+";"}}d=h+1,c=-1}}}}return r&&(n+=Wl(r)),i&&(n+=Wl(i,!0)),n=n.trim(),n===""?null:n}return e==null?null:String(e)}function Ct(e,t,n,r,i,o){var s=e.__className;if(s!==n||s===void 0){var a=dg(n,r,o);a==null?e.removeAttribute("class"):t?e.className=a:e.setAttribute("class",a),e.__className=n}else if(o&&i!==o)for(var u in o){var d=!!o[u];(i==null||d!==!!i[u])&&e.classList.toggle(u,d)}return o}function Xs(e,t={},n,r){for(var i in n){var o=n[i];t[i]!==o&&(n[i]==null?e.style.removeProperty(i):e.style.setProperty(i,o,r))}}function Ze(e,t,n,r){var i=e.__style;if(i!==t){var o=fg(t,r);o==null?e.removeAttribute("style"):e.style.cssText=o,e.__style=t}else r&&(Array.isArray(r)?(Xs(e,n==null?void 0:n[0],r[0]),Xs(e,n==null?void 0:n[1],r[1],"important")):Xs(e,n,r));return r}function wa(e,t,n=!1){if(e.multiple){if(t==null)return;if(!uo(t))return ch();for(var r of e.options)r.selected=t.includes(Yl(r));return}for(r of e.options){var i=Yl(r);if(Ah(i,t)){r.selected=!0;return}}(!n||t!==void 0)&&(e.selectedIndex=-1)}function hg(e){var t=new MutationObserver(()=>{wa(e,e.__value)});t.observe(e,{childList:!0,subtree:!0,attributes:!0,attributeFilter:["value"]}),mo(()=>{t.disconnect()})}function Yl(e){return"__value"in e?e.__value:e.value}const ir=Symbol("class"),Yn=Symbol("style"),qc=Symbol("is custom element"),Zc=Symbol("is html"),gg=Xa?"option":"OPTION",vg=Xa?"select":"SELECT",pg=Xa?"progress":"PROGRESS";function Ot(e,t){var n=xs(e);n.value===(n.value=t??void 0)||e.value===t&&(t!==0||e.nodeName!==pg)||(e.value=t??"")}function Qc(e,t){var n=xs(e);n.checked!==(n.checked=t??void 0)&&(e.checked=t)}function mg(e,t){t?e.hasAttribute("selected")||e.setAttribute("selected",""):e.removeAttribute("selected")}function ye(e,t,n,r){var i=xs(e);i[t]!==(i[t]=n)&&(t==="loading"&&(e[Kf]=n),n==null?e.removeAttribute(t):typeof n!="string"&&Jc(e).includes(t)?e[t]=n:e.setAttribute(t,n))}function yg(e,t,n,r,i=!1,o=!1){var s=xs(e),a=s[qc],u=!s[Zc],d=t||{},c=e.nodeName===gg;for(var h in t)h in n||(n[h]=null);n.class?n.class=Wr(n.class):(r||n[ir])&&(n.class=null),n[Yn]&&(n.style??(n.style=null));var f=Jc(e);for(const p in n){let M=n[p];if(c&&p==="value"&&M==null){e.value=e.__value="",d[p]=M;continue}if(p==="class"){var g=e.namespaceURI==="http://www.w3.org/1999/xhtml";Ct(e,g,M,r,t==null?void 0:t[ir],n[ir]),d[p]=M,d[ir]=n[ir];continue}if(p==="style"){Ze(e,M,t==null?void 0:t[Yn],n[Yn]),d[p]=M,d[Yn]=n[Yn];continue}var m=d[p];if(!(M===m&&!(M===void 0&&e.hasAttribute(p)))){d[p]=M;var b=p[0]+p[1];if(b!=="$$")if(b==="on"){const A={},I="$$"+p;let k=p.slice(2);var y=Uh(k);if(jh(k)&&(k=k.slice(0,-7),A.capture=!0),!y&&m){if(M!=null)continue;e.removeEventListener(k,d[I],A),d[I]=null}if(M!=null)if(y)e[`__${k}`]=M,mt([k]);else{let V=function(D){d[p].call(this,D)};var S=V;d[I]=tl(k,e,V,A)}else y&&(e[`__${k}`]=void 0)}else if(p==="style")ye(e,p,M);else if(p==="autofocus")Rh(e,!!M);else if(!a&&(p==="__value"||p==="value"&&M!=null))e.value=e.__value=M;else if(p==="selected"&&c)mg(e,M);else{var E=p;u||(E=Zh(E));var w=E==="defaultValue"||E==="defaultChecked";if(M==null&&!a&&!w)if(s[p]=null,E==="value"||E==="checked"){let A=e;const I=t===void 0;if(E==="value"){let k=A.defaultValue;A.removeAttribute(E),A.defaultValue=k,A.value=A.__value=I?k:null}else{let k=A.defaultChecked;A.removeAttribute(E),A.defaultChecked=k,A.checked=I?k:!1}}else e.removeAttribute(p);else w||f.includes(E)&&(a||typeof M!="string")?(e[E]=M,E in s&&(s[E]=bt)):typeof M!="function"&&ye(e,E,M)}}}return d}function vn(e,t,n=[],r=[],i=[],o,s=!1,a=!1){_c(i,n,r,u=>{var d=void 0,c={},h=e.nodeName===vg,f=!1;if(Pc(()=>{var m=t(...u.map(l)),b=yg(e,d,m,o,s,a);f&&h&&"value"in m&&wa(e,m.value);for(let E of Object.getOwnPropertySymbols(c))m[E]||_t(c[E]);for(let E of Object.getOwnPropertySymbols(m)){var y=m[E];E.description===uh&&(!d||y!==d[E])&&(c[E]&&_t(c[E]),c[E]=Ht(()=>ug(e,()=>y))),b[E]=y}d=b}),h){var g=e;yo(()=>{wa(g,d.value,!0),hg(g)})}f=!0})}function xs(e){return e.__attributes??(e.__attributes={[qc]:e.nodeName.includes("-"),[Zc]:e.namespaceURI===oc})}var Xl=new Map;function Jc(e){var t=e.getAttribute("is")||e.nodeName,n=Xl.get(t);if(n)return n;Xl.set(t,n=[]);for(var r,i=e,o=Element.prototype;o!==i;){r=qu(i);for(var s in r)r[s].set&&n.push(s);i=ps(i)}return n}function $c(e,t,n=t){var r=new WeakSet;zh(e,"input",async i=>{var o=i?e.defaultValue:e.value;if(o=js(e)?Gs(o):o,n(o),ze!==null&&r.add(ze),await ct(),o!==(o=t())){var s=e.selectionStart,a=e.selectionEnd,u=e.value.length;if(e.value=o??"",a!==null){var d=e.value.length;s===a&&a===u&&d>u?(e.selectionStart=d,e.selectionEnd=d):(e.selectionStart=s,e.selectionEnd=Math.min(a,d))}}}),Ve(t)==null&&e.value&&(n(js(e)?Gs(e.value):e.value),ze!==null&&r.add(ze)),Ni(()=>{var i=t();if(e===document.activeElement){var o=la??ze;if(r.has(o))return}js(e)&&i===Gs(e.value)||e.type==="date"&&!i&&!e.value||i!==e.value&&(e.value=i??"")})}function js(e){var t=e.type;return t==="number"||t==="range"}function Gs(e){return e===""?null:+e}function bg(e,t,n){var r=Un(e,t);r&&r.set&&(e[t]=n,mo(()=>{e[t]=null}))}var lr,fi,so,hs,ed;const gs=class gs{constructor(t){se(this,hs);se(this,lr,new WeakMap);se(this,fi);se(this,so);Ae(this,so,t)}observe(t,n){var r=L(this,lr).get(t)||new Set;return r.add(n),L(this,lr).set(t,r),xt(this,hs,ed).call(this).observe(t,L(this,so)),()=>{var i=L(this,lr).get(t);i.delete(n),i.size===0&&(L(this,lr).delete(t),L(this,fi).unobserve(t))}}};lr=new WeakMap,fi=new WeakMap,so=new WeakMap,hs=new WeakSet,ed=function(){return L(this,fi)??Ae(this,fi,new ResizeObserver(t=>{for(var n of t){gs.entries.set(n.target,n);for(var r of L(this,lr).get(n.target)||[])r(n)}}))},nt(gs,"entries",new WeakMap);let xa=gs;var _g=new xa({box:"border-box"});function jl(e,t,n){var r=_g.observe(e,()=>n(e[t]));yo(()=>(Ve(()=>n(e[t])),r))}function Gl(e,t){return e===t||(e==null?void 0:e[Tn])===t}function lt(e={},t,n,r){return yo(()=>{var i,o;return Ni(()=>{i=o,o=[],Ve(()=>{e!==n(...o)&&(t(e,...o),i&&Gl(n(...i),e)&&t(null,...i))})}),()=>{On(()=>{o&&Gl(n(...o),e)&&t(null,...o)})}}),e}function Ln(e=!1){const t=Ue,n=t.l.u;if(!n)return;let r=()=>Ke(t.s);if(e){let i=0,o={};const s=go(()=>{let a=!1;const u=t.s;for(const d in u)u[d]!==o[d]&&(o[d]=u[d],a=!0);return a&&i++,i});r=()=>l(s)}n.b.length&&Ja(()=>{Ul(t,r),sa(n.b)}),et(()=>{const i=Ve(()=>n.m.map(Hf));return()=>{for(const o of i)typeof o=="function"&&o()}}),n.a.length&&et(()=>{Ul(t,r),sa(n.a)})}function Ul(e,t){if(e.l.s)for(const n of e.l.s)l(n);t()}let Mo=!1;function wg(e){var t=Mo;try{return Mo=!1,[e(),Mo]}finally{Mo=t}}const xg={get(e,t){if(!e.exclude.includes(t))return e.props[t]},set(e,t){return!1},getOwnPropertyDescriptor(e,t){if(!e.exclude.includes(t)&&t in e.props)return{enumerable:!0,configurable:!0,value:e.props[t]}},has(e,t){return e.exclude.includes(t)?!1:t in e.props},ownKeys(e){return Reflect.ownKeys(e.props).filter(t=>!e.exclude.includes(t))}};function Yr(e,t,n){return new Proxy({props:e,exclude:t},xg)}const Eg={get(e,t){if(!e.exclude.includes(t))return l(e.version),t in e.special?e.special[t]():e.props[t]},set(e,t,n){if(!(t in e.special)){var r=Xe;try{rn(e.parent_effect),e.special[t]=ee({get[t](){return e.props[t]}},t,rc)}finally{rn(r)}}return e.special[t](n),Rl(e.version),!0},getOwnPropertyDescriptor(e,t){if(!e.exclude.includes(t)&&t in e.props)return{enumerable:!0,configurable:!0,value:e.props[t]}},deleteProperty(e,t){return e.exclude.includes(t)||(e.exclude.push(t),Rl(e.version)),!0},has(e,t){return e.exclude.includes(t)?!1:t in e.props},ownKeys(e){return Reflect.ownKeys(e.props).filter(t=>!e.exclude.includes(t))}};function on(e,t){return new Proxy({props:e,exclude:t,special:{},version:fr(0),parent_effect:Xe},Eg)}const Ng={get(e,t){let n=e.props.length;for(;n--;){let r=e.props[n];if(Pi(r)&&(r=r()),typeof r=="object"&&r!==null&&t in r)return r[t]}},set(e,t,n){let r=e.props.length;for(;r--;){let i=e.props[r];Pi(i)&&(i=i());const o=Un(i,t);if(o&&o.set)return o.set(n),!0}return!1},getOwnPropertyDescriptor(e,t){let n=e.props.length;for(;n--;){let r=e.props[n];if(Pi(r)&&(r=r()),typeof r=="object"&&r!==null&&t in r){const i=Un(r,t);return i&&!i.configurable&&(i.configurable=!0),i}}},has(e,t){if(t===Tn||t===tc)return!1;for(let n of e.props)if(Pi(n)&&(n=n()),n!=null&&t in n)return!0;return!1},ownKeys(e){const t=[];for(let n of e.props)if(Pi(n)&&(n=n()),!!n){for(const r in n)t.includes(r)||t.push(r);for(const r of Object.getOwnPropertySymbols(n))t.includes(r)||t.push(r)}return t}};function Xt(...e){return new Proxy({props:e},Ng)}function ee(e,t,n,r){var S;var i=!Ei||(n&ih)!==0,o=(n&oh)!==0,s=(n&sh)!==0,a=r,u=!0,d=()=>(u&&(u=!1,a=s?Ve(r):r),a),c;if(o){var h=Tn in e||tc in e;c=((S=Un(e,t))==null?void 0:S.set)??(h&&t in e?p=>e[t]=p:void 0)}var f,g=!1;o?[f,g]=wg(()=>e[t]):f=e[t],f===void 0&&r!==void 0&&(f=d(),c&&(i&&Uf(),c(f)));var m;if(i?m=()=>{var p=e[t];return p===void 0?d():(u=!0,p)}:m=()=>{var p=e[t];return p!==void 0&&(a=void 0),p===void 0?a:p},i&&!(n&rc))return m;if(c){var b=e.$$legacy;return function(p,M){return arguments.length>0?((!i||!M||b||g)&&c(M?m():p),p):m()}}var y=!1,E=(n&rh?go:vo)(()=>(y=!1,m()));o&&l(E);var w=Xe;return function(p,M){if(arguments.length>0){const A=M?l(E):i&&o?fn(p):p;return W(E,A),y=!0,a!==void 0&&(a=A),p}return hr&&y||w.f&qn?E.v:l(E)}}function nl(e){Ue===null&&ms(),Ei&&Ue.l!==null?Ig(Ue).m.push(e):et(()=>{const t=Ve(e);if(typeof t=="function")return t})}function bo(e){Ue===null&&ms(),nl(()=>()=>Ve(e))}function kg(e,t,{bubbles:n=!1,cancelable:r=!1}={}){return new CustomEvent(e,{detail:t,bubbles:n,cancelable:r})}function Es(){const e=Ue;return e===null&&ms(),(t,n,r)=>{var o;const i=(o=e.s.$$events)==null?void 0:o[t];if(i){const s=uo(i)?i.slice():[i],a=kg(t,n,r);for(const u of s)u.call(e.x,a);return!a.defaultPrevented}return!0}}function Ig(e){var t=e.l;return t.u??(t.u={a:[],b:[],m:[]})}const Sg="5";var Uu;typeof window<"u"&&((Uu=window.__svelte??(window.__svelte={})).v??(Uu.v=new Set)).add(Sg);var Tg={value:()=>{}};function Ns(){for(var e=0,t=arguments.length,n={},r;e<t;++e){if(!(r=arguments[e]+"")||r in n||/[\s.]/.test(r))throw new Error("illegal type: "+r);n[r]=[]}return new Wo(n)}function Wo(e){this._=e}function Og(e,t){return e.trim().split(/^|\s+/).map(function(n){var r="",i=n.indexOf(".");if(i>=0&&(r=n.slice(i+1),n=n.slice(0,i)),n&&!t.hasOwnProperty(n))throw new Error("unknown type: "+n);return{type:n,name:r}})}Wo.prototype=Ns.prototype={constructor:Wo,on:function(e,t){var n=this._,r=Og(e+"",n),i,o=-1,s=r.length;if(arguments.length<2){for(;++o<s;)if((i=(e=r[o]).type)&&(i=Cg(n[i],e.name)))return i;return}if(t!=null&&typeof t!="function")throw new Error("invalid callback: "+t);for(;++o<s;)if(i=(e=r[o]).type)n[i]=ql(n[i],e.name,t);else if(t==null)for(i in n)n[i]=ql(n[i],e.name,null);return this},copy:function(){var e={},t=this._;for(var n in t)e[n]=t[n].slice();return new Wo(e)},call:function(e,t){if((i=arguments.length-2)>0)for(var n=new Array(i),r=0,i,o;r<i;++r)n[r]=arguments[r+2];if(!this._.hasOwnProperty(e))throw new Error("unknown type: "+e);for(o=this._[e],r=0,i=o.length;r<i;++r)o[r].value.apply(t,n)},apply:function(e,t,n){if(!this._.hasOwnProperty(e))throw new Error("unknown type: "+e);for(var r=this._[e],i=0,o=r.length;i<o;++i)r[i].value.apply(t,n)}};function Cg(e,t){for(var n=0,r=e.length,i;n<r;++n)if((i=e[n]).name===t)return i.value}function ql(e,t,n){for(var r=0,i=e.length;r<i;++r)if(e[r].name===t){e[r]=Tg,e=e.slice(0,r).concat(e.slice(r+1));break}return n!=null&&e.push({name:t,value:n}),e}var Ea="http://www.w3.org/1999/xhtml";const Zl={svg:"http://www.w3.org/2000/svg",xhtml:Ea,xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/"};function ks(e){var t=e+="",n=t.indexOf(":");return n>=0&&(t=e.slice(0,n))!=="xmlns"&&(e=e.slice(n+1)),Zl.hasOwnProperty(t)?{space:Zl[t],local:e}:e}function Mg(e){return function(){var t=this.ownerDocument,n=this.namespaceURI;return n===Ea&&t.documentElement.namespaceURI===Ea?t.createElement(e):t.createElementNS(n,e)}}function Ag(e){return function(){return this.ownerDocument.createElementNS(e.space,e.local)}}function td(e){var t=ks(e);return(t.local?Ag:Mg)(t)}function Pg(){}function rl(e){return e==null?Pg:function(){return this.querySelector(e)}}function Dg(e){typeof e!="function"&&(e=rl(e));for(var t=this._groups,n=t.length,r=new Array(n),i=0;i<n;++i)for(var o=t[i],s=o.length,a=r[i]=new Array(s),u,d,c=0;c<s;++c)(u=o[c])&&(d=e.call(u,u.__data__,c,o))&&("__data__"in u&&(d.__data__=u.__data__),a[c]=d);return new jt(r,this._parents)}function Rg(e){return e==null?[]:Array.isArray(e)?e:Array.from(e)}function Lg(){return[]}function nd(e){return e==null?Lg:function(){return this.querySelectorAll(e)}}function zg(e){return function(){return Rg(e.apply(this,arguments))}}function Vg(e){typeof e=="function"?e=zg(e):e=nd(e);for(var t=this._groups,n=t.length,r=[],i=[],o=0;o<n;++o)for(var s=t[o],a=s.length,u,d=0;d<a;++d)(u=s[d])&&(r.push(e.call(u,u.__data__,d,s)),i.push(u));return new jt(r,i)}function rd(e){return function(){return this.matches(e)}}function id(e){return function(t){return t.matches(e)}}var Fg=Array.prototype.find;function Hg(e){return function(){return Fg.call(this.children,e)}}function Kg(){return this.firstElementChild}function Bg(e){return this.select(e==null?Kg:Hg(typeof e=="function"?e:id(e)))}var Wg=Array.prototype.filter;function Yg(){return Array.from(this.children)}function Xg(e){return function(){return Wg.call(this.children,e)}}function jg(e){return this.selectAll(e==null?Yg:Xg(typeof e=="function"?e:id(e)))}function Gg(e){typeof e!="function"&&(e=rd(e));for(var t=this._groups,n=t.length,r=new Array(n),i=0;i<n;++i)for(var o=t[i],s=o.length,a=r[i]=[],u,d=0;d<s;++d)(u=o[d])&&e.call(u,u.__data__,d,o)&&a.push(u);return new jt(r,this._parents)}function od(e){return new Array(e.length)}function Ug(){return new jt(this._enter||this._groups.map(od),this._parents)}function qo(e,t){this.ownerDocument=e.ownerDocument,this.namespaceURI=e.namespaceURI,this._next=null,this._parent=e,this.__data__=t}qo.prototype={constructor:qo,appendChild:function(e){return this._parent.insertBefore(e,this._next)},insertBefore:function(e,t){return this._parent.insertBefore(e,t)},querySelector:function(e){return this._parent.querySelector(e)},querySelectorAll:function(e){return this._parent.querySelectorAll(e)}};function qg(e){return function(){return e}}function Zg(e,t,n,r,i,o){for(var s=0,a,u=t.length,d=o.length;s<d;++s)(a=t[s])?(a.__data__=o[s],r[s]=a):n[s]=new qo(e,o[s]);for(;s<u;++s)(a=t[s])&&(i[s]=a)}function Qg(e,t,n,r,i,o,s){var a,u,d=new Map,c=t.length,h=o.length,f=new Array(c),g;for(a=0;a<c;++a)(u=t[a])&&(f[a]=g=s.call(u,u.__data__,a,t)+"",d.has(g)?i[a]=u:d.set(g,u));for(a=0;a<h;++a)g=s.call(e,o[a],a,o)+"",(u=d.get(g))?(r[a]=u,u.__data__=o[a],d.delete(g)):n[a]=new qo(e,o[a]);for(a=0;a<c;++a)(u=t[a])&&d.get(f[a])===u&&(i[a]=u)}function Jg(e){return e.__data__}function $g(e,t){if(!arguments.length)return Array.from(this,Jg);var n=t?Qg:Zg,r=this._parents,i=this._groups;typeof e!="function"&&(e=qg(e));for(var o=i.length,s=new Array(o),a=new Array(o),u=new Array(o),d=0;d<o;++d){var c=r[d],h=i[d],f=h.length,g=ev(e.call(c,c&&c.__data__,d,r)),m=g.length,b=a[d]=new Array(m),y=s[d]=new Array(m),E=u[d]=new Array(f);n(c,h,b,y,E,g,t);for(var w=0,S=0,p,M;w<m;++w)if(p=b[w]){for(w>=S&&(S=w+1);!(M=y[S])&&++S<m;);p._next=M||null}}return s=new jt(s,r),s._enter=a,s._exit=u,s}function ev(e){return typeof e=="object"&&"length"in e?e:Array.from(e)}function tv(){return new jt(this._exit||this._groups.map(od),this._parents)}function nv(e,t,n){var r=this.enter(),i=this,o=this.exit();return typeof e=="function"?(r=e(r),r&&(r=r.selection())):r=r.append(e+""),t!=null&&(i=t(i),i&&(i=i.selection())),n==null?o.remove():n(o),r&&i?r.merge(i).order():i}function rv(e){for(var t=e.selection?e.selection():e,n=this._groups,r=t._groups,i=n.length,o=r.length,s=Math.min(i,o),a=new Array(i),u=0;u<s;++u)for(var d=n[u],c=r[u],h=d.length,f=a[u]=new Array(h),g,m=0;m<h;++m)(g=d[m]||c[m])&&(f[m]=g);for(;u<i;++u)a[u]=n[u];return new jt(a,this._parents)}function iv(){for(var e=this._groups,t=-1,n=e.length;++t<n;)for(var r=e[t],i=r.length-1,o=r[i],s;--i>=0;)(s=r[i])&&(o&&s.compareDocumentPosition(o)^4&&o.parentNode.insertBefore(s,o),o=s);return this}function ov(e){e||(e=sv);function t(h,f){return h&&f?e(h.__data__,f.__data__):!h-!f}for(var n=this._groups,r=n.length,i=new Array(r),o=0;o<r;++o){for(var s=n[o],a=s.length,u=i[o]=new Array(a),d,c=0;c<a;++c)(d=s[c])&&(u[c]=d);u.sort(t)}return new jt(i,this._parents).order()}function sv(e,t){return e<t?-1:e>t?1:e>=t?0:NaN}function av(){var e=arguments[0];return arguments[0]=this,e.apply(null,arguments),this}function lv(){return Array.from(this)}function uv(){for(var e=this._groups,t=0,n=e.length;t<n;++t)for(var r=e[t],i=0,o=r.length;i<o;++i){var s=r[i];if(s)return s}return null}function cv(){let e=0;for(const t of this)++e;return e}function dv(){return!this.node()}function fv(e){for(var t=this._groups,n=0,r=t.length;n<r;++n)for(var i=t[n],o=0,s=i.length,a;o<s;++o)(a=i[o])&&e.call(a,a.__data__,o,i);return this}function hv(e){return function(){this.removeAttribute(e)}}function gv(e){return function(){this.removeAttributeNS(e.space,e.local)}}function vv(e,t){return function(){this.setAttribute(e,t)}}function pv(e,t){return function(){this.setAttributeNS(e.space,e.local,t)}}function mv(e,t){return function(){var n=t.apply(this,arguments);n==null?this.removeAttribute(e):this.setAttribute(e,n)}}function yv(e,t){return function(){var n=t.apply(this,arguments);n==null?this.removeAttributeNS(e.space,e.local):this.setAttributeNS(e.space,e.local,n)}}function bv(e,t){var n=ks(e);if(arguments.length<2){var r=this.node();return n.local?r.getAttributeNS(n.space,n.local):r.getAttribute(n)}return this.each((t==null?n.local?gv:hv:typeof t=="function"?n.local?yv:mv:n.local?pv:vv)(n,t))}function sd(e){return e.ownerDocument&&e.ownerDocument.defaultView||e.document&&e||e.defaultView}function _v(e){return function(){this.style.removeProperty(e)}}function wv(e,t,n){return function(){this.style.setProperty(e,t,n)}}function xv(e,t,n){return function(){var r=t.apply(this,arguments);r==null?this.style.removeProperty(e):this.style.setProperty(e,r,n)}}function Ev(e,t,n){return arguments.length>1?this.each((t==null?_v:typeof t=="function"?xv:wv)(e,t,n??"")):mi(this.node(),e)}function mi(e,t){return e.style.getPropertyValue(t)||sd(e).getComputedStyle(e,null).getPropertyValue(t)}function Nv(e){return function(){delete this[e]}}function kv(e,t){return function(){this[e]=t}}function Iv(e,t){return function(){var n=t.apply(this,arguments);n==null?delete this[e]:this[e]=n}}function Sv(e,t){return arguments.length>1?this.each((t==null?Nv:typeof t=="function"?Iv:kv)(e,t)):this.node()[e]}function ad(e){return e.trim().split(/^|\s+/)}function il(e){return e.classList||new ld(e)}function ld(e){this._node=e,this._names=ad(e.getAttribute("class")||"")}ld.prototype={add:function(e){var t=this._names.indexOf(e);t<0&&(this._names.push(e),this._node.setAttribute("class",this._names.join(" ")))},remove:function(e){var t=this._names.indexOf(e);t>=0&&(this._names.splice(t,1),this._node.setAttribute("class",this._names.join(" ")))},contains:function(e){return this._names.indexOf(e)>=0}};function ud(e,t){for(var n=il(e),r=-1,i=t.length;++r<i;)n.add(t[r])}function cd(e,t){for(var n=il(e),r=-1,i=t.length;++r<i;)n.remove(t[r])}function Tv(e){return function(){ud(this,e)}}function Ov(e){return function(){cd(this,e)}}function Cv(e,t){return function(){(t.apply(this,arguments)?ud:cd)(this,e)}}function Mv(e,t){var n=ad(e+"");if(arguments.length<2){for(var r=il(this.node()),i=-1,o=n.length;++i<o;)if(!r.contains(n[i]))return!1;return!0}return this.each((typeof t=="function"?Cv:t?Tv:Ov)(n,t))}function Av(){this.textContent=""}function Pv(e){return function(){this.textContent=e}}function Dv(e){return function(){var t=e.apply(this,arguments);this.textContent=t??""}}function Rv(e){return arguments.length?this.each(e==null?Av:(typeof e=="function"?Dv:Pv)(e)):this.node().textContent}function Lv(){this.innerHTML=""}function zv(e){return function(){this.innerHTML=e}}function Vv(e){return function(){var t=e.apply(this,arguments);this.innerHTML=t??""}}function Fv(e){return arguments.length?this.each(e==null?Lv:(typeof e=="function"?Vv:zv)(e)):this.node().innerHTML}function Hv(){this.nextSibling&&this.parentNode.appendChild(this)}function Kv(){return this.each(Hv)}function Bv(){this.previousSibling&&this.parentNode.insertBefore(this,this.parentNode.firstChild)}function Wv(){return this.each(Bv)}function Yv(e){var t=typeof e=="function"?e:td(e);return this.select(function(){return this.appendChild(t.apply(this,arguments))})}function Xv(){return null}function jv(e,t){var n=typeof e=="function"?e:td(e),r=t==null?Xv:typeof t=="function"?t:rl(t);return this.select(function(){return this.insertBefore(n.apply(this,arguments),r.apply(this,arguments)||null)})}function Gv(){var e=this.parentNode;e&&e.removeChild(this)}function Uv(){return this.each(Gv)}function qv(){var e=this.cloneNode(!1),t=this.parentNode;return t?t.insertBefore(e,this.nextSibling):e}function Zv(){var e=this.cloneNode(!0),t=this.parentNode;return t?t.insertBefore(e,this.nextSibling):e}function Qv(e){return this.select(e?Zv:qv)}function Jv(e){return arguments.length?this.property("__data__",e):this.node().__data__}function $v(e){return function(t){e.call(this,t,this.__data__)}}function ep(e){return e.trim().split(/^|\s+/).map(function(t){var n="",r=t.indexOf(".");return r>=0&&(n=t.slice(r+1),t=t.slice(0,r)),{type:t,name:n}})}function tp(e){return function(){var t=this.__on;if(t){for(var n=0,r=-1,i=t.length,o;n<i;++n)o=t[n],(!e.type||o.type===e.type)&&o.name===e.name?this.removeEventListener(o.type,o.listener,o.options):t[++r]=o;++r?t.length=r:delete this.__on}}}function np(e,t,n){return function(){var r=this.__on,i,o=$v(t);if(r){for(var s=0,a=r.length;s<a;++s)if((i=r[s]).type===e.type&&i.name===e.name){this.removeEventListener(i.type,i.listener,i.options),this.addEventListener(i.type,i.listener=o,i.options=n),i.value=t;return}}this.addEventListener(e.type,o,n),i={type:e.type,name:e.name,value:t,listener:o,options:n},r?r.push(i):this.__on=[i]}}function rp(e,t,n){var r=ep(e+""),i,o=r.length,s;if(arguments.length<2){var a=this.node().__on;if(a){for(var u=0,d=a.length,c;u<d;++u)for(i=0,c=a[u];i<o;++i)if((s=r[i]).type===c.type&&s.name===c.name)return c.value}return}for(a=t?np:tp,i=0;i<o;++i)this.each(a(r[i],t,n));return this}function dd(e,t,n){var r=sd(e),i=r.CustomEvent;typeof i=="function"?i=new i(t,n):(i=r.document.createEvent("Event"),n?(i.initEvent(t,n.bubbles,n.cancelable),i.detail=n.detail):i.initEvent(t,!1,!1)),e.dispatchEvent(i)}function ip(e,t){return function(){return dd(this,e,t)}}function op(e,t){return function(){return dd(this,e,t.apply(this,arguments))}}function sp(e,t){return this.each((typeof t=="function"?op:ip)(e,t))}function*ap(){for(var e=this._groups,t=0,n=e.length;t<n;++t)for(var r=e[t],i=0,o=r.length,s;i<o;++i)(s=r[i])&&(yield s)}var fd=[null];function jt(e,t){this._groups=e,this._parents=t}function _o(){return new jt([[document.documentElement]],fd)}function lp(){return this}jt.prototype=_o.prototype={constructor:jt,select:Dg,selectAll:Vg,selectChild:Bg,selectChildren:jg,filter:Gg,data:$g,enter:Ug,exit:tv,join:nv,merge:rv,selection:lp,order:iv,sort:ov,call:av,nodes:lv,node:uv,size:cv,empty:dv,each:fv,attr:bv,style:Ev,property:Sv,classed:Mv,text:Rv,html:Fv,raise:Kv,lower:Wv,append:Yv,insert:jv,remove:Uv,clone:Qv,datum:Jv,on:rp,dispatch:sp,[Symbol.iterator]:ap};function Jt(e){return typeof e=="string"?new jt([[document.querySelector(e)]],[document.documentElement]):new jt([[e]],fd)}function up(e){let t;for(;t=e.sourceEvent;)e=t;return e}function xn(e,t){if(e=up(e),t===void 0&&(t=e.currentTarget),t){var n=t.ownerSVGElement||t;if(n.createSVGPoint){var r=n.createSVGPoint();return r.x=e.clientX,r.y=e.clientY,r=r.matrixTransform(t.getScreenCTM().inverse()),[r.x,r.y]}if(t.getBoundingClientRect){var i=t.getBoundingClientRect();return[e.clientX-i.left-t.clientLeft,e.clientY-i.top-t.clientTop]}}return[e.pageX,e.pageY]}const cp={passive:!1},Gi={capture:!0,passive:!1};function Us(e){e.stopImmediatePropagation()}function ti(e){e.preventDefault(),e.stopImmediatePropagation()}function hd(e){var t=e.document.documentElement,n=Jt(e).on("dragstart.drag",ti,Gi);"onselectstart"in t?n.on("selectstart.drag",ti,Gi):(t.__noselect=t.style.MozUserSelect,t.style.MozUserSelect="none")}function gd(e,t){var n=e.document.documentElement,r=Jt(e).on("dragstart.drag",null);t&&(r.on("click.drag",ti,Gi),setTimeout(function(){r.on("click.drag",null)},0)),"onselectstart"in n?r.on("selectstart.drag",null):(n.style.MozUserSelect=n.__noselect,delete n.__noselect)}const Ao=e=>()=>e;function Na(e,{sourceEvent:t,subject:n,target:r,identifier:i,active:o,x:s,y:a,dx:u,dy:d,dispatch:c}){Object.defineProperties(this,{type:{value:e,enumerable:!0,configurable:!0},sourceEvent:{value:t,enumerable:!0,configurable:!0},subject:{value:n,enumerable:!0,configurable:!0},target:{value:r,enumerable:!0,configurable:!0},identifier:{value:i,enumerable:!0,configurable:!0},active:{value:o,enumerable:!0,configurable:!0},x:{value:s,enumerable:!0,configurable:!0},y:{value:a,enumerable:!0,configurable:!0},dx:{value:u,enumerable:!0,configurable:!0},dy:{value:d,enumerable:!0,configurable:!0},_:{value:c}})}Na.prototype.on=function(){var e=this._.on.apply(this._,arguments);return e===this._?this:e};function dp(e){return!e.ctrlKey&&!e.button}function fp(){return this.parentNode}function hp(e,t){return t??{x:e.x,y:e.y}}function gp(){return navigator.maxTouchPoints||"ontouchstart"in this}function vd(){var e=dp,t=fp,n=hp,r=gp,i={},o=Ns("start","drag","end"),s=0,a,u,d,c,h=0;function f(p){p.on("mousedown.drag",g).filter(r).on("touchstart.drag",y).on("touchmove.drag",E,cp).on("touchend.drag touchcancel.drag",w).style("touch-action","none").style("-webkit-tap-highlight-color","rgba(0,0,0,0)")}function g(p,M){if(!(c||!e.call(this,p,M))){var A=S(this,t.call(this,p,M),p,M,"mouse");A&&(Jt(p.view).on("mousemove.drag",m,Gi).on("mouseup.drag",b,Gi),hd(p.view),Us(p),d=!1,a=p.clientX,u=p.clientY,A("start",p))}}function m(p){if(ti(p),!d){var M=p.clientX-a,A=p.clientY-u;d=M*M+A*A>h}i.mouse("drag",p)}function b(p){Jt(p.view).on("mousemove.drag mouseup.drag",null),gd(p.view,d),ti(p),i.mouse("end",p)}function y(p,M){if(e.call(this,p,M)){var A=p.changedTouches,I=t.call(this,p,M),k=A.length,V,D;for(V=0;V<k;++V)(D=S(this,I,p,M,A[V].identifier,A[V]))&&(Us(p),D("start",p,A[V]))}}function E(p){var M=p.changedTouches,A=M.length,I,k;for(I=0;I<A;++I)(k=i[M[I].identifier])&&(ti(p),k("drag",p,M[I]))}function w(p){var M=p.changedTouches,A=M.length,I,k;for(c&&clearTimeout(c),c=setTimeout(function(){c=null},500),I=0;I<A;++I)(k=i[M[I].identifier])&&(Us(p),k("end",p,M[I]))}function S(p,M,A,I,k,V){var D=o.copy(),N=xn(V||A,M),_,x,v;if((v=n.call(p,new Na("beforestart",{sourceEvent:A,target:f,identifier:k,active:s,x:N[0],y:N[1],dx:0,dy:0,dispatch:D}),I))!=null)return _=v.x-N[0]||0,x=v.y-N[1]||0,function O(T,P,F){var K=N,X;switch(T){case"start":i[k]=O,X=s++;break;case"end":delete i[k],--s;case"drag":N=xn(F||P,M),X=s;break}D.call(T,p,new Na(T,{sourceEvent:P,subject:v,target:f,identifier:k,active:X,x:N[0]+_,y:N[1]+x,dx:N[0]-K[0],dy:N[1]-K[1],dispatch:D}),I)}}return f.filter=function(p){return arguments.length?(e=typeof p=="function"?p:Ao(!!p),f):e},f.container=function(p){return arguments.length?(t=typeof p=="function"?p:Ao(p),f):t},f.subject=function(p){return arguments.length?(n=typeof p=="function"?p:Ao(p),f):n},f.touchable=function(p){return arguments.length?(r=typeof p=="function"?p:Ao(!!p),f):r},f.on=function(){var p=o.on.apply(o,arguments);return p===o?f:p},f.clickDistance=function(p){return arguments.length?(h=(p=+p)*p,f):Math.sqrt(h)},f}function ol(e,t,n){e.prototype=t.prototype=n,n.constructor=e}function pd(e,t){var n=Object.create(e.prototype);for(var r in t)n[r]=t[r];return n}function wo(){}var Ui=.7,Zo=1/Ui,ni="\\s*([+-]?\\d+)\\s*",qi="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)\\s*",Mn="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*",vp=/^#([0-9a-f]{3,8})$/,pp=new RegExp(`^rgb\\(${ni},${ni},${ni}\\)$`),mp=new RegExp(`^rgb\\(${Mn},${Mn},${Mn}\\)$`),yp=new RegExp(`^rgba\\(${ni},${ni},${ni},${qi}\\)$`),bp=new RegExp(`^rgba\\(${Mn},${Mn},${Mn},${qi}\\)$`),_p=new RegExp(`^hsl\\(${qi},${Mn},${Mn}\\)$`),wp=new RegExp(`^hsla\\(${qi},${Mn},${Mn},${qi}\\)$`),Ql={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};ol(wo,Lr,{copy(e){return Object.assign(new this.constructor,this,e)},displayable(){return this.rgb().displayable()},hex:Jl,formatHex:Jl,formatHex8:xp,formatHsl:Ep,formatRgb:$l,toString:$l});function Jl(){return this.rgb().formatHex()}function xp(){return this.rgb().formatHex8()}function Ep(){return md(this).formatHsl()}function $l(){return this.rgb().formatRgb()}function Lr(e){var t,n;return e=(e+"").trim().toLowerCase(),(t=vp.exec(e))?(n=t[1].length,t=parseInt(t[1],16),n===6?eu(t):n===3?new Kt(t>>8&15|t>>4&240,t>>4&15|t&240,(t&15)<<4|t&15,1):n===8?Po(t>>24&255,t>>16&255,t>>8&255,(t&255)/255):n===4?Po(t>>12&15|t>>8&240,t>>8&15|t>>4&240,t>>4&15|t&240,((t&15)<<4|t&15)/255):null):(t=pp.exec(e))?new Kt(t[1],t[2],t[3],1):(t=mp.exec(e))?new Kt(t[1]*255/100,t[2]*255/100,t[3]*255/100,1):(t=yp.exec(e))?Po(t[1],t[2],t[3],t[4]):(t=bp.exec(e))?Po(t[1]*255/100,t[2]*255/100,t[3]*255/100,t[4]):(t=_p.exec(e))?ru(t[1],t[2]/100,t[3]/100,1):(t=wp.exec(e))?ru(t[1],t[2]/100,t[3]/100,t[4]):Ql.hasOwnProperty(e)?eu(Ql[e]):e==="transparent"?new Kt(NaN,NaN,NaN,0):null}function eu(e){return new Kt(e>>16&255,e>>8&255,e&255,1)}function Po(e,t,n,r){return r<=0&&(e=t=n=NaN),new Kt(e,t,n,r)}function Np(e){return e instanceof wo||(e=Lr(e)),e?(e=e.rgb(),new Kt(e.r,e.g,e.b,e.opacity)):new Kt}function ka(e,t,n,r){return arguments.length===1?Np(e):new Kt(e,t,n,r??1)}function Kt(e,t,n,r){this.r=+e,this.g=+t,this.b=+n,this.opacity=+r}ol(Kt,ka,pd(wo,{brighter(e){return e=e==null?Zo:Math.pow(Zo,e),new Kt(this.r*e,this.g*e,this.b*e,this.opacity)},darker(e){return e=e==null?Ui:Math.pow(Ui,e),new Kt(this.r*e,this.g*e,this.b*e,this.opacity)},rgb(){return this},clamp(){return new Kt(Ar(this.r),Ar(this.g),Ar(this.b),Qo(this.opacity))},displayable(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:tu,formatHex:tu,formatHex8:kp,formatRgb:nu,toString:nu}));function tu(){return`#${Er(this.r)}${Er(this.g)}${Er(this.b)}`}function kp(){return`#${Er(this.r)}${Er(this.g)}${Er(this.b)}${Er((isNaN(this.opacity)?1:this.opacity)*255)}`}function nu(){const e=Qo(this.opacity);return`${e===1?"rgb(":"rgba("}${Ar(this.r)}, ${Ar(this.g)}, ${Ar(this.b)}${e===1?")":`, ${e})`}`}function Qo(e){return isNaN(e)?1:Math.max(0,Math.min(1,e))}function Ar(e){return Math.max(0,Math.min(255,Math.round(e)||0))}function Er(e){return e=Ar(e),(e<16?"0":"")+e.toString(16)}function ru(e,t,n,r){return r<=0?e=t=n=NaN:n<=0||n>=1?e=t=NaN:t<=0&&(e=NaN),new cn(e,t,n,r)}function md(e){if(e instanceof cn)return new cn(e.h,e.s,e.l,e.opacity);if(e instanceof wo||(e=Lr(e)),!e)return new cn;if(e instanceof cn)return e;e=e.rgb();var t=e.r/255,n=e.g/255,r=e.b/255,i=Math.min(t,n,r),o=Math.max(t,n,r),s=NaN,a=o-i,u=(o+i)/2;return a?(t===o?s=(n-r)/a+(n<r)*6:n===o?s=(r-t)/a+2:s=(t-n)/a+4,a/=u<.5?o+i:2-o-i,s*=60):a=u>0&&u<1?0:s,new cn(s,a,u,e.opacity)}function Ip(e,t,n,r){return arguments.length===1?md(e):new cn(e,t,n,r??1)}function cn(e,t,n,r){this.h=+e,this.s=+t,this.l=+n,this.opacity=+r}ol(cn,Ip,pd(wo,{brighter(e){return e=e==null?Zo:Math.pow(Zo,e),new cn(this.h,this.s,this.l*e,this.opacity)},darker(e){return e=e==null?Ui:Math.pow(Ui,e),new cn(this.h,this.s,this.l*e,this.opacity)},rgb(){var e=this.h%360+(this.h<0)*360,t=isNaN(e)||isNaN(this.s)?0:this.s,n=this.l,r=n+(n<.5?n:1-n)*t,i=2*n-r;return new Kt(qs(e>=240?e-240:e+120,i,r),qs(e,i,r),qs(e<120?e+240:e-120,i,r),this.opacity)},clamp(){return new cn(iu(this.h),Do(this.s),Do(this.l),Qo(this.opacity))},displayable(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl(){const e=Qo(this.opacity);return`${e===1?"hsl(":"hsla("}${iu(this.h)}, ${Do(this.s)*100}%, ${Do(this.l)*100}%${e===1?")":`, ${e})`}`}}));function iu(e){return e=(e||0)%360,e<0?e+360:e}function Do(e){return Math.max(0,Math.min(1,e||0))}function qs(e,t,n){return(e<60?t+(n-t)*e/60:e<180?n:e<240?t+(n-t)*(240-e)/60:t)*255}const sl=e=>()=>e;function Sp(e,t){return function(n){return e+n*t}}function Tp(e,t,n){return e=Math.pow(e,n),t=Math.pow(t,n)-e,n=1/n,function(r){return Math.pow(e+r*t,n)}}function Op(e){return(e=+e)==1?yd:function(t,n){return n-t?Tp(t,n,e):sl(isNaN(t)?n:t)}}function yd(e,t){var n=t-e;return n?Sp(e,n):sl(isNaN(e)?t:e)}const Jo=function e(t){var n=Op(t);function r(i,o){var s=n((i=ka(i)).r,(o=ka(o)).r),a=n(i.g,o.g),u=n(i.b,o.b),d=yd(i.opacity,o.opacity);return function(c){return i.r=s(c),i.g=a(c),i.b=u(c),i.opacity=d(c),i+""}}return r.gamma=e,r}(1);function Cp(e,t){t||(t=[]);var n=e?Math.min(t.length,e.length):0,r=t.slice(),i;return function(o){for(i=0;i<n;++i)r[i]=e[i]*(1-o)+t[i]*o;return r}}function Mp(e){return ArrayBuffer.isView(e)&&!(e instanceof DataView)}function Ap(e,t){var n=t?t.length:0,r=e?Math.min(n,e.length):0,i=new Array(r),o=new Array(n),s;for(s=0;s<r;++s)i[s]=Wi(e[s],t[s]);for(;s<n;++s)o[s]=t[s];return function(a){for(s=0;s<r;++s)o[s]=i[s](a);return o}}function Pp(e,t){var n=new Date;return e=+e,t=+t,function(r){return n.setTime(e*(1-r)+t*r),n}}function Sn(e,t){return e=+e,t=+t,function(n){return e*(1-n)+t*n}}function Dp(e,t){var n={},r={},i;(e===null||typeof e!="object")&&(e={}),(t===null||typeof t!="object")&&(t={});for(i in t)i in e?n[i]=Wi(e[i],t[i]):r[i]=t[i];return function(o){for(i in n)r[i]=n[i](o);return r}}var Ia=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,Zs=new RegExp(Ia.source,"g");function Rp(e){return function(){return e}}function Lp(e){return function(t){return e(t)+""}}function bd(e,t){var n=Ia.lastIndex=Zs.lastIndex=0,r,i,o,s=-1,a=[],u=[];for(e=e+"",t=t+"";(r=Ia.exec(e))&&(i=Zs.exec(t));)(o=i.index)>n&&(o=t.slice(n,o),a[s]?a[s]+=o:a[++s]=o),(r=r[0])===(i=i[0])?a[s]?a[s]+=i:a[++s]=i:(a[++s]=null,u.push({i:s,x:Sn(r,i)})),n=Zs.lastIndex;return n<t.length&&(o=t.slice(n),a[s]?a[s]+=o:a[++s]=o),a.length<2?u[0]?Lp(u[0].x):Rp(t):(t=u.length,function(d){for(var c=0,h;c<t;++c)a[(h=u[c]).i]=h.x(d);return a.join("")})}function Wi(e,t){var n=typeof t,r;return t==null||n==="boolean"?sl(t):(n==="number"?Sn:n==="string"?(r=Lr(t))?(t=r,Jo):bd:t instanceof Lr?Jo:t instanceof Date?Pp:Mp(t)?Cp:Array.isArray(t)?Ap:typeof t.valueOf!="function"&&typeof t.toString!="function"||isNaN(t)?Dp:Sn)(e,t)}var ou=180/Math.PI,Sa={translateX:0,translateY:0,rotate:0,skewX:0,scaleX:1,scaleY:1};function _d(e,t,n,r,i,o){var s,a,u;return(s=Math.sqrt(e*e+t*t))&&(e/=s,t/=s),(u=e*n+t*r)&&(n-=e*u,r-=t*u),(a=Math.sqrt(n*n+r*r))&&(n/=a,r/=a,u/=a),e*r<t*n&&(e=-e,t=-t,u=-u,s=-s),{translateX:i,translateY:o,rotate:Math.atan2(t,e)*ou,skewX:Math.atan(u)*ou,scaleX:s,scaleY:a}}var Ro;function zp(e){const t=new(typeof DOMMatrix=="function"?DOMMatrix:WebKitCSSMatrix)(e+"");return t.isIdentity?Sa:_d(t.a,t.b,t.c,t.d,t.e,t.f)}function Vp(e){return e==null||(Ro||(Ro=document.createElementNS("http://www.w3.org/2000/svg","g")),Ro.setAttribute("transform",e),!(e=Ro.transform.baseVal.consolidate()))?Sa:(e=e.matrix,_d(e.a,e.b,e.c,e.d,e.e,e.f))}function wd(e,t,n,r){function i(d){return d.length?d.pop()+" ":""}function o(d,c,h,f,g,m){if(d!==h||c!==f){var b=g.push("translate(",null,t,null,n);m.push({i:b-4,x:Sn(d,h)},{i:b-2,x:Sn(c,f)})}else(h||f)&&g.push("translate("+h+t+f+n)}function s(d,c,h,f){d!==c?(d-c>180?c+=360:c-d>180&&(d+=360),f.push({i:h.push(i(h)+"rotate(",null,r)-2,x:Sn(d,c)})):c&&h.push(i(h)+"rotate("+c+r)}function a(d,c,h,f){d!==c?f.push({i:h.push(i(h)+"skewX(",null,r)-2,x:Sn(d,c)}):c&&h.push(i(h)+"skewX("+c+r)}function u(d,c,h,f,g,m){if(d!==h||c!==f){var b=g.push(i(g)+"scale(",null,",",null,")");m.push({i:b-4,x:Sn(d,h)},{i:b-2,x:Sn(c,f)})}else(h!==1||f!==1)&&g.push(i(g)+"scale("+h+","+f+")")}return function(d,c){var h=[],f=[];return d=e(d),c=e(c),o(d.translateX,d.translateY,c.translateX,c.translateY,h,f),s(d.rotate,c.rotate,h,f),a(d.skewX,c.skewX,h,f),u(d.scaleX,d.scaleY,c.scaleX,c.scaleY,h,f),d=c=null,function(g){for(var m=-1,b=f.length,y;++m<b;)h[(y=f[m]).i]=y.x(g);return h.join("")}}}var Fp=wd(zp,"px, ","px)","deg)"),Hp=wd(Vp,", ",")",")"),Kp=1e-12;function su(e){return((e=Math.exp(e))+1/e)/2}function Bp(e){return((e=Math.exp(e))-1/e)/2}function Wp(e){return((e=Math.exp(2*e))-1)/(e+1)}const Yo=function e(t,n,r){function i(o,s){var a=o[0],u=o[1],d=o[2],c=s[0],h=s[1],f=s[2],g=c-a,m=h-u,b=g*g+m*m,y,E;if(b<Kp)E=Math.log(f/d)/t,y=function(I){return[a+I*g,u+I*m,d*Math.exp(t*I*E)]};else{var w=Math.sqrt(b),S=(f*f-d*d+r*b)/(2*d*n*w),p=(f*f-d*d-r*b)/(2*f*n*w),M=Math.log(Math.sqrt(S*S+1)-S),A=Math.log(Math.sqrt(p*p+1)-p);E=(A-M)/t,y=function(I){var k=I*E,V=su(M),D=d/(n*w)*(V*Wp(t*k+M)-Bp(M));return[a+D*g,u+D*m,d*V/su(t*k+M)]}}return y.duration=E*1e3*t/Math.SQRT2,y}return i.rho=function(o){var s=Math.max(.001,+o),a=s*s,u=a*a;return e(s,a,u)},i}(Math.SQRT2,2,4);var yi=0,Vi=0,Ri=0,xd=1e3,$o,Fi,es=0,zr=0,Is=0,Zi=typeof performance=="object"&&performance.now?performance:Date,Ed=typeof window=="object"&&window.requestAnimationFrame?window.requestAnimationFrame.bind(window):function(e){setTimeout(e,17)};function al(){return zr||(Ed(Yp),zr=Zi.now()+Is)}function Yp(){zr=0}function ts(){this._call=this._time=this._next=null}ts.prototype=Nd.prototype={constructor:ts,restart:function(e,t,n){if(typeof e!="function")throw new TypeError("callback is not a function");n=(n==null?al():+n)+(t==null?0:+t),!this._next&&Fi!==this&&(Fi?Fi._next=this:$o=this,Fi=this),this._call=e,this._time=n,Ta()},stop:function(){this._call&&(this._call=null,this._time=1/0,Ta())}};function Nd(e,t,n){var r=new ts;return r.restart(e,t,n),r}function Xp(){al(),++yi;for(var e=$o,t;e;)(t=zr-e._time)>=0&&e._call.call(void 0,t),e=e._next;--yi}function au(){zr=(es=Zi.now())+Is,yi=Vi=0;try{Xp()}finally{yi=0,Gp(),zr=0}}function jp(){var e=Zi.now(),t=e-es;t>xd&&(Is-=t,es=e)}function Gp(){for(var e,t=$o,n,r=1/0;t;)t._call?(r>t._time&&(r=t._time),e=t,t=t._next):(n=t._next,t._next=null,t=e?e._next=n:$o=n);Fi=e,Ta(r)}function Ta(e){if(!yi){Vi&&(Vi=clearTimeout(Vi));var t=e-zr;t>24?(e<1/0&&(Vi=setTimeout(au,e-Zi.now()-Is)),Ri&&(Ri=clearInterval(Ri))):(Ri||(es=Zi.now(),Ri=setInterval(jp,xd)),yi=1,Ed(au))}}function lu(e,t,n){var r=new ts;return t=t==null?0:+t,r.restart(i=>{r.stop(),e(i+t)},t,n),r}var Up=Ns("start","end","cancel","interrupt"),qp=[],kd=0,uu=1,Oa=2,Xo=3,cu=4,Ca=5,jo=6;function Ss(e,t,n,r,i,o){var s=e.__transition;if(!s)e.__transition={};else if(n in s)return;Zp(e,n,{name:t,index:r,group:i,on:Up,tween:qp,time:o.time,delay:o.delay,duration:o.duration,ease:o.ease,timer:null,state:kd})}function ll(e,t){var n=yn(e,t);if(n.state>kd)throw new Error("too late; already scheduled");return n}function zn(e,t){var n=yn(e,t);if(n.state>Xo)throw new Error("too late; already running");return n}function yn(e,t){var n=e.__transition;if(!n||!(n=n[t]))throw new Error("transition not found");return n}function Zp(e,t,n){var r=e.__transition,i;r[t]=n,n.timer=Nd(o,0,n.time);function o(d){n.state=uu,n.timer.restart(s,n.delay,n.time),n.delay<=d&&s(d-n.delay)}function s(d){var c,h,f,g;if(n.state!==uu)return u();for(c in r)if(g=r[c],g.name===n.name){if(g.state===Xo)return lu(s);g.state===cu?(g.state=jo,g.timer.stop(),g.on.call("interrupt",e,e.__data__,g.index,g.group),delete r[c]):+c<t&&(g.state=jo,g.timer.stop(),g.on.call("cancel",e,e.__data__,g.index,g.group),delete r[c])}if(lu(function(){n.state===Xo&&(n.state=cu,n.timer.restart(a,n.delay,n.time),a(d))}),n.state=Oa,n.on.call("start",e,e.__data__,n.index,n.group),n.state===Oa){for(n.state=Xo,i=new Array(f=n.tween.length),c=0,h=-1;c<f;++c)(g=n.tween[c].value.call(e,e.__data__,n.index,n.group))&&(i[++h]=g);i.length=h+1}}function a(d){for(var c=d<n.duration?n.ease.call(null,d/n.duration):(n.timer.restart(u),n.state=Ca,1),h=-1,f=i.length;++h<f;)i[h].call(e,c);n.state===Ca&&(n.on.call("end",e,e.__data__,n.index,n.group),u())}function u(){n.state=jo,n.timer.stop(),delete r[t];for(var d in r)return;delete e.__transition}}function Go(e,t){var n=e.__transition,r,i,o=!0,s;if(n){t=t==null?null:t+"";for(s in n){if((r=n[s]).name!==t){o=!1;continue}i=r.state>Oa&&r.state<Ca,r.state=jo,r.timer.stop(),r.on.call(i?"interrupt":"cancel",e,e.__data__,r.index,r.group),delete n[s]}o&&delete e.__transition}}function Qp(e){return this.each(function(){Go(this,e)})}function Jp(e,t){var n,r;return function(){var i=zn(this,e),o=i.tween;if(o!==n){r=n=o;for(var s=0,a=r.length;s<a;++s)if(r[s].name===t){r=r.slice(),r.splice(s,1);break}}i.tween=r}}function $p(e,t,n){var r,i;if(typeof n!="function")throw new Error;return function(){var o=zn(this,e),s=o.tween;if(s!==r){i=(r=s).slice();for(var a={name:t,value:n},u=0,d=i.length;u<d;++u)if(i[u].name===t){i[u]=a;break}u===d&&i.push(a)}o.tween=i}}function em(e,t){var n=this._id;if(e+="",arguments.length<2){for(var r=yn(this.node(),n).tween,i=0,o=r.length,s;i<o;++i)if((s=r[i]).name===e)return s.value;return null}return this.each((t==null?Jp:$p)(n,e,t))}function ul(e,t,n){var r=e._id;return e.each(function(){var i=zn(this,r);(i.value||(i.value={}))[t]=n.apply(this,arguments)}),function(i){return yn(i,r).value[t]}}function Id(e,t){var n;return(typeof t=="number"?Sn:t instanceof Lr?Jo:(n=Lr(t))?(t=n,Jo):bd)(e,t)}function tm(e){return function(){this.removeAttribute(e)}}function nm(e){return function(){this.removeAttributeNS(e.space,e.local)}}function rm(e,t,n){var r,i=n+"",o;return function(){var s=this.getAttribute(e);return s===i?null:s===r?o:o=t(r=s,n)}}function im(e,t,n){var r,i=n+"",o;return function(){var s=this.getAttributeNS(e.space,e.local);return s===i?null:s===r?o:o=t(r=s,n)}}function om(e,t,n){var r,i,o;return function(){var s,a=n(this),u;return a==null?void this.removeAttribute(e):(s=this.getAttribute(e),u=a+"",s===u?null:s===r&&u===i?o:(i=u,o=t(r=s,a)))}}function sm(e,t,n){var r,i,o;return function(){var s,a=n(this),u;return a==null?void this.removeAttributeNS(e.space,e.local):(s=this.getAttributeNS(e.space,e.local),u=a+"",s===u?null:s===r&&u===i?o:(i=u,o=t(r=s,a)))}}function am(e,t){var n=ks(e),r=n==="transform"?Hp:Id;return this.attrTween(e,typeof t=="function"?(n.local?sm:om)(n,r,ul(this,"attr."+e,t)):t==null?(n.local?nm:tm)(n):(n.local?im:rm)(n,r,t))}function lm(e,t){return function(n){this.setAttribute(e,t.call(this,n))}}function um(e,t){return function(n){this.setAttributeNS(e.space,e.local,t.call(this,n))}}function cm(e,t){var n,r;function i(){var o=t.apply(this,arguments);return o!==r&&(n=(r=o)&&um(e,o)),n}return i._value=t,i}function dm(e,t){var n,r;function i(){var o=t.apply(this,arguments);return o!==r&&(n=(r=o)&&lm(e,o)),n}return i._value=t,i}function fm(e,t){var n="attr."+e;if(arguments.length<2)return(n=this.tween(n))&&n._value;if(t==null)return this.tween(n,null);if(typeof t!="function")throw new Error;var r=ks(e);return this.tween(n,(r.local?cm:dm)(r,t))}function hm(e,t){return function(){ll(this,e).delay=+t.apply(this,arguments)}}function gm(e,t){return t=+t,function(){ll(this,e).delay=t}}function vm(e){var t=this._id;return arguments.length?this.each((typeof e=="function"?hm:gm)(t,e)):yn(this.node(),t).delay}function pm(e,t){return function(){zn(this,e).duration=+t.apply(this,arguments)}}function mm(e,t){return t=+t,function(){zn(this,e).duration=t}}function ym(e){var t=this._id;return arguments.length?this.each((typeof e=="function"?pm:mm)(t,e)):yn(this.node(),t).duration}function bm(e,t){if(typeof t!="function")throw new Error;return function(){zn(this,e).ease=t}}function _m(e){var t=this._id;return arguments.length?this.each(bm(t,e)):yn(this.node(),t).ease}function wm(e,t){return function(){var n=t.apply(this,arguments);if(typeof n!="function")throw new Error;zn(this,e).ease=n}}function xm(e){if(typeof e!="function")throw new Error;return this.each(wm(this._id,e))}function Em(e){typeof e!="function"&&(e=rd(e));for(var t=this._groups,n=t.length,r=new Array(n),i=0;i<n;++i)for(var o=t[i],s=o.length,a=r[i]=[],u,d=0;d<s;++d)(u=o[d])&&e.call(u,u.__data__,d,o)&&a.push(u);return new Jn(r,this._parents,this._name,this._id)}function Nm(e){if(e._id!==this._id)throw new Error;for(var t=this._groups,n=e._groups,r=t.length,i=n.length,o=Math.min(r,i),s=new Array(r),a=0;a<o;++a)for(var u=t[a],d=n[a],c=u.length,h=s[a]=new Array(c),f,g=0;g<c;++g)(f=u[g]||d[g])&&(h[g]=f);for(;a<r;++a)s[a]=t[a];return new Jn(s,this._parents,this._name,this._id)}function km(e){return(e+"").trim().split(/^|\s+/).every(function(t){var n=t.indexOf(".");return n>=0&&(t=t.slice(0,n)),!t||t==="start"})}function Im(e,t,n){var r,i,o=km(t)?ll:zn;return function(){var s=o(this,e),a=s.on;a!==r&&(i=(r=a).copy()).on(t,n),s.on=i}}function Sm(e,t){var n=this._id;return arguments.length<2?yn(this.node(),n).on.on(e):this.each(Im(n,e,t))}function Tm(e){return function(){var t=this.parentNode;for(var n in this.__transition)if(+n!==e)return;t&&t.removeChild(this)}}function Om(){return this.on("end.remove",Tm(this._id))}function Cm(e){var t=this._name,n=this._id;typeof e!="function"&&(e=rl(e));for(var r=this._groups,i=r.length,o=new Array(i),s=0;s<i;++s)for(var a=r[s],u=a.length,d=o[s]=new Array(u),c,h,f=0;f<u;++f)(c=a[f])&&(h=e.call(c,c.__data__,f,a))&&("__data__"in c&&(h.__data__=c.__data__),d[f]=h,Ss(d[f],t,n,f,d,yn(c,n)));return new Jn(o,this._parents,t,n)}function Mm(e){var t=this._name,n=this._id;typeof e!="function"&&(e=nd(e));for(var r=this._groups,i=r.length,o=[],s=[],a=0;a<i;++a)for(var u=r[a],d=u.length,c,h=0;h<d;++h)if(c=u[h]){for(var f=e.call(c,c.__data__,h,u),g,m=yn(c,n),b=0,y=f.length;b<y;++b)(g=f[b])&&Ss(g,t,n,b,f,m);o.push(f),s.push(c)}return new Jn(o,s,t,n)}var Am=_o.prototype.constructor;function Pm(){return new Am(this._groups,this._parents)}function Dm(e,t){var n,r,i;return function(){var o=mi(this,e),s=(this.style.removeProperty(e),mi(this,e));return o===s?null:o===n&&s===r?i:i=t(n=o,r=s)}}function Sd(e){return function(){this.style.removeProperty(e)}}function Rm(e,t,n){var r,i=n+"",o;return function(){var s=mi(this,e);return s===i?null:s===r?o:o=t(r=s,n)}}function Lm(e,t,n){var r,i,o;return function(){var s=mi(this,e),a=n(this),u=a+"";return a==null&&(u=a=(this.style.removeProperty(e),mi(this,e))),s===u?null:s===r&&u===i?o:(i=u,o=t(r=s,a))}}function zm(e,t){var n,r,i,o="style."+t,s="end."+o,a;return function(){var u=zn(this,e),d=u.on,c=u.value[o]==null?a||(a=Sd(t)):void 0;(d!==n||i!==c)&&(r=(n=d).copy()).on(s,i=c),u.on=r}}function Vm(e,t,n){var r=(e+="")=="transform"?Fp:Id;return t==null?this.styleTween(e,Dm(e,r)).on("end.style."+e,Sd(e)):typeof t=="function"?this.styleTween(e,Lm(e,r,ul(this,"style."+e,t))).each(zm(this._id,e)):this.styleTween(e,Rm(e,r,t),n).on("end.style."+e,null)}function Fm(e,t,n){return function(r){this.style.setProperty(e,t.call(this,r),n)}}function Hm(e,t,n){var r,i;function o(){var s=t.apply(this,arguments);return s!==i&&(r=(i=s)&&Fm(e,s,n)),r}return o._value=t,o}function Km(e,t,n){var r="style."+(e+="");if(arguments.length<2)return(r=this.tween(r))&&r._value;if(t==null)return this.tween(r,null);if(typeof t!="function")throw new Error;return this.tween(r,Hm(e,t,n??""))}function Bm(e){return function(){this.textContent=e}}function Wm(e){return function(){var t=e(this);this.textContent=t??""}}function Ym(e){return this.tween("text",typeof e=="function"?Wm(ul(this,"text",e)):Bm(e==null?"":e+""))}function Xm(e){return function(t){this.textContent=e.call(this,t)}}function jm(e){var t,n;function r(){var i=e.apply(this,arguments);return i!==n&&(t=(n=i)&&Xm(i)),t}return r._value=e,r}function Gm(e){var t="text";if(arguments.length<1)return(t=this.tween(t))&&t._value;if(e==null)return this.tween(t,null);if(typeof e!="function")throw new Error;return this.tween(t,jm(e))}function Um(){for(var e=this._name,t=this._id,n=Td(),r=this._groups,i=r.length,o=0;o<i;++o)for(var s=r[o],a=s.length,u,d=0;d<a;++d)if(u=s[d]){var c=yn(u,t);Ss(u,e,n,d,s,{time:c.time+c.delay+c.duration,delay:0,duration:c.duration,ease:c.ease})}return new Jn(r,this._parents,e,n)}function qm(){var e,t,n=this,r=n._id,i=n.size();return new Promise(function(o,s){var a={value:s},u={value:function(){--i===0&&o()}};n.each(function(){var d=zn(this,r),c=d.on;c!==e&&(t=(e=c).copy(),t._.cancel.push(a),t._.interrupt.push(a),t._.end.push(u)),d.on=t}),i===0&&o()})}var Zm=0;function Jn(e,t,n,r){this._groups=e,this._parents=t,this._name=n,this._id=r}function Td(){return++Zm}var Fn=_o.prototype;Jn.prototype={constructor:Jn,select:Cm,selectAll:Mm,selectChild:Fn.selectChild,selectChildren:Fn.selectChildren,filter:Em,merge:Nm,selection:Pm,transition:Um,call:Fn.call,nodes:Fn.nodes,node:Fn.node,size:Fn.size,empty:Fn.empty,each:Fn.each,on:Sm,attr:am,attrTween:fm,style:Vm,styleTween:Km,text:Ym,textTween:Gm,remove:Om,tween:em,delay:vm,duration:ym,ease:_m,easeVarying:xm,end:qm,[Symbol.iterator]:Fn[Symbol.iterator]};function Qm(e){return((e*=2)<=1?e*e*e:(e-=2)*e*e+2)/2}var Jm={time:null,delay:0,duration:250,ease:Qm};function $m(e,t){for(var n;!(n=e.__transition)||!(n=n[t]);)if(!(e=e.parentNode))throw new Error(`transition ${t} not found`);return n}function ey(e){var t,n;e instanceof Jn?(t=e._id,e=e._name):(t=Td(),(n=Jm).time=al(),e=e==null?null:e+"");for(var r=this._groups,i=r.length,o=0;o<i;++o)for(var s=r[o],a=s.length,u,d=0;d<a;++d)(u=s[d])&&Ss(u,e,t,d,s,n||$m(u,t));return new Jn(r,this._parents,e,t)}_o.prototype.interrupt=Qp;_o.prototype.transition=ey;const Lo=e=>()=>e;function ty(e,{sourceEvent:t,target:n,transform:r,dispatch:i}){Object.defineProperties(this,{type:{value:e,enumerable:!0,configurable:!0},sourceEvent:{value:t,enumerable:!0,configurable:!0},target:{value:n,enumerable:!0,configurable:!0},transform:{value:r,enumerable:!0,configurable:!0},_:{value:i}})}function jn(e,t,n){this.k=e,this.x=t,this.y=n}jn.prototype={constructor:jn,scale:function(e){return e===1?this:new jn(this.k*e,this.x,this.y)},translate:function(e,t){return e===0&t===0?this:new jn(this.k,this.x+this.k*e,this.y+this.k*t)},apply:function(e){return[e[0]*this.k+this.x,e[1]*this.k+this.y]},applyX:function(e){return e*this.k+this.x},applyY:function(e){return e*this.k+this.y},invert:function(e){return[(e[0]-this.x)/this.k,(e[1]-this.y)/this.k]},invertX:function(e){return(e-this.x)/this.k},invertY:function(e){return(e-this.y)/this.k},rescaleX:function(e){return e.copy().domain(e.range().map(this.invertX,this).map(e.invert,e))},rescaleY:function(e){return e.copy().domain(e.range().map(this.invertY,this).map(e.invert,e))},toString:function(){return"translate("+this.x+","+this.y+") scale("+this.k+")"}};var Ts=new jn(1,0,0);Od.prototype=jn.prototype;function Od(e){for(;!e.__zoom;)if(!(e=e.parentNode))return Ts;return e.__zoom}function Qs(e){e.stopImmediatePropagation()}function Li(e){e.preventDefault(),e.stopImmediatePropagation()}function ny(e){return(!e.ctrlKey||e.type==="wheel")&&!e.button}function ry(){var e=this;return e instanceof SVGElement?(e=e.ownerSVGElement||e,e.hasAttribute("viewBox")?(e=e.viewBox.baseVal,[[e.x,e.y],[e.x+e.width,e.y+e.height]]):[[0,0],[e.width.baseVal.value,e.height.baseVal.value]]):[[0,0],[e.clientWidth,e.clientHeight]]}function du(){return this.__zoom||Ts}function iy(e){return-e.deltaY*(e.deltaMode===1?.05:e.deltaMode?1:.002)*(e.ctrlKey?10:1)}function oy(){return navigator.maxTouchPoints||"ontouchstart"in this}function sy(e,t,n){var r=e.invertX(t[0][0])-n[0][0],i=e.invertX(t[1][0])-n[1][0],o=e.invertY(t[0][1])-n[0][1],s=e.invertY(t[1][1])-n[1][1];return e.translate(i>r?(r+i)/2:Math.min(0,r)||Math.max(0,i),s>o?(o+s)/2:Math.min(0,o)||Math.max(0,s))}function ay(){var e=ny,t=ry,n=sy,r=iy,i=oy,o=[0,1/0],s=[[-1/0,-1/0],[1/0,1/0]],a=250,u=Yo,d=Ns("start","zoom","end"),c,h,f,g=500,m=150,b=0,y=10;function E(v){v.property("__zoom",du).on("wheel.zoom",k,{passive:!1}).on("mousedown.zoom",V).on("dblclick.zoom",D).filter(i).on("touchstart.zoom",N).on("touchmove.zoom",_).on("touchend.zoom touchcancel.zoom",x).style("-webkit-tap-highlight-color","rgba(0,0,0,0)")}E.transform=function(v,O,T,P){var F=v.selection?v.selection():v;F.property("__zoom",du),v!==F?M(v,O,T,P):F.interrupt().each(function(){A(this,arguments).event(P).start().zoom(null,typeof O=="function"?O.apply(this,arguments):O).end()})},E.scaleBy=function(v,O,T,P){E.scaleTo(v,function(){var F=this.__zoom.k,K=typeof O=="function"?O.apply(this,arguments):O;return F*K},T,P)},E.scaleTo=function(v,O,T,P){E.transform(v,function(){var F=t.apply(this,arguments),K=this.__zoom,X=T==null?p(F):typeof T=="function"?T.apply(this,arguments):T,G=K.invert(X),U=typeof O=="function"?O.apply(this,arguments):O;return n(S(w(K,U),X,G),F,s)},T,P)},E.translateBy=function(v,O,T,P){E.transform(v,function(){return n(this.__zoom.translate(typeof O=="function"?O.apply(this,arguments):O,typeof T=="function"?T.apply(this,arguments):T),t.apply(this,arguments),s)},null,P)},E.translateTo=function(v,O,T,P,F){E.transform(v,function(){var K=t.apply(this,arguments),X=this.__zoom,G=P==null?p(K):typeof P=="function"?P.apply(this,arguments):P;return n(Ts.translate(G[0],G[1]).scale(X.k).translate(typeof O=="function"?-O.apply(this,arguments):-O,typeof T=="function"?-T.apply(this,arguments):-T),K,s)},P,F)};function w(v,O){return O=Math.max(o[0],Math.min(o[1],O)),O===v.k?v:new jn(O,v.x,v.y)}function S(v,O,T){var P=O[0]-T[0]*v.k,F=O[1]-T[1]*v.k;return P===v.x&&F===v.y?v:new jn(v.k,P,F)}function p(v){return[(+v[0][0]+ +v[1][0])/2,(+v[0][1]+ +v[1][1])/2]}function M(v,O,T,P){v.on("start.zoom",function(){A(this,arguments).event(P).start()}).on("interrupt.zoom end.zoom",function(){A(this,arguments).event(P).end()}).tween("zoom",function(){var F=this,K=arguments,X=A(F,K).event(P),G=t.apply(F,K),U=T==null?p(G):typeof T=="function"?T.apply(F,K):T,Z=Math.max(G[1][0]-G[0][0],G[1][1]-G[0][1]),R=F.__zoom,C=typeof O=="function"?O.apply(F,K):O,B=u(R.invert(U).concat(Z/R.k),C.invert(U).concat(Z/C.k));return function(Y){if(Y===1)Y=C;else{var j=B(Y),Q=Z/j[2];Y=new jn(Q,U[0]-j[0]*Q,U[1]-j[1]*Q)}X.zoom(null,Y)}})}function A(v,O,T){return!T&&v.__zooming||new I(v,O)}function I(v,O){this.that=v,this.args=O,this.active=0,this.sourceEvent=null,this.extent=t.apply(v,O),this.taps=0}I.prototype={event:function(v){return v&&(this.sourceEvent=v),this},start:function(){return++this.active===1&&(this.that.__zooming=this,this.emit("start")),this},zoom:function(v,O){return this.mouse&&v!=="mouse"&&(this.mouse[1]=O.invert(this.mouse[0])),this.touch0&&v!=="touch"&&(this.touch0[1]=O.invert(this.touch0[0])),this.touch1&&v!=="touch"&&(this.touch1[1]=O.invert(this.touch1[0])),this.that.__zoom=O,this.emit("zoom"),this},end:function(){return--this.active===0&&(delete this.that.__zooming,this.emit("end")),this},emit:function(v){var O=Jt(this.that).datum();d.call(v,this.that,new ty(v,{sourceEvent:this.sourceEvent,target:E,transform:this.that.__zoom,dispatch:d}),O)}};function k(v,...O){if(!e.apply(this,arguments))return;var T=A(this,O).event(v),P=this.__zoom,F=Math.max(o[0],Math.min(o[1],P.k*Math.pow(2,r.apply(this,arguments)))),K=xn(v);if(T.wheel)(T.mouse[0][0]!==K[0]||T.mouse[0][1]!==K[1])&&(T.mouse[1]=P.invert(T.mouse[0]=K)),clearTimeout(T.wheel);else{if(P.k===F)return;T.mouse=[K,P.invert(K)],Go(this),T.start()}Li(v),T.wheel=setTimeout(X,m),T.zoom("mouse",n(S(w(P,F),T.mouse[0],T.mouse[1]),T.extent,s));function X(){T.wheel=null,T.end()}}function V(v,...O){if(f||!e.apply(this,arguments))return;var T=v.currentTarget,P=A(this,O,!0).event(v),F=Jt(v.view).on("mousemove.zoom",U,!0).on("mouseup.zoom",Z,!0),K=xn(v,T),X=v.clientX,G=v.clientY;hd(v.view),Qs(v),P.mouse=[K,this.__zoom.invert(K)],Go(this),P.start();function U(R){if(Li(R),!P.moved){var C=R.clientX-X,B=R.clientY-G;P.moved=C*C+B*B>b}P.event(R).zoom("mouse",n(S(P.that.__zoom,P.mouse[0]=xn(R,T),P.mouse[1]),P.extent,s))}function Z(R){F.on("mousemove.zoom mouseup.zoom",null),gd(R.view,P.moved),Li(R),P.event(R).end()}}function D(v,...O){if(e.apply(this,arguments)){var T=this.__zoom,P=xn(v.changedTouches?v.changedTouches[0]:v,this),F=T.invert(P),K=T.k*(v.shiftKey?.5:2),X=n(S(w(T,K),P,F),t.apply(this,O),s);Li(v),a>0?Jt(this).transition().duration(a).call(M,X,P,v):Jt(this).call(E.transform,X,P,v)}}function N(v,...O){if(e.apply(this,arguments)){var T=v.touches,P=T.length,F=A(this,O,v.changedTouches.length===P).event(v),K,X,G,U;for(Qs(v),X=0;X<P;++X)G=T[X],U=xn(G,this),U=[U,this.__zoom.invert(U),G.identifier],F.touch0?!F.touch1&&F.touch0[2]!==U[2]&&(F.touch1=U,F.taps=0):(F.touch0=U,K=!0,F.taps=1+!!c);c&&(c=clearTimeout(c)),K&&(F.taps<2&&(h=U[0],c=setTimeout(function(){c=null},g)),Go(this),F.start())}}function _(v,...O){if(this.__zooming){var T=A(this,O).event(v),P=v.changedTouches,F=P.length,K,X,G,U;for(Li(v),K=0;K<F;++K)X=P[K],G=xn(X,this),T.touch0&&T.touch0[2]===X.identifier?T.touch0[0]=G:T.touch1&&T.touch1[2]===X.identifier&&(T.touch1[0]=G);if(X=T.that.__zoom,T.touch1){var Z=T.touch0[0],R=T.touch0[1],C=T.touch1[0],B=T.touch1[1],Y=(Y=C[0]-Z[0])*Y+(Y=C[1]-Z[1])*Y,j=(j=B[0]-R[0])*j+(j=B[1]-R[1])*j;X=w(X,Math.sqrt(Y/j)),G=[(Z[0]+C[0])/2,(Z[1]+C[1])/2],U=[(R[0]+B[0])/2,(R[1]+B[1])/2]}else if(T.touch0)G=T.touch0[0],U=T.touch0[1];else return;T.zoom("touch",n(S(X,G,U),T.extent,s))}}function x(v,...O){if(this.__zooming){var T=A(this,O).event(v),P=v.changedTouches,F=P.length,K,X;for(Qs(v),f&&clearTimeout(f),f=setTimeout(function(){f=null},g),K=0;K<F;++K)X=P[K],T.touch0&&T.touch0[2]===X.identifier?delete T.touch0:T.touch1&&T.touch1[2]===X.identifier&&delete T.touch1;if(T.touch1&&!T.touch0&&(T.touch0=T.touch1,delete T.touch1),T.touch0)T.touch0[1]=this.__zoom.invert(T.touch0[0]);else if(T.end(),T.taps===2&&(X=xn(X,this),Math.hypot(h[0]-X[0],h[1]-X[1])<y)){var G=Jt(this).on("dblclick.zoom");G&&G.apply(this,arguments)}}}return E.wheelDelta=function(v){return arguments.length?(r=typeof v=="function"?v:Lo(+v),E):r},E.filter=function(v){return arguments.length?(e=typeof v=="function"?v:Lo(!!v),E):e},E.touchable=function(v){return arguments.length?(i=typeof v=="function"?v:Lo(!!v),E):i},E.extent=function(v){return arguments.length?(t=typeof v=="function"?v:Lo([[+v[0][0],+v[0][1]],[+v[1][0],+v[1][1]]]),E):t},E.scaleExtent=function(v){return arguments.length?(o[0]=+v[0],o[1]=+v[1],E):[o[0],o[1]]},E.translateExtent=function(v){return arguments.length?(s[0][0]=+v[0][0],s[1][0]=+v[1][0],s[0][1]=+v[0][1],s[1][1]=+v[1][1],E):[[s[0][0],s[0][1]],[s[1][0],s[1][1]]]},E.constrain=function(v){return arguments.length?(n=v,E):n},E.duration=function(v){return arguments.length?(a=+v,E):a},E.interpolate=function(v){return arguments.length?(u=v,E):u},E.on=function(){var v=d.on.apply(d,arguments);return v===d?E:v},E.clickDistance=function(v){return arguments.length?(b=(v=+v)*v,E):Math.sqrt(b)},E.tapDistance=function(v){return arguments.length?(y=+v,E):y},E}const Qi={error001:()=>"[React Flow]: Seems like you have not used zustand provider as an ancestor. Help: https://reactflow.dev/error#001",error002:()=>"It looks like you've created a new nodeTypes or edgeTypes object. If this wasn't on purpose please define the nodeTypes/edgeTypes outside of the component or memoize them.",error003:e=>`Node type "${e}" not found. Using fallback type "default".`,error004:()=>"The React Flow parent container needs a width and a height to render the graph.",error005:()=>"Only child nodes can use a parent extent.",error006:()=>"Can't create edge. An edge needs a source and a target.",error007:e=>`The old edge with id=${e} does not exist.`,error009:e=>`Marker type "${e}" doesn't exist.`,error008:(e,{id:t,sourceHandle:n,targetHandle:r})=>`Couldn't create edge for ${e} handle id: "${e==="source"?n:r}", edge id: ${t}.`,error010:()=>"Handle: No node id found. Make sure to only use a Handle inside a custom Node.",error011:e=>`Edge type "${e}" not found. Using fallback type "default".`,error012:e=>`Node with id "${e}" does not exist, it may have been removed. This can happen when a node is deleted before the "onNodeClick" handler is called.`,error013:(e="react")=>`It seems that you haven't loaded the styles. Please import '@xyflow/${e}/dist/style.css' or base.css to make sure everything is working properly.`,error014:()=>"useNodeConnections: No node ID found. Call useNodeConnections inside a custom Node or provide a node ID.",error015:()=>"It seems that you are trying to drag a node that is not initialized. Please use onNodesChange as explained in the docs."},Ma=[[Number.NEGATIVE_INFINITY,Number.NEGATIVE_INFINITY],[Number.POSITIVE_INFINITY,Number.POSITIVE_INFINITY]],Cd=["Enter"," ","Escape"],ly={"node.a11yDescription.default":"Press enter or space to select a node. Press delete to remove it and escape to cancel.","node.a11yDescription.keyboardDisabled":"Press enter or space to select a node. You can then use the arrow keys to move the node around. Press delete to remove it and escape to cancel.","node.a11yDescription.ariaLiveMessage":({direction:e,x:t,y:n})=>`Moved selected node ${e}. New position, x: ${t}, y: ${n}`,"edge.a11yDescription.default":"Press enter or space to select an edge. You can then press delete to remove it or escape to cancel.","controls.ariaLabel":"Control Panel","controls.zoomIn.ariaLabel":"Zoom In","controls.zoomOut.ariaLabel":"Zoom Out","controls.fitView.ariaLabel":"Fit View","controls.interactive.ariaLabel":"Toggle Interactivity","minimap.ariaLabel":"Mini Map","handle.ariaLabel":"Handle"};var bi;(function(e){e.Strict="strict",e.Loose="loose"})(bi||(bi={}));var ri;(function(e){e.Free="free",e.Vertical="vertical",e.Horizontal="horizontal"})(ri||(ri={}));var Ji;(function(e){e.Partial="partial",e.Full="full"})(Ji||(Ji={}));const Aa={inProgress:!1,isValid:null,from:null,fromHandle:null,fromPosition:null,fromNode:null,to:null,toHandle:null,toPosition:null,toNode:null,pointer:null};var or;(function(e){e.Bezier="default",e.Straight="straight",e.Step="step",e.SmoothStep="smoothstep",e.SimpleBezier="simplebezier"})(or||(or={}));var ns;(function(e){e.Arrow="arrow",e.ArrowClosed="arrowclosed"})(ns||(ns={}));var Ce;(function(e){e.Left="left",e.Top="top",e.Right="right",e.Bottom="bottom"})(Ce||(Ce={}));const fu={[Ce.Left]:Ce.Right,[Ce.Right]:Ce.Left,[Ce.Top]:Ce.Bottom,[Ce.Bottom]:Ce.Top};function uy(e,t){if(!e&&!t)return!0;if(!e||!t||e.size!==t.size)return!1;if(!e.size&&!t.size)return!0;for(const n of e.keys())if(!t.has(n))return!1;return!0}function hu(e,t,n){if(!n)return;const r=[];e.forEach((i,o)=>{t!=null&&t.has(o)||r.push(i)}),r.length&&n(r)}function cy(e){return e===null?null:e?"valid":"invalid"}const Md=e=>"id"in e&&"source"in e&&"target"in e,dy=e=>"id"in e&&"position"in e&&!("source"in e)&&!("target"in e),cl=e=>"id"in e&&"internals"in e&&!("source"in e)&&!("target"in e),xo=(e,t=[0,0])=>{const{width:n,height:r}=Xr(e),i=e.origin??t,o=n*i[0],s=r*i[1];return{x:e.position.x-o,y:e.position.y-s}},fy=(e,t={nodeOrigin:[0,0]})=>{if(e.length===0)return{x:0,y:0,width:0,height:0};const n=e.reduce((r,i)=>{const o=typeof i=="string";let s=!t.nodeLookup&&!o?i:void 0;t.nodeLookup&&(s=o?t.nodeLookup.get(i):cl(i)?i:t.nodeLookup.get(i.id));const a=s?rs(s,t.nodeOrigin):{x:0,y:0,x2:0,y2:0};return Cs(r,a)},{x:1/0,y:1/0,x2:-1/0,y2:-1/0});return Ms(n)},Os=(e,t={})=>{let n={x:1/0,y:1/0,x2:-1/0,y2:-1/0},r=!1;return e.forEach(i=>{(t.filter===void 0||t.filter(i))&&(n=Cs(n,rs(i)),r=!0)}),r?Ms(n):{x:0,y:0,width:0,height:0}},dl=(e,t,[n,r,i]=[0,0,1],o=!1,s=!1)=>{const a={...No(t,[n,r,i]),width:t.width/i,height:t.height/i},u=[];for(const d of e.values()){const{measured:c,selectable:h=!0,hidden:f=!1}=d;if(s&&!h||f)continue;const g=c.width??d.width??d.initialWidth??null,m=c.height??d.height??d.initialHeight??null,b=$i(a,wi(d)),y=(g??0)*(m??0),E=o&&b>0;(!d.internals.handleBounds||E||b>=y||d.dragging)&&u.push(d)}return u},hy=(e,t)=>{const n=new Set;return e.forEach(r=>{n.add(r.id)}),t.filter(r=>n.has(r.source)||n.has(r.target))};function gy(e,t){const n=new Map,r=t!=null&&t.nodes?new Set(t.nodes.map(i=>i.id)):null;return e.forEach(i=>{i.measured.width&&i.measured.height&&((t==null?void 0:t.includeHiddenNodes)||!i.hidden)&&(!r||r.has(i.id))&&n.set(i.id,i)}),n}async function vy({nodes:e,width:t,height:n,panZoom:r,minZoom:i,maxZoom:o},s){if(e.size===0)return Promise.resolve(!0);const a=gy(e,s),u=Os(a),d=fl(u,t,n,(s==null?void 0:s.minZoom)??i,(s==null?void 0:s.maxZoom)??o,(s==null?void 0:s.padding)??.1);return await r.setViewport(d,{duration:s==null?void 0:s.duration,ease:s==null?void 0:s.ease,interpolate:s==null?void 0:s.interpolate}),Promise.resolve(!0)}function Ad({nodeId:e,nextPosition:t,nodeLookup:n,nodeOrigin:r=[0,0],nodeExtent:i,onError:o}){const s=n.get(e),a=s.parentId?n.get(s.parentId):void 0,{x:u,y:d}=a?a.internals.positionAbsolute:{x:0,y:0},c=s.origin??r;let h=s.extent||i;if(s.extent==="parent"&&!s.expandParent)if(!a)o==null||o("005",Qi.error005());else{const g=a.measured.width,m=a.measured.height;g&&m&&(h=[[u,d],[u+g,d+m]])}else a&&xi(s.extent)&&(h=[[s.extent[0][0]+u,s.extent[0][1]+d],[s.extent[1][0]+u,s.extent[1][1]+d]]);const f=xi(h)?Vr(t,h,s.measured):t;return(s.measured.width===void 0||s.measured.height===void 0)&&(o==null||o("015",Qi.error015())),{position:{x:f.x-u+(s.measured.width??0)*c[0],y:f.y-d+(s.measured.height??0)*c[1]},positionAbsolute:f}}async function py({nodesToRemove:e=[],edgesToRemove:t=[],nodes:n,edges:r,onBeforeDelete:i}){const o=new Set(e.map(f=>f.id)),s=[];for(const f of n){if(f.deletable===!1)continue;const g=o.has(f.id),m=!g&&f.parentId&&s.find(b=>b.id===f.parentId);(g||m)&&s.push(f)}const a=new Set(t.map(f=>f.id)),u=r.filter(f=>f.deletable!==!1),c=hy(s,u);for(const f of u)a.has(f.id)&&!c.find(m=>m.id===f.id)&&c.push(f);if(!i)return{edges:c,nodes:s};const h=await i({nodes:s,edges:c});return typeof h=="boolean"?h?{edges:c,nodes:s}:{edges:[],nodes:[]}:h}const _i=(e,t=0,n=1)=>Math.min(Math.max(e,t),n),Vr=(e={x:0,y:0},t,n)=>({x:_i(e.x,t[0][0],t[1][0]-((n==null?void 0:n.width)??0)),y:_i(e.y,t[0][1],t[1][1]-((n==null?void 0:n.height)??0))});function Pd(e,t,n){const{width:r,height:i}=Xr(n),{x:o,y:s}=n.internals.positionAbsolute;return Vr(e,[[o,s],[o+r,s+i]],t)}const gu=(e,t,n)=>e<t?_i(Math.abs(e-t),1,t)/t:e>n?-_i(Math.abs(e-n),1,t)/t:0,Dd=(e,t,n=15,r=40)=>{const i=gu(e.x,r,t.width-r)*n,o=gu(e.y,r,t.height-r)*n;return[i,o]},Cs=(e,t)=>({x:Math.min(e.x,t.x),y:Math.min(e.y,t.y),x2:Math.max(e.x2,t.x2),y2:Math.max(e.y2,t.y2)}),Pa=({x:e,y:t,width:n,height:r})=>({x:e,y:t,x2:e+n,y2:t+r}),Ms=({x:e,y:t,x2:n,y2:r})=>({x:e,y:t,width:n-e,height:r-t}),wi=(e,t=[0,0])=>{var i,o;const{x:n,y:r}=cl(e)?e.internals.positionAbsolute:xo(e,t);return{x:n,y:r,width:((i=e.measured)==null?void 0:i.width)??e.width??e.initialWidth??0,height:((o=e.measured)==null?void 0:o.height)??e.height??e.initialHeight??0}},rs=(e,t=[0,0])=>{var i,o;const{x:n,y:r}=cl(e)?e.internals.positionAbsolute:xo(e,t);return{x:n,y:r,x2:n+(((i=e.measured)==null?void 0:i.width)??e.width??e.initialWidth??0),y2:r+(((o=e.measured)==null?void 0:o.height)??e.height??e.initialHeight??0)}},my=(e,t)=>Ms(Cs(Pa(e),Pa(t))),$i=(e,t)=>{const n=Math.max(0,Math.min(e.x+e.width,t.x+t.width)-Math.max(e.x,t.x)),r=Math.max(0,Math.min(e.y+e.height,t.y+t.height)-Math.max(e.y,t.y));return Math.ceil(n*r)},vu=e=>Gn(e.width)&&Gn(e.height)&&Gn(e.x)&&Gn(e.y),Gn=e=>!isNaN(e)&&isFinite(e),yy=(e,t)=>{},Eo=(e,t=[1,1])=>({x:t[0]*Math.round(e.x/t[0]),y:t[1]*Math.round(e.y/t[1])}),No=({x:e,y:t},[n,r,i],o=!1,s=[1,1])=>{const a={x:(e-n)/i,y:(t-r)/i};return o?Eo(a,s):a},is=({x:e,y:t},[n,r,i])=>({x:e*i+n,y:t*i+r});function Jr(e,t){if(typeof e=="number")return Math.floor((t-t/(1+e))*.5);if(typeof e=="string"&&e.endsWith("px")){const n=parseFloat(e);if(!Number.isNaN(n))return Math.floor(n)}if(typeof e=="string"&&e.endsWith("%")){const n=parseFloat(e);if(!Number.isNaN(n))return Math.floor(t*n*.01)}return console.error(`[React Flow] The padding value "${e}" is invalid. Please provide a number or a string with a valid unit (px or %).`),0}function by(e,t,n){if(typeof e=="string"||typeof e=="number"){const r=Jr(e,n),i=Jr(e,t);return{top:r,right:i,bottom:r,left:i,x:i*2,y:r*2}}if(typeof e=="object"){const r=Jr(e.top??e.y??0,n),i=Jr(e.bottom??e.y??0,n),o=Jr(e.left??e.x??0,t),s=Jr(e.right??e.x??0,t);return{top:r,right:s,bottom:i,left:o,x:o+s,y:r+i}}return{top:0,right:0,bottom:0,left:0,x:0,y:0}}function _y(e,t,n,r,i,o){const{x:s,y:a}=is(e,[t,n,r]),{x:u,y:d}=is({x:e.x+e.width,y:e.y+e.height},[t,n,r]),c=i-u,h=o-d;return{left:Math.floor(s),top:Math.floor(a),right:Math.floor(c),bottom:Math.floor(h)}}const fl=(e,t,n,r,i,o)=>{const s=by(o,t,n),a=(t-s.x)/e.width,u=(n-s.y)/e.height,d=Math.min(a,u),c=_i(d,r,i),h=e.x+e.width/2,f=e.y+e.height/2,g=t/2-h*c,m=n/2-f*c,b=_y(e,g,m,c,t,n),y={left:Math.min(b.left-s.left,0),top:Math.min(b.top-s.top,0),right:Math.min(b.right-s.right,0),bottom:Math.min(b.bottom-s.bottom,0)};return{x:g-y.left+y.right,y:m-y.top+y.bottom,zoom:c}},os=()=>{var e;return typeof navigator<"u"&&((e=navigator==null?void 0:navigator.userAgent)==null?void 0:e.indexOf("Mac"))>=0};function xi(e){return e!=null&&e!=="parent"}function Xr(e){var t,n;return{width:((t=e.measured)==null?void 0:t.width)??e.width??e.initialWidth??0,height:((n=e.measured)==null?void 0:n.height)??e.height??e.initialHeight??0}}function wy(e){var t,n;return(((t=e.measured)==null?void 0:t.width)??e.width??e.initialWidth)!==void 0&&(((n=e.measured)==null?void 0:n.height)??e.height??e.initialHeight)!==void 0}function xy(e,t={width:0,height:0},n,r,i){const o={...e},s=r.get(n);if(s){const a=s.origin||i;o.x+=s.internals.positionAbsolute.x-(t.width??0)*a[0],o.y+=s.internals.positionAbsolute.y-(t.height??0)*a[1]}return o}function Ey(e){return{...ly,...e||{}}}function Yi(e,{snapGrid:t=[0,0],snapToGrid:n=!1,transform:r,containerBounds:i}){const{x:o,y:s}=gn(e),a=No({x:o-((i==null?void 0:i.left)??0),y:s-((i==null?void 0:i.top)??0)},r),{x:u,y:d}=n?Eo(a,t):a;return{xSnapped:u,ySnapped:d,...a}}const Rd=e=>({width:e.offsetWidth,height:e.offsetHeight}),Ld=e=>{var t;return((t=e==null?void 0:e.getRootNode)==null?void 0:t.call(e))||(window==null?void 0:window.document)},Ny=["INPUT","SELECT","TEXTAREA"];function zd(e){var r,i;const t=((i=(r=e.composedPath)==null?void 0:r.call(e))==null?void 0:i[0])||e.target;return(t==null?void 0:t.nodeType)!==1?!1:Ny.includes(t.nodeName)||t.hasAttribute("contenteditable")||!!t.closest(".nokey")}const Vd=e=>"clientX"in e,gn=(e,t)=>{var o,s;const n=Vd(e),r=n?e.clientX:(o=e.touches)==null?void 0:o[0].clientX,i=n?e.clientY:(s=e.touches)==null?void 0:s[0].clientY;return{x:r-((t==null?void 0:t.left)??0),y:i-((t==null?void 0:t.top)??0)}},pu=(e,t,n,r,i)=>{const o=t.querySelectorAll(`.${e}`);return!o||!o.length?null:Array.from(o).map(s=>{const a=s.getBoundingClientRect();return{id:s.getAttribute("data-handleid"),type:e,nodeId:i,position:s.getAttribute("data-handlepos"),x:(a.left-n.left)/r,y:(a.top-n.top)/r,...Rd(s)}})};function ky({sourceX:e,sourceY:t,targetX:n,targetY:r,sourceControlX:i,sourceControlY:o,targetControlX:s,targetControlY:a}){const u=e*.125+i*.375+s*.375+n*.125,d=t*.125+o*.375+a*.375+r*.125,c=Math.abs(u-e),h=Math.abs(d-t);return[u,d,c,h]}function zo(e,t){return e>=0?.5*e:t*25*Math.sqrt(-e)}function mu({pos:e,x1:t,y1:n,x2:r,y2:i,c:o}){switch(e){case Ce.Left:return[t-zo(t-r,o),n];case Ce.Right:return[t+zo(r-t,o),n];case Ce.Top:return[t,n-zo(n-i,o)];case Ce.Bottom:return[t,n+zo(i-n,o)]}}function Fd({sourceX:e,sourceY:t,sourcePosition:n=Ce.Bottom,targetX:r,targetY:i,targetPosition:o=Ce.Top,curvature:s=.25}){const[a,u]=mu({pos:n,x1:e,y1:t,x2:r,y2:i,c:s}),[d,c]=mu({pos:o,x1:r,y1:i,x2:e,y2:t,c:s}),[h,f,g,m]=ky({sourceX:e,sourceY:t,targetX:r,targetY:i,sourceControlX:a,sourceControlY:u,targetControlX:d,targetControlY:c});return[`M${e},${t} C${a},${u} ${d},${c} ${r},${i}`,h,f,g,m]}function Hd({sourceX:e,sourceY:t,targetX:n,targetY:r}){const i=Math.abs(n-e)/2,o=n<e?n+i:n-i,s=Math.abs(r-t)/2,a=r<t?r+s:r-s;return[o,a,i,s]}function Iy({sourceNode:e,targetNode:t,selected:n=!1,zIndex:r=0,elevateOnSelect:i=!1,zIndexMode:o="basic"}){if(o==="manual")return r;const s=i&&n?r+1e3:r,a=Math.max(e.parentId||i&&e.selected?e.internals.z:0,t.parentId||i&&t.selected?t.internals.z:0);return s+a}function Sy({sourceNode:e,targetNode:t,width:n,height:r,transform:i}){const o=Cs(rs(e),rs(t));o.x===o.x2&&(o.x2+=1),o.y===o.y2&&(o.y2+=1);const s={x:-i[0]/i[2],y:-i[1]/i[2],width:n/i[2],height:r/i[2]};return $i(s,Ms(o))>0}const Ty=({source:e,sourceHandle:t,target:n,targetHandle:r})=>`xy-edge__${e}${t||""}-${n}${r||""}`,Oy=(e,t)=>t.some(n=>n.source===e.source&&n.target===e.target&&(n.sourceHandle===e.sourceHandle||!n.sourceHandle&&!e.sourceHandle)&&(n.targetHandle===e.targetHandle||!n.targetHandle&&!e.targetHandle)),Hi=(e,t,n={})=>{if(!e.source||!e.target)return t;const r=n.getEdgeId||Ty;let i;return Md(e)?i={...e}:i={...e,id:r(e)},Oy(i,t)?t:(i.sourceHandle===null&&delete i.sourceHandle,i.targetHandle===null&&delete i.targetHandle,t.concat(i))};function Kd({sourceX:e,sourceY:t,targetX:n,targetY:r}){const[i,o,s,a]=Hd({sourceX:e,sourceY:t,targetX:n,targetY:r});return[`M ${e},${t}L ${n},${r}`,i,o,s,a]}const yu={[Ce.Left]:{x:-1,y:0},[Ce.Right]:{x:1,y:0},[Ce.Top]:{x:0,y:-1},[Ce.Bottom]:{x:0,y:1}},Cy=({source:e,sourcePosition:t=Ce.Bottom,target:n})=>t===Ce.Left||t===Ce.Right?e.x<n.x?{x:1,y:0}:{x:-1,y:0}:e.y<n.y?{x:0,y:1}:{x:0,y:-1},bu=(e,t)=>Math.sqrt(Math.pow(t.x-e.x,2)+Math.pow(t.y-e.y,2));function My({source:e,sourcePosition:t=Ce.Bottom,target:n,targetPosition:r=Ce.Top,center:i,offset:o,stepPosition:s}){const a=yu[t],u=yu[r],d={x:e.x+a.x*o,y:e.y+a.y*o},c={x:n.x+u.x*o,y:n.y+u.y*o},h=Cy({source:d,sourcePosition:t,target:c}),f=h.x!==0?"x":"y",g=h[f];let m=[],b,y;const E={x:0,y:0},w={x:0,y:0},[,,S,p]=Hd({sourceX:e.x,sourceY:e.y,targetX:n.x,targetY:n.y});if(a[f]*u[f]===-1){f==="x"?(b=i.x??d.x+(c.x-d.x)*s,y=i.y??(d.y+c.y)/2):(b=i.x??(d.x+c.x)/2,y=i.y??d.y+(c.y-d.y)*s);const A=[{x:b,y:d.y},{x:b,y:c.y}],I=[{x:d.x,y},{x:c.x,y}];a[f]===g?m=f==="x"?A:I:m=f==="x"?I:A}else{const A=[{x:d.x,y:c.y}],I=[{x:c.x,y:d.y}];if(f==="x"?m=a.x===g?I:A:m=a.y===g?A:I,t===r){const _=Math.abs(e[f]-n[f]);if(_<=o){const x=Math.min(o-1,o-_);a[f]===g?E[f]=(d[f]>e[f]?-1:1)*x:w[f]=(c[f]>n[f]?-1:1)*x}}if(t!==r){const _=f==="x"?"y":"x",x=a[f]===u[_],v=d[_]>c[_],O=d[_]<c[_];(a[f]===1&&(!x&&v||x&&O)||a[f]!==1&&(!x&&O||x&&v))&&(m=f==="x"?A:I)}const k={x:d.x+E.x,y:d.y+E.y},V={x:c.x+w.x,y:c.y+w.y},D=Math.max(Math.abs(k.x-m[0].x),Math.abs(V.x-m[0].x)),N=Math.max(Math.abs(k.y-m[0].y),Math.abs(V.y-m[0].y));D>=N?(b=(k.x+V.x)/2,y=m[0].y):(b=m[0].x,y=(k.y+V.y)/2)}return[[e,{x:d.x+E.x,y:d.y+E.y},...m,{x:c.x+w.x,y:c.y+w.y},n],b,y,S,p]}function Ay(e,t,n,r){const i=Math.min(bu(e,t)/2,bu(t,n)/2,r),{x:o,y:s}=t;if(e.x===o&&o===n.x||e.y===s&&s===n.y)return`L${o} ${s}`;if(e.y===s){const d=e.x<n.x?-1:1,c=e.y<n.y?1:-1;return`L ${o+i*d},${s}Q ${o},${s} ${o},${s+i*c}`}const a=e.x<n.x?1:-1,u=e.y<n.y?-1:1;return`L ${o},${s+i*u}Q ${o},${s} ${o+i*a},${s}`}function hl({sourceX:e,sourceY:t,sourcePosition:n=Ce.Bottom,targetX:r,targetY:i,targetPosition:o=Ce.Top,borderRadius:s=5,centerX:a,centerY:u,offset:d=20,stepPosition:c=.5}){const[h,f,g,m,b]=My({source:{x:e,y:t},sourcePosition:n,target:{x:r,y:i},targetPosition:o,center:{x:a,y:u},offset:d,stepPosition:c});return[h.reduce((E,w,S)=>{let p="";return S>0&&S<h.length-1?p=Ay(h[S-1],w,h[S+1],s):p=`${S===0?"M":"L"}${w.x} ${w.y}`,E+=p,E},""),f,g,m,b]}function _u(e){var t;return e&&!!(e.internals.handleBounds||(t=e.handles)!=null&&t.length)&&!!(e.measured.width||e.width||e.initialWidth)}function Py(e){var h;const{sourceNode:t,targetNode:n}=e;if(!_u(t)||!_u(n))return null;const r=t.internals.handleBounds||wu(t.handles),i=n.internals.handleBounds||wu(n.handles),o=xu((r==null?void 0:r.source)??[],e.sourceHandle),s=xu(e.connectionMode===bi.Strict?(i==null?void 0:i.target)??[]:((i==null?void 0:i.target)??[]).concat((i==null?void 0:i.source)??[]),e.targetHandle);if(!o||!s)return(h=e.onError)==null||h.call(e,"008",Qi.error008(o?"target":"source",{id:e.id,sourceHandle:e.sourceHandle,targetHandle:e.targetHandle})),null;const a=(o==null?void 0:o.position)||Ce.Bottom,u=(s==null?void 0:s.position)||Ce.Top,d=Fr(t,o,a),c=Fr(n,s,u);return{sourceX:d.x,sourceY:d.y,targetX:c.x,targetY:c.y,sourcePosition:a,targetPosition:u}}function wu(e){if(!e)return null;const t=[],n=[];for(const r of e)r.width=r.width??1,r.height=r.height??1,r.type==="source"?t.push(r):r.type==="target"&&n.push(r);return{source:t,target:n}}function Fr(e,t,n=Ce.Left,r=!1){const i=((t==null?void 0:t.x)??0)+e.internals.positionAbsolute.x,o=((t==null?void 0:t.y)??0)+e.internals.positionAbsolute.y,{width:s,height:a}=t??Xr(e);if(r)return{x:i+s/2,y:o+a/2};switch((t==null?void 0:t.position)??n){case Ce.Top:return{x:i+s/2,y:o};case Ce.Right:return{x:i+s,y:o+a/2};case Ce.Bottom:return{x:i+s/2,y:o+a};case Ce.Left:return{x:i,y:o+a/2}}}function xu(e,t){return e&&(t?e.find(n=>n.id===t):e[0])||null}function Da(e,t){return e?typeof e=="string"?e:`${t?`${t}__`:""}${Object.keys(e).sort().map(r=>`${r}=${e[r]}`).join("&")}`:""}function Dy(e,{id:t,defaultColor:n,defaultMarkerStart:r,defaultMarkerEnd:i}){const o=new Set;return e.reduce((s,a)=>([a.markerStart||r,a.markerEnd||i].forEach(u=>{if(u&&typeof u=="object"){const d=Da(u,t);o.has(d)||(s.push({id:d,color:u.color||n,...u}),o.add(d))}}),s),[]).sort((s,a)=>s.id.localeCompare(a.id))}const Bd=1e3,Ry=10,gl={nodeOrigin:[0,0],nodeExtent:Ma,elevateNodesOnSelect:!0,zIndexMode:"basic",defaults:{}},Ly={...gl,checkEquality:!0};function vl(e,t){const n={...e};for(const r in t)t[r]!==void 0&&(n[r]=t[r]);return n}function zy(e,t,n){const r=vl(gl,n);for(const i of e.values())if(i.parentId)ml(i,e,t,r);else{const o=xo(i,r.nodeOrigin),s=xi(i.extent)?i.extent:r.nodeExtent,a=Vr(o,s,Xr(i));i.internals.positionAbsolute=a}}function Vy(e,t){if(!e.handles)return e.measured?t==null?void 0:t.internals.handleBounds:void 0;const n=[],r=[];for(const i of e.handles){const o={id:i.id,width:i.width??1,height:i.height??1,nodeId:e.id,x:i.x,y:i.y,position:i.position,type:i.type};i.type==="source"?n.push(o):i.type==="target"&&r.push(o)}return{source:n,target:r}}function pl(e){return e==="manual"}function Fy(e,t,n,r={}){var d,c;const i=vl(Ly,r),o={i:0},s=new Map(t),a=i!=null&&i.elevateNodesOnSelect&&!pl(i.zIndexMode)?Bd:0;let u=e.length>0;t.clear(),n.clear();for(const h of e){let f=s.get(h.id);if(i.checkEquality&&h===(f==null?void 0:f.internals.userNode))t.set(h.id,f);else{const g=xo(h,i.nodeOrigin),m=xi(h.extent)?h.extent:i.nodeExtent,b=Vr(g,m,Xr(h));f={...i.defaults,...h,measured:{width:(d=h.measured)==null?void 0:d.width,height:(c=h.measured)==null?void 0:c.height},internals:{positionAbsolute:b,handleBounds:Vy(h,f),z:Wd(h,a,i.zIndexMode),userNode:h}},t.set(h.id,f)}(f.measured===void 0||f.measured.width===void 0||f.measured.height===void 0)&&!f.hidden&&(u=!1),h.parentId&&ml(f,t,n,r,o)}return u}function Hy(e,t){if(!e.parentId)return;const n=t.get(e.parentId);n?n.set(e.id,e):t.set(e.parentId,new Map([[e.id,e]]))}function ml(e,t,n,r,i){const{elevateNodesOnSelect:o,nodeOrigin:s,nodeExtent:a,zIndexMode:u}=vl(gl,r),d=e.parentId,c=t.get(d);if(!c){console.warn(`Parent node ${d} not found. Please make sure that parent nodes are in front of their child nodes in the nodes array.`);return}Hy(e,n),i&&!c.parentId&&c.internals.rootParentIndex===void 0&&u==="auto"&&(c.internals.rootParentIndex=++i.i,c.internals.z=c.internals.z+i.i*Ry),i&&c.internals.rootParentIndex!==void 0&&(i.i=c.internals.rootParentIndex);const h=o&&!pl(u)?Bd:0,{x:f,y:g,z:m}=Ky(e,c,s,a,h,u),{positionAbsolute:b}=e.internals,y=f!==b.x||g!==b.y;(y||m!==e.internals.z)&&t.set(e.id,{...e,internals:{...e.internals,positionAbsolute:y?{x:f,y:g}:b,z:m}})}function Wd(e,t,n){const r=Gn(e.zIndex)?e.zIndex:0;return pl(n)?r:r+(e.selected?t:0)}function Ky(e,t,n,r,i,o){const{x:s,y:a}=t.internals.positionAbsolute,u=Xr(e),d=xo(e,n),c=xi(e.extent)?Vr(d,e.extent,u):d;let h=Vr({x:s+c.x,y:a+c.y},r,u);e.extent==="parent"&&(h=Pd(h,u,t));const f=Wd(e,i,o),g=t.internals.z??0;return{x:h.x,y:h.y,z:g>=f?g+1:f}}function By(e,t,n,r=[0,0]){var s;const i=[],o=new Map;for(const a of e){const u=t.get(a.parentId);if(!u)continue;const d=((s=o.get(a.parentId))==null?void 0:s.expandedRect)??wi(u),c=my(d,a.rect);o.set(a.parentId,{expandedRect:c,parent:u})}return o.size>0&&o.forEach(({expandedRect:a,parent:u},d)=>{var S;const c=u.internals.positionAbsolute,h=Xr(u),f=u.origin??r,g=a.x<c.x?Math.round(Math.abs(c.x-a.x)):0,m=a.y<c.y?Math.round(Math.abs(c.y-a.y)):0,b=Math.max(h.width,Math.round(a.width)),y=Math.max(h.height,Math.round(a.height)),E=(b-h.width)*f[0],w=(y-h.height)*f[1];(g>0||m>0||E||w)&&(i.push({id:d,type:"position",position:{x:u.position.x-g+E,y:u.position.y-m+w}}),(S=n.get(d))==null||S.forEach(p=>{e.some(M=>M.id===p.id)||i.push({id:p.id,type:"position",position:{x:p.position.x+g,y:p.position.y+m}})})),(h.width<a.width||h.height<a.height||g||m)&&i.push({id:d,type:"dimensions",setAttributes:!0,dimensions:{width:b+(g?f[0]*g-E:0),height:y+(m?f[1]*m-w:0)}})}),i}function Wy(e,t,n,r,i,o,s){const a=r==null?void 0:r.querySelector(".xyflow__viewport");let u=!1;if(!a)return{changes:[],updatedInternals:u};const d=[],c=window.getComputedStyle(a),{m22:h}=new window.DOMMatrixReadOnly(c.transform),f=[];for(const g of e.values()){const m=t.get(g.id);if(!m)continue;if(m.hidden){t.set(m.id,{...m,internals:{...m.internals,handleBounds:void 0}}),u=!0;continue}const b=Rd(g.nodeElement),y=m.measured.width!==b.width||m.measured.height!==b.height;if(!!(b.width&&b.height&&(y||!m.internals.handleBounds||g.force))){const w=g.nodeElement.getBoundingClientRect(),S=xi(m.extent)?m.extent:o;let{positionAbsolute:p}=m.internals;m.parentId&&m.extent==="parent"?p=Pd(p,b,t.get(m.parentId)):S&&(p=Vr(p,S,b));const M={...m,measured:b,internals:{...m.internals,positionAbsolute:p,handleBounds:{source:pu("source",g.nodeElement,w,h,m.id),target:pu("target",g.nodeElement,w,h,m.id)}}};t.set(m.id,M),m.parentId&&ml(M,t,n,{nodeOrigin:i,zIndexMode:s}),u=!0,y&&(d.push({id:m.id,type:"dimensions",dimensions:b}),m.expandParent&&m.parentId&&f.push({id:m.id,parentId:m.parentId,rect:wi(M,i)}))}}if(f.length>0){const g=By(f,t,n,i);d.push(...g)}return{changes:d,updatedInternals:u}}async function Yy({delta:e,panZoom:t,transform:n,translateExtent:r,width:i,height:o}){if(!t||!e.x&&!e.y)return Promise.resolve(!1);const s=await t.setViewportConstrained({x:n[0]+e.x,y:n[1]+e.y,zoom:n[2]},[[0,0],[i,o]],r),a=!!s&&(s.x!==n[0]||s.y!==n[1]||s.k!==n[2]);return Promise.resolve(a)}function Eu(e,t,n,r,i,o){let s=i;const a=r.get(s)||new Map;r.set(s,a.set(n,t)),s=`${i}-${e}`;const u=r.get(s)||new Map;if(r.set(s,u.set(n,t)),o){s=`${i}-${e}-${o}`;const d=r.get(s)||new Map;r.set(s,d.set(n,t))}}function Xy(e,t,n){e.clear(),t.clear();for(const r of n){const{source:i,target:o,sourceHandle:s=null,targetHandle:a=null}=r,u={edgeId:r.id,source:i,target:o,sourceHandle:s,targetHandle:a},d=`${i}-${s}--${o}-${a}`,c=`${o}-${a}--${i}-${s}`;Eu("source",u,c,e,i,s),Eu("target",u,d,e,o,a),t.set(r.id,r)}}function Yd(e,t){if(!e.parentId)return!1;const n=t.get(e.parentId);return n?n.selected?!0:Yd(n,t):!1}function Nu(e,t,n){var i;let r=e;do{if((i=r==null?void 0:r.matches)!=null&&i.call(r,t))return!0;if(r===n)return!1;r=r==null?void 0:r.parentElement}while(r);return!1}function jy(e,t,n,r){const i=new Map;for(const[o,s]of e)if((s.selected||s.id===r)&&(!s.parentId||!Yd(s,e))&&(s.draggable||t&&typeof s.draggable>"u")){const a=e.get(o);a&&i.set(o,{id:o,position:a.position||{x:0,y:0},distance:{x:n.x-a.internals.positionAbsolute.x,y:n.y-a.internals.positionAbsolute.y},extent:a.extent,parentId:a.parentId,origin:a.origin,expandParent:a.expandParent,internals:{positionAbsolute:a.internals.positionAbsolute||{x:0,y:0}},measured:{width:a.measured.width??0,height:a.measured.height??0}})}return i}function Js({nodeId:e,dragItems:t,nodeLookup:n,dragging:r=!0}){var s,a,u;const i=[];for(const[d,c]of t){const h=(s=n.get(d))==null?void 0:s.internals.userNode;h&&i.push({...h,position:c.position,dragging:r})}if(!e)return[i[0],i];const o=(a=n.get(e))==null?void 0:a.internals.userNode;return[o?{...o,position:((u=t.get(e))==null?void 0:u.position)||o.position,dragging:r}:i[0],i]}function Gy({dragItems:e,snapGrid:t,x:n,y:r}){const i=e.values().next().value;if(!i)return null;const o={x:n-i.distance.x,y:r-i.distance.y},s=Eo(o,t);return{x:s.x-o.x,y:s.y-o.y}}function Uy({onNodeMouseDown:e,getStoreItems:t,onDragStart:n,onDrag:r,onDragStop:i}){let o={x:null,y:null},s=0,a=new Map,u=!1,d={x:0,y:0},c=null,h=!1,f=null,g=!1,m=!1,b=null;function y({noDragClassName:w,handleSelector:S,domNode:p,isSelectable:M,nodeId:A,nodeClickDistance:I=0}){f=Jt(p);function k({x:_,y:x}){const{nodeLookup:v,nodeExtent:O,snapGrid:T,snapToGrid:P,nodeOrigin:F,onNodeDrag:K,onSelectionDrag:X,onError:G,updateNodePositions:U}=t();o={x:_,y:x};let Z=!1;const R=a.size>1,C=R&&O?Pa(Os(a)):null,B=R&&P?Gy({dragItems:a,snapGrid:T,x:_,y:x}):null;for(const[Y,j]of a){if(!v.has(Y))continue;let Q={x:_-j.distance.x,y:x-j.distance.y};P&&(Q=B?{x:Math.round(Q.x+B.x),y:Math.round(Q.y+B.y)}:Eo(Q,T));let re=null;if(R&&O&&!j.extent&&C){const{positionAbsolute:me}=j.internals,xe=me.x-C.x+O[0][0],Se=me.x+j.measured.width-C.x2+O[1][0],oe=me.y-C.y+O[0][1],ne=me.y+j.measured.height-C.y2+O[1][1];re=[[xe,oe],[Se,ne]]}const{position:ie,positionAbsolute:pe}=Ad({nodeId:Y,nextPosition:Q,nodeLookup:v,nodeExtent:re||O,nodeOrigin:F,onError:G});Z=Z||j.position.x!==ie.x||j.position.y!==ie.y,j.position=ie,j.internals.positionAbsolute=pe}if(m=m||Z,!!Z&&(U(a,!0),b&&(r||K||!A&&X))){const[Y,j]=Js({nodeId:A,dragItems:a,nodeLookup:v});r==null||r(b,a,Y,j),K==null||K(b,Y,j),A||X==null||X(b,j)}}async function V(){if(!c)return;const{transform:_,panBy:x,autoPanSpeed:v,autoPanOnNodeDrag:O}=t();if(!O){u=!1,cancelAnimationFrame(s);return}const[T,P]=Dd(d,c,v);(T!==0||P!==0)&&(o.x=(o.x??0)-T/_[2],o.y=(o.y??0)-P/_[2],await x({x:T,y:P})&&k(o)),s=requestAnimationFrame(V)}function D(_){var R;const{nodeLookup:x,multiSelectionActive:v,nodesDraggable:O,transform:T,snapGrid:P,snapToGrid:F,selectNodesOnDrag:K,onNodeDragStart:X,onSelectionDragStart:G,unselectNodesAndEdges:U}=t();h=!0,(!K||!M)&&!v&&A&&((R=x.get(A))!=null&&R.selected||U()),M&&K&&A&&(e==null||e(A));const Z=Yi(_.sourceEvent,{transform:T,snapGrid:P,snapToGrid:F,containerBounds:c});if(o=Z,a=jy(x,O,Z,A),a.size>0&&(n||X||!A&&G)){const[C,B]=Js({nodeId:A,dragItems:a,nodeLookup:x});n==null||n(_.sourceEvent,a,C,B),X==null||X(_.sourceEvent,C,B),A||G==null||G(_.sourceEvent,B)}}const N=vd().clickDistance(I).on("start",_=>{const{domNode:x,nodeDragThreshold:v,transform:O,snapGrid:T,snapToGrid:P}=t();c=(x==null?void 0:x.getBoundingClientRect())||null,g=!1,m=!1,b=_.sourceEvent,v===0&&D(_),o=Yi(_.sourceEvent,{transform:O,snapGrid:T,snapToGrid:P,containerBounds:c}),d=gn(_.sourceEvent,c)}).on("drag",_=>{const{autoPanOnNodeDrag:x,transform:v,snapGrid:O,snapToGrid:T,nodeDragThreshold:P,nodeLookup:F}=t(),K=Yi(_.sourceEvent,{transform:v,snapGrid:O,snapToGrid:T,containerBounds:c});if(b=_.sourceEvent,(_.sourceEvent.type==="touchmove"&&_.sourceEvent.touches.length>1||A&&!F.has(A))&&(g=!0),!g){if(!u&&x&&h&&(u=!0,V()),!h){const X=gn(_.sourceEvent,c),G=X.x-d.x,U=X.y-d.y;Math.sqrt(G*G+U*U)>P&&D(_)}(o.x!==K.xSnapped||o.y!==K.ySnapped)&&a&&h&&(d=gn(_.sourceEvent,c),k(K))}}).on("end",_=>{if(!(!h||g)&&(u=!1,h=!1,cancelAnimationFrame(s),a.size>0)){const{nodeLookup:x,updateNodePositions:v,onNodeDragStop:O,onSelectionDragStop:T}=t();if(m&&(v(a,!1),m=!1),i||O||!A&&T){const[P,F]=Js({nodeId:A,dragItems:a,nodeLookup:x,dragging:!1});i==null||i(_.sourceEvent,a,P,F),O==null||O(_.sourceEvent,P,F),A||T==null||T(_.sourceEvent,F)}}}).filter(_=>{const x=_.target;return!_.button&&(!w||!Nu(x,`.${w}`,p))&&(!S||Nu(x,S,p))});f.call(N)}function E(){f==null||f.on(".drag",null)}return{update:y,destroy:E}}function qy(e,t,n){const r=[],i={x:e.x-n,y:e.y-n,width:n*2,height:n*2};for(const o of t.values())$i(i,wi(o))>0&&r.push(o);return r}const Zy=250;function Qy(e,t,n,r){var a,u;let i=[],o=1/0;const s=qy(e,n,t+Zy);for(const d of s){const c=[...((a=d.internals.handleBounds)==null?void 0:a.source)??[],...((u=d.internals.handleBounds)==null?void 0:u.target)??[]];for(const h of c){if(r.nodeId===h.nodeId&&r.type===h.type&&r.id===h.id)continue;const{x:f,y:g}=Fr(d,h,h.position,!0),m=Math.sqrt(Math.pow(f-e.x,2)+Math.pow(g-e.y,2));m>t||(m<o?(i=[{...h,x:f,y:g}],o=m):m===o&&i.push({...h,x:f,y:g}))}}if(!i.length)return null;if(i.length>1){const d=r.type==="source"?"target":"source";return i.find(c=>c.type===d)??i[0]}return i[0]}function Xd(e,t,n,r,i,o=!1){var d,c,h;const s=r.get(e);if(!s)return null;const a=i==="strict"?(d=s.internals.handleBounds)==null?void 0:d[t]:[...((c=s.internals.handleBounds)==null?void 0:c.source)??[],...((h=s.internals.handleBounds)==null?void 0:h.target)??[]],u=(n?a==null?void 0:a.find(f=>f.id===n):a==null?void 0:a[0])??null;return u&&o?{...u,...Fr(s,u,u.position,!0)}:u}function jd(e,t){return e||(t!=null&&t.classList.contains("target")?"target":t!=null&&t.classList.contains("source")?"source":null)}function Jy(e,t){let n=null;return t?n=!0:e&&!t&&(n=!1),n}const Gd=()=>!0;function $y(e,{connectionMode:t,connectionRadius:n,handleId:r,nodeId:i,edgeUpdaterType:o,isTarget:s,domNode:a,nodeLookup:u,lib:d,autoPanOnConnect:c,flowId:h,panBy:f,cancelConnection:g,onConnectStart:m,onConnect:b,onConnectEnd:y,isValidConnection:E=Gd,onReconnectEnd:w,updateConnection:S,getTransform:p,getFromHandle:M,autoPanSpeed:A,dragThreshold:I=1,handleDomNode:k}){const V=Ld(e.target);let D=0,N;const{x:_,y:x}=gn(e),v=jd(o,k),O=a==null?void 0:a.getBoundingClientRect();let T=!1;if(!O||!v)return;const P=Xd(i,v,r,u,t);if(!P)return;let F=gn(e,O),K=!1,X=null,G=!1,U=null;function Z(){if(!c||!O)return;const[ie,pe]=Dd(F,O,A);f({x:ie,y:pe}),D=requestAnimationFrame(Z)}const R={...P,nodeId:i,type:v,position:P.position},C=u.get(i);let Y={inProgress:!0,isValid:null,from:Fr(C,R,Ce.Left,!0),fromHandle:R,fromPosition:R.position,fromNode:C,to:F,toHandle:null,toPosition:fu[R.position],toNode:null,pointer:F};function j(){T=!0,S(Y),m==null||m(e,{nodeId:i,handleId:r,handleType:v})}I===0&&j();function Q(ie){if(!T){const{x:ne,y:fe}=gn(ie),$=ne-_,le=fe-x;if(!($*$+le*le>I*I))return;j()}if(!M()||!R){re(ie);return}const pe=p();F=gn(ie,O),N=Qy(No(F,pe,!1,[1,1]),n,u,R),K||(Z(),K=!0);const me=Ud(ie,{handle:N,connectionMode:t,fromNodeId:i,fromHandleId:r,fromType:s?"target":"source",isValidConnection:E,doc:V,lib:d,flowId:h,nodeLookup:u});U=me.handleDomNode,X=me.connection,G=Jy(!!N,me.isValid);const xe=u.get(i),Se=xe?Fr(xe,R,Ce.Left,!0):Y.from,oe={...Y,from:Se,isValid:G,to:me.toHandle&&G?is({x:me.toHandle.x,y:me.toHandle.y},pe):F,toHandle:me.toHandle,toPosition:G&&me.toHandle?me.toHandle.position:fu[R.position],toNode:me.toHandle?u.get(me.toHandle.nodeId):null,pointer:F};S(oe),Y=oe}function re(ie){if(!("touches"in ie&&ie.touches.length>0)){if(T){(N||U)&&X&&G&&(b==null||b(X));const{inProgress:pe,...me}=Y,xe={...me,toPosition:Y.toHandle?Y.toPosition:null};y==null||y(ie,xe),o&&(w==null||w(ie,xe))}g(),cancelAnimationFrame(D),K=!1,G=!1,X=null,U=null,V.removeEventListener("mousemove",Q),V.removeEventListener("mouseup",re),V.removeEventListener("touchmove",Q),V.removeEventListener("touchend",re)}}V.addEventListener("mousemove",Q),V.addEventListener("mouseup",re),V.addEventListener("touchmove",Q),V.addEventListener("touchend",re)}function Ud(e,{handle:t,connectionMode:n,fromNodeId:r,fromHandleId:i,fromType:o,doc:s,lib:a,flowId:u,isValidConnection:d=Gd,nodeLookup:c}){const h=o==="target",f=t?s.querySelector(`.${a}-flow__handle[data-id="${u}-${t==null?void 0:t.nodeId}-${t==null?void 0:t.id}-${t==null?void 0:t.type}"]`):null,{x:g,y:m}=gn(e),b=s.elementFromPoint(g,m),y=b!=null&&b.classList.contains(`${a}-flow__handle`)?b:f,E={handleDomNode:y,isValid:!1,connection:null,toHandle:null};if(y){const w=jd(void 0,y),S=y.getAttribute("data-nodeid"),p=y.getAttribute("data-handleid"),M=y.classList.contains("connectable"),A=y.classList.contains("connectableend");if(!S||!w)return E;const I={source:h?S:r,sourceHandle:h?p:i,target:h?r:S,targetHandle:h?i:p};E.connection=I;const V=M&&A&&(n===bi.Strict?h&&w==="source"||!h&&w==="target":S!==r||p!==i);E.isValid=V&&d(I),E.toHandle=Xd(S,w,p,c,n,!0)}return E}const ku={onPointerDown:$y,isValid:Ud},As=e=>({x:e.x,y:e.y,zoom:e.k}),$s=({x:e,y:t,zoom:n})=>Ts.translate(e,t).scale(n),ei=(e,t)=>e.target.closest(`.${t}`),qd=(e,t)=>t===2&&Array.isArray(e)&&e.includes(2),e0=e=>((e*=2)<=1?e*e*e:(e-=2)*e*e+2)/2,ea=(e,t=0,n=e0,r=()=>{})=>{const i=typeof t=="number"&&t>0;return i||r(),i?e.transition().duration(t).ease(n).on("end",r):e},Zd=e=>{const t=e.ctrlKey&&os()?10:1;return-e.deltaY*(e.deltaMode===1?.05:e.deltaMode?1:.002)*t};function t0({zoomPanValues:e,noWheelClassName:t,d3Selection:n,d3Zoom:r,panOnScrollMode:i,panOnScrollSpeed:o,zoomOnPinch:s,onPanZoomStart:a,onPanZoom:u,onPanZoomEnd:d}){return c=>{if(ei(c,t))return c.ctrlKey&&c.preventDefault(),!1;c.preventDefault(),c.stopImmediatePropagation();const h=n.property("__zoom").k||1;if(c.ctrlKey&&s){const y=xn(c),E=Zd(c),w=h*Math.pow(2,E);r.scaleTo(n,w,y,c);return}const f=c.deltaMode===1?20:1;let g=i===ri.Vertical?0:c.deltaX*f,m=i===ri.Horizontal?0:c.deltaY*f;!os()&&c.shiftKey&&i!==ri.Vertical&&(g=c.deltaY*f,m=0),r.translateBy(n,-(g/h)*o,-(m/h)*o,{internal:!0});const b=As(n.property("__zoom"));clearTimeout(e.panScrollTimeout),e.isPanScrolling?(u==null||u(c,b),e.panScrollTimeout=setTimeout(()=>{d==null||d(c,b),e.isPanScrolling=!1},150)):(e.isPanScrolling=!0,a==null||a(c,b))}}function n0({noWheelClassName:e,preventScrolling:t,d3ZoomHandler:n}){return function(r,i){const o=r.type==="wheel",s=!t&&o&&!r.ctrlKey,a=ei(r,e);if(r.ctrlKey&&o&&a&&r.preventDefault(),s||a)return null;r.preventDefault(),n.call(this,r,i)}}function r0({zoomPanValues:e,onDraggingChange:t,onPanZoomStart:n}){return r=>{var o,s,a;if((o=r.sourceEvent)!=null&&o.internal)return;const i=As(r.transform);e.mouseButton=((s=r.sourceEvent)==null?void 0:s.button)||0,e.isZoomingOrPanning=!0,e.prevViewport=i,((a=r.sourceEvent)==null?void 0:a.type)==="mousedown"&&t(!0),n&&(n==null||n(r.sourceEvent,i))}}function i0({zoomPanValues:e,panOnDrag:t,onPaneContextMenu:n,onTransformChange:r,onPanZoom:i}){return o=>{var s,a;e.usedRightMouseButton=!!(n&&qd(t,e.mouseButton??0)),(s=o.sourceEvent)!=null&&s.sync||r([o.transform.x,o.transform.y,o.transform.k]),i&&!((a=o.sourceEvent)!=null&&a.internal)&&(i==null||i(o.sourceEvent,As(o.transform)))}}function o0({zoomPanValues:e,panOnDrag:t,panOnScroll:n,onDraggingChange:r,onPanZoomEnd:i,onPaneContextMenu:o}){return s=>{var a;if(!((a=s.sourceEvent)!=null&&a.internal)&&(e.isZoomingOrPanning=!1,o&&qd(t,e.mouseButton??0)&&!e.usedRightMouseButton&&s.sourceEvent&&o(s.sourceEvent),e.usedRightMouseButton=!1,r(!1),i)){const u=As(s.transform);e.prevViewport=u,clearTimeout(e.timerId),e.timerId=setTimeout(()=>{i==null||i(s.sourceEvent,u)},n?150:0)}}}function s0({zoomActivationKeyPressed:e,zoomOnScroll:t,zoomOnPinch:n,panOnDrag:r,panOnScroll:i,zoomOnDoubleClick:o,userSelectionActive:s,noWheelClassName:a,noPanClassName:u,lib:d,connectionInProgress:c}){return h=>{var y;const f=e||t,g=n&&h.ctrlKey,m=h.type==="wheel";if(h.button===1&&h.type==="mousedown"&&(ei(h,`${d}-flow__node`)||ei(h,`${d}-flow__edge`)))return!0;if(!r&&!f&&!i&&!o&&!n||s||c&&!m||ei(h,a)&&m||ei(h,u)&&(!m||i&&m&&!e)||!n&&h.ctrlKey&&m)return!1;if(!n&&h.type==="touchstart"&&((y=h.touches)==null?void 0:y.length)>1)return h.preventDefault(),!1;if(!f&&!i&&!g&&m||!r&&(h.type==="mousedown"||h.type==="touchstart")||Array.isArray(r)&&!r.includes(h.button)&&h.type==="mousedown")return!1;const b=Array.isArray(r)&&r.includes(h.button)||!h.button||h.button<=1;return(!h.ctrlKey||m)&&b}}function a0({domNode:e,minZoom:t,maxZoom:n,translateExtent:r,viewport:i,onPanZoom:o,onPanZoomStart:s,onPanZoomEnd:a,onDraggingChange:u}){const d={isZoomingOrPanning:!1,usedRightMouseButton:!1,prevViewport:{},mouseButton:0,timerId:void 0,panScrollTimeout:void 0,isPanScrolling:!1},c=e.getBoundingClientRect(),h=ay().scaleExtent([t,n]).translateExtent(r),f=Jt(e).call(h);w({x:i.x,y:i.y,zoom:_i(i.zoom,t,n)},[[0,0],[c.width,c.height]],r);const g=f.on("wheel.zoom"),m=f.on("dblclick.zoom");h.wheelDelta(Zd);function b(N,_){return f?new Promise(x=>{h==null||h.interpolate((_==null?void 0:_.interpolate)==="linear"?Wi:Yo).transform(ea(f,_==null?void 0:_.duration,_==null?void 0:_.ease,()=>x(!0)),N)}):Promise.resolve(!1)}function y({noWheelClassName:N,noPanClassName:_,onPaneContextMenu:x,userSelectionActive:v,panOnScroll:O,panOnDrag:T,panOnScrollMode:P,panOnScrollSpeed:F,preventScrolling:K,zoomOnPinch:X,zoomOnScroll:G,zoomOnDoubleClick:U,zoomActivationKeyPressed:Z,lib:R,onTransformChange:C,connectionInProgress:B,paneClickDistance:Y,selectionOnDrag:j}){v&&!d.isZoomingOrPanning&&E();const Q=O&&!Z&&!v;h.clickDistance(j?1/0:!Gn(Y)||Y<0?0:Y);const re=Q?t0({zoomPanValues:d,noWheelClassName:N,d3Selection:f,d3Zoom:h,panOnScrollMode:P,panOnScrollSpeed:F,zoomOnPinch:X,onPanZoomStart:s,onPanZoom:o,onPanZoomEnd:a}):n0({noWheelClassName:N,preventScrolling:K,d3ZoomHandler:g});if(f.on("wheel.zoom",re,{passive:!1}),!v){const pe=r0({zoomPanValues:d,onDraggingChange:u,onPanZoomStart:s});h.on("start",pe);const me=i0({zoomPanValues:d,panOnDrag:T,onPaneContextMenu:!!x,onPanZoom:o,onTransformChange:C});h.on("zoom",me);const xe=o0({zoomPanValues:d,panOnDrag:T,panOnScroll:O,onPaneContextMenu:x,onPanZoomEnd:a,onDraggingChange:u});h.on("end",xe)}const ie=s0({zoomActivationKeyPressed:Z,panOnDrag:T,zoomOnScroll:G,panOnScroll:O,zoomOnDoubleClick:U,zoomOnPinch:X,userSelectionActive:v,noPanClassName:_,noWheelClassName:N,lib:R,connectionInProgress:B});h.filter(ie),U?f.on("dblclick.zoom",m):f.on("dblclick.zoom",null)}function E(){h.on("zoom",null)}async function w(N,_,x){const v=$s(N),O=h==null?void 0:h.constrain()(v,_,x);return O&&await b(O),new Promise(T=>T(O))}async function S(N,_){const x=$s(N);return await b(x,_),new Promise(v=>v(x))}function p(N){if(f){const _=$s(N),x=f.property("__zoom");(x.k!==N.zoom||x.x!==N.x||x.y!==N.y)&&(h==null||h.transform(f,_,null,{sync:!0}))}}function M(){const N=f?Od(f.node()):{x:0,y:0,k:1};return{x:N.x,y:N.y,zoom:N.k}}function A(N,_){return f?new Promise(x=>{h==null||h.interpolate((_==null?void 0:_.interpolate)==="linear"?Wi:Yo).scaleTo(ea(f,_==null?void 0:_.duration,_==null?void 0:_.ease,()=>x(!0)),N)}):Promise.resolve(!1)}function I(N,_){return f?new Promise(x=>{h==null||h.interpolate((_==null?void 0:_.interpolate)==="linear"?Wi:Yo).scaleBy(ea(f,_==null?void 0:_.duration,_==null?void 0:_.ease,()=>x(!0)),N)}):Promise.resolve(!1)}function k(N){h==null||h.scaleExtent(N)}function V(N){h==null||h.translateExtent(N)}function D(N){const _=!Gn(N)||N<0?0:N;h==null||h.clickDistance(_)}return{update:y,destroy:E,setViewport:S,setViewportConstrained:w,getViewport:M,scaleTo:A,scaleBy:I,setScaleExtent:k,setTranslateExtent:V,syncViewport:p,setClickDistance:D}}var eo;(function(e){e.Line="line",e.Handle="handle"})(eo||(eo={}));const l0=["top-left","top-right","bottom-left","bottom-right"],u0=["top","right","bottom","left"];function c0({width:e,prevWidth:t,height:n,prevHeight:r,affectsX:i,affectsY:o}){const s=e-t,a=n-r,u=[s>0?1:s<0?-1:0,a>0?1:a<0?-1:0];return s&&i&&(u[0]=u[0]*-1),a&&o&&(u[1]=u[1]*-1),u}function Iu(e){const t=e.includes("right")||e.includes("left"),n=e.includes("bottom")||e.includes("top"),r=e.includes("left"),i=e.includes("top");return{isHorizontal:t,isVertical:n,affectsX:r,affectsY:i}}function nr(e,t){return Math.max(0,t-e)}function rr(e,t){return Math.max(0,e-t)}function Vo(e,t,n){return Math.max(0,t-e,e-n)}function Su(e,t){return e?!t:t}function d0(e,t,n,r,i,o,s,a){let{affectsX:u,affectsY:d}=t;const{isHorizontal:c,isVertical:h}=t,f=c&&h,{xSnapped:g,ySnapped:m}=n,{minWidth:b,maxWidth:y,minHeight:E,maxHeight:w}=r,{x:S,y:p,width:M,height:A,aspectRatio:I}=e;let k=Math.floor(c?g-e.pointerX:0),V=Math.floor(h?m-e.pointerY:0);const D=M+(u?-k:k),N=A+(d?-V:V),_=-o[0]*M,x=-o[1]*A;let v=Vo(D,b,y),O=Vo(N,E,w);if(s){let F=0,K=0;u&&k<0?F=nr(S+k+_,s[0][0]):!u&&k>0&&(F=rr(S+D+_,s[1][0])),d&&V<0?K=nr(p+V+x,s[0][1]):!d&&V>0&&(K=rr(p+N+x,s[1][1])),v=Math.max(v,F),O=Math.max(O,K)}if(a){let F=0,K=0;u&&k>0?F=rr(S+k,a[0][0]):!u&&k<0&&(F=nr(S+D,a[1][0])),d&&V>0?K=rr(p+V,a[0][1]):!d&&V<0&&(K=nr(p+N,a[1][1])),v=Math.max(v,F),O=Math.max(O,K)}if(i){if(c){const F=Vo(D/I,E,w)*I;if(v=Math.max(v,F),s){let K=0;!u&&!d||u&&!d&&f?K=rr(p+x+D/I,s[1][1])*I:K=nr(p+x+(u?k:-k)/I,s[0][1])*I,v=Math.max(v,K)}if(a){let K=0;!u&&!d||u&&!d&&f?K=nr(p+D/I,a[1][1])*I:K=rr(p+(u?k:-k)/I,a[0][1])*I,v=Math.max(v,K)}}if(h){const F=Vo(N*I,b,y)/I;if(O=Math.max(O,F),s){let K=0;!u&&!d||d&&!u&&f?K=rr(S+N*I+_,s[1][0])/I:K=nr(S+(d?V:-V)*I+_,s[0][0])/I,O=Math.max(O,K)}if(a){let K=0;!u&&!d||d&&!u&&f?K=nr(S+N*I,a[1][0])/I:K=rr(S+(d?V:-V)*I,a[0][0])/I,O=Math.max(O,K)}}}V=V+(V<0?O:-O),k=k+(k<0?v:-v),i&&(f?D>N*I?V=(Su(u,d)?-k:k)/I:k=(Su(u,d)?-V:V)*I:c?(V=k/I,d=u):(k=V*I,u=d));const T=u?S+k:S,P=d?p+V:p;return{width:M+(u?-k:k),height:A+(d?-V:V),x:o[0]*k*(u?-1:1)+T,y:o[1]*V*(d?-1:1)+P}}const Qd={width:0,height:0,x:0,y:0},f0={...Qd,pointerX:0,pointerY:0,aspectRatio:1};function h0(e){return[[0,0],[e.measured.width,e.measured.height]]}function g0(e,t,n){const r=t.position.x+e.position.x,i=t.position.y+e.position.y,o=e.measured.width??0,s=e.measured.height??0,a=n[0]*o,u=n[1]*s;return[[r-a,i-u],[r+o-a,i+s-u]]}function v0({domNode:e,nodeId:t,getStoreItems:n,onChange:r,onEnd:i}){const o=Jt(e);let s={controlDirection:Iu("bottom-right"),boundaries:{minWidth:0,minHeight:0,maxWidth:Number.MAX_VALUE,maxHeight:Number.MAX_VALUE},resizeDirection:void 0,keepAspectRatio:!1};function a({controlPosition:d,boundaries:c,keepAspectRatio:h,resizeDirection:f,onResizeStart:g,onResize:m,onResizeEnd:b,shouldResize:y}){let E={...Qd},w={...f0};s={boundaries:c,resizeDirection:f,keepAspectRatio:h,controlDirection:Iu(d)};let S,p=null,M=[],A,I,k,V=!1;const D=vd().on("start",N=>{const{nodeLookup:_,transform:x,snapGrid:v,snapToGrid:O,nodeOrigin:T,paneDomNode:P}=n();if(S=_.get(t),!S)return;p=(P==null?void 0:P.getBoundingClientRect())??null;const{xSnapped:F,ySnapped:K}=Yi(N.sourceEvent,{transform:x,snapGrid:v,snapToGrid:O,containerBounds:p});E={width:S.measured.width??0,height:S.measured.height??0,x:S.position.x??0,y:S.position.y??0},w={...E,pointerX:F,pointerY:K,aspectRatio:E.width/E.height},A=void 0,S.parentId&&(S.extent==="parent"||S.expandParent)&&(A=_.get(S.parentId),I=A&&S.extent==="parent"?h0(A):void 0),M=[],k=void 0;for(const[X,G]of _)if(G.parentId===t&&(M.push({id:X,position:{...G.position},extent:G.extent}),G.extent==="parent"||G.expandParent)){const U=g0(G,S,G.origin??T);k?k=[[Math.min(U[0][0],k[0][0]),Math.min(U[0][1],k[0][1])],[Math.max(U[1][0],k[1][0]),Math.max(U[1][1],k[1][1])]]:k=U}g==null||g(N,{...E})}).on("drag",N=>{const{transform:_,snapGrid:x,snapToGrid:v,nodeOrigin:O}=n(),T=Yi(N.sourceEvent,{transform:_,snapGrid:x,snapToGrid:v,containerBounds:p}),P=[];if(!S)return;const{x:F,y:K,width:X,height:G}=E,U={},Z=S.origin??O,{width:R,height:C,x:B,y:Y}=d0(w,s.controlDirection,T,s.boundaries,s.keepAspectRatio,Z,I,k),j=R!==X,Q=C!==G,re=B!==F&&j,ie=Y!==K&&Q;if(!re&&!ie&&!j&&!Q)return;if((re||ie||Z[0]===1||Z[1]===1)&&(U.x=re?B:E.x,U.y=ie?Y:E.y,E.x=U.x,E.y=U.y,M.length>0)){const Se=B-F,oe=Y-K;for(const ne of M)ne.position={x:ne.position.x-Se+Z[0]*(R-X),y:ne.position.y-oe+Z[1]*(C-G)},P.push(ne)}if((j||Q)&&(U.width=j&&(!s.resizeDirection||s.resizeDirection==="horizontal")?R:E.width,U.height=Q&&(!s.resizeDirection||s.resizeDirection==="vertical")?C:E.height,E.width=U.width,E.height=U.height),A&&S.expandParent){const Se=Z[0]*(U.width??0);U.x&&U.x<Se&&(E.x=Se,w.x=w.x-(U.x-Se));const oe=Z[1]*(U.height??0);U.y&&U.y<oe&&(E.y=oe,w.y=w.y-(U.y-oe))}const pe=c0({width:E.width,prevWidth:X,height:E.height,prevHeight:G,affectsX:s.controlDirection.affectsX,affectsY:s.controlDirection.affectsY}),me={...E,direction:pe};(y==null?void 0:y(N,me))!==!1&&(V=!0,m==null||m(N,me),r(U,P))}).on("end",N=>{V&&(b==null||b(N,{...E}),i==null||i({...E}),V=!1)});o.call(D)}function u(){o.on(".drag",null)}return{update:a,destroy:u}}function yl(){const e={};return[t=>{if(t&&!vh(e))throw new Error(t);return ja(e)},t=>Ga(e,t)]}const[Jd,p0]=yl(),[m0,y0]=yl(),[b0,_0]=yl();var w0=de("<div><!></div>");function to(e,t){Ne(t,!0);let n=ee(t,"id",3,null),r=ee(t,"type",3,"source"),i=ee(t,"position",19,()=>Ce.Top),o=ee(t,"isConnectableStart",3,!0),s=ee(t,"isConnectableEnd",3,!0),a=Yr(t,["$$slots","$$events","$$legacy","id","type","position","style","class","isConnectable","isConnectableStart","isConnectableEnd","isValidConnection","onconnect","ondisconnect","children"]);const u=Jd("Handle must be used within a Custom Node component"),d=m0("Handle must be used within a Custom Node component");let c=H(()=>r()==="target"),h=H(()=>t.isConnectable!==void 0?t.isConnectable:d.value),f=mr(),g=H(()=>f.ariaLabelConfig),m=null;Ja(()=>{if(t.onconnect||t.ondisconnect){f.edges;let _=f.connectionLookup.get(`${u}-${r()}${n()?`-${n()}`:""}`);if(m&&!uy(_,m)){const x=_??new Map;hu(m,x,t.ondisconnect),hu(x,m,t.onconnect)}m=new Map(_)}});let b=H(()=>{if(!f.connection.inProgress)return[!1,!1,!1,!1,null];const{fromHandle:_,toHandle:x,isValid:v}=f.connection,O=_&&_.nodeId===u&&_.type===r()&&_.id===n(),T=x&&x.nodeId===u&&x.type===r()&&x.id===n(),P=f.connectionMode===bi.Strict?(_==null?void 0:_.type)!==r():u!==(_==null?void 0:_.nodeId)||n()!==(_==null?void 0:_.id);return[!0,O,T,P,T&&v]}),y=H(()=>vr(l(b),5)),E=H(()=>l(y)[0]),w=H(()=>l(y)[1]),S=H(()=>l(y)[2]),p=H(()=>l(y)[3]),M=H(()=>l(y)[4]);function A(_){var v;const x=f.onbeforeconnect?f.onbeforeconnect(_):_;x&&(f.addEdge(x),(v=f.onconnect)==null||v.call(f,_))}function I(_){const x=Vd(_);_.currentTarget&&(x&&_.button===0||!x)&&ku.onPointerDown(_,{handleId:n(),nodeId:u,isTarget:l(c),connectionRadius:f.connectionRadius,domNode:f.domNode,nodeLookup:f.nodeLookup,connectionMode:f.connectionMode,lib:"svelte",autoPanOnConnect:f.autoPanOnConnect,autoPanSpeed:f.autoPanSpeed,flowId:f.flowId,isValidConnection:t.isValidConnection??f.isValidConnection,updateConnection:f.updateConnection,cancelConnection:f.cancelConnection,panBy:f.panBy,onConnect:A,onConnectStart:(v,O)=>{var T;(T=f.onconnectstart)==null||T.call(f,v,{nodeId:O.nodeId,handleId:O.handleId,handleType:O.handleType})},onConnectEnd:(v,O)=>{var T;(T=f.onconnectend)==null||T.call(f,v,O)},getTransform:()=>[f.viewport.x,f.viewport.y,f.viewport.zoom],getFromHandle:()=>f.connection.fromHandle,dragThreshold:f.connectionDragThreshold,handleDomNode:_.currentTarget})}function k(_){var U,Z;if(!u||!f.clickConnectStartHandle&&!o())return;if(!f.clickConnectStartHandle){(U=f.onclickconnectstart)==null||U.call(f,_,{nodeId:u,handleId:n(),handleType:r()}),f.clickConnectStartHandle={nodeId:u,type:r(),id:n()};return}const x=Ld(_.target),v=t.isValidConnection??f.isValidConnection,{connectionMode:O,clickConnectStartHandle:T,flowId:P,nodeLookup:F}=f,{connection:K,isValid:X}=ku.isValid(_,{handle:{nodeId:u,id:n(),type:r()},connectionMode:O,fromNodeId:T.nodeId,fromHandleId:T.id??null,fromType:T.type,isValidConnection:v,flowId:P,doc:x,lib:"svelte",nodeLookup:F});X&&K&&A(K);const G=structuredClone(uc(f.connection));delete G.inProgress,G.toPosition=G.toHandle?G.toHandle.position:null,(Z=f.onclickconnectend)==null||Z.call(f,_,G),f.clickConnectStartHandle=null}var V=w0(),D=()=>{};vn(V,()=>({"data-handleid":n(),"data-nodeid":u,"data-handlepos":i(),"data-id":`${f.flowId??""}-${u??""}-${n()??"null"??""}-${r()??""}`,class:["svelte-flow__handle",`svelte-flow__handle-${i()}`,f.noDragClass,f.noPanClass,i(),t.class],onmousedown:I,ontouchstart:I,onclick:f.clickConnect?k:void 0,onkeypress:D,style:t.style,role:"button","aria-label":l(g)["handle.ariaLabel"],tabindex:"-1",...a,[ir]:{valid:l(M),connectingto:l(S),connectingfrom:l(w),source:!l(c),target:l(c),connectablestart:o(),connectableend:s(),connectable:l(h),connectionindicator:l(h)&&(!l(E)||l(p))&&(l(E)||f.clickConnectStartHandle?s():o())}}));var N=ae(V);Rn(N,()=>t.children??gr),te(e,V),ke()}var x0=de("<!> <!>",1);function $d(e,t){Ne(t,!0);let n=ee(t,"targetPosition",19,()=>Ce.Top),r=ee(t,"sourcePosition",19,()=>Ce.Bottom);var i=x0(),o=Me(i);to(o,{type:"target",get position(){return n()}});var s=ge(o),a=ge(s);to(a,{type:"source",get position(){return r()}}),be(()=>{var u;return Ye(s,` ${((u=t.data)==null?void 0:u.label)??""} `)}),te(e,i),ke()}var E0=de(" <!>",1);function N0(e,t){Ne(t,!0);let n=ee(t,"data",19,()=>({label:"Node"})),r=ee(t,"sourcePosition",19,()=>Ce.Bottom);var i=E0(),o=Me(i),s=ge(o);to(s,{type:"source",get position(){return r()}}),be(()=>{var a;return Ye(o,`${((a=n())==null?void 0:a.label)??""} `)}),te(e,i),ke()}var k0=de(" <!>",1);function I0(e,t){Ne(t,!0);let n=ee(t,"data",19,()=>({label:"Node"})),r=ee(t,"targetPosition",19,()=>Ce.Top);var i=k0(),o=Me(i),s=ge(o);to(s,{type:"target",get position(){return r()}}),be(()=>{var a;return Ye(o,`${((a=n())==null?void 0:a.label)??""} `)}),te(e,i),ke()}function S0(e,t){}function ta(e,t,n){if(!n||!t)return;const r=n==="root"?t:t.querySelector(`.svelte-flow__${n}`);r&&r.appendChild(e)}function na(e,t){const n=H(mr),r=H(()=>l(n).domNode);let i;return l(r)?ta(e,l(r),t):i=Ac(()=>{et(()=>{ta(e,l(r),t),i==null||i()})}),{async update(o){ta(e,l(r),o)},destroy(){e.parentNode&&e.parentNode.removeChild(e),i==null||i()}}}function T0(){let e=Ie(typeof window>"u");if(l(e)){const t=Ac(()=>{et(()=>{W(e,!1),t==null||t()})})}return{get value(){return l(e)}}}const Tu=e=>dy(e),O0=e=>Md(e);function An(e){return e===void 0?void 0:`${e}px`}const ss={ArrowUp:{x:0,y:-1},ArrowDown:{x:0,y:1},ArrowLeft:{x:-1,y:0},ArrowRight:{x:1,y:0}};var C0=de("<div><!></div>");function M0(e,t){Ne(t,!0);let n=ee(t,"x",3,0),r=ee(t,"y",3,0),i=ee(t,"selectEdgeOnClick",3,!1),o=ee(t,"transparent",3,!1),s=Yr(t,["$$slots","$$events","$$legacy","x","y","width","height","selectEdgeOnClick","transparent","class","children"]);const a=mr(),u=b0("EdgeLabel must be used within a Custom Edge component");let d=H(()=>{var g;return(g=a.visible.edges.get(u))==null?void 0:g.zIndex});var c=C0(),h=()=>{i()&&u&&a.handleEdgeSelection(u)};vn(c,g=>({class:["svelte-flow__edge-label",{transparent:o()},t.class],tabindex:"-1",onclick:h,...s,[Yn]:g}),[()=>({display:T0().value?"none":void 0,cursor:i()?"pointer":void 0,transform:`translate(-50%, -50%) translate(${n()??""}px,${r()??""}px)`,"pointer-events":"all",width:An(t.width),height:An(t.height),"z-index":l(d)})],void 0,void 0,"svelte-1g6l770");var f=ae(c);Rn(f,()=>t.children??gr),Lt(c,(g,m)=>na==null?void 0:na(g,m),()=>"edge-labels"),te(e,c),ke()}var A0=Gt("<path></path>"),P0=Gt('<path fill="none"></path><!><!>',1);function Ps(e,t){let n=ee(t,"interactionWidth",3,20),r=Yr(t,["$$slots","$$events","$$legacy","id","path","label","labelX","labelY","labelStyle","markerStart","markerEnd","style","interactionWidth","class"]);var i=P0(),o=Me(i),s=ge(o);{var a=c=>{var h=A0();vn(h,()=>({d:t.path,"stroke-opacity":0,"stroke-width":n(),fill:"none",class:"svelte-flow__edge-interaction",...r})),te(c,h)};De(s,c=>{n()>0&&c(a)})}var u=ge(s);{var d=c=>{M0(c,{get x(){return t.labelX},get y(){return t.labelY},get style(){return t.labelStyle},selectEdgeOnClick:!0,children:(h,f)=>{var g=tg();be(()=>Ye(g,t.label)),te(h,g)},$$slots:{default:!0}})};De(u,c=>{t.label&&c(d)})}be(()=>{ye(o,"id",t.id),ye(o,"d",t.path),Ct(o,0,Wr(["svelte-flow__edge-path",t.class])),ye(o,"marker-start",t.markerStart),ye(o,"marker-end",t.markerEnd),Ze(o,t.style)}),te(e,i)}function ef(e,t){Ne(t,!0);let n=H(()=>{var a;return Fd({sourceX:t.sourceX,sourceY:t.sourceY,targetX:t.targetX,targetY:t.targetY,sourcePosition:t.sourcePosition,targetPosition:t.targetPosition,curvature:(a=t.pathOptions)==null?void 0:a.curvature})}),r=H(()=>vr(l(n),3)),i=H(()=>l(r)[0]),o=H(()=>l(r)[1]),s=H(()=>l(r)[2]);Ps(e,{get id(){return t.id},get path(){return l(i)},get labelX(){return l(o)},get labelY(){return l(s)},get label(){return t.label},get labelStyle(){return t.labelStyle},get markerStart(){return t.markerStart},get markerEnd(){return t.markerEnd},get interactionWidth(){return t.interactionWidth},get style(){return t.style}}),ke()}function D0(e,t){Ne(t,!0);let n=H(()=>hl({sourceX:t.sourceX,sourceY:t.sourceY,targetX:t.targetX,targetY:t.targetY,sourcePosition:t.sourcePosition,targetPosition:t.targetPosition})),r=H(()=>vr(l(n),3)),i=H(()=>l(r)[0]),o=H(()=>l(r)[1]),s=H(()=>l(r)[2]);Ps(e,{get path(){return l(i)},get labelX(){return l(o)},get labelY(){return l(s)},get label(){return t.label},get labelStyle(){return t.labelStyle},get markerStart(){return t.markerStart},get markerEnd(){return t.markerEnd},get interactionWidth(){return t.interactionWidth},get style(){return t.style}}),ke()}function R0(e,t){Ne(t,!0);let n=H(()=>Kd({sourceX:t.sourceX,sourceY:t.sourceY,targetX:t.targetX,targetY:t.targetY})),r=H(()=>vr(l(n),3)),i=H(()=>l(r)[0]),o=H(()=>l(r)[1]),s=H(()=>l(r)[2]);Ps(e,{get path(){return l(i)},get labelX(){return l(o)},get labelY(){return l(s)},get label(){return t.label},get labelStyle(){return t.labelStyle},get markerStart(){return t.markerStart},get markerEnd(){return t.markerEnd},get interactionWidth(){return t.interactionWidth},get style(){return t.style}}),ke()}function L0(e,t){Ne(t,!0);let n=H(()=>hl({sourceX:t.sourceX,sourceY:t.sourceY,targetX:t.targetX,targetY:t.targetY,sourcePosition:t.sourcePosition,targetPosition:t.targetPosition,borderRadius:0})),r=H(()=>vr(l(n),3)),i=H(()=>l(r)[0]),o=H(()=>l(r)[1]),s=H(()=>l(r)[2]);Ps(e,{get path(){return l(i)},get labelX(){return l(o)},get labelY(){return l(s)},get label(){return t.label},get labelStyle(){return t.labelStyle},get markerStart(){return t.markerStart},get markerEnd(){return t.markerEnd},get interactionWidth(){return t.interactionWidth},get style(){return t.style}}),ke()}var ao,lo;class z0{constructor(t,n){se(this,ao);se(this,lo);Ae(this,ao,t),Ae(this,lo,bc(n))}get current(){return L(this,lo).call(this),L(this,ao).call(this)}}ao=new WeakMap,lo=new WeakMap;const V0=/\(.+\)/,F0=new Set(["all","print","screen","and","or","not","only"]);class H0 extends z0{constructor(t,n){let r=V0.test(t)||t.split(/[\s,]+/).some(o=>F0.has(o.trim()))?t:`(${t})`;const i=window.matchMedia(r);super(()=>i.matches,o=>ya(i,"change",o))}}function K0(e,t,n,r){const i=new Map;return dl(e,{x:0,y:0,width:n,height:r},t,!0).forEach(o=>{i.set(o.id,o)}),i}function Ou(e){const{edges:t,defaultEdgeOptions:n,nodeLookup:r,previousEdges:i,connectionMode:o,onerror:s,onlyRenderVisible:a,elevateEdgesOnSelect:u,zIndexMode:d}=e,c=new Map;for(const h of t){const f=r.get(h.source),g=r.get(h.target);if(!f||!g)continue;if(a){const{visibleNodes:y,transform:E,width:w,height:S}=e;if(Sy({sourceNode:f,targetNode:g,width:w,height:S,transform:E}))y.set(f.id,f),y.set(g.id,g);else continue}const m=i.get(h.id);if(m&&h===m.edge&&f==m.sourceNode&&g==m.targetNode){c.set(h.id,m);continue}const b=Py({id:h.id,sourceNode:f,targetNode:g,sourceHandle:h.sourceHandle||null,targetHandle:h.targetHandle||null,connectionMode:o,onError:s});b&&c.set(h.id,{...n,...h,...b,zIndex:Iy({selected:h.selected,zIndex:h.zIndex??n.zIndex,sourceNode:f,targetNode:g,elevateOnSelect:u,zIndexMode:d}),sourceNode:f,targetNode:g,edge:h})}return c}const tf={input:N0,output:I0,default:$d,group:S0},nf={straight:R0,smoothstep:D0,default:ef,step:L0};function B0(e,t,n,r,i,o){if(t&&!n&&r&&i){const s=Os(o,{filter:a=>!!((a.width||a.initialWidth)&&(a.height||a.initialHeight))});return fl(s,r,i,.5,2,.1)}else return n??{x:0,y:0,zoom:1}}function W0(e){var n,r,i,o,s,a,u,d,c,h,f,g,m,b,y,E,w,S,p,M,A,I,k,V,D,N,_,x,v,O,T,P,F,K,X,G,U,Z,R,C,B,Y,j,Q,re,ie,pe,me,xe,Se,oe,ne,fe,$,le,he,we,Re,Le,Be,$e,gt,Fe,dt,St,bn,_n,At,ce,Oe,je,rt,qe,ft,Pt,Dt;class t{constructor(){se(this,n,H(()=>e.props.id??"1"));se(this,r,Ie(null));se(this,i,Ie(null));se(this,o,Ie(e.width??0));se(this,s,Ie(e.height??0));se(this,a,Ie(e.props.zIndexMode??"basic"));se(this,u,H(()=>{var Tt;const q=Fy(e.nodes,this.nodeLookup,this.parentLookup,{nodeExtent:this.nodeExtent,nodeOrigin:this.nodeOrigin,elevateNodesOnSelect:e.props.elevateNodesOnSelect??!0,checkEquality:!0,zIndexMode:this.zIndexMode});return this.fitViewQueued&&q&&((Tt=this.fitViewOptions)!=null&&Tt.duration?this.resolveFitView():queueMicrotask(()=>{this.resolveFitView()})),q}));se(this,d,H(()=>this.panZoom!==null));se(this,c,H(()=>(Xy(this.connectionLookup,this.edgeLookup,e.edges),e.edges)));nt(this,"_prevSelectedNodes",[]);nt(this,"_prevSelectedNodeIds",new Set);se(this,h,H(()=>{const q=this._prevSelectedNodeIds.size,Tt=new Set,an=this.nodes.filter(vt=>(vt.selected&&(Tt.add(vt.id),this._prevSelectedNodeIds.delete(vt.id)),vt.selected));return(q!==Tt.size||this._prevSelectedNodeIds.size>0)&&(this._prevSelectedNodes=an),this._prevSelectedNodeIds=Tt,this._prevSelectedNodes}));nt(this,"_prevSelectedEdges",[]);nt(this,"_prevSelectedEdgeIds",new Set);se(this,f,H(()=>{const q=this._prevSelectedEdgeIds.size,Tt=new Set,an=this.edges.filter(vt=>(vt.selected&&(Tt.add(vt.id),this._prevSelectedEdgeIds.delete(vt.id)),vt.selected));return(q!==Tt.size||this._prevSelectedEdgeIds.size>0)&&(this._prevSelectedEdges=an),this._prevSelectedEdgeIds=Tt,this._prevSelectedEdges}));nt(this,"selectionChangeHandlers",new Map);nt(this,"nodeLookup",new Map);nt(this,"parentLookup",new Map);nt(this,"connectionLookup",new Map);nt(this,"edgeLookup",new Map);nt(this,"_prevVisibleEdges",new Map);se(this,g,H(()=>{const{nodes:q,_edges:Tt,_prevVisibleEdges:an,nodeLookup:vt,connectionMode:Si,onerror:Rs,onlyRenderVisibleElements:Ls,defaultEdgeOptions:zs,zIndexMode:Vs}=this;let Zr,Ti;const br={edges:Tt,defaultEdgeOptions:zs,previousEdges:an,nodeLookup:vt,connectionMode:Si,elevateEdgesOnSelect:e.props.elevateEdgesOnSelect??!0,zIndexMode:Vs,onerror:Rs};if(Ls){const{viewport:Oi,width:ko,height:Vn}=this,Io=[Oi.x,Oi.y,Oi.zoom];Zr=K0(vt,Io,ko,Vn),Ti=Ou({...br,onlyRenderVisible:!0,visibleNodes:Zr,transform:Io,width:ko,height:Vn})}else Zr=this.nodeLookup,Ti=Ou(br);return{nodes:Zr,edges:Ti}}));se(this,m,H(()=>e.props.nodesDraggable??!0));se(this,b,H(()=>e.props.nodesConnectable??!0));se(this,y,H(()=>e.props.elementsSelectable??!0));se(this,E,H(()=>e.props.nodesFocusable??!0));se(this,w,H(()=>e.props.edgesFocusable??!0));se(this,S,H(()=>e.props.disableKeyboardA11y??!1));se(this,p,H(()=>e.props.minZoom??.5));se(this,M,H(()=>e.props.maxZoom??2));se(this,A,H(()=>e.props.nodeOrigin??[0,0]));se(this,I,H(()=>e.props.nodeExtent??Ma));se(this,k,H(()=>e.props.translateExtent??Ma));se(this,V,H(()=>e.props.defaultEdgeOptions??{}));se(this,D,H(()=>e.props.nodeDragThreshold??1));se(this,N,H(()=>e.props.autoPanOnNodeDrag??!0));se(this,_,H(()=>e.props.autoPanOnConnect??!0));se(this,x,H(()=>e.props.autoPanOnNodeFocus??!0));se(this,v,H(()=>e.props.autoPanSpeed??15));se(this,O,H(()=>e.props.connectionDragThreshold??1));nt(this,"fitViewQueued",e.props.fitView??!1);nt(this,"fitViewOptions",e.props.fitViewOptions);nt(this,"fitViewResolver",null);se(this,T,H(()=>e.props.snapGrid??null));se(this,P,Ie(!1));se(this,F,Ie(null));se(this,K,Ie(!1));se(this,X,Ie(!1));se(this,G,Ie(!1));se(this,U,Ie(!1));se(this,Z,Ie(!1));se(this,R,Ie(null));se(this,C,Ie(""));se(this,B,H(()=>e.props.selectionMode??Ji.Partial));se(this,Y,H(()=>({...tf,...e.props.nodeTypes})));se(this,j,H(()=>({...nf,...e.props.edgeTypes})));se(this,Q,H(()=>e.props.noPanClass??"nopan"));se(this,re,H(()=>e.props.noDragClass??"nodrag"));se(this,ie,H(()=>e.props.noWheelClass??"nowheel"));se(this,pe,H(()=>Ey(e.props.ariaLabelConfig)));se(this,me,Ie(B0(this.nodesInitialized,e.props.fitView,e.props.initialViewport,this.width,this.height,this.nodeLookup)));se(this,xe,Ie(Aa));se(this,Se,H(()=>this._connection.inProgress?{...this._connection,to:No(this._connection.to,[this.viewport.x,this.viewport.y,this.viewport.zoom])}:this._connection));se(this,oe,H(()=>e.props.connectionMode??bi.Strict));se(this,ne,H(()=>e.props.connectionRadius??20));se(this,fe,H(()=>e.props.isValidConnection??(()=>!0)));se(this,$,H(()=>e.props.selectNodesOnDrag??!0));se(this,le,H(()=>e.props.defaultMarkerColor===void 0?"#b1b1b7":e.props.defaultMarkerColor));se(this,he,H(()=>Dy(e.edges,{defaultColor:this.defaultMarkerColor,id:this.flowId,defaultMarkerStart:this.defaultEdgeOptions.markerStart,defaultMarkerEnd:this.defaultEdgeOptions.markerEnd})));se(this,we,H(()=>e.props.onlyRenderVisibleElements??!1));se(this,Re,H(()=>e.props.onflowerror??yy));se(this,Le,H(()=>e.props.ondelete));se(this,Be,H(()=>e.props.onbeforedelete));se(this,$e,H(()=>e.props.onbeforeconnect));se(this,gt,H(()=>e.props.onconnect));se(this,Fe,H(()=>e.props.onconnectstart));se(this,dt,H(()=>e.props.onconnectend));se(this,St,H(()=>e.props.onbeforereconnect));se(this,bn,H(()=>e.props.onreconnect));se(this,_n,H(()=>e.props.onreconnectstart));se(this,At,H(()=>e.props.onreconnectend));se(this,ce,H(()=>e.props.clickConnect??!0));se(this,Oe,H(()=>e.props.onclickconnectstart));se(this,je,H(()=>e.props.onclickconnectend));se(this,rt,Ie(null));se(this,qe,H(()=>e.props.onselectiondrag));se(this,ft,H(()=>e.props.onselectiondragstart));se(this,Pt,H(()=>e.props.onselectiondragstop));nt(this,"resolveFitView",async()=>{var q;this.panZoom&&(await vy({nodes:this.nodeLookup,width:this.width,height:this.height,panZoom:this.panZoom,minZoom:this.minZoom,maxZoom:this.maxZoom},this.fitViewOptions),(q=this.fitViewResolver)==null||q.resolve(!0),this.fitViewQueued=!1,this.fitViewOptions=void 0,this.fitViewResolver=null)});nt(this,"_prefersDark",new H0("(prefers-color-scheme: dark)",e.props.colorModeSSR==="dark"));se(this,Dt,H(()=>e.props.colorMode==="system"?this._prefersDark.current?"dark":"light":e.props.colorMode??"light"))}get flowId(){return l(L(this,n))}set flowId(q){W(L(this,n),q)}get domNode(){return l(L(this,r))}set domNode(q){W(L(this,r),q)}get panZoom(){return l(L(this,i))}set panZoom(q){W(L(this,i),q)}get width(){return l(L(this,o))}set width(q){W(L(this,o),q)}get height(){return l(L(this,s))}set height(q){W(L(this,s),q)}get zIndexMode(){return l(L(this,a))}set zIndexMode(q){W(L(this,a),q)}get nodesInitialized(){return l(L(this,u))}set nodesInitialized(q){W(L(this,u),q)}get viewportInitialized(){return l(L(this,d))}set viewportInitialized(q){W(L(this,d),q)}get _edges(){return l(L(this,c))}set _edges(q){W(L(this,c),q)}get nodes(){return this.nodesInitialized,e.nodes}set nodes(q){e.nodes=q}get edges(){return this._edges}set edges(q){e.edges=q}get selectedNodes(){return l(L(this,h))}set selectedNodes(q){W(L(this,h),q)}get selectedEdges(){return l(L(this,f))}set selectedEdges(q){W(L(this,f),q)}get visible(){return l(L(this,g))}set visible(q){W(L(this,g),q)}get nodesDraggable(){return l(L(this,m))}set nodesDraggable(q){W(L(this,m),q)}get nodesConnectable(){return l(L(this,b))}set nodesConnectable(q){W(L(this,b),q)}get elementsSelectable(){return l(L(this,y))}set elementsSelectable(q){W(L(this,y),q)}get nodesFocusable(){return l(L(this,E))}set nodesFocusable(q){W(L(this,E),q)}get edgesFocusable(){return l(L(this,w))}set edgesFocusable(q){W(L(this,w),q)}get disableKeyboardA11y(){return l(L(this,S))}set disableKeyboardA11y(q){W(L(this,S),q)}get minZoom(){return l(L(this,p))}set minZoom(q){W(L(this,p),q)}get maxZoom(){return l(L(this,M))}set maxZoom(q){W(L(this,M),q)}get nodeOrigin(){return l(L(this,A))}set nodeOrigin(q){W(L(this,A),q)}get nodeExtent(){return l(L(this,I))}set nodeExtent(q){W(L(this,I),q)}get translateExtent(){return l(L(this,k))}set translateExtent(q){W(L(this,k),q)}get defaultEdgeOptions(){return l(L(this,V))}set defaultEdgeOptions(q){W(L(this,V),q)}get nodeDragThreshold(){return l(L(this,D))}set nodeDragThreshold(q){W(L(this,D),q)}get autoPanOnNodeDrag(){return l(L(this,N))}set autoPanOnNodeDrag(q){W(L(this,N),q)}get autoPanOnConnect(){return l(L(this,_))}set autoPanOnConnect(q){W(L(this,_),q)}get autoPanOnNodeFocus(){return l(L(this,x))}set autoPanOnNodeFocus(q){W(L(this,x),q)}get autoPanSpeed(){return l(L(this,v))}set autoPanSpeed(q){W(L(this,v),q)}get connectionDragThreshold(){return l(L(this,O))}set connectionDragThreshold(q){W(L(this,O),q)}get snapGrid(){return l(L(this,T))}set snapGrid(q){W(L(this,T),q)}get dragging(){return l(L(this,P))}set dragging(q){W(L(this,P),q)}get selectionRect(){return l(L(this,F))}set selectionRect(q){W(L(this,F),q)}get selectionKeyPressed(){return l(L(this,K))}set selectionKeyPressed(q){W(L(this,K),q)}get multiselectionKeyPressed(){return l(L(this,X))}set multiselectionKeyPressed(q){W(L(this,X),q)}get deleteKeyPressed(){return l(L(this,G))}set deleteKeyPressed(q){W(L(this,G),q)}get panActivationKeyPressed(){return l(L(this,U))}set panActivationKeyPressed(q){W(L(this,U),q)}get zoomActivationKeyPressed(){return l(L(this,Z))}set zoomActivationKeyPressed(q){W(L(this,Z),q)}get selectionRectMode(){return l(L(this,R))}set selectionRectMode(q){W(L(this,R),q)}get ariaLiveMessage(){return l(L(this,C))}set ariaLiveMessage(q){W(L(this,C),q)}get selectionMode(){return l(L(this,B))}set selectionMode(q){W(L(this,B),q)}get nodeTypes(){return l(L(this,Y))}set nodeTypes(q){W(L(this,Y),q)}get edgeTypes(){return l(L(this,j))}set edgeTypes(q){W(L(this,j),q)}get noPanClass(){return l(L(this,Q))}set noPanClass(q){W(L(this,Q),q)}get noDragClass(){return l(L(this,re))}set noDragClass(q){W(L(this,re),q)}get noWheelClass(){return l(L(this,ie))}set noWheelClass(q){W(L(this,ie),q)}get ariaLabelConfig(){return l(L(this,pe))}set ariaLabelConfig(q){W(L(this,pe),q)}get _viewport(){return l(L(this,me))}set _viewport(q){W(L(this,me),q)}get viewport(){return e.viewport??this._viewport}set viewport(q){e.viewport&&(e.viewport=q),this._viewport=q}get _connection(){return l(L(this,xe))}set _connection(q){W(L(this,xe),q)}get connection(){return l(L(this,Se))}set connection(q){W(L(this,Se),q)}get connectionMode(){return l(L(this,oe))}set connectionMode(q){W(L(this,oe),q)}get connectionRadius(){return l(L(this,ne))}set connectionRadius(q){W(L(this,ne),q)}get isValidConnection(){return l(L(this,fe))}set isValidConnection(q){W(L(this,fe),q)}get selectNodesOnDrag(){return l(L(this,$))}set selectNodesOnDrag(q){W(L(this,$),q)}get defaultMarkerColor(){return l(L(this,le))}set defaultMarkerColor(q){W(L(this,le),q)}get markers(){return l(L(this,he))}set markers(q){W(L(this,he),q)}get onlyRenderVisibleElements(){return l(L(this,we))}set onlyRenderVisibleElements(q){W(L(this,we),q)}get onerror(){return l(L(this,Re))}set onerror(q){W(L(this,Re),q)}get ondelete(){return l(L(this,Le))}set ondelete(q){W(L(this,Le),q)}get onbeforedelete(){return l(L(this,Be))}set onbeforedelete(q){W(L(this,Be),q)}get onbeforeconnect(){return l(L(this,$e))}set onbeforeconnect(q){W(L(this,$e),q)}get onconnect(){return l(L(this,gt))}set onconnect(q){W(L(this,gt),q)}get onconnectstart(){return l(L(this,Fe))}set onconnectstart(q){W(L(this,Fe),q)}get onconnectend(){return l(L(this,dt))}set onconnectend(q){W(L(this,dt),q)}get onbeforereconnect(){return l(L(this,St))}set onbeforereconnect(q){W(L(this,St),q)}get onreconnect(){return l(L(this,bn))}set onreconnect(q){W(L(this,bn),q)}get onreconnectstart(){return l(L(this,_n))}set onreconnectstart(q){W(L(this,_n),q)}get onreconnectend(){return l(L(this,At))}set onreconnectend(q){W(L(this,At),q)}get clickConnect(){return l(L(this,ce))}set clickConnect(q){W(L(this,ce),q)}get onclickconnectstart(){return l(L(this,Oe))}set onclickconnectstart(q){W(L(this,Oe),q)}get onclickconnectend(){return l(L(this,je))}set onclickconnectend(q){W(L(this,je),q)}get clickConnectStartHandle(){return l(L(this,rt))}set clickConnectStartHandle(q){W(L(this,rt),q)}get onselectiondrag(){return l(L(this,qe))}set onselectiondrag(q){W(L(this,qe),q)}get onselectiondragstart(){return l(L(this,ft))}set onselectiondragstart(q){W(L(this,ft),q)}get onselectiondragstop(){return l(L(this,Pt))}set onselectiondragstop(q){W(L(this,Pt),q)}get colorMode(){return l(L(this,Dt))}set colorMode(q){W(L(this,Dt),q)}resetStoreValues(){this.dragging=!1,this.selectionRect=null,this.selectionRectMode=null,this.selectionKeyPressed=!1,this.multiselectionKeyPressed=!1,this.deleteKeyPressed=!1,this.panActivationKeyPressed=!1,this.zoomActivationKeyPressed=!1,this._connection=Aa,this.clickConnectStartHandle=null,this.viewport=e.props.initialViewport??{x:0,y:0,zoom:1},this.ariaLiveMessage=""}}return n=new WeakMap,r=new WeakMap,i=new WeakMap,o=new WeakMap,s=new WeakMap,a=new WeakMap,u=new WeakMap,d=new WeakMap,c=new WeakMap,h=new WeakMap,f=new WeakMap,g=new WeakMap,m=new WeakMap,b=new WeakMap,y=new WeakMap,E=new WeakMap,w=new WeakMap,S=new WeakMap,p=new WeakMap,M=new WeakMap,A=new WeakMap,I=new WeakMap,k=new WeakMap,V=new WeakMap,D=new WeakMap,N=new WeakMap,_=new WeakMap,x=new WeakMap,v=new WeakMap,O=new WeakMap,T=new WeakMap,P=new WeakMap,F=new WeakMap,K=new WeakMap,X=new WeakMap,G=new WeakMap,U=new WeakMap,Z=new WeakMap,R=new WeakMap,C=new WeakMap,B=new WeakMap,Y=new WeakMap,j=new WeakMap,Q=new WeakMap,re=new WeakMap,ie=new WeakMap,pe=new WeakMap,me=new WeakMap,xe=new WeakMap,Se=new WeakMap,oe=new WeakMap,ne=new WeakMap,fe=new WeakMap,$=new WeakMap,le=new WeakMap,he=new WeakMap,we=new WeakMap,Re=new WeakMap,Le=new WeakMap,Be=new WeakMap,$e=new WeakMap,gt=new WeakMap,Fe=new WeakMap,dt=new WeakMap,St=new WeakMap,bn=new WeakMap,_n=new WeakMap,At=new WeakMap,ce=new WeakMap,Oe=new WeakMap,je=new WeakMap,rt=new WeakMap,qe=new WeakMap,ft=new WeakMap,Pt=new WeakMap,Dt=new WeakMap,new t}function mr(){const e=ja(as);if(!e)throw new Error("To call useStore outside of <SvelteFlow /> you need to wrap your component in a <SvelteFlowProvider />");return e.getStore()}const as=Symbol();function rf(e){const t=W0(e);function n(N){t.nodeTypes={...tf,...N}}function r(N){t.edgeTypes={...nf,...N}}function i(N){t.edges=Hi(N,t.edges)}const o=(N,_=!1)=>{t.nodes=t.nodes.map(x=>{if(t.connection.inProgress&&t.connection.fromNode.id===x.id){const O=t.nodeLookup.get(x.id);O&&(t.connection={...t.connection,from:Fr(O,t.connection.fromHandle,Ce.Left,!0)})}const v=N.get(x.id);return v?{...x,position:v.position,dragging:_}:x})};function s(N){var O,T,P;const{changes:_,updatedInternals:x}=Wy(N,t.nodeLookup,t.parentLookup,t.domNode,t.nodeOrigin,t.nodeExtent,t.zIndexMode);if(!x)return;zy(t.nodeLookup,t.parentLookup,{nodeOrigin:t.nodeOrigin,nodeExtent:t.nodeExtent,zIndexMode:t.zIndexMode}),t.fitViewQueued&&t.resolveFitView();const v=new Map;for(const F of _){const K=(O=t.nodeLookup.get(F.id))==null?void 0:O.internals.userNode;if(!K)continue;const X={...K};switch(F.type){case"dimensions":{const G={...X.measured,...F.dimensions};F.setAttributes&&(X.width=((T=F.dimensions)==null?void 0:T.width)??X.width,X.height=((P=F.dimensions)==null?void 0:P.height)??X.height),X.measured=G;break}case"position":X.position=F.position??X.position;break}v.set(F.id,X)}t.nodes=t.nodes.map(F=>v.get(F.id)??F)}function a(N){const _=t.fitViewResolver??Promise.withResolvers();return t.fitViewQueued=!0,t.fitViewOptions=N,t.fitViewResolver=_,t.nodes=[...t.nodes],_.promise}async function u(N,_,x){const v=typeof(x==null?void 0:x.zoom)<"u"?x.zoom:t.maxZoom,O=t.panZoom;return O?(await O.setViewport({x:t.width/2-N*v,y:t.height/2-_*v,zoom:v},{duration:x==null?void 0:x.duration,ease:x==null?void 0:x.ease,interpolate:x==null?void 0:x.interpolate}),Promise.resolve(!0)):Promise.resolve(!1)}function d(N,_){const x=t.panZoom;return x?x.scaleBy(N,_):Promise.resolve(!1)}function c(N){return d(1.2,N)}function h(N){return d(1/1.2,N)}function f(N){const _=t.panZoom;_&&(_.setScaleExtent([N,t.maxZoom]),t.minZoom=N)}function g(N){const _=t.panZoom;_&&(_.setScaleExtent([t.minZoom,N]),t.maxZoom=N)}function m(N){const _=t.panZoom;_&&(_.setTranslateExtent(N),t.translateExtent=N)}function b(N,_=null){let x=!1;const v=N.map(O=>(_?_.has(O.id):!0)&&O.selected?(x=!0,{...O,selected:!1}):O);return[x,v]}function y(N){const _=N!=null&&N.nodes?new Set(N.nodes.map(F=>F.id)):null,[x,v]=b(t.nodes,_);x&&(t.nodes=v);const O=N!=null&&N.edges?new Set(N.edges.map(F=>F.id)):null,[T,P]=b(t.edges,O);T&&(t.edges=P)}function E(N){const _=t.multiselectionKeyPressed;t.nodes=t.nodes.map(x=>{const v=N.includes(x.id),O=_&&x.selected||v;return!!x.selected!==O?{...x,selected:O}:x}),_||y({nodes:[]})}function w(N){const _=t.multiselectionKeyPressed;t.edges=t.edges.map(x=>{const v=N.includes(x.id),O=_&&x.selected||v;return!!x.selected!==O?{...x,selected:O}:x}),_||y({edges:[]})}function S(N,_,x){const v=t.nodeLookup.get(N);if(!v){console.warn("012",Qi.error012(N));return}t.selectionRect=null,t.selectionRectMode=null,v.selected?(_||v.selected&&t.multiselectionKeyPressed)&&(y({nodes:[v],edges:[]}),requestAnimationFrame(()=>x==null?void 0:x.blur())):E([N])}function p(N){const _=t.edgeLookup.get(N);if(!_){console.warn("012",Qi.error012(N));return}(_.selectable||t.elementsSelectable&&typeof _.selectable>"u")&&(t.selectionRect=null,t.selectionRectMode=null,_.selected?_.selected&&t.multiselectionKeyPressed&&y({nodes:[],edges:[_]}):w([N]))}function M(N,_){const{nodeExtent:x,snapGrid:v,nodeOrigin:O,nodeLookup:T,nodesDraggable:P,onerror:F}=t,K=new Map,X=(v==null?void 0:v[0])??5,G=(v==null?void 0:v[1])??5,U=N.x*X*_,Z=N.y*G*_;for(const R of T.values()){if(!(R.selected&&(R.draggable||P&&typeof R.draggable>"u")))continue;let B={x:R.internals.positionAbsolute.x+U,y:R.internals.positionAbsolute.y+Z};v&&(B=Eo(B,v));const{position:Y,positionAbsolute:j}=Ad({nodeId:R.id,nextPosition:B,nodeLookup:T,nodeExtent:x,nodeOrigin:O,onError:F});R.position=Y,R.internals.positionAbsolute=j,K.set(R.id,R)}o(K)}function A(N){return Yy({delta:N,panZoom:t.panZoom,transform:[t.viewport.x,t.viewport.y,t.viewport.zoom],translateExtent:t.translateExtent,width:t.width,height:t.height})}const I=N=>{t._connection={...N}};function k(){t._connection=Aa}function V(){t.resetStoreValues(),y()}return Object.assign(t,{setNodeTypes:n,setEdgeTypes:r,addEdge:i,updateNodePositions:o,updateNodeInternals:s,zoomIn:c,zoomOut:h,fitView:a,setCenter:u,setMinZoom:f,setMaxZoom:g,setTranslateExtent:m,unselectNodesAndEdges:y,addSelectedNodes:E,addSelectedEdges:w,handleNodeSelection:S,handleEdgeSelection:p,moveSelectedNodes:M,panBy:A,updateConnection:I,cancelConnection:k,reset:V})}function ra(e,t){const{minZoom:n,maxZoom:r,initialViewport:i,onPanZoomStart:o,onPanZoom:s,onPanZoomEnd:a,translateExtent:u,setPanZoomInstance:d,onDraggingChange:c,onTransformChange:h}=t,f=a0({domNode:e,minZoom:n,maxZoom:r,translateExtent:u,viewport:i,onPanZoom:s,onPanZoomStart:o,onPanZoomEnd:a,onDraggingChange:c}),g=f.getViewport();return(i.x!==g.x||i.y!==g.y||i.zoom!==g.zoom)&&h([g.x,g.y,g.zoom]),d(f),f.update(t),{update(m){f.update(m)}}}var Y0=de('<div class="svelte-flow__zoom svelte-flow__container"><!></div>');function X0(e,t){Ne(t,!0);let n=ee(t,"store",15),r=H(()=>n().panActivationKeyPressed||t.panOnDrag),i=H(()=>n().panActivationKeyPressed||t.panOnScroll);const{viewport:o}=n();let s=!1;et(()=>{var d;!s&&n().viewportInitialized&&((d=t.oninit)==null||d.call(t),s=!0)});var a=Y0(),u=ae(a);Rn(u,()=>t.children),Lt(a,(d,c)=>ra==null?void 0:ra(d,c),()=>({viewport:n().viewport,minZoom:n().minZoom,maxZoom:n().maxZoom,initialViewport:o,onDraggingChange:d=>{n(n().dragging=d,!0)},setPanZoomInstance:d=>{n(n().panZoom=d,!0)},onPanZoomStart:t.onmovestart,onPanZoom:t.onmove,onPanZoomEnd:t.onmoveend,zoomOnScroll:t.zoomOnScroll,zoomOnDoubleClick:t.zoomOnDoubleClick,zoomOnPinch:t.zoomOnPinch,panOnScroll:l(i),panOnDrag:l(r),panOnScrollSpeed:t.panOnScrollSpeed,panOnScrollMode:t.panOnScrollMode,zoomActivationKeyPressed:n().zoomActivationKeyPressed,preventScrolling:typeof t.preventScrolling=="boolean"?t.preventScrolling:!0,noPanClassName:n().noPanClass,noWheelClassName:n().noWheelClass,userSelectionActive:!!n().selectionRect,translateExtent:n().translateExtent,lib:"svelte",paneClickDistance:t.paneClickDistance,selectionOnDrag:t.selectionOnDrag,onTransformChange:d=>{n(n().viewport={x:d[0],y:d[1],zoom:d[2]},!0)},connectionInProgress:n().connection.inProgress})),te(e,a),ke()}function Cu(e,t){return n=>{n.target===t&&(e==null||e(n))}}function Mu(e){return t=>{const n=e.has(t.id);return!!t.selected!==n?{...t,selected:n}:t}}function Au(e,t){if(e.size!==t.size)return!1;for(const n of e)if(!t.has(n))return!1;return!0}var j0=de("<div><!></div>");function G0(e,t){Ne(t,!0);let n=ee(t,"store",15),r=ee(t,"panOnDrag",3,!0),i=ee(t,"paneClickDistance",3,1),o,s=null,a=new Set,u=new Set,d=H(()=>n().panActivationKeyPressed||r()),c=H(()=>n().selectionKeyPressed||!!n().selectionRect||t.selectionOnDrag&&l(d)!==!0),h=H(()=>n().elementsSelectable&&(l(c)||n().selectionRectMode==="user")),f=!1;function g(k){var v,O;if(s=o==null?void 0:o.getBoundingClientRect(),!s)return;const V=k.target===o,D=!V&&!!k.target.closest(".nokey"),N=t.selectionOnDrag&&V||n().selectionKeyPressed;if(D||!l(c)||!N||k.button!==0||!k.isPrimary)return;(O=(v=k.target)==null?void 0:v.setPointerCapture)==null||O.call(v,k.pointerId),f=!1;const{x:_,y:x}=gn(k,s);n(n().selectionRect={width:0,height:0,startX:_,startY:x,x:_,y:x},!0),V||(k.stopPropagation(),k.preventDefault())}function m(k){var T;if(!l(c)||!s||!n().selectionRect)return;const V=gn(k,s),{startX:D=0,startY:N=0}=n().selectionRect;if(!f){const P=n().selectionKeyPressed?0:i();if(Math.hypot(V.x-D,V.y-N)<=P)return;n().unselectNodesAndEdges(),(T=t.onselectionstart)==null||T.call(t,k)}f=!0;const _={...n().selectionRect,x:V.x<D?V.x:D,y:V.y<N?V.y:N,width:Math.abs(V.x-D),height:Math.abs(V.y-N)},x=a,v=u;a=new Set(dl(n().nodeLookup,_,[n().viewport.x,n().viewport.y,n().viewport.zoom],n().selectionMode===Ji.Partial,!0).map(P=>P.id));const O=n().defaultEdgeOptions.selectable??!0;u=new Set;for(const P of a){const F=n().connectionLookup.get(P);if(F)for(const{edgeId:K}of F.values()){const X=n().edgeLookup.get(K);X&&(X.selectable??O)&&u.add(K)}}Au(x,a)||n(n().nodes=n().nodes.map(Mu(a)),!0),Au(v,u)||n(n().edges=n().edges.map(Mu(u)),!0),n(n().selectionRectMode="user",!0),n(n().selectionRect=_,!0)}function b(k){var V,D,N;k.button===0&&((D=(V=k.target)==null?void 0:V.releasePointerCapture)==null||D.call(V,k.pointerId),!f&&k.target===o&&(w==null||w(k)),n(n().selectionRect=null,!0),f&&n(n().selectionRectMode=a.size>0?"nodes":null,!0),f&&((N=t.onselectionend)==null||N.call(t,k)))}const y=k=>{var V;if(Array.isArray(l(d))&&l(d).includes(2)){k.preventDefault();return}(V=t.onpanecontextmenu)==null||V.call(t,{event:k})},E=k=>{f&&(k.stopPropagation(),f=!1)};function w(k){var V;if(f||n().connection.inProgress){f=!1;return}(V=t.onpaneclick)==null||V.call(t,{event:k}),n().unselectNodesAndEdges(),n(n().selectionRectMode=null,!0),n(n().selectionRect=null,!0)}var S=j0();let p;var M=H(()=>l(h)?void 0:Cu(w,o));S.__click=function(...k){var V;(V=l(M))==null||V.apply(this,k)},S.__pointermove=function(...k){var V;(V=l(h)?m:void 0)==null||V.apply(this,k)},S.__pointerup=function(...k){var V;(V=l(h)?b:void 0)==null||V.apply(this,k)};var A=H(()=>Cu(y,o));S.__contextmenu=function(...k){var V;(V=l(A))==null||V.apply(this,k)};var I=ae(S);Rn(I,()=>t.children),lt(S,k=>o=k,()=>o),be(k=>p=Ct(S,1,"svelte-flow__pane svelte-flow__container",null,p,k),[()=>({draggable:r()===!0||Array.isArray(r())&&r().includes(0),dragging:n().dragging,selection:l(c)})]),We("pointerdown",S,function(...k){var V;(V=l(h)?g:void 0)==null||V.apply(this,k)},!0),We("click",S,function(...k){var V;(V=l(h)?E:void 0)==null||V.apply(this,k)},!0),te(e,S),ke()}mt(["click","pointermove","pointerup","contextmenu"]);var U0=de('<div class="svelte-flow__viewport xyflow__viewport svelte-flow__container"><!></div>');function q0(e,t){Ne(t,!0);var n=U0();let r;var i=ae(n);Rn(i,()=>t.children),be(()=>r=Ze(n,"",r,{transform:`translate(${t.store.viewport.x??""}px, ${t.store.viewport.y??""}px) scale(${t.store.viewport.zoom??""})`})),te(e,n),ke()}function ii(e,t){const{store:n,onDrag:r,onDragStart:i,onDragStop:o,onNodeMouseDown:s}=t,a=Uy({onDrag:r,onDragStart:i,onDragStop:o,onNodeMouseDown:s,getStoreItems:()=>{const{snapGrid:d,viewport:c}=n;return{nodes:n.nodes,nodeLookup:n.nodeLookup,edges:n.edges,nodeExtent:n.nodeExtent,snapGrid:d||[0,0],snapToGrid:!!d,nodeOrigin:n.nodeOrigin,multiSelectionActive:n.multiselectionKeyPressed,domNode:n.domNode,transform:[c.x,c.y,c.zoom],autoPanOnNodeDrag:n.autoPanOnNodeDrag,nodesDraggable:n.nodesDraggable,selectNodesOnDrag:n.selectNodesOnDrag,nodeDragThreshold:n.nodeDragThreshold,unselectNodesAndEdges:n.unselectNodesAndEdges,updateNodePositions:n.updateNodePositions,onSelectionDrag:n.onselectiondrag,onSelectionDragStart:n.onselectiondragstart,onSelectionDragStop:n.onselectiondragstop,panBy:n.panBy}}});function u(d,c){if(c.disabled){a.destroy();return}a.update({domNode:d,noDragClassName:c.noDragClass,handleSelector:c.handleSelector,nodeId:c.nodeId,isSelectable:c.isSelectable,nodeClickDistance:c.nodeClickDistance})}return u(e,t),{update(d){u(e,d)},destroy(){a.destroy()}}}var Z0=de('<div aria-live="assertive" aria-atomic="true" class="a11y-live-msg svelte-1l9nrps"> </div>'),Q0=de('<div class="a11y-hidden svelte-1l9nrps"> </div> <div class="a11y-hidden svelte-1l9nrps"> </div> <!>',1);function J0(e,t){Ne(t,!0);var n=Q0(),r=Me(n),i=ae(r),o=ge(r,2),s=ae(o),a=ge(o,2);{var u=d=>{var c=Z0(),h=ae(c);be(()=>{ye(c,"id",`${$0}-${t.store.flowId}`),Ye(h,t.store.ariaLiveMessage)}),te(d,c)};De(a,d=>{t.store.disableKeyboardA11y||d(u)})}be(()=>{ye(r,"id",`${of}-${t.store.flowId}`),Ye(i,t.store.disableKeyboardA11y?t.store.ariaLabelConfig["node.a11yDescription.default"]:t.store.ariaLabelConfig["node.a11yDescription.keyboardDisabled"]),ye(o,"id",`${sf}-${t.store.flowId}`),Ye(s,t.store.ariaLabelConfig["edge.a11yDescription.default"])}),te(e,n),ke()}const of="svelte-flow__node-desc",sf="svelte-flow__edge-desc",$0="svelte-flow__aria-live";var eb=de("<div><!></div>");function tb(e,t){Ne(t,!0);let n=ee(t,"store",15),r=H(()=>Mt(t.node.data,()=>({}),!0)),i=H(()=>Mt(t.node.selected,!1)),o=H(()=>t.node.draggable),s=H(()=>t.node.selectable),a=H(()=>Mt(t.node.deletable,!0)),u=H(()=>t.node.connectable),d=H(()=>t.node.focusable),c=H(()=>Mt(t.node.hidden,!1)),h=H(()=>Mt(t.node.dragging,!1)),f=H(()=>Mt(t.node.style,"")),g=H(()=>t.node.class),m=H(()=>Mt(t.node.type,"default")),b=H(()=>t.node.parentId),y=H(()=>t.node.sourcePosition),E=H(()=>t.node.targetPosition),w=H(()=>Mt(t.node.measured,()=>({width:0,height:0}),!0).width),S=H(()=>Mt(t.node.measured,()=>({width:0,height:0}),!0).height),p=H(()=>t.node.initialWidth),M=H(()=>t.node.initialHeight),A=H(()=>t.node.width),I=H(()=>t.node.height),k=H(()=>t.node.dragHandle),V=H(()=>Mt(t.node.internals.z,0)),D=H(()=>t.node.internals.positionAbsolute.x),N=H(()=>t.node.internals.positionAbsolute.y),_=H(()=>t.node.internals.userNode),{id:x}=t.node,v=H(()=>l(o)??n().nodesDraggable),O=H(()=>l(s)??n().elementsSelectable),T=H(()=>l(u)??n().nodesConnectable),P=H(()=>wy(t.node)),F=H(()=>!!t.node.internals.handleBounds),K=H(()=>l(P)&&l(F)),X=H(()=>l(d)??n().nodesFocusable);function G(fe){return n().parentLookup.has(fe)}let U=H(()=>G(x)),Z=Ie(null),R=null,C=l(m),B=l(y),Y=l(E),j=H(()=>n().nodeTypes[l(m)]??$d),Q=H(()=>n().ariaLabelConfig),re={get value(){return l(T)}};p0(x),y0(re);let ie=H(()=>{const fe=l(w)===void 0?l(A)??l(p):l(A),$=l(S)===void 0?l(I)??l(M):l(I);if(!(fe===void 0&&$===void 0&&l(f)===void 0))return`${l(f)};${fe?`width:${An(fe)};`:""}${$?`height:${An($)};`:""}`});et(()=>{(l(m)!==C||l(y)!==B||l(E)!==Y)&&l(Z)!==null&&requestAnimationFrame(()=>{l(Z)!==null&&n().updateNodeInternals(new Map([[x,{id:x,nodeElement:l(Z),force:!0}]]))}),C=l(m),B=l(y),Y=l(E)}),et(()=>{t.resizeObserver&&(!l(K)||l(Z)!==R)&&(R&&t.resizeObserver.unobserve(R),l(Z)&&t.resizeObserver.observe(l(Z)),R=l(Z))}),bo(()=>{var fe;R&&((fe=t.resizeObserver)==null||fe.unobserve(R))});function pe(fe){var $;l(O)&&(!n().selectNodesOnDrag||!l(v)||n().nodeDragThreshold>0)&&n().handleNodeSelection(x),($=t.onnodeclick)==null||$.call(t,{node:l(_),event:fe})}function me(fe){if(!(zd(fe)||n().disableKeyboardA11y))if(Cd.includes(fe.key)&&l(O)){const $=fe.key==="Escape";n().handleNodeSelection(x,$,l(Z))}else l(v)&&t.node.selected&&Object.prototype.hasOwnProperty.call(ss,fe.key)&&(fe.preventDefault(),n(n().ariaLiveMessage=l(Q)["node.a11yDescription.ariaLiveMessage"]({direction:fe.key.replace("Arrow","").toLowerCase(),x:~~t.node.internals.positionAbsolute.x,y:~~t.node.internals.positionAbsolute.y}),!0),n().moveSelectedNodes(ss[fe.key],fe.shiftKey?4:1))}const xe=()=>{var we;if(n().disableKeyboardA11y||!n().autoPanOnNodeFocus||!((we=l(Z))!=null&&we.matches(":focus-visible")))return;const{width:fe,height:$,viewport:le}=n();dl(new Map([[x,t.node]]),{x:0,y:0,width:fe,height:$},[le.x,le.y,le.zoom],!0).length>0||n().setCenter(t.node.position.x+(t.node.measured.width??0)/2,t.node.position.y+(t.node.measured.height??0)/2,{zoom:le.zoom})};var Se=tt(),oe=Me(Se);{var ne=fe=>{var $=eb();vn($,()=>({"data-id":x,class:["svelte-flow__node",`svelte-flow__node-${l(m)}`,l(g)],style:l(ie),onclick:pe,onpointerenter:t.onnodepointerenter?he=>t.onnodepointerenter({node:l(_),event:he}):void 0,onpointerleave:t.onnodepointerleave?he=>t.onnodepointerleave({node:l(_),event:he}):void 0,onpointermove:t.onnodepointermove?he=>t.onnodepointermove({node:l(_),event:he}):void 0,oncontextmenu:t.onnodecontextmenu?he=>t.onnodecontextmenu({node:l(_),event:he}):void 0,onkeydown:l(X)?me:void 0,onfocus:l(X)?xe:void 0,tabIndex:l(X)?0:void 0,role:t.node.ariaRole??(l(X)?"group":void 0),"aria-roledescription":"node","aria-describedby":n().disableKeyboardA11y?void 0:`${of}-${n().flowId}`,...t.node.domAttributes,[ir]:{dragging:l(h),selected:l(i),draggable:l(v),connectable:l(T),selectable:l(O),nopan:l(v),parent:l(U)},[Yn]:{"z-index":l(V),transform:`translate(${l(D)??""}px, ${l(N)??""}px)`,visibility:l(P)?"visible":"hidden"}}));var le=ae($);ws(le,()=>l(j),(he,we)=>{we(he,{get data(){return l(r)},get id(){return x},get selected(){return l(i)},get selectable(){return l(O)},get deletable(){return l(a)},get sourcePosition(){return l(y)},get targetPosition(){return l(E)},get zIndex(){return l(V)},get dragging(){return l(h)},get draggable(){return l(v)},get dragHandle(){return l(k)},get parentId(){return l(b)},get type(){return l(m)},get isConnectable(){return l(T)},get positionAbsoluteX(){return l(D)},get positionAbsoluteY(){return l(N)},get width(){return l(A)},get height(){return l(I)}})}),Lt($,(he,we)=>ii==null?void 0:ii(he,we),()=>({nodeId:x,isSelectable:l(O),disabled:!l(v),handleSelector:l(k),noDragClass:n().noDragClass,nodeClickDistance:t.nodeClickDistance,onNodeMouseDown:n().handleNodeSelection,onDrag:(he,we,Re,Le)=>{var Be;(Be=t.onnodedrag)==null||Be.call(t,{event:he,targetNode:Re,nodes:Le})},onDragStart:(he,we,Re,Le)=>{var Be;(Be=t.onnodedragstart)==null||Be.call(t,{event:he,targetNode:Re,nodes:Le})},onDragStop:(he,we,Re,Le)=>{var Be;(Be=t.onnodedragstop)==null||Be.call(t,{event:he,targetNode:Re,nodes:Le})},store:n()})),lt($,he=>W(Z,he),()=>l(Z)),te(fe,$)};De(oe,fe=>{l(c)||fe(ne)})}te(e,Se),ke()}var nb=de('<div class="svelte-flow__nodes"></div>');function rb(e,t){Ne(t,!0);let n=ee(t,"store",15);const r=typeof ResizeObserver>"u"?null:new ResizeObserver(o=>{const s=new Map;o.forEach(a=>{const u=a.target.getAttribute("data-id");s.set(u,{id:u,nodeElement:a.target,force:!0})}),n().updateNodeInternals(s)});bo(()=>{r==null||r.disconnect()});var i=nb();it(i,21,()=>n().visible.nodes.values(),o=>o.id,(o,s)=>{tb(o,{get node(){return l(s)},get resizeObserver(){return r},get nodeClickDistance(){return t.nodeClickDistance},get onnodeclick(){return t.onnodeclick},get onnodepointerenter(){return t.onnodepointerenter},get onnodepointermove(){return t.onnodepointermove},get onnodepointerleave(){return t.onnodepointerleave},get onnodedrag(){return t.onnodedrag},get onnodedragstart(){return t.onnodedragstart},get onnodedragstop(){return t.onnodedragstop},get onnodecontextmenu(){return t.onnodecontextmenu},get store(){return n()},set store(a){n(a)}})}),te(e,i),ke()}var ib=Gt('<svg class="svelte-flow__edge-wrapper"><g><!></g></svg>');function ob(e,t){Ne(t,!0);let n=H(()=>t.edge.id),r=H(()=>t.edge.source),i=H(()=>t.edge.target),o=H(()=>t.edge.sourceX),s=H(()=>t.edge.sourceY),a=H(()=>t.edge.targetX),u=H(()=>t.edge.targetY),d=H(()=>t.edge.sourcePosition),c=H(()=>t.edge.targetPosition),h=H(()=>Mt(t.edge.animated,!1)),f=H(()=>Mt(t.edge.selected,!1)),g=H(()=>t.edge.label),m=H(()=>t.edge.labelStyle),b=H(()=>Mt(t.edge.data,()=>({}),!0)),y=H(()=>t.edge.style),E=H(()=>t.edge.interactionWidth),w=H(()=>Mt(t.edge.type,"default")),S=H(()=>t.edge.sourceHandle),p=H(()=>t.edge.targetHandle),M=H(()=>t.edge.markerStart),A=H(()=>t.edge.markerEnd),I=H(()=>t.edge.selectable),k=H(()=>t.edge.focusable),V=H(()=>Mt(t.edge.deletable,!0)),D=H(()=>t.edge.hidden),N=H(()=>t.edge.zIndex),_=H(()=>t.edge.class),x=H(()=>t.edge.ariaLabel);_0(l(n));let v=null,O=H(()=>l(I)??t.store.elementsSelectable),T=H(()=>l(k)??t.store.edgesFocusable),P=H(()=>t.store.edgeTypes[l(w)]??ef),F=H(()=>l(M)?`url('#${Da(l(M),t.store.flowId)}')`:void 0),K=H(()=>l(A)?`url('#${Da(l(A),t.store.flowId)}')`:void 0);function X(B){var j;const Y=t.store.edgeLookup.get(l(n));Y&&(l(O)&&t.store.handleEdgeSelection(l(n)),(j=t.onedgeclick)==null||j.call(t,{event:B,edge:Y}))}function G(B,Y){const j=t.store.edgeLookup.get(l(n));j&&Y({event:B,edge:j})}function U(B){if(!t.store.disableKeyboardA11y&&Cd.includes(B.key)&&l(O)){const{unselectNodesAndEdges:Y,addSelectedEdges:j}=t.store;B.key==="Escape"?(v==null||v.blur(),Y({edges:[t.edge]})):j([l(n)])}}var Z=tt(),R=Me(Z);{var C=B=>{var Y=ib();let j;var Q=ae(Y);vn(Q,()=>({class:["svelte-flow__edge",l(_)],"data-id":l(n),onclick:X,oncontextmenu:t.onedgecontextmenu?ie=>{G(ie,t.onedgecontextmenu)}:void 0,onpointerenter:t.onedgepointerenter?ie=>{G(ie,t.onedgepointerenter)}:void 0,onpointerleave:t.onedgepointerleave?ie=>{G(ie,t.onedgepointerleave)}:void 0,"aria-label":l(x)===null?void 0:l(x)?l(x):`Edge from ${l(r)} to ${l(i)}`,"aria-describedby":l(T)?`${sf}-${t.store.flowId}`:void 0,role:t.edge.ariaRole??(l(T)?"group":"img"),"aria-roledescription":"edge",onkeydown:l(T)?U:void 0,tabindex:l(T)?0:void 0,...t.edge.domAttributes,[ir]:{animated:l(h),selected:l(f),selectable:l(O)}}));var re=ae(Q);ws(re,()=>l(P),(ie,pe)=>{pe(ie,{get id(){return l(n)},get source(){return l(r)},get target(){return l(i)},get sourceX(){return l(o)},get sourceY(){return l(s)},get targetX(){return l(a)},get targetY(){return l(u)},get sourcePosition(){return l(d)},get targetPosition(){return l(c)},get animated(){return l(h)},get selected(){return l(f)},get label(){return l(g)},get labelStyle(){return l(m)},get data(){return l(b)},get style(){return l(y)},get interactionWidth(){return l(E)},get selectable(){return l(O)},get deletable(){return l(V)},get type(){return l(w)},get sourceHandleId(){return l(S)},get targetHandleId(){return l(p)},get markerStart(){return l(F)},get markerEnd(){return l(K)}})}),lt(Q,ie=>v=ie,()=>v),be(()=>j=Ze(Y,"",j,{"z-index":l(N)})),te(B,Y)};De(R,B=>{l(D)||B(C)})}te(e,Z),ke()}hh();var sb=Gt("<defs></defs>");function ab(e,t){Ne(t,!1);const n=mr();Ln();var r=sb();it(r,5,()=>n.markers,i=>i.id,(i,o)=>{db(i,Xt(()=>l(o)))}),te(e,r),ke()}var lb=Gt('<polyline class="arrow" fill="none" stroke-linecap="round" stroke-linejoin="round" points="-5,-4 0,0 -5,4"></polyline>'),ub=Gt('<polyline class="arrowclosed" stroke-linecap="round" stroke-linejoin="round" points="-5,-4 0,0 -5,4 -5,-4"></polyline>'),cb=Gt('<marker class="svelte-flow__arrowhead" viewBox="-10 -10 20 20" refX="0" refY="0"><!></marker>');function db(e,t){Ne(t,!0);let n=ee(t,"width",3,12.5),r=ee(t,"height",3,12.5),i=ee(t,"markerUnits",3,"strokeWidth"),o=ee(t,"orient",3,"auto-start-reverse"),s=ee(t,"color",3,"none");var a=cb(),u=ae(a);{var d=h=>{var f=lb();let g;be(()=>{ye(f,"stroke-width",t.strokeWidth),g=Ze(f,"",g,{stroke:s()})}),te(h,f)},c=h=>{var f=ub();let g;be(()=>{ye(f,"stroke-width",t.strokeWidth),g=Ze(f,"",g,{stroke:s(),fill:s()})}),te(h,f)};De(u,h=>{t.type===ns.Arrow?h(d):t.type===ns.ArrowClosed&&h(c,1)})}be(()=>{ye(a,"id",t.id),ye(a,"markerWidth",`${n()}`),ye(a,"markerHeight",`${r()}`),ye(a,"markerUnits",i()),ye(a,"orient",o())}),te(e,a),ke()}var fb=de('<div class="svelte-flow__edges"><svg class="svelte-flow__marker"><!></svg> <!></div>');function hb(e,t){Ne(t,!0);let n=ee(t,"store",15);var r=fb(),i=ae(r),o=ae(i);ab(o,{});var s=ge(i,2);it(s,17,()=>n().visible.edges.values(),a=>a.id,(a,u)=>{ob(a,{get edge(){return l(u)},get onedgeclick(){return t.onedgeclick},get onedgecontextmenu(){return t.onedgecontextmenu},get onedgepointerenter(){return t.onedgepointerenter},get onedgepointerleave(){return t.onedgepointerleave},get store(){return n()},set store(d){n(d)}})}),te(e,r),ke()}var gb=de('<div class="svelte-flow__selection svelte-1f9lbg4"></div>');function af(e,t){Ne(t,!0);let n=ee(t,"x",3,0),r=ee(t,"y",3,0),i=ee(t,"width",3,0),o=ee(t,"height",3,0),s=ee(t,"isVisible",3,!0);var a=tt(),u=Me(a);{var d=c=>{var h=gb();let f;be(g=>f=Ze(h,"",f,g),[()=>({width:typeof i()=="string"?i():An(i()),height:typeof o()=="string"?o():An(o()),transform:`translate(${n()}px, ${r()}px)`})]),te(c,h)};De(u,c=>{s()&&c(d)})}te(e,a),ke()}var vb=de("<div><!></div>");function pb(e,t){Ne(t,!0);let n=Ie(void 0);et(()=>{var h;t.store.disableKeyboardA11y||(h=l(n))==null||h.focus({preventScroll:!0})});let r=H(()=>{if(t.store.selectionRectMode==="nodes"){t.store.nodes;const h=Os(t.store.nodeLookup,{filter:f=>!!f.selected});if(h.width>0&&h.height>0)return h}return null});function i(h){var g;const f=t.store.nodes.filter(m=>m.selected);(g=t.onselectioncontextmenu)==null||g.call(t,{nodes:f,event:h})}function o(h){var g;const f=t.store.nodes.filter(m=>m.selected);(g=t.onselectionclick)==null||g.call(t,{nodes:f,event:h})}function s(h){Object.prototype.hasOwnProperty.call(ss,h.key)&&(h.preventDefault(),t.store.moveSelectedNodes(ss[h.key],h.shiftKey?4:1))}var a=tt(),u=Me(a);{var d=h=>{var f=vb();f.__contextmenu=i,f.__click=o,f.__keydown=function(...b){var y;(y=t.store.disableKeyboardA11y?void 0:s)==null||y.apply(this,b)};let g;var m=ae(f);af(m,{width:"100%",height:"100%",x:0,y:0}),Lt(f,(b,y)=>ii==null?void 0:ii(b,y),()=>({disabled:!1,store:t.store,onDrag:(b,y,E,w)=>{var S;(S=t.onnodedrag)==null||S.call(t,{event:b,targetNode:null,nodes:w})},onDragStart:(b,y,E,w)=>{var S;(S=t.onnodedragstart)==null||S.call(t,{event:b,targetNode:null,nodes:w})},onDragStop:(b,y,E,w)=>{var S;(S=t.onnodedragstop)==null||S.call(t,{event:b,targetNode:null,nodes:w})}})),lt(f,b=>W(n,b),()=>l(n)),be(b=>{Ct(f,1,Wr(["svelte-flow__selection-wrapper",t.store.noPanClass]),"svelte-5rnsv4"),ye(f,"role",t.store.disableKeyboardA11y?void 0:"button"),ye(f,"tabindex",t.store.disableKeyboardA11y?void 0:-1),g=Ze(f,"",g,b)},[()=>({width:An(l(r).width),height:An(l(r).height),transform:`translate(${l(r).x??""}px, ${l(r).y??""}px)`})]),te(h,f)},c=H(()=>t.store.selectionRectMode==="nodes"&&l(r)&&Gn(l(r).x)&&Gn(l(r).y));De(u,h=>{l(c)&&h(d)})}te(e,a),ke()}mt(["contextmenu","click","keydown"]);function mb(e){switch(e){case"ctrl":return 8;case"shift":return 4;case"alt":return 2;case"meta":return 1}}function Ge(e,t){let{enabled:n=!0,trigger:r,type:i="keydown"}=t;function o(a){var c;const u=Array.isArray(r)?r:[r],d=[a.metaKey,a.altKey,a.shiftKey,a.ctrlKey].reduce((h,f,g)=>f?h|1<<g:h,0);for(const h of u){const f={preventDefault:!1,enabled:!0,...h},{modifier:g,key:m,callback:b,preventDefault:y,enabled:E}=f;if(E){if(a.key!==m)continue;if(g===null||g===!1){if(d!==0)continue}else if(g!==void 0&&((c=g==null?void 0:g[0])==null?void 0:c.length)>0){const S=Array.isArray(g)?g:[g];let p=!1;for(const M of S)if((Array.isArray(M)?M:[M]).reduce((I,k)=>I|mb(k),0)===d){p=!0;break}if(!p)continue}y&&a.preventDefault();const w={node:e,trigger:f,originalEvent:a};e.dispatchEvent(new CustomEvent("shortcut",{detail:w})),b==null||b(w)}}}let s;return n&&(s=ya(e,i,o)),{update:a=>{const{enabled:u=!0,type:d="keydown"}=a;n&&(!u||i!==d)?s==null||s():!n&&u&&(s=ya(e,d,o)),n=u,i=d,r=a.trigger},destroy:()=>{s==null||s()}}}function jr(){const e=H(mr),t=o=>{var d,c;const s=Tu(o)?o:l(e).nodeLookup.get(o.id),a=s.parentId?xy(s.position,s.measured,s.parentId,l(e).nodeLookup,l(e).nodeOrigin):s.position,u={...s,position:a,width:((d=s.measured)==null?void 0:d.width)??s.width,height:((c=s.measured)==null?void 0:c.height)??s.height};return wi(u)};function n(o,s,a={replace:!1}){l(e).nodes=Ve(()=>l(e).nodes).map(u=>{if(u.id===o){const d=typeof s=="function"?s(u):s;return a!=null&&a.replace&&Tu(d)?d:{...u,...d}}return u})}function r(o,s,a={replace:!1}){l(e).edges=Ve(()=>l(e).edges).map(u=>{if(u.id===o){const d=typeof s=="function"?s(u):s;return a.replace&&O0(d)?d:{...u,...d}}return u})}const i=o=>l(e).nodeLookup.get(o);return{zoomIn:l(e).zoomIn,zoomOut:l(e).zoomOut,getInternalNode:i,getNode:o=>{var s;return(s=i(o))==null?void 0:s.internals.userNode},getNodes:o=>o===void 0?l(e).nodes:Pu(l(e).nodeLookup,o),getEdge:o=>l(e).edgeLookup.get(o),getEdges:o=>o===void 0?l(e).edges:Pu(l(e).edgeLookup,o),setZoom:(o,s)=>{const a=l(e).panZoom;return a?a.scaleTo(o,{duration:s==null?void 0:s.duration}):Promise.resolve(!1)},getZoom:()=>l(e).viewport.zoom,setViewport:async(o,s)=>{const a=l(e).viewport;return l(e).panZoom?(await l(e).panZoom.setViewport({x:o.x??a.x,y:o.y??a.y,zoom:o.zoom??a.zoom},s),Promise.resolve(!0)):Promise.resolve(!1)},getViewport:()=>uc(l(e).viewport),setCenter:async(o,s,a)=>l(e).setCenter(o,s,a),fitView:o=>l(e).fitView(o),fitBounds:async(o,s)=>{if(!l(e).panZoom)return Promise.resolve(!1);const a=fl(o,l(e).width,l(e).height,l(e).minZoom,l(e).maxZoom,(s==null?void 0:s.padding)??.1);return await l(e).panZoom.setViewport(a,{duration:s==null?void 0:s.duration,ease:s==null?void 0:s.ease,interpolate:s==null?void 0:s.interpolate}),Promise.resolve(!0)},getIntersectingNodes:(o,s=!0,a)=>{const u=vu(o),d=u?o:t(o);return d?(a||l(e).nodes).filter(c=>{const h=l(e).nodeLookup.get(c.id);if(!h||!u&&c.id===o.id)return!1;const f=wi(h),g=$i(f,d);return s&&g>0||g>=f.width*f.height||g>=d.width*d.height}):[]},isNodeIntersecting:(o,s,a=!0)=>{const d=vu(o)?o:t(o);if(!d)return!1;const c=$i(d,s);return a&&c>0||c>=s.width*s.height||c>=d.width*d.height},deleteElements:async({nodes:o=[],edges:s=[]})=>{var d,c;const{nodes:a,edges:u}=await py({nodesToRemove:o,edgesToRemove:s,nodes:l(e).nodes,edges:l(e).edges,onBeforeDelete:l(e).onbeforedelete});return a&&(l(e).nodes=Ve(()=>l(e).nodes).filter(h=>!a.some(({id:f})=>f===h.id))),u&&(l(e).edges=Ve(()=>l(e).edges).filter(h=>!u.some(({id:f})=>f===h.id))),(a.length>0||u.length>0)&&((c=(d=l(e)).ondelete)==null||c.call(d,{nodes:a,edges:u})),{deletedNodes:a,deletedEdges:u}},screenToFlowPosition:(o,s={snapToGrid:!0})=>{if(!l(e).domNode)return o;const a=s.snapToGrid?l(e).snapGrid:!1,{x:u,y:d,zoom:c}=l(e).viewport,{x:h,y:f}=l(e).domNode.getBoundingClientRect(),g={x:o.x-h,y:o.y-f};return No(g,[u,d,c],a!==null,a||[1,1])},flowToScreenPosition:o=>{if(!l(e).domNode)return o;const{x:s,y:a,zoom:u}=l(e).viewport,{x:d,y:c}=l(e).domNode.getBoundingClientRect(),h=is(o,[s,a,u]);return{x:h.x+d,y:h.y+c}},toObject:()=>structuredClone({nodes:[...l(e).nodes],edges:[...l(e).edges],viewport:{...l(e).viewport}}),updateNode:n,updateNodeData:(o,s,a)=>{var c;const u=(c=l(e).nodeLookup.get(o))==null?void 0:c.internals.userNode;if(!u)return;const d=typeof s=="function"?s(u):s;n(o,h=>({...h,data:a!=null&&a.replace?d:{...h.data,...d}}))},updateEdge:r,getNodesBounds:o=>fy(o,{nodeLookup:l(e).nodeLookup,nodeOrigin:l(e).nodeOrigin}),getHandleConnections:({type:o,id:s,nodeId:a})=>{var u;return Array.from(((u=l(e).connectionLookup.get(`${a}-${o}-${s??null}`))==null?void 0:u.values())??[])}}}function Pu(e,t){var r;const n=[];for(const i of t){const o=e.get(i);if(o){const s="internals"in o?(r=o.internals)==null?void 0:r.userNode:o;n.push(s)}}return n}function yb(e,t){Ne(t,!0);let n=ee(t,"store",15),r=ee(t,"selectionKey",3,"Shift"),i=ee(t,"multiSelectionKey",19,()=>os()?"Meta":"Control"),o=ee(t,"deleteKey",3,"Backspace"),s=ee(t,"panActivationKey",3," "),a=ee(t,"zoomActivationKey",19,()=>os()?"Meta":"Control"),{deleteElements:u}=jr();function d(b){return b!==null&&typeof b=="object"}function c(b){return d(b)?b.modifier||[]:[]}function h(b){return b==null?"":d(b)?b.key:b}function f(b,y){return(Array.isArray(b)?b:[b]).map(w=>{const S=h(w);return{key:S,modifier:c(w),enabled:S!==null,callback:y}})}function g(){n(n().selectionRect=null,!0),n(n().selectionKeyPressed=!1,!0),n(n().multiselectionKeyPressed=!1,!0),n(n().deleteKeyPressed=!1,!0),n(n().panActivationKeyPressed=!1,!0),n(n().zoomActivationKeyPressed=!1,!0)}function m(){const b=n().nodes.filter(E=>E.selected),y=n().edges.filter(E=>E.selected);u({nodes:b,edges:y})}We("blur",ut,g),We("contextmenu",ut,g),Lt(ut,(b,y)=>Ge==null?void 0:Ge(b,y),()=>({trigger:f(r(),()=>n(n().selectionKeyPressed=!0,!0)),type:"keydown"})),Lt(ut,(b,y)=>Ge==null?void 0:Ge(b,y),()=>({trigger:f(r(),()=>n(n().selectionKeyPressed=!1,!0)),type:"keyup"})),Lt(ut,(b,y)=>Ge==null?void 0:Ge(b,y),()=>({trigger:f(i(),()=>{n(n().multiselectionKeyPressed=!0,!0)}),type:"keydown"})),Lt(ut,(b,y)=>Ge==null?void 0:Ge(b,y),()=>({trigger:f(i(),()=>n(n().multiselectionKeyPressed=!1,!0)),type:"keyup"})),Lt(ut,(b,y)=>Ge==null?void 0:Ge(b,y),()=>({trigger:f(o(),b=>{!(b.originalEvent.ctrlKey||b.originalEvent.metaKey||b.originalEvent.shiftKey)&&!zd(b.originalEvent)&&(n(n().deleteKeyPressed=!0,!0),m())}),type:"keydown"})),Lt(ut,(b,y)=>Ge==null?void 0:Ge(b,y),()=>({trigger:f(o(),()=>n(n().deleteKeyPressed=!1,!0)),type:"keyup"})),Lt(ut,(b,y)=>Ge==null?void 0:Ge(b,y),()=>({trigger:f(s(),()=>n(n().panActivationKeyPressed=!0,!0)),type:"keydown"})),Lt(ut,(b,y)=>Ge==null?void 0:Ge(b,y),()=>({trigger:f(s(),()=>n(n().panActivationKeyPressed=!1,!0)),type:"keyup"})),Lt(ut,(b,y)=>Ge==null?void 0:Ge(b,y),()=>({trigger:f(a(),()=>n(n().zoomActivationKeyPressed=!0,!0)),type:"keydown"})),Lt(ut,(b,y)=>Ge==null?void 0:Ge(b,y),()=>({trigger:f(a(),()=>n(n().zoomActivationKeyPressed=!1,!0)),type:"keyup"})),ke()}var bb=Gt('<path fill="none" class="svelte-flow__connection-path"></path>'),_b=Gt('<svg class="svelte-flow__connectionline"><g><!></g></svg>');function wb(e,t){Ne(t,!0);let n=H(()=>{if(!t.store.connection.inProgress)return"";const s={sourceX:t.store.connection.from.x,sourceY:t.store.connection.from.y,sourcePosition:t.store.connection.fromPosition,targetX:t.store.connection.to.x,targetY:t.store.connection.to.y,targetPosition:t.store.connection.toPosition};switch(t.type){case or.Bezier:{const[a]=Fd(s);return a}case or.Straight:{const[a]=Kd(s);return a}case or.Step:case or.SmoothStep:{const[a]=hl({...s,borderRadius:t.type===or.Step?0:void 0});return a}}});var r=tt(),i=Me(r);{var o=s=>{var a=_b(),u=ae(a),d=ae(u);{var c=f=>{var g=tt(),m=Me(g);ws(m,()=>t.LineComponent,(b,y)=>{y(b,{})}),te(f,g)},h=f=>{var g=bb();be(()=>{ye(g,"d",l(n)),Ze(g,t.style)}),te(f,g)};De(d,f=>{t.LineComponent?f(c):f(h,!1)})}be(f=>{ye(a,"width",t.store.width),ye(a,"height",t.store.height),Ze(a,t.containerStyle),Ct(u,0,f)},[()=>Wr(["svelte-flow__connection",cy(t.store.connection.isValid)])]),te(s,a)};De(i,s=>{t.store.connection.inProgress&&s(o)})}te(e,r),ke()}var xb=de("<div><!></div>");function bl(e,t){Ne(t,!0);let n=ee(t,"position",3,"top-right"),r=Yr(t,["$$slots","$$events","$$legacy","position","style","class","children"]),i=H(()=>`${n()}`.split("-"));var o=xb();vn(o,a=>({class:a,style:t.style,...r}),[()=>["svelte-flow__panel",t.class,...l(i)]]);var s=ae(o);Rn(s,()=>t.children??gr),te(e,o),ke()}var Eb=de('<a href="https://svelteflow.dev" target="_blank" rel="noopener noreferrer" aria-label="Svelte Flow attribution">Svelte Flow</a>');function Nb(e,t){Ne(t,!0);let n=ee(t,"position",3,"bottom-right");var r=tt(),i=Me(r);{var o=s=>{bl(s,{get position(){return n()},class:"svelte-flow__attribution","data-message":"Feel free to remove the attribution or check out how you could support us: https://svelteflow.dev/support-us",children:(a,u)=>{var d=Eb();te(a,d)},$$slots:{default:!0}})};De(i,s=>{var a;(a=t.proOptions)!=null&&a.hideAttribution||s(o)})}te(e,r),ke()}var kb=de("<div><!></div>");function Ib(e,t){Ne(t,!0);let n=ee(t,"domNode",15),r=ee(t,"clientWidth",15),i=ee(t,"clientHeight",15),o=H(()=>t.rest.class),s=H(()=>Xh(t.rest,["id","class","nodeTypes","edgeTypes","colorMode","isValidConnection","onmove","onmovestart","onmoveend","onflowerror","ondelete","onbeforedelete","onbeforeconnect","onconnect","onconnectstart","onconnectend","onbeforereconnect","onreconnect","onreconnectstart","onreconnectend","onclickconnectstart","onclickconnectend","oninit","onselectionchange","onselectiondragstart","onselectiondrag","onselectiondragstop","onselectionstart","onselectionend","clickConnect","fitView","fitViewOptions","nodeOrigin","nodeDragThreshold","connectionDragThreshold","minZoom","maxZoom","initialViewport","connectionRadius","connectionMode","selectionMode","selectNodesOnDrag","snapGrid","defaultMarkerColor","translateExtent","nodeExtent","onlyRenderVisibleElements","autoPanOnConnect","autoPanOnNodeDrag","colorModeSSR","defaultEdgeOptions","elevateNodesOnSelect","elevateEdgesOnSelect","nodesDraggable","autoPanOnNodeFocus","nodesConnectable","elementsSelectable","nodesFocusable","edgesFocusable","disableKeyboardA11y","noDragClass","noPanClass","noWheelClass","ariaLabelConfig","autoPanSpeed","panOnScrollSpeed","zIndexMode"]));function a(c){c.currentTarget.scrollTo({top:0,left:0,behavior:"auto"}),t.rest.onscroll&&t.rest.onscroll(c)}var u=kb();vn(u,c=>({class:["svelte-flow","svelte-flow__container",l(o),t.colorMode],"data-testid":"svelte-flow__wrapper",role:"application",onscroll:a,...l(s),[Yn]:c}),[()=>({width:An(t.width),height:An(t.height)})],void 0,void 0,"svelte-rhpwh");var d=ae(u);Rn(d,()=>t.children??gr),lt(u,c=>n(c),()=>n()),jl(u,"clientHeight",i),jl(u,"clientWidth",r),te(e,u),ke()}var Sb=de('<div class="svelte-flow__viewport-back svelte-flow__container"></div> <!> <div class="svelte-flow__edge-labels svelte-flow__container"></div> <!> <!> <!> <div class="svelte-flow__viewport-front svelte-flow__container"></div>',1),Tb=de("<!> <!>",1),Ob=de("<!> <!> <!> <!> <!>",1);function Cb(e,t){Ne(t,!0);let n=ee(t,"paneClickDistance",3,1),r=ee(t,"nodeClickDistance",3,1),i=ee(t,"panOnScrollMode",19,()=>ri.Free),o=ee(t,"preventScrolling",3,!0),s=ee(t,"zoomOnScroll",3,!0),a=ee(t,"zoomOnDoubleClick",3,!0),u=ee(t,"zoomOnPinch",3,!0),d=ee(t,"panOnScroll",3,!1),c=ee(t,"panOnScrollSpeed",3,.5),h=ee(t,"panOnDrag",3,!0),f=ee(t,"selectionOnDrag",3,!1),g=ee(t,"connectionLineType",19,()=>or.Bezier),m=ee(t,"nodes",31,()=>fn([])),b=ee(t,"edges",31,()=>fn([])),y=ee(t,"viewport",15,void 0),E=Yr(t,["$$slots","$$events","$$legacy","width","height","proOptions","selectionKey","deleteKey","panActivationKey","multiSelectionKey","zoomActivationKey","paneClickDistance","nodeClickDistance","onmovestart","onmoveend","onmove","oninit","onnodeclick","onnodecontextmenu","onnodedrag","onnodedragstart","onnodedragstop","onnodepointerenter","onnodepointermove","onnodepointerleave","onselectionclick","onselectioncontextmenu","onselectionstart","onselectionend","onedgeclick","onedgecontextmenu","onedgepointerenter","onedgepointerleave","onpaneclick","onpanecontextmenu","panOnScrollMode","preventScrolling","zoomOnScroll","zoomOnDoubleClick","zoomOnPinch","panOnScroll","panOnScrollSpeed","panOnDrag","selectionOnDrag","connectionLineComponent","connectionLineStyle","connectionLineContainerStyle","connectionLineType","attributionPosition","children","nodes","edges","viewport"]),w=rf({props:E,width:t.width,height:t.height,get nodes(){return m()},set nodes(p){m(p)},get edges(){return b()},set edges(p){b(p)},get viewport(){return y()},set viewport(p){y(p)}});const S=ja(as);S&&S.setStore&&S.setStore(w),Ga(as,{provider:!1,getStore(){return w}}),et(()=>{var M;const p={nodes:w.selectedNodes,edges:w.selectedEdges};(M=Ve(()=>t.onselectionchange))==null||M(p);for(const A of w.selectionChangeHandlers.values())A(p)}),bo(()=>{w.reset()}),Ib(e,{get colorMode(){return w.colorMode},get width(){return t.width},get height(){return t.height},get rest(){return E},get domNode(){return w.domNode},set domNode(p){w.domNode=p},get clientWidth(){return w.width},set clientWidth(p){w.width=p},get clientHeight(){return w.height},set clientHeight(p){w.height=p},children:(p,M)=>{var A=Ob(),I=Me(A);yb(I,{get selectionKey(){return t.selectionKey},get deleteKey(){return t.deleteKey},get panActivationKey(){return t.panActivationKey},get multiSelectionKey(){return t.multiSelectionKey},get zoomActivationKey(){return t.zoomActivationKey},get store(){return w},set store(_){w=_}});var k=ge(I,2);X0(k,{get panOnScrollMode(){return i()},get preventScrolling(){return o()},get zoomOnScroll(){return s()},get zoomOnDoubleClick(){return a()},get zoomOnPinch(){return u()},get panOnScroll(){return d()},get panOnScrollSpeed(){return c()},get panOnDrag(){return h()},get paneClickDistance(){return n()},get selectionOnDrag(){return f()},get onmovestart(){return t.onmovestart},get onmove(){return t.onmove},get onmoveend(){return t.onmoveend},get oninit(){return t.oninit},get store(){return w},set store(_){w=_},children:(_,x)=>{G0(_,{get onpaneclick(){return t.onpaneclick},get onpanecontextmenu(){return t.onpanecontextmenu},get onselectionstart(){return t.onselectionstart},get onselectionend(){return t.onselectionend},get panOnDrag(){return h()},get paneClickDistance(){return n()},get selectionOnDrag(){return f()},get store(){return w},set store(v){w=v},children:(v,O)=>{var T=Tb(),P=Me(T);q0(P,{get store(){return w},set store(K){w=K},children:(K,X)=>{var G=Sb(),U=ge(Me(G),2);hb(U,{get onedgeclick(){return t.onedgeclick},get onedgecontextmenu(){return t.onedgecontextmenu},get onedgepointerenter(){return t.onedgepointerenter},get onedgepointerleave(){return t.onedgepointerleave},get store(){return w},set store(B){w=B}});var Z=ge(U,4);wb(Z,{get type(){return g()},get LineComponent(){return t.connectionLineComponent},get containerStyle(){return t.connectionLineContainerStyle},get style(){return t.connectionLineStyle},get store(){return w},set store(B){w=B}});var R=ge(Z,2);rb(R,{get nodeClickDistance(){return r()},get onnodeclick(){return t.onnodeclick},get onnodecontextmenu(){return t.onnodecontextmenu},get onnodepointerenter(){return t.onnodepointerenter},get onnodepointermove(){return t.onnodepointermove},get onnodepointerleave(){return t.onnodepointerleave},get onnodedrag(){return t.onnodedrag},get onnodedragstart(){return t.onnodedragstart},get onnodedragstop(){return t.onnodedragstop},get store(){return w},set store(B){w=B}});var C=ge(R,2);pb(C,{get onselectionclick(){return t.onselectionclick},get onselectioncontextmenu(){return t.onselectioncontextmenu},get onnodedrag(){return t.onnodedrag},get onnodedragstart(){return t.onnodedragstart},get onnodedragstop(){return t.onnodedragstop},get store(){return w},set store(B){w=B}}),te(K,G)},$$slots:{default:!0}});var F=ge(P,2);{let K=H(()=>!!(w.selectionRect&&w.selectionRectMode==="user")),X=H(()=>{var R;return(R=w.selectionRect)==null?void 0:R.width}),G=H(()=>{var R;return(R=w.selectionRect)==null?void 0:R.height}),U=H(()=>{var R;return(R=w.selectionRect)==null?void 0:R.x}),Z=H(()=>{var R;return(R=w.selectionRect)==null?void 0:R.y});af(F,{get isVisible(){return l(K)},get width(){return l(X)},get height(){return l(G)},get x(){return l(U)},get y(){return l(Z)}})}te(v,T)},$$slots:{default:!0}})},$$slots:{default:!0}});var V=ge(k,2);Nb(V,{get proOptions(){return t.proOptions},get position(){return t.attributionPosition}});var D=ge(V,2);J0(D,{get store(){return w}});var N=ge(D,2);Rn(N,()=>t.children??gr),te(p,A)},$$slots:{default:!0}}),ke()}function Mb(e,t){Ne(t,!0);let n=Ie(rf({props:{},nodes:[],edges:[]}));Ga(as,{provider:!0,getStore(){return l(n)},setStore:o=>{W(n,o)}}),bo(()=>{l(n).reset()});var r=tt(),i=Me(r);Rn(i,()=>t.children??gr),te(e,r),ke()}var dr;(function(e){e.Lines="lines",e.Dots="dots",e.Cross="cross"})(dr||(dr={}));var Ab=Gt("<circle></circle>");function Pb(e,t){var n=Ab();be(()=>{ye(n,"cx",t.radius),ye(n,"cy",t.radius),ye(n,"r",t.radius),Ct(n,0,Wr(["svelte-flow__background-pattern","dots",t.class]))}),te(e,n)}var Db=Gt("<path></path>");function Rb(e,t){Ne(t,!0);var n=Db();be(()=>{ye(n,"stroke-width",t.lineWidth),ye(n,"d",`M${t.dimensions[0]/2} 0 V${t.dimensions[1]} M0 ${t.dimensions[1]/2} H${t.dimensions[0]}`),Ct(n,0,Wr(["svelte-flow__background-pattern",t.variant,t.class]))}),te(e,n),ke()}const Lb={[dr.Dots]:1,[dr.Lines]:1,[dr.Cross]:6};var zb=Gt('<svg data-testid="svelte-flow__background"><pattern patternUnits="userSpaceOnUse"><!></pattern><rect x="0" y="0" width="100%" height="100%"></rect></svg>');function Vb(e,t){Ne(t,!0);let n=ee(t,"variant",19,()=>dr.Dots),r=ee(t,"gap",3,20),i=ee(t,"lineWidth",3,1),o=H(mr),s=H(()=>n()===dr.Dots),a=H(()=>n()===dr.Cross),u=H(()=>Array.isArray(r())?r():[r(),r()]),d=H(()=>`background-pattern-${l(o).flowId}-${t.id??""}`),c=H(()=>[l(u)[0]*l(o).viewport.zoom||1,l(u)[1]*l(o).viewport.zoom||1]),h=H(()=>(t.size??Lb[n()])*l(o).viewport.zoom),f=H(()=>l(a)?[l(h),l(h)]:l(c)),g=H(()=>l(s)?[l(h)/2,l(h)/2]:[l(f)[0]/2,l(f)[1]/2]);var m=zb();let b;var y=ae(m),E=ae(y);{var w=M=>{{let A=H(()=>l(h)/2);Pb(M,{get radius(){return l(A)},get class(){return t.patternClass}})}},S=M=>{Rb(M,{get dimensions(){return l(f)},get variant(){return n()},get lineWidth(){return i()},get class(){return t.patternClass}})};De(E,M=>{l(s)?M(w):M(S,!1)})}var p=ge(y);be(()=>{Ct(m,0,Wr(["svelte-flow__background","svelte-flow__container",t.class])),b=Ze(m,"",b,{"--xy-background-color-props":t.bgColor,"--xy-background-pattern-color-props":t.patternColor}),ye(y,"id",l(d)),ye(y,"x",l(o).viewport.x%l(c)[0]),ye(y,"y",l(o).viewport.y%l(c)[1]),ye(y,"width",l(c)[0]),ye(y,"height",l(c)[1]),ye(y,"patternTransform",`translate(-${l(g)[0]},-${l(g)[1]})`),ye(p,"fill",`url(#${l(d)})`)}),te(e,m),ke()}var Fb=de("<div><!></div>");function Du(e,t){Ne(t,!0);let n=ee(t,"variant",19,()=>eo.Handle),r=ee(t,"minWidth",3,10),i=ee(t,"minHeight",3,10),o=ee(t,"maxWidth",19,()=>Number.MAX_VALUE),s=ee(t,"maxHeight",19,()=>Number.MAX_VALUE),a=ee(t,"keepAspectRatio",3,!1),u=ee(t,"autoScale",3,!0),d=Yr(t,["$$slots","$$events","$$legacy","nodeId","position","variant","color","minWidth","minHeight","maxWidth","maxHeight","keepAspectRatio","resizeDirection","autoScale","shouldResize","onResizeStart","onResize","onResizeEnd","class","children"]);const c=mr(),h=Jd();let f=H(()=>typeof t.nodeId=="string"?t.nodeId:h);if(!l(f))throw new Error("Either pass a nodeId or use within a Custom Node component");let g,m=Ie(null),b=H(()=>n()===eo.Line),y=H(()=>{let p=l(b)?"right":"bottom-right";return t.position??p}),E=H(()=>l(y).split("-"));nl(()=>(g&&W(m,v0({domNode:g,nodeId:l(f),getStoreItems:()=>({nodeLookup:c.nodeLookup,transform:[c.viewport.x,c.viewport.y,c.viewport.zoom],snapGrid:c.snapGrid??void 0,snapToGrid:!!c.snapGrid,nodeOrigin:c.nodeOrigin,paneDomNode:c.domNode}),onChange:(p,M)=>{const A=new Map;A.set(l(f),p);for(const I of M)A.set(I.id,{x:I.position.x,y:I.position.y});c.nodes=c.nodes.map(I=>{const k=A.get(I.id),V=!t.resizeDirection||t.resizeDirection==="horizontal",D=!t.resizeDirection||t.resizeDirection==="vertical";return k?{...I,position:{x:V?k.x??I.position.x:I.position.x,y:D?k.y??I.position.y:I.position.y},width:V?k.width??I.width:I.width,height:D?k.height??I.height:I.height}:I})}}),!0),()=>{var p;(p=l(m))==null||p.destroy()})),Ja(()=>{var p;(p=l(m))==null||p.update({controlPosition:l(y),boundaries:{minWidth:r(),minHeight:i(),maxWidth:o(),maxHeight:s()},keepAspectRatio:!!a(),resizeDirection:t.resizeDirection,onResizeStart:t.onResizeStart,onResize:t.onResize,onResizeEnd:t.onResizeEnd,shouldResize:t.shouldResize})});var w=Fb();vn(w,(p,M)=>({class:p,...d,[Yn]:M}),[()=>["svelte-flow__resize-control",c.noDragClass,...l(E),n(),t.class],()=>({"border-color":l(b)?t.color:void 0,"background-color":l(b)?void 0:t.color,scale:l(b)||!u()?void 0:Math.max(1/c.viewport.zoom,1)})]);var S=ae(w);Rn(S,()=>t.children??gr),lt(w,p=>g=p,()=>g),te(e,w),ke()}var Hb=de("<!> <!>",1);function Kb(e,t){Ne(t,!0);let n=ee(t,"isVisible",3,!0),r=ee(t,"autoScale",3,!0),i=Yr(t,["$$slots","$$events","$$legacy","isVisible","nodeId","handleClass","handleStyle","lineClass","lineStyle","autoScale"]);var o=tt(),s=Me(o);{var a=u=>{var d=Hb(),c=Me(d);it(c,16,()=>u0,f=>f,(f,g)=>{Du(f,Xt({get class(){return t.lineClass},get style(){return t.lineStyle},get nodeId(){return t.nodeId},get position(){return g},get autoScale(){return r()},get variant(){return eo.Line}},()=>i))});var h=ge(c,2);it(h,16,()=>l0,f=>f,(f,g)=>{Du(f,Xt({get class(){return t.handleClass},get style(){return t.handleStyle},get nodeId(){return t.nodeId},get position(){return g},get autoScale(){return r()}},()=>i))}),te(u,d)};De(s,u=>{n()&&u(a)})}te(e,o),ke()}function lf(){const e=H(mr);return{get current(){return l(e).viewport},set current(t){l(e).viewport=t},update(t){l(e).viewport=t(l(e).viewport)},set(t){l(e).viewport=t}}}const Et=fn({}),Ra="datanode",La="rawjson",za="link",ia="group",Ru="comment",uf="input",Bb="input",Lu="output",ls="input",Wb="create-group",Yb="create-comment",Xb="create-raw-json",jb="create-link",Gb="hytale-node-editor-comment-mutation",Ub="hytale-node-editor-custom-mutation",qb="hytale-node-editor-raw-json-mutation";var Qe=(e,t)=>()=>(t||e((t={exports:{}}).exports,t),t.exports),pn=Qe((e,t)=>{var n=Object.defineProperty,r=(x,v,O)=>v in x?n(x,v,{enumerable:!0,configurable:!0,writable:!0,value:O}):x[v]=O,i=(x,v)=>()=>(v||x((v={exports:{}}).exports,v),v.exports),o=(x,v,O)=>r(x,typeof v!="symbol"?v+"":v,O),s=i((x,v)=>{var O="\0",T="\0",P="",F=class{constructor(R){o(this,"_isDirected",!0),o(this,"_isMultigraph",!1),o(this,"_isCompound",!1),o(this,"_label"),o(this,"_defaultNodeLabelFn",()=>{}),o(this,"_defaultEdgeLabelFn",()=>{}),o(this,"_nodes",{}),o(this,"_in",{}),o(this,"_preds",{}),o(this,"_out",{}),o(this,"_sucs",{}),o(this,"_edgeObjs",{}),o(this,"_edgeLabels",{}),o(this,"_nodeCount",0),o(this,"_edgeCount",0),o(this,"_parent"),o(this,"_children"),R&&(this._isDirected=Object.hasOwn(R,"directed")?R.directed:!0,this._isMultigraph=Object.hasOwn(R,"multigraph")?R.multigraph:!1,this._isCompound=Object.hasOwn(R,"compound")?R.compound:!1),this._isCompound&&(this._parent={},this._children={},this._children[T]={})}isDirected(){return this._isDirected}isMultigraph(){return this._isMultigraph}isCompound(){return this._isCompound}setGraph(R){return this._label=R,this}graph(){return this._label}setDefaultNodeLabel(R){return this._defaultNodeLabelFn=R,typeof R!="function"&&(this._defaultNodeLabelFn=()=>R),this}nodeCount(){return this._nodeCount}nodes(){return Object.keys(this._nodes)}sources(){var R=this;return this.nodes().filter(C=>Object.keys(R._in[C]).length===0)}sinks(){var R=this;return this.nodes().filter(C=>Object.keys(R._out[C]).length===0)}setNodes(R,C){var B=arguments,Y=this;return R.forEach(function(j){B.length>1?Y.setNode(j,C):Y.setNode(j)}),this}setNode(R,C){return Object.hasOwn(this._nodes,R)?(arguments.length>1&&(this._nodes[R]=C),this):(this._nodes[R]=arguments.length>1?C:this._defaultNodeLabelFn(R),this._isCompound&&(this._parent[R]=T,this._children[R]={},this._children[T][R]=!0),this._in[R]={},this._preds[R]={},this._out[R]={},this._sucs[R]={},++this._nodeCount,this)}node(R){return this._nodes[R]}hasNode(R){return Object.hasOwn(this._nodes,R)}removeNode(R){var C=this;if(Object.hasOwn(this._nodes,R)){var B=Y=>C.removeEdge(C._edgeObjs[Y]);delete this._nodes[R],this._isCompound&&(this._removeFromParentsChildList(R),delete this._parent[R],this.children(R).forEach(function(Y){C.setParent(Y)}),delete this._children[R]),Object.keys(this._in[R]).forEach(B),delete this._in[R],delete this._preds[R],Object.keys(this._out[R]).forEach(B),delete this._out[R],delete this._sucs[R],--this._nodeCount}return this}setParent(R,C){if(!this._isCompound)throw new Error("Cannot set parent in a non-compound graph");if(C===void 0)C=T;else{C+="";for(var B=C;B!==void 0;B=this.parent(B))if(B===R)throw new Error("Setting "+C+" as parent of "+R+" would create a cycle");this.setNode(C)}return this.setNode(R),this._removeFromParentsChildList(R),this._parent[R]=C,this._children[C][R]=!0,this}_removeFromParentsChildList(R){delete this._children[this._parent[R]][R]}parent(R){if(this._isCompound){var C=this._parent[R];if(C!==T)return C}}children(R=T){if(this._isCompound){var C=this._children[R];if(C)return Object.keys(C)}else{if(R===T)return this.nodes();if(this.hasNode(R))return[]}}predecessors(R){var C=this._preds[R];if(C)return Object.keys(C)}successors(R){var C=this._sucs[R];if(C)return Object.keys(C)}neighbors(R){var C=this.predecessors(R);if(C){let Y=new Set(C);for(var B of this.successors(R))Y.add(B);return Array.from(Y.values())}}isLeaf(R){var C;return this.isDirected()?C=this.successors(R):C=this.neighbors(R),C.length===0}filterNodes(R){var C=new this.constructor({directed:this._isDirected,multigraph:this._isMultigraph,compound:this._isCompound});C.setGraph(this.graph());var B=this;Object.entries(this._nodes).forEach(function([Q,re]){R(Q)&&C.setNode(Q,re)}),Object.values(this._edgeObjs).forEach(function(Q){C.hasNode(Q.v)&&C.hasNode(Q.w)&&C.setEdge(Q,B.edge(Q))});var Y={};function j(Q){var re=B.parent(Q);return re===void 0||C.hasNode(re)?(Y[Q]=re,re):re in Y?Y[re]:j(re)}return this._isCompound&&C.nodes().forEach(Q=>C.setParent(Q,j(Q))),C}setDefaultEdgeLabel(R){return this._defaultEdgeLabelFn=R,typeof R!="function"&&(this._defaultEdgeLabelFn=()=>R),this}edgeCount(){return this._edgeCount}edges(){return Object.values(this._edgeObjs)}setPath(R,C){var B=this,Y=arguments;return R.reduce(function(j,Q){return Y.length>1?B.setEdge(j,Q,C):B.setEdge(j,Q),Q}),this}setEdge(){var R,C,B,Y,j=!1,Q=arguments[0];typeof Q=="object"&&Q!==null&&"v"in Q?(R=Q.v,C=Q.w,B=Q.name,arguments.length===2&&(Y=arguments[1],j=!0)):(R=Q,C=arguments[1],B=arguments[3],arguments.length>2&&(Y=arguments[2],j=!0)),R=""+R,C=""+C,B!==void 0&&(B=""+B);var re=G(this._isDirected,R,C,B);if(Object.hasOwn(this._edgeLabels,re))return j&&(this._edgeLabels[re]=Y),this;if(B!==void 0&&!this._isMultigraph)throw new Error("Cannot set a named edge when isMultigraph = false");this.setNode(R),this.setNode(C),this._edgeLabels[re]=j?Y:this._defaultEdgeLabelFn(R,C,B);var ie=U(this._isDirected,R,C,B);return R=ie.v,C=ie.w,Object.freeze(ie),this._edgeObjs[re]=ie,K(this._preds[C],R),K(this._sucs[R],C),this._in[C][re]=ie,this._out[R][re]=ie,this._edgeCount++,this}edge(R,C,B){var Y=arguments.length===1?Z(this._isDirected,arguments[0]):G(this._isDirected,R,C,B);return this._edgeLabels[Y]}edgeAsObj(){let R=this.edge(...arguments);return typeof R!="object"?{label:R}:R}hasEdge(R,C,B){var Y=arguments.length===1?Z(this._isDirected,arguments[0]):G(this._isDirected,R,C,B);return Object.hasOwn(this._edgeLabels,Y)}removeEdge(R,C,B){var Y=arguments.length===1?Z(this._isDirected,arguments[0]):G(this._isDirected,R,C,B),j=this._edgeObjs[Y];return j&&(R=j.v,C=j.w,delete this._edgeLabels[Y],delete this._edgeObjs[Y],X(this._preds[C],R),X(this._sucs[R],C),delete this._in[C][Y],delete this._out[R][Y],this._edgeCount--),this}inEdges(R,C){return this.isDirected()?this.filterEdges(this._in[R],R,C):this.nodeEdges(R,C)}outEdges(R,C){return this.isDirected()?this.filterEdges(this._out[R],R,C):this.nodeEdges(R,C)}nodeEdges(R,C){if(R in this._nodes)return this.filterEdges({...this._in[R],...this._out[R]},R,C)}filterEdges(R,C,B){if(R){var Y=Object.values(R);return B?Y.filter(function(j){return j.v===C&&j.w===B||j.v===B&&j.w===C}):Y}}};function K(R,C){R[C]?R[C]++:R[C]=1}function X(R,C){--R[C]||delete R[C]}function G(R,C,B,Y){var j=""+C,Q=""+B;if(!R&&j>Q){var re=j;j=Q,Q=re}return j+P+Q+P+(Y===void 0?O:Y)}function U(R,C,B,Y){var j=""+C,Q=""+B;if(!R&&j>Q){var re=j;j=Q,Q=re}var ie={v:j,w:Q};return Y&&(ie.name=Y),ie}function Z(R,C){return G(R,C.v,C.w,C.name)}v.exports=F}),a=i((x,v)=>{v.exports="3.0.2"}),u=i((x,v)=>{v.exports={Graph:s(),version:a()}}),d=i((x,v)=>{var O=s();v.exports={write:T,read:K};function T(X){var G={options:{directed:X.isDirected(),multigraph:X.isMultigraph(),compound:X.isCompound()},nodes:P(X),edges:F(X)};return X.graph()!==void 0&&(G.value=structuredClone(X.graph())),G}function P(X){return X.nodes().map(function(G){var U=X.node(G),Z=X.parent(G),R={v:G};return U!==void 0&&(R.value=U),Z!==void 0&&(R.parent=Z),R})}function F(X){return X.edges().map(function(G){var U=X.edge(G),Z={v:G.v,w:G.w};return G.name!==void 0&&(Z.name=G.name),U!==void 0&&(Z.value=U),Z})}function K(X){var G=new O(X.options).setGraph(X.value);return X.nodes.forEach(function(U){G.setNode(U.v,U.value),U.parent&&G.setParent(U.v,U.parent)}),X.edges.forEach(function(U){G.setEdge({v:U.v,w:U.w,name:U.name},U.value)}),G}}),c=i((x,v)=>{v.exports=T;var O=()=>1;function T(F,K,X,G){return P(F,String(K),X||O,G||function(U){return F.outEdges(U)})}function P(F,K,X,G){var U={},Z=!0,R=0,C=F.nodes(),B=function(re){var ie=X(re);U[re.v].distance+ie<U[re.w].distance&&(U[re.w]={distance:U[re.v].distance+ie,predecessor:re.v},Z=!0)},Y=function(){C.forEach(function(re){G(re).forEach(function(ie){var pe=ie.v===re?ie.v:ie.w,me=pe===ie.v?ie.w:ie.v;B({v:pe,w:me})})})};C.forEach(function(re){var ie=re===K?0:Number.POSITIVE_INFINITY;U[re]={distance:ie}});for(var j=C.length,Q=1;Q<j&&(Z=!1,R++,Y(),!!Z);Q++);if(R===j-1&&(Z=!1,Y(),Z))throw new Error("The graph contains a negative weight cycle");return U}}),h=i((x,v)=>{v.exports=O;function O(T){var P={},F=[],K;function X(G){Object.hasOwn(P,G)||(P[G]=!0,K.push(G),T.successors(G).forEach(X),T.predecessors(G).forEach(X))}return T.nodes().forEach(function(G){K=[],X(G),K.length&&F.push(K)}),F}}),f=i((x,v)=>{var O=class{constructor(){o(this,"_arr",[]),o(this,"_keyIndices",{})}size(){return this._arr.length}keys(){return this._arr.map(function(T){return T.key})}has(T){return Object.hasOwn(this._keyIndices,T)}priority(T){var P=this._keyIndices[T];if(P!==void 0)return this._arr[P].priority}min(){if(this.size()===0)throw new Error("Queue underflow");return this._arr[0].key}add(T,P){var F=this._keyIndices;if(T=String(T),!Object.hasOwn(F,T)){var K=this._arr,X=K.length;return F[T]=X,K.push({key:T,priority:P}),this._decrease(X),!0}return!1}removeMin(){this._swap(0,this._arr.length-1);var T=this._arr.pop();return delete this._keyIndices[T.key],this._heapify(0),T.key}decrease(T,P){var F=this._keyIndices[T];if(P>this._arr[F].priority)throw new Error("New priority is greater than current priority. Key: "+T+" Old: "+this._arr[F].priority+" New: "+P);this._arr[F].priority=P,this._decrease(F)}_heapify(T){var P=this._arr,F=2*T,K=F+1,X=T;F<P.length&&(X=P[F].priority<P[X].priority?F:X,K<P.length&&(X=P[K].priority<P[X].priority?K:X),X!==T&&(this._swap(T,X),this._heapify(X)))}_decrease(T){for(var P=this._arr,F=P[T].priority,K;T!==0&&(K=T>>1,!(P[K].priority<F));)this._swap(T,K),T=K}_swap(T,P){var F=this._arr,K=this._keyIndices,X=F[T],G=F[P];F[T]=G,F[P]=X,K[G.key]=T,K[X.key]=P}};v.exports=O}),g=i((x,v)=>{var O=f();v.exports=P;var T=()=>1;function P(K,X,G,U){var Z=function(R){return K.outEdges(R)};return F(K,String(X),G||T,U||Z)}function F(K,X,G,U){var Z={},R=new O,C,B,Y=function(j){var Q=j.v!==C?j.v:j.w,re=Z[Q],ie=G(j),pe=B.distance+ie;if(ie<0)throw new Error("dijkstra does not allow negative edge weights. Bad edge: "+j+" Weight: "+ie);pe<re.distance&&(re.distance=pe,re.predecessor=C,R.decrease(Q,pe))};for(K.nodes().forEach(function(j){var Q=j===X?0:Number.POSITIVE_INFINITY;Z[j]={distance:Q},R.add(j,Q)});R.size()>0&&(C=R.removeMin(),B=Z[C],B.distance!==Number.POSITIVE_INFINITY);)U(C).forEach(Y);return Z}}),m=i((x,v)=>{var O=g();v.exports=T;function T(P,F,K){return P.nodes().reduce(function(X,G){return X[G]=O(P,G,F,K),X},{})}}),b=i((x,v)=>{v.exports=O;function O(P,F,K){if(P[F].predecessor!==void 0)throw new Error("Invalid source vertex");if(P[K].predecessor===void 0&&K!==F)throw new Error("Invalid destination vertex");return{weight:P[K].distance,path:T(P,F,K)}}function T(P,F,K){for(var X=[],G=K;G!==F;)X.push(G),G=P[G].predecessor;return X.push(F),X.reverse()}}),y=i((x,v)=>{v.exports=O;function O(T){var P=0,F=[],K={},X=[];function G(U){var Z=K[U]={onStack:!0,lowlink:P,index:P++};if(F.push(U),T.successors(U).forEach(function(B){Object.hasOwn(K,B)?K[B].onStack&&(Z.lowlink=Math.min(Z.lowlink,K[B].index)):(G(B),Z.lowlink=Math.min(Z.lowlink,K[B].lowlink))}),Z.lowlink===Z.index){var R=[],C;do C=F.pop(),K[C].onStack=!1,R.push(C);while(U!==C);X.push(R)}}return T.nodes().forEach(function(U){Object.hasOwn(K,U)||G(U)}),X}}),E=i((x,v)=>{var O=y();v.exports=T;function T(P){return O(P).filter(function(F){return F.length>1||F.length===1&&P.hasEdge(F[0],F[0])})}}),w=i((x,v)=>{v.exports=T;var O=()=>1;function T(F,K,X){return P(F,K||O,X||function(G){return F.outEdges(G)})}function P(F,K,X){var G={},U=F.nodes();return U.forEach(function(Z){G[Z]={},G[Z][Z]={distance:0},U.forEach(function(R){Z!==R&&(G[Z][R]={distance:Number.POSITIVE_INFINITY})}),X(Z).forEach(function(R){var C=R.v===Z?R.w:R.v,B=K(R);G[Z][C]={distance:B,predecessor:Z}})}),U.forEach(function(Z){var R=G[Z];U.forEach(function(C){var B=G[C];U.forEach(function(Y){var j=B[Z],Q=R[Y],re=B[Y],ie=j.distance+Q.distance;ie<re.distance&&(re.distance=ie,re.predecessor=Q.predecessor)})})}),G}}),S=i((x,v)=>{function O(P){var F={},K={},X=[];function G(U){if(Object.hasOwn(K,U))throw new T;Object.hasOwn(F,U)||(K[U]=!0,F[U]=!0,P.predecessors(U).forEach(G),delete K[U],X.push(U))}if(P.sinks().forEach(G),Object.keys(F).length!==P.nodeCount())throw new T;return X}var T=class extends Error{constructor(){super(...arguments)}};v.exports=O,O.CycleException=T}),p=i((x,v)=>{var O=S();v.exports=T;function T(P){try{O(P)}catch(F){if(F instanceof O.CycleException)return!1;throw F}return!0}}),M=i((x,v)=>{v.exports=O;function O(P,F,K,X,G){Array.isArray(F)||(F=[F]);var U=(P.isDirected()?P.successors:P.neighbors).bind(P),Z={};return F.forEach(function(R){if(!P.hasNode(R))throw new Error("Graph does not have node: "+R);G=T(P,R,K==="post",Z,U,X,G)}),G}function T(P,F,K,X,G,U,Z){return Object.hasOwn(X,F)||(X[F]=!0,K||(Z=U(Z,F)),G(F).forEach(function(R){Z=T(P,R,K,X,G,U,Z)}),K&&(Z=U(Z,F))),Z}}),A=i((x,v)=>{var O=M();v.exports=T;function T(P,F,K){return O(P,F,K,function(X,G){return X.push(G),X},[])}}),I=i((x,v)=>{var O=A();v.exports=T;function T(P,F){return O(P,F,"post")}}),k=i((x,v)=>{var O=A();v.exports=T;function T(P,F){return O(P,F,"pre")}}),V=i((x,v)=>{var O=s(),T=f();v.exports=P;function P(F,K){var X=new O,G={},U=new T,Z;function R(B){var Y=B.v===Z?B.w:B.v,j=U.priority(Y);if(j!==void 0){var Q=K(B);Q<j&&(G[Y]=Z,U.decrease(Y,Q))}}if(F.nodeCount()===0)return X;F.nodes().forEach(function(B){U.add(B,Number.POSITIVE_INFINITY),X.setNode(B)}),U.decrease(F.nodes()[0],0);for(var C=!1;U.size()>0;){if(Z=U.removeMin(),Object.hasOwn(G,Z))X.setEdge(Z,G[Z]);else{if(C)throw new Error("Input graph is not connected: "+F);C=!0}F.nodeEdges(Z).forEach(R)}return X}}),D=i((x,v)=>{var O=g(),T=c();v.exports=P;function P(K,X,G,U){return F(K,X,G,U||function(Z){return K.outEdges(Z)})}function F(K,X,G,U){if(G===void 0)return O(K,X,G,U);for(var Z=!1,R=K.nodes(),C=0;C<R.length;C++){for(var B=U(R[C]),Y=0;Y<B.length;Y++){var j=B[Y],Q=j.v===R[C]?j.v:j.w,re=Q===j.v?j.w:j.v;G({v:Q,w:re})<0&&(Z=!0)}if(Z)return T(K,X,G,U)}return O(K,X,G,U)}}),N=i((x,v)=>{v.exports={bellmanFord:c(),components:h(),dijkstra:g(),dijkstraAll:m(),extractPath:b(),findCycles:E(),floydWarshall:w(),isAcyclic:p(),postorder:I(),preorder:k(),prim:V(),shortestPaths:D(),reduce:M(),tarjan:y(),topsort:S()}}),_=u();t.exports={Graph:_.Graph,json:d(),alg:N(),version:_.version}}),Zb=Qe((e,t)=>{var n=class{constructor(){let o={};o._next=o._prev=o,this._sentinel=o}dequeue(){let o=this._sentinel,s=o._prev;if(s!==o)return r(s),s}enqueue(o){let s=this._sentinel;o._prev&&o._next&&r(o),o._next=s._next,s._next._prev=o,s._next=o,o._prev=s}toString(){let o=[],s=this._sentinel,a=s._prev;for(;a!==s;)o.push(JSON.stringify(a,i)),a=a._prev;return"["+o.join(", ")+"]"}};function r(o){o._prev._next=o._next,o._next._prev=o._prev,delete o._next,delete o._prev}function i(o,s){if(o!=="_next"&&o!=="_prev")return s}t.exports=n}),Qb=Qe((e,t)=>{var n=pn().Graph,r=Zb();t.exports=o;var i=()=>1;function o(h,f){if(h.nodeCount()<=1)return[];let g=u(h,f||i);return s(g.graph,g.buckets,g.zeroIdx).flatMap(m=>h.outEdges(m.v,m.w))}function s(h,f,g){let m=[],b=f[f.length-1],y=f[0],E;for(;h.nodeCount();){for(;E=y.dequeue();)a(h,f,g,E);for(;E=b.dequeue();)a(h,f,g,E);if(h.nodeCount()){for(let w=f.length-2;w>0;--w)if(E=f[w].dequeue(),E){m=m.concat(a(h,f,g,E,!0));break}}}return m}function a(h,f,g,m,b){let y=b?[]:void 0;return h.inEdges(m.v).forEach(E=>{let w=h.edge(E),S=h.node(E.v);b&&y.push({v:E.v,w:E.w}),S.out-=w,d(f,g,S)}),h.outEdges(m.v).forEach(E=>{let w=h.edge(E),S=E.w,p=h.node(S);p.in-=w,d(f,g,p)}),h.removeNode(m.v),y}function u(h,f){let g=new n,m=0,b=0;h.nodes().forEach(w=>{g.setNode(w,{v:w,in:0,out:0})}),h.edges().forEach(w=>{let S=g.edge(w.v,w.w)||0,p=f(w),M=S+p;g.setEdge(w.v,w.w,M),b=Math.max(b,g.node(w.v).out+=p),m=Math.max(m,g.node(w.w).in+=p)});let y=c(b+m+3).map(()=>new r),E=m+1;return g.nodes().forEach(w=>{d(y,E,g.node(w))}),{graph:g,buckets:y,zeroIdx:E}}function d(h,f,g){g.out?g.in?h[g.out-g.in+f].enqueue(g):h[h.length-1].enqueue(g):h[0].enqueue(g)}function c(h){let f=[];for(let g=0;g<h;g++)f.push(g);return f}}),ht=Qe((e,t)=>{var n=pn().Graph;t.exports={addBorderNode:f,addDummyNode:r,applyWithChunking:b,asNonCompoundGraph:o,buildLayerMatrix:d,intersectRect:u,mapValues:k,maxRank:y,normalizeRanks:c,notime:S,partition:E,pick:I,predecessorWeights:a,range:A,removeEmptyRanks:h,simplify:i,successorWeights:s,time:w,uniqueId:M,zipObject:V};function r(D,N,_,x){for(var v=x;D.hasNode(v);)v=M(x);return _.dummy=N,D.setNode(v,_),v}function i(D){let N=new n().setGraph(D.graph());return D.nodes().forEach(_=>N.setNode(_,D.node(_))),D.edges().forEach(_=>{let x=N.edge(_.v,_.w)||{weight:0,minlen:1},v=D.edge(_);N.setEdge(_.v,_.w,{weight:x.weight+v.weight,minlen:Math.max(x.minlen,v.minlen)})}),N}function o(D){let N=new n({multigraph:D.isMultigraph()}).setGraph(D.graph());return D.nodes().forEach(_=>{D.children(_).length||N.setNode(_,D.node(_))}),D.edges().forEach(_=>{N.setEdge(_,D.edge(_))}),N}function s(D){let N=D.nodes().map(_=>{let x={};return D.outEdges(_).forEach(v=>{x[v.w]=(x[v.w]||0)+D.edge(v).weight}),x});return V(D.nodes(),N)}function a(D){let N=D.nodes().map(_=>{let x={};return D.inEdges(_).forEach(v=>{x[v.v]=(x[v.v]||0)+D.edge(v).weight}),x});return V(D.nodes(),N)}function u(D,N){let _=D.x,x=D.y,v=N.x-_,O=N.y-x,T=D.width/2,P=D.height/2;if(!v&&!O)throw new Error("Not possible to find intersection inside of the rectangle");let F,K;return Math.abs(O)*T>Math.abs(v)*P?(O<0&&(P=-P),F=P*v/O,K=P):(v<0&&(T=-T),F=T,K=T*O/v),{x:_+F,y:x+K}}function d(D){let N=A(y(D)+1).map(()=>[]);return D.nodes().forEach(_=>{let x=D.node(_),v=x.rank;v!==void 0&&(N[v][x.order]=_)}),N}function c(D){let N=D.nodes().map(x=>{let v=D.node(x).rank;return v===void 0?Number.MAX_VALUE:v}),_=b(Math.min,N);D.nodes().forEach(x=>{let v=D.node(x);Object.hasOwn(v,"rank")&&(v.rank-=_)})}function h(D){let N=D.nodes().map(T=>D.node(T).rank).filter(T=>T!==void 0),_=b(Math.min,N),x=[];D.nodes().forEach(T=>{let P=D.node(T).rank-_;x[P]||(x[P]=[]),x[P].push(T)});let v=0,O=D.graph().nodeRankFactor;Array.from(x).forEach((T,P)=>{T===void 0&&P%O!==0?--v:T!==void 0&&v&&T.forEach(F=>D.node(F).rank+=v)})}function f(D,N,_,x){let v={width:0,height:0};return arguments.length>=4&&(v.rank=_,v.order=x),r(D,"border",v,N)}function g(D,N=m){let _=[];for(let x=0;x<D.length;x+=N){let v=D.slice(x,x+N);_.push(v)}return _}var m=65535;function b(D,N){if(N.length>m){let _=g(N);return D.apply(null,_.map(x=>D.apply(null,x)))}else return D.apply(null,N)}function y(D){let N=D.nodes().map(_=>{let x=D.node(_).rank;return x===void 0?Number.MIN_VALUE:x});return b(Math.max,N)}function E(D,N){let _={lhs:[],rhs:[]};return D.forEach(x=>{N(x)?_.lhs.push(x):_.rhs.push(x)}),_}function w(D,N){let _=Date.now();try{return N()}finally{console.log(D+" time: "+(Date.now()-_)+"ms")}}function S(D,N){return N()}var p=0;function M(D){var N=++p;return D+(""+N)}function A(D,N,_=1){N==null&&(N=D,D=0);let x=O=>O<N;_<0&&(x=O=>N<O);let v=[];for(let O=D;x(O);O+=_)v.push(O);return v}function I(D,N){let _={};for(let x of N)D[x]!==void 0&&(_[x]=D[x]);return _}function k(D,N){let _=N;return typeof N=="string"&&(_=x=>x[N]),Object.entries(D).reduce((x,[v,O])=>(x[v]=_(O,v),x),{})}function V(D,N){return D.reduce((_,x,v)=>(_[x]=N[v],_),{})}}),Jb=Qe((e,t)=>{var n=Qb(),r=ht().uniqueId;t.exports={run:i,undo:s};function i(a){(a.graph().acyclicer==="greedy"?n(a,u(a)):o(a)).forEach(d=>{let c=a.edge(d);a.removeEdge(d),c.forwardName=d.name,c.reversed=!0,a.setEdge(d.w,d.v,c,r("rev"))});function u(d){return c=>d.edge(c).weight}}function o(a){let u=[],d={},c={};function h(f){Object.hasOwn(c,f)||(c[f]=!0,d[f]=!0,a.outEdges(f).forEach(g=>{Object.hasOwn(d,g.w)?u.push(g):h(g.w)}),delete d[f])}return a.nodes().forEach(h),u}function s(a){a.edges().forEach(u=>{let d=a.edge(u);if(d.reversed){a.removeEdge(u);let c=d.forwardName;delete d.reversed,delete d.forwardName,a.setEdge(u.w,u.v,d,c)}})}}),$b=Qe((e,t)=>{var n=ht();t.exports={run:r,undo:o};function r(s){s.graph().dummyChains=[],s.edges().forEach(a=>i(s,a))}function i(s,a){let u=a.v,d=s.node(u).rank,c=a.w,h=s.node(c).rank,f=a.name,g=s.edge(a),m=g.labelRank;if(h===d+1)return;s.removeEdge(a);let b,y,E;for(E=0,++d;d<h;++E,++d)g.points=[],y={width:0,height:0,edgeLabel:g,edgeObj:a,rank:d},b=n.addDummyNode(s,"edge",y,"_d"),d===m&&(y.width=g.width,y.height=g.height,y.dummy="edge-label",y.labelpos=g.labelpos),s.setEdge(u,b,{weight:g.weight},f),E===0&&s.graph().dummyChains.push(b),u=b;s.setEdge(u,c,{weight:g.weight},f)}function o(s){s.graph().dummyChains.forEach(a=>{let u=s.node(a),d=u.edgeLabel,c;for(s.setEdge(u.edgeObj,d);u.dummy;)c=s.successors(a)[0],s.removeNode(a),d.points.push({x:u.x,y:u.y}),u.dummy==="edge-label"&&(d.x=u.x,d.y=u.y,d.width=u.width,d.height=u.height),a=c,u=s.node(a)})}}),us=Qe((e,t)=>{var{applyWithChunking:n}=ht();t.exports={longestPath:r,slack:i};function r(o){var s={};function a(u){var d=o.node(u);if(Object.hasOwn(s,u))return d.rank;s[u]=!0;let c=o.outEdges(u).map(f=>f==null?Number.POSITIVE_INFINITY:a(f.w)-o.edge(f).minlen);var h=n(Math.min,c);return h===Number.POSITIVE_INFINITY&&(h=0),d.rank=h}o.sources().forEach(a)}function i(o,s){return o.node(s.w).rank-o.node(s.v).rank-o.edge(s).minlen}}),cf=Qe((e,t)=>{var n=pn().Graph,r=us().slack;t.exports=i;function i(u){var d=new n({directed:!1}),c=u.nodes()[0],h=u.nodeCount();d.setNode(c,{});for(var f,g;o(d,u)<h;)f=s(d,u),g=d.hasNode(f.v)?r(u,f):-r(u,f),a(d,u,g);return d}function o(u,d){function c(h){d.nodeEdges(h).forEach(f=>{var g=f.v,m=h===g?f.w:g;!u.hasNode(m)&&!r(d,f)&&(u.setNode(m,{}),u.setEdge(h,m,{}),c(m))})}return u.nodes().forEach(c),u.nodeCount()}function s(u,d){return d.edges().reduce((c,h)=>{let f=Number.POSITIVE_INFINITY;return u.hasNode(h.v)!==u.hasNode(h.w)&&(f=r(d,h)),f<c[0]?[f,h]:c},[Number.POSITIVE_INFINITY,null])[1]}function a(u,d,c){u.nodes().forEach(h=>d.node(h).rank+=c)}}),e_=Qe((e,t)=>{var n=cf(),r=us().slack,i=us().longestPath,o=pn().alg.preorder,s=pn().alg.postorder,a=ht().simplify;t.exports=u,u.initLowLimValues=f,u.initCutValues=d,u.calcCutValue=h,u.leaveEdge=m,u.enterEdge=b,u.exchangeEdges=y;function u(p){p=a(p),i(p);var M=n(p);f(M),d(M,p);for(var A,I;A=m(M);)I=b(M,p,A),y(M,p,A,I)}function d(p,M){var A=s(p,p.nodes());A=A.slice(0,A.length-1),A.forEach(I=>c(p,M,I))}function c(p,M,A){var I=p.node(A),k=I.parent;p.edge(A,k).cutvalue=h(p,M,A)}function h(p,M,A){var I=p.node(A),k=I.parent,V=!0,D=M.edge(A,k),N=0;return D||(V=!1,D=M.edge(k,A)),N=D.weight,M.nodeEdges(A).forEach(_=>{var x=_.v===A,v=x?_.w:_.v;if(v!==k){var O=x===V,T=M.edge(_).weight;if(N+=O?T:-T,w(p,A,v)){var P=p.edge(A,v).cutvalue;N+=O?-P:P}}}),N}function f(p,M){arguments.length<2&&(M=p.nodes()[0]),g(p,{},1,M)}function g(p,M,A,I,k){var V=A,D=p.node(I);return M[I]=!0,p.neighbors(I).forEach(N=>{Object.hasOwn(M,N)||(A=g(p,M,A,N,I))}),D.low=V,D.lim=A++,k?D.parent=k:delete D.parent,A}function m(p){return p.edges().find(M=>p.edge(M).cutvalue<0)}function b(p,M,A){var I=A.v,k=A.w;M.hasEdge(I,k)||(I=A.w,k=A.v);var V=p.node(I),D=p.node(k),N=V,_=!1;V.lim>D.lim&&(N=D,_=!0);var x=M.edges().filter(v=>_===S(p,p.node(v.v),N)&&_!==S(p,p.node(v.w),N));return x.reduce((v,O)=>r(M,O)<r(M,v)?O:v)}function y(p,M,A,I){var k=A.v,V=A.w;p.removeEdge(k,V),p.setEdge(I.v,I.w,{}),f(p),d(p,M),E(p,M)}function E(p,M){var A=p.nodes().find(k=>!M.node(k).parent),I=o(p,A);I=I.slice(1),I.forEach(k=>{var V=p.node(k).parent,D=M.edge(k,V),N=!1;D||(D=M.edge(V,k),N=!0),M.node(k).rank=M.node(V).rank+(N?D.minlen:-D.minlen)})}function w(p,M,A){return p.hasEdge(M,A)}function S(p,M,A){return A.low<=M.lim&&M.lim<=A.lim}}),t_=Qe((e,t)=>{var n=us(),r=n.longestPath,i=cf(),o=e_();t.exports=s;function s(c){var h=c.graph().ranker;if(h instanceof Function)return h(c);switch(c.graph().ranker){case"network-simplex":d(c);break;case"tight-tree":u(c);break;case"longest-path":a(c);break;case"none":break;default:d(c)}}var a=r;function u(c){r(c),i(c)}function d(c){o(c)}}),n_=Qe((e,t)=>{t.exports=n;function n(o){let s=i(o);o.graph().dummyChains.forEach(a=>{let u=o.node(a),d=u.edgeObj,c=r(o,s,d.v,d.w),h=c.path,f=c.lca,g=0,m=h[g],b=!0;for(;a!==d.w;){if(u=o.node(a),b){for(;(m=h[g])!==f&&o.node(m).maxRank<u.rank;)g++;m===f&&(b=!1)}if(!b){for(;g<h.length-1&&o.node(m=h[g+1]).minRank<=u.rank;)g++;m=h[g]}o.setParent(a,m),a=o.successors(a)[0]}})}function r(o,s,a,u){let d=[],c=[],h=Math.min(s[a].low,s[u].low),f=Math.max(s[a].lim,s[u].lim),g,m;g=a;do g=o.parent(g),d.push(g);while(g&&(s[g].low>h||f>s[g].lim));for(m=g,g=u;(g=o.parent(g))!==m;)c.push(g);return{path:d.concat(c.reverse()),lca:m}}function i(o){let s={},a=0;function u(d){let c=a;o.children(d).forEach(u),s[d]={low:c,lim:a++}}return o.children().forEach(u),s}}),r_=Qe((e,t)=>{var n=ht();t.exports={run:r,cleanup:a};function r(u){let d=n.addDummyNode(u,"root",{},"_root"),c=o(u),h=Object.values(c),f=n.applyWithChunking(Math.max,h)-1,g=2*f+1;u.graph().nestingRoot=d,u.edges().forEach(b=>u.edge(b).minlen*=g);let m=s(u)+1;u.children().forEach(b=>i(u,d,g,m,f,c,b)),u.graph().nodeRankFactor=g}function i(u,d,c,h,f,g,m){let b=u.children(m);if(!b.length){m!==d&&u.setEdge(d,m,{weight:0,minlen:c});return}let y=n.addBorderNode(u,"_bt"),E=n.addBorderNode(u,"_bb"),w=u.node(m);u.setParent(y,m),w.borderTop=y,u.setParent(E,m),w.borderBottom=E,b.forEach(S=>{i(u,d,c,h,f,g,S);let p=u.node(S),M=p.borderTop?p.borderTop:S,A=p.borderBottom?p.borderBottom:S,I=p.borderTop?h:2*h,k=M!==A?1:f-g[m]+1;u.setEdge(y,M,{weight:I,minlen:k,nestingEdge:!0}),u.setEdge(A,E,{weight:I,minlen:k,nestingEdge:!0})}),u.parent(m)||u.setEdge(d,y,{weight:0,minlen:f+g[m]})}function o(u){var d={};function c(h,f){var g=u.children(h);g&&g.length&&g.forEach(m=>c(m,f+1)),d[h]=f}return u.children().forEach(h=>c(h,1)),d}function s(u){return u.edges().reduce((d,c)=>d+u.edge(c).weight,0)}function a(u){var d=u.graph();u.removeNode(d.nestingRoot),delete d.nestingRoot,u.edges().forEach(c=>{var h=u.edge(c);h.nestingEdge&&u.removeEdge(c)})}}),i_=Qe((e,t)=>{var n=ht();t.exports=r;function r(o){function s(a){let u=o.children(a),d=o.node(a);if(u.length&&u.forEach(s),Object.hasOwn(d,"minRank")){d.borderLeft=[],d.borderRight=[];for(let c=d.minRank,h=d.maxRank+1;c<h;++c)i(o,"borderLeft","_bl",a,d,c),i(o,"borderRight","_br",a,d,c)}}o.children().forEach(s)}function i(o,s,a,u,d,c){let h={width:0,height:0,rank:c,borderType:s},f=d[s][c-1],g=n.addDummyNode(o,"border",h,a);d[s][c]=g,o.setParent(g,u),f&&o.setEdge(f,g,{weight:1})}}),o_=Qe((e,t)=>{t.exports={adjust:n,undo:r};function n(c){let h=c.graph().rankdir.toLowerCase();(h==="lr"||h==="rl")&&i(c)}function r(c){let h=c.graph().rankdir.toLowerCase();(h==="bt"||h==="rl")&&s(c),(h==="lr"||h==="rl")&&(u(c),i(c))}function i(c){c.nodes().forEach(h=>o(c.node(h))),c.edges().forEach(h=>o(c.edge(h)))}function o(c){let h=c.width;c.width=c.height,c.height=h}function s(c){c.nodes().forEach(h=>a(c.node(h))),c.edges().forEach(h=>{let f=c.edge(h);f.points.forEach(a),Object.hasOwn(f,"y")&&a(f)})}function a(c){c.y=-c.y}function u(c){c.nodes().forEach(h=>d(c.node(h))),c.edges().forEach(h=>{let f=c.edge(h);f.points.forEach(d),Object.hasOwn(f,"x")&&d(f)})}function d(c){let h=c.x;c.x=c.y,c.y=h}}),s_=Qe((e,t)=>{var n=ht();t.exports=r;function r(i){let o={},s=i.nodes().filter(h=>!i.children(h).length),a=s.map(h=>i.node(h).rank),u=n.applyWithChunking(Math.max,a),d=n.range(u+1).map(()=>[]);function c(h){if(o[h])return;o[h]=!0;let f=i.node(h);d[f.rank].push(h),i.successors(h).forEach(c)}return s.sort((h,f)=>i.node(h).rank-i.node(f).rank).forEach(c),d}}),a_=Qe((e,t)=>{var n=ht().zipObject;t.exports=r;function r(o,s){let a=0;for(let u=1;u<s.length;++u)a+=i(o,s[u-1],s[u]);return a}function i(o,s,a){let u=n(a,a.map((m,b)=>b)),d=s.flatMap(m=>o.outEdges(m).map(b=>({pos:u[b.w],weight:o.edge(b).weight})).sort((b,y)=>b.pos-y.pos)),c=1;for(;c<a.length;)c<<=1;let h=2*c-1;c-=1;let f=new Array(h).fill(0),g=0;return d.forEach(m=>{let b=m.pos+c;f[b]+=m.weight;let y=0;for(;b>0;)b%2&&(y+=f[b+1]),b=b-1>>1,f[b]+=m.weight;g+=m.weight*y}),g}}),l_=Qe((e,t)=>{t.exports=n;function n(r,i=[]){return i.map(o=>{let s=r.inEdges(o);if(s.length){let a=s.reduce((u,d)=>{let c=r.edge(d),h=r.node(d.v);return{sum:u.sum+c.weight*h.order,weight:u.weight+c.weight}},{sum:0,weight:0});return{v:o,barycenter:a.sum/a.weight,weight:a.weight}}else return{v:o}})}}),u_=Qe((e,t)=>{var n=ht();t.exports=r;function r(s,a){let u={};s.forEach((c,h)=>{let f=u[c.v]={indegree:0,in:[],out:[],vs:[c.v],i:h};c.barycenter!==void 0&&(f.barycenter=c.barycenter,f.weight=c.weight)}),a.edges().forEach(c=>{let h=u[c.v],f=u[c.w];h!==void 0&&f!==void 0&&(f.indegree++,h.out.push(u[c.w]))});let d=Object.values(u).filter(c=>!c.indegree);return i(d)}function i(s){let a=[];function u(c){return h=>{h.merged||(h.barycenter===void 0||c.barycenter===void 0||h.barycenter>=c.barycenter)&&o(c,h)}}function d(c){return h=>{h.in.push(c),--h.indegree===0&&s.push(h)}}for(;s.length;){let c=s.pop();a.push(c),c.in.reverse().forEach(u(c)),c.out.forEach(d(c))}return a.filter(c=>!c.merged).map(c=>n.pick(c,["vs","i","barycenter","weight"]))}function o(s,a){let u=0,d=0;s.weight&&(u+=s.barycenter*s.weight,d+=s.weight),a.weight&&(u+=a.barycenter*a.weight,d+=a.weight),s.vs=a.vs.concat(s.vs),s.barycenter=u/d,s.weight=d,s.i=Math.min(a.i,s.i),a.merged=!0}}),c_=Qe((e,t)=>{var n=ht();t.exports=r;function r(s,a){let u=n.partition(s,y=>Object.hasOwn(y,"barycenter")),d=u.lhs,c=u.rhs.sort((y,E)=>E.i-y.i),h=[],f=0,g=0,m=0;d.sort(o(!!a)),m=i(h,c,m),d.forEach(y=>{m+=y.vs.length,h.push(y.vs),f+=y.barycenter*y.weight,g+=y.weight,m=i(h,c,m)});let b={vs:h.flat(!0)};return g&&(b.barycenter=f/g,b.weight=g),b}function i(s,a,u){let d;for(;a.length&&(d=a[a.length-1]).i<=u;)a.pop(),s.push(d.vs),u++;return u}function o(s){return(a,u)=>a.barycenter<u.barycenter?-1:a.barycenter>u.barycenter?1:s?u.i-a.i:a.i-u.i}}),d_=Qe((e,t)=>{var n=l_(),r=u_(),i=c_();t.exports=o;function o(u,d,c,h){let f=u.children(d),g=u.node(d),m=g?g.borderLeft:void 0,b=g?g.borderRight:void 0,y={};m&&(f=f.filter(p=>p!==m&&p!==b));let E=n(u,f);E.forEach(p=>{if(u.children(p.v).length){let M=o(u,p.v,c,h);y[p.v]=M,Object.hasOwn(M,"barycenter")&&a(p,M)}});let w=r(E,c);s(w,y);let S=i(w,h);if(m&&(S.vs=[m,S.vs,b].flat(!0),u.predecessors(m).length)){let p=u.node(u.predecessors(m)[0]),M=u.node(u.predecessors(b)[0]);Object.hasOwn(S,"barycenter")||(S.barycenter=0,S.weight=0),S.barycenter=(S.barycenter*S.weight+p.order+M.order)/(S.weight+2),S.weight+=2}return S}function s(u,d){u.forEach(c=>{c.vs=c.vs.flatMap(h=>d[h]?d[h].vs:h)})}function a(u,d){u.barycenter!==void 0?(u.barycenter=(u.barycenter*u.weight+d.barycenter*d.weight)/(u.weight+d.weight),u.weight+=d.weight):(u.barycenter=d.barycenter,u.weight=d.weight)}}),f_=Qe((e,t)=>{var n=pn().Graph,r=ht();t.exports=i;function i(s,a,u,d){d||(d=s.nodes());let c=o(s),h=new n({compound:!0}).setGraph({root:c}).setDefaultNodeLabel(f=>s.node(f));return d.forEach(f=>{let g=s.node(f),m=s.parent(f);(g.rank===a||g.minRank<=a&&a<=g.maxRank)&&(h.setNode(f),h.setParent(f,m||c),s[u](f).forEach(b=>{let y=b.v===f?b.w:b.v,E=h.edge(y,f),w=E!==void 0?E.weight:0;h.setEdge(y,f,{weight:s.edge(b).weight+w})}),Object.hasOwn(g,"minRank")&&h.setNode(f,{borderLeft:g.borderLeft[a],borderRight:g.borderRight[a]}))}),h}function o(s){for(var a;s.hasNode(a=r.uniqueId("_root")););return a}}),h_=Qe((e,t)=>{t.exports=n;function n(r,i,o){let s={},a;o.forEach(u=>{let d=r.parent(u),c,h;for(;d;){if(c=r.parent(d),c?(h=s[c],s[c]=d):(h=a,a=d),h&&h!==d){i.setEdge(h,d);return}d=c}})}}),g_=Qe((e,t)=>{var n=s_(),r=a_(),i=d_(),o=f_(),s=h_(),a=pn().Graph,u=ht();t.exports=d;function d(g,m={}){if(typeof m.customOrder=="function"){m.customOrder(g,d);return}let b=u.maxRank(g),y=c(g,u.range(1,b+1),"inEdges"),E=c(g,u.range(b-1,-1,-1),"outEdges"),w=n(g);if(f(g,w),m.disableOptimalOrderHeuristic)return;let S=Number.POSITIVE_INFINITY,p,M=m.constraints||[];for(let A=0,I=0;I<4;++A,++I){h(A%2?y:E,A%4>=2,M),w=u.buildLayerMatrix(g);let k=r(g,w);k<S?(I=0,p=Object.assign({},w),S=k):k===S&&(p=structuredClone(w))}f(g,p)}function c(g,m,b){let y=new Map,E=(w,S)=>{y.has(w)||y.set(w,[]),y.get(w).push(S)};for(let w of g.nodes()){let S=g.node(w);if(typeof S.rank=="number"&&E(S.rank,w),typeof S.minRank=="number"&&typeof S.maxRank=="number")for(let p=S.minRank;p<=S.maxRank;p++)p!==S.rank&&E(p,w)}return m.map(function(w){return o(g,w,b,y.get(w)||[])})}function h(g,m,b){let y=new a;g.forEach(function(E){b.forEach(p=>y.setEdge(p.left,p.right));let w=E.graph().root,S=i(E,w,y,m);S.vs.forEach((p,M)=>E.node(p).order=M),s(E,y,S.vs)})}function f(g,m){Object.values(m).forEach(b=>b.forEach((y,E)=>g.node(y).order=E))}}),v_=Qe((e,t)=>{var n=pn().Graph,r=ht();t.exports={positionX:b,findType1Conflicts:i,findType2Conflicts:o,addConflict:a,hasConflict:u,verticalAlignment:d,horizontalCompaction:c,alignCoordinates:g,findSmallestWidthAlignment:f,balance:m};function i(w,S){let p={};function M(A,I){let k=0,V=0,D=A.length,N=I[I.length-1];return I.forEach((_,x)=>{let v=s(w,_),O=v?w.node(v).order:D;(v||_===N)&&(I.slice(V,x+1).forEach(T=>{w.predecessors(T).forEach(P=>{let F=w.node(P),K=F.order;(K<k||O<K)&&!(F.dummy&&w.node(T).dummy)&&a(p,P,T)})}),V=x+1,k=O)}),I}return S.length&&S.reduce(M),p}function o(w,S){let p={};function M(I,k,V,D,N){let _;r.range(k,V).forEach(x=>{_=I[x],w.node(_).dummy&&w.predecessors(_).forEach(v=>{let O=w.node(v);O.dummy&&(O.order<D||O.order>N)&&a(p,v,_)})})}function A(I,k){let V=-1,D,N=0;return k.forEach((_,x)=>{if(w.node(_).dummy==="border"){let v=w.predecessors(_);v.length&&(D=w.node(v[0]).order,M(k,N,x,V,D),N=x,V=D)}M(k,N,k.length,D,I.length)}),k}return S.length&&S.reduce(A),p}function s(w,S){if(w.node(S).dummy)return w.predecessors(S).find(p=>w.node(p).dummy)}function a(w,S,p){if(S>p){let A=S;S=p,p=A}let M=w[S];M||(w[S]=M={}),M[p]=!0}function u(w,S,p){if(S>p){let M=S;S=p,p=M}return!!w[S]&&Object.hasOwn(w[S],p)}function d(w,S,p,M){let A={},I={},k={};return S.forEach(V=>{V.forEach((D,N)=>{A[D]=D,I[D]=D,k[D]=N})}),S.forEach(V=>{let D=-1;V.forEach(N=>{let _=M(N);if(_.length){_=_.sort((v,O)=>k[v]-k[O]);let x=(_.length-1)/2;for(let v=Math.floor(x),O=Math.ceil(x);v<=O;++v){let T=_[v];I[N]===N&&D<k[T]&&!u(p,N,T)&&(I[T]=N,I[N]=A[N]=A[T],D=k[T])}}})}),{root:A,align:I}}function c(w,S,p,M,A){let I={},k=h(w,S,p,A),V=A?"borderLeft":"borderRight";function D(x,v){let O=k.nodes().slice(),T={},P=O.pop();for(;P;){if(T[P])x(P);else{T[P]=!0,O.push(P);for(let F of v(P))O.push(F)}P=O.pop()}}function N(x){I[x]=k.inEdges(x).reduce((v,O)=>Math.max(v,I[O.v]+k.edge(O)),0)}function _(x){let v=k.outEdges(x).reduce((T,P)=>Math.min(T,I[P.w]-k.edge(P)),Number.POSITIVE_INFINITY),O=w.node(x);v!==Number.POSITIVE_INFINITY&&O.borderType!==V&&(I[x]=Math.max(I[x],v))}return D(N,k.predecessors.bind(k)),D(_,k.successors.bind(k)),Object.keys(M).forEach(x=>I[x]=I[p[x]]),I}function h(w,S,p,M){let A=new n,I=w.graph(),k=y(I.nodesep,I.edgesep,M);return S.forEach(V=>{let D;V.forEach(N=>{let _=p[N];if(A.setNode(_),D){var x=p[D],v=A.edge(x,_);A.setEdge(x,_,Math.max(k(w,N,D),v||0))}D=N})}),A}function f(w,S){return Object.values(S).reduce((p,M)=>{let A=Number.NEGATIVE_INFINITY,I=Number.POSITIVE_INFINITY;Object.entries(M).forEach(([V,D])=>{let N=E(w,V)/2;A=Math.max(D+N,A),I=Math.min(D-N,I)});let k=A-I;return k<p[0]&&(p=[k,M]),p},[Number.POSITIVE_INFINITY,null])[1]}function g(w,S){let p=Object.values(S),M=r.applyWithChunking(Math.min,p),A=r.applyWithChunking(Math.max,p);["u","d"].forEach(I=>{["l","r"].forEach(k=>{let V=I+k,D=w[V];if(D===S)return;let N=Object.values(D),_=M-r.applyWithChunking(Math.min,N);k!=="l"&&(_=A-r.applyWithChunking(Math.max,N)),_&&(w[V]=r.mapValues(D,x=>x+_))})})}function m(w,S){return r.mapValues(w.ul,(p,M)=>{if(S)return w[S.toLowerCase()][M];{let A=Object.values(w).map(I=>I[M]).sort((I,k)=>I-k);return(A[1]+A[2])/2}})}function b(w){let S=r.buildLayerMatrix(w),p=Object.assign(i(w,S),o(w,S)),M={},A;["u","d"].forEach(k=>{A=k==="u"?S:Object.values(S).reverse(),["l","r"].forEach(V=>{V==="r"&&(A=A.map(x=>Object.values(x).reverse()));let D=(k==="u"?w.predecessors:w.successors).bind(w),N=d(w,A,p,D),_=c(w,A,N.root,N.align,V==="r");V==="r"&&(_=r.mapValues(_,x=>-x)),M[k+V]=_})});let I=f(w,M);return g(M,I),m(M,w.graph().align)}function y(w,S,p){return(M,A,I)=>{let k=M.node(A),V=M.node(I),D=0,N;if(D+=k.width/2,Object.hasOwn(k,"labelpos"))switch(k.labelpos.toLowerCase()){case"l":N=-k.width/2;break;case"r":N=k.width/2;break}if(N&&(D+=p?N:-N),N=0,D+=(k.dummy?S:w)/2,D+=(V.dummy?S:w)/2,D+=V.width/2,Object.hasOwn(V,"labelpos"))switch(V.labelpos.toLowerCase()){case"l":N=V.width/2;break;case"r":N=-V.width/2;break}return N&&(D+=p?N:-N),N=0,D}}function E(w,S){return w.node(S).width}}),p_=Qe((e,t)=>{var n=ht(),r=v_().positionX;t.exports=i;function i(s){s=n.asNonCompoundGraph(s),o(s),Object.entries(r(s)).forEach(([a,u])=>s.node(a).x=u)}function o(s){let a=n.buildLayerMatrix(s),u=s.graph().ranksep,d=s.graph().rankalign,c=0;a.forEach(h=>{let f=h.reduce((g,m)=>{let b=s.node(m).height;return g>b?g:b},0);h.forEach(g=>{let m=s.node(g);d==="top"?m.y=c+m.height/2:d==="bottom"?m.y=c+f-m.height/2:m.y=c+f/2}),c+=f+u})}}),m_=Qe((e,t)=>{var n=Jb(),r=$b(),i=t_(),o=ht().normalizeRanks,s=n_(),a=ht().removeEmptyRanks,u=r_(),d=i_(),c=o_(),h=g_(),f=p_(),g=ht(),m=pn().Graph;t.exports=b;function b(C,B={}){let Y=B.debugTiming?g.time:g.notime;return Y("layout",()=>{let j=Y("  buildLayoutGraph",()=>D(C));return Y("  runLayout",()=>y(j,Y,B)),Y("  updateInputGraph",()=>E(C,j)),j})}function y(C,B,Y){B("    makeSpaceForEdgeLabels",()=>N(C)),B("    removeSelfEdges",()=>X(C)),B("    acyclic",()=>n.run(C)),B("    nestingGraph.run",()=>u.run(C)),B("    rank",()=>i(g.asNonCompoundGraph(C))),B("    injectEdgeLabelProxies",()=>_(C)),B("    removeEmptyRanks",()=>a(C)),B("    nestingGraph.cleanup",()=>u.cleanup(C)),B("    normalizeRanks",()=>o(C)),B("    assignRankMinMax",()=>x(C)),B("    removeEdgeLabelProxies",()=>v(C)),B("    normalize.run",()=>r.run(C)),B("    parentDummyChains",()=>s(C)),B("    addBorderSegments",()=>d(C)),B("    order",()=>h(C,Y)),B("    insertSelfEdges",()=>G(C)),B("    adjustCoordinateSystem",()=>c.adjust(C)),B("    position",()=>f(C)),B("    positionSelfEdges",()=>U(C)),B("    removeBorderNodes",()=>K(C)),B("    normalize.undo",()=>r.undo(C)),B("    fixupEdgeLabelCoords",()=>P(C)),B("    undoCoordinateSystem",()=>c.undo(C)),B("    translateGraph",()=>O(C)),B("    assignNodeIntersects",()=>T(C)),B("    reversePoints",()=>F(C)),B("    acyclic.undo",()=>n.undo(C))}function E(C,B){C.nodes().forEach(Y=>{let j=C.node(Y),Q=B.node(Y);j&&(j.x=Q.x,j.y=Q.y,j.order=Q.order,j.rank=Q.rank,B.children(Y).length&&(j.width=Q.width,j.height=Q.height))}),C.edges().forEach(Y=>{let j=C.edge(Y),Q=B.edge(Y);j.points=Q.points,Object.hasOwn(Q,"x")&&(j.x=Q.x,j.y=Q.y)}),C.graph().width=B.graph().width,C.graph().height=B.graph().height}var w=["nodesep","edgesep","ranksep","marginx","marginy"],S={ranksep:50,edgesep:20,nodesep:50,rankdir:"tb",rankalign:"center"},p=["acyclicer","ranker","rankdir","align","rankalign"],M=["width","height","rank"],A={width:0,height:0},I=["minlen","weight","width","height","labeloffset"],k={minlen:1,weight:1,width:0,height:0,labeloffset:10,labelpos:"r"},V=["labelpos"];function D(C){let B=new m({multigraph:!0,compound:!0}),Y=R(C.graph());return B.setGraph(Object.assign({},S,Z(Y,w),g.pick(Y,p))),C.nodes().forEach(j=>{let Q=R(C.node(j)),re=Z(Q,M);Object.keys(A).forEach(ie=>{re[ie]===void 0&&(re[ie]=A[ie])}),B.setNode(j,re),B.setParent(j,C.parent(j))}),C.edges().forEach(j=>{let Q=R(C.edge(j));B.setEdge(j,Object.assign({},k,Z(Q,I),g.pick(Q,V)))}),B}function N(C){let B=C.graph();B.ranksep/=2,C.edges().forEach(Y=>{let j=C.edge(Y);j.minlen*=2,j.labelpos.toLowerCase()!=="c"&&(B.rankdir==="TB"||B.rankdir==="BT"?j.width+=j.labeloffset:j.height+=j.labeloffset)})}function _(C){C.edges().forEach(B=>{let Y=C.edge(B);if(Y.width&&Y.height){let j=C.node(B.v),Q={rank:(C.node(B.w).rank-j.rank)/2+j.rank,e:B};g.addDummyNode(C,"edge-proxy",Q,"_ep")}})}function x(C){let B=0;C.nodes().forEach(Y=>{let j=C.node(Y);j.borderTop&&(j.minRank=C.node(j.borderTop).rank,j.maxRank=C.node(j.borderBottom).rank,B=Math.max(B,j.maxRank))}),C.graph().maxRank=B}function v(C){C.nodes().forEach(B=>{let Y=C.node(B);Y.dummy==="edge-proxy"&&(C.edge(Y.e).labelRank=Y.rank,C.removeNode(B))})}function O(C){let B=Number.POSITIVE_INFINITY,Y=0,j=Number.POSITIVE_INFINITY,Q=0,re=C.graph(),ie=re.marginx||0,pe=re.marginy||0;function me(xe){let Se=xe.x,oe=xe.y,ne=xe.width,fe=xe.height;B=Math.min(B,Se-ne/2),Y=Math.max(Y,Se+ne/2),j=Math.min(j,oe-fe/2),Q=Math.max(Q,oe+fe/2)}C.nodes().forEach(xe=>me(C.node(xe))),C.edges().forEach(xe=>{let Se=C.edge(xe);Object.hasOwn(Se,"x")&&me(Se)}),B-=ie,j-=pe,C.nodes().forEach(xe=>{let Se=C.node(xe);Se.x-=B,Se.y-=j}),C.edges().forEach(xe=>{let Se=C.edge(xe);Se.points.forEach(oe=>{oe.x-=B,oe.y-=j}),Object.hasOwn(Se,"x")&&(Se.x-=B),Object.hasOwn(Se,"y")&&(Se.y-=j)}),re.width=Y-B+ie,re.height=Q-j+pe}function T(C){C.edges().forEach(B=>{let Y=C.edge(B),j=C.node(B.v),Q=C.node(B.w),re,ie;Y.points?(re=Y.points[0],ie=Y.points[Y.points.length-1]):(Y.points=[],re=Q,ie=j),Y.points.unshift(g.intersectRect(j,re)),Y.points.push(g.intersectRect(Q,ie))})}function P(C){C.edges().forEach(B=>{let Y=C.edge(B);if(Object.hasOwn(Y,"x"))switch((Y.labelpos==="l"||Y.labelpos==="r")&&(Y.width-=Y.labeloffset),Y.labelpos){case"l":Y.x-=Y.width/2+Y.labeloffset;break;case"r":Y.x+=Y.width/2+Y.labeloffset;break}})}function F(C){C.edges().forEach(B=>{let Y=C.edge(B);Y.reversed&&Y.points.reverse()})}function K(C){C.nodes().forEach(B=>{if(C.children(B).length){let Y=C.node(B),j=C.node(Y.borderTop),Q=C.node(Y.borderBottom),re=C.node(Y.borderLeft[Y.borderLeft.length-1]),ie=C.node(Y.borderRight[Y.borderRight.length-1]);Y.width=Math.abs(ie.x-re.x),Y.height=Math.abs(Q.y-j.y),Y.x=re.x+Y.width/2,Y.y=j.y+Y.height/2}}),C.nodes().forEach(B=>{C.node(B).dummy==="border"&&C.removeNode(B)})}function X(C){C.edges().forEach(B=>{if(B.v===B.w){var Y=C.node(B.v);Y.selfEdges||(Y.selfEdges=[]),Y.selfEdges.push({e:B,label:C.edge(B)}),C.removeEdge(B)}})}function G(C){var B=g.buildLayerMatrix(C);B.forEach(Y=>{var j=0;Y.forEach((Q,re)=>{var ie=C.node(Q);ie.order=re+j,(ie.selfEdges||[]).forEach(pe=>{g.addDummyNode(C,"selfedge",{width:pe.label.width,height:pe.label.height,rank:ie.rank,order:re+ ++j,e:pe.e,label:pe.label},"_se")}),delete ie.selfEdges})})}function U(C){C.nodes().forEach(B=>{var Y=C.node(B);if(Y.dummy==="selfedge"){var j=C.node(Y.e.v),Q=j.x+j.width/2,re=j.y,ie=Y.x-Q,pe=j.height/2;C.setEdge(Y.e,Y.label),C.removeNode(B),Y.label.points=[{x:Q+2*ie/3,y:re-pe},{x:Q+5*ie/6,y:re-pe},{x:Q+ie,y:re},{x:Q+5*ie/6,y:re+pe},{x:Q+2*ie/3,y:re+pe}],Y.label.x=Y.x,Y.label.y=Y.y}})}function Z(C,B){return g.mapValues(g.pick(C,B),Number)}function R(C){var B={};return C&&Object.entries(C).forEach(([Y,j])=>{typeof Y=="string"&&(Y=Y.toLowerCase()),B[Y]=j}),B}}),y_=Qe((e,t)=>{var n=ht(),r=pn().Graph;t.exports={debugOrdering:i};function i(o){let s=n.buildLayerMatrix(o),a=new r({compound:!0,multigraph:!0}).setGraph({});return o.nodes().forEach(u=>{a.setNode(u,{label:u}),a.setParent(u,"layer"+o.node(u).rank)}),o.edges().forEach(u=>a.setEdge(u.v,u.w,{},u.name)),s.forEach((u,d)=>{let c="layer"+d;a.setNode(c,{rank:"same"}),u.reduce((h,f)=>(a.setEdge(h,f,{style:"invis"}),f))}),a}}),b_=Qe((e,t)=>{t.exports="2.0.4"}),__=Qe((e,t)=>{t.exports={graphlib:pn(),layout:m_(),debug:y_(),util:{time:ht().time,notime:ht().notime},version:b_()}});const zu=__();/*! For license information please see dagre.esm.js.LEGAL.txt */const df="LR",w_=360,x_=240,E_=80,N_=140,k_=40,I_=40;function Hr(e){return typeof e=="string"&&e.trim()?e.trim():void 0}function $r(e,t){const n=Number(e);return Number.isFinite(n)?n:t}function Vu(e,t){const n=Number(e);return Number.isFinite(n)&&n>0?n:t}function S_(e){var n;const t=(n=Hr(e))==null?void 0:n.toUpperCase();return t==="TB"||t==="LR"?t:df}function Fu(e){const t=Array.isArray(e)?e:[];return Array.from(new Set(t.map(n=>Hr(n)).filter(n=>n!==void 0))).sort((n,r)=>n.localeCompare(r))}function T_(e){const t=Array.isArray(e)?e:[],n=[],r=new Set;for(const i of t){const o=Hr(i==null?void 0:i.id);!o||r.has(o)||(r.add(o),n.push({id:o,width:Vu(i==null?void 0:i.width,w_),height:Vu(i==null?void 0:i.height,x_)}))}return n.sort((i,o)=>i.id.localeCompare(o.id)),n}function O_(e,t){const n=new Set(t),r=Array.isArray(e)?e:[],i=[];for(const o of r){const s=Hr(o==null?void 0:o.source),a=Hr(o==null?void 0:o.target);!s||!a||!n.has(s)||!n.has(a)||i.push({source:s,target:a})}return i}function C_(e){const t=Array.isArray(e)?e:[];if(t.length===0)return{x:0,y:0};let n=Number.POSITIVE_INFINITY,r=Number.POSITIVE_INFINITY;for(const i of t){const o=Number(i==null?void 0:i.x),s=Number(i==null?void 0:i.y);!Number.isFinite(o)||!Number.isFinite(s)||(n=Math.min(n,o),r=Math.min(r,s))}return!Number.isFinite(n)||!Number.isFinite(r)?{x:0,y:0}:{x:n,y:r}}function M_({seedNodeIds:e,edges:t,allowedNodeIds:n}={}){const r=Fu(e);if(r.length===0)return[];const i=Fu(n),o=i.length>0?new Set(i):void 0,s=new Map;for(const d of Array.isArray(t)?t:[]){const c=Hr(d==null?void 0:d.source),h=Hr(d==null?void 0:d.target);!c||!h||o&&(!o.has(c)||!o.has(h))||(s.has(c)||s.set(c,new Set),s.get(c).add(h))}const a=new Set(o?r.filter(d=>o.has(d)):r),u=Array.from(a);for(;u.length>0;){const d=u.shift(),c=s.get(d);if(c instanceof Set)for(const h of c)a.has(h)||(a.add(h),u.push(h))}return Array.from(a)}function A_({nodes:e,edges:t,direction:n=df,spacing:r={},origin:i={}}={}){const o=T_(e);if(o.length===0)return new Map;const s=$r(r==null?void 0:r.nodeSep,E_),a=$r(r==null?void 0:r.rankSep,N_),u=$r(r==null?void 0:r.marginX,k_),d=$r(r==null?void 0:r.marginY,I_),c=$r(i==null?void 0:i.x,0),h=$r(i==null?void 0:i.y,0),f=new zu.graphlib.Graph;f.setDefaultEdgeLabel(()=>({})),f.setGraph({rankdir:S_(n),nodesep:s,ranksep:a,marginx:u,marginy:d});const g=new Map;for(const y of o)g.set(y.id,{width:y.width,height:y.height}),f.setNode(y.id,{width:y.width,height:y.height});const m=O_(t,o.map(y=>y.id));for(let y=m.length-1;y>=0;y-=1){const E=m[y];f.setEdge(E.source,E.target)}zu.layout(f);const b=new Map;for(const y of o){const E=f.node(y.id),w=g.get(y.id);!E||!w||b.set(y.id,{x:E.x-w.width/2+c,y:E.y-w.height/2+h})}return b}const st=Object.freeze({GO_TO_ROOT:"go-to-root",FIT_FULL_VIEW:"fit-full-view",SEARCH_NODES:"search-nodes",AUTO_POSITION_NODES:"auto-position-nodes",VIEW_RAW_JSON:"view-raw-json",HELP_AND_HOTKEYS:"help-and-hotkeys"}),Ds=Object.freeze([{id:st.GO_TO_ROOT,eventName:"gotoroot",commandId:"hytale-devtools.nodeEditor.quickAction.goToRoot",name:"Go to root"},{id:st.FIT_FULL_VIEW,eventName:"fitfullview",commandId:"hytale-devtools.nodeEditor.quickAction.fitFullView",name:"Fit full view",defaultKeybinding:{win:"V",linux:"V",mac:"V"}},{id:st.SEARCH_NODES,eventName:"searchnodes",commandId:"hytale-devtools.nodeEditor.quickAction.searchNodes",name:"Search nodes",keybindingSourceCommandId:"editor.action.webvieweditor.showFind",defaultKeybinding:{win:"F",linux:"F",mac:"F"}},{id:st.AUTO_POSITION_NODES,eventName:"autopositionnodes",commandId:"hytale-devtools.nodeEditor.quickAction.autoPositionNodes",name:"Auto position nodes",defaultKeybinding:{win:"L",linux:"L",mac:"L"}},{id:st.VIEW_RAW_JSON,eventName:"viewrawjson",commandId:"hytale-devtools.nodeEditor.quickAction.viewRawJson",name:"View raw json"},{id:st.HELP_AND_HOTKEYS,eventName:"helphotkeys",commandId:"hytale-devtools.nodeEditor.quickAction.helpAndHotkeys",name:"Show help",defaultKeybinding:{win:"?",linux:"?",mac:"?"}}]),P_=new Map(Ds.map(e=>[e.id,e])),D_=new Map(Ds.map(e=>[e.eventName,e])),Va=new Map;for(const e of Ds){Va.set(e.commandId,e);const t=e.keybindingSourceCommandId;t&&Va.set(t,e)}function _l(e){return e?P_.get(e):void 0}function R_(e){return e?D_.get(e):void 0}function L_(e){return e?Va.get(e):void 0}const ff="Comment",hf="",z_=320,V_=220,F_=220,H_=140,gf=13,K_=8,B_=128;function Hu(e){return typeof e=="string"?e:ff}function Ku(e){return typeof e=="string"?e:hf}function Bu(e){const t=Number(e);return Number.isFinite(t)?t:gf}function vf(e,t){Ne(t,!1);const n=Ee(),r=Ee(),i=Ee(),o=Ee();let s=ee(t,"isVisible",8,!1),a=ee(t,"autoScale",8,!1),u=ee(t,"minWidth",8,0),d=ee(t,"minHeight",8,0),c=ee(t,"color",8,"var(--vscode-focusBorder)"),h=ee(t,"handleClass",8,"rounded-sm border border-vsc-focus bg-vsc-editor-widget-bg"),f=ee(t,"lineClass",8,"border-vsc-focus"),g=ee(t,"onResizeEnd",8,void 0);const m=8,b=12,y=lf();function E(S){const p=Number(S);return!Number.isFinite(p)||p<=0?1:p}function w(S){if(!Number.isFinite(S)||S>=1)return 1;const p=1/S;return Math.min(b,Math.max(1,p))}Te(()=>{},()=>{var S;W(n,E((S=y.current)==null?void 0:S.zoom))}),Te(()=>l(n),()=>{W(r,w(l(n)))}),Te(()=>l(r),()=>{W(i,Math.round(m*l(r)))}),Te(()=>l(i),()=>{W(o,`width:${l(i)}px;height:${l(i)}px;`)}),Br(),Ln(),Kb(e,{get isVisible(){return s()},get autoScale(){return a()},get minWidth(){return u()},get minHeight(){return d()},get color(){return c()},get handleClass(){return h()},get handleStyle(){return l(o)},get lineClass(){return f()},get onResizeEnd(){return g()}}),ke()}var W_=de('<input class="nodrag min-w-0 flex-1 appearance-none rounded border border-vsc-input-border bg-vsc-input-bg px-1 py-0.5 font-semibold text-vsc-input-fg outline-none focus:border-vsc-focus" type="text" aria-label="Comment title"/>'),Y_=de('<button class="min-w-0 flex-1 truncate text-left font-semibold text-vsc-input-fg cursor-grab active:cursor-grabbing select-none" type="button"> </button>'),X_=de('<div class="relative h-full w-full overflow-visible rounded-lg border border-vsc-editor-widget-border bg-vsc-editor-widget-bg/90 text-vsc-editor-fg shadow-lg transition-[border-color,box-shadow]"><div class="flex items-center gap-2 border-b border-vsc-editor-widget-border bg-vsc-input-bg/70 px-2 py-1.5 cursor-grab active:cursor-grabbing" role="group" aria-label="Comment title bar"><!> <div data-comment-selection-exempt="true" class="nodrag flex items-center gap-1 rounded border border-vsc-editor-widget-border bg-vsc-editor-widget-bg px-1 py-0.5"><input class="w-10 border-0 bg-transparent p-0 text-right text-[10px] font-semibold text-vsc-muted outline-none [appearance:textfield] [&amp;::-webkit-inner-spin-button]:appearance-none [&amp;::-webkit-outer-spin-button]:appearance-none" type="number" step="1" aria-label="Comment font size"/> <span class="text-[10px] font-semibold text-vsc-muted">px</span></div></div> <textarea class="nodrag h-[calc(100%-2.75rem)] w-full resize-none border-0 bg-transparent p-2 text-vsc-editor-fg outline-none placeholder:text-vsc-muted" aria-label="Comment text" placeholder="Write a note..."></textarea> <!></div>');function j_(e,t){Ne(t,!1);const n=Ee(),r=Ee(),i=Ee(),o=Ee(),s=Ee();let a=ee(t,"id",8),u=ee(t,"data",24,()=>({})),d=ee(t,"selected",8,!1),c=ee(t,"dragging",8,!1);const{updateNodeData:h,updateNode:f,getNodes:g,getEdges:m,updateEdge:b}=jr();let y=Ee(!1),E=Ee(!1),w=Ee(!1),S=Ee(""),p=Ee(""),M=Ee(""),A=Ee();async function I(){var oe,ne;W(y,!0),W(S,l(n)),await ct(),(oe=l(A))==null||oe.focus(),(ne=l(A))==null||ne.select()}function k(){if(!l(y))return;const oe=Hu(l(S));oe!==l(n)&&(R({name:oe}),C("comment-renamed")),W(y,!1)}function V(){W(E,!0)}function D(){if(!l(E))return;const oe=Ku(l(p));oe!==l(r)&&(R({text:oe}),C("comment-text-updated")),W(E,!1)}function N(){l(E)&&(W(E,!1),W(p,l(r)))}function _(oe){W(E,!0),W(p,oe.currentTarget.value)}function x(oe){oe.key==="Escape"&&(oe.preventDefault(),N(),oe.currentTarget.blur())}function v(){W(w,!0)}function O(){if(!l(w))return;const oe=Bu(l(M));oe!==l(i)&&(R({fontSize:oe}),C("comment-font-size-updated")),W(w,!1)}function T(){l(w)&&(W(w,!1),W(M,String(l(i))))}function P(oe){W(w,!0),W(M,oe.currentTarget.value)}function F(oe){if(oe.key==="Enter"){oe.preventDefault(),O(),oe.currentTarget.blur();return}oe.key==="Escape"&&(oe.preventDefault(),T(),oe.currentTarget.blur())}function K(){l(y)&&(W(y,!1),W(S,l(n)))}function X(oe){var ne,fe;if(oe.key==="Enter"){oe.preventDefault(),k(),(ne=l(A))==null||ne.blur();return}oe.key==="Escape"&&(oe.preventDefault(),K(),(fe=l(A))==null||fe.blur())}function G(oe){(oe.key==="Enter"||oe.key===" ")&&(oe.preventDefault(),I())}function U(oe){if(l(y)||l(w))return;const ne=Number(oe==null?void 0:oe.button);if(Number.isFinite(ne)&&ne!==0)return;const fe=oe==null?void 0:oe.target;if(typeof(fe==null?void 0:fe.closest)=="function"&&fe.closest("[data-comment-selection-exempt='true']")||oe!=null&&oe.shiftKey)return;const $=!!(oe!=null&&oe.metaKey||oe!=null&&oe.ctrlKey),le=g();for(const we of le){const Re=we.id===a()?!0:$?!!we.selected:!1;we.selected!==Re&&f(we.id,{selected:Re})}if($)return;const he=m();for(const we of he)we.selected&&b(we.id,{selected:!1})}function Z(){C("comment-resized")}function R(oe){h(a(),{name:l(n),text:l(r),fontSize:l(i),...oe})}function C(oe){typeof window>"u"||typeof window.dispatchEvent!="function"||window.dispatchEvent(new CustomEvent(Gb,{detail:{nodeId:a(),reason:oe}}))}Te(()=>Ke(u()),()=>{var oe;W(n,Hu((oe=u())==null?void 0:oe.name))}),Te(()=>Ke(u()),()=>{var oe;W(r,Ku((oe=u())==null?void 0:oe.text))}),Te(()=>Ke(u()),()=>{var oe;W(i,Bu((oe=u())==null?void 0:oe.fontSize))}),Te(()=>l(i),()=>{W(o,Math.max(11,Math.round(l(i)+1)))}),Te(()=>l(i),()=>{W(s,Math.max(16,Math.round(l(i)*1.35)))}),Te(()=>(l(y),l(n)),()=>{l(y)||W(S,l(n))}),Te(()=>(l(E),l(r)),()=>{l(E)||W(p,l(r))}),Te(()=>(l(w),l(i)),()=>{l(w)||W(M,String(l(i)))}),Br(),Ln();var B=X_(),Y=ae(B);Y.__pointerup=U;var j=ae(Y);{var Q=oe=>{var ne=W_();ne.__input=$=>W(S,$.currentTarget.value),ne.__keydown=X;let fe;lt(ne,$=>W(A,$),()=>l(A)),be(()=>{Ot(ne,l(S)),fe=Ze(ne,"",fe,{"font-size":`${l(o)}px`})}),We("blur",ne,k),te(oe,ne)},re=oe=>{var ne=Y_();ne.__dblclick=I,ne.__keydown=G;let fe;var $=ae(ne);be(()=>{ye(ne,"aria-label",`Comment title: ${l(n)}. Double click to rename`),fe=Ze(ne,"",fe,{"font-size":`${l(o)}px`}),Ye($,l(n))}),te(oe,ne)};De(j,oe=>{l(y)?oe(Q):oe(re,!1)})}var ie=ge(j,2),pe=ae(ie);pe.__input=P,pe.__keydown=F;var me=ge(Y,2);me.__input=_,me.__keydown=x;let xe;var Se=ge(me,2);{let oe=vo(()=>d()&&!c());vf(Se,{get isVisible(){return l(oe)},get minWidth(){return F_},get minHeight(){return H_},onResizeEnd:Z})}be(()=>{Ze(B,`outline: ${d()&&!c()?"2px solid var(--vscode-focusBorder)":"none"};`),ye(pe,"min",K_),ye(pe,"max",B_),Ot(pe,l(M)),Ot(me,l(p)),xe=Ze(me,"",xe,{"font-size":`${l(i)}px`,"line-height":`${l(s)}px`})}),We("focus",pe,v),We("blur",pe,O),We("focus",me,V),We("blur",me,D),te(e,B),ke()}mt(["pointerup","input","keydown","dblclick"]);/**
 * @license lucide-svelte v0.564.0 - ISC
 *
 * ISC License
 * 
 * Copyright (c) for portions of Lucide are held by Cole Bemis 2013-2026 as part of Feather (MIT). All other copyright (c) for Lucide are held by Lucide Contributors 2026.
 * 
 * Permission to use, copy, modify, and/or distribute this software for any
 * purpose with or without fee is hereby granted, provided that the above
 * copyright notice and this permission notice appear in all copies.
 * 
 * THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES
 * WITH REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF
 * MERCHANTABILITY AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR
 * ANY SPECIAL, DIRECT, INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES
 * WHATSOEVER RESULTING FROM LOSS OF USE, DATA OR PROFITS, WHETHER IN AN
 * ACTION OF CONTRACT, NEGLIGENCE OR OTHER TORTIOUS ACTION, ARISING OUT OF
 * OR IN CONNECTION WITH THE USE OR PERFORMANCE OF THIS SOFTWARE.
 * 
 * ---
 * 
 * The MIT License (MIT) (for portions derived from Feather)
 * 
 * Copyright (c) 2013-2026 Cole Bemis
 * 
 * Permission is hereby granted, free of charge, to any person obtaining a copy
 * of this software and associated documentation files (the "Software"), to deal
 * in the Software without restriction, including without limitation the rights
 * to use, copy, modify, merge, publish, distribute, sublicense, and/or sell
 * copies of the Software, and to permit persons to whom the Software is
 * furnished to do so, subject to the following conditions:
 * 
 * The above copyright notice and this permission notice shall be included in all
 * copies or substantial portions of the Software.
 * 
 * THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR
 * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,
 * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE
 * AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER
 * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,
 * OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE
 * SOFTWARE.
 * 
 */const G_={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor","stroke-width":2,"stroke-linecap":"round","stroke-linejoin":"round"};/**
 * @license lucide-svelte v0.564.0 - ISC
 *
 * ISC License
 * 
 * Copyright (c) for portions of Lucide are held by Cole Bemis 2013-2026 as part of Feather (MIT). All other copyright (c) for Lucide are held by Lucide Contributors 2026.
 * 
 * Permission to use, copy, modify, and/or distribute this software for any
 * purpose with or without fee is hereby granted, provided that the above
 * copyright notice and this permission notice appear in all copies.
 * 
 * THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES
 * WITH REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF
 * MERCHANTABILITY AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR
 * ANY SPECIAL, DIRECT, INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES
 * WHATSOEVER RESULTING FROM LOSS OF USE, DATA OR PROFITS, WHETHER IN AN
 * ACTION OF CONTRACT, NEGLIGENCE OR OTHER TORTIOUS ACTION, ARISING OUT OF
 * OR IN CONNECTION WITH THE USE OR PERFORMANCE OF THIS SOFTWARE.
 * 
 * ---
 * 
 * The MIT License (MIT) (for portions derived from Feather)
 * 
 * Copyright (c) 2013-2026 Cole Bemis
 * 
 * Permission is hereby granted, free of charge, to any person obtaining a copy
 * of this software and associated documentation files (the "Software"), to deal
 * in the Software without restriction, including without limitation the rights
 * to use, copy, modify, merge, publish, distribute, sublicense, and/or sell
 * copies of the Software, and to permit persons to whom the Software is
 * furnished to do so, subject to the following conditions:
 * 
 * The above copyright notice and this permission notice shall be included in all
 * copies or substantial portions of the Software.
 * 
 * THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR
 * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,
 * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE
 * AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER
 * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,
 * OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE
 * SOFTWARE.
 * 
 */const U_=e=>{for(const t in e)if(t.startsWith("aria-")||t==="role"||t==="title")return!0;return!1};/**
 * @license lucide-svelte v0.564.0 - ISC
 *
 * ISC License
 * 
 * Copyright (c) for portions of Lucide are held by Cole Bemis 2013-2026 as part of Feather (MIT). All other copyright (c) for Lucide are held by Lucide Contributors 2026.
 * 
 * Permission to use, copy, modify, and/or distribute this software for any
 * purpose with or without fee is hereby granted, provided that the above
 * copyright notice and this permission notice appear in all copies.
 * 
 * THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES
 * WITH REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF
 * MERCHANTABILITY AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR
 * ANY SPECIAL, DIRECT, INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES
 * WHATSOEVER RESULTING FROM LOSS OF USE, DATA OR PROFITS, WHETHER IN AN
 * ACTION OF CONTRACT, NEGLIGENCE OR OTHER TORTIOUS ACTION, ARISING OUT OF
 * OR IN CONNECTION WITH THE USE OR PERFORMANCE OF THIS SOFTWARE.
 * 
 * ---
 * 
 * The MIT License (MIT) (for portions derived from Feather)
 * 
 * Copyright (c) 2013-2026 Cole Bemis
 * 
 * Permission is hereby granted, free of charge, to any person obtaining a copy
 * of this software and associated documentation files (the "Software"), to deal
 * in the Software without restriction, including without limitation the rights
 * to use, copy, modify, merge, publish, distribute, sublicense, and/or sell
 * copies of the Software, and to permit persons to whom the Software is
 * furnished to do so, subject to the following conditions:
 * 
 * The above copyright notice and this permission notice shall be included in all
 * copies or substantial portions of the Software.
 * 
 * THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR
 * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,
 * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE
 * AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER
 * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,
 * OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE
 * SOFTWARE.
 * 
 */const Wu=(...e)=>e.filter((t,n,r)=>!!t&&t.trim()!==""&&r.indexOf(t)===n).join(" ").trim();var q_=Gt("<svg><!><!></svg>");function yr(e,t){const n=on(t,["children","$$slots","$$events","$$legacy"]),r=on(n,["name","color","size","strokeWidth","absoluteStrokeWidth","iconNode"]);Ne(t,!1);let i=ee(t,"name",8,void 0),o=ee(t,"color",8,"currentColor"),s=ee(t,"size",8,24),a=ee(t,"strokeWidth",8,2),u=ee(t,"absoluteStrokeWidth",8,!1),d=ee(t,"iconNode",24,()=>[]);Ln();var c=q_();vn(c,(g,m,b)=>({...G_,...g,...r,width:s(),height:s(),stroke:o(),"stroke-width":m,class:b}),[()=>U_(r)?void 0:{"aria-hidden":"true"},()=>(Ke(u()),Ke(a()),Ke(s()),Ve(()=>u()?Number(a())*24/Number(s()):a())),()=>(Ke(Wu),Ke(i()),Ke(n),Ve(()=>Wu("lucide-icon","lucide",i()?`lucide-${i()}`:"",n.class)))]);var h=ae(c);it(h,1,d,zt,(g,m)=>{var b=H(()=>vr(l(m),2));let y=()=>l(b)[0],E=()=>l(b)[1];var w=tt(),S=Me(w);lg(S,y,!0,(p,M)=>{vn(p,()=>({...E()}))}),te(g,w)});var f=ge(h);Dn(f,t,"default",{}),te(e,c),ke()}function Z_(e,t){const n=on(t,["children","$$slots","$$events","$$legacy"]);/**
 * @license lucide-svelte v0.564.0 - ISC
 *
 * ISC License
 *
 * Copyright (c) for portions of Lucide are held by Cole Bemis 2013-2026 as part of Feather (MIT). All other copyright (c) for Lucide are held by Lucide Contributors 2026.
 *
 * Permission to use, copy, modify, and/or distribute this software for any
 * purpose with or without fee is hereby granted, provided that the above
 * copyright notice and this permission notice appear in all copies.
 *
 * THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES
 * WITH REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF
 * MERCHANTABILITY AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR
 * ANY SPECIAL, DIRECT, INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES
 * WHATSOEVER RESULTING FROM LOSS OF USE, DATA OR PROFITS, WHETHER IN AN
 * ACTION OF CONTRACT, NEGLIGENCE OR OTHER TORTIOUS ACTION, ARISING OUT OF
 * OR IN CONNECTION WITH THE USE OR PERFORMANCE OF THIS SOFTWARE.
 *
 * ---
 *
 * The MIT License (MIT) (for portions derived from Feather)
 *
 * Copyright (c) 2013-2026 Cole Bemis
 *
 * Permission is hereby granted, free of charge, to any person obtaining a copy
 * of this software and associated documentation files (the "Software"), to deal
 * in the Software without restriction, including without limitation the rights
 * to use, copy, modify, merge, publish, distribute, sublicense, and/or sell
 * copies of the Software, and to permit persons to whom the Software is
 * furnished to do so, subject to the following conditions:
 *
 * The above copyright notice and this permission notice shall be included in all
 * copies or substantial portions of the Software.
 *
 * THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR
 * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,
 * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE
 * AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER
 * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,
 * OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE
 * SOFTWARE.
 *
 */const r=[["path",{d:"M3 19V5"}],["path",{d:"m13 6-6 6 6 6"}],["path",{d:"M7 12h14"}]];yr(e,Xt({name:"arrow-left-to-line"},()=>n,{get iconNode(){return r},children:(i,o)=>{var s=tt(),a=Me(s);Dn(a,t,"default",{}),te(i,s)},$$slots:{default:!0}}))}function Q_(e,t){const n=on(t,["children","$$slots","$$events","$$legacy"]);/**
 * @license lucide-svelte v0.564.0 - ISC
 *
 * ISC License
 *
 * Copyright (c) for portions of Lucide are held by Cole Bemis 2013-2026 as part of Feather (MIT). All other copyright (c) for Lucide are held by Lucide Contributors 2026.
 *
 * Permission to use, copy, modify, and/or distribute this software for any
 * purpose with or without fee is hereby granted, provided that the above
 * copyright notice and this permission notice appear in all copies.
 *
 * THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES
 * WITH REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF
 * MERCHANTABILITY AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR
 * ANY SPECIAL, DIRECT, INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES
 * WHATSOEVER RESULTING FROM LOSS OF USE, DATA OR PROFITS, WHETHER IN AN
 * ACTION OF CONTRACT, NEGLIGENCE OR OTHER TORTIOUS ACTION, ARISING OUT OF
 * OR IN CONNECTION WITH THE USE OR PERFORMANCE OF THIS SOFTWARE.
 *
 * ---
 *
 * The MIT License (MIT) (for portions derived from Feather)
 *
 * Copyright (c) 2013-2026 Cole Bemis
 *
 * Permission is hereby granted, free of charge, to any person obtaining a copy
 * of this software and associated documentation files (the "Software"), to deal
 * in the Software without restriction, including without limitation the rights
 * to use, copy, modify, merge, publish, distribute, sublicense, and/or sell
 * copies of the Software, and to permit persons to whom the Software is
 * furnished to do so, subject to the following conditions:
 *
 * The above copyright notice and this permission notice shall be included in all
 * copies or substantial portions of the Software.
 *
 * THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR
 * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,
 * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE
 * AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER
 * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,
 * OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE
 * SOFTWARE.
 *
 */const r=[["path",{d:"M10 10h4"}],["path",{d:"M19 7V4a1 1 0 0 0-1-1h-2a1 1 0 0 0-1 1v3"}],["path",{d:"M20 21a2 2 0 0 0 2-2v-3.851c0-1.39-2-2.962-2-4.829V8a1 1 0 0 0-1-1h-4a1 1 0 0 0-1 1v11a2 2 0 0 0 2 2z"}],["path",{d:"M 22 16 L 2 16"}],["path",{d:"M4 21a2 2 0 0 1-2-2v-3.851c0-1.39 2-2.962 2-4.829V8a1 1 0 0 1 1-1h4a1 1 0 0 1 1 1v11a2 2 0 0 1-2 2z"}],["path",{d:"M9 7V4a1 1 0 0 0-1-1H6a1 1 0 0 0-1 1v3"}]];yr(e,Xt({name:"binoculars"},()=>n,{get iconNode(){return r},children:(i,o)=>{var s=tt(),a=Me(s);Dn(a,t,"default",{}),te(i,s)},$$slots:{default:!0}}))}function J_(e,t){const n=on(t,["children","$$slots","$$events","$$legacy"]);/**
 * @license lucide-svelte v0.564.0 - ISC
 *
 * ISC License
 *
 * Copyright (c) for portions of Lucide are held by Cole Bemis 2013-2026 as part of Feather (MIT). All other copyright (c) for Lucide are held by Lucide Contributors 2026.
 *
 * Permission to use, copy, modify, and/or distribute this software for any
 * purpose with or without fee is hereby granted, provided that the above
 * copyright notice and this permission notice appear in all copies.
 *
 * THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES
 * WITH REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF
 * MERCHANTABILITY AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR
 * ANY SPECIAL, DIRECT, INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES
 * WHATSOEVER RESULTING FROM LOSS OF USE, DATA OR PROFITS, WHETHER IN AN
 * ACTION OF CONTRACT, NEGLIGENCE OR OTHER TORTIOUS ACTION, ARISING OUT OF
 * OR IN CONNECTION WITH THE USE OR PERFORMANCE OF THIS SOFTWARE.
 *
 * ---
 *
 * The MIT License (MIT) (for portions derived from Feather)
 *
 * Copyright (c) 2013-2026 Cole Bemis
 *
 * Permission is hereby granted, free of charge, to any person obtaining a copy
 * of this software and associated documentation files (the "Software"), to deal
 * in the Software without restriction, including without limitation the rights
 * to use, copy, modify, merge, publish, distribute, sublicense, and/or sell
 * copies of the Software, and to permit persons to whom the Software is
 * furnished to do so, subject to the following conditions:
 *
 * The above copyright notice and this permission notice shall be included in all
 * copies or substantial portions of the Software.
 *
 * THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR
 * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,
 * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE
 * AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER
 * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,
 * OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE
 * SOFTWARE.
 *
 */const r=[["path",{d:"M8 3H7a2 2 0 0 0-2 2v5a2 2 0 0 1-2 2 2 2 0 0 1 2 2v5c0 1.1.9 2 2 2h1"}],["path",{d:"M16 21h1a2 2 0 0 0 2-2v-5c0-1.1.9-2 2-2a2 2 0 0 1-2-2V5a2 2 0 0 0-2-2h-1"}]];yr(e,Xt({name:"braces"},()=>n,{get iconNode(){return r},children:(i,o)=>{var s=tt(),a=Me(s);Dn(a,t,"default",{}),te(i,s)},$$slots:{default:!0}}))}function pf(e,t){const n=on(t,["children","$$slots","$$events","$$legacy"]);/**
 * @license lucide-svelte v0.564.0 - ISC
 *
 * ISC License
 *
 * Copyright (c) for portions of Lucide are held by Cole Bemis 2013-2026 as part of Feather (MIT). All other copyright (c) for Lucide are held by Lucide Contributors 2026.
 *
 * Permission to use, copy, modify, and/or distribute this software for any
 * purpose with or without fee is hereby granted, provided that the above
 * copyright notice and this permission notice appear in all copies.
 *
 * THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES
 * WITH REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF
 * MERCHANTABILITY AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR
 * ANY SPECIAL, DIRECT, INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES
 * WHATSOEVER RESULTING FROM LOSS OF USE, DATA OR PROFITS, WHETHER IN AN
 * ACTION OF CONTRACT, NEGLIGENCE OR OTHER TORTIOUS ACTION, ARISING OUT OF
 * OR IN CONNECTION WITH THE USE OR PERFORMANCE OF THIS SOFTWARE.
 *
 * ---
 *
 * The MIT License (MIT) (for portions derived from Feather)
 *
 * Copyright (c) 2013-2026 Cole Bemis
 *
 * Permission is hereby granted, free of charge, to any person obtaining a copy
 * of this software and associated documentation files (the "Software"), to deal
 * in the Software without restriction, including without limitation the rights
 * to use, copy, modify, merge, publish, distribute, sublicense, and/or sell
 * copies of the Software, and to permit persons to whom the Software is
 * furnished to do so, subject to the following conditions:
 *
 * The above copyright notice and this permission notice shall be included in all
 * copies or substantial portions of the Software.
 *
 * THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR
 * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,
 * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE
 * AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER
 * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,
 * OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE
 * SOFTWARE.
 *
 */const r=[["circle",{cx:"12",cy:"12",r:"10"}],["path",{d:"M9.09 9a3 3 0 0 1 5.83 1c0 2-3 3-3 3"}],["path",{d:"M12 17h.01"}]];yr(e,Xt({name:"circle-question-mark"},()=>n,{get iconNode(){return r},children:(i,o)=>{var s=tt(),a=Me(s);Dn(a,t,"default",{}),te(i,s)},$$slots:{default:!0}}))}function mf(e,t){const n=on(t,["children","$$slots","$$events","$$legacy"]);/**
 * @license lucide-svelte v0.564.0 - ISC
 *
 * ISC License
 *
 * Copyright (c) for portions of Lucide are held by Cole Bemis 2013-2026 as part of Feather (MIT). All other copyright (c) for Lucide are held by Lucide Contributors 2026.
 *
 * Permission to use, copy, modify, and/or distribute this software for any
 * purpose with or without fee is hereby granted, provided that the above
 * copyright notice and this permission notice appear in all copies.
 *
 * THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES
 * WITH REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF
 * MERCHANTABILITY AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR
 * ANY SPECIAL, DIRECT, INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES
 * WHATSOEVER RESULTING FROM LOSS OF USE, DATA OR PROFITS, WHETHER IN AN
 * ACTION OF CONTRACT, NEGLIGENCE OR OTHER TORTIOUS ACTION, ARISING OUT OF
 * OR IN CONNECTION WITH THE USE OR PERFORMANCE OF THIS SOFTWARE.
 *
 * ---
 *
 * The MIT License (MIT) (for portions derived from Feather)
 *
 * Copyright (c) 2013-2026 Cole Bemis
 *
 * Permission is hereby granted, free of charge, to any person obtaining a copy
 * of this software and associated documentation files (the "Software"), to deal
 * in the Software without restriction, including without limitation the rights
 * to use, copy, modify, merge, publish, distribute, sublicense, and/or sell
 * copies of the Software, and to permit persons to whom the Software is
 * furnished to do so, subject to the following conditions:
 *
 * The above copyright notice and this permission notice shall be included in all
 * copies or substantial portions of the Software.
 *
 * THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR
 * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,
 * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE
 * AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER
 * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,
 * OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE
 * SOFTWARE.
 *
 */const r=[["path",{d:"M2.992 16.342a2 2 0 0 1 .094 1.167l-1.065 3.29a1 1 0 0 0 1.236 1.168l3.413-.998a2 2 0 0 1 1.099.092 10 10 0 1 0-4.777-4.719"}],["path",{d:"M8 12h.01"}],["path",{d:"M12 12h.01"}],["path",{d:"M16 12h.01"}]];yr(e,Xt({name:"message-circle-more"},()=>n,{get iconNode(){return r},children:(i,o)=>{var s=tt(),a=Me(s);Dn(a,t,"default",{}),te(i,s)},$$slots:{default:!0}}))}function $_(e,t){const n=on(t,["children","$$slots","$$events","$$legacy"]);/**
 * @license lucide-svelte v0.564.0 - ISC
 *
 * ISC License
 *
 * Copyright (c) for portions of Lucide are held by Cole Bemis 2013-2026 as part of Feather (MIT). All other copyright (c) for Lucide are held by Lucide Contributors 2026.
 *
 * Permission to use, copy, modify, and/or distribute this software for any
 * purpose with or without fee is hereby granted, provided that the above
 * copyright notice and this permission notice appear in all copies.
 *
 * THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES
 * WITH REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF
 * MERCHANTABILITY AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR
 * ANY SPECIAL, DIRECT, INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES
 * WHATSOEVER RESULTING FROM LOSS OF USE, DATA OR PROFITS, WHETHER IN AN
 * ACTION OF CONTRACT, NEGLIGENCE OR OTHER TORTIOUS ACTION, ARISING OUT OF
 * OR IN CONNECTION WITH THE USE OR PERFORMANCE OF THIS SOFTWARE.
 *
 * ---
 *
 * The MIT License (MIT) (for portions derived from Feather)
 *
 * Copyright (c) 2013-2026 Cole Bemis
 *
 * Permission is hereby granted, free of charge, to any person obtaining a copy
 * of this software and associated documentation files (the "Software"), to deal
 * in the Software without restriction, including without limitation the rights
 * to use, copy, modify, merge, publish, distribute, sublicense, and/or sell
 * copies of the Software, and to permit persons to whom the Software is
 * furnished to do so, subject to the following conditions:
 *
 * The above copyright notice and this permission notice shall be included in all
 * copies or substantial portions of the Software.
 *
 * THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR
 * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,
 * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE
 * AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER
 * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,
 * OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE
 * SOFTWARE.
 *
 */const r=[["rect",{x:"16",y:"16",width:"6",height:"6",rx:"1"}],["rect",{x:"2",y:"16",width:"6",height:"6",rx:"1"}],["rect",{x:"9",y:"2",width:"6",height:"6",rx:"1"}],["path",{d:"M5 16v-3a1 1 0 0 1 1-1h12a1 1 0 0 1 1 1v3"}],["path",{d:"M12 12V8"}]];yr(e,Xt({name:"network"},()=>n,{get iconNode(){return r},children:(i,o)=>{var s=tt(),a=Me(s);Dn(a,t,"default",{}),te(i,s)},$$slots:{default:!0}}))}function wl(e,t){const n=on(t,["children","$$slots","$$events","$$legacy"]);/**
 * @license lucide-svelte v0.564.0 - ISC
 *
 * ISC License
 *
 * Copyright (c) for portions of Lucide are held by Cole Bemis 2013-2026 as part of Feather (MIT). All other copyright (c) for Lucide are held by Lucide Contributors 2026.
 *
 * Permission to use, copy, modify, and/or distribute this software for any
 * purpose with or without fee is hereby granted, provided that the above
 * copyright notice and this permission notice appear in all copies.
 *
 * THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES
 * WITH REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF
 * MERCHANTABILITY AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR
 * ANY SPECIAL, DIRECT, INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES
 * WHATSOEVER RESULTING FROM LOSS OF USE, DATA OR PROFITS, WHETHER IN AN
 * ACTION OF CONTRACT, NEGLIGENCE OR OTHER TORTIOUS ACTION, ARISING OUT OF
 * OR IN CONNECTION WITH THE USE OR PERFORMANCE OF THIS SOFTWARE.
 *
 * ---
 *
 * The MIT License (MIT) (for portions derived from Feather)
 *
 * Copyright (c) 2013-2026 Cole Bemis
 *
 * Permission is hereby granted, free of charge, to any person obtaining a copy
 * of this software and associated documentation files (the "Software"), to deal
 * in the Software without restriction, including without limitation the rights
 * to use, copy, modify, merge, publish, distribute, sublicense, and/or sell
 * copies of the Software, and to permit persons to whom the Software is
 * furnished to do so, subject to the following conditions:
 *
 * The above copyright notice and this permission notice shall be included in all
 * copies or substantial portions of the Software.
 *
 * THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR
 * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,
 * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE
 * AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER
 * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,
 * OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE
 * SOFTWARE.
 *
 */const r=[["path",{d:"M21.174 6.812a1 1 0 0 0-3.986-3.987L3.842 16.174a2 2 0 0 0-.5.83l-1.321 4.352a.5.5 0 0 0 .623.622l4.353-1.32a2 2 0 0 0 .83-.497z"}],["path",{d:"m15 5 4 4"}]];yr(e,Xt({name:"pencil"},()=>n,{get iconNode(){return r},children:(i,o)=>{var s=tt(),a=Me(s);Dn(a,t,"default",{}),te(i,s)},$$slots:{default:!0}}))}function yf(e,t){const n=on(t,["children","$$slots","$$events","$$legacy"]);/**
 * @license lucide-svelte v0.564.0 - ISC
 *
 * ISC License
 *
 * Copyright (c) for portions of Lucide are held by Cole Bemis 2013-2026 as part of Feather (MIT). All other copyright (c) for Lucide are held by Lucide Contributors 2026.
 *
 * Permission to use, copy, modify, and/or distribute this software for any
 * purpose with or without fee is hereby granted, provided that the above
 * copyright notice and this permission notice appear in all copies.
 *
 * THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES
 * WITH REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF
 * MERCHANTABILITY AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR
 * ANY SPECIAL, DIRECT, INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES
 * WHATSOEVER RESULTING FROM LOSS OF USE, DATA OR PROFITS, WHETHER IN AN
 * ACTION OF CONTRACT, NEGLIGENCE OR OTHER TORTIOUS ACTION, ARISING OUT OF
 * OR IN CONNECTION WITH THE USE OR PERFORMANCE OF THIS SOFTWARE.
 *
 * ---
 *
 * The MIT License (MIT) (for portions derived from Feather)
 *
 * Copyright (c) 2013-2026 Cole Bemis
 *
 * Permission is hereby granted, free of charge, to any person obtaining a copy
 * of this software and associated documentation files (the "Software"), to deal
 * in the Software without restriction, including without limitation the rights
 * to use, copy, modify, merge, publish, distribute, sublicense, and/or sell
 * copies of the Software, and to permit persons to whom the Software is
 * furnished to do so, subject to the following conditions:
 *
 * The above copyright notice and this permission notice shall be included in all
 * copies or substantial portions of the Software.
 *
 * THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR
 * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,
 * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE
 * AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER
 * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,
 * OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE
 * SOFTWARE.
 *
 */const r=[["path",{d:"m21 21-4.34-4.34"}],["circle",{cx:"11",cy:"11",r:"8"}]];yr(e,Xt({name:"search"},()=>n,{get iconNode(){return r},children:(i,o)=>{var s=tt(),a=Me(s);Dn(a,t,"default",{}),te(i,s)},$$slots:{default:!0}}))}const ew=['input:not([type="hidden"]):not([disabled]):not([readonly])',"textarea:not([disabled]):not([readonly])","select:not([disabled])",'[contenteditable="true"]'].join(", ");function tw(e){var t;return!!(e!=null&&e.offsetWidth||e!=null&&e.offsetHeight||(t=e==null?void 0:e.getClientRects)!=null&&t.call(e).length)}function nw(e){var t;return((t=e==null?void 0:e.closest)==null?void 0:t.call(e,"[data-node-editor-root]"))??null}function Gr(e){const t=nw(e);if(!t)return!1;const n=Array.from(t.querySelectorAll(ew)).filter(tw),r=n.indexOf(e);if(r<0)return!1;const i=n[r+1];return i?(i instanceof HTMLElement&&i.focus(),!0):!1}function Ur(e){return(e==null?void 0:e.key)==="Enter"&&!(e!=null&&e.isComposing)&&!(e!=null&&e.altKey)&&!(e!=null&&e.ctrlKey)&&!(e!=null&&e.metaKey)&&!(e!=null&&e.shiftKey)}var rw=de('<textarea class="nodrag min-h-10 w-full resize-none rounded-md border border-vsc-input-border bg-vsc-input-bg px-2 py-1.5 text-xs text-vsc-input-fg h-20" rows="4"></textarea>'),iw=de('<input class="nodrag w-full rounded-md border border-vsc-input-border bg-vsc-input-bg px-2 py-1.5 text-xs text-vsc-input-fg" type="text"/>'),ow=de('<div class="flex flex-col gap-1"><label class="text-xs text-vsc-muted"> </label> <!></div>');function sw(e,t){Ne(t,!0);const n=H(()=>t.label??t.schemaKey??"Field"),r=H(()=>typeof t.value=="string"?t.value:String(t.value??"")),i=H(()=>t.type==="text"),o=H(()=>`text-${t.schemaKey??"field"}-${t.type}`);let s=Ie(!1),a=Ie("");et(()=>{l(s)||W(a,l(r),!0)});function u(S){t.onchange(S)}function d(){W(s,!0)}function c(S){W(a,S.currentTarget.value,!0)}function h(){l(s)&&(W(s,!1),l(a)!==l(r)&&u(l(a)))}function f(S){Ur(S)&&(S.preventDefault(),Gr(S.currentTarget)||S.currentTarget.blur())}var g=ow(),m=ae(g),b=ae(m),y=ge(m,2);{var E=S=>{var p=rw();p.__input=c,be(()=>{ye(p,"id",l(o)),Ot(p,l(a))}),We("focus",p,d),We("blur",p,h),te(S,p)},w=S=>{var p=iw();p.__input=c,p.__keydown=f,be(()=>{ye(p,"id",l(o)),Ot(p,l(a))}),We("focus",p,d),We("blur",p,h),te(S,p)};De(y,S=>{l(i)?S(E):S(w,!1)})}be(()=>{ye(m,"for",l(o)),Ye(b,l(n))}),te(e,g),ke()}mt(["input","keydown"]);var aw=de('<div class="flex flex-row items-center justify-start gap-2"><label class="text-xs text-vsc-muted"> </label> <input class="nodrag h-4 w-4" type="checkbox"/></div>');function lw(e,t){Ne(t,!0);const n=H(()=>t.label??t.schemaKey??"Field"),r=H(()=>!!t.value),i=H(()=>`bool-${t.schemaKey??"field"}-${t.type}`);function o(c){t.onchange(c)}var s=aw(),a=ae(s),u=ae(a),d=ge(a,2);d.__change=c=>o(c.currentTarget.checked),be(()=>{ye(a,"for",l(i)),Ye(u,l(n)),ye(d,"id",l(i)),Qc(d,l(r))}),te(e,s),ke()}mt(["change"]);var uw=de('<div class="flex flex-col gap-1"><label class="text-xs text-vsc-muted"> </label> <input class="nodrag w-full rounded-md border border-vsc-input-border bg-vsc-input-bg px-2 py-1.5 text-xs text-vsc-input-fg" type="number"/></div>');function cw(e,t){Ne(t,!0);const n=H(()=>t.label??t.schemaKey??"Field"),r=H(()=>Number.isFinite(Number(t.value))?Number(t.value):0),i=H(()=>String(l(r))),o=H(()=>t.type==="float"?"any":"1"),s=H(()=>`number-${t.schemaKey??"field"}-${t.type}`);let a=Ie(!1),u=Ie("");et(()=>{l(a)||W(u,l(i),!0)});function d(w){t.onchange(w)}function c(){W(a,!0)}function h(w){W(u,w.currentTarget.value,!0)}function f(){if(!l(a))return;W(a,!1);const w=Number(l(u));if(!Number.isFinite(w)){W(u,l(i),!0);return}const S=t.type==="float"?w:Math.trunc(w);W(u,String(S),!0),S!==l(r)&&d(S)}function g(w){Ur(w)&&(w.preventDefault(),Gr(w.currentTarget)||w.currentTarget.blur())}var m=uw(),b=ae(m),y=ae(b),E=ge(b,2);E.__input=h,E.__keydown=g,be(()=>{ye(b,"for",l(s)),Ye(y,l(n)),ye(E,"id",l(s)),Ot(E,l(u)),ye(E,"step",l(o))}),We("focus",E,c),We("blur",E,f),te(e,m),ke()}mt(["input","keydown"]);var dw=de('<div class="flex flex-col gap-1"><label class="text-xs text-vsc-muted"> </label> <input class="nodrag w-full" type="range"/></div>');function fw(e,t){Ne(t,!0);const n=0,r=100,i=1,o=H(()=>Number.isFinite(Number(t.value))?Number(t.value):n),s=H(()=>`slider-${t.schemaKey??"field"}-${t.type}`);let a=Ie(n),u=Ie(!1),d=Ie("unknown");et(()=>{l(u)||W(a,l(o),!0)});const c=H(()=>`${t.label??t.schemaKey??"Field"} (${l(a)})`);function h(A){t.onchange(A)}function f(A){const I=Number(A.currentTarget.value);W(a,Number.isFinite(I)?I:n,!0),W(u,l(a)!==l(o))}function g(){W(d,"pointer")}function m(A){["ArrowLeft","ArrowRight","ArrowUp","ArrowDown","Home","End","PageUp","PageDown"].includes(A.key)&&W(d,"keyboard")}function b(){l(u)&&(h(l(a)),W(u,!1))}function y(){l(d)==="pointer"&&b()}function E(){b(),W(d,"unknown")}var w=dw(),S=ae(w),p=ae(S),M=ge(S,2);ye(M,"min",n),ye(M,"max",r),ye(M,"step",i),M.__pointerdown=g,M.__input=f,M.__change=y,M.__keydown=m,be(()=>{ye(S,"for",l(s)),Ye(p,l(c)),ye(M,"id",l(s)),Ot(M,l(a))}),We("blur",M,E),te(e,w),ke()}mt(["pointerdown","input","change","keydown"]);var hw=de('<div class="flex flex-col gap-1"><label class="text-xs text-vsc-muted"> </label> <input class="nodrag w-full rounded-md border border-vsc-input-border bg-vsc-input-bg px-2 py-1.5 text-xs text-vsc-input-fg" type="text" placeholder="path/to/file.json" spellcheck="false"/></div>');function gw(e,t){Ne(t,!0);const n=H(()=>t.label??t.schemaKey??"Field"),r=H(()=>typeof t.value=="string"?t.value:String(t.value??"")),i=H(()=>`path-${t.schemaKey??"field"}-${t.type}`);let o=Ie(!1),s=Ie("");et(()=>{l(o)||W(s,l(r),!0)});function a(y){t.onchange(y)}function u(){W(o,!0)}function d(y){W(s,y.currentTarget.value,!0)}function c(){l(o)&&(W(o,!1),l(s)!==l(r)&&a(l(s)))}function h(y){Ur(y)&&(y.preventDefault(),Gr(y.currentTarget)||y.currentTarget.blur())}var f=hw(),g=ae(f),m=ae(g),b=ge(g,2);b.__input=d,b.__keydown=h,be(()=>{ye(g,"for",l(i)),Ye(m,l(n)),ye(b,"id",l(i)),Ot(b,l(s))}),We("focus",b,u),We("blur",b,c),te(e,f),ke()}mt(["input","keydown"]);var vw=de('<div class="relative flex flex-col gap-1"><label class="text-xs text-vsc-muted"> </label> <input class="nodrag w-full rounded-md border border-vsc-input-border bg-vsc-input-bg px-2 py-1.5 text-xs text-vsc-input-fg" type="text"/></div>');function pw(e,t){Ne(t,!0);const n=H(()=>t.label??t.schemaKey??"Field"),r=H(()=>typeof t.value=="string"?t.value:String(t.value??"")),i=H(()=>`enum-${t.schemaKey??"field"}-${t.type}`);let o=Ie(!1),s=Ie(""),a;et(()=>{l(o)||W(s,l(r),!0)});function u(E){t.onchange(E)}function d(){W(o,!0)}function c(E){W(s,E.currentTarget.value,!0)}function h(E){l(o)&&(W(o,!1),l(s)!==l(r)&&u(l(s)),E&&a&&!Gr(a)&&a.blur())}function f(E){Ur(E)&&(E.preventDefault(),h(!0))}var g=vw(),m=ae(g),b=ae(m),y=ge(m,2);y.__input=c,y.__keydown=f,lt(y,E=>a=E,()=>a),be(()=>{ye(m,"for",l(i)),Ye(b,l(n)),ye(y,"id",l(i)),Ot(y,l(s))}),We("focus",y,d),We("blur",y,()=>h(!1)),te(e,g),ke()}mt(["input","keydown"]);function Fa(e){return e!==null&&typeof e=="object"&&!Array.isArray(e)}var mw=de('<div class="text-xs text-vsc-muted">No items</div>'),yw=de('<input class="w-4 h-4 nodrag" type="checkbox"/>'),bw=de('<input class="nodrag w-full rounded-md border border-vsc-input-border bg-vsc-input-bg px-2 py-1.5 text-xs text-vsc-input-fg" type="number"/>'),_w=de('<textarea class="nodrag min-h-10 w-full resize-y rounded-md border border-vsc-input-border bg-vsc-input-bg px-2 py-1.5 text-xs text-vsc-input-fg" rows="3"></textarea>'),ww=de('<input class="nodrag w-full rounded-md border border-vsc-input-border bg-vsc-input-bg px-2 py-1.5 text-xs text-vsc-input-fg" type="text"/>'),xw=de('<div class="flex items-start gap-1.5"><div class="flex-1"><!></div> <button class="px-2 py-1 text-xs border rounded-md border-vsc-button-border bg-vsc-button-secondary-bg text-vsc-button-secondary-fg hover:bg-vsc-button-secondary-hover" type="button">Remove</button></div>'),Ew=de('<div class="flex flex-col gap-1.5"></div>'),Nw=de('<div class="flex flex-col gap-1.5 rounded-md border border-dashed border-vsc-editor-widget-border p-2"><div class="flex items-center justify-between gap-2"><div class="text-xs font-bold uppercase text-vsc-muted"> </div> <button class="px-2 py-1 text-xs border rounded-md border-vsc-button-border bg-vsc-button-secondary-bg text-vsc-button-secondary-fg hover:bg-vsc-button-secondary-hover" type="button">Add</button></div> <!></div>');function kw(e,t){Ne(t,!0);const n=H(()=>t.label??t.schemaKey??"Field"),r=H(()=>Array.isArray(t.value)?t.value:[]);function i(A){t.onchange(A)}function o(){i([...l(r),""])}function s(A){i(l(r).filter((I,k)=>k!==A))}function a(A,I){const k=l(r).slice();k[A]=I,i(k)}function u(A,I){a(A,I)}function d(A,I){const k=Number(I);a(A,Number.isFinite(k)?k:0)}function c(A,I){a(A,I)}function h(A,I){try{const k=JSON.parse(I);Fa(k)&&a(A,k)}catch{}}function f(A){try{return JSON.stringify(A??{},null,2)}catch{return"{}"}}function g(A){Ur(A)&&(A.preventDefault(),Gr(A.currentTarget)||A.currentTarget.blur())}var m=Nw(),b=ae(m),y=ae(b),E=ae(y),w=ge(y,2);w.__click=o;var S=ge(b,2);{var p=A=>{var I=mw();te(A,I)},M=A=>{var I=Ew();it(I,21,()=>l(r),zt,(k,V,D)=>{var N=xw(),_=ae(N),x=ae(_);{var v=X=>{var G=yw();G.__change=U=>c(D,U.currentTarget.checked),be(()=>Qc(G,l(V))),te(X,G)},O=X=>{var G=bw();G.__change=U=>d(D,U.currentTarget.value),G.__keydown=g,be(()=>Ot(G,l(V))),te(X,G)},T=X=>{var G=_w();G.__change=U=>h(D,U.currentTarget.value),be(U=>Ot(G,U),[()=>f(l(V))]),te(X,G)},P=H(()=>Fa(l(V))),F=X=>{var G=ww();G.__change=U=>u(D,U.currentTarget.value),G.__keydown=g,be(U=>Ot(G,U),[()=>typeof l(V)=="string"?l(V):String(l(V)??"")]),te(X,G)};De(x,X=>{typeof l(V)=="boolean"?X(v):typeof l(V)=="number"?X(O,1):l(P)?X(T,2):X(F,!1)})}var K=ge(_,2);K.__click=()=>s(D),te(k,N)}),te(A,I)};De(S,A=>{l(r).length===0?A(p):A(M,!1)})}be(()=>Ye(E,l(n))),te(e,m),ke()}mt(["click","change","keydown"]);function bf(e,t){var n=tt(),r=Me(n);{var i=f=>{},o=f=>{kw(f,{get schemaKey(){return t.schemaKey},get type(){return t.type},get label(){return t.label},get value(){return t.value},get inputWidth(){return t.inputWidth},get onchange(){return t.onchange}})},s=f=>{pw(f,{get schemaKey(){return t.schemaKey},get type(){return t.type},get label(){return t.label},get value(){return t.value},get inputWidth(){return t.inputWidth},get onchange(){return t.onchange}})},a=f=>{gw(f,{get schemaKey(){return t.schemaKey},get type(){return t.type},get label(){return t.label},get value(){return t.value},get inputWidth(){return t.inputWidth},get onchange(){return t.onchange}})},u=f=>{fw(f,{get schemaKey(){return t.schemaKey},get type(){return t.type},get label(){return t.label},get value(){return t.value},get inputWidth(){return t.inputWidth},get onchange(){return t.onchange}})},d=f=>{lw(f,{get schemaKey(){return t.schemaKey},get type(){return t.type},get label(){return t.label},get value(){return t.value},get inputWidth(){return t.inputWidth},get onchange(){return t.onchange}})},c=f=>{cw(f,{get schemaKey(){return t.schemaKey},get type(){return t.type},get label(){return t.label},get value(){return t.value},get inputWidth(){return t.inputWidth},get onchange(){return t.onchange}})},h=f=>{sw(f,{get schemaKey(){return t.schemaKey},get type(){return t.type},get label(){return t.label},get value(){return t.value},get inputWidth(){return t.inputWidth},get onchange(){return t.onchange}})};De(r,f=>{t.type==="object"?f(i):t.type==="list"?f(o,1):t.type==="enum"?f(s,2):t.type==="filepath"?f(a,3):t.type==="intslider"?f(u,4):t.type==="checkbox"?f(d,5):t.type==="int"||t.type==="float"?f(c,6):f(h,!1)})}te(e,n)}const Iw="#808080";function cs(){return Iw}function Sw(e){if(typeof e=="string")return e;if(Number.isFinite(e))return`#${Math.floor(e).toString(16).padStart(6,"0")}`;if(Array.isArray(e)&&e.length>=3){const[t,n,r,i]=e;return typeof i=="number"?`rgb(${Number(t)} ${Number(n)} ${Number(r)} / ${i})`:`rgb(${Number(t)} ${Number(n)} ${Number(r)})`}if(e&&typeof e=="object"){const t=e;if(typeof t.r=="number"&&typeof t.g=="number"&&typeof t.b=="number")return typeof t.a=="number"?`rgb(${t.r} ${t.g} ${t.b} / ${t.a})`:`rgb(${t.r} ${t.g} ${t.b})`}}var Tw=de('<div class="px-1"><textarea rows="1" aria-label="Node comment"></textarea></div>');function _f(e,t){Ne(t,!1);const n=Ee(),r=Ee(),i=Ee();let o=ee(t,"id",8,""),s=ee(t,"value",8,""),a=ee(t,"isVisible",12,!1),u=ee(t,"isEditing",12,!1);const d=Es();let c=Ee(!1),h=Ee(""),f=Ee();async function g(N=!1){var x,v,O;if(W(c,!0),u()||(u(!0),W(h,l(n)),await ct()),(x=l(f))==null||x.focus(),M(),N){(v=l(f))==null||v.select();return}const _=l(h).length;(O=l(f))==null||O.setSelectionRange(_,_)}function m(){u()&&(d("change",{value:l(h)}),u(!1),W(c,l(h).trim().length>0),ct().then(A))}function b(N){u()&&(W(h,N.currentTarget.value),M())}function y(N){var _;if(u()){N.key==="Escape"&&(N.preventDefault(),m(),(_=l(f))==null||_.blur());return}(N.key==="Enter"||N.key===" ")&&(N.preventDefault(),g(!1))}function E(){u()&&m()}function w(){var N;u()||(N=l(f))==null||N.blur()}function S(N){u()||d("select",{originalEvent:N})}function p(){u()||g(!0)}function M(){l(f)&&(Uo(f,l(f).style.height="auto"),Uo(f,l(f).style.height=`${l(f).scrollHeight}px`))}function A(){var N,_;if(l(f)){try{l(f).setSelectionRange(0,0)}catch{}typeof window<"u"&&((_=(N=window.getSelection)==null?void 0:N.call(window))==null||_.removeAllRanges())}}Te(()=>Ke(s()),()=>{W(n,typeof s()=="string"?s():"")}),Te(()=>l(n),()=>{W(r,l(n).trim().length>0)}),Te(()=>(Ke(u()),l(r),l(c)),()=>{a(u()||l(r)||l(c))}),Te(()=>(Ke(u()),l(n)),()=>{u()||W(h,l(n))}),Te(()=>(Ke(u()),l(h),l(n)),()=>{W(i,u()?l(h):l(n))}),Te(()=>(Ke(a()),ct),()=>{a()&&ct().then(M)}),Br();var I={startEditing:g};Ln();var k=tt(),V=Me(k);{var D=N=>{var _=Tw(),x=ae(_);x.__pointerdown=S,x.__click=p,x.__input=b,x.__keydown=y,lt(x,v=>W(f,v),()=>l(f)),be(()=>{ye(x,"id",o()),Ct(x,1,`w-full resize-none overflow-hidden p-1 rounded-md text-left text-xs leading-5 text-vsc-input-fg whitespace-pre-wrap wrap-break-word ${u()?"nodrag border border-vsc-input-border bg-vsc-input-bg":"border border-transparent bg-transparent cursor-grab active:cursor-grabbing select-none outline-none focus:outline-none focus-visible:outline-none focus:border-transparent"}`),x.readOnly=!u(),Ot(x,l(i))}),We("focus",x,w),We("blur",x,E),te(N,_)};De(V,N=>{a()&&N(D)})}return te(e,k),bg(t,"startEditing",g),ke(I)}mt(["pointerdown","click","input","keydown"]);var Ow=de('<div role="tooltip"> </div>'),Cw=de("<div><!> <!></div>");function wf(e,t){const n=on(t,["children","$$slots","$$events","$$legacy"]),r=on(n,["text","delayMs","disabled","placement","wrapperClass","tooltipClass","groupAriaLabel"]);Ne(t,!1);const i=Ee(),o=Ee(),s=Ee();let a=ee(t,"text",8),u=ee(t,"delayMs",8,300),d=ee(t,"disabled",8,!1),c=ee(t,"placement",8,"bottom"),h=ee(t,"wrapperClass",8,""),f=ee(t,"tooltipClass",8,""),g=ee(t,"groupAriaLabel",8),m=Ee(!1),b;bo(()=>{y()});function y(){typeof b<"u"&&(clearTimeout(b),b=void 0)}function E(){y(),W(m,!1)}function w(){if(!(d()||!l(i))){if(y(),l(o)===0){W(m,!0);return}b=setTimeout(()=>{W(m,!0),b=void 0},l(o))}}function S(){w()}function p(){E()}function M(){d()||!l(i)||(y(),W(m,!0))}function A(_){var v,O;const x=_.relatedTarget;(O=(v=_.currentTarget)==null?void 0:v.contains)!=null&&O.call(v,x)||E()}function I(_){switch(_){case"top":return"left-1/2 bottom-full mb-1.5 -translate-x-1/2";case"right":return"left-full top-1/2 ml-2 -translate-y-1/2";case"left":return"right-full top-1/2 mr-2 -translate-y-1/2";default:return"left-1/2 top-full mt-1.5 -translate-x-1/2"}}Te(()=>Ke(a()),()=>{W(i,typeof a()=="string"?a():void 0)}),Te(()=>Ke(u()),()=>{W(o,Number(u())||0)}),Te(()=>Ke(c()),()=>{W(s,I(c()))}),Te(()=>(Ke(d()),l(i)),()=>{(d()||!l(i))&&E()}),Br(),Ln();var k=Cw();vn(k,()=>({...r,class:`relative ${h()??""}`,role:"group","aria-label":g(),onmouseenter:S,onmouseleave:p,onfocusin:M,onfocusout:A}));var V=ae(k);Dn(V,t,"default",{});var D=ge(V,2);{var N=_=>{var x=Ow(),v=ae(x);be(()=>{Ct(x,1,`pointer-events-none absolute z-20 w-max max-w-64 whitespace-normal rounded-md border border-vsc-editor-widget-border bg-vsc-editor-widget-bg px-2 py-1 text-[11px] leading-4 text-vsc-input-fg shadow-lg ${l(s)??""} ${f()??""}`),Ye(v,l(i))}),te(_,x)};De(D,_=>{l(m)&&l(i)&&_(N)})}te(e,k),ke()}var Mw=de('<span aria-hidden="true"></span>'),Aw=de('<span aria-hidden="true"></span>');function Ha(e,t){Ne(t,!1);const n=Ee(),r=Ee(),i=Ee(),o=Ee(),s=Ee(),a=Ee(),u=Ee(),d=Ee(),c=Ee(),h=Ee(),f=Ee(),g=Ee(),m=Ee(),b=Ee();let y=ee(t,"id",8),E=ee(t,"type",8,"target"),w=ee(t,"side",8,"left"),S=ee(t,"top",8,"0px"),p=ee(t,"width",8,12),M=ee(t,"label",8,""),A=ee(t,"showTooltip",8,!1),I=ee(t,"color",8,void 0),k=ee(t,"connectionMultiplicity",8,"single");function V(O){return Number.isFinite(O)?`${O}px`:typeof O=="string"?O:"0px"}function D(O){return Number.isFinite(O)?`${Number(O)}px`:typeof O=="string"?O:"12px"}function N(O){return`calc(${O} * 2)`}function _(O){return O==="map"?"map":O==="multiple"?"multiple":"single"}function x(O,T){return O==="map"||O==="multiple"?"rounded-none":T==="right"?"rounded-l-full":"rounded-r-full"}function v(O,T){if(O==="map")return T==="left"?"polygon(0 0, 100% 50%, 0 100%)":"polygon(100% 0, 0 50%, 100% 100%)"}Te(()=>Ke(w()),()=>{W(n,w()==="right"?"right":"left")}),Te(()=>(l(n),Ce),()=>{W(r,l(n)==="right"?Ce.Right:Ce.Left)}),Te(()=>Ke(E()),()=>{W(i,E()==="source"?"source":"target")}),Te(()=>Ke(S()),()=>{W(o,V(S()))}),Te(()=>Ke(p()),()=>{W(s,D(p()))}),Te(()=>l(s),()=>{W(a,N(l(s)))}),Te(()=>Ke(M()),()=>{W(u,typeof M()=="string"?M():"")}),Te(()=>(Ke(I()),cs),()=>{W(d,Sw(I())??cs())}),Te(()=>Ke(k()),()=>{W(c,_(k()))}),Te(()=>l(n),()=>{W(h,l(n)==="right"?"right-0":"left-0")}),Te(()=>(l(c),l(n)),()=>{W(f,x(l(c),l(n)))}),Te(()=>(l(c),l(n)),()=>{W(g,v(l(c),l(n)))}),Te(()=>l(n),()=>{W(m,l(n)==="right"?"right":"left")}),Te(()=>(l(u),l(n)),()=>{W(b,l(u)?`${l(n)==="right"?"Output":"Input"} pin ${l(u)}`:void 0)}),Br(),Ln(),to(e,{get type(){return l(i)},get position(){return l(r)},get id(){return y()},get style(){return`top: ${l(o)??""}; height: ${l(a)??""};`},class:"w-px! min-w-0! min-h-0! bg-transparent! border-none! overflow-visible! [transform:translate(0,-50%)]",children:(O,T)=>{var P=tt(),F=Me(P);{var K=G=>{wf(G,{get text(){return l(u)},get placement(){return l(m)},wrapperClass:"block",get style(){return`width: ${l(s)??""}; height: ${l(a)??""};`},get groupAriaLabel(){return l(b)},children:(U,Z)=>{var R=Mw();be(()=>{Ct(R,1,`absolute top-1/2 -translate-y-1/2 ${l(h)??""} ${l(f)??""}`),Ze(R,`width: ${l(s)??""}; height: ${l(a)??""}; background-color: ${l(d)??""}; clip-path: ${(l(g)||"none")??""};`)}),te(U,R)},$$slots:{default:!0}})},X=G=>{var U=Aw();be(()=>{Ct(U,1,`absolute top-1/2 -translate-y-1/2 ${l(h)??""} ${l(f)??""}`),Ze(U,`width: ${l(s)??""}; height: ${l(a)??""}; background-color: ${l(d)??""}; clip-path: ${(l(g)||"none")??""};`)}),te(G,U)};De(F,G=>{A()&&l(u)?G(K):G(X,!1)})}te(O,P)},$$slots:{default:!0}}),ke()}var Pw=de('<input class="w-full p-2 font-bold border rounded-t-lg border-vsc-input-border" type="text"/>'),Dw=de('<span class="mr-1 text-vsc-muted"> </span>'),Rw=de('<div class="flex items-center flex-1 gap-1 p-2 cursor-grab active:cursor-grabbing" role="group" aria-label="Node title bar"><button class="min-w-0 font-bold text-left border border-transparent rounded-md select-none text-vsc-input-fg cursor-grab active:cursor-grabbing" type="button"><!> <span> </span></button> <button class="inline-flex items-center justify-center rounded-md nodrag size-4 hover:backdrop-brightness-90" type="button" title="Edit node title" aria-label="Edit node title"><!></button> <button class="inline-flex items-center justify-center ml-auto rounded-md nodrag size-4 hover:backdrop-brightness-90" type="button" title="Edit node comment" aria-label="Edit node comment"><!></button></div>'),Lw=de('<!> <div class="pointer-events-none absolute pr-1 -translate-y-1/2 text-right text-[11px] text-vsc-muted whitespace-nowrap"> </div>',1),zw=de('<div class="relative pt-0 border border-vsc-editor-widget-border rounded-lg shadow-lg bg-vsc-editor-widget-bg text-vsc-editor-fg transition-[border-color,box-shadow]" data-node-editor-root=""><div aria-hidden="true" class="absolute inset-x-0 top-0 z-10 h-1 rounded-t-lg pointer-events-none"></div> <div class="flex flex-col gap-1"><div class="flex items-center gap-1 rounded-t-lg bg-vsc-input-bg text-vsc-input-fg"><!></div> <!></div> <div class="relative py-2"><!> <div class="flex flex-col gap-2"></div> <!></div></div>');function Vw(e,t){Ne(t,!0);let n=ee(t,"selected",3,!1),r=ee(t,"dragging",3,!1),i=H(()=>t.data.nodeColor),o=H(()=>t.data.outputPins),s=H(()=>t.data.inputPins),a=H(()=>t.data.fieldsBySchemaKey),u=H(()=>t.data.titleOverride),d=H(()=>t.data.defaultTitle),c=H(()=>t.data.inputConnectionIndex);const{updateNodeData:h,updateNode:f,getNodes:g,getEdges:m,updateEdge:b}=jr(),y=16,E=32,w=220,S=32,p=10,M=288,A=80;let I=H(()=>Object.keys(t.data.fieldsBySchemaKey).length>0),k=H(()=>he(l(o))),V=H(()=>(l(I)?M:A)+l(k)),D=H(()=>p+8),N=H(()=>l(k)+8),_=H(()=>Math.max(l(s).length,l(o).length)),x=H(()=>le(l(_)-1,l(_))+S),v=H(()=>l(i)??cs()),O=H(()=>l(u)??l(d)),T=H(()=>l(c)!==void 0?`[${l(c)}]`:void 0),P=H(()=>`comment-${t.id??"node"}`),F=H(()=>{var ce;return typeof((ce=t.data)==null?void 0:ce.comment)=="string"?t.data.comment:""});et(()=>{l(K)||W(X,l(O),!0)});let K=Ie(!1),X=Ie(""),G=Ie(void 0),U=Ie(!1),Z;function R(ce){h(t.id,{titleOverride:ce}),oe("custom-label-updated")}function C(ce){if(ce!=null&&ce.shiftKey)return;const Oe=!!(ce!=null&&ce.metaKey||ce!=null&&ce.ctrlKey),je=g();for(const qe of je){const ft=qe.id===t.id?!0:Oe?!!qe.selected:!1;qe.selected!==ft&&f(qe.id,{selected:ft})}if(Oe)return;const rt=m();for(const qe of rt)qe.selected&&b(qe.id,{selected:!1})}async function B(){var ce,Oe;W(K,!0),W(X,l(O),!0),await ct(),(ce=l(G))==null||ce.focus(),(Oe=l(G))==null||Oe.select()}function Y(ce=!1){var Oe;l(K)&&(R(l(X)),W(K,!1),ce&&(Gr(l(G))||(Oe=l(G))==null||Oe.blur()))}function j(){l(K)&&(W(K,!1),W(X,l(O),!0))}function Q(ce){var Oe;if(Ur(ce)){ce.preventDefault(),Y(!0);return}ce.key==="Escape"&&(ce.preventDefault(),j(),(Oe=l(G))==null||Oe.blur())}function re(){Y(!1)}function ie(ce){(ce.key==="Enter"||ce.key===" ")&&(ce.preventDefault(),B())}function pe(){Z==null||Z.startEditing(!1)}function me(ce){var Oe;C((Oe=ce.detail)==null?void 0:Oe.originalEvent)}function xe(ce){h(t.id,{comment:ce??""}),oe("custom-comment-updated")}function Se(ce,Oe){h(t.id,{fieldsBySchemaKey:{...l(a),[ce]:{...l(a)[ce],value:Oe}}}),oe("custom-field-updated")}function oe(ce){typeof window>"u"||typeof window.dispatchEvent!="function"||window.dispatchEvent(new CustomEvent(Ub,{detail:{nodeId:t.id,reason:ce}}))}function ne(ce){return typeof(ce==null?void 0:ce.label)=="string"?ce.label:typeof(ce==null?void 0:ce.id)=="string"?ce.id:""}function fe(ce){return(ce==null?void 0:ce.isMap)===!0?"map":(ce==null?void 0:ce.multiple)===!0?"multiple":"single"}function $(ce,Oe){return`${le(ce,Oe)}px`}function le(ce,Oe){const je=Number(Oe)||1,rt=Number(ce)||0,qe=Math.max(0,w-y),ft=je<=1?0:Math.min(E,qe/(je-1));return y+rt*ft}function he(ce){return!Array.isArray(ce)||ce.length===0?0:ce.reduce((rt,qe)=>Math.max(rt,ne(qe).length),0)*7+p+4}var we=zw(),Re=ae(we),Le=ge(Re,2),Be=ae(Le),$e=ae(Be);{var gt=ce=>{var Oe=Pw();Oe.__input=je=>W(X,je.currentTarget.value,!0),Oe.__keydown=Q,lt(Oe,je=>W(G,je),()=>l(G)),be(()=>Ot(Oe,l(X))),We("blur",Oe,re),te(ce,Oe)},Fe=ce=>{var Oe=Rw();Oe.__pointerdown=C;var je=ae(Oe);je.__dblclick=B,je.__keydown=ie;var rt=ae(je);{var qe=an=>{var vt=Dw(),Si=ae(vt);be(()=>Ye(Si,l(T))),te(an,vt)};De(rt,an=>{l(T)!==void 0&&an(qe)})}var ft=ge(rt,2),Pt=ae(ft),Dt=ge(je,2);Dt.__click=B;var qr=ae(Dt);wl(qr,{strokeWidth:2.5,"aria-hidden":"true",class:""});var q=ge(Dt,2);q.__click=pe;var Tt=ae(q);mf(Tt,{strokeWidth:2.25,"aria-hidden":"true"}),be(()=>{Ye(Pt,l(O)),ye(q,"aria-expanded",l(U)),ye(q,"aria-controls",l(P))}),te(ce,Oe)};De($e,ce=>{l(K)?ce(gt):ce(Fe,!1)})}var dt=ge(Be,2);lt(_f(dt,{get id(){return l(P)},get value(){return l(F)},get isVisible(){return l(U)},set isVisible(ce){W(U,ce,!0)},$$events:{change:ce=>xe(ce.detail.value),select:me}}),ce=>Z=ce,()=>Z);var St=ge(Le,2),bn=ae(St);it(bn,17,()=>l(s),zt,(ce,Oe,je)=>{const rt=H(()=>$(je,l(s).length)),qe=H(()=>ne(l(Oe)));{let ft=H(()=>ls+(je>0?`-${je}`:"")),Pt=H(()=>l(s).length>1);Ha(ce,{type:"target",side:"left",get id(){return l(ft)},get top(){return l(rt)},width:p,get label(){return l(qe)},get showTooltip(){return l(Pt)},get color(){return l(Oe).color}})}});var _n=ge(bn,2);it(_n,21,()=>Object.entries(l(a)),([ce,Oe])=>ce,(ce,Oe)=>{var je=H(()=>vr(l(Oe),2));let rt=()=>l(je)[1];bf(ce,Xt(rt,{onchange:qe=>Se(rt().schemaKey,qe)}))});var At=ge(_n,2);it(At,19,()=>l(o),ce=>ce.schemaKey,(ce,Oe,je)=>{const rt=H(()=>$(l(je),l(o).length)),qe=H(()=>fe(l(Oe)));var ft=Lw(),Pt=Me(ft);Ha(Pt,{type:"source",side:"right",get id(){return l(Oe).schemaKey},get top(){return l(rt)},width:p,get color(){return l(Oe).color},get connectionMultiplicity(){return l(qe)}});var Dt=ge(Pt,2),qr=ae(Dt);be(q=>{Ze(Dt,`top: ${l(rt)??""}; right: 10px;`),Ye(qr,q)},[()=>ne(l(Oe))]),te(ce,ft)}),be(()=>{Ze(we,`min-width: ${l(V)??""}px; outline: ${n()&&!r()?"2px solid var(--vscode-focusBorder)":"none"};`),Ze(Re,`background-color: ${l(v)??""};`),Ze(St,`padding-left: ${l(D)??""}px; padding-right: ${l(N)??""}px; min-height: ${l(x)??""}px;`)}),te(e,we),ke()}mt(["input","keydown","pointerdown","dblclick","click"]);var Fw=de('<input class="inline-block max-w-full px-0 py-0 font-semibold leading-none text-left transition-transform duration-100 ease-out origin-bottom-left bg-transparent border-0 rounded outline-none appearance-none nodrag whitespace-nowrap text-vsc-editor-fg ring-0 placeholder:text-vsc-muted focus:outline-none focus:ring-0" type="text" aria-label="Edit group title"/>'),Hw=de('<button class="inline-block px-0 py-0 font-semibold leading-none text-left transition-transform duration-100 ease-out origin-bottom-left rounded cursor-default whitespace-nowrap text-vsc-editor-fg" type="button"> </button> <button data-group-edit-action="true" type="button" title="Edit group name" aria-label="Edit group name"><!></button>',1),Kw=de('<div><div class="absolute inset-x-0 top-0 flex items-end h-8 gap-1 px-2 pb-1 overflow-visible rounded-t-lg cursor-default group-title-drag-handle nopan bg-vsc-input-bg/60" role="presentation"><div class="flex items-end min-w-0 gap-1 overflow-visible"><!></div></div> <div class="absolute inset-x-0 h-px pointer-events-none top-8 bg-vsc-editor-widget-border/80"></div> <!></div>');function Bw(e,t){Ne(t,!0);const n="Group",r=180,i=120,o=18,s=5.5,a=3,u=-1e4;let d=ee(t,"data",19,()=>({})),c=ee(t,"selected",3,!1),h=ee(t,"dragging",3,!1),f=ee(t,"positionAbsoluteX",3,0),g=ee(t,"positionAbsoluteY",3,0),m=ee(t,"width",3,r),b=ee(t,"height",3,i);const y=lf(),{updateNodeData:E,updateNode:w}=jr();let S=Ie(!1),p=Ie(""),M=Ie(void 0),A=Ie(void 0),I=Ie(void 0),k=Ie(void 0),V=H(()=>{var $;return C(($=d())==null?void 0:$.name)}),D=H(()=>{var $;return B(($=y.current)==null?void 0:$.zoom)}),N=H(()=>Y(l(D))),_=H(()=>l(N)<=1.001),x=H(()=>l(_)&&!l(S));et(()=>{l(S)||W(p,l(V),!0)}),et(()=>{const $=!!c(),le=Q(m(),b());l(A)===$&&l(I)===le||(W(A,$,!0),W(I,le,!0),w(t.id,{draggable:$,dragHandle:void 0,zIndex:le}))});async function v(){var $,le;W(S,!0),W(p,l(V),!0),await ct(),($=l(M))==null||$.focus(),(le=l(M))==null||le.select()}function O(){l(S)&&(K(l(p)),W(S,!1))}function T(){l(S)&&(W(S,!1),W(p,l(V),!0))}function P($){var le,he;if($.key==="Enter"){$.preventDefault(),O(),(le=l(M))==null||le.blur();return}$.key==="Escape"&&($.preventDefault(),T(),(he=l(M))==null||he.blur())}function F($){($.key==="Enter"||$.key===" ")&&($.preventDefault(),v())}function K($){E(t.id,{name:C($)})}function X(){}function G($){var he,we;if(c()||l(S)||$.button!==0)return;const le=$==null?void 0:$.target;typeof(le==null?void 0:le.closest)=="function"&&le.closest("[data-group-edit-action='true']")||(W(k,{pointerId:$.pointerId,startClientX:Number($.clientX)||0,startClientY:Number($.clientY)||0,startNodeX:j(f()),startNodeY:j(g()),moved:!1},!0),(we=(he=$.currentTarget)==null?void 0:he.setPointerCapture)==null||we.call(he,$.pointerId))}function U($){var $e;const le=l(k);if(!le||$.pointerId!==le.pointerId)return;const he=(Number($.clientX)||0)-le.startClientX,we=(Number($.clientY)||0)-le.startClientY,Re=Math.hypot(he,we);if(!(le.moved||Re>=a))return;le.moved||W(k,{...le,moved:!0},!0);const Be=B(($e=y.current)==null?void 0:$e.zoom);w(t.id,{position:{x:le.startNodeX+he/Be,y:le.startNodeY+we/Be}}),$.preventDefault()}function Z($){const le=l(k);!le||$.pointerId!==le.pointerId||(le.moved&&(w(t.id,{selected:!0}),$.preventDefault()),W(k,void 0))}function R($){const le=l(k);!le||$.pointerId!==le.pointerId||W(k,void 0)}function C($){return typeof $=="string"?$:n}function B($){return Number($)||1}function Y($){if(!Number.isFinite($)||$>=1)return 1;const le=1/$;return Math.min(s,Math.max(1,le))}function j($){return Number($)||0}function Q($,le){const he=re($,r),we=re(le,i),Re=he*we;return u-Math.round(Re)}function re($,le){const he=Number($);return Number.isFinite(he)?he:le}var ie=Kw();let pe;var me=ae(ie);me.__pointerdown=G,me.__pointermove=U,me.__pointerup=Z;var xe=ae(me),Se=ae(xe);{var oe=$=>{var le=Fw();le.__input=we=>W(p,we.currentTarget.value,!0),le.__keydown=P;let he;lt(le,we=>W(M,we),()=>l(M)),be(we=>{Ot(le,l(p)),ye(le,"size",we),he=Ze(le,"",he,{"font-size":`${o}px`,transform:`scale(${l(N)})`})},[()=>Math.max(1,l(p).length||l(V).length)]),We("blur",le,O),te($,le)},ne=$=>{var le=Hw(),he=Me(le);he.__dblclick=v,he.__keydown=F;let we;var Re=ae(he),Le=ge(he,2);let Be;Le.__click=v;var $e=ae(Le);wl($e,{size:12,strokeWidth:2.25,"aria-hidden":"true"}),be(()=>{ye(he,"aria-label",`Group title: ${l(V)}. Double click to rename`),we=Ze(he,"",we,{"font-size":`${o}px`,transform:`scale(${l(N)})`}),Ye(Re,l(V)),Be=Ct(Le,1,"nodrag inline-flex cursor-default items-center justify-center rounded p-0.5 text-vsc-muted transition-[opacity,transform,color] duration-200 ease-out hover:text-vsc-editor-fg",null,Be,{"opacity-100":l(x),"translate-y-0":l(x),"opacity-0":!l(x),"translate-y-0.5":!l(x),"pointer-events-none":!l(x)}),ye(Le,"tabindex",l(x)?0:-1)}),te($,le)};De(Se,$=>{l(S)?$(oe):$(ne,!1)})}var fe=ge(me,4);vf(fe,{get isVisible(){return c()},minWidth:r,minHeight:i,onResizeEnd:X}),be(()=>{pe=Ct(ie,1,"relative h-full w-full cursor-grab overflow-visible rounded-lg border border-dashed border-vsc-editor-widget-border bg-vsc-editor-widget-bg/40 transition-[border-color,box-shadow]",null,pe,{"cursor-grabbing":h()}),Ze(ie,`outline: ${c()&&!h()?"2px solid var(--vscode-focusBorder)":"none"};`)}),We("pointercancel",me,R),te(e,ie),ke()}mt(["pointerdown","pointermove","pointerup","input","keydown","dblclick","click"]);var Ww=de("<div>not implemented</div>");function Yw(e,t){Ne(t,!0),ee(t,"selected",3,!1),ee(t,"dragging",3,!1),jr();var n=Ww();te(e,n),ke()}var Xw=de('<input class="w-full p-2 font-bold border rounded-t-lg border-vsc-input-border" type="text"/>'),jw=de('<span class="mr-1 text-vsc-muted"> </span>'),Gw=de('<div class="flex items-center flex-1 gap-1 p-2 cursor-grab active:cursor-grabbing" role="group" aria-label="Node title bar"><button class="min-w-0 font-bold text-left border border-transparent rounded-md select-none text-vsc-input-fg cursor-grab active:cursor-grabbing" type="button"><!> <span> </span></button> <button class="inline-flex items-center justify-center rounded-md nodrag size-4 hover:backdrop-brightness-90" type="button" title="Edit node title" aria-label="Edit node title"><!></button> <button class="inline-flex items-center justify-center ml-auto rounded-md nodrag size-4 hover:backdrop-brightness-90" type="button" title="Edit node comment" aria-label="Edit node comment"><!></button></div>'),Uw=de('<div class="relative border border-vsc-editor-widget-border rounded-lg shadow-lg bg-vsc-editor-widget-bg text-vsc-editor-fg transition-[border-color,box-shadow]" data-node-editor-root=""><div aria-hidden="true" class="absolute inset-x-0 top-0 z-10 h-1 rounded-t-lg pointer-events-none"></div> <div class="flex flex-col gap-1"><div class="flex items-center gap-1 rounded-t-lg bg-vsc-input-bg text-vsc-input-fg"><!></div> <!></div> <div class="px-[18px] py-2"><!> <!></div></div>');function qw(e,t){Ne(t,!0);const n={schemaKey:"Data",label:"Data",type:"text"},r=`{

}`,i="Raw JSON Node",o="var(--vscode-focusBorder)",s=10,a="50%";let u=ee(t,"selected",3,!1),d=ee(t,"dragging",3,!1);const{updateNodeData:c,updateNode:h,getNodes:f,getEdges:g,updateEdge:m}=jr(),b="nodeTitle",y="inputIndex",E=H(()=>t.data.titleOverride??i),w=H(()=>{var ne;return C((ne=t.data)==null?void 0:ne[y])}),S=H(()=>l(w)!==void 0?`[${l(w)}]`:void 0),p=H(()=>`comment-${t.id??"node"}`),M=H(()=>{var ne;return typeof((ne=t.data)==null?void 0:ne.comment)=="string"?t.data.comment:""}),A=H(()=>{var ne;return typeof((ne=t.data)==null?void 0:ne.data)=="string"?t.data.data:r});et(()=>{I||(k=l(E))});let I=!1,k="",V,D,N=!1;function _(ne){c(t.id,{[b]:ne}),R("raw-json-label-updated")}function x(ne){c(t.id,{data:typeof ne=="string"?ne:String(ne??r)}),R("raw-json-field-updated")}function v(ne){if(ne!=null&&ne.shiftKey)return;const fe=!!(ne!=null&&ne.metaKey||ne!=null&&ne.ctrlKey),$=f();for(const he of $){const we=he.id===t.id?!0:fe?!!he.selected:!1;he.selected!==we&&h(he.id,{selected:we})}if(fe)return;const le=g();for(const he of le)he.selected&&m(he.id,{selected:!1})}async function O(){I=!0,k=l(E),await ct(),V==null||V.focus(),V==null||V.select()}function T(ne=!1){I&&(_(k),I=!1,ne&&(Gr(V)||V==null||V.blur()))}function P(){I&&(I=!1,k=l(E))}function F(ne){if(Ur(ne)){ne.preventDefault(),T(!0);return}ne.key==="Escape"&&(ne.preventDefault(),P(),V==null||V.blur())}function K(){T(!1)}function X(ne){(ne.key==="Enter"||ne.key===" ")&&(ne.preventDefault(),O())}function G(){D==null||D.startEditing(!1)}function U(ne){var fe;v((fe=ne.detail)==null?void 0:fe.originalEvent)}function Z(ne){c(t.id,{comment:typeof ne=="string"?ne:String(ne??"")}),R("raw-json-comment-updated")}function R(ne){typeof window>"u"||typeof window.dispatchEvent!="function"||window.dispatchEvent(new CustomEvent(qb,{detail:{nodeId:t.id,reason:ne}}))}function C(ne){if(ne!=null)return Number(ne)}var B=Uw(),Y=ae(B);Ze(Y,"background-color: var(--vscode-focusBorder);");var j=ge(Y,2),Q=ae(j),re=ae(Q);{var ie=ne=>{var fe=Xw();fe.__input=$=>k=$.currentTarget.value,fe.__keydown=F,lt(fe,$=>V=$,()=>V),be(()=>Ot(fe,k)),We("blur",fe,K),te(ne,fe)},pe=ne=>{var fe=Gw();fe.__pointerdown=v;var $=ae(fe);$.__dblclick=O,$.__keydown=X;var le=ae($);{var he=Fe=>{var dt=jw(),St=ae(dt);be(()=>Ye(St,l(S))),te(Fe,dt)};De(le,Fe=>{l(S)!==void 0&&Fe(he)})}var we=ge(le,2),Re=ae(we),Le=ge($,2);Le.__click=O;var Be=ae(Le);wl(Be,{strokeWidth:2.5,"aria-hidden":"true"});var $e=ge(Le,2);$e.__click=G;var gt=ae($e);mf(gt,{strokeWidth:2.25,"aria-hidden":"true"}),be(()=>{Ye(Re,l(E)),ye($e,"aria-expanded",N),ye($e,"aria-controls",l(p))}),te(ne,fe)};De(re,ne=>{I?ne(ie):ne(pe,!1)})}var me=ge(Q,2);lt(_f(me,{get id(){return l(p)},get value(){return l(M)},get isVisible(){return N},set isVisible(ne){N=ne},$$events:{change:ne=>Z(ne.detail.value),select:U}}),ne=>D=ne,()=>D);var xe=ge(j,2),Se=ae(xe);Ha(Se,{type:"target",side:"left",get id(){return uf},top:a,width:s,label:"Input",showTooltip:!0,color:o});var oe=ge(Se,2);bf(oe,Xt(()=>n,{get value(){return l(A)},onchange:x})),be(()=>Ze(B,`min-width: 288px; outline: ${u()&&!d()?"2px solid var(--vscode-focusBorder)":"none"};`)),te(e,B),ke()}mt(["input","keydown","pointerdown","dblclick","click"]);var Zw=de('<span aria-hidden="true" class="mx-0.5 h-5 w-px bg-vsc-editor-widget-border"></span>'),Qw=de('<button type="button" class="flex h-8 w-8 items-center justify-center rounded-md border border-transparent text-vsc-muted transition-colors hover:border-vsc-editor-widget-border hover:bg-vsc-list-hover hover:text-vsc-editor-fg focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-vsc-focus"><!></button>'),Jw=de('<nav aria-label="Node editor quick actions" class="flex items-center gap-1 rounded-xl border border-vsc-editor-widget-border bg-vsc-editor-widget-bg px-2 py-0.5 shadow-2xl"></nav>');function $w(e,t){Ne(t,!1);const n=Es(),i=[{id:st.GO_TO_ROOT,icon:Z_},{id:st.FIT_FULL_VIEW,icon:Q_},{key:"separator-navigation",separator:!0},{id:st.SEARCH_NODES,icon:yf},{id:st.AUTO_POSITION_NODES,icon:$_},{key:"separator-utility",separator:!0},{id:st.VIEW_RAW_JSON,icon:J_},{id:st.HELP_AND_HOTKEYS,icon:pf}].map(a=>a.separator?a:{...a,action:_l(a.id)}).filter(a=>a.separator===!0||!!(a!=null&&a.action));function o(a){a!=null&&a.eventName&&n(a.eventName)}function s(a){return(a==null?void 0:a.id)===st.AUTO_POSITION_NODES?"-rotate-90":void 0}Ln(),bl(e,{position:"top-center",class:"pointer-events-auto",children:(a,u)=>{var d=Jw();it(d,5,()=>i,c=>c.key??c.id,(c,h)=>{var f=tt(),g=Me(f);{var m=y=>{var E=Zw();te(y,E)},b=y=>{wf(y,{get text(){return l(h).action.name},placement:"bottom",delayMs:220,children:(E,w)=>{var S=Qw();S.__click=()=>o(l(h).action);var p=ae(S);{let M=vo(()=>s(l(h)));ws(p,()=>l(h).icon,(A,I)=>{I(A,{get class(){return l(M)},size:16,strokeWidth:2})})}be(()=>ye(S,"aria-label",l(h).action.name)),te(E,S)},$$slots:{default:!0}})};De(g,y=>{l(h).separator?y(m):y(b,!1)})}te(c,f)}),te(a,d)},$$slots:{default:!0}}),ke()}mt(["click"]);function ex(e,t){var i;const n=Array.isArray(e)?e:[],r=((i=nx(t))==null?void 0:i.toLowerCase())??"";return r?n.map(o=>({...o,items:(Array.isArray(o==null?void 0:o.items)?o.items:[]).filter(s=>(typeof(s==null?void 0:s.searchValue)=="string"?s.searchValue:"").includes(r))})).filter(o=>o.items.length>0):n.map(tx)}function tx(e){return{...e,items:Array.isArray(e==null?void 0:e.items)?[...e.items]:[]}}function nx(e){return typeof e=="string"&&e.trim()?e.trim():void 0}var rx=de('<div class="px-1 py-4 text-xs text-vsc-muted">No matching nodes</div>'),ix=de('<button data-node-search-item="true" role="option" type="button"><span aria-hidden="true" class="h-3 w-3 shrink-0 rounded-full border border-vsc-editor-widget-border"></span> <span class="min-w-0 flex-1"><span class="block truncate text-xs font-semibold"> </span></span></button>'),ox=de('<div class="flex flex-col gap-1.5"><div class="flex items-center gap-2 px-1 text-[0.65rem] font-semibold uppercase tracking-[0.1em] text-vsc-muted"><span class="truncate"> </span> <span class="h-px flex-1 bg-vsc-editor-widget-border"></span></div> <!></div>'),sx=de('<div data-node-search-menu="true" role="dialog" aria-label="Search nodes" tabindex="-1" class="mt-2 ml-2 w-[30rem] max-w-[92vw] max-h-[72vh] overflow-hidden rounded-xl border border-vsc-editor-widget-border bg-vsc-editor-widget-bg p-3 text-vsc-editor-fg shadow-2xl"><div class="relative"><!> <input class="w-full rounded-md border border-vsc-input-border bg-vsc-input-bg pr-2 py-1.5 pl-9 text-xs text-vsc-input-fg focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-vsc-focus" type="search" placeholder="Type a node name or group"/></div> <div class="relative mt-3 flex max-h-[calc(72vh-4.75rem)] flex-col gap-3 overflow-auto pr-0.5" role="listbox"><!></div></div>');function ax(e,t){Ne(t,!1);const n=Ee(),r=Ee(),i=Ee(),o=Ee();let s=ee(t,"open",8,!1),a=ee(t,"openVersion",8,0),u=ee(t,"groups",24,()=>[]);const d=Es();let c=Ee(""),h=Ee(),f=Ee(),g=Ee(),m=Ee(0),b=Ee(!1),y=Ee(""),E=Ee(-1),w=Ee(void 0);function S(P){let F=0;return P.map(K=>({id:K==null?void 0:K.id,label:K==null?void 0:K.label,items:(Array.isArray(K==null?void 0:K.items)?K.items:[]).map(X=>({entry:X,flatIndex:F++}))}))}function p(){var Z,R;const P=(R=(Z=l(g))==null?void 0:Z.querySelectorAll)==null?void 0:R.call(Z,'[data-node-search-item="true"]'),F=P==null?void 0:P[l(m)];if(!l(g)||!F)return;const K=F.offsetTop,X=K+F.offsetHeight,G=l(g).scrollTop,U=G+l(g).clientHeight;if(K<G){Uo(g,l(g).scrollTop=K);return}X>U&&Uo(g,l(g).scrollTop=X-l(g).clientHeight)}function M(P){return l(m)===P}function A(P){return l(b)&&M(P)}function I(P){return!l(b)&&l(o).length>1&&M(P)}function k(P){P<0||P>=l(o).length||(W(m,P),W(b,!0))}function V(P){const F=x(P==null?void 0:P.nodeId);F&&d("select",{nodeId:F})}function D(){d("close")}function N(P){if(s()){if(P.key==="Escape"){P.preventDefault(),P.stopPropagation(),D();return}if(l(o).length!==0){if(P.key==="ArrowDown"||P.key==="ArrowUp"){if(P.preventDefault(),P.stopPropagation(),!l(b)&&l(o).length>1){W(b,!0),ct().then(()=>p());return}const F=P.key==="ArrowDown"?1:-1;W(m,(l(m)+F+l(o).length)%l(o).length),W(b,!0),ct().then(()=>p());return}P.key==="Enter"&&(P.preventDefault(),P.stopPropagation(),V(l(o)[l(m)]??l(o)[0]))}}}function _(P){return x(P==null?void 0:P.color)??"var(--vscode-descriptionForeground)"}function x(P){return typeof P=="string"?P:void 0}Te(()=>Ke(u()),()=>{W(n,Array.isArray(u())?u():[])}),Te(()=>(Ke(s()),Ke(a()),l(E),l(h)),()=>{s()&&a()!==l(E)&&(W(c,""),W(m,0),W(b,!1),W(E,a()),W(w,void 0),ct().then(()=>{var P;return(P=l(h))==null?void 0:P.focus()}))}),Te(()=>(l(n),l(c)),()=>{W(r,ex(l(n),l(c)))}),Te(()=>l(r),()=>{W(i,S(l(r)))}),Te(()=>l(i),()=>{W(o,l(i).flatMap(P=>P.items.map(F=>F.entry)))}),Te(()=>(l(c),l(y)),()=>{l(c)!==l(y)&&(W(y,l(c)),W(m,0),W(b,!1),W(w,void 0))}),Te(()=>(l(m),l(o)),()=>{l(m)>=l(o).length&&W(m,Math.max(0,l(o).length-1))}),Te(()=>l(o),()=>{l(o).length===0&&(W(m,0),W(b,!1),W(w,void 0))}),Te(()=>(l(o),Ke(s())),()=>{l(o).length===1&&s()&&W(b,!0)}),Te(()=>(Ke(s()),l(o),l(m),ct),()=>{s()&&l(o).length>0&&l(m)>=0&&ct().then(()=>{p()})}),Te(()=>(Ke(s()),l(b),l(o),l(m),l(w)),()=>{if(s()&&l(b)&&l(o).length>0){const P=l(o)[l(m)]??l(o)[0],F=x(P==null?void 0:P.nodeId);F&&F!==l(w)&&(W(w,F),d("preview",{nodeId:F}))}}),Te(()=>Ke(s()),()=>{s()||W(w,void 0)}),Br(),Ln();var v=tt(),O=Me(v);{var T=P=>{bl(P,{position:"top-left",class:"pointer-events-auto",children:(F,K)=>{var X=sx();X.__keydown=N;var G=ae(X),U=ae(G);yf(U,{"aria-hidden":"true",size:14,strokeWidth:2,class:"pointer-events-none absolute top-1/2 left-3 -translate-y-1/2 text-vsc-muted"});var Z=ge(U,2);Z.__keydown=N,lt(Z,j=>W(h,j),()=>l(h));var R=ge(G,2),C=ae(R);{var B=j=>{var Q=rx();te(j,Q)},Y=j=>{var Q=tt(),re=Me(Q);it(re,1,()=>l(i),zt,(ie,pe)=>{var me=ox(),xe=ae(me),Se=ae(xe),oe=ae(Se),ne=ge(xe,2);it(ne,1,()=>(l(pe),Ve(()=>l(pe).items)),fe=>fe.flatIndex,(fe,$)=>{var le=ix();let he;le.__click=()=>V(l($).entry);var we=ae(le),Re=ge(we,2),Le=ae(Re),Be=ae(Le);be(($e,gt,Fe,dt)=>{ye(le,"data-active",$e),ye(le,"aria-selected",gt),he=Ct(le,1,"group flex w-full cursor-pointer items-center gap-2 overflow-hidden rounded-lg border border-vsc-editor-widget-border bg-vsc-button-secondary-bg px-2 py-1.5 text-left text-vsc-button-secondary-fg transition-[border-color,background-color,color]",null,he,Fe),Ze(we,`background-color: ${dt??""};`),Ye(Be,(l($),Ve(()=>l($).entry.label)))},[()=>(l($),Ve(()=>M(l($).flatIndex))),()=>(l($),Ve(()=>A(l($).flatIndex))),()=>({"border-vsc-focus":I(l($).flatIndex)||A(l($).flatIndex),"bg-vsc-list-active-bg":A(l($).flatIndex),"text-vsc-list-active-fg":A(l($).flatIndex)}),()=>(l($),Ve(()=>_(l($).entry)))]),We("mouseenter",le,()=>k(l($).flatIndex)),te(fe,le)}),be(()=>Ye(oe,(l(pe),Ve(()=>l(pe).label)))),te(ie,me)}),te(j,Q)};De(C,j=>{l(i),Ve(()=>l(i).length===0)?j(B):j(Y,!1)})}lt(R,j=>W(g,j),()=>l(g)),lt(X,j=>W(f,j),()=>l(f)),$c(Z,()=>l(c),j=>W(c,j)),te(F,X)},$$slots:{default:!0}})};De(O,P=>{s()&&P(T)})}te(e,v),ke()}mt(["keydown","click"]);var lx=de('<div class="text-xs text-vsc-muted">No matching node types</div>'),ux=de('<button data-add-node-menu-item="true" role="option" type="button"><span aria-hidden="true" class="relative h-8 w-2.5"></span> <span class="flex-1 min-w-0"><span class="block text-xs font-semibold truncate"> </span></span></button>'),cx=de('<div class="flex flex-col gap-1.5"><div class="flex items-center gap-2 px-1 text-[0.65rem] font-semibold uppercase tracking-widest text-vsc-muted"><span> </span> <span class="flex-1 h-px bg-vsc-editor-widget-border"></span></div> <!></div>'),dx=de('<div data-add-node-menu="true" role="dialog" aria-label="Add node menu" tabindex="-1" class="absolute z-3001 w-64 max-h-[70vh] translate-x-2 translate-y-2 overflow-hidden rounded-lg border border-vsc-editor-widget-border bg-vsc-editor-widget-bg p-2.5 text-vsc-editor-fg shadow-2xl"><input class="w-full rounded-md border border-vsc-input-border bg-vsc-input-bg px-2 py-1.5 text-xs text-vsc-input-fg" type="search" placeholder="Search nodes..."/> <div class="relative mt-2 flex max-h-[calc(70vh-3.5rem)] flex-col gap-2 overflow-auto pr-0.5" role="listbox"><!></div></div>');function fx(e,t){Ne(t,!0);let n=ee(t,"open",3,!1),r=ee(t,"openVersion",3,0),i=ee(t,"position",19,()=>({x:0,y:0})),o=Ie(""),s=Ie(void 0),a=Ie(void 0),u=Ie(void 0),d=0,c="",h=-1,f=H(()=>Et.context?Object.values(Et.context.nodeTemplatesById):[]),g=H(()=>l(f).filter(I=>`${I.defaultTitle} ${I.category??""}`.toLowerCase().includes(l(o).trim().toLowerCase())).map((I,k)=>({flatIndex:k,template:I}))),m=H(()=>l(g).reduce((I,k)=>{const V=k.template.category??"Uncategorized";return{...I,[V]:[...I[V]??[],k]}},{}));et(()=>{n()&&r()!==h&&(W(o,""),d=0,h=r(),ct().then(()=>{var I;return(I=l(s))==null?void 0:I.focus()}))}),et(()=>{l(o)!==c&&(c=l(o),d=0)}),et(()=>{d>=l(g).length&&(d=Math.max(0,l(g).length-1))}),et(()=>{n()&&l(g).length>0&&d>=0&&ct().then(()=>{y()})});function b(I){if(n()){if(I.key==="Escape"){I.preventDefault(),I.stopPropagation(),t.onclose();return}if(l(g).length!==0){if(I.key==="ArrowDown"){I.preventDefault(),I.stopPropagation(),d=(d+1)%l(g).length,ct().then(()=>y());return}if(I.key==="ArrowUp"){I.preventDefault(),I.stopPropagation(),d=(d-1+l(g).length)%l(g).length,ct().then(()=>y());return}I.key==="Enter"&&(I.preventDefault(),I.stopPropagation(),t.onselect(l(g)[d]??l(g)[0]))}}}function y(){var V,D;const I=(D=(V=l(u))==null?void 0:V.querySelectorAll)==null?void 0:D.call(V,'[data-add-node-menu-item="true"]'),k=I==null?void 0:I[d];l(u)}function E(I){return d===I}function w(I){I>=0&&I<l(g).length&&(d=I)}function S(I){return typeof(I==null?void 0:I.nodeColor)=="string"&&I.nodeColor.trim()?I.nodeColor.trim():cs()}var p=tt(),M=Me(p);{var A=I=>{var k=dx();k.__keydown=b;let V;var D=ae(k);D.__keydown=b,lt(D,T=>W(s,T),()=>l(s));var N=ge(D,2),_=ae(N);{var x=T=>{var P=lx();te(T,P)},v=H(()=>Object.keys(l(m)).length===0),O=T=>{var P=tt(),F=Me(P);it(F,17,()=>Object.entries(l(m)),zt,(K,X)=>{var G=H(()=>vr(l(X),2));let U=()=>l(G)[0],Z=()=>l(G)[1];var R=cx(),C=ae(R),B=ae(C),Y=ae(B),j=ge(C,2);it(j,17,Z,Q=>Q.template.defaultTitle,(Q,re)=>{var ie=ux();let pe;ie.__click=()=>t.onselect(l(re).template);var me=ae(ie),xe=ge(me,2),Se=ae(xe),oe=ae(Se);be((ne,fe,$,le)=>{pe=Ct(ie,1,"group flex w-full cursor-pointer items-center gap-2 rounded-lg border border-vsc-editor-widget-border bg-vsc-button-secondary-bg text-left text-vsc-button-secondary-fg transition-[border-color,background-color,color] overflow-clip",null,pe,ne),ye(ie,"data-active",fe),ye(ie,"aria-selected",$),Ze(me,`background-color: ${le??""};`),Ye(oe,l(re).template.defaultTitle)},[()=>({"border-vsc-focus":E(l(re).flatIndex),"bg-vsc-list-active-bg":E(l(re).flatIndex),"text-vsc-list-active-fg":E(l(re).flatIndex)}),()=>E(l(re).flatIndex),()=>E(l(re).flatIndex),()=>S(l(re).template)]),We("mouseenter",ie,()=>w(l(re).flatIndex)),te(Q,ie)}),be(()=>Ye(Y,U())),te(K,R)}),te(T,P)};De(_,T=>{l(v)?T(x):T(O,!1)})}lt(N,T=>W(u,T),()=>l(u)),lt(k,T=>W(a,T),()=>l(a)),be(()=>V=Ze(k,"",V,{left:`${i().x}px`,top:`${i().y}px`})),$c(D,()=>l(o),T=>W(o,T)),te(I,k)};De(M,I=>{n()&&I(A)})}te(e,p),ke()}mt(["keydown","click"]);var hx=de('<span class="text-[0.65rem] text-vsc-muted">+</span>'),gx=de('<kbd class="rounded border border-vsc-editor-widget-border bg-vsc-input-bg px-1.5 py-0 text-[0.65rem] leading-4 text-vsc-input-fg"> </kbd> <!>',1),vx=de('<span class="px-1 text-[0.65rem] text-vsc-muted">or</span>'),px=de('<span class="inline-flex items-center gap-1"></span> <!>',1),mx=de('<div class="flex items-center justify-between gap-3"><span class="text-xs"> </span> <div class="flex flex-wrap items-center gap-1"></div></div>'),yx=de('<span class="text-[0.65rem] text-vsc-muted">+</span>'),bx=de('<kbd class="rounded border border-vsc-editor-widget-border bg-vsc-input-bg px-1.5 py-0 text-[0.65rem] leading-4 text-vsc-input-fg"> </kbd> <!>',1),_x=de('<span class="px-1 text-[0.65rem] text-vsc-muted">or</span>'),wx=de('<span class="inline-flex items-center gap-1"></span> <!>',1),xx=de('<div class="flex items-center justify-between gap-3"><span class="text-xs"> </span> <div class="flex flex-wrap items-center gap-1"></div></div>'),Ex=de('<span class="text-[0.65rem] text-vsc-muted">+</span>'),Nx=de('<kbd class="rounded border border-vsc-editor-widget-border bg-vsc-input-bg px-1.5 py-0 text-[0.65rem] leading-4 text-vsc-input-fg"> </kbd> <!>',1),kx=de('<span class="px-1 text-[0.65rem] text-vsc-muted">or</span>'),Ix=de('<span class="inline-flex items-center gap-1"></span> <!>',1),Sx=de('<div class="flex items-center justify-between gap-3"><span class="text-xs"> </span> <div class="flex flex-wrap items-center gap-1"></div></div>'),Tx=de('<div data-node-help-overlay="true" class="absolute inset-0 z-50 flex items-center justify-center bg-black/15 p-4"><button type="button" aria-label="Close help" class="absolute inset-0 border-0 bg-transparent p-0"></button> <div role="dialog" aria-modal="true" aria-label="Default Keybinds" tabindex="-1" class="relative w-[30rem] max-h-[72vh] max-w-[96vw] overflow-auto rounded-xl border border-vsc-editor-widget-border bg-vsc-editor-widget-bg p-3 text-vsc-editor-fg shadow-2xl outline-none focus:outline-none focus-visible:outline-none"><div class="mb-3 flex items-center justify-between gap-2"><div class="flex items-center gap-2"><!> <h2 class="text-sm font-semibold">Default Keybinds</h2></div> <button type="button" class="inline-flex items-center gap-2 rounded-md border border-vsc-input-border bg-vsc-button-secondary-bg px-2 py-1 text-[0.7rem] font-medium text-vsc-button-secondary-fg hover:bg-vsc-button-secondary-hover focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-vsc-focus">Close</button></div> <div class="flex flex-col gap-4"><section class="rounded-lg border border-vsc-editor-widget-border bg-vsc-button-secondary-bg p-2.5"><h3 class="mb-2 text-[0.65rem] font-semibold uppercase tracking-[0.1em] text-vsc-muted">Editing</h3> <div class="grid gap-2"></div></section> <section class="rounded-lg border border-vsc-editor-widget-border bg-vsc-button-secondary-bg p-2.5"><h3 class="mb-2 text-[0.65rem] font-semibold uppercase tracking-[0.1em] text-vsc-muted">Navigation</h3> <div class="grid gap-2"></div></section> <section class="rounded-lg border border-vsc-editor-widget-border bg-vsc-button-secondary-bg p-2.5"><h3 class="mb-2 text-[0.65rem] font-semibold uppercase tracking-[0.1em] text-vsc-muted">Actions</h3> <div class="grid gap-2"></div></section></div> <div class="mt-3 flex flex-wrap items-center justify-between gap-2 border-t border-vsc-editor-widget-border pt-2"><p class="text-[0.65rem] text-vsc-muted">Keybinds can be customized in VSCode settings</p> <button type="button" class="inline-flex items-center rounded-md border border-vsc-input-border bg-vsc-button-secondary-bg px-2 py-1 text-[0.7rem] font-medium text-vsc-button-secondary-fg hover:bg-vsc-button-secondary-hover focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-vsc-focus">Customize</button></div></div></div>');function Ox(e,t){Ne(t,!1);const n=Ee(),r=Ee(),i=Ee();let o=ee(t,"open",8,!1),s=ee(t,"openVersion",8,0);const a=Es(),u=[st.SEARCH_NODES,st.FIT_FULL_VIEW,st.AUTO_POSITION_NODES,st.HELP_AND_HOTKEYS],d={label:"Add node",combos:[["Right click"]]},c=[{label:"Pan canvas",combos:[["Shift","Scroll"]]},{label:"Box select",combos:[["Shift","Drag"]]}],h=[{label:"Undo",combos:[["Cmd","Z"]]},{label:"Redo",combos:[["Shift","Cmd","Z"]]},{label:"Copy",combos:[["Cmd","C"]]},{label:"Cut",combos:[["Cmd","X"]]},{label:"Paste",combos:[["Cmd","V"]]}],f=[{label:"Undo",combos:[["Ctrl","Z"]]},{label:"Redo",combos:[["Ctrl","Y"],["Ctrl","Shift","Z"]]},{label:"Copy",combos:[["Ctrl","C"]]},{label:"Cut",combos:[["Ctrl","X"]]},{label:"Paste",combos:[["Ctrl","V"]]}];let g=Ee(),m=Ee(-1);function b(){a("close")}function y(){b()}function E(){a("customizekeybinds")}function w(D){const N=new Map(Ds.map(_=>[_.id,_]));return u.map(_=>N.get(_)).filter(Boolean).map(_=>({label:_.name,combos:[S(_,D)].filter(x=>Array.isArray(x)&&x.length>0)})).filter(_=>_.combos.length>0)}function S(D,N){const _=D==null?void 0:D.defaultKeybinding;if(!_)return[];const x=N==="mac"?_.mac:N==="linux"?_.linux:_.win;return p(x)}function p(D){const N=A(D);return N?N.split("+").map(_=>A(_)).filter(Boolean):[]}function M(){var _,x,v;const N=(A((x=(_=globalThis==null?void 0:globalThis.navigator)==null?void 0:_.userAgentData)==null?void 0:x.platform)??A((v=globalThis==null?void 0:globalThis.navigator)==null?void 0:v.platform)??"").toLowerCase();return N.includes("mac")?"mac":N.includes("linux")?"linux":"win"}function A(D){return typeof D=="string"?D:void 0}Te(()=>{},()=>{W(n,M())}),Te(()=>l(n),()=>{W(r,[d,...w(l(n))])}),Te(()=>l(n),()=>{W(i,l(n)==="mac"?h:f)}),Te(()=>(Ke(o()),Ke(s()),l(m),l(g)),()=>{o()&&s()!==l(m)&&(W(m,s()),ct().then(()=>{var D;return(D=l(g))==null?void 0:D.focus()}))}),Br(),Ln();var I=tt(),k=Me(I);{var V=D=>{var N=Tx(),_=ae(N);_.__pointerdown=y;var x=ge(_,2);x.__pointerdown=Y=>Y.stopPropagation();var v=ae(x),O=ae(v),T=ae(O);pf(T,{"aria-hidden":"true",size:15,strokeWidth:2,class:"text-vsc-muted"});var P=ge(O,2);P.__click=b;var F=ge(v,2),K=ae(F),X=ge(ae(K),2);it(X,5,()=>l(i),zt,(Y,j)=>{var Q=mx(),re=ae(Q),ie=ae(re),pe=ge(re,2);it(pe,5,()=>(l(j),Ve(()=>l(j).combos)),zt,(me,xe,Se)=>{var oe=px(),ne=Me(oe);it(ne,5,()=>l(xe),zt,(le,he,we)=>{var Re=gx(),Le=Me(Re),Be=ae(Le),$e=ge(Le,2);{var gt=Fe=>{var dt=hx();te(Fe,dt)};De($e,Fe=>{l(xe),Ve(()=>we<l(xe).length-1)&&Fe(gt)})}be(()=>Ye(Be,l(he))),te(le,Re)});var fe=ge(ne,2);{var $=le=>{var he=vx();te(le,he)};De(fe,le=>{l(j),Ve(()=>Se<l(j).combos.length-1)&&le($)})}te(me,oe)}),be(()=>Ye(ie,(l(j),Ve(()=>l(j).label)))),te(Y,Q)});var G=ge(K,2),U=ge(ae(G),2);it(U,5,()=>c,zt,(Y,j)=>{var Q=xx(),re=ae(Q),ie=ae(re),pe=ge(re,2);it(pe,5,()=>(l(j),Ve(()=>l(j).combos)),zt,(me,xe,Se)=>{var oe=wx(),ne=Me(oe);it(ne,5,()=>l(xe),zt,(le,he,we)=>{var Re=bx(),Le=Me(Re),Be=ae(Le),$e=ge(Le,2);{var gt=Fe=>{var dt=yx();te(Fe,dt)};De($e,Fe=>{l(xe),Ve(()=>we<l(xe).length-1)&&Fe(gt)})}be(()=>Ye(Be,l(he))),te(le,Re)});var fe=ge(ne,2);{var $=le=>{var he=_x();te(le,he)};De(fe,le=>{l(j),Ve(()=>Se<l(j).combos.length-1)&&le($)})}te(me,oe)}),be(()=>Ye(ie,(l(j),Ve(()=>l(j).label)))),te(Y,Q)});var Z=ge(G,2),R=ge(ae(Z),2);it(R,5,()=>l(r),zt,(Y,j)=>{var Q=Sx(),re=ae(Q),ie=ae(re),pe=ge(re,2);it(pe,5,()=>(l(j),Ve(()=>l(j).combos)),zt,(me,xe,Se)=>{var oe=Ix(),ne=Me(oe);it(ne,5,()=>l(xe),zt,(le,he,we)=>{var Re=Nx(),Le=Me(Re),Be=ae(Le),$e=ge(Le,2);{var gt=Fe=>{var dt=Ex();te(Fe,dt)};De($e,Fe=>{l(xe),Ve(()=>we<l(xe).length-1)&&Fe(gt)})}be(()=>Ye(Be,l(he))),te(le,Re)});var fe=ge(ne,2);{var $=le=>{var he=kx();te(le,he)};De(fe,le=>{l(j),Ve(()=>Se<l(j).combos.length-1)&&le($)})}te(me,oe)}),be(()=>Ye(ie,(l(j),Ve(()=>l(j).label)))),te(Y,Q)});var C=ge(F,2),B=ge(ae(C),2);B.__click=E,lt(x,Y=>W(g,Y),()=>l(g)),te(D,N)};De(k,D=>{o()&&D(V)})}te(e,I),ke()}mt(["pointerdown","click"]);var Cx=de("<!> <!> <!>",1),Mx=de('<div class="relative w-full h-full overflow-hidden"><!> <!> <!></div>');function Ax(e,t){Ne(t,!0);let n=ee(t,"nodes",31,()=>fn([])),r=ee(t,"edges",31,()=>fn([])),i=ee(t,"loadVersion",3,0),o=ee(t,"quickActionRequest",3,void 0),s=ee(t,"revealNodeId",3,void 0),a=ee(t,"revealNodeRequestVersion",3,0);const u="Node-00000000-0000-0000-0000-000000000000",d=520,c=320,h="Group",f=`{

}`,g=6500,m=0,b=100,y=.9,E=-1e4,w=180,S=120,p={[Ru]:j_,[Ra]:Vw,[ia]:Bw,[za]:Yw,[La]:qw},{fitView:M,screenToFlowPosition:A,setCenter:I,setViewport:k}=jr();let V=-1,D,N=!1,_=0,x={x:0,y:0},v={x:0,y:0},O,T=!1,P=!1,F,K=!1,X=0,G,U,Z=!1,R=0,C=[],B=-1,Y,j=-1;et(()=>{i()!==V&&(V=i(),er())}),et(()=>{a()!==j&&(j=a(),i()>0&&Pt(s()))}),et(()=>{var z,J;Number.isInteger((z=o())==null?void 0:z.token)&&o().token!==B&&(B=o().token,Qr()||me((J=o())==null?void 0:J.actionId))}),et(()=>{!T&&i()>0&&Ef()});function Q(z){t.onflowchange(z,n(),r())}const re=z=>{r(Hi(z,br(r(),z))),er(),Q("edge-created")};function ie(){Q("node-moved")}function pe(z){const J=R_(z==null?void 0:z.type);J&&me(J.id)}function me(z){const J=_l(z);if(J)switch(J.id){case st.GO_TO_ROOT:Se();return;case st.FIT_FULL_VIEW:xe();return;case st.SEARCH_NODES:oe();return;case st.AUTO_POSITION_NODES:ne();return;case st.VIEW_RAW_JSON:fe();return;case st.HELP_AND_HOTKEYS:$();return;default:return}}function xe(){M({padding:.2,minZoom:m,duration:250})}function Se(){const z=Vn(Et.state.rootNodeId),J=z.position.x+z.width,ue=z.position.y+z.height/2;I(J,ue,{zoom:1.2,duration:250})}function oe(){dt()}function ne(){const z=kf(),J=n().map(ot=>ot.id),ue=M_({seedNodeIds:z,edges:r(),allowedNodeIds:J});if(ue.length===0){console.info("[node-editor] Quick action could not resolve nodes for auto-layout.");return}const ve=new Set(ue),_e=new Map,Pe=new Map;for(const ot of ue){const wn=Vn(ot);if(!wn)continue;const Ut=So(wn);Ut&&(_e.set(ot,wn),Pe.set(ot,Ut))}if(_e.size===0||Pe.size===0)return;const Je=C_(Array.from(Pe.values())),yt=r().filter(ot=>ot.source&&ot.target&&ve.has(ot.source)&&ve.has(ot.target)),Hs=Array.from(_e.entries()).map(([ot,wn])=>{const Ut=Nl(wn);return{id:ot,width:Ut==null?void 0:Ut.width,height:Ut==null?void 0:Ut.height}}),Ai=A_({nodes:Hs,edges:yt,spacing:{marginX:0,marginY:0},origin:Je});let To=!1;n(n().map(ot=>{const wn=ot.id;if(!wn||!ve.has(wn))return ot;const Ut=Ai.get(wn);if(!Ut)return ot;const Ks=If(ot,Ut);if(!Ks)return ot;const Cl=Mi(ot);return!Cl||Sf(Cl,Ks)?(To=!0,{...ot,position:Ks}):ot})),To&&Q("auto-layout-applied")}function fe(){t.onviewrawjson()}function $(){if(Z){At();return}_n()}function le(z){if(he(z)){if(Qr(z==null?void 0:z.target))return;z.preventDefault(),z.stopPropagation(),we();return}!Z||(z==null?void 0:z.key)!=="Escape"||(z.preventDefault(),z.stopPropagation(),At())}function he(z){var ve;return((ve=z==null?void 0:z.key)==null?void 0:ve.toLowerCase())!=="d"||!!!(z!=null&&z.metaKey||z!=null&&z.ctrlKey)?!1:(z==null?void 0:z.altKey)!==!0&&(z==null?void 0:z.shiftKey)!==!0}function we(){const z=n().filter(J=>J.selected);console.debug("workspace.context",Et.context),console.debug("workspace.state",Et.state);for(const J of z)console.debug(J)}function Re(z){!Pf(z)||Qr(z==null?void 0:z.target)||queueMicrotask(()=>Q("elements-deleted"))}function Le(z){Qr(z==null?void 0:z.target)||(z.preventDefault(),z.stopPropagation())}function Be(z){Qr(z==null?void 0:z.target)||(er(),Q("nodes-cut"),z.preventDefault(),z.stopPropagation())}function $e(z){Qr(z==null?void 0:z.target)||!xf()||(Q("nodes-pasted"),z.preventDefault(),z.stopPropagation())}function gt(z){q(z)}function Fe(){N=!1,O=void 0,El()}function dt(){Fe(),At(),U=void 0,K=!0,X+=1}function St({restoreViewport:z=!1}={}){if(!K)return;const J=G;K=!1,G=void 0,U=void 0,z&&k(J,{duration:250})}function bn(){St({restoreViewport:!0})}function _n(){Fe(),St({restoreViewport:!1}),Z=!0,R+=1}function At(){Z&&(Z=!1)}function ce(){At()}function Oe(){At(),t.oncustomizekeybinds()}function je(z){var ue;const J=(ue=z==null?void 0:z.detail)==null?void 0:ue.nodeId;!J||J===U||(U=J,qe(J))}function rt(z){var ve;const J=(ve=z==null?void 0:z.detail)==null?void 0:ve.nodeId;if(!J)return;U=J,qe(J);const ue=ft(J);St({restoreViewport:!1}),ue&&Q("node-search-selected")}function qe(z){const J=Vn(z),ue=So(J);if(!ue)return!1;const ve=Nl(J),_e=ue.x+((ve==null?void 0:ve.width)??0)/2,Pe=ue.y+((ve==null?void 0:ve.height)??0)/2;return I(_e,Pe,{zoom:y,duration:b}),!0}function ft(z){if(!z)return!1;let J=!1;return n(n().map(ue=>{const _e=ue.id===z;return!!ue.selected===_e?ue:(J=!0,{...ue,selected:_e})})),r(r().map(ue=>ue.selected!==!0?ue:(J=!0,{...ue,selected:!1}))),J}async function Pt(z){if(!z)return;if(await ct(),qe(z),ft(z)){Q("document-selection-revealed");return}}function Dt(z){return typeof(z==null?void 0:z.composedPath)!="function"?!1:z.composedPath().some(J=>typeof(J==null?void 0:J.getAttribute)!="function"?!1:J.getAttribute("data-add-node-menu")==="true")}function qr(z){return typeof(z==null?void 0:z.composedPath)!="function"?!1:z.composedPath().some(J=>typeof(J==null?void 0:J.getAttribute)!="function"?!1:J.getAttribute("data-node-search-menu")==="true")}function q(z){if(!Tt(z))return;const{clientX:J,clientY:ue}=z;Y={x:J,y:ue}}function Tt(z){return D?typeof(z==null?void 0:z.composedPath)=="function"?z.composedPath().includes(D):!(z!=null&&z.target)||typeof D.contains!="function"?!1:D.contains(z.target):!1}function an(z){q(z),N&&!Dt(z)&&Fe(),K&&!qr(z)&&St({restoreViewport:!0})}function vt(z,J=void 0,ue=void 0){St({restoreViewport:!1}),At();const ve=Ti(z,J,ue);return ve?(x=ve.position,v=ve.nodePosition,O=ve.connection,N=!0,_+=1,!0):!1}function Si(z){const J=z==null?void 0:z.event;J&&(J.preventDefault(),vt(J))}function Rs(z){var Je;const J=z==null?void 0:z.event,ue=z==null?void 0:z.node;if(!J||!ue)return;const ve=(ue==null?void 0:ue.type)===ia,_e=(ue==null?void 0:ue.selected)===!0,Pe=!!(typeof((Je=J==null?void 0:J.target)==null?void 0:Je.closest)=="function"&&J.target.closest(".group-title-drag-handle"));!ve||_e||Pe||(J.preventDefault(),J.stopPropagation(),vt(J))}const Ls=()=>{Fe()};function zs(z,J){const ue=J==null?void 0:J.nodeId,ve=J==null?void 0:J.handleId,_e=J==null?void 0:J.handleType;if(_e&&_e!=="source"){er();return}Oi(ue,ve)}const Vs=(z,J)=>{vt(z,J.fromNode,J.fromHandle)||El()};function Zr(z){var Pe;const J=(Pe=z==null?void 0:z.detail)==null?void 0:Pe.template;if(!J)return;if(Of(J)){const Je={id:`Group-${Ci()}`,type:ia,data:{name:h},position:{...v},width:d,height:c,selected:!1,draggable:!1,zIndex:Tf(d,c)};n([Je,...n()]),Fe(),Q("group-created");return}if(Cf(J)){const Je={id:`Comment-${Ci()}`,type:Ru,data:{name:ff,text:hf,fontSize:gf},position:{...v},width:z_,height:V_,selected:!1};n([Je,...n()]),Fe(),Q("comment-created");return}if(Mf(J)){const Je={id:`Generic-${Ci()}`,type:La,data:{data:f},position:{...v},origin:[.5,0]};if(n([...n(),Je]),O){const yt={...O,target:Je.id,targetHandle:uf};r(Hi(yt,br(r(),yt))),er()}Fe(),Q("raw-json-node-created");return}if(Af(J)){const Je={id:`Link-${Ci()}`,type:za,data:{},position:{...v},origin:[.5,0]};if(n([...n(),Je]),O){const yt={...O,target:Je.id,targetHandle:Bb};r(Hi(yt,br(r(),yt))),er()}Fe(),Q("link-node-created");return}const ue=J,ve=`${ue}-${Ci()}`,_e={id:ve,type:Ra,data:{...ue},position:{...v},origin:[.5,0]};if(n([...n(),_e]),O){const Je={...O,target:ve,targetHandle:ls};r(Hi(Je,br(r(),Je))),er()}Fe(),Q("node-created")}function Ti(z,J,ue){var Je;const{clientX:ve,clientY:_e}=z,Pe=(Je=D==null?void 0:D.getBoundingClientRect)==null?void 0:Je.call(D);if(Pe)return{position:{x:ve-Pe.left,y:_e-Pe.top-60},nodePosition:A({x:ve,y:_e}),connection:{source:J,sourceHandle:ue}}}function br(z,J){const ue=J==null?void 0:J.target;if(!ue)return z;const ve=J==null?void 0:J.targetHandle;return z.filter(_e=>_e.target!==ue?!0:ve?_e.targetHandle!==ve:!1)}function Oi(z,J){if(er(),!z||ko(z,J)!=="single")return;const ve=[],_e=[];for(const Pe of r()){if(Io(Pe,z,J)){_e.push(Pe);continue}ve.push(Pe)}_e.length!==0&&(r(ve),F={sourceNodeId:z,sourceHandleId:J,removedEdges:_e})}function ko(z,J){const ve=Vn(z).data.outputPins,_e=ve==null?void 0:ve.find(Pe=>Pe.schemaKey===J);return(_e==null?void 0:_e.isMap)===!0?"map":(_e==null?void 0:_e.multiple)===!0?"multiple":"single"}function Vn(z){if(z)return n().find(J=>J.id===z)}function Io(z,J,ue){return(z==null?void 0:z.source)!==J?!1:(z==null?void 0:z.sourceHandle)===ue}function El(){const z=(F==null?void 0:F.removedEdges)??[];if(z.length===0){F=void 0;return}const J=r(),ue=new Set(J.map(_e=>_e.id).filter(Boolean)),ve=[];for(const _e of z){const Pe=_e.id;Pe&&ue.has(Pe)||(Pe&&ue.add(Pe),ve.push(_e))}r([...J,...ve]),F=void 0}function er(){F=void 0}function xf(){var J;if(Number.isFinite(Y==null?void 0:Y.x)&&Number.isFinite(Y==null?void 0:Y.y))return A({x:Y.x,y:Y.y});const z=(J=D==null?void 0:D.getBoundingClientRect)==null?void 0:J.call(D);if(z)return A({x:z.left+z.width/2,y:z.top+z.height/2})}function Ci(){return typeof crypto<"u"&&typeof crypto.randomUUID=="function"?crypto.randomUUID():`${Date.now().toString(16)}${Math.random().toString(16).slice(2)}`}async function Ef(){if(T||P)return;P=!0,await ct();const z=Nf(n(),Et.state.rootNodeId);z.length>0&&M({nodes:z,padding:.2,minZoom:m,duration:0}),T=!0,P=!1}function Nf(z,J){const ue=z;if(ue.length===0)return[];const ve=J??u,_e=ue.find(yt=>yt.id===ve);if(!_e)return[];const Pe=Mi(_e);if(!Pe)return[];const Je=new Set([ve]);for(const yt of ue){const Hs=yt.id,Ai=Mi(yt);if(!Ai)continue;const To=Ai.x-Pe.x,ot=Ai.y-Pe.y;Math.hypot(To,ot)<=g&&Je.add(Hs)}return Array.from(Je,yt=>({id:yt}))}function Mi(z){var ve,_e;const J=(ve=z==null?void 0:z.position)==null?void 0:ve.x,ue=(_e=z==null?void 0:z.position)==null?void 0:_e.y;if(!(!Number.isFinite(J)||!Number.isFinite(ue)))return{x:J,y:ue}}function Nl(z){var ve,_e;const J=kl(z==null?void 0:z.width,z==null?void 0:z.initialWidth,(ve=z==null?void 0:z.measured)==null?void 0:ve.width),ue=kl(z==null?void 0:z.height,z==null?void 0:z.initialHeight,(_e=z==null?void 0:z.measured)==null?void 0:_e.height);return J===void 0&&ue===void 0?void 0:{width:J??0,height:ue??0}}function kl(...z){for(const J of z)if(Number.isFinite(J))return J}function So(z,J=new Set){const ue=Mi(z);if(!ue)return;const ve=z==null?void 0:z.id,_e=z==null?void 0:z.parentId;if(!_e||ve&&J.has(ve))return ue;const Pe=Vn(_e);if(!Pe)return ue;const Je=new Set(J);ve&&Je.add(ve);const yt=So(Pe,Je);return yt?{x:yt.x+ue.x,y:yt.y+ue.y}:ue}function kf(){var ue;const z=n().filter(ve=>(ve==null?void 0:ve.selected)===!0).map(ve=>ve.id);if(z.length>0)return Array.from(new Set(z));const J=(ue=Et.state)==null?void 0:ue.rootNodeId;return J?[J]:[]}function If(z,J){const ue=Mi({position:J});if(!ue)return;const ve=z==null?void 0:z.parentId;if(!ve)return ue;const _e=Vn(ve);if(!_e)return ue;const Pe=So(_e);return Pe?{x:ue.x-Pe.x,y:ue.y-Pe.y}:ue}function Sf(z,J){return Math.abs(z.x-J.x)>.001||Math.abs(z.y-J.y)>.001}function Tf(z,J){const ue=Il(z,d,w),ve=Il(J,c,S),_e=ue*ve;return E-Math.round(_e)}function Il(z,J,ue){const ve=Number(z);return Number.isFinite(ve)?Math.max(ue,ve):J}function Of(z){return(z==null?void 0:z.kind)==="generic-action"&&(z==null?void 0:z.actionId)===Wb}function Cf(z){return(z==null?void 0:z.kind)==="generic-action"&&(z==null?void 0:z.actionId)===Yb}function Mf(z){return(z==null?void 0:z.kind)==="generic-action"&&(z==null?void 0:z.actionId)===Xb}function Af(z){return(z==null?void 0:z.kind)==="generic-action"&&(z==null?void 0:z.actionId)===jb}function Pf(z){const J=z==null?void 0:z.key;return J==="Delete"||J==="Backspace"}function Qr(z=void 0){var ue;if(Sl(z))return!0;const J=(ue=globalThis==null?void 0:globalThis.document)==null?void 0:ue.activeElement;return Sl(J)}function Sl(z){if(!z||typeof z!="object")return!1;const J=typeof(z==null?void 0:z.tagName)=="string"?z.tagName.toLowerCase():void 0;if(J==="input"||J==="textarea"||J==="select"||(z==null?void 0:z.isContentEditable)===!0)return!0;const ue=typeof(z==null?void 0:z.getAttribute)=="function"?z.getAttribute("role"):void 0,ve=typeof ue=="string"?ue.toLowerCase():void 0;if(ve==="textbox"||ve==="searchbox"||ve==="combobox"||ve==="spinbutton")return!0;if(typeof(z==null?void 0:z.closest)=="function"){const _e=z.closest("input, textarea, select, [contenteditable], [role='textbox'], [role='searchbox'], [role='combobox'], [role='spinbutton']");if(_e){const Pe=typeof _e.getAttribute=="function"?_e.getAttribute("contenteditable"):void 0;if(typeof Pe!="string"||Pe.toLowerCase()!=="false")return!0}}return!1}var Fs=Mx();We("keydown",ut,le,!0),We("copy",ut,Le,!0),We("cut",ut,Be,!0),We("paste",ut,$e,!0),We("pointermove",ut,gt,!0),We("pointerdown",ut,an,!0),We("keyup",ut,Re);var Tl=ae(Fs);{let z=H(()=>N||K||Z);Cb(Tl,{get disableKeyboardA11y(){return l(z)},get selectionMode(){return Ji.Full},multiSelectionKey:"Shift",panActivationKey:"Shift",selectNodesOnDrag:!1,minZoom:m,get nodeTypes(){return p},onconnect:re,onconnectstart:zs,onconnectend:Vs,onnodedragstop:ie,onnodecontextmenu:Rs,onpaneclick:Ls,onpanecontextmenu:Si,get nodes(){return n()},set nodes(J){n(J)},get edges(){return r()},set edges(J){r(J)},children:(J,ue)=>{var ve=Cx(),_e=Me(ve);Vb(_e,{bgColor:"var(--vscode-editor-background)"});var Pe=ge(_e,2);$w(Pe,{$$events:{gotoroot:pe,fitfullview:pe,searchnodes:pe,autopositionnodes:pe,viewrawjson:pe,helphotkeys:pe}});var Je=ge(Pe,2);ax(Je,{get open(){return K},get openVersion(){return X},get groups(){return C},$$events:{close:bn,preview:je,select:rt}}),te(J,ve)},$$slots:{default:!0}})}var Ol=ge(Tl,2);fx(Ol,{get open(){return N},get openVersion(){return _},get position(){return x},onclose:Fe,onselect:Zr});var Df=ge(Ol,2);Ox(Df,{get open(){return Z},get openVersion(){return R},$$events:{close:ce,customizekeybinds:Oe}}),lt(Fs,z=>D=z,()=>D),te(e,Fs),ke()}function Ka(e){return`${e}-${Px()}`}function Px(){return crypto.randomUUID()}function Dx(e){var b,y,E;if(!Et.context)throw new Error("Workspace context was not set before parsing document text. This should not happen.");const{rootTemplateOrVariantId:t,variantKindsById:n,nodeTemplatesById:r}=Et.context,i=JSON.parse(e);if(!Fa(i))throw new Error("Document must be a JSON object.");const o=[],s=[],a=new Map,u=new Map,d=new Map,c=(w,S,p)=>{const M={id:`${w}:${S}-${p}`,source:w,sourceHandle:S,target:p,targetHandle:ls};s.push(M),u.has(w)||u.set(w,new Map),u.get(w).has(S)||u.get(w).set(S,[]),u.get(w).get(S).push(M),d.has(p)||d.set(p,[]),d.get(p).push(M)},h=w=>{o.push(w),a.set(w.id,w)},f=(w,S)=>{let p,M=w,A=M.$NodeId,I=M.$Position??{$x:0,$y:0};const k=n[S];if(k){const D=w[k.VariantFieldName];D&&(p=k.Variants[D])}!p&&S&&(p=S),!p&&A&&(p=A.substring(0,A.indexOf("-")));const V=r[p];if(V){A||(A=Ka(p));const D={...V},N=new Set(Object.keys(M).filter(x=>!x.startsWith("$")));for(const x of V.outputPins){const v=x.schemaKey;switch(N.delete(v),x.type){case"single":if(M[v]!==void 0){let O=f(M[v],V.childTypes[v]);c(A,v,O)}break;case"multiple":if(Array.isArray(M[v]))for(const O of M[v]){let T=f(O,V.childTypes[v]);c(A,v,T)}break;case"map":if(typeof M[v]=="object")for(const[O,T]of Object.entries(M[v])){let P=f(T,V.childTypes[v]);c(A,v,P)}}}for(const x of Object.keys(D.fieldsBySchemaKey)){N.delete(x);const v=M[x];v&&(D.fieldsBySchemaKey[x].value=v)}D.unparsedMetadata={};for(const x of N){if(V.schemaConstants[x]){M[x]!=V.schemaConstants[x]&&console.warn(`Constant value for ${x} in asset doesn't match expected from template.`,M,V);continue}D.unparsedMetadata[x]=M[x]}const _={type:Ra,id:A,position:{x:I.$x,y:I.$y},data:{...D,comment:M.$Comment}};h(_)}else{A||(A=Ka("Generic"));const D={type:La,id:A,position:{x:I.$x,y:I.$y},data:{data:JSON.stringify(w,null,2),comment:M.$Comment}};h(D)}return A},g=f(i,t),m=i.$NodeEditorMetadata;if(m){for(const w of m.$FloatingNodes??[])f(w,null);for(const[w,S]of Object.entries(m.$Nodes??{})){const p=a.get(w);if(!p){console.warn(`Metadata info saved for node ${w} but node was not found.`);continue}p.position.x=S.$Position.$x,p.position.y=S.$Position.$y,p.data.titleOverride=S.$Title}for(const[w,S]of Object.entries(m.$Links??{})){const p={type:za,id:w,position:{x:S.$Position.$x,y:S.$Position.$y},data:{}};h(p);const M=S.sourceEndpoint,A=S.outputConnections;if(M&&A){const I=M.split(":")[0],k=M.split(":")[1],V=a.get(I);if(!V){console.warn(`Link source node ${I} not found.`);continue}const D=((y=(b=V.data.outputPins)==null?void 0:b.find(N=>N.localId===k))==null?void 0:y.schemaKey)??Lu;for(const N of A){const _=N.split(":")[0];for(const x of((E=u.get(I))==null?void 0:E.get(D))??[])x.target===_&&x.targetHandle===ls&&(x.target=w),c(w,Lu,_)}}}for(const w of m.$Groups??[])h(Yu(w))}for(const w of i.$Groups??[])h(Yu(w));return{nodes:o,edges:s,rootNodeId:g}}function Yu(e){return{type:"group",id:Ka("Group"),position:{x:e.$Position.$x,y:e.$Position.$y},width:e.$width,height:e.$height,data:{name:e.$name}}}function Rx(e,t,n){const r={$Nodes:{},$FloatingNodes:[],$Links:{},$Groups:[],$Comments:[]},i=n.reduce((d,c)=>(d.has(c.source)||d.set(c.source,new Map),d.get(c.source).has(c.sourceHandle)||d.get(c.source).set(c.sourceHandle,[]),d.get(c.source).get(c.sourceHandle).push(c.target),d),new Map),o=t.reduce((d,c)=>(d.set(c.id,c),d),new Map),s=t.reduce((d,c)=>d.add(c.id),new Set);function a(d){if(!s.has(d))throw new Error(`Circular reference detected for node ${d}. This should not happen.`);s.delete(d);const c=o.get(d);let h={$NodeId:c.id,$Comment:c.data.comment??void 0};switch(c.type){case"datanode":c.data.outputPins.forEach(f=>{var m;const g=((m=i.get(c.id))==null?void 0:m.get(f.schemaKey))??[];if(g.length>0)switch(f.type){case"single":h[f.schemaKey]=a(g[0]);break;case"multiple":h[f.schemaKey]=g.map(b=>a(b));break;case"map":h[f.schemaKey]=g.reduce((b,y)=>{const w=o.get(y).data.titleOverride??y;return b[w]=a(y),b},{})}}),Object.values(c.data.fieldsBySchemaKey).forEach(f=>{h[f.schemaKey]=f.value}),h={...h,...c.data.unparsedMetadata,...c.data.schemaConstants},r.$Nodes[c.id]={$Position:{$x:c.position.x,$y:c.position.y},$Title:c.data.titleOverride??void 0};break;case"comment":r.$Comments.push({$Position:{$x:c.position.x,$y:c.position.y},$width:c.width,$height:c.height,$name:c.data.name,$text:c.data.text,$fontSize:c.data.fontSize});break;case"rawjson":Object.assign(h,JSON.parse(c.data.data)),h.$NodeID=c.id,h.$Comment=c.data.comment,r.$Nodes[c.id]={$Position:{$x:c.position.x,$y:c.position.y},$Title:c.data.titleOverride??void 0};break;case"link":break;case"group":r.$Groups.push({$Position:{$x:c.position.x,$y:c.position.y},$width:c.width,$height:c.height,$name:c.data.name});break}return h}const u=a(e);for(;s.size>0;){const[d]=s,c=a(d);c&&r.$FloatingNodes.push(c)}return{...u,$NodeEditorMetadata:r}}var Lx=de('<div class="mx-3 mt-3 text-sm text-vsc-error"> </div>'),zx=de('<main class="flex flex-col h-screen min-h-0"><!></main>');function Vx(e,t){Ne(t,!0);let n="",r=H(()=>Et.state?Et.state.nodes:[]),i=H(()=>Et.state?Et.state.edges:[]),o=-1,s=0,a="",u,d=0,c,h=0;function f(I){const k=I.data;if(k)switch(k.type){case"bootstrap":g(k);return;case"revealSelection":return;case"update":m(k);return;case"error":a=typeof k.message=="string"?k.message:"unknown editor error.";return;case"triggerQuickAction":{const V=_l(k==null?void 0:k.actionId),D=L_(k==null?void 0:k.commandId),N=V??D;if(!N)return;d+=1,u={token:d,actionId:N.id,commandId:N.commandId};return}default:return}}function g(I){Et.context=I.workspaceContext}function m(I){o=typeof I.version=="number"?I.version:o,n=typeof I.documentPath=="string"?I.documentPath:n;try{const k=Dx(I.text);Et.state=k,s+=1,a=""}catch(k){a=k instanceof Error?k.message:"could not parse flow json."}}function b(I,k,V){w(k,V)}function y(){const I={type:"openRawJson"};t.vscode.postMessage(I)}function E(){const I={type:"openKeybindings",query:"Hytale Node Editor"};t.vscode.postMessage(I)}function w(I,k){const V=Rx(Et.state.rootNodeId,I,k),D={type:"apply",text:JSON.stringify(V,null,"	"),sourceVersion:o};t.vscode.postMessage(D)}nl(()=>{typeof t.vscode.getState=="function"&&t.vscode.getState(),window.addEventListener("message",f);const I={type:"ready"};return t.vscode.postMessage(I),()=>{window.removeEventListener("message",f)}});var S=zx(),p=ae(S);{var M=I=>{var k=Lx(),V=ae(k);be(()=>Ye(V,a)),te(I,k)},A=I=>{Mb(I,{children:(k,V)=>{Ax(k,{get loadVersion(){return s},get quickActionRequest(){return u},revealNodeId:c,revealNodeRequestVersion:h,onflowchange:b,onviewrawjson:y,oncustomizekeybinds:E,get nodes(){return l(r)},set nodes(D){W(r,D)},get edges(){return l(i)},set edges(D){W(i,D)}})},$$slots:{default:!0}})};De(p,I=>{a?I(M):Et.state&&I(A,1)})}te(e,S),ke()}const Fx=globalThis.acquireVsCodeApi();ng(Vx,{target:document.getElementById("app"),props:{vscode:Fx}});
//# sourceMappingURL=main.js.map
