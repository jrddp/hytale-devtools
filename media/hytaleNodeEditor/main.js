var zf=Object.defineProperty;var Hl=e=>{throw TypeError(e)};var Rf=(e,t,n)=>t in e?zf(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n;var et=(e,t,n)=>Rf(e,typeof t!="symbol"?t+"":t,n),Zs=(e,t,n)=>t.has(e)||Hl("Cannot "+n);var D=(e,t,n)=>(Zs(e,t,"read from private field"),n?n.call(e):t.get(e)),re=(e,t,n)=>t.has(e)?Hl("Cannot add the same private member more than once"):t instanceof WeakSet?t.add(e):t.set(e,n),Ce=(e,t,n,r)=>(Zs(e,t,"write to private field"),r?r.call(e,n):t.set(e,n),n),Nt=(e,t,n)=>(Zs(e,t,"access private method"),n);(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))r(i);new MutationObserver(i=>{for(const o of i)if(o.type==="childList")for(const s of o.addedNodes)s.tagName==="LINK"&&s.rel==="modulepreload"&&r(s)}).observe(document,{childList:!0,subtree:!0});function n(i){const o={};return i.integrity&&(o.integrity=i.integrity),i.referrerPolicy&&(o.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?o.credentials="include":i.crossOrigin==="anonymous"?o.credentials="omit":o.credentials="same-origin",o}function r(i){if(i.ep)return;i.ep=!0;const o=n(i);fetch(i.href,o)}})();const va=!1;var yo=Array.isArray,Lf=Array.prototype.indexOf,mi=Array.prototype.includes,Es=Array.from,Vf=Object.defineProperty,qn=Object.getOwnPropertyDescriptor,nc=Object.getOwnPropertyDescriptors,rc=Object.prototype,Ff=Array.prototype,Ns=Object.getPrototypeOf,Kl=Object.isExtensible;function Di(e){return typeof e=="function"}const mr=()=>{};function Hf(e){return e()}function pa(e){for(var t=0;t<e.length;t++)e[t]()}function ic(){var e,t,n=new Promise((r,i)=>{e=r,t=i});return{promise:n,resolve:e,reject:t}}function Ct(e,t,n=!1){return e===void 0?n?t():t:e}function yr(e,t){if(Array.isArray(e))return e;if(t===void 0||!(Symbol.iterator in e))return Array.from(e);const n=[];for(const r of e)if(n.push(r),n.length===t)break;return n}const It=2,ji=4,bo=8,$a=1<<24,er=16,yn=32,br=64,oc=128,en=512,vt=1024,St=2048,nn=4096,Xt=8192,Zn=16384,_o=32768,Jn=65536,Bl=1<<17,sc=1<<18,Yr=1<<19,ac=1<<20,jn=1<<25,Rr=65536,ma=1<<21,el=1<<22,fr=1<<23,Tn=Symbol("$state"),lc=Symbol("legacy props"),Kf=Symbol(""),xr=new class extends Error{constructor(){super(...arguments);et(this,"name","StaleReactionError");et(this,"message","The reaction that called `getAbortSignal()` was re-run or destroyed")}};var Ju;const tl=((Ju=globalThis.document)==null?void 0:Ju.contentType.includes("xml"))??!1;function ks(e){throw new Error("https://svelte.dev/e/lifecycle_outside_component")}function Bf(){throw new Error("https://svelte.dev/e/async_derived_orphan")}function Wf(e,t,n){throw new Error("https://svelte.dev/e/each_key_duplicate")}function Yf(e){throw new Error("https://svelte.dev/e/effect_in_teardown")}function Xf(){throw new Error("https://svelte.dev/e/effect_in_unowned_derived")}function jf(e){throw new Error("https://svelte.dev/e/effect_orphan")}function Gf(){throw new Error("https://svelte.dev/e/effect_update_depth_exceeded")}function Uf(e){throw new Error("https://svelte.dev/e/props_invalid_value")}function qf(){throw new Error("https://svelte.dev/e/state_descriptors_fixed")}function Zf(){throw new Error("https://svelte.dev/e/state_prototype_fixed")}function Qf(){throw new Error("https://svelte.dev/e/state_unsafe_mutation")}function Jf(){throw new Error("https://svelte.dev/e/svelte_boundary_reset_onerror")}const $f=1,eh=2,uc=4,th=8,nh=16,rh=1,ih=2,cc=4,oh=8,sh=16,dc=1,ah=2,_t=Symbol(),fc="http://www.w3.org/1999/xhtml",lh="http://www.w3.org/2000/svg",uh="@attach";function ch(){console.warn("https://svelte.dev/e/select_multiple_invalid_value")}function dh(){console.warn("https://svelte.dev/e/svelte_boundary_reset_noop")}function hc(e){return e===this.v}function gc(e,t){return e!=e?t==t:e!==t||e!==null&&typeof e=="object"||typeof e=="function"}function vc(e){return!gc(e,this.v)}let Si=!1,fh=!1;function hh(){Si=!0}const gh=[];function pc(e,t=!1,n=!1){return Uo(e,new Map,"",gh,null,n)}function Uo(e,t,n,r,i=null,o=!1){if(typeof e=="object"&&e!==null){var s=t.get(e);if(s!==void 0)return s;if(e instanceof Map)return new Map(e);if(e instanceof Set)return new Set(e);if(yo(e)){var a=Array(e.length);t.set(e,a),i!==null&&t.set(i,a);for(var u=0;u<e.length;u+=1){var c=e[u];u in e&&(a[u]=Uo(c,t,n,r,null,o))}return a}if(Ns(e)===rc){a={},t.set(e,a),i!==null&&t.set(i,a);for(var d in e)a[d]=Uo(e[d],t,n,r,null,o);return a}if(e instanceof Date)return structuredClone(e);if(typeof e.toJSON=="function"&&!o)return Uo(e.toJSON(),t,n,r,e)}if(e instanceof EventTarget)return e;try{return structuredClone(e)}catch{return e}}let Ue=null;function yi(e){Ue=e}function nl(e){return il().get(e)}function rl(e,t){return il().set(e,t),t}function vh(e){return il().has(e)}function Ee(e,t=!1,n){Ue={p:Ue,i:!1,c:null,e:null,s:e,x:null,l:Si&&!t?{s:null,u:null,$:[]}:null}}function Ne(e){var t=Ue,n=t.e;if(n!==null){t.e=null;for(var r of n)Vc(r)}return e!==void 0&&(t.x=e),t.i=!0,Ue=t.p,e??{}}function wo(){return!Si||Ue!==null&&Ue.l===null}function il(e){return Ue===null&&ks(),Ue.c??(Ue.c=new Map(ph(Ue)||void 0))}function ph(e){let t=e.p;for(;t!==null;){const n=t.c;if(n!==null)return n;t=t.p}return null}let Er=[];function mc(){var e=Er;Er=[],pa(e)}function On(e){if(Er.length===0&&!Bi){var t=Er;queueMicrotask(()=>{t===Er&&mc()})}Er.push(e)}function mh(){for(;Er.length>0;)mc()}function yc(e){var t=Ye;if(t===null)return Fe.f|=fr,e;if(!(t.f&_o)&&!(t.f&ji))throw e;bi(e,t)}function bi(e,t){for(;t!==null;){if(t.f&oc){if(!(t.f&_o))throw e;try{t.b.error(e);return}catch(n){e=n}}t=t.parent}throw e}const yh=-7169;function lt(e,t){e.f=e.f&yh|t}function ol(e){e.f&en||e.deps===null?lt(e,vt):lt(e,nn)}function bc(e){if(e!==null)for(const t of e)!(t.f&It)||!(t.f&Rr)||(t.f^=Rr,bc(t.deps))}function _c(e,t,n){e.f&St?t.add(e):e.f&nn&&n.add(e),bc(e.deps),lt(e,vt)}const Lo=new Set;let Ve=null,ya=null,kt=null,Vt=[],Is=null,ba=!1,Bi=!1;var ui,ci,Ir,di,ro,io,Sr,Hn,fi,Mn,_a,wa,wc;const Cl=class Cl{constructor(){re(this,Mn);et(this,"committed",!1);et(this,"current",new Map);et(this,"previous",new Map);re(this,ui,new Set);re(this,ci,new Set);re(this,Ir,0);re(this,di,0);re(this,ro,null);re(this,io,new Set);re(this,Sr,new Set);re(this,Hn,new Map);et(this,"is_fork",!1);re(this,fi,!1)}is_deferred(){return this.is_fork||D(this,di)>0}skip_effect(t){D(this,Hn).has(t)||D(this,Hn).set(t,{d:[],m:[]})}unskip_effect(t){var n=D(this,Hn).get(t);if(n){D(this,Hn).delete(t);for(var r of n.d)lt(r,St),hn(r);for(r of n.m)lt(r,nn),hn(r)}}process(t){var i;Vt=[],this.apply();var n=[],r=[];for(const o of t)Nt(this,Mn,_a).call(this,o,n,r);if(this.is_deferred()){Nt(this,Mn,wa).call(this,r),Nt(this,Mn,wa).call(this,n);for(const[o,s]of D(this,Hn))kc(o,s)}else{for(const o of D(this,ui))o();D(this,ui).clear(),D(this,Ir)===0&&Nt(this,Mn,wc).call(this),ya=this,Ve=null,Wl(r),Wl(n),ya=null,(i=D(this,ro))==null||i.resolve()}kt=null}capture(t,n){n!==_t&&!this.previous.has(t)&&this.previous.set(t,n),t.f&fr||(this.current.set(t,t.v),kt==null||kt.set(t,t.v))}activate(){Ve=this,this.apply()}deactivate(){Ve===this&&(Ve=null,kt=null)}flush(){if(this.activate(),Vt.length>0){if(xc(),Ve!==null&&Ve!==this)return}else D(this,Ir)===0&&this.process([]);this.deactivate()}discard(){for(const t of D(this,ci))t(this);D(this,ci).clear()}increment(t){Ce(this,Ir,D(this,Ir)+1),t&&Ce(this,di,D(this,di)+1)}decrement(t){Ce(this,Ir,D(this,Ir)-1),t&&Ce(this,di,D(this,di)-1),!D(this,fi)&&(Ce(this,fi,!0),On(()=>{Ce(this,fi,!1),this.is_deferred()?Vt.length>0&&this.flush():this.revive()}))}revive(){for(const t of D(this,io))D(this,Sr).delete(t),lt(t,St),hn(t);for(const t of D(this,Sr))lt(t,nn),hn(t);this.flush()}oncommit(t){D(this,ui).add(t)}ondiscard(t){D(this,ci).add(t)}settled(){return(D(this,ro)??Ce(this,ro,ic())).promise}static ensure(){if(Ve===null){const t=Ve=new Cl;Lo.add(Ve),Bi||On(()=>{Ve===t&&t.flush()})}return Ve}apply(){}};ui=new WeakMap,ci=new WeakMap,Ir=new WeakMap,di=new WeakMap,ro=new WeakMap,io=new WeakMap,Sr=new WeakMap,Hn=new WeakMap,fi=new WeakMap,Mn=new WeakSet,_a=function(t,n,r){t.f^=vt;for(var i=t.first,o=null;i!==null;){var s=i.f,a=(s&(yn|br))!==0,u=a&&(s&vt)!==0,c=u||(s&Xt)!==0||D(this,Hn).has(i);if(!c&&i.fn!==null){a?i.f^=vt:o!==null&&s&(ji|bo|$a)?o.b.defer_effect(i):s&ji?n.push(i):Ai(i)&&(s&er&&D(this,Sr).add(i),Lr(i));var d=i.first;if(d!==null){i=d;continue}}var h=i.parent;for(i=i.next;i===null&&h!==null;)h===o&&(o=null),i=h.next,h=h.parent}},wa=function(t){for(var n=0;n<t.length;n+=1)_c(t[n],D(this,io),D(this,Sr))},wc=function(){var i;if(Lo.size>1){this.previous.clear();var t=kt,n=!0;for(const o of Lo){if(o===this){n=!1;continue}const s=[];for(const[u,c]of this.current){if(o.current.has(u))if(n&&c!==o.current.get(u))o.current.set(u,c);else continue;s.push(u)}if(s.length===0)continue;const a=[...o.current.keys()].filter(u=>!this.current.has(u));if(a.length>0){var r=Vt;Vt=[];const u=new Set,c=new Map;for(const d of s)Ec(d,a,u,c);if(Vt.length>0){Ve=o,o.apply();for(const d of Vt)Nt(i=o,Mn,_a).call(i,d,[],[]);o.deactivate()}Vt=r}}Ve=null,kt=t}this.committed=!0,Lo.delete(this)};let Qn=Cl;function bh(e){var t=Bi;Bi=!0;try{for(var n;;){if(mh(),Vt.length===0&&(Ve==null||Ve.flush(),Vt.length===0))return Is=null,n;xc()}}finally{Bi=t}}function xc(){ba=!0;var e=null;try{for(var t=0;Vt.length>0;){var n=Qn.ensure();if(t++>1e3){var r,i;_h()}n.process(Vt),hr.clear()}}finally{Vt=[],ba=!1,Is=null}}function _h(){try{Gf()}catch(e){bi(e,Is)}}let cn=null;function Wl(e){var t=e.length;if(t!==0){for(var n=0;n<t;){var r=e[n++];if(!(r.f&(Zn|Xt))&&Ai(r)&&(cn=new Set,Lr(r),r.deps===null&&r.first===null&&r.nodes===null&&r.teardown===null&&r.ac===null&&Bc(r),(cn==null?void 0:cn.size)>0)){hr.clear();for(const i of cn){if(i.f&(Zn|Xt))continue;const o=[i];let s=i.parent;for(;s!==null;)cn.has(s)&&(cn.delete(s),o.push(s)),s=s.parent;for(let a=o.length-1;a>=0;a--){const u=o[a];u.f&(Zn|Xt)||Lr(u)}}cn.clear()}}cn=null}}function Ec(e,t,n,r){if(!n.has(e)&&(n.add(e),e.reactions!==null))for(const i of e.reactions){const o=i.f;o&It?Ec(i,t,n,r):o&(el|er)&&!(o&St)&&Nc(i,t,r)&&(lt(i,St),hn(i))}}function Nc(e,t,n){const r=n.get(e);if(r!==void 0)return r;if(e.deps!==null)for(const i of e.deps){if(mi.call(t,i))return!0;if(i.f&It&&Nc(i,t,n))return n.set(i,!0),!0}return n.set(e,!1),!1}function hn(e){for(var t=Is=e;t.parent!==null;){t=t.parent;var n=t.f;if(ba&&t===Ye&&n&er&&!(n&sc))return;if(n&(br|yn)){if(!(n&vt))return;t.f^=vt}}Vt.push(t)}function kc(e,t){if(!(e.f&yn&&e.f&vt)){e.f&St?t.d.push(e):e.f&nn&&t.m.push(e),lt(e,vt);for(var n=e.first;n!==null;)kc(n,t),n=n.next}}function Ic(e){let t=0,n=vr(0),r;return()=>{al()&&(l(n),Oi(()=>(t===0&&(r=ze(()=>e(()=>Wi(n)))),t+=1,()=>{On(()=>{t-=1,t===0&&(r==null||r(),r=void 0,Wi(n))})})))}}var wh=Jn|Yr|oc;function xh(e,t,n){new Eh(e,t,n)}var Qt,Ja,En,Tr,Nn,Jt,Rt,kn,Kn,ur,Or,cr,hi,Pr,gi,vi,Bn,bs,xt,Nh,kh,xa,qo,Zo,Ea;class Eh{constructor(t,n,r){re(this,xt);et(this,"parent");et(this,"is_pending",!1);re(this,Qt);re(this,Ja,null);re(this,En);re(this,Tr);re(this,Nn);re(this,Jt,null);re(this,Rt,null);re(this,kn,null);re(this,Kn,null);re(this,ur,null);re(this,Or,0);re(this,cr,0);re(this,hi,!1);re(this,Pr,!1);re(this,gi,new Set);re(this,vi,new Set);re(this,Bn,null);re(this,bs,Ic(()=>(Ce(this,Bn,vr(D(this,Or))),()=>{Ce(this,Bn,null)})));Ce(this,Qt,t),Ce(this,En,n),Ce(this,Tr,r),this.parent=Ye.b,this.is_pending=!!D(this,En).pending,Ce(this,Nn,Pi(()=>{Ye.b=this;{var i=Nt(this,xt,xa).call(this);try{Ce(this,Jt,Ht(()=>r(i)))}catch(o){this.error(o)}D(this,cr)>0?Nt(this,xt,Zo).call(this):this.is_pending=!1}return()=>{var o;(o=D(this,ur))==null||o.remove()}},wh))}defer_effect(t){_c(t,D(this,gi),D(this,vi))}is_rendered(){return!this.is_pending&&(!this.parent||this.parent.is_rendered())}has_pending_snippet(){return!!D(this,En).pending}update_pending_count(t){Nt(this,xt,Ea).call(this,t),Ce(this,Or,D(this,Or)+t),!(!D(this,Bn)||D(this,hi))&&(Ce(this,hi,!0),On(()=>{Ce(this,hi,!1),D(this,Bn)&&_i(D(this,Bn),D(this,Or))}))}get_effect_pending(){return D(this,bs).call(this),l(D(this,Bn))}error(t){var n=D(this,En).onerror;let r=D(this,En).failed;if(D(this,Pr)||!n&&!r)throw t;D(this,Jt)&&(wt(D(this,Jt)),Ce(this,Jt,null)),D(this,Rt)&&(wt(D(this,Rt)),Ce(this,Rt,null)),D(this,kn)&&(wt(D(this,kn)),Ce(this,kn,null));var i=!1,o=!1;const s=()=>{if(i){dh();return}i=!0,o&&Jf(),Qn.ensure(),Ce(this,Or,0),D(this,kn)!==null&&Cr(D(this,kn),()=>{Ce(this,kn,null)}),this.is_pending=this.has_pending_snippet(),Ce(this,Jt,Nt(this,xt,qo).call(this,()=>(Ce(this,Pr,!1),Ht(()=>D(this,Tr).call(this,D(this,Qt)))))),D(this,cr)>0?Nt(this,xt,Zo).call(this):this.is_pending=!1};On(()=>{try{o=!0,n==null||n(t,s),o=!1}catch(a){bi(a,D(this,Nn)&&D(this,Nn).parent)}r&&Ce(this,kn,Nt(this,xt,qo).call(this,()=>{Qn.ensure(),Ce(this,Pr,!0);try{return Ht(()=>{r(D(this,Qt),()=>t,()=>s)})}catch(a){return bi(a,D(this,Nn).parent),null}finally{Ce(this,Pr,!1)}}))})}}Qt=new WeakMap,Ja=new WeakMap,En=new WeakMap,Tr=new WeakMap,Nn=new WeakMap,Jt=new WeakMap,Rt=new WeakMap,kn=new WeakMap,Kn=new WeakMap,ur=new WeakMap,Or=new WeakMap,cr=new WeakMap,hi=new WeakMap,Pr=new WeakMap,gi=new WeakMap,vi=new WeakMap,Bn=new WeakMap,bs=new WeakMap,xt=new WeakSet,Nh=function(){try{Ce(this,Jt,Ht(()=>D(this,Tr).call(this,D(this,Qt))))}catch(t){this.error(t)}},kh=function(){const t=D(this,En).pending;t&&(Ce(this,Rt,Ht(()=>t(D(this,Qt)))),On(()=>{var n=Nt(this,xt,xa).call(this);Ce(this,Jt,Nt(this,xt,qo).call(this,()=>(Qn.ensure(),Ht(()=>D(this,Tr).call(this,n))))),D(this,cr)>0?Nt(this,xt,Zo).call(this):(Cr(D(this,Rt),()=>{Ce(this,Rt,null)}),this.is_pending=!1)}))},xa=function(){var t=D(this,Qt);return this.is_pending&&(Ce(this,ur,Pn()),D(this,Qt).before(D(this,ur)),t=D(this,ur)),t},qo=function(t){var n=Ye,r=Fe,i=Ue;on(D(this,Nn)),rn(D(this,Nn)),yi(D(this,Nn).ctx);try{return t()}catch(o){return yc(o),null}finally{on(n),rn(r),yi(i)}},Zo=function(){const t=D(this,En).pending;D(this,Jt)!==null&&(Ce(this,Kn,document.createDocumentFragment()),D(this,Kn).append(D(this,ur)),Xc(D(this,Jt),D(this,Kn))),D(this,Rt)===null&&Ce(this,Rt,Ht(()=>t(D(this,Qt))))},Ea=function(t){var n;if(!this.has_pending_snippet()){this.parent&&Nt(n=this.parent,xt,Ea).call(n,t);return}if(Ce(this,cr,D(this,cr)+t),D(this,cr)===0){this.is_pending=!1;for(const r of D(this,gi))lt(r,St),hn(r);for(const r of D(this,vi))lt(r,nn),hn(r);D(this,gi).clear(),D(this,vi).clear(),D(this,Rt)&&Cr(D(this,Rt),()=>{Ce(this,Rt,null)}),D(this,Kn)&&(D(this,Qt).before(D(this,Kn)),Ce(this,Kn,null))}};function Sc(e,t,n,r){const i=wo()?xo:Ss;var o=e.filter(f=>!f.settled);if(n.length===0&&o.length===0){r(t.map(i));return}var s=Ve,a=Ye,u=Ih(),c=o.length===1?o[0].promise:o.length>1?Promise.all(o.map(f=>f.promise)):null;function d(f){u();try{r(f)}catch(g){a.f&Zn||bi(g,a)}s==null||s.deactivate(),Na()}if(n.length===0){c.then(()=>d(t.map(i)));return}function h(){u(),Promise.all(n.map(f=>Sh(f))).then(f=>d([...t.map(i),...f])).catch(f=>bi(f,a))}c?c.then(h):h()}function Ih(){var e=Ye,t=Fe,n=Ue,r=Ve;return function(o=!0){on(e),rn(t),yi(n),o&&(r==null||r.activate())}}function Na(){on(null),rn(null),yi(null)}function xo(e){var t=It|St,n=Fe!==null&&Fe.f&It?Fe:null;return Ye!==null&&(Ye.f|=Yr),{ctx:Ue,deps:null,effects:null,equals:hc,f:t,fn:e,reactions:null,rv:0,v:_t,wv:0,parent:n??Ye,ac:null}}function Sh(e,t,n){let r=Ye;r===null&&Bf();var i=r.b,o=void 0,s=vr(_t),a=!Fe,u=new Map;return Hh(()=>{var g;var c=ic();o=c.promise;try{Promise.resolve(e()).then(c.resolve,c.reject).then(()=>{d===Ve&&d.committed&&d.deactivate(),Na()})}catch(p){c.reject(p),Na()}var d=Ve;if(a){var h=i.is_rendered();i.update_pending_count(1),d.increment(h),(g=u.get(d))==null||g.reject(xr),u.delete(d),u.set(d,c)}const f=(p,b=void 0)=>{if(d.activate(),b)b!==xr&&(s.f|=fr,_i(s,b));else{s.f&fr&&(s.f^=fr),_i(s,p);for(const[y,x]of u){if(u.delete(y),y===d)break;x.reject(xr)}}a&&(i.update_pending_count(-1),d.decrement(h))};c.promise.then(f,p=>f(null,p||"unknown"))}),No(()=>{for(const c of u.values())c.reject(xr)}),new Promise(c=>{function d(h){function f(){h===o?c(s):d(o)}h.then(f,f)}d(o)})}function V(e){const t=xo(e);return jc(t),t}function Ss(e){const t=xo(e);return t.equals=vc,t}function Th(e){var t=e.effects;if(t!==null){e.effects=null;for(var n=0;n<t.length;n+=1)wt(t[n])}}function Oh(e){for(var t=e.parent;t!==null;){if(!(t.f&It))return t.f&Zn?null:t;t=t.parent}return null}function sl(e){var t,n=Ye;on(Oh(e));try{e.f&=~Rr,Th(e),t=Zc(e)}finally{on(n)}return t}function Tc(e){var t=sl(e);if(!e.equals(t)&&(e.wv=Uc(),(!(Ve!=null&&Ve.is_fork)||e.deps===null)&&(e.v=t,e.deps===null))){lt(e,vt);return}pr||(kt!==null?(al()||Ve!=null&&Ve.is_fork)&&kt.set(e,t):ol(e))}function Ph(e){var t,n;if(e.effects!==null)for(const r of e.effects)(r.teardown||r.ac)&&((t=r.teardown)==null||t.call(r),(n=r.ac)==null||n.abort(xr),r.teardown=mr,r.ac=null,Gi(r,0),ul(r))}function Oc(e){if(e.effects!==null)for(const t of e.effects)t.teardown&&Lr(t)}let ka=new Set;const hr=new Map;let Pc=!1;function vr(e,t){var n={f:0,v:e,reactions:null,equals:hc,rv:0,wv:0};return n}function fe(e,t){const n=vr(e);return jc(n),n}function Oe(e,t=!1,n=!0){var i;const r=vr(e);return t||(r.equals=vc),Si&&n&&Ue!==null&&Ue.l!==null&&((i=Ue.l).s??(i.s=[])).push(r),r}function rs(e,t){return K(e,ze(()=>l(e))),t}function K(e,t,n=!1){Fe!==null&&(!gn||Fe.f&Bl)&&wo()&&Fe.f&(It|er|el|Bl)&&(tn===null||!mi.call(tn,e))&&Qf();let r=n?Yt(t):t;return _i(e,r)}function _i(e,t){if(!e.equals(t)){var n=e.v;pr?hr.set(e,t):hr.set(e,n),e.v=t;var r=Qn.ensure();if(r.capture(e,n),e.f&It){const i=e;e.f&St&&sl(i),ol(i)}e.wv=Uc(),Ac(e,St),wo()&&Ye!==null&&Ye.f&vt&&!(Ye.f&(yn|br))&&(Zt===null?Wh([e]):Zt.push(e)),!r.is_fork&&ka.size>0&&!Pc&&Ah()}return t}function Ah(){Pc=!1;for(const e of ka)e.f&vt&&lt(e,nn),Ai(e)&&Lr(e);ka.clear()}function Yl(e,t=1){var n=l(e),r=t===1?n++:n--;return K(e,n),r}function Wi(e){K(e,e.v+1)}function Ac(e,t){var n=e.reactions;if(n!==null)for(var r=wo(),i=n.length,o=0;o<i;o++){var s=n[o],a=s.f;if(!(!r&&s===Ye)){var u=(a&St)===0;if(u&&lt(s,t),a&It){var c=s;kt==null||kt.delete(c),a&Rr||(a&en&&(s.f|=Rr),Ac(c,nn))}else u&&(a&er&&cn!==null&&cn.add(s),hn(s))}}}function Yt(e){if(typeof e!="object"||e===null||Tn in e)return e;const t=Ns(e);if(t!==rc&&t!==Ff)return e;var n=new Map,r=yo(e),i=fe(0),o=Mr,s=a=>{if(Mr===o)return a();var u=Fe,c=Mr;rn(null),Ul(o);var d=a();return rn(u),Ul(c),d};return r&&n.set("length",fe(e.length)),new Proxy(e,{defineProperty(a,u,c){(!("value"in c)||c.configurable===!1||c.enumerable===!1||c.writable===!1)&&qf();var d=n.get(u);return d===void 0?s(()=>{var h=fe(c.value);return n.set(u,h),h}):K(d,c.value,!0),!0},deleteProperty(a,u){var c=n.get(u);if(c===void 0){if(u in a){const d=s(()=>fe(_t));n.set(u,d),Wi(i)}}else K(c,_t),Wi(i);return!0},get(a,u,c){var g;if(u===Tn)return e;var d=n.get(u),h=u in a;if(d===void 0&&(!h||(g=qn(a,u))!=null&&g.writable)&&(d=s(()=>{var p=Yt(h?a[u]:_t),b=fe(p);return b}),n.set(u,d)),d!==void 0){var f=l(d);return f===_t?void 0:f}return Reflect.get(a,u,c)},getOwnPropertyDescriptor(a,u){var c=Reflect.getOwnPropertyDescriptor(a,u);if(c&&"value"in c){var d=n.get(u);d&&(c.value=l(d))}else if(c===void 0){var h=n.get(u),f=h==null?void 0:h.v;if(h!==void 0&&f!==_t)return{enumerable:!0,configurable:!0,value:f,writable:!0}}return c},has(a,u){var f;if(u===Tn)return!0;var c=n.get(u),d=c!==void 0&&c.v!==_t||Reflect.has(a,u);if(c!==void 0||Ye!==null&&(!d||(f=qn(a,u))!=null&&f.writable)){c===void 0&&(c=s(()=>{var g=d?Yt(a[u]):_t,p=fe(g);return p}),n.set(u,c));var h=l(c);if(h===_t)return!1}return d},set(a,u,c,d){var k;var h=n.get(u),f=u in a;if(r&&u==="length")for(var g=c;g<h.v;g+=1){var p=n.get(g+"");p!==void 0?K(p,_t):g in a&&(p=s(()=>fe(_t)),n.set(g+"",p))}if(h===void 0)(!f||(k=qn(a,u))!=null&&k.writable)&&(h=s(()=>fe(void 0)),K(h,Yt(c)),n.set(u,h));else{f=h.v!==_t;var b=s(()=>Yt(c));K(h,b)}var y=Reflect.getOwnPropertyDescriptor(a,u);if(y!=null&&y.set&&y.set.call(d,c),!f){if(r&&typeof u=="string"){var x=n.get("length"),w=Number(u);Number.isInteger(w)&&w>=x.v&&K(x,w+1)}Wi(i)}return!0},ownKeys(a){l(i);var u=Reflect.ownKeys(a).filter(h=>{var f=n.get(h);return f===void 0||f.v!==_t});for(var[c,d]of n)d.v!==_t&&!(c in a)&&u.push(c);return u},setPrototypeOf(){Zf()}})}function Xl(e){try{if(e!==null&&typeof e=="object"&&Tn in e)return e[Tn]}catch{}return e}function Ch(e,t){return Object.is(Xl(e),Xl(t))}var ct,Cc,Mc,Dc;function Mh(){if(ct===void 0){ct=window,Cc=/Firefox/.test(navigator.userAgent);var e=Element.prototype,t=Node.prototype,n=Text.prototype;Mc=qn(t,"firstChild").get,Dc=qn(t,"nextSibling").get,Kl(e)&&(e.__click=void 0,e.__className=void 0,e.__attributes=null,e.__style=void 0,e.__e=void 0),Kl(n)&&(n.__t=void 0)}}function Pn(e=""){return document.createTextNode(e)}function Wn(e){return Mc.call(e)}function Eo(e){return Dc.call(e)}function se(e,t){return Wn(e)}function Ae(e,t=!1){{var n=Wn(e);return n instanceof Comment&&n.data===""?Eo(n):n}}function de(e,t=1,n=!1){let r=e;for(;t--;)r=Eo(r);return r}function Dh(e){e.textContent=""}function zc(){return!1}function Rc(e,t,n){return document.createElementNS(t??fc,e,void 0)}function zh(e,t){if(t){const n=document.body;e.autofocus=!0,On(()=>{document.activeElement===n&&e.focus()})}}let jl=!1;function Rh(){jl||(jl=!0,document.addEventListener("reset",e=>{Promise.resolve().then(()=>{var t;if(!e.defaultPrevented)for(const n of e.target.elements)(t=n.__on_r)==null||t.call(n)})},{capture:!0}))}function Ts(e){var t=Fe,n=Ye;rn(null),on(null);try{return e()}finally{rn(t),on(n)}}function Lh(e,t,n,r=n){e.addEventListener(t,()=>Ts(n));const i=e.__on_r;i?e.__on_r=()=>{i(),r(!0)}:e.__on_r=()=>r(!0),Rh()}function Lc(e){Ye===null&&(Fe===null&&jf(),Xf()),pr&&Yf()}function Vh(e,t){var n=t.last;n===null?t.last=t.first=e:(n.next=e,e.prev=n,t.last=e)}function an(e,t,n){var r=Ye;r!==null&&r.f&Xt&&(e|=Xt);var i={ctx:Ue,deps:null,nodes:null,f:e|St|en,first:null,fn:t,last:null,next:null,parent:r,b:r&&r.b,prev:null,teardown:null,wv:0,ac:null};if(n)try{Lr(i)}catch(a){throw wt(i),a}else t!==null&&hn(i);var o=i;if(n&&o.deps===null&&o.teardown===null&&o.nodes===null&&o.first===o.last&&!(o.f&Yr)&&(o=o.first,e&er&&e&Jn&&o!==null&&(o.f|=Jn)),o!==null&&(o.parent=r,r!==null&&Vh(o,r),Fe!==null&&Fe.f&It&&!(e&br))){var s=Fe;(s.effects??(s.effects=[])).push(o)}return i}function al(){return Fe!==null&&!gn}function No(e){const t=an(bo,null,!1);return lt(t,vt),t.teardown=e,t}function je(e){Lc();var t=Ye.f,n=!Fe&&(t&yn)!==0&&(t&_o)===0;if(n){var r=Ue;(r.e??(r.e=[])).push(e)}else return Vc(e)}function Vc(e){return an(ji|ac,e,!1)}function ll(e){return Lc(),an(bo|ac,e,!0)}function Fc(e){Qn.ensure();const t=an(br|Yr,e,!0);return()=>{wt(t)}}function Fh(e){Qn.ensure();const t=an(br|Yr,e,!0);return(n={})=>new Promise(r=>{n.outro?Cr(t,()=>{wt(t),r(void 0)}):(wt(t),r(void 0))})}function ko(e){return an(ji,e,!1)}function Me(e,t){var n=Ue,r={effect:null,ran:!1,deps:e};n.l.$.push(r),r.effect=Oi(()=>{e(),!r.ran&&(r.ran=!0,ze(t))})}function Ti(){var e=Ue;Oi(()=>{for(var t of e.l.$){t.deps();var n=t.effect;n.f&vt&&n.deps!==null&&lt(n,nn),Ai(n)&&Lr(n),t.ran=!1}})}function Hh(e){return an(el|Yr,e,!0)}function Oi(e,t=0){return an(bo|t,e,!0)}function _e(e,t=[],n=[],r=[]){Sc(r,t,n,i=>{an(bo,()=>e(...i.map(l)),!0)})}function Pi(e,t=0){var n=an(er|t,e,!0);return n}function Hc(e,t=0){var n=an($a|t,e,!0);return n}function Ht(e){return an(yn|Yr,e,!0)}function Kc(e){var t=e.teardown;if(t!==null){const n=pr,r=Fe;Gl(!0),rn(null);try{t.call(null)}finally{Gl(n),rn(r)}}}function ul(e,t=!1){var n=e.first;for(e.first=e.last=null;n!==null;){const i=n.ac;i!==null&&Ts(()=>{i.abort(xr)});var r=n.next;n.f&br?n.parent=null:wt(n,t),n=r}}function Kh(e){for(var t=e.first;t!==null;){var n=t.next;t.f&yn||wt(t),t=n}}function wt(e,t=!0){var n=!1;(t||e.f&sc)&&e.nodes!==null&&e.nodes.end!==null&&(Bh(e.nodes.start,e.nodes.end),n=!0),ul(e,t&&!n),Gi(e,0),lt(e,Zn);var r=e.nodes&&e.nodes.t;if(r!==null)for(const o of r)o.stop();Kc(e);var i=e.parent;i!==null&&i.first!==null&&Bc(e),e.next=e.prev=e.teardown=e.ctx=e.deps=e.fn=e.nodes=e.ac=null}function Bh(e,t){for(;e!==null;){var n=e===t?null:Eo(e);e.remove(),e=n}}function Bc(e){var t=e.parent,n=e.prev,r=e.next;n!==null&&(n.next=r),r!==null&&(r.prev=n),t!==null&&(t.first===e&&(t.first=r),t.last===e&&(t.last=n))}function Cr(e,t,n=!0){var r=[];Wc(e,r,!0);var i=()=>{n&&wt(e),t&&t()},o=r.length;if(o>0){var s=()=>--o||i();for(var a of r)a.out(s)}else i()}function Wc(e,t,n){if(!(e.f&Xt)){e.f^=Xt;var r=e.nodes&&e.nodes.t;if(r!==null)for(const a of r)(a.is_global||n)&&t.push(a);for(var i=e.first;i!==null;){var o=i.next,s=(i.f&Jn)!==0||(i.f&yn)!==0&&(e.f&er)!==0;Wc(i,t,s?n:!1),i=o}}}function cl(e){Yc(e,!0)}function Yc(e,t){if(e.f&Xt){e.f^=Xt,e.f&vt||(lt(e,St),hn(e));for(var n=e.first;n!==null;){var r=n.next,i=(n.f&Jn)!==0||(n.f&yn)!==0;Yc(n,i?t:!1),n=r}var o=e.nodes&&e.nodes.t;if(o!==null)for(const s of o)(s.is_global||t)&&s.in()}}function Xc(e,t){if(e.nodes)for(var n=e.nodes.start,r=e.nodes.end;n!==null;){var i=n===r?null:Eo(n);t.append(n),n=i}}let Qo=!1,pr=!1;function Gl(e){pr=e}let Fe=null,gn=!1;function rn(e){Fe=e}let Ye=null;function on(e){Ye=e}let tn=null;function jc(e){Fe!==null&&(tn===null?tn=[e]:tn.push(e))}let Ft=null,Bt=0,Zt=null;function Wh(e){Zt=e}let Gc=1,Nr=0,Mr=Nr;function Ul(e){Mr=e}function Uc(){return++Gc}function Ai(e){var t=e.f;if(t&St)return!0;if(t&It&&(e.f&=~Rr),t&nn){for(var n=e.deps,r=n.length,i=0;i<r;i++){var o=n[i];if(Ai(o)&&Tc(o),o.wv>e.wv)return!0}t&en&&kt===null&&lt(e,vt)}return!1}function qc(e,t,n=!0){var r=e.reactions;if(r!==null&&!(tn!==null&&mi.call(tn,e)))for(var i=0;i<r.length;i++){var o=r[i];o.f&It?qc(o,t,!1):t===o&&(n?lt(o,St):o.f&vt&&lt(o,nn),hn(o))}}function Zc(e){var b;var t=Ft,n=Bt,r=Zt,i=Fe,o=tn,s=Ue,a=gn,u=Mr,c=e.f;Ft=null,Bt=0,Zt=null,Fe=c&(yn|br)?null:e,tn=null,yi(e.ctx),gn=!1,Mr=++Nr,e.ac!==null&&(Ts(()=>{e.ac.abort(xr)}),e.ac=null);try{e.f|=ma;var d=e.fn,h=d();e.f|=_o;var f=e.deps,g=Ve==null?void 0:Ve.is_fork;if(Ft!==null){var p;if(g||Gi(e,Bt),f!==null&&Bt>0)for(f.length=Bt+Ft.length,p=0;p<Ft.length;p++)f[Bt+p]=Ft[p];else e.deps=f=Ft;if(al()&&e.f&en)for(p=Bt;p<f.length;p++)((b=f[p]).reactions??(b.reactions=[])).push(e)}else!g&&f!==null&&Bt<f.length&&(Gi(e,Bt),f.length=Bt);if(wo()&&Zt!==null&&!gn&&f!==null&&!(e.f&(It|nn|St)))for(p=0;p<Zt.length;p++)qc(Zt[p],e);if(i!==null&&i!==e){if(Nr++,i.deps!==null)for(let y=0;y<n;y+=1)i.deps[y].rv=Nr;if(t!==null)for(const y of t)y.rv=Nr;Zt!==null&&(r===null?r=Zt:r.push(...Zt))}return e.f&fr&&(e.f^=fr),h}catch(y){return yc(y)}finally{e.f^=ma,Ft=t,Bt=n,Zt=r,Fe=i,tn=o,yi(s),gn=a,Mr=u}}function Yh(e,t){let n=t.reactions;if(n!==null){var r=Lf.call(n,e);if(r!==-1){var i=n.length-1;i===0?n=t.reactions=null:(n[r]=n[i],n.pop())}}if(n===null&&t.f&It&&(Ft===null||!mi.call(Ft,t))){var o=t;o.f&en&&(o.f^=en,o.f&=~Rr),ol(o),Ph(o),Gi(o,0)}}function Gi(e,t){var n=e.deps;if(n!==null)for(var r=t;r<n.length;r++)Yh(e,n[r])}function Lr(e){var t=e.f;if(!(t&Zn)){lt(e,vt);var n=Ye,r=Qo;Ye=e,Qo=!0;try{t&(er|$a)?Kh(e):ul(e),Kc(e);var i=Zc(e);e.teardown=typeof i=="function"?i:null,e.wv=Gc;var o;va&&fh&&e.f&St&&e.deps}finally{Qo=r,Ye=n}}}async function dt(){await Promise.resolve(),bh()}function l(e){var t=e.f,n=(t&It)!==0;if(Fe!==null&&!gn){var r=Ye!==null&&(Ye.f&Zn)!==0;if(!r&&(tn===null||!mi.call(tn,e))){var i=Fe.deps;if(Fe.f&ma)e.rv<Nr&&(e.rv=Nr,Ft===null&&i!==null&&i[Bt]===e?Bt++:Ft===null?Ft=[e]:Ft.push(e));else{(Fe.deps??(Fe.deps=[])).push(e);var o=e.reactions;o===null?e.reactions=[Fe]:mi.call(o,Fe)||o.push(Fe)}}}if(pr&&hr.has(e))return hr.get(e);if(n){var s=e;if(pr){var a=s.v;return(!(s.f&vt)&&s.reactions!==null||Jc(s))&&(a=sl(s)),hr.set(s,a),a}var u=(s.f&en)===0&&!gn&&Fe!==null&&(Qo||(Fe.f&en)!==0),c=(s.f&_o)===0;Ai(s)&&(u&&(s.f|=en),Tc(s)),u&&!c&&(Oc(s),Qc(s))}if(kt!=null&&kt.has(e))return kt.get(e);if(e.f&fr)throw e.v;return e.v}function Qc(e){if(e.f|=en,e.deps!==null)for(const t of e.deps)(t.reactions??(t.reactions=[])).push(e),t.f&It&&!(t.f&en)&&(Oc(t),Qc(t))}function Jc(e){if(e.v===_t)return!0;if(e.deps===null)return!1;for(const t of e.deps)if(hr.has(t)||t.f&It&&Jc(t))return!0;return!1}function ze(e){var t=gn;try{return gn=!0,e()}finally{gn=t}}function Xh(e,t){var n={};for(var r in e)t.includes(r)||(n[r]=e[r]);for(var i of Object.getOwnPropertySymbols(e))Object.propertyIsEnumerable.call(e,i)&&!t.includes(i)&&(n[i]=e[i]);return n}function He(e){if(!(typeof e!="object"||!e||e instanceof EventTarget)){if(Tn in e)Ia(e);else if(!Array.isArray(e))for(let t in e){const n=e[t];typeof n=="object"&&n&&Tn in n&&Ia(n)}}}function Ia(e,t=new Set){if(typeof e=="object"&&e!==null&&!(e instanceof EventTarget)&&!t.has(e)){t.add(e),e instanceof Date&&e.getTime();for(let r in e)try{Ia(e[r],t)}catch{}const n=Ns(e);if(n!==Object.prototype&&n!==Array.prototype&&n!==Map.prototype&&n!==Set.prototype&&n!==Date.prototype){const r=nc(n);for(let i in r){const o=r[i].get;if(o)try{o.call(e)}catch{}}}}}function jh(e){return e.endsWith("capture")&&e!=="gotpointercapture"&&e!=="lostpointercapture"}const Gh=["beforeinput","click","change","dblclick","contextmenu","focusin","focusout","input","keydown","keyup","mousedown","mousemove","mouseout","mouseover","mouseup","pointerdown","pointermove","pointerout","pointerover","pointerup","touchend","touchmove","touchstart"];function Uh(e){return Gh.includes(e)}const qh={formnovalidate:"formNoValidate",ismap:"isMap",nomodule:"noModule",playsinline:"playsInline",readonly:"readOnly",defaultvalue:"defaultValue",defaultchecked:"defaultChecked",srcobject:"srcObject",novalidate:"noValidate",allowfullscreen:"allowFullscreen",disablepictureinpicture:"disablePictureInPicture",disableremoteplayback:"disableRemotePlayback"};function Zh(e){return e=e.toLowerCase(),qh[e]??e}const Qh=["touchstart","touchmove"];function Jh(e){return Qh.includes(e)}const $c=new Set,Sa=new Set;function dl(e,t,n,r={}){function i(o){if(r.capture||Oa.call(t,o),!o.cancelBubble)return Ts(()=>n==null?void 0:n.call(this,o))}return e.startsWith("pointer")||e.startsWith("touch")||e==="wheel"?On(()=>{t.addEventListener(e,i,r)}):t.addEventListener(e,i,r),i}function Ta(e,t,n,r={}){var i=dl(t,e,n,r);return()=>{e.removeEventListener(t,i,r)}}function Ke(e,t,n,r,i){var o={capture:r,passive:i},s=dl(e,t,n,o);(t===document.body||t===window||t===document||t instanceof HTMLMediaElement)&&No(()=>{t.removeEventListener(e,s,o)})}function pt(e){for(var t=0;t<e.length;t++)$c.add(e[t]);for(var n of Sa)n(e)}let ql=null;function Oa(e){var y;var t=this,n=t.ownerDocument,r=e.type,i=((y=e.composedPath)==null?void 0:y.call(e))||[],o=i[0]||e.target;ql=e;var s=0,a=ql===e&&e.__root;if(a){var u=i.indexOf(a);if(u!==-1&&(t===document||t===window)){e.__root=t;return}var c=i.indexOf(t);if(c===-1)return;u<=c&&(s=u)}if(o=i[s]||e.target,o!==t){Vf(e,"currentTarget",{configurable:!0,get(){return o||n}});var d=Fe,h=Ye;rn(null),on(null);try{for(var f,g=[];o!==null;){var p=o.assignedSlot||o.parentNode||o.host||null;try{var b=o["__"+r];b!=null&&(!o.disabled||e.target===o)&&b.call(o,e)}catch(x){f?g.push(x):f=x}if(e.cancelBubble||p===t||p===null)break;o=p}if(f){for(let x of g)queueMicrotask(()=>{throw x});throw f}}finally{e.__root=t,delete e.currentTarget,rn(d),on(h)}}}var $u,ec;const Qs=(ec=($u=globalThis==null?void 0:globalThis.window)==null?void 0:$u.trustedTypes)==null?void 0:ec.createPolicy("svelte-trusted-html",{createHTML:e=>e});function $h(e){return(Qs==null?void 0:Qs.createHTML(e))??e}function ed(e,t=!1){var n=Rc("template");return e=e.replaceAll("<!>","<!---->"),n.innerHTML=t?$h(e):e,n.content}function Vr(e,t){var n=Ye;n.nodes===null&&(n.nodes={start:e,end:t,a:null,t:null})}function ue(e,t){var n=(t&dc)!==0,r=(t&ah)!==0,i,o=!e.startsWith("<!>");return()=>{i===void 0&&(i=ed(o?e:"<!>"+e,!0),n||(i=Wn(i)));var s=r||Cc?document.importNode(i,!0):i.cloneNode(!0);if(n){var a=Wn(s),u=s.lastChild;Vr(a,u)}else Vr(s,s);return s}}function eg(e,t,n="svg"){var r=!e.startsWith("<!>"),i=(t&dc)!==0,o=`<${n}>${r?e:"<!>"+e}</${n}>`,s;return()=>{if(!s){var a=ed(o,!0),u=Wn(a);if(i)for(s=document.createDocumentFragment();Wn(u);)s.appendChild(Wn(u));else s=Wn(u)}var c=s.cloneNode(!0);if(i){var d=Wn(c),h=c.lastChild;Vr(d,h)}else Vr(c,c);return c}}function Ut(e,t){return eg(e,t,"svg")}function tg(e=""){{var t=Pn(e+"");return Vr(t,t),t}}function $e(){var e=document.createDocumentFragment(),t=document.createComment(""),n=Pn();return e.append(t,n),Vr(t,n),e}function ne(e,t){e!==null&&e.before(t)}function We(e,t){var n=t==null?"":typeof t=="object"?t+"":t;n!==(e.__t??(e.__t=e.nodeValue))&&(e.__t=n,e.nodeValue=n+"")}function ng(e,t){return rg(e,t)}const Vo=new Map;function rg(e,{target:t,anchor:n,props:r={},events:i,context:o,intro:s=!0}){Mh();var a=new Set,u=h=>{for(var f=0;f<h.length;f++){var g=h[f];if(!a.has(g)){a.add(g);var p=Jh(g);for(const x of[t,document]){var b=Vo.get(x);b===void 0&&(b=new Map,Vo.set(x,b));var y=b.get(g);y===void 0?(x.addEventListener(g,Oa,{passive:p}),b.set(g,1)):b.set(g,y+1)}}}};u(Es($c)),Sa.add(u);var c=void 0,d=Fh(()=>{var h=n??t.appendChild(Pn());return xh(h,{pending:()=>{}},f=>{Ee({});var g=Ue;o&&(g.c=o),i&&(r.$$events=i),c=e(f,r)||{},Ne()}),()=>{var b;for(var f of a)for(const y of[t,document]){var g=Vo.get(y),p=g.get(f);--p==0?(y.removeEventListener(f,Oa),g.delete(f),g.size===0&&Vo.delete(y)):g.set(f,p)}Sa.delete(u),h!==n&&((b=h.parentNode)==null||b.removeChild(h))}});return ig.set(c,d),c}let ig=new WeakMap;var dn,In,Wt,Ar,oo,so,_s;class Os{constructor(t,n=!0){et(this,"anchor");re(this,dn,new Map);re(this,In,new Map);re(this,Wt,new Map);re(this,Ar,new Set);re(this,oo,!0);re(this,so,()=>{var t=Ve;if(D(this,dn).has(t)){var n=D(this,dn).get(t),r=D(this,In).get(n);if(r)cl(r),D(this,Ar).delete(n);else{var i=D(this,Wt).get(n);i&&(D(this,In).set(n,i.effect),D(this,Wt).delete(n),i.fragment.lastChild.remove(),this.anchor.before(i.fragment),r=i.effect)}for(const[o,s]of D(this,dn)){if(D(this,dn).delete(o),o===t)break;const a=D(this,Wt).get(s);a&&(wt(a.effect),D(this,Wt).delete(s))}for(const[o,s]of D(this,In)){if(o===n||D(this,Ar).has(o))continue;const a=()=>{if(Array.from(D(this,dn).values()).includes(o)){var c=document.createDocumentFragment();Xc(s,c),c.append(Pn()),D(this,Wt).set(o,{effect:s,fragment:c})}else wt(s);D(this,Ar).delete(o),D(this,In).delete(o)};D(this,oo)||!r?(D(this,Ar).add(o),Cr(s,a,!1)):a()}}});re(this,_s,t=>{D(this,dn).delete(t);const n=Array.from(D(this,dn).values());for(const[r,i]of D(this,Wt))n.includes(r)||(wt(i.effect),D(this,Wt).delete(r))});this.anchor=t,Ce(this,oo,n)}ensure(t,n){var r=Ve,i=zc();if(n&&!D(this,In).has(t)&&!D(this,Wt).has(t))if(i){var o=document.createDocumentFragment(),s=Pn();o.append(s),D(this,Wt).set(t,{effect:Ht(()=>n(s)),fragment:o})}else D(this,In).set(t,Ht(()=>n(this.anchor)));if(D(this,dn).set(r,t),i){for(const[a,u]of D(this,In))a===t?r.unskip_effect(u):r.skip_effect(u);for(const[a,u]of D(this,Wt))a===t?r.unskip_effect(u.effect):r.skip_effect(u.effect);r.oncommit(D(this,so)),r.ondiscard(D(this,_s))}else D(this,so).call(this)}}dn=new WeakMap,In=new WeakMap,Wt=new WeakMap,Ar=new WeakMap,oo=new WeakMap,so=new WeakMap,_s=new WeakMap;function Re(e,t,n=!1){var r=new Os(e),i=n?Jn:0;function o(s,a){r.ensure(s,a)}Pi(()=>{var s=!1;t((a,u=0)=>{s=!0,o(u,a)}),s||o(!1,null)},i)}function Mt(e,t){return t}function og(e,t,n){for(var r=[],i=t.length,o,s=t.length,a=0;a<i;a++){let h=t[a];Cr(h,()=>{if(o){if(o.pending.delete(h),o.done.add(h),o.pending.size===0){var f=e.outrogroups;Pa(Es(o.done)),f.delete(o),f.size===0&&(e.outrogroups=null)}}else s-=1},!1)}if(s===0){var u=r.length===0&&n!==null;if(u){var c=n,d=c.parentNode;Dh(d),d.append(c),e.items.clear()}Pa(t,!u)}else o={pending:new Set(t),done:new Set},(e.outrogroups??(e.outrogroups=new Set)).add(o)}function Pa(e,t=!0){for(var n=0;n<e.length;n++)wt(e[n],t)}var Zl;function ot(e,t,n,r,i,o=null){var s=e,a=new Map,u=(t&uc)!==0;if(u){var c=e;s=c.appendChild(Pn())}var d=null,h=Ss(()=>{var x=n();return yo(x)?x:x==null?[]:Es(x)}),f,g=!0;function p(){y.fallback=d,sg(y,f,s,t,r),d!==null&&(f.length===0?d.f&jn?(d.f^=jn,Vi(d,null,s)):cl(d):Cr(d,()=>{d=null}))}var b=Pi(()=>{f=l(h);for(var x=f.length,w=new Set,k=Ve,m=zc(),A=0;A<x;A+=1){var T=f[A],O=r(T,A),S=g?null:a.get(O);S?(S.v&&_i(S.v,T),S.i&&_i(S.i,A),m&&k.unskip_effect(S.e)):(S=ag(a,g?s:Zl??(Zl=Pn()),T,O,A,i,t,n),g||(S.e.f|=jn),a.set(O,S)),w.add(O)}if(x===0&&o&&!d&&(g?d=Ht(()=>o(s)):(d=Ht(()=>o(Zl??(Zl=Pn()))),d.f|=jn)),x>w.size&&Wf(),!g)if(m){for(const[F,R]of a)w.has(F)||k.skip_effect(R.e);k.oncommit(p),k.ondiscard(()=>{})}else p();l(h)}),y={effect:b,items:a,outrogroups:null,fallback:d};g=!1}function zi(e){for(;e!==null&&!(e.f&yn);)e=e.next;return e}function sg(e,t,n,r,i){var R,N,_,E,v,C,I,M,L;var o=(r&th)!==0,s=t.length,a=e.items,u=zi(e.effect.first),c,d=null,h,f=[],g=[],p,b,y,x;if(o)for(x=0;x<s;x+=1)p=t[x],b=i(p,x),y=a.get(b).e,y.f&jn||((N=(R=y.nodes)==null?void 0:R.a)==null||N.measure(),(h??(h=new Set)).add(y));for(x=0;x<s;x+=1){if(p=t[x],b=i(p,x),y=a.get(b).e,e.outrogroups!==null)for(const H of e.outrogroups)H.pending.delete(y),H.done.delete(y);if(y.f&jn)if(y.f^=jn,y===u)Vi(y,null,n);else{var w=d?d.next:u;y===e.effect.last&&(e.effect.last=y.prev),y.prev&&(y.prev.next=y.next),y.next&&(y.next.prev=y.prev),ir(e,d,y),ir(e,y,w),Vi(y,w,n),d=y,f=[],g=[],u=zi(d.next);continue}if(y.f&Xt&&(cl(y),o&&((E=(_=y.nodes)==null?void 0:_.a)==null||E.unfix(),(h??(h=new Set)).delete(y))),y!==u){if(c!==void 0&&c.has(y)){if(f.length<g.length){var k=g[0],m;d=k.prev;var A=f[0],T=f[f.length-1];for(m=0;m<f.length;m+=1)Vi(f[m],k,n);for(m=0;m<g.length;m+=1)c.delete(g[m]);ir(e,A.prev,T.next),ir(e,d,A),ir(e,T,k),u=k,d=T,x-=1,f=[],g=[]}else c.delete(y),Vi(y,u,n),ir(e,y.prev,y.next),ir(e,y,d===null?e.effect.first:d.next),ir(e,d,y),d=y;continue}for(f=[],g=[];u!==null&&u!==y;)(c??(c=new Set)).add(u),g.push(u),u=zi(u.next);if(u===null)continue}y.f&jn||f.push(y),d=y,u=zi(y.next)}if(e.outrogroups!==null){for(const H of e.outrogroups)H.pending.size===0&&(Pa(Es(H.done)),(v=e.outrogroups)==null||v.delete(H));e.outrogroups.size===0&&(e.outrogroups=null)}if(u!==null||c!==void 0){var O=[];if(c!==void 0)for(y of c)y.f&Xt||O.push(y);for(;u!==null;)!(u.f&Xt)&&u!==e.fallback&&O.push(u),u=zi(u.next);var S=O.length;if(S>0){var F=r&uc&&s===0?n:null;if(o){for(x=0;x<S;x+=1)(I=(C=O[x].nodes)==null?void 0:C.a)==null||I.measure();for(x=0;x<S;x+=1)(L=(M=O[x].nodes)==null?void 0:M.a)==null||L.fix()}og(e,O,F)}}o&&On(()=>{var H,Y;if(h!==void 0)for(y of h)(Y=(H=y.nodes)==null?void 0:H.a)==null||Y.apply()})}function ag(e,t,n,r,i,o,s,a){var u=s&$f?s&nh?vr(n):Oe(n,!1,!1):null,c=s&eh?vr(i):null;return{v:u,i:c,e:Ht(()=>(o(t,u??n,c??i,a),()=>{e.delete(r)}))}}function Vi(e,t,n){if(e.nodes)for(var r=e.nodes.start,i=e.nodes.end,o=t&&!(t.f&jn)?t.nodes.start:n;r!==null;){var s=Eo(r);if(o.before(r),r===i)return;r=s}}function ir(e,t,n){t===null?e.effect.first=n:t.next=n,n===null?e.effect.last=t:n.prev=t}function Dn(e,t,n,r,i){var a;var o=(a=t.$$slots)==null?void 0:a[n],s=!1;o===!0&&(o=t.children,s=!0),o===void 0||o(e,s?()=>r:r)}function zn(e,t,...n){var r=new Os(e);Pi(()=>{const i=t()??null;r.ensure(i,i&&(o=>i(o,...n)))},Jn)}function Ps(e,t,n){var r=new Os(e);Pi(()=>{var i=t()??null;r.ensure(i,i&&(o=>n(o,i)))},Jn)}function lg(e,t,n,r,i,o){var s=null,a=e,u=new Os(a,!1);Pi(()=>{const c=t()||null;var d=lh;if(c===null){u.ensure(null,null);return}return u.ensure(c,h=>{if(c){if(s=Rc(c,d),Vr(s,s),r){var f=s.appendChild(Pn());r(s,f)}Ye.nodes.end=s,h.before(s)}}),()=>{}},Jn),No(()=>{})}function Lt(e,t,n){ko(()=>{var r=ze(()=>t(e,n==null?void 0:n())||{});if(n&&(r!=null&&r.update)){var i=!1,o={};Oi(()=>{var s=n();He(s),i&&gc(o,s)&&(o=s,r.update(s))}),i=!0}if(r!=null&&r.destroy)return()=>r.destroy()})}function ug(e,t){var n=void 0,r;Hc(()=>{n!==(n=t())&&(r&&(wt(r),r=null),n&&(r=Ht(()=>{ko(()=>n(e))})))})}function td(e){var t,n,r="";if(typeof e=="string"||typeof e=="number")r+=e;else if(typeof e=="object")if(Array.isArray(e)){var i=e.length;for(t=0;t<i;t++)e[t]&&(n=td(e[t]))&&(r&&(r+=" "),r+=n)}else for(n in e)e[n]&&(r&&(r+=" "),r+=n);return r}function cg(){for(var e,t,n=0,r="",i=arguments.length;n<i;n++)(e=arguments[n])&&(t=td(e))&&(r&&(r+=" "),r+=t);return r}function Xr(e){return typeof e=="object"?cg(e):e??""}const Ql=[...` 	
\r\fÂ \v\uFEFF`];function dg(e,t,n){var r=e==null?"":""+e;if(t&&(r=r?r+" "+t:t),n){for(var i in n)if(n[i])r=r?r+" "+i:i;else if(r.length)for(var o=i.length,s=0;(s=r.indexOf(i,s))>=0;){var a=s+o;(s===0||Ql.includes(r[s-1]))&&(a===r.length||Ql.includes(r[a]))?r=(s===0?"":r.substring(0,s))+r.substring(a+1):s=a}}return r===""?null:r}function Jl(e,t=!1){var n=t?" !important;":";",r="";for(var i in e){var o=e[i];o!=null&&o!==""&&(r+=" "+i+": "+o+n)}return r}function Js(e){return e[0]!=="-"||e[1]!=="-"?e.toLowerCase():e}function fg(e,t){if(t){var n="",r,i;if(Array.isArray(t)?(r=t[0],i=t[1]):r=t,e){e=String(e).replaceAll(/\s*\/\*.*?\*\/\s*/g,"").trim();var o=!1,s=0,a=!1,u=[];r&&u.push(...Object.keys(r).map(Js)),i&&u.push(...Object.keys(i).map(Js));var c=0,d=-1;const b=e.length;for(var h=0;h<b;h++){var f=e[h];if(a?f==="/"&&e[h-1]==="*"&&(a=!1):o?o===f&&(o=!1):f==="/"&&e[h+1]==="*"?a=!0:f==='"'||f==="'"?o=f:f==="("?s++:f===")"&&s--,!a&&o===!1&&s===0){if(f===":"&&d===-1)d=h;else if(f===";"||h===b-1){if(d!==-1){var g=Js(e.substring(c,d).trim());if(!u.includes(g)){f!==";"&&h++;var p=e.substring(c,h).trim();n+=" "+p+";"}}c=h+1,d=-1}}}}return r&&(n+=Jl(r)),i&&(n+=Jl(i,!0)),n=n.trim(),n===""?null:n}return e==null?null:String(e)}function Pt(e,t,n,r,i,o){var s=e.__className;if(s!==n||s===void 0){var a=dg(n,r,o);a==null?e.removeAttribute("class"):t?e.className=a:e.setAttribute("class",a),e.__className=n}else if(o&&i!==o)for(var u in o){var c=!!o[u];(i==null||c!==!!i[u])&&e.classList.toggle(u,c)}return o}function $s(e,t={},n,r){for(var i in n){var o=n[i];t[i]!==o&&(n[i]==null?e.style.removeProperty(i):e.style.setProperty(i,o,r))}}function Ze(e,t,n,r){var i=e.__style;if(i!==t){var o=fg(t,r);o==null?e.removeAttribute("style"):e.style.cssText=o,e.__style=t}else r&&(Array.isArray(r)?($s(e,n==null?void 0:n[0],r[0]),$s(e,n==null?void 0:n[1],r[1],"important")):$s(e,n,r));return r}function Aa(e,t,n=!1){if(e.multiple){if(t==null)return;if(!yo(t))return ch();for(var r of e.options)r.selected=t.includes($l(r));return}for(r of e.options){var i=$l(r);if(Ch(i,t)){r.selected=!0;return}}(!n||t!==void 0)&&(e.selectedIndex=-1)}function hg(e){var t=new MutationObserver(()=>{Aa(e,e.__value)});t.observe(e,{childList:!0,subtree:!0,attributes:!0,attributeFilter:["value"]}),No(()=>{t.disconnect()})}function $l(e){return"__value"in e?e.__value:e.value}const ar=Symbol("class"),Yn=Symbol("style"),nd=Symbol("is custom element"),rd=Symbol("is html"),gg=tl?"option":"OPTION",vg=tl?"select":"SELECT",pg=tl?"progress":"PROGRESS";function Ot(e,t){var n=As(e);n.value===(n.value=t??void 0)||e.value===t&&(t!==0||e.nodeName!==pg)||(e.value=t??"")}function id(e,t){var n=As(e);n.checked!==(n.checked=t??void 0)&&(e.checked=t)}function mg(e,t){t?e.hasAttribute("selected")||e.setAttribute("selected",""):e.removeAttribute("selected")}function be(e,t,n,r){var i=As(e);i[t]!==(i[t]=n)&&(t==="loading"&&(e[Kf]=n),n==null?e.removeAttribute(t):typeof n!="string"&&od(e).includes(t)?e[t]=n:e.setAttribute(t,n))}function yg(e,t,n,r,i=!1,o=!1){var s=As(e),a=s[nd],u=!s[rd],c=t||{},d=e.nodeName===gg;for(var h in t)h in n||(n[h]=null);n.class?n.class=Xr(n.class):(r||n[ar])&&(n.class=null),n[Yn]&&(n.style??(n.style=null));var f=od(e);for(const m in n){let A=n[m];if(d&&m==="value"&&A==null){e.value=e.__value="",c[m]=A;continue}if(m==="class"){var g=e.namespaceURI==="http://www.w3.org/1999/xhtml";Pt(e,g,A,r,t==null?void 0:t[ar],n[ar]),c[m]=A,c[ar]=n[ar];continue}if(m==="style"){Ze(e,A,t==null?void 0:t[Yn],n[Yn]),c[m]=A,c[Yn]=n[Yn];continue}var p=c[m];if(!(A===p&&!(A===void 0&&e.hasAttribute(m)))){c[m]=A;var b=m[0]+m[1];if(b!=="$$")if(b==="on"){const T={},O="$$"+m;let S=m.slice(2);var y=Uh(S);if(jh(S)&&(S=S.slice(0,-7),T.capture=!0),!y&&p){if(A!=null)continue;e.removeEventListener(S,c[O],T),c[O]=null}if(A!=null)if(y)e[`__${S}`]=A,pt([S]);else{let F=function(R){c[m].call(this,R)};var k=F;c[O]=dl(S,e,F,T)}else y&&(e[`__${S}`]=void 0)}else if(m==="style")be(e,m,A);else if(m==="autofocus")zh(e,!!A);else if(!a&&(m==="__value"||m==="value"&&A!=null))e.value=e.__value=A;else if(m==="selected"&&d)mg(e,A);else{var x=m;u||(x=Zh(x));var w=x==="defaultValue"||x==="defaultChecked";if(A==null&&!a&&!w)if(s[m]=null,x==="value"||x==="checked"){let T=e;const O=t===void 0;if(x==="value"){let S=T.defaultValue;T.removeAttribute(x),T.defaultValue=S,T.value=T.__value=O?S:null}else{let S=T.defaultChecked;T.removeAttribute(x),T.defaultChecked=S,T.checked=O?S:!1}}else e.removeAttribute(m);else w||f.includes(x)&&(a||typeof A!="string")?(e[x]=A,x in s&&(s[x]=_t)):typeof A!="function"&&be(e,x,A)}}}return c}function pn(e,t,n=[],r=[],i=[],o,s=!1,a=!1){Sc(i,n,r,u=>{var c=void 0,d={},h=e.nodeName===vg,f=!1;if(Hc(()=>{var p=t(...u.map(l)),b=yg(e,c,p,o,s,a);f&&h&&"value"in p&&Aa(e,p.value);for(let x of Object.getOwnPropertySymbols(d))p[x]||wt(d[x]);for(let x of Object.getOwnPropertySymbols(p)){var y=p[x];x.description===uh&&(!c||y!==c[x])&&(d[x]&&wt(d[x]),d[x]=Ht(()=>ug(e,()=>y))),b[x]=y}c=b}),h){var g=e;ko(()=>{Aa(g,c.value,!0),hg(g)})}f=!0})}function As(e){return e.__attributes??(e.__attributes={[nd]:e.nodeName.includes("-"),[rd]:e.namespaceURI===fc})}var eu=new Map;function od(e){var t=e.getAttribute("is")||e.nodeName,n=eu.get(t);if(n)return n;eu.set(t,n=[]);for(var r,i=e,o=Element.prototype;o!==i;){r=nc(i);for(var s in r)r[s].set&&n.push(s);i=Ns(i)}return n}function sd(e,t,n=t){var r=new WeakSet;Lh(e,"input",async i=>{var o=i?e.defaultValue:e.value;if(o=ea(e)?ta(o):o,n(o),Ve!==null&&r.add(Ve),await dt(),o!==(o=t())){var s=e.selectionStart,a=e.selectionEnd,u=e.value.length;if(e.value=o??"",a!==null){var c=e.value.length;s===a&&a===u&&c>u?(e.selectionStart=c,e.selectionEnd=c):(e.selectionStart=s,e.selectionEnd=Math.min(a,c))}}}),ze(t)==null&&e.value&&(n(ea(e)?ta(e.value):e.value),Ve!==null&&r.add(Ve)),Oi(()=>{var i=t();if(e===document.activeElement){var o=ya??Ve;if(r.has(o))return}ea(e)&&i===ta(e.value)||e.type==="date"&&!i&&!e.value||i!==e.value&&(e.value=i??"")})}function ea(e){var t=e.type;return t==="number"||t==="range"}function ta(e){return e===""?null:+e}function bg(e,t,n){var r=qn(e,t);r&&r.set&&(e[t]=n,No(()=>{e[t]=null}))}var dr,pi,ao,ws,ad;const xs=class xs{constructor(t){re(this,ws);re(this,dr,new WeakMap);re(this,pi);re(this,ao);Ce(this,ao,t)}observe(t,n){var r=D(this,dr).get(t)||new Set;return r.add(n),D(this,dr).set(t,r),Nt(this,ws,ad).call(this).observe(t,D(this,ao)),()=>{var i=D(this,dr).get(t);i.delete(n),i.size===0&&(D(this,dr).delete(t),D(this,pi).unobserve(t))}}};dr=new WeakMap,pi=new WeakMap,ao=new WeakMap,ws=new WeakSet,ad=function(){return D(this,pi)??Ce(this,pi,new ResizeObserver(t=>{for(var n of t){xs.entries.set(n.target,n);for(var r of D(this,dr).get(n.target)||[])r(n)}}))},et(xs,"entries",new WeakMap);let Ca=xs;var _g=new Ca({box:"border-box"});function tu(e,t,n){var r=_g.observe(e,()=>n(e[t]));ko(()=>(ze(()=>n(e[t])),r))}function nu(e,t){return e===t||(e==null?void 0:e[Tn])===t}function ut(e={},t,n,r){return ko(()=>{var i,o;return Oi(()=>{i=o,o=[],ze(()=>{e!==n(...o)&&(t(e,...o),i&&nu(n(...i),e)&&t(null,...i))})}),()=>{On(()=>{o&&nu(n(...o),e)&&t(null,...o)})}}),e}function tr(e=!1){const t=Ue,n=t.l.u;if(!n)return;let r=()=>He(t.s);if(e){let i=0,o={};const s=xo(()=>{let a=!1;const u=t.s;for(const c in u)u[c]!==o[c]&&(o[c]=u[c],a=!0);return a&&i++,i});r=()=>l(s)}n.b.length&&ll(()=>{ru(t,r),pa(n.b)}),je(()=>{const i=ze(()=>n.m.map(Hf));return()=>{for(const o of i)typeof o=="function"&&o()}}),n.a.length&&je(()=>{ru(t,r),pa(n.a)})}function ru(e,t){if(e.l.s)for(const n of e.l.s)l(n);t()}let Fo=!1;function wg(e){var t=Fo;try{return Fo=!1,[e(),Fo]}finally{Fo=t}}const xg={get(e,t){if(!e.exclude.includes(t))return e.props[t]},set(e,t){return!1},getOwnPropertyDescriptor(e,t){if(!e.exclude.includes(t)&&t in e.props)return{enumerable:!0,configurable:!0,value:e.props[t]}},has(e,t){return e.exclude.includes(t)?!1:t in e.props},ownKeys(e){return Reflect.ownKeys(e.props).filter(t=>!e.exclude.includes(t))}};function jr(e,t,n){return new Proxy({props:e,exclude:t},xg)}const Eg={get(e,t){if(!e.exclude.includes(t))return l(e.version),t in e.special?e.special[t]():e.props[t]},set(e,t,n){if(!(t in e.special)){var r=Ye;try{on(e.parent_effect),e.special[t]=te({get[t](){return e.props[t]}},t,cc)}finally{on(r)}}return e.special[t](n),Yl(e.version),!0},getOwnPropertyDescriptor(e,t){if(!e.exclude.includes(t)&&t in e.props)return{enumerable:!0,configurable:!0,value:e.props[t]}},deleteProperty(e,t){return e.exclude.includes(t)||(e.exclude.push(t),Yl(e.version)),!0},has(e,t){return e.exclude.includes(t)?!1:t in e.props},ownKeys(e){return Reflect.ownKeys(e.props).filter(t=>!e.exclude.includes(t))}};function sn(e,t){return new Proxy({props:e,exclude:t,special:{},version:vr(0),parent_effect:Ye},Eg)}const Ng={get(e,t){let n=e.props.length;for(;n--;){let r=e.props[n];if(Di(r)&&(r=r()),typeof r=="object"&&r!==null&&t in r)return r[t]}},set(e,t,n){let r=e.props.length;for(;r--;){let i=e.props[r];Di(i)&&(i=i());const o=qn(i,t);if(o&&o.set)return o.set(n),!0}return!1},getOwnPropertyDescriptor(e,t){let n=e.props.length;for(;n--;){let r=e.props[n];if(Di(r)&&(r=r()),typeof r=="object"&&r!==null&&t in r){const i=qn(r,t);return i&&!i.configurable&&(i.configurable=!0),i}}},has(e,t){if(t===Tn||t===lc)return!1;for(let n of e.props)if(Di(n)&&(n=n()),n!=null&&t in n)return!0;return!1},ownKeys(e){const t=[];for(let n of e.props)if(Di(n)&&(n=n()),!!n){for(const r in n)t.includes(r)||t.push(r);for(const r of Object.getOwnPropertySymbols(n))t.includes(r)||t.push(r)}return t}};function jt(...e){return new Proxy({props:e},Ng)}function te(e,t,n,r){var k;var i=!Si||(n&ih)!==0,o=(n&oh)!==0,s=(n&sh)!==0,a=r,u=!0,c=()=>(u&&(u=!1,a=s?ze(r):r),a),d;if(o){var h=Tn in e||lc in e;d=((k=qn(e,t))==null?void 0:k.set)??(h&&t in e?m=>e[t]=m:void 0)}var f,g=!1;o?[f,g]=wg(()=>e[t]):f=e[t],f===void 0&&r!==void 0&&(f=c(),d&&(i&&Uf(),d(f)));var p;if(i?p=()=>{var m=e[t];return m===void 0?c():(u=!0,m)}:p=()=>{var m=e[t];return m!==void 0&&(a=void 0),m===void 0?a:m},i&&!(n&cc))return p;if(d){var b=e.$$legacy;return function(m,A){return arguments.length>0?((!i||!A||b||g)&&d(A?p():m),m):p()}}var y=!1,x=(n&rh?xo:Ss)(()=>(y=!1,p()));o&&l(x);var w=Ye;return function(m,A){if(arguments.length>0){const T=A?l(x):i&&o?Yt(m):m;return K(x,T),y=!0,a!==void 0&&(a=T),m}return pr&&y||w.f&Zn?x.v:l(x)}}function fl(e){Ue===null&&ks(),Si&&Ue.l!==null?Ig(Ue).m.push(e):je(()=>{const t=ze(e);if(typeof t=="function")return t})}function Io(e){Ue===null&&ks(),fl(()=>()=>ze(e))}function kg(e,t,{bubbles:n=!1,cancelable:r=!1}={}){return new CustomEvent(e,{detail:t,bubbles:n,cancelable:r})}function Cs(){const e=Ue;return e===null&&ks(),(t,n,r)=>{var o;const i=(o=e.s.$$events)==null?void 0:o[t];if(i){const s=yo(i)?i.slice():[i],a=kg(t,n,r);for(const u of s)u.call(e.x,a);return!a.defaultPrevented}return!0}}function Ig(e){var t=e.l;return t.u??(t.u={a:[],b:[],m:[]})}const Sg="5";var tc;typeof window<"u"&&((tc=window.__svelte??(window.__svelte={})).v??(tc.v=new Set)).add(Sg);var Tg={value:()=>{}};function Ms(){for(var e=0,t=arguments.length,n={},r;e<t;++e){if(!(r=arguments[e]+"")||r in n||/[\s.]/.test(r))throw new Error("illegal type: "+r);n[r]=[]}return new Jo(n)}function Jo(e){this._=e}function Og(e,t){return e.trim().split(/^|\s+/).map(function(n){var r="",i=n.indexOf(".");if(i>=0&&(r=n.slice(i+1),n=n.slice(0,i)),n&&!t.hasOwnProperty(n))throw new Error("unknown type: "+n);return{type:n,name:r}})}Jo.prototype=Ms.prototype={constructor:Jo,on:function(e,t){var n=this._,r=Og(e+"",n),i,o=-1,s=r.length;if(arguments.length<2){for(;++o<s;)if((i=(e=r[o]).type)&&(i=Pg(n[i],e.name)))return i;return}if(t!=null&&typeof t!="function")throw new Error("invalid callback: "+t);for(;++o<s;)if(i=(e=r[o]).type)n[i]=iu(n[i],e.name,t);else if(t==null)for(i in n)n[i]=iu(n[i],e.name,null);return this},copy:function(){var e={},t=this._;for(var n in t)e[n]=t[n].slice();return new Jo(e)},call:function(e,t){if((i=arguments.length-2)>0)for(var n=new Array(i),r=0,i,o;r<i;++r)n[r]=arguments[r+2];if(!this._.hasOwnProperty(e))throw new Error("unknown type: "+e);for(o=this._[e],r=0,i=o.length;r<i;++r)o[r].value.apply(t,n)},apply:function(e,t,n){if(!this._.hasOwnProperty(e))throw new Error("unknown type: "+e);for(var r=this._[e],i=0,o=r.length;i<o;++i)r[i].value.apply(t,n)}};function Pg(e,t){for(var n=0,r=e.length,i;n<r;++n)if((i=e[n]).name===t)return i.value}function iu(e,t,n){for(var r=0,i=e.length;r<i;++r)if(e[r].name===t){e[r]=Tg,e=e.slice(0,r).concat(e.slice(r+1));break}return n!=null&&e.push({name:t,value:n}),e}var Ma="http://www.w3.org/1999/xhtml";const ou={svg:"http://www.w3.org/2000/svg",xhtml:Ma,xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/"};function Ds(e){var t=e+="",n=t.indexOf(":");return n>=0&&(t=e.slice(0,n))!=="xmlns"&&(e=e.slice(n+1)),ou.hasOwnProperty(t)?{space:ou[t],local:e}:e}function Ag(e){return function(){var t=this.ownerDocument,n=this.namespaceURI;return n===Ma&&t.documentElement.namespaceURI===Ma?t.createElement(e):t.createElementNS(n,e)}}function Cg(e){return function(){return this.ownerDocument.createElementNS(e.space,e.local)}}function ld(e){var t=Ds(e);return(t.local?Cg:Ag)(t)}function Mg(){}function hl(e){return e==null?Mg:function(){return this.querySelector(e)}}function Dg(e){typeof e!="function"&&(e=hl(e));for(var t=this._groups,n=t.length,r=new Array(n),i=0;i<n;++i)for(var o=t[i],s=o.length,a=r[i]=new Array(s),u,c,d=0;d<s;++d)(u=o[d])&&(c=e.call(u,u.__data__,d,o))&&("__data__"in u&&(c.__data__=u.__data__),a[d]=c);return new Gt(r,this._parents)}function zg(e){return e==null?[]:Array.isArray(e)?e:Array.from(e)}function Rg(){return[]}function ud(e){return e==null?Rg:function(){return this.querySelectorAll(e)}}function Lg(e){return function(){return zg(e.apply(this,arguments))}}function Vg(e){typeof e=="function"?e=Lg(e):e=ud(e);for(var t=this._groups,n=t.length,r=[],i=[],o=0;o<n;++o)for(var s=t[o],a=s.length,u,c=0;c<a;++c)(u=s[c])&&(r.push(e.call(u,u.__data__,c,s)),i.push(u));return new Gt(r,i)}function cd(e){return function(){return this.matches(e)}}function dd(e){return function(t){return t.matches(e)}}var Fg=Array.prototype.find;function Hg(e){return function(){return Fg.call(this.children,e)}}function Kg(){return this.firstElementChild}function Bg(e){return this.select(e==null?Kg:Hg(typeof e=="function"?e:dd(e)))}var Wg=Array.prototype.filter;function Yg(){return Array.from(this.children)}function Xg(e){return function(){return Wg.call(this.children,e)}}function jg(e){return this.selectAll(e==null?Yg:Xg(typeof e=="function"?e:dd(e)))}function Gg(e){typeof e!="function"&&(e=cd(e));for(var t=this._groups,n=t.length,r=new Array(n),i=0;i<n;++i)for(var o=t[i],s=o.length,a=r[i]=[],u,c=0;c<s;++c)(u=o[c])&&e.call(u,u.__data__,c,o)&&a.push(u);return new Gt(r,this._parents)}function fd(e){return new Array(e.length)}function Ug(){return new Gt(this._enter||this._groups.map(fd),this._parents)}function is(e,t){this.ownerDocument=e.ownerDocument,this.namespaceURI=e.namespaceURI,this._next=null,this._parent=e,this.__data__=t}is.prototype={constructor:is,appendChild:function(e){return this._parent.insertBefore(e,this._next)},insertBefore:function(e,t){return this._parent.insertBefore(e,t)},querySelector:function(e){return this._parent.querySelector(e)},querySelectorAll:function(e){return this._parent.querySelectorAll(e)}};function qg(e){return function(){return e}}function Zg(e,t,n,r,i,o){for(var s=0,a,u=t.length,c=o.length;s<c;++s)(a=t[s])?(a.__data__=o[s],r[s]=a):n[s]=new is(e,o[s]);for(;s<u;++s)(a=t[s])&&(i[s]=a)}function Qg(e,t,n,r,i,o,s){var a,u,c=new Map,d=t.length,h=o.length,f=new Array(d),g;for(a=0;a<d;++a)(u=t[a])&&(f[a]=g=s.call(u,u.__data__,a,t)+"",c.has(g)?i[a]=u:c.set(g,u));for(a=0;a<h;++a)g=s.call(e,o[a],a,o)+"",(u=c.get(g))?(r[a]=u,u.__data__=o[a],c.delete(g)):n[a]=new is(e,o[a]);for(a=0;a<d;++a)(u=t[a])&&c.get(f[a])===u&&(i[a]=u)}function Jg(e){return e.__data__}function $g(e,t){if(!arguments.length)return Array.from(this,Jg);var n=t?Qg:Zg,r=this._parents,i=this._groups;typeof e!="function"&&(e=qg(e));for(var o=i.length,s=new Array(o),a=new Array(o),u=new Array(o),c=0;c<o;++c){var d=r[c],h=i[c],f=h.length,g=ev(e.call(d,d&&d.__data__,c,r)),p=g.length,b=a[c]=new Array(p),y=s[c]=new Array(p),x=u[c]=new Array(f);n(d,h,b,y,x,g,t);for(var w=0,k=0,m,A;w<p;++w)if(m=b[w]){for(w>=k&&(k=w+1);!(A=y[k])&&++k<p;);m._next=A||null}}return s=new Gt(s,r),s._enter=a,s._exit=u,s}function ev(e){return typeof e=="object"&&"length"in e?e:Array.from(e)}function tv(){return new Gt(this._exit||this._groups.map(fd),this._parents)}function nv(e,t,n){var r=this.enter(),i=this,o=this.exit();return typeof e=="function"?(r=e(r),r&&(r=r.selection())):r=r.append(e+""),t!=null&&(i=t(i),i&&(i=i.selection())),n==null?o.remove():n(o),r&&i?r.merge(i).order():i}function rv(e){for(var t=e.selection?e.selection():e,n=this._groups,r=t._groups,i=n.length,o=r.length,s=Math.min(i,o),a=new Array(i),u=0;u<s;++u)for(var c=n[u],d=r[u],h=c.length,f=a[u]=new Array(h),g,p=0;p<h;++p)(g=c[p]||d[p])&&(f[p]=g);for(;u<i;++u)a[u]=n[u];return new Gt(a,this._parents)}function iv(){for(var e=this._groups,t=-1,n=e.length;++t<n;)for(var r=e[t],i=r.length-1,o=r[i],s;--i>=0;)(s=r[i])&&(o&&s.compareDocumentPosition(o)^4&&o.parentNode.insertBefore(s,o),o=s);return this}function ov(e){e||(e=sv);function t(h,f){return h&&f?e(h.__data__,f.__data__):!h-!f}for(var n=this._groups,r=n.length,i=new Array(r),o=0;o<r;++o){for(var s=n[o],a=s.length,u=i[o]=new Array(a),c,d=0;d<a;++d)(c=s[d])&&(u[d]=c);u.sort(t)}return new Gt(i,this._parents).order()}function sv(e,t){return e<t?-1:e>t?1:e>=t?0:NaN}function av(){var e=arguments[0];return arguments[0]=this,e.apply(null,arguments),this}function lv(){return Array.from(this)}function uv(){for(var e=this._groups,t=0,n=e.length;t<n;++t)for(var r=e[t],i=0,o=r.length;i<o;++i){var s=r[i];if(s)return s}return null}function cv(){let e=0;for(const t of this)++e;return e}function dv(){return!this.node()}function fv(e){for(var t=this._groups,n=0,r=t.length;n<r;++n)for(var i=t[n],o=0,s=i.length,a;o<s;++o)(a=i[o])&&e.call(a,a.__data__,o,i);return this}function hv(e){return function(){this.removeAttribute(e)}}function gv(e){return function(){this.removeAttributeNS(e.space,e.local)}}function vv(e,t){return function(){this.setAttribute(e,t)}}function pv(e,t){return function(){this.setAttributeNS(e.space,e.local,t)}}function mv(e,t){return function(){var n=t.apply(this,arguments);n==null?this.removeAttribute(e):this.setAttribute(e,n)}}function yv(e,t){return function(){var n=t.apply(this,arguments);n==null?this.removeAttributeNS(e.space,e.local):this.setAttributeNS(e.space,e.local,n)}}function bv(e,t){var n=Ds(e);if(arguments.length<2){var r=this.node();return n.local?r.getAttributeNS(n.space,n.local):r.getAttribute(n)}return this.each((t==null?n.local?gv:hv:typeof t=="function"?n.local?yv:mv:n.local?pv:vv)(n,t))}function hd(e){return e.ownerDocument&&e.ownerDocument.defaultView||e.document&&e||e.defaultView}function _v(e){return function(){this.style.removeProperty(e)}}function wv(e,t,n){return function(){this.style.setProperty(e,t,n)}}function xv(e,t,n){return function(){var r=t.apply(this,arguments);r==null?this.style.removeProperty(e):this.style.setProperty(e,r,n)}}function Ev(e,t,n){return arguments.length>1?this.each((t==null?_v:typeof t=="function"?xv:wv)(e,t,n??"")):wi(this.node(),e)}function wi(e,t){return e.style.getPropertyValue(t)||hd(e).getComputedStyle(e,null).getPropertyValue(t)}function Nv(e){return function(){delete this[e]}}function kv(e,t){return function(){this[e]=t}}function Iv(e,t){return function(){var n=t.apply(this,arguments);n==null?delete this[e]:this[e]=n}}function Sv(e,t){return arguments.length>1?this.each((t==null?Nv:typeof t=="function"?Iv:kv)(e,t)):this.node()[e]}function gd(e){return e.trim().split(/^|\s+/)}function gl(e){return e.classList||new vd(e)}function vd(e){this._node=e,this._names=gd(e.getAttribute("class")||"")}vd.prototype={add:function(e){var t=this._names.indexOf(e);t<0&&(this._names.push(e),this._node.setAttribute("class",this._names.join(" ")))},remove:function(e){var t=this._names.indexOf(e);t>=0&&(this._names.splice(t,1),this._node.setAttribute("class",this._names.join(" ")))},contains:function(e){return this._names.indexOf(e)>=0}};function pd(e,t){for(var n=gl(e),r=-1,i=t.length;++r<i;)n.add(t[r])}function md(e,t){for(var n=gl(e),r=-1,i=t.length;++r<i;)n.remove(t[r])}function Tv(e){return function(){pd(this,e)}}function Ov(e){return function(){md(this,e)}}function Pv(e,t){return function(){(t.apply(this,arguments)?pd:md)(this,e)}}function Av(e,t){var n=gd(e+"");if(arguments.length<2){for(var r=gl(this.node()),i=-1,o=n.length;++i<o;)if(!r.contains(n[i]))return!1;return!0}return this.each((typeof t=="function"?Pv:t?Tv:Ov)(n,t))}function Cv(){this.textContent=""}function Mv(e){return function(){this.textContent=e}}function Dv(e){return function(){var t=e.apply(this,arguments);this.textContent=t??""}}function zv(e){return arguments.length?this.each(e==null?Cv:(typeof e=="function"?Dv:Mv)(e)):this.node().textContent}function Rv(){this.innerHTML=""}function Lv(e){return function(){this.innerHTML=e}}function Vv(e){return function(){var t=e.apply(this,arguments);this.innerHTML=t??""}}function Fv(e){return arguments.length?this.each(e==null?Rv:(typeof e=="function"?Vv:Lv)(e)):this.node().innerHTML}function Hv(){this.nextSibling&&this.parentNode.appendChild(this)}function Kv(){return this.each(Hv)}function Bv(){this.previousSibling&&this.parentNode.insertBefore(this,this.parentNode.firstChild)}function Wv(){return this.each(Bv)}function Yv(e){var t=typeof e=="function"?e:ld(e);return this.select(function(){return this.appendChild(t.apply(this,arguments))})}function Xv(){return null}function jv(e,t){var n=typeof e=="function"?e:ld(e),r=t==null?Xv:typeof t=="function"?t:hl(t);return this.select(function(){return this.insertBefore(n.apply(this,arguments),r.apply(this,arguments)||null)})}function Gv(){var e=this.parentNode;e&&e.removeChild(this)}function Uv(){return this.each(Gv)}function qv(){var e=this.cloneNode(!1),t=this.parentNode;return t?t.insertBefore(e,this.nextSibling):e}function Zv(){var e=this.cloneNode(!0),t=this.parentNode;return t?t.insertBefore(e,this.nextSibling):e}function Qv(e){return this.select(e?Zv:qv)}function Jv(e){return arguments.length?this.property("__data__",e):this.node().__data__}function $v(e){return function(t){e.call(this,t,this.__data__)}}function ep(e){return e.trim().split(/^|\s+/).map(function(t){var n="",r=t.indexOf(".");return r>=0&&(n=t.slice(r+1),t=t.slice(0,r)),{type:t,name:n}})}function tp(e){return function(){var t=this.__on;if(t){for(var n=0,r=-1,i=t.length,o;n<i;++n)o=t[n],(!e.type||o.type===e.type)&&o.name===e.name?this.removeEventListener(o.type,o.listener,o.options):t[++r]=o;++r?t.length=r:delete this.__on}}}function np(e,t,n){return function(){var r=this.__on,i,o=$v(t);if(r){for(var s=0,a=r.length;s<a;++s)if((i=r[s]).type===e.type&&i.name===e.name){this.removeEventListener(i.type,i.listener,i.options),this.addEventListener(i.type,i.listener=o,i.options=n),i.value=t;return}}this.addEventListener(e.type,o,n),i={type:e.type,name:e.name,value:t,listener:o,options:n},r?r.push(i):this.__on=[i]}}function rp(e,t,n){var r=ep(e+""),i,o=r.length,s;if(arguments.length<2){var a=this.node().__on;if(a){for(var u=0,c=a.length,d;u<c;++u)for(i=0,d=a[u];i<o;++i)if((s=r[i]).type===d.type&&s.name===d.name)return d.value}return}for(a=t?np:tp,i=0;i<o;++i)this.each(a(r[i],t,n));return this}function yd(e,t,n){var r=hd(e),i=r.CustomEvent;typeof i=="function"?i=new i(t,n):(i=r.document.createEvent("Event"),n?(i.initEvent(t,n.bubbles,n.cancelable),i.detail=n.detail):i.initEvent(t,!1,!1)),e.dispatchEvent(i)}function ip(e,t){return function(){return yd(this,e,t)}}function op(e,t){return function(){return yd(this,e,t.apply(this,arguments))}}function sp(e,t){return this.each((typeof t=="function"?op:ip)(e,t))}function*ap(){for(var e=this._groups,t=0,n=e.length;t<n;++t)for(var r=e[t],i=0,o=r.length,s;i<o;++i)(s=r[i])&&(yield s)}var bd=[null];function Gt(e,t){this._groups=e,this._parents=t}function So(){return new Gt([[document.documentElement]],bd)}function lp(){return this}Gt.prototype=So.prototype={constructor:Gt,select:Dg,selectAll:Vg,selectChild:Bg,selectChildren:jg,filter:Gg,data:$g,enter:Ug,exit:tv,join:nv,merge:rv,selection:lp,order:iv,sort:ov,call:av,nodes:lv,node:uv,size:cv,empty:dv,each:fv,attr:bv,style:Ev,property:Sv,classed:Av,text:zv,html:Fv,raise:Kv,lower:Wv,append:Yv,insert:jv,remove:Uv,clone:Qv,datum:Jv,on:rp,dispatch:sp,[Symbol.iterator]:ap};function $t(e){return typeof e=="string"?new Gt([[document.querySelector(e)]],[document.documentElement]):new Gt([[e]],bd)}function up(e){let t;for(;t=e.sourceEvent;)e=t;return e}function xn(e,t){if(e=up(e),t===void 0&&(t=e.currentTarget),t){var n=t.ownerSVGElement||t;if(n.createSVGPoint){var r=n.createSVGPoint();return r.x=e.clientX,r.y=e.clientY,r=r.matrixTransform(t.getScreenCTM().inverse()),[r.x,r.y]}if(t.getBoundingClientRect){var i=t.getBoundingClientRect();return[e.clientX-i.left-t.clientLeft,e.clientY-i.top-t.clientTop]}}return[e.pageX,e.pageY]}const cp={passive:!1},Ui={capture:!0,passive:!1};function na(e){e.stopImmediatePropagation()}function oi(e){e.preventDefault(),e.stopImmediatePropagation()}function _d(e){var t=e.document.documentElement,n=$t(e).on("dragstart.drag",oi,Ui);"onselectstart"in t?n.on("selectstart.drag",oi,Ui):(t.__noselect=t.style.MozUserSelect,t.style.MozUserSelect="none")}function wd(e,t){var n=e.document.documentElement,r=$t(e).on("dragstart.drag",null);t&&(r.on("click.drag",oi,Ui),setTimeout(function(){r.on("click.drag",null)},0)),"onselectstart"in n?r.on("selectstart.drag",null):(n.style.MozUserSelect=n.__noselect,delete n.__noselect)}const Ho=e=>()=>e;function Da(e,{sourceEvent:t,subject:n,target:r,identifier:i,active:o,x:s,y:a,dx:u,dy:c,dispatch:d}){Object.defineProperties(this,{type:{value:e,enumerable:!0,configurable:!0},sourceEvent:{value:t,enumerable:!0,configurable:!0},subject:{value:n,enumerable:!0,configurable:!0},target:{value:r,enumerable:!0,configurable:!0},identifier:{value:i,enumerable:!0,configurable:!0},active:{value:o,enumerable:!0,configurable:!0},x:{value:s,enumerable:!0,configurable:!0},y:{value:a,enumerable:!0,configurable:!0},dx:{value:u,enumerable:!0,configurable:!0},dy:{value:c,enumerable:!0,configurable:!0},_:{value:d}})}Da.prototype.on=function(){var e=this._.on.apply(this._,arguments);return e===this._?this:e};function dp(e){return!e.ctrlKey&&!e.button}function fp(){return this.parentNode}function hp(e,t){return t??{x:e.x,y:e.y}}function gp(){return navigator.maxTouchPoints||"ontouchstart"in this}function xd(){var e=dp,t=fp,n=hp,r=gp,i={},o=Ms("start","drag","end"),s=0,a,u,c,d,h=0;function f(m){m.on("mousedown.drag",g).filter(r).on("touchstart.drag",y).on("touchmove.drag",x,cp).on("touchend.drag touchcancel.drag",w).style("touch-action","none").style("-webkit-tap-highlight-color","rgba(0,0,0,0)")}function g(m,A){if(!(d||!e.call(this,m,A))){var T=k(this,t.call(this,m,A),m,A,"mouse");T&&($t(m.view).on("mousemove.drag",p,Ui).on("mouseup.drag",b,Ui),_d(m.view),na(m),c=!1,a=m.clientX,u=m.clientY,T("start",m))}}function p(m){if(oi(m),!c){var A=m.clientX-a,T=m.clientY-u;c=A*A+T*T>h}i.mouse("drag",m)}function b(m){$t(m.view).on("mousemove.drag mouseup.drag",null),wd(m.view,c),oi(m),i.mouse("end",m)}function y(m,A){if(e.call(this,m,A)){var T=m.changedTouches,O=t.call(this,m,A),S=T.length,F,R;for(F=0;F<S;++F)(R=k(this,O,m,A,T[F].identifier,T[F]))&&(na(m),R("start",m,T[F]))}}function x(m){var A=m.changedTouches,T=A.length,O,S;for(O=0;O<T;++O)(S=i[A[O].identifier])&&(oi(m),S("drag",m,A[O]))}function w(m){var A=m.changedTouches,T=A.length,O,S;for(d&&clearTimeout(d),d=setTimeout(function(){d=null},500),O=0;O<T;++O)(S=i[A[O].identifier])&&(na(m),S("end",m,A[O]))}function k(m,A,T,O,S,F){var R=o.copy(),N=xn(F||T,A),_,E,v;if((v=n.call(m,new Da("beforestart",{sourceEvent:T,target:f,identifier:S,active:s,x:N[0],y:N[1],dx:0,dy:0,dispatch:R}),O))!=null)return _=v.x-N[0]||0,E=v.y-N[1]||0,function C(I,M,L){var H=N,Y;switch(I){case"start":i[S]=C,Y=s++;break;case"end":delete i[S],--s;case"drag":N=xn(L||M,A),Y=s;break}R.call(I,m,new Da(I,{sourceEvent:M,subject:v,target:f,identifier:S,active:Y,x:N[0]+_,y:N[1]+E,dx:N[0]-H[0],dy:N[1]-H[1],dispatch:R}),O)}}return f.filter=function(m){return arguments.length?(e=typeof m=="function"?m:Ho(!!m),f):e},f.container=function(m){return arguments.length?(t=typeof m=="function"?m:Ho(m),f):t},f.subject=function(m){return arguments.length?(n=typeof m=="function"?m:Ho(m),f):n},f.touchable=function(m){return arguments.length?(r=typeof m=="function"?m:Ho(!!m),f):r},f.on=function(){var m=o.on.apply(o,arguments);return m===o?f:m},f.clickDistance=function(m){return arguments.length?(h=(m=+m)*m,f):Math.sqrt(h)},f}function vl(e,t,n){e.prototype=t.prototype=n,n.constructor=e}function Ed(e,t){var n=Object.create(e.prototype);for(var r in t)n[r]=t[r];return n}function To(){}var qi=.7,os=1/qi,si="\\s*([+-]?\\d+)\\s*",Zi="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)\\s*",An="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*",vp=/^#([0-9a-f]{3,8})$/,pp=new RegExp(`^rgb\\(${si},${si},${si}\\)$`),mp=new RegExp(`^rgb\\(${An},${An},${An}\\)$`),yp=new RegExp(`^rgba\\(${si},${si},${si},${Zi}\\)$`),bp=new RegExp(`^rgba\\(${An},${An},${An},${Zi}\\)$`),_p=new RegExp(`^hsl\\(${Zi},${An},${An}\\)$`),wp=new RegExp(`^hsla\\(${Zi},${An},${An},${Zi}\\)$`),su={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};vl(To,Fr,{copy(e){return Object.assign(new this.constructor,this,e)},displayable(){return this.rgb().displayable()},hex:au,formatHex:au,formatHex8:xp,formatHsl:Ep,formatRgb:lu,toString:lu});function au(){return this.rgb().formatHex()}function xp(){return this.rgb().formatHex8()}function Ep(){return Nd(this).formatHsl()}function lu(){return this.rgb().formatRgb()}function Fr(e){var t,n;return e=(e+"").trim().toLowerCase(),(t=vp.exec(e))?(n=t[1].length,t=parseInt(t[1],16),n===6?uu(t):n===3?new Kt(t>>8&15|t>>4&240,t>>4&15|t&240,(t&15)<<4|t&15,1):n===8?Ko(t>>24&255,t>>16&255,t>>8&255,(t&255)/255):n===4?Ko(t>>12&15|t>>8&240,t>>8&15|t>>4&240,t>>4&15|t&240,((t&15)<<4|t&15)/255):null):(t=pp.exec(e))?new Kt(t[1],t[2],t[3],1):(t=mp.exec(e))?new Kt(t[1]*255/100,t[2]*255/100,t[3]*255/100,1):(t=yp.exec(e))?Ko(t[1],t[2],t[3],t[4]):(t=bp.exec(e))?Ko(t[1]*255/100,t[2]*255/100,t[3]*255/100,t[4]):(t=_p.exec(e))?fu(t[1],t[2]/100,t[3]/100,1):(t=wp.exec(e))?fu(t[1],t[2]/100,t[3]/100,t[4]):su.hasOwnProperty(e)?uu(su[e]):e==="transparent"?new Kt(NaN,NaN,NaN,0):null}function uu(e){return new Kt(e>>16&255,e>>8&255,e&255,1)}function Ko(e,t,n,r){return r<=0&&(e=t=n=NaN),new Kt(e,t,n,r)}function Np(e){return e instanceof To||(e=Fr(e)),e?(e=e.rgb(),new Kt(e.r,e.g,e.b,e.opacity)):new Kt}function za(e,t,n,r){return arguments.length===1?Np(e):new Kt(e,t,n,r??1)}function Kt(e,t,n,r){this.r=+e,this.g=+t,this.b=+n,this.opacity=+r}vl(Kt,za,Ed(To,{brighter(e){return e=e==null?os:Math.pow(os,e),new Kt(this.r*e,this.g*e,this.b*e,this.opacity)},darker(e){return e=e==null?qi:Math.pow(qi,e),new Kt(this.r*e,this.g*e,this.b*e,this.opacity)},rgb(){return this},clamp(){return new Kt(Dr(this.r),Dr(this.g),Dr(this.b),ss(this.opacity))},displayable(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:cu,formatHex:cu,formatHex8:kp,formatRgb:du,toString:du}));function cu(){return`#${kr(this.r)}${kr(this.g)}${kr(this.b)}`}function kp(){return`#${kr(this.r)}${kr(this.g)}${kr(this.b)}${kr((isNaN(this.opacity)?1:this.opacity)*255)}`}function du(){const e=ss(this.opacity);return`${e===1?"rgb(":"rgba("}${Dr(this.r)}, ${Dr(this.g)}, ${Dr(this.b)}${e===1?")":`, ${e})`}`}function ss(e){return isNaN(e)?1:Math.max(0,Math.min(1,e))}function Dr(e){return Math.max(0,Math.min(255,Math.round(e)||0))}function kr(e){return e=Dr(e),(e<16?"0":"")+e.toString(16)}function fu(e,t,n,r){return r<=0?e=t=n=NaN:n<=0||n>=1?e=t=NaN:t<=0&&(e=NaN),new fn(e,t,n,r)}function Nd(e){if(e instanceof fn)return new fn(e.h,e.s,e.l,e.opacity);if(e instanceof To||(e=Fr(e)),!e)return new fn;if(e instanceof fn)return e;e=e.rgb();var t=e.r/255,n=e.g/255,r=e.b/255,i=Math.min(t,n,r),o=Math.max(t,n,r),s=NaN,a=o-i,u=(o+i)/2;return a?(t===o?s=(n-r)/a+(n<r)*6:n===o?s=(r-t)/a+2:s=(t-n)/a+4,a/=u<.5?o+i:2-o-i,s*=60):a=u>0&&u<1?0:s,new fn(s,a,u,e.opacity)}function Ip(e,t,n,r){return arguments.length===1?Nd(e):new fn(e,t,n,r??1)}function fn(e,t,n,r){this.h=+e,this.s=+t,this.l=+n,this.opacity=+r}vl(fn,Ip,Ed(To,{brighter(e){return e=e==null?os:Math.pow(os,e),new fn(this.h,this.s,this.l*e,this.opacity)},darker(e){return e=e==null?qi:Math.pow(qi,e),new fn(this.h,this.s,this.l*e,this.opacity)},rgb(){var e=this.h%360+(this.h<0)*360,t=isNaN(e)||isNaN(this.s)?0:this.s,n=this.l,r=n+(n<.5?n:1-n)*t,i=2*n-r;return new Kt(ra(e>=240?e-240:e+120,i,r),ra(e,i,r),ra(e<120?e+240:e-120,i,r),this.opacity)},clamp(){return new fn(hu(this.h),Bo(this.s),Bo(this.l),ss(this.opacity))},displayable(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl(){const e=ss(this.opacity);return`${e===1?"hsl(":"hsla("}${hu(this.h)}, ${Bo(this.s)*100}%, ${Bo(this.l)*100}%${e===1?")":`, ${e})`}`}}));function hu(e){return e=(e||0)%360,e<0?e+360:e}function Bo(e){return Math.max(0,Math.min(1,e||0))}function ra(e,t,n){return(e<60?t+(n-t)*e/60:e<180?n:e<240?t+(n-t)*(240-e)/60:t)*255}const pl=e=>()=>e;function Sp(e,t){return function(n){return e+n*t}}function Tp(e,t,n){return e=Math.pow(e,n),t=Math.pow(t,n)-e,n=1/n,function(r){return Math.pow(e+r*t,n)}}function Op(e){return(e=+e)==1?kd:function(t,n){return n-t?Tp(t,n,e):pl(isNaN(t)?n:t)}}function kd(e,t){var n=t-e;return n?Sp(e,n):pl(isNaN(e)?t:e)}const as=function e(t){var n=Op(t);function r(i,o){var s=n((i=za(i)).r,(o=za(o)).r),a=n(i.g,o.g),u=n(i.b,o.b),c=kd(i.opacity,o.opacity);return function(d){return i.r=s(d),i.g=a(d),i.b=u(d),i.opacity=c(d),i+""}}return r.gamma=e,r}(1);function Pp(e,t){t||(t=[]);var n=e?Math.min(t.length,e.length):0,r=t.slice(),i;return function(o){for(i=0;i<n;++i)r[i]=e[i]*(1-o)+t[i]*o;return r}}function Ap(e){return ArrayBuffer.isView(e)&&!(e instanceof DataView)}function Cp(e,t){var n=t?t.length:0,r=e?Math.min(n,e.length):0,i=new Array(r),o=new Array(n),s;for(s=0;s<r;++s)i[s]=Yi(e[s],t[s]);for(;s<n;++s)o[s]=t[s];return function(a){for(s=0;s<r;++s)o[s]=i[s](a);return o}}function Mp(e,t){var n=new Date;return e=+e,t=+t,function(r){return n.setTime(e*(1-r)+t*r),n}}function Sn(e,t){return e=+e,t=+t,function(n){return e*(1-n)+t*n}}function Dp(e,t){var n={},r={},i;(e===null||typeof e!="object")&&(e={}),(t===null||typeof t!="object")&&(t={});for(i in t)i in e?n[i]=Yi(e[i],t[i]):r[i]=t[i];return function(o){for(i in n)r[i]=n[i](o);return r}}var Ra=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,ia=new RegExp(Ra.source,"g");function zp(e){return function(){return e}}function Rp(e){return function(t){return e(t)+""}}function Id(e,t){var n=Ra.lastIndex=ia.lastIndex=0,r,i,o,s=-1,a=[],u=[];for(e=e+"",t=t+"";(r=Ra.exec(e))&&(i=ia.exec(t));)(o=i.index)>n&&(o=t.slice(n,o),a[s]?a[s]+=o:a[++s]=o),(r=r[0])===(i=i[0])?a[s]?a[s]+=i:a[++s]=i:(a[++s]=null,u.push({i:s,x:Sn(r,i)})),n=ia.lastIndex;return n<t.length&&(o=t.slice(n),a[s]?a[s]+=o:a[++s]=o),a.length<2?u[0]?Rp(u[0].x):zp(t):(t=u.length,function(c){for(var d=0,h;d<t;++d)a[(h=u[d]).i]=h.x(c);return a.join("")})}function Yi(e,t){var n=typeof t,r;return t==null||n==="boolean"?pl(t):(n==="number"?Sn:n==="string"?(r=Fr(t))?(t=r,as):Id:t instanceof Fr?as:t instanceof Date?Mp:Ap(t)?Pp:Array.isArray(t)?Cp:typeof t.valueOf!="function"&&typeof t.toString!="function"||isNaN(t)?Dp:Sn)(e,t)}var gu=180/Math.PI,La={translateX:0,translateY:0,rotate:0,skewX:0,scaleX:1,scaleY:1};function Sd(e,t,n,r,i,o){var s,a,u;return(s=Math.sqrt(e*e+t*t))&&(e/=s,t/=s),(u=e*n+t*r)&&(n-=e*u,r-=t*u),(a=Math.sqrt(n*n+r*r))&&(n/=a,r/=a,u/=a),e*r<t*n&&(e=-e,t=-t,u=-u,s=-s),{translateX:i,translateY:o,rotate:Math.atan2(t,e)*gu,skewX:Math.atan(u)*gu,scaleX:s,scaleY:a}}var Wo;function Lp(e){const t=new(typeof DOMMatrix=="function"?DOMMatrix:WebKitCSSMatrix)(e+"");return t.isIdentity?La:Sd(t.a,t.b,t.c,t.d,t.e,t.f)}function Vp(e){return e==null||(Wo||(Wo=document.createElementNS("http://www.w3.org/2000/svg","g")),Wo.setAttribute("transform",e),!(e=Wo.transform.baseVal.consolidate()))?La:(e=e.matrix,Sd(e.a,e.b,e.c,e.d,e.e,e.f))}function Td(e,t,n,r){function i(c){return c.length?c.pop()+" ":""}function o(c,d,h,f,g,p){if(c!==h||d!==f){var b=g.push("translate(",null,t,null,n);p.push({i:b-4,x:Sn(c,h)},{i:b-2,x:Sn(d,f)})}else(h||f)&&g.push("translate("+h+t+f+n)}function s(c,d,h,f){c!==d?(c-d>180?d+=360:d-c>180&&(c+=360),f.push({i:h.push(i(h)+"rotate(",null,r)-2,x:Sn(c,d)})):d&&h.push(i(h)+"rotate("+d+r)}function a(c,d,h,f){c!==d?f.push({i:h.push(i(h)+"skewX(",null,r)-2,x:Sn(c,d)}):d&&h.push(i(h)+"skewX("+d+r)}function u(c,d,h,f,g,p){if(c!==h||d!==f){var b=g.push(i(g)+"scale(",null,",",null,")");p.push({i:b-4,x:Sn(c,h)},{i:b-2,x:Sn(d,f)})}else(h!==1||f!==1)&&g.push(i(g)+"scale("+h+","+f+")")}return function(c,d){var h=[],f=[];return c=e(c),d=e(d),o(c.translateX,c.translateY,d.translateX,d.translateY,h,f),s(c.rotate,d.rotate,h,f),a(c.skewX,d.skewX,h,f),u(c.scaleX,c.scaleY,d.scaleX,d.scaleY,h,f),c=d=null,function(g){for(var p=-1,b=f.length,y;++p<b;)h[(y=f[p]).i]=y.x(g);return h.join("")}}}var Fp=Td(Lp,"px, ","px)","deg)"),Hp=Td(Vp,", ",")",")"),Kp=1e-12;function vu(e){return((e=Math.exp(e))+1/e)/2}function Bp(e){return((e=Math.exp(e))-1/e)/2}function Wp(e){return((e=Math.exp(2*e))-1)/(e+1)}const $o=function e(t,n,r){function i(o,s){var a=o[0],u=o[1],c=o[2],d=s[0],h=s[1],f=s[2],g=d-a,p=h-u,b=g*g+p*p,y,x;if(b<Kp)x=Math.log(f/c)/t,y=function(O){return[a+O*g,u+O*p,c*Math.exp(t*O*x)]};else{var w=Math.sqrt(b),k=(f*f-c*c+r*b)/(2*c*n*w),m=(f*f-c*c-r*b)/(2*f*n*w),A=Math.log(Math.sqrt(k*k+1)-k),T=Math.log(Math.sqrt(m*m+1)-m);x=(T-A)/t,y=function(O){var S=O*x,F=vu(A),R=c/(n*w)*(F*Wp(t*S+A)-Bp(A));return[a+R*g,u+R*p,c*F/vu(t*S+A)]}}return y.duration=x*1e3*t/Math.SQRT2,y}return i.rho=function(o){var s=Math.max(.001,+o),a=s*s,u=a*a;return e(s,a,u)},i}(Math.SQRT2,2,4);var xi=0,Fi=0,Ri=0,Od=1e3,ls,Hi,us=0,Hr=0,zs=0,Qi=typeof performance=="object"&&performance.now?performance:Date,Pd=typeof window=="object"&&window.requestAnimationFrame?window.requestAnimationFrame.bind(window):function(e){setTimeout(e,17)};function ml(){return Hr||(Pd(Yp),Hr=Qi.now()+zs)}function Yp(){Hr=0}function cs(){this._call=this._time=this._next=null}cs.prototype=Ad.prototype={constructor:cs,restart:function(e,t,n){if(typeof e!="function")throw new TypeError("callback is not a function");n=(n==null?ml():+n)+(t==null?0:+t),!this._next&&Hi!==this&&(Hi?Hi._next=this:ls=this,Hi=this),this._call=e,this._time=n,Va()},stop:function(){this._call&&(this._call=null,this._time=1/0,Va())}};function Ad(e,t,n){var r=new cs;return r.restart(e,t,n),r}function Xp(){ml(),++xi;for(var e=ls,t;e;)(t=Hr-e._time)>=0&&e._call.call(void 0,t),e=e._next;--xi}function pu(){Hr=(us=Qi.now())+zs,xi=Fi=0;try{Xp()}finally{xi=0,Gp(),Hr=0}}function jp(){var e=Qi.now(),t=e-us;t>Od&&(zs-=t,us=e)}function Gp(){for(var e,t=ls,n,r=1/0;t;)t._call?(r>t._time&&(r=t._time),e=t,t=t._next):(n=t._next,t._next=null,t=e?e._next=n:ls=n);Hi=e,Va(r)}function Va(e){if(!xi){Fi&&(Fi=clearTimeout(Fi));var t=e-Hr;t>24?(e<1/0&&(Fi=setTimeout(pu,e-Qi.now()-zs)),Ri&&(Ri=clearInterval(Ri))):(Ri||(us=Qi.now(),Ri=setInterval(jp,Od)),xi=1,Pd(pu))}}function mu(e,t,n){var r=new cs;return t=t==null?0:+t,r.restart(i=>{r.stop(),e(i+t)},t,n),r}var Up=Ms("start","end","cancel","interrupt"),qp=[],Cd=0,yu=1,Fa=2,es=3,bu=4,Ha=5,ts=6;function Rs(e,t,n,r,i,o){var s=e.__transition;if(!s)e.__transition={};else if(n in s)return;Zp(e,n,{name:t,index:r,group:i,on:Up,tween:qp,time:o.time,delay:o.delay,duration:o.duration,ease:o.ease,timer:null,state:Cd})}function yl(e,t){var n=bn(e,t);if(n.state>Cd)throw new Error("too late; already scheduled");return n}function Rn(e,t){var n=bn(e,t);if(n.state>es)throw new Error("too late; already running");return n}function bn(e,t){var n=e.__transition;if(!n||!(n=n[t]))throw new Error("transition not found");return n}function Zp(e,t,n){var r=e.__transition,i;r[t]=n,n.timer=Ad(o,0,n.time);function o(c){n.state=yu,n.timer.restart(s,n.delay,n.time),n.delay<=c&&s(c-n.delay)}function s(c){var d,h,f,g;if(n.state!==yu)return u();for(d in r)if(g=r[d],g.name===n.name){if(g.state===es)return mu(s);g.state===bu?(g.state=ts,g.timer.stop(),g.on.call("interrupt",e,e.__data__,g.index,g.group),delete r[d]):+d<t&&(g.state=ts,g.timer.stop(),g.on.call("cancel",e,e.__data__,g.index,g.group),delete r[d])}if(mu(function(){n.state===es&&(n.state=bu,n.timer.restart(a,n.delay,n.time),a(c))}),n.state=Fa,n.on.call("start",e,e.__data__,n.index,n.group),n.state===Fa){for(n.state=es,i=new Array(f=n.tween.length),d=0,h=-1;d<f;++d)(g=n.tween[d].value.call(e,e.__data__,n.index,n.group))&&(i[++h]=g);i.length=h+1}}function a(c){for(var d=c<n.duration?n.ease.call(null,c/n.duration):(n.timer.restart(u),n.state=Ha,1),h=-1,f=i.length;++h<f;)i[h].call(e,d);n.state===Ha&&(n.on.call("end",e,e.__data__,n.index,n.group),u())}function u(){n.state=ts,n.timer.stop(),delete r[t];for(var c in r)return;delete e.__transition}}function ns(e,t){var n=e.__transition,r,i,o=!0,s;if(n){t=t==null?null:t+"";for(s in n){if((r=n[s]).name!==t){o=!1;continue}i=r.state>Fa&&r.state<Ha,r.state=ts,r.timer.stop(),r.on.call(i?"interrupt":"cancel",e,e.__data__,r.index,r.group),delete n[s]}o&&delete e.__transition}}function Qp(e){return this.each(function(){ns(this,e)})}function Jp(e,t){var n,r;return function(){var i=Rn(this,e),o=i.tween;if(o!==n){r=n=o;for(var s=0,a=r.length;s<a;++s)if(r[s].name===t){r=r.slice(),r.splice(s,1);break}}i.tween=r}}function $p(e,t,n){var r,i;if(typeof n!="function")throw new Error;return function(){var o=Rn(this,e),s=o.tween;if(s!==r){i=(r=s).slice();for(var a={name:t,value:n},u=0,c=i.length;u<c;++u)if(i[u].name===t){i[u]=a;break}u===c&&i.push(a)}o.tween=i}}function em(e,t){var n=this._id;if(e+="",arguments.length<2){for(var r=bn(this.node(),n).tween,i=0,o=r.length,s;i<o;++i)if((s=r[i]).name===e)return s.value;return null}return this.each((t==null?Jp:$p)(n,e,t))}function bl(e,t,n){var r=e._id;return e.each(function(){var i=Rn(this,r);(i.value||(i.value={}))[t]=n.apply(this,arguments)}),function(i){return bn(i,r).value[t]}}function Md(e,t){var n;return(typeof t=="number"?Sn:t instanceof Fr?as:(n=Fr(t))?(t=n,as):Id)(e,t)}function tm(e){return function(){this.removeAttribute(e)}}function nm(e){return function(){this.removeAttributeNS(e.space,e.local)}}function rm(e,t,n){var r,i=n+"",o;return function(){var s=this.getAttribute(e);return s===i?null:s===r?o:o=t(r=s,n)}}function im(e,t,n){var r,i=n+"",o;return function(){var s=this.getAttributeNS(e.space,e.local);return s===i?null:s===r?o:o=t(r=s,n)}}function om(e,t,n){var r,i,o;return function(){var s,a=n(this),u;return a==null?void this.removeAttribute(e):(s=this.getAttribute(e),u=a+"",s===u?null:s===r&&u===i?o:(i=u,o=t(r=s,a)))}}function sm(e,t,n){var r,i,o;return function(){var s,a=n(this),u;return a==null?void this.removeAttributeNS(e.space,e.local):(s=this.getAttributeNS(e.space,e.local),u=a+"",s===u?null:s===r&&u===i?o:(i=u,o=t(r=s,a)))}}function am(e,t){var n=Ds(e),r=n==="transform"?Hp:Md;return this.attrTween(e,typeof t=="function"?(n.local?sm:om)(n,r,bl(this,"attr."+e,t)):t==null?(n.local?nm:tm)(n):(n.local?im:rm)(n,r,t))}function lm(e,t){return function(n){this.setAttribute(e,t.call(this,n))}}function um(e,t){return function(n){this.setAttributeNS(e.space,e.local,t.call(this,n))}}function cm(e,t){var n,r;function i(){var o=t.apply(this,arguments);return o!==r&&(n=(r=o)&&um(e,o)),n}return i._value=t,i}function dm(e,t){var n,r;function i(){var o=t.apply(this,arguments);return o!==r&&(n=(r=o)&&lm(e,o)),n}return i._value=t,i}function fm(e,t){var n="attr."+e;if(arguments.length<2)return(n=this.tween(n))&&n._value;if(t==null)return this.tween(n,null);if(typeof t!="function")throw new Error;var r=Ds(e);return this.tween(n,(r.local?cm:dm)(r,t))}function hm(e,t){return function(){yl(this,e).delay=+t.apply(this,arguments)}}function gm(e,t){return t=+t,function(){yl(this,e).delay=t}}function vm(e){var t=this._id;return arguments.length?this.each((typeof e=="function"?hm:gm)(t,e)):bn(this.node(),t).delay}function pm(e,t){return function(){Rn(this,e).duration=+t.apply(this,arguments)}}function mm(e,t){return t=+t,function(){Rn(this,e).duration=t}}function ym(e){var t=this._id;return arguments.length?this.each((typeof e=="function"?pm:mm)(t,e)):bn(this.node(),t).duration}function bm(e,t){if(typeof t!="function")throw new Error;return function(){Rn(this,e).ease=t}}function _m(e){var t=this._id;return arguments.length?this.each(bm(t,e)):bn(this.node(),t).ease}function wm(e,t){return function(){var n=t.apply(this,arguments);if(typeof n!="function")throw new Error;Rn(this,e).ease=n}}function xm(e){if(typeof e!="function")throw new Error;return this.each(wm(this._id,e))}function Em(e){typeof e!="function"&&(e=cd(e));for(var t=this._groups,n=t.length,r=new Array(n),i=0;i<n;++i)for(var o=t[i],s=o.length,a=r[i]=[],u,c=0;c<s;++c)(u=o[c])&&e.call(u,u.__data__,c,o)&&a.push(u);return new $n(r,this._parents,this._name,this._id)}function Nm(e){if(e._id!==this._id)throw new Error;for(var t=this._groups,n=e._groups,r=t.length,i=n.length,o=Math.min(r,i),s=new Array(r),a=0;a<o;++a)for(var u=t[a],c=n[a],d=u.length,h=s[a]=new Array(d),f,g=0;g<d;++g)(f=u[g]||c[g])&&(h[g]=f);for(;a<r;++a)s[a]=t[a];return new $n(s,this._parents,this._name,this._id)}function km(e){return(e+"").trim().split(/^|\s+/).every(function(t){var n=t.indexOf(".");return n>=0&&(t=t.slice(0,n)),!t||t==="start"})}function Im(e,t,n){var r,i,o=km(t)?yl:Rn;return function(){var s=o(this,e),a=s.on;a!==r&&(i=(r=a).copy()).on(t,n),s.on=i}}function Sm(e,t){var n=this._id;return arguments.length<2?bn(this.node(),n).on.on(e):this.each(Im(n,e,t))}function Tm(e){return function(){var t=this.parentNode;for(var n in this.__transition)if(+n!==e)return;t&&t.removeChild(this)}}function Om(){return this.on("end.remove",Tm(this._id))}function Pm(e){var t=this._name,n=this._id;typeof e!="function"&&(e=hl(e));for(var r=this._groups,i=r.length,o=new Array(i),s=0;s<i;++s)for(var a=r[s],u=a.length,c=o[s]=new Array(u),d,h,f=0;f<u;++f)(d=a[f])&&(h=e.call(d,d.__data__,f,a))&&("__data__"in d&&(h.__data__=d.__data__),c[f]=h,Rs(c[f],t,n,f,c,bn(d,n)));return new $n(o,this._parents,t,n)}function Am(e){var t=this._name,n=this._id;typeof e!="function"&&(e=ud(e));for(var r=this._groups,i=r.length,o=[],s=[],a=0;a<i;++a)for(var u=r[a],c=u.length,d,h=0;h<c;++h)if(d=u[h]){for(var f=e.call(d,d.__data__,h,u),g,p=bn(d,n),b=0,y=f.length;b<y;++b)(g=f[b])&&Rs(g,t,n,b,f,p);o.push(f),s.push(d)}return new $n(o,s,t,n)}var Cm=So.prototype.constructor;function Mm(){return new Cm(this._groups,this._parents)}function Dm(e,t){var n,r,i;return function(){var o=wi(this,e),s=(this.style.removeProperty(e),wi(this,e));return o===s?null:o===n&&s===r?i:i=t(n=o,r=s)}}function Dd(e){return function(){this.style.removeProperty(e)}}function zm(e,t,n){var r,i=n+"",o;return function(){var s=wi(this,e);return s===i?null:s===r?o:o=t(r=s,n)}}function Rm(e,t,n){var r,i,o;return function(){var s=wi(this,e),a=n(this),u=a+"";return a==null&&(u=a=(this.style.removeProperty(e),wi(this,e))),s===u?null:s===r&&u===i?o:(i=u,o=t(r=s,a))}}function Lm(e,t){var n,r,i,o="style."+t,s="end."+o,a;return function(){var u=Rn(this,e),c=u.on,d=u.value[o]==null?a||(a=Dd(t)):void 0;(c!==n||i!==d)&&(r=(n=c).copy()).on(s,i=d),u.on=r}}function Vm(e,t,n){var r=(e+="")=="transform"?Fp:Md;return t==null?this.styleTween(e,Dm(e,r)).on("end.style."+e,Dd(e)):typeof t=="function"?this.styleTween(e,Rm(e,r,bl(this,"style."+e,t))).each(Lm(this._id,e)):this.styleTween(e,zm(e,r,t),n).on("end.style."+e,null)}function Fm(e,t,n){return function(r){this.style.setProperty(e,t.call(this,r),n)}}function Hm(e,t,n){var r,i;function o(){var s=t.apply(this,arguments);return s!==i&&(r=(i=s)&&Fm(e,s,n)),r}return o._value=t,o}function Km(e,t,n){var r="style."+(e+="");if(arguments.length<2)return(r=this.tween(r))&&r._value;if(t==null)return this.tween(r,null);if(typeof t!="function")throw new Error;return this.tween(r,Hm(e,t,n??""))}function Bm(e){return function(){this.textContent=e}}function Wm(e){return function(){var t=e(this);this.textContent=t??""}}function Ym(e){return this.tween("text",typeof e=="function"?Wm(bl(this,"text",e)):Bm(e==null?"":e+""))}function Xm(e){return function(t){this.textContent=e.call(this,t)}}function jm(e){var t,n;function r(){var i=e.apply(this,arguments);return i!==n&&(t=(n=i)&&Xm(i)),t}return r._value=e,r}function Gm(e){var t="text";if(arguments.length<1)return(t=this.tween(t))&&t._value;if(e==null)return this.tween(t,null);if(typeof e!="function")throw new Error;return this.tween(t,jm(e))}function Um(){for(var e=this._name,t=this._id,n=zd(),r=this._groups,i=r.length,o=0;o<i;++o)for(var s=r[o],a=s.length,u,c=0;c<a;++c)if(u=s[c]){var d=bn(u,t);Rs(u,e,n,c,s,{time:d.time+d.delay+d.duration,delay:0,duration:d.duration,ease:d.ease})}return new $n(r,this._parents,e,n)}function qm(){var e,t,n=this,r=n._id,i=n.size();return new Promise(function(o,s){var a={value:s},u={value:function(){--i===0&&o()}};n.each(function(){var c=Rn(this,r),d=c.on;d!==e&&(t=(e=d).copy(),t._.cancel.push(a),t._.interrupt.push(a),t._.end.push(u)),c.on=t}),i===0&&o()})}var Zm=0;function $n(e,t,n,r){this._groups=e,this._parents=t,this._name=n,this._id=r}function zd(){return++Zm}var Fn=So.prototype;$n.prototype={constructor:$n,select:Pm,selectAll:Am,selectChild:Fn.selectChild,selectChildren:Fn.selectChildren,filter:Em,merge:Nm,selection:Mm,transition:Um,call:Fn.call,nodes:Fn.nodes,node:Fn.node,size:Fn.size,empty:Fn.empty,each:Fn.each,on:Sm,attr:am,attrTween:fm,style:Vm,styleTween:Km,text:Ym,textTween:Gm,remove:Om,tween:em,delay:vm,duration:ym,ease:_m,easeVarying:xm,end:qm,[Symbol.iterator]:Fn[Symbol.iterator]};function Qm(e){return((e*=2)<=1?e*e*e:(e-=2)*e*e+2)/2}var Jm={time:null,delay:0,duration:250,ease:Qm};function $m(e,t){for(var n;!(n=e.__transition)||!(n=n[t]);)if(!(e=e.parentNode))throw new Error(`transition ${t} not found`);return n}function ey(e){var t,n;e instanceof $n?(t=e._id,e=e._name):(t=zd(),(n=Jm).time=ml(),e=e==null?null:e+"");for(var r=this._groups,i=r.length,o=0;o<i;++o)for(var s=r[o],a=s.length,u,c=0;c<a;++c)(u=s[c])&&Rs(u,e,t,c,s,n||$m(u,t));return new $n(r,this._parents,e,t)}So.prototype.interrupt=Qp;So.prototype.transition=ey;const Yo=e=>()=>e;function ty(e,{sourceEvent:t,target:n,transform:r,dispatch:i}){Object.defineProperties(this,{type:{value:e,enumerable:!0,configurable:!0},sourceEvent:{value:t,enumerable:!0,configurable:!0},target:{value:n,enumerable:!0,configurable:!0},transform:{value:r,enumerable:!0,configurable:!0},_:{value:i}})}function Gn(e,t,n){this.k=e,this.x=t,this.y=n}Gn.prototype={constructor:Gn,scale:function(e){return e===1?this:new Gn(this.k*e,this.x,this.y)},translate:function(e,t){return e===0&t===0?this:new Gn(this.k,this.x+this.k*e,this.y+this.k*t)},apply:function(e){return[e[0]*this.k+this.x,e[1]*this.k+this.y]},applyX:function(e){return e*this.k+this.x},applyY:function(e){return e*this.k+this.y},invert:function(e){return[(e[0]-this.x)/this.k,(e[1]-this.y)/this.k]},invertX:function(e){return(e-this.x)/this.k},invertY:function(e){return(e-this.y)/this.k},rescaleX:function(e){return e.copy().domain(e.range().map(this.invertX,this).map(e.invert,e))},rescaleY:function(e){return e.copy().domain(e.range().map(this.invertY,this).map(e.invert,e))},toString:function(){return"translate("+this.x+","+this.y+") scale("+this.k+")"}};var Ls=new Gn(1,0,0);Rd.prototype=Gn.prototype;function Rd(e){for(;!e.__zoom;)if(!(e=e.parentNode))return Ls;return e.__zoom}function oa(e){e.stopImmediatePropagation()}function Li(e){e.preventDefault(),e.stopImmediatePropagation()}function ny(e){return(!e.ctrlKey||e.type==="wheel")&&!e.button}function ry(){var e=this;return e instanceof SVGElement?(e=e.ownerSVGElement||e,e.hasAttribute("viewBox")?(e=e.viewBox.baseVal,[[e.x,e.y],[e.x+e.width,e.y+e.height]]):[[0,0],[e.width.baseVal.value,e.height.baseVal.value]]):[[0,0],[e.clientWidth,e.clientHeight]]}function _u(){return this.__zoom||Ls}function iy(e){return-e.deltaY*(e.deltaMode===1?.05:e.deltaMode?1:.002)*(e.ctrlKey?10:1)}function oy(){return navigator.maxTouchPoints||"ontouchstart"in this}function sy(e,t,n){var r=e.invertX(t[0][0])-n[0][0],i=e.invertX(t[1][0])-n[1][0],o=e.invertY(t[0][1])-n[0][1],s=e.invertY(t[1][1])-n[1][1];return e.translate(i>r?(r+i)/2:Math.min(0,r)||Math.max(0,i),s>o?(o+s)/2:Math.min(0,o)||Math.max(0,s))}function ay(){var e=ny,t=ry,n=sy,r=iy,i=oy,o=[0,1/0],s=[[-1/0,-1/0],[1/0,1/0]],a=250,u=$o,c=Ms("start","zoom","end"),d,h,f,g=500,p=150,b=0,y=10;function x(v){v.property("__zoom",_u).on("wheel.zoom",S,{passive:!1}).on("mousedown.zoom",F).on("dblclick.zoom",R).filter(i).on("touchstart.zoom",N).on("touchmove.zoom",_).on("touchend.zoom touchcancel.zoom",E).style("-webkit-tap-highlight-color","rgba(0,0,0,0)")}x.transform=function(v,C,I,M){var L=v.selection?v.selection():v;L.property("__zoom",_u),v!==L?A(v,C,I,M):L.interrupt().each(function(){T(this,arguments).event(M).start().zoom(null,typeof C=="function"?C.apply(this,arguments):C).end()})},x.scaleBy=function(v,C,I,M){x.scaleTo(v,function(){var L=this.__zoom.k,H=typeof C=="function"?C.apply(this,arguments):C;return L*H},I,M)},x.scaleTo=function(v,C,I,M){x.transform(v,function(){var L=t.apply(this,arguments),H=this.__zoom,Y=I==null?m(L):typeof I=="function"?I.apply(this,arguments):I,G=H.invert(Y),U=typeof C=="function"?C.apply(this,arguments):C;return n(k(w(H,U),Y,G),L,s)},I,M)},x.translateBy=function(v,C,I,M){x.transform(v,function(){return n(this.__zoom.translate(typeof C=="function"?C.apply(this,arguments):C,typeof I=="function"?I.apply(this,arguments):I),t.apply(this,arguments),s)},null,M)},x.translateTo=function(v,C,I,M,L){x.transform(v,function(){var H=t.apply(this,arguments),Y=this.__zoom,G=M==null?m(H):typeof M=="function"?M.apply(this,arguments):M;return n(Ls.translate(G[0],G[1]).scale(Y.k).translate(typeof C=="function"?-C.apply(this,arguments):-C,typeof I=="function"?-I.apply(this,arguments):-I),H,s)},M,L)};function w(v,C){return C=Math.max(o[0],Math.min(o[1],C)),C===v.k?v:new Gn(C,v.x,v.y)}function k(v,C,I){var M=C[0]-I[0]*v.k,L=C[1]-I[1]*v.k;return M===v.x&&L===v.y?v:new Gn(v.k,M,L)}function m(v){return[(+v[0][0]+ +v[1][0])/2,(+v[0][1]+ +v[1][1])/2]}function A(v,C,I,M){v.on("start.zoom",function(){T(this,arguments).event(M).start()}).on("interrupt.zoom end.zoom",function(){T(this,arguments).event(M).end()}).tween("zoom",function(){var L=this,H=arguments,Y=T(L,H).event(M),G=t.apply(L,H),U=I==null?m(G):typeof I=="function"?I.apply(L,H):I,Q=Math.max(G[1][0]-G[0][0],G[1][1]-G[0][1]),z=L.__zoom,P=typeof C=="function"?C.apply(L,H):C,W=u(z.invert(U).concat(Q/z.k),P.invert(U).concat(Q/P.k));return function(X){if(X===1)X=P;else{var j=W(X),J=Q/j[2];X=new Gn(J,U[0]-j[0]*J,U[1]-j[1]*J)}Y.zoom(null,X)}})}function T(v,C,I){return!I&&v.__zooming||new O(v,C)}function O(v,C){this.that=v,this.args=C,this.active=0,this.sourceEvent=null,this.extent=t.apply(v,C),this.taps=0}O.prototype={event:function(v){return v&&(this.sourceEvent=v),this},start:function(){return++this.active===1&&(this.that.__zooming=this,this.emit("start")),this},zoom:function(v,C){return this.mouse&&v!=="mouse"&&(this.mouse[1]=C.invert(this.mouse[0])),this.touch0&&v!=="touch"&&(this.touch0[1]=C.invert(this.touch0[0])),this.touch1&&v!=="touch"&&(this.touch1[1]=C.invert(this.touch1[0])),this.that.__zoom=C,this.emit("zoom"),this},end:function(){return--this.active===0&&(delete this.that.__zooming,this.emit("end")),this},emit:function(v){var C=$t(this.that).datum();c.call(v,this.that,new ty(v,{sourceEvent:this.sourceEvent,target:x,transform:this.that.__zoom,dispatch:c}),C)}};function S(v,...C){if(!e.apply(this,arguments))return;var I=T(this,C).event(v),M=this.__zoom,L=Math.max(o[0],Math.min(o[1],M.k*Math.pow(2,r.apply(this,arguments)))),H=xn(v);if(I.wheel)(I.mouse[0][0]!==H[0]||I.mouse[0][1]!==H[1])&&(I.mouse[1]=M.invert(I.mouse[0]=H)),clearTimeout(I.wheel);else{if(M.k===L)return;I.mouse=[H,M.invert(H)],ns(this),I.start()}Li(v),I.wheel=setTimeout(Y,p),I.zoom("mouse",n(k(w(M,L),I.mouse[0],I.mouse[1]),I.extent,s));function Y(){I.wheel=null,I.end()}}function F(v,...C){if(f||!e.apply(this,arguments))return;var I=v.currentTarget,M=T(this,C,!0).event(v),L=$t(v.view).on("mousemove.zoom",U,!0).on("mouseup.zoom",Q,!0),H=xn(v,I),Y=v.clientX,G=v.clientY;_d(v.view),oa(v),M.mouse=[H,this.__zoom.invert(H)],ns(this),M.start();function U(z){if(Li(z),!M.moved){var P=z.clientX-Y,W=z.clientY-G;M.moved=P*P+W*W>b}M.event(z).zoom("mouse",n(k(M.that.__zoom,M.mouse[0]=xn(z,I),M.mouse[1]),M.extent,s))}function Q(z){L.on("mousemove.zoom mouseup.zoom",null),wd(z.view,M.moved),Li(z),M.event(z).end()}}function R(v,...C){if(e.apply(this,arguments)){var I=this.__zoom,M=xn(v.changedTouches?v.changedTouches[0]:v,this),L=I.invert(M),H=I.k*(v.shiftKey?.5:2),Y=n(k(w(I,H),M,L),t.apply(this,C),s);Li(v),a>0?$t(this).transition().duration(a).call(A,Y,M,v):$t(this).call(x.transform,Y,M,v)}}function N(v,...C){if(e.apply(this,arguments)){var I=v.touches,M=I.length,L=T(this,C,v.changedTouches.length===M).event(v),H,Y,G,U;for(oa(v),Y=0;Y<M;++Y)G=I[Y],U=xn(G,this),U=[U,this.__zoom.invert(U),G.identifier],L.touch0?!L.touch1&&L.touch0[2]!==U[2]&&(L.touch1=U,L.taps=0):(L.touch0=U,H=!0,L.taps=1+!!d);d&&(d=clearTimeout(d)),H&&(L.taps<2&&(h=U[0],d=setTimeout(function(){d=null},g)),ns(this),L.start())}}function _(v,...C){if(this.__zooming){var I=T(this,C).event(v),M=v.changedTouches,L=M.length,H,Y,G,U;for(Li(v),H=0;H<L;++H)Y=M[H],G=xn(Y,this),I.touch0&&I.touch0[2]===Y.identifier?I.touch0[0]=G:I.touch1&&I.touch1[2]===Y.identifier&&(I.touch1[0]=G);if(Y=I.that.__zoom,I.touch1){var Q=I.touch0[0],z=I.touch0[1],P=I.touch1[0],W=I.touch1[1],X=(X=P[0]-Q[0])*X+(X=P[1]-Q[1])*X,j=(j=W[0]-z[0])*j+(j=W[1]-z[1])*j;Y=w(Y,Math.sqrt(X/j)),G=[(Q[0]+P[0])/2,(Q[1]+P[1])/2],U=[(z[0]+W[0])/2,(z[1]+W[1])/2]}else if(I.touch0)G=I.touch0[0],U=I.touch0[1];else return;I.zoom("touch",n(k(Y,G,U),I.extent,s))}}function E(v,...C){if(this.__zooming){var I=T(this,C).event(v),M=v.changedTouches,L=M.length,H,Y;for(oa(v),f&&clearTimeout(f),f=setTimeout(function(){f=null},g),H=0;H<L;++H)Y=M[H],I.touch0&&I.touch0[2]===Y.identifier?delete I.touch0:I.touch1&&I.touch1[2]===Y.identifier&&delete I.touch1;if(I.touch1&&!I.touch0&&(I.touch0=I.touch1,delete I.touch1),I.touch0)I.touch0[1]=this.__zoom.invert(I.touch0[0]);else if(I.end(),I.taps===2&&(Y=xn(Y,this),Math.hypot(h[0]-Y[0],h[1]-Y[1])<y)){var G=$t(this).on("dblclick.zoom");G&&G.apply(this,arguments)}}}return x.wheelDelta=function(v){return arguments.length?(r=typeof v=="function"?v:Yo(+v),x):r},x.filter=function(v){return arguments.length?(e=typeof v=="function"?v:Yo(!!v),x):e},x.touchable=function(v){return arguments.length?(i=typeof v=="function"?v:Yo(!!v),x):i},x.extent=function(v){return arguments.length?(t=typeof v=="function"?v:Yo([[+v[0][0],+v[0][1]],[+v[1][0],+v[1][1]]]),x):t},x.scaleExtent=function(v){return arguments.length?(o[0]=+v[0],o[1]=+v[1],x):[o[0],o[1]]},x.translateExtent=function(v){return arguments.length?(s[0][0]=+v[0][0],s[1][0]=+v[1][0],s[0][1]=+v[0][1],s[1][1]=+v[1][1],x):[[s[0][0],s[0][1]],[s[1][0],s[1][1]]]},x.constrain=function(v){return arguments.length?(n=v,x):n},x.duration=function(v){return arguments.length?(a=+v,x):a},x.interpolate=function(v){return arguments.length?(u=v,x):u},x.on=function(){var v=c.on.apply(c,arguments);return v===c?x:v},x.clickDistance=function(v){return arguments.length?(b=(v=+v)*v,x):Math.sqrt(b)},x.tapDistance=function(v){return arguments.length?(y=+v,x):y},x}const Ji={error001:()=>"[React Flow]: Seems like you have not used zustand provider as an ancestor. Help: https://reactflow.dev/error#001",error002:()=>"It looks like you've created a new nodeTypes or edgeTypes object. If this wasn't on purpose please define the nodeTypes/edgeTypes outside of the component or memoize them.",error003:e=>`Node type "${e}" not found. Using fallback type "default".`,error004:()=>"The React Flow parent container needs a width and a height to render the graph.",error005:()=>"Only child nodes can use a parent extent.",error006:()=>"Can't create edge. An edge needs a source and a target.",error007:e=>`The old edge with id=${e} does not exist.`,error009:e=>`Marker type "${e}" doesn't exist.`,error008:(e,{id:t,sourceHandle:n,targetHandle:r})=>`Couldn't create edge for ${e} handle id: "${e==="source"?n:r}", edge id: ${t}.`,error010:()=>"Handle: No node id found. Make sure to only use a Handle inside a custom Node.",error011:e=>`Edge type "${e}" not found. Using fallback type "default".`,error012:e=>`Node with id "${e}" does not exist, it may have been removed. This can happen when a node is deleted before the "onNodeClick" handler is called.`,error013:(e="react")=>`It seems that you haven't loaded the styles. Please import '@xyflow/${e}/dist/style.css' or base.css to make sure everything is working properly.`,error014:()=>"useNodeConnections: No node ID found. Call useNodeConnections inside a custom Node or provide a node ID.",error015:()=>"It seems that you are trying to drag a node that is not initialized. Please use onNodesChange as explained in the docs."},Ka=[[Number.NEGATIVE_INFINITY,Number.NEGATIVE_INFINITY],[Number.POSITIVE_INFINITY,Number.POSITIVE_INFINITY]],Ld=["Enter"," ","Escape"],ly={"node.a11yDescription.default":"Press enter or space to select a node. Press delete to remove it and escape to cancel.","node.a11yDescription.keyboardDisabled":"Press enter or space to select a node. You can then use the arrow keys to move the node around. Press delete to remove it and escape to cancel.","node.a11yDescription.ariaLiveMessage":({direction:e,x:t,y:n})=>`Moved selected node ${e}. New position, x: ${t}, y: ${n}`,"edge.a11yDescription.default":"Press enter or space to select an edge. You can then press delete to remove it or escape to cancel.","controls.ariaLabel":"Control Panel","controls.zoomIn.ariaLabel":"Zoom In","controls.zoomOut.ariaLabel":"Zoom Out","controls.fitView.ariaLabel":"Fit View","controls.interactive.ariaLabel":"Toggle Interactivity","minimap.ariaLabel":"Mini Map","handle.ariaLabel":"Handle"};var Ei;(function(e){e.Strict="strict",e.Loose="loose"})(Ei||(Ei={}));var ai;(function(e){e.Free="free",e.Vertical="vertical",e.Horizontal="horizontal"})(ai||(ai={}));var $i;(function(e){e.Partial="partial",e.Full="full"})($i||($i={}));const Ba={inProgress:!1,isValid:null,from:null,fromHandle:null,fromPosition:null,fromNode:null,to:null,toHandle:null,toPosition:null,toNode:null,pointer:null};var lr;(function(e){e.Bezier="default",e.Straight="straight",e.Step="step",e.SmoothStep="smoothstep",e.SimpleBezier="simplebezier"})(lr||(lr={}));var ds;(function(e){e.Arrow="arrow",e.ArrowClosed="arrowclosed"})(ds||(ds={}));var Pe;(function(e){e.Left="left",e.Top="top",e.Right="right",e.Bottom="bottom"})(Pe||(Pe={}));const wu={[Pe.Left]:Pe.Right,[Pe.Right]:Pe.Left,[Pe.Top]:Pe.Bottom,[Pe.Bottom]:Pe.Top};function uy(e,t){if(!e&&!t)return!0;if(!e||!t||e.size!==t.size)return!1;if(!e.size&&!t.size)return!0;for(const n of e.keys())if(!t.has(n))return!1;return!0}function xu(e,t,n){if(!n)return;const r=[];e.forEach((i,o)=>{t!=null&&t.has(o)||r.push(i)}),r.length&&n(r)}function cy(e){return e===null?null:e?"valid":"invalid"}const Vd=e=>"id"in e&&"source"in e&&"target"in e,dy=e=>"id"in e&&"position"in e&&!("source"in e)&&!("target"in e),_l=e=>"id"in e&&"internals"in e&&!("source"in e)&&!("target"in e),Oo=(e,t=[0,0])=>{const{width:n,height:r}=Gr(e),i=e.origin??t,o=n*i[0],s=r*i[1];return{x:e.position.x-o,y:e.position.y-s}},fy=(e,t={nodeOrigin:[0,0]})=>{if(e.length===0)return{x:0,y:0,width:0,height:0};const n=e.reduce((r,i)=>{const o=typeof i=="string";let s=!t.nodeLookup&&!o?i:void 0;t.nodeLookup&&(s=o?t.nodeLookup.get(i):_l(i)?i:t.nodeLookup.get(i.id));const a=s?fs(s,t.nodeOrigin):{x:0,y:0,x2:0,y2:0};return Fs(r,a)},{x:1/0,y:1/0,x2:-1/0,y2:-1/0});return Hs(n)},Vs=(e,t={})=>{let n={x:1/0,y:1/0,x2:-1/0,y2:-1/0},r=!1;return e.forEach(i=>{(t.filter===void 0||t.filter(i))&&(n=Fs(n,fs(i)),r=!0)}),r?Hs(n):{x:0,y:0,width:0,height:0}},wl=(e,t,[n,r,i]=[0,0,1],o=!1,s=!1)=>{const a={...Ao(t,[n,r,i]),width:t.width/i,height:t.height/i},u=[];for(const c of e.values()){const{measured:d,selectable:h=!0,hidden:f=!1}=c;if(s&&!h||f)continue;const g=d.width??c.width??c.initialWidth??null,p=d.height??c.height??c.initialHeight??null,b=eo(a,ki(c)),y=(g??0)*(p??0),x=o&&b>0;(!c.internals.handleBounds||x||b>=y||c.dragging)&&u.push(c)}return u},hy=(e,t)=>{const n=new Set;return e.forEach(r=>{n.add(r.id)}),t.filter(r=>n.has(r.source)||n.has(r.target))};function gy(e,t){const n=new Map,r=t!=null&&t.nodes?new Set(t.nodes.map(i=>i.id)):null;return e.forEach(i=>{i.measured.width&&i.measured.height&&((t==null?void 0:t.includeHiddenNodes)||!i.hidden)&&(!r||r.has(i.id))&&n.set(i.id,i)}),n}async function vy({nodes:e,width:t,height:n,panZoom:r,minZoom:i,maxZoom:o},s){if(e.size===0)return Promise.resolve(!0);const a=gy(e,s),u=Vs(a),c=xl(u,t,n,(s==null?void 0:s.minZoom)??i,(s==null?void 0:s.maxZoom)??o,(s==null?void 0:s.padding)??.1);return await r.setViewport(c,{duration:s==null?void 0:s.duration,ease:s==null?void 0:s.ease,interpolate:s==null?void 0:s.interpolate}),Promise.resolve(!0)}function Fd({nodeId:e,nextPosition:t,nodeLookup:n,nodeOrigin:r=[0,0],nodeExtent:i,onError:o}){const s=n.get(e),a=s.parentId?n.get(s.parentId):void 0,{x:u,y:c}=a?a.internals.positionAbsolute:{x:0,y:0},d=s.origin??r;let h=s.extent||i;if(s.extent==="parent"&&!s.expandParent)if(!a)o==null||o("005",Ji.error005());else{const g=a.measured.width,p=a.measured.height;g&&p&&(h=[[u,c],[u+g,c+p]])}else a&&Ii(s.extent)&&(h=[[s.extent[0][0]+u,s.extent[0][1]+c],[s.extent[1][0]+u,s.extent[1][1]+c]]);const f=Ii(h)?Kr(t,h,s.measured):t;return(s.measured.width===void 0||s.measured.height===void 0)&&(o==null||o("015",Ji.error015())),{position:{x:f.x-u+(s.measured.width??0)*d[0],y:f.y-c+(s.measured.height??0)*d[1]},positionAbsolute:f}}async function py({nodesToRemove:e=[],edgesToRemove:t=[],nodes:n,edges:r,onBeforeDelete:i}){const o=new Set(e.map(f=>f.id)),s=[];for(const f of n){if(f.deletable===!1)continue;const g=o.has(f.id),p=!g&&f.parentId&&s.find(b=>b.id===f.parentId);(g||p)&&s.push(f)}const a=new Set(t.map(f=>f.id)),u=r.filter(f=>f.deletable!==!1),d=hy(s,u);for(const f of u)a.has(f.id)&&!d.find(p=>p.id===f.id)&&d.push(f);if(!i)return{edges:d,nodes:s};const h=await i({nodes:s,edges:d});return typeof h=="boolean"?h?{edges:d,nodes:s}:{edges:[],nodes:[]}:h}const Ni=(e,t=0,n=1)=>Math.min(Math.max(e,t),n),Kr=(e={x:0,y:0},t,n)=>({x:Ni(e.x,t[0][0],t[1][0]-((n==null?void 0:n.width)??0)),y:Ni(e.y,t[0][1],t[1][1]-((n==null?void 0:n.height)??0))});function Hd(e,t,n){const{width:r,height:i}=Gr(n),{x:o,y:s}=n.internals.positionAbsolute;return Kr(e,[[o,s],[o+r,s+i]],t)}const Eu=(e,t,n)=>e<t?Ni(Math.abs(e-t),1,t)/t:e>n?-Ni(Math.abs(e-n),1,t)/t:0,Kd=(e,t,n=15,r=40)=>{const i=Eu(e.x,r,t.width-r)*n,o=Eu(e.y,r,t.height-r)*n;return[i,o]},Fs=(e,t)=>({x:Math.min(e.x,t.x),y:Math.min(e.y,t.y),x2:Math.max(e.x2,t.x2),y2:Math.max(e.y2,t.y2)}),Wa=({x:e,y:t,width:n,height:r})=>({x:e,y:t,x2:e+n,y2:t+r}),Hs=({x:e,y:t,x2:n,y2:r})=>({x:e,y:t,width:n-e,height:r-t}),ki=(e,t=[0,0])=>{var i,o;const{x:n,y:r}=_l(e)?e.internals.positionAbsolute:Oo(e,t);return{x:n,y:r,width:((i=e.measured)==null?void 0:i.width)??e.width??e.initialWidth??0,height:((o=e.measured)==null?void 0:o.height)??e.height??e.initialHeight??0}},fs=(e,t=[0,0])=>{var i,o;const{x:n,y:r}=_l(e)?e.internals.positionAbsolute:Oo(e,t);return{x:n,y:r,x2:n+(((i=e.measured)==null?void 0:i.width)??e.width??e.initialWidth??0),y2:r+(((o=e.measured)==null?void 0:o.height)??e.height??e.initialHeight??0)}},my=(e,t)=>Hs(Fs(Wa(e),Wa(t))),eo=(e,t)=>{const n=Math.max(0,Math.min(e.x+e.width,t.x+t.width)-Math.max(e.x,t.x)),r=Math.max(0,Math.min(e.y+e.height,t.y+t.height)-Math.max(e.y,t.y));return Math.ceil(n*r)},Nu=e=>Un(e.width)&&Un(e.height)&&Un(e.x)&&Un(e.y),Un=e=>!isNaN(e)&&isFinite(e),yy=(e,t)=>{},Po=(e,t=[1,1])=>({x:t[0]*Math.round(e.x/t[0]),y:t[1]*Math.round(e.y/t[1])}),Ao=({x:e,y:t},[n,r,i],o=!1,s=[1,1])=>{const a={x:(e-n)/i,y:(t-r)/i};return o?Po(a,s):a},hs=({x:e,y:t},[n,r,i])=>({x:e*i+n,y:t*i+r});function ti(e,t){if(typeof e=="number")return Math.floor((t-t/(1+e))*.5);if(typeof e=="string"&&e.endsWith("px")){const n=parseFloat(e);if(!Number.isNaN(n))return Math.floor(n)}if(typeof e=="string"&&e.endsWith("%")){const n=parseFloat(e);if(!Number.isNaN(n))return Math.floor(t*n*.01)}return console.error(`[React Flow] The padding value "${e}" is invalid. Please provide a number or a string with a valid unit (px or %).`),0}function by(e,t,n){if(typeof e=="string"||typeof e=="number"){const r=ti(e,n),i=ti(e,t);return{top:r,right:i,bottom:r,left:i,x:i*2,y:r*2}}if(typeof e=="object"){const r=ti(e.top??e.y??0,n),i=ti(e.bottom??e.y??0,n),o=ti(e.left??e.x??0,t),s=ti(e.right??e.x??0,t);return{top:r,right:s,bottom:i,left:o,x:o+s,y:r+i}}return{top:0,right:0,bottom:0,left:0,x:0,y:0}}function _y(e,t,n,r,i,o){const{x:s,y:a}=hs(e,[t,n,r]),{x:u,y:c}=hs({x:e.x+e.width,y:e.y+e.height},[t,n,r]),d=i-u,h=o-c;return{left:Math.floor(s),top:Math.floor(a),right:Math.floor(d),bottom:Math.floor(h)}}const xl=(e,t,n,r,i,o)=>{const s=by(o,t,n),a=(t-s.x)/e.width,u=(n-s.y)/e.height,c=Math.min(a,u),d=Ni(c,r,i),h=e.x+e.width/2,f=e.y+e.height/2,g=t/2-h*d,p=n/2-f*d,b=_y(e,g,p,d,t,n),y={left:Math.min(b.left-s.left,0),top:Math.min(b.top-s.top,0),right:Math.min(b.right-s.right,0),bottom:Math.min(b.bottom-s.bottom,0)};return{x:g-y.left+y.right,y:p-y.top+y.bottom,zoom:d}},gs=()=>{var e;return typeof navigator<"u"&&((e=navigator==null?void 0:navigator.userAgent)==null?void 0:e.indexOf("Mac"))>=0};function Ii(e){return e!=null&&e!=="parent"}function Gr(e){var t,n;return{width:((t=e.measured)==null?void 0:t.width)??e.width??e.initialWidth??0,height:((n=e.measured)==null?void 0:n.height)??e.height??e.initialHeight??0}}function wy(e){var t,n;return(((t=e.measured)==null?void 0:t.width)??e.width??e.initialWidth)!==void 0&&(((n=e.measured)==null?void 0:n.height)??e.height??e.initialHeight)!==void 0}function xy(e,t={width:0,height:0},n,r,i){const o={...e},s=r.get(n);if(s){const a=s.origin||i;o.x+=s.internals.positionAbsolute.x-(t.width??0)*a[0],o.y+=s.internals.positionAbsolute.y-(t.height??0)*a[1]}return o}function Ey(e){return{...ly,...e||{}}}function Xi(e,{snapGrid:t=[0,0],snapToGrid:n=!1,transform:r,containerBounds:i}){const{x:o,y:s}=vn(e),a=Ao({x:o-((i==null?void 0:i.left)??0),y:s-((i==null?void 0:i.top)??0)},r),{x:u,y:c}=n?Po(a,t):a;return{xSnapped:u,ySnapped:c,...a}}const Bd=e=>({width:e.offsetWidth,height:e.offsetHeight}),Wd=e=>{var t;return((t=e==null?void 0:e.getRootNode)==null?void 0:t.call(e))||(window==null?void 0:window.document)},Ny=["INPUT","SELECT","TEXTAREA"];function Yd(e){var r,i;const t=((i=(r=e.composedPath)==null?void 0:r.call(e))==null?void 0:i[0])||e.target;return(t==null?void 0:t.nodeType)!==1?!1:Ny.includes(t.nodeName)||t.hasAttribute("contenteditable")||!!t.closest(".nokey")}const Xd=e=>"clientX"in e,vn=(e,t)=>{var o,s;const n=Xd(e),r=n?e.clientX:(o=e.touches)==null?void 0:o[0].clientX,i=n?e.clientY:(s=e.touches)==null?void 0:s[0].clientY;return{x:r-((t==null?void 0:t.left)??0),y:i-((t==null?void 0:t.top)??0)}},ku=(e,t,n,r,i)=>{const o=t.querySelectorAll(`.${e}`);return!o||!o.length?null:Array.from(o).map(s=>{const a=s.getBoundingClientRect();return{id:s.getAttribute("data-handleid"),type:e,nodeId:i,position:s.getAttribute("data-handlepos"),x:(a.left-n.left)/r,y:(a.top-n.top)/r,...Bd(s)}})};function ky({sourceX:e,sourceY:t,targetX:n,targetY:r,sourceControlX:i,sourceControlY:o,targetControlX:s,targetControlY:a}){const u=e*.125+i*.375+s*.375+n*.125,c=t*.125+o*.375+a*.375+r*.125,d=Math.abs(u-e),h=Math.abs(c-t);return[u,c,d,h]}function Xo(e,t){return e>=0?.5*e:t*25*Math.sqrt(-e)}function Iu({pos:e,x1:t,y1:n,x2:r,y2:i,c:o}){switch(e){case Pe.Left:return[t-Xo(t-r,o),n];case Pe.Right:return[t+Xo(r-t,o),n];case Pe.Top:return[t,n-Xo(n-i,o)];case Pe.Bottom:return[t,n+Xo(i-n,o)]}}function jd({sourceX:e,sourceY:t,sourcePosition:n=Pe.Bottom,targetX:r,targetY:i,targetPosition:o=Pe.Top,curvature:s=.25}){const[a,u]=Iu({pos:n,x1:e,y1:t,x2:r,y2:i,c:s}),[c,d]=Iu({pos:o,x1:r,y1:i,x2:e,y2:t,c:s}),[h,f,g,p]=ky({sourceX:e,sourceY:t,targetX:r,targetY:i,sourceControlX:a,sourceControlY:u,targetControlX:c,targetControlY:d});return[`M${e},${t} C${a},${u} ${c},${d} ${r},${i}`,h,f,g,p]}function Gd({sourceX:e,sourceY:t,targetX:n,targetY:r}){const i=Math.abs(n-e)/2,o=n<e?n+i:n-i,s=Math.abs(r-t)/2,a=r<t?r+s:r-s;return[o,a,i,s]}function Iy({sourceNode:e,targetNode:t,selected:n=!1,zIndex:r=0,elevateOnSelect:i=!1,zIndexMode:o="basic"}){if(o==="manual")return r;const s=i&&n?r+1e3:r,a=Math.max(e.parentId||i&&e.selected?e.internals.z:0,t.parentId||i&&t.selected?t.internals.z:0);return s+a}function Sy({sourceNode:e,targetNode:t,width:n,height:r,transform:i}){const o=Fs(fs(e),fs(t));o.x===o.x2&&(o.x2+=1),o.y===o.y2&&(o.y2+=1);const s={x:-i[0]/i[2],y:-i[1]/i[2],width:n/i[2],height:r/i[2]};return eo(s,Hs(o))>0}const Ty=({source:e,sourceHandle:t,target:n,targetHandle:r})=>`xy-edge__${e}${t||""}-${n}${r||""}`,Oy=(e,t)=>t.some(n=>n.source===e.source&&n.target===e.target&&(n.sourceHandle===e.sourceHandle||!n.sourceHandle&&!e.sourceHandle)&&(n.targetHandle===e.targetHandle||!n.targetHandle&&!e.targetHandle)),Ki=(e,t,n={})=>{if(!e.source||!e.target)return t;const r=n.getEdgeId||Ty;let i;return Vd(e)?i={...e}:i={...e,id:r(e)},Oy(i,t)?t:(i.sourceHandle===null&&delete i.sourceHandle,i.targetHandle===null&&delete i.targetHandle,t.concat(i))};function Ud({sourceX:e,sourceY:t,targetX:n,targetY:r}){const[i,o,s,a]=Gd({sourceX:e,sourceY:t,targetX:n,targetY:r});return[`M ${e},${t}L ${n},${r}`,i,o,s,a]}const Su={[Pe.Left]:{x:-1,y:0},[Pe.Right]:{x:1,y:0},[Pe.Top]:{x:0,y:-1},[Pe.Bottom]:{x:0,y:1}},Py=({source:e,sourcePosition:t=Pe.Bottom,target:n})=>t===Pe.Left||t===Pe.Right?e.x<n.x?{x:1,y:0}:{x:-1,y:0}:e.y<n.y?{x:0,y:1}:{x:0,y:-1},Tu=(e,t)=>Math.sqrt(Math.pow(t.x-e.x,2)+Math.pow(t.y-e.y,2));function Ay({source:e,sourcePosition:t=Pe.Bottom,target:n,targetPosition:r=Pe.Top,center:i,offset:o,stepPosition:s}){const a=Su[t],u=Su[r],c={x:e.x+a.x*o,y:e.y+a.y*o},d={x:n.x+u.x*o,y:n.y+u.y*o},h=Py({source:c,sourcePosition:t,target:d}),f=h.x!==0?"x":"y",g=h[f];let p=[],b,y;const x={x:0,y:0},w={x:0,y:0},[,,k,m]=Gd({sourceX:e.x,sourceY:e.y,targetX:n.x,targetY:n.y});if(a[f]*u[f]===-1){f==="x"?(b=i.x??c.x+(d.x-c.x)*s,y=i.y??(c.y+d.y)/2):(b=i.x??(c.x+d.x)/2,y=i.y??c.y+(d.y-c.y)*s);const T=[{x:b,y:c.y},{x:b,y:d.y}],O=[{x:c.x,y},{x:d.x,y}];a[f]===g?p=f==="x"?T:O:p=f==="x"?O:T}else{const T=[{x:c.x,y:d.y}],O=[{x:d.x,y:c.y}];if(f==="x"?p=a.x===g?O:T:p=a.y===g?T:O,t===r){const _=Math.abs(e[f]-n[f]);if(_<=o){const E=Math.min(o-1,o-_);a[f]===g?x[f]=(c[f]>e[f]?-1:1)*E:w[f]=(d[f]>n[f]?-1:1)*E}}if(t!==r){const _=f==="x"?"y":"x",E=a[f]===u[_],v=c[_]>d[_],C=c[_]<d[_];(a[f]===1&&(!E&&v||E&&C)||a[f]!==1&&(!E&&C||E&&v))&&(p=f==="x"?T:O)}const S={x:c.x+x.x,y:c.y+x.y},F={x:d.x+w.x,y:d.y+w.y},R=Math.max(Math.abs(S.x-p[0].x),Math.abs(F.x-p[0].x)),N=Math.max(Math.abs(S.y-p[0].y),Math.abs(F.y-p[0].y));R>=N?(b=(S.x+F.x)/2,y=p[0].y):(b=p[0].x,y=(S.y+F.y)/2)}return[[e,{x:c.x+x.x,y:c.y+x.y},...p,{x:d.x+w.x,y:d.y+w.y},n],b,y,k,m]}function Cy(e,t,n,r){const i=Math.min(Tu(e,t)/2,Tu(t,n)/2,r),{x:o,y:s}=t;if(e.x===o&&o===n.x||e.y===s&&s===n.y)return`L${o} ${s}`;if(e.y===s){const c=e.x<n.x?-1:1,d=e.y<n.y?1:-1;return`L ${o+i*c},${s}Q ${o},${s} ${o},${s+i*d}`}const a=e.x<n.x?1:-1,u=e.y<n.y?-1:1;return`L ${o},${s+i*u}Q ${o},${s} ${o+i*a},${s}`}function El({sourceX:e,sourceY:t,sourcePosition:n=Pe.Bottom,targetX:r,targetY:i,targetPosition:o=Pe.Top,borderRadius:s=5,centerX:a,centerY:u,offset:c=20,stepPosition:d=.5}){const[h,f,g,p,b]=Ay({source:{x:e,y:t},sourcePosition:n,target:{x:r,y:i},targetPosition:o,center:{x:a,y:u},offset:c,stepPosition:d});return[h.reduce((x,w,k)=>{let m="";return k>0&&k<h.length-1?m=Cy(h[k-1],w,h[k+1],s):m=`${k===0?"M":"L"}${w.x} ${w.y}`,x+=m,x},""),f,g,p,b]}function Ou(e){var t;return e&&!!(e.internals.handleBounds||(t=e.handles)!=null&&t.length)&&!!(e.measured.width||e.width||e.initialWidth)}function My(e){var h;const{sourceNode:t,targetNode:n}=e;if(!Ou(t)||!Ou(n))return null;const r=t.internals.handleBounds||Pu(t.handles),i=n.internals.handleBounds||Pu(n.handles),o=Au((r==null?void 0:r.source)??[],e.sourceHandle),s=Au(e.connectionMode===Ei.Strict?(i==null?void 0:i.target)??[]:((i==null?void 0:i.target)??[]).concat((i==null?void 0:i.source)??[]),e.targetHandle);if(!o||!s)return(h=e.onError)==null||h.call(e,"008",Ji.error008(o?"target":"source",{id:e.id,sourceHandle:e.sourceHandle,targetHandle:e.targetHandle})),null;const a=(o==null?void 0:o.position)||Pe.Bottom,u=(s==null?void 0:s.position)||Pe.Top,c=Br(t,o,a),d=Br(n,s,u);return{sourceX:c.x,sourceY:c.y,targetX:d.x,targetY:d.y,sourcePosition:a,targetPosition:u}}function Pu(e){if(!e)return null;const t=[],n=[];for(const r of e)r.width=r.width??1,r.height=r.height??1,r.type==="source"?t.push(r):r.type==="target"&&n.push(r);return{source:t,target:n}}function Br(e,t,n=Pe.Left,r=!1){const i=((t==null?void 0:t.x)??0)+e.internals.positionAbsolute.x,o=((t==null?void 0:t.y)??0)+e.internals.positionAbsolute.y,{width:s,height:a}=t??Gr(e);if(r)return{x:i+s/2,y:o+a/2};switch((t==null?void 0:t.position)??n){case Pe.Top:return{x:i+s/2,y:o};case Pe.Right:return{x:i+s,y:o+a/2};case Pe.Bottom:return{x:i+s/2,y:o+a};case Pe.Left:return{x:i,y:o+a/2}}}function Au(e,t){return e&&(t?e.find(n=>n.id===t):e[0])||null}function Ya(e,t){return e?typeof e=="string"?e:`${t?`${t}__`:""}${Object.keys(e).sort().map(r=>`${r}=${e[r]}`).join("&")}`:""}function Dy(e,{id:t,defaultColor:n,defaultMarkerStart:r,defaultMarkerEnd:i}){const o=new Set;return e.reduce((s,a)=>([a.markerStart||r,a.markerEnd||i].forEach(u=>{if(u&&typeof u=="object"){const c=Ya(u,t);o.has(c)||(s.push({id:c,color:u.color||n,...u}),o.add(c))}}),s),[]).sort((s,a)=>s.id.localeCompare(a.id))}const qd=1e3,zy=10,Nl={nodeOrigin:[0,0],nodeExtent:Ka,elevateNodesOnSelect:!0,zIndexMode:"basic",defaults:{}},Ry={...Nl,checkEquality:!0};function kl(e,t){const n={...e};for(const r in t)t[r]!==void 0&&(n[r]=t[r]);return n}function Ly(e,t,n){const r=kl(Nl,n);for(const i of e.values())if(i.parentId)Sl(i,e,t,r);else{const o=Oo(i,r.nodeOrigin),s=Ii(i.extent)?i.extent:r.nodeExtent,a=Kr(o,s,Gr(i));i.internals.positionAbsolute=a}}function Vy(e,t){if(!e.handles)return e.measured?t==null?void 0:t.internals.handleBounds:void 0;const n=[],r=[];for(const i of e.handles){const o={id:i.id,width:i.width??1,height:i.height??1,nodeId:e.id,x:i.x,y:i.y,position:i.position,type:i.type};i.type==="source"?n.push(o):i.type==="target"&&r.push(o)}return{source:n,target:r}}function Il(e){return e==="manual"}function Fy(e,t,n,r={}){var c,d;const i=kl(Ry,r),o={i:0},s=new Map(t),a=i!=null&&i.elevateNodesOnSelect&&!Il(i.zIndexMode)?qd:0;let u=e.length>0;t.clear(),n.clear();for(const h of e){let f=s.get(h.id);if(i.checkEquality&&h===(f==null?void 0:f.internals.userNode))t.set(h.id,f);else{const g=Oo(h,i.nodeOrigin),p=Ii(h.extent)?h.extent:i.nodeExtent,b=Kr(g,p,Gr(h));f={...i.defaults,...h,measured:{width:(c=h.measured)==null?void 0:c.width,height:(d=h.measured)==null?void 0:d.height},internals:{positionAbsolute:b,handleBounds:Vy(h,f),z:Zd(h,a,i.zIndexMode),userNode:h}},t.set(h.id,f)}(f.measured===void 0||f.measured.width===void 0||f.measured.height===void 0)&&!f.hidden&&(u=!1),h.parentId&&Sl(f,t,n,r,o)}return u}function Hy(e,t){if(!e.parentId)return;const n=t.get(e.parentId);n?n.set(e.id,e):t.set(e.parentId,new Map([[e.id,e]]))}function Sl(e,t,n,r,i){const{elevateNodesOnSelect:o,nodeOrigin:s,nodeExtent:a,zIndexMode:u}=kl(Nl,r),c=e.parentId,d=t.get(c);if(!d){console.warn(`Parent node ${c} not found. Please make sure that parent nodes are in front of their child nodes in the nodes array.`);return}Hy(e,n),i&&!d.parentId&&d.internals.rootParentIndex===void 0&&u==="auto"&&(d.internals.rootParentIndex=++i.i,d.internals.z=d.internals.z+i.i*zy),i&&d.internals.rootParentIndex!==void 0&&(i.i=d.internals.rootParentIndex);const h=o&&!Il(u)?qd:0,{x:f,y:g,z:p}=Ky(e,d,s,a,h,u),{positionAbsolute:b}=e.internals,y=f!==b.x||g!==b.y;(y||p!==e.internals.z)&&t.set(e.id,{...e,internals:{...e.internals,positionAbsolute:y?{x:f,y:g}:b,z:p}})}function Zd(e,t,n){const r=Un(e.zIndex)?e.zIndex:0;return Il(n)?r:r+(e.selected?t:0)}function Ky(e,t,n,r,i,o){const{x:s,y:a}=t.internals.positionAbsolute,u=Gr(e),c=Oo(e,n),d=Ii(e.extent)?Kr(c,e.extent,u):c;let h=Kr({x:s+d.x,y:a+d.y},r,u);e.extent==="parent"&&(h=Hd(h,u,t));const f=Zd(e,i,o),g=t.internals.z??0;return{x:h.x,y:h.y,z:g>=f?g+1:f}}function By(e,t,n,r=[0,0]){var s;const i=[],o=new Map;for(const a of e){const u=t.get(a.parentId);if(!u)continue;const c=((s=o.get(a.parentId))==null?void 0:s.expandedRect)??ki(u),d=my(c,a.rect);o.set(a.parentId,{expandedRect:d,parent:u})}return o.size>0&&o.forEach(({expandedRect:a,parent:u},c)=>{var k;const d=u.internals.positionAbsolute,h=Gr(u),f=u.origin??r,g=a.x<d.x?Math.round(Math.abs(d.x-a.x)):0,p=a.y<d.y?Math.round(Math.abs(d.y-a.y)):0,b=Math.max(h.width,Math.round(a.width)),y=Math.max(h.height,Math.round(a.height)),x=(b-h.width)*f[0],w=(y-h.height)*f[1];(g>0||p>0||x||w)&&(i.push({id:c,type:"position",position:{x:u.position.x-g+x,y:u.position.y-p+w}}),(k=n.get(c))==null||k.forEach(m=>{e.some(A=>A.id===m.id)||i.push({id:m.id,type:"position",position:{x:m.position.x+g,y:m.position.y+p}})})),(h.width<a.width||h.height<a.height||g||p)&&i.push({id:c,type:"dimensions",setAttributes:!0,dimensions:{width:b+(g?f[0]*g-x:0),height:y+(p?f[1]*p-w:0)}})}),i}function Wy(e,t,n,r,i,o,s){const a=r==null?void 0:r.querySelector(".xyflow__viewport");let u=!1;if(!a)return{changes:[],updatedInternals:u};const c=[],d=window.getComputedStyle(a),{m22:h}=new window.DOMMatrixReadOnly(d.transform),f=[];for(const g of e.values()){const p=t.get(g.id);if(!p)continue;if(p.hidden){t.set(p.id,{...p,internals:{...p.internals,handleBounds:void 0}}),u=!0;continue}const b=Bd(g.nodeElement),y=p.measured.width!==b.width||p.measured.height!==b.height;if(!!(b.width&&b.height&&(y||!p.internals.handleBounds||g.force))){const w=g.nodeElement.getBoundingClientRect(),k=Ii(p.extent)?p.extent:o;let{positionAbsolute:m}=p.internals;p.parentId&&p.extent==="parent"?m=Hd(m,b,t.get(p.parentId)):k&&(m=Kr(m,k,b));const A={...p,measured:b,internals:{...p.internals,positionAbsolute:m,handleBounds:{source:ku("source",g.nodeElement,w,h,p.id),target:ku("target",g.nodeElement,w,h,p.id)}}};t.set(p.id,A),p.parentId&&Sl(A,t,n,{nodeOrigin:i,zIndexMode:s}),u=!0,y&&(c.push({id:p.id,type:"dimensions",dimensions:b}),p.expandParent&&p.parentId&&f.push({id:p.id,parentId:p.parentId,rect:ki(A,i)}))}}if(f.length>0){const g=By(f,t,n,i);c.push(...g)}return{changes:c,updatedInternals:u}}async function Yy({delta:e,panZoom:t,transform:n,translateExtent:r,width:i,height:o}){if(!t||!e.x&&!e.y)return Promise.resolve(!1);const s=await t.setViewportConstrained({x:n[0]+e.x,y:n[1]+e.y,zoom:n[2]},[[0,0],[i,o]],r),a=!!s&&(s.x!==n[0]||s.y!==n[1]||s.k!==n[2]);return Promise.resolve(a)}function Cu(e,t,n,r,i,o){let s=i;const a=r.get(s)||new Map;r.set(s,a.set(n,t)),s=`${i}-${e}`;const u=r.get(s)||new Map;if(r.set(s,u.set(n,t)),o){s=`${i}-${e}-${o}`;const c=r.get(s)||new Map;r.set(s,c.set(n,t))}}function Xy(e,t,n){e.clear(),t.clear();for(const r of n){const{source:i,target:o,sourceHandle:s=null,targetHandle:a=null}=r,u={edgeId:r.id,source:i,target:o,sourceHandle:s,targetHandle:a},c=`${i}-${s}--${o}-${a}`,d=`${o}-${a}--${i}-${s}`;Cu("source",u,d,e,i,s),Cu("target",u,c,e,o,a),t.set(r.id,r)}}function Qd(e,t){if(!e.parentId)return!1;const n=t.get(e.parentId);return n?n.selected?!0:Qd(n,t):!1}function Mu(e,t,n){var i;let r=e;do{if((i=r==null?void 0:r.matches)!=null&&i.call(r,t))return!0;if(r===n)return!1;r=r==null?void 0:r.parentElement}while(r);return!1}function jy(e,t,n,r){const i=new Map;for(const[o,s]of e)if((s.selected||s.id===r)&&(!s.parentId||!Qd(s,e))&&(s.draggable||t&&typeof s.draggable>"u")){const a=e.get(o);a&&i.set(o,{id:o,position:a.position||{x:0,y:0},distance:{x:n.x-a.internals.positionAbsolute.x,y:n.y-a.internals.positionAbsolute.y},extent:a.extent,parentId:a.parentId,origin:a.origin,expandParent:a.expandParent,internals:{positionAbsolute:a.internals.positionAbsolute||{x:0,y:0}},measured:{width:a.measured.width??0,height:a.measured.height??0}})}return i}function sa({nodeId:e,dragItems:t,nodeLookup:n,dragging:r=!0}){var s,a,u;const i=[];for(const[c,d]of t){const h=(s=n.get(c))==null?void 0:s.internals.userNode;h&&i.push({...h,position:d.position,dragging:r})}if(!e)return[i[0],i];const o=(a=n.get(e))==null?void 0:a.internals.userNode;return[o?{...o,position:((u=t.get(e))==null?void 0:u.position)||o.position,dragging:r}:i[0],i]}function Gy({dragItems:e,snapGrid:t,x:n,y:r}){const i=e.values().next().value;if(!i)return null;const o={x:n-i.distance.x,y:r-i.distance.y},s=Po(o,t);return{x:s.x-o.x,y:s.y-o.y}}function Uy({onNodeMouseDown:e,getStoreItems:t,onDragStart:n,onDrag:r,onDragStop:i}){let o={x:null,y:null},s=0,a=new Map,u=!1,c={x:0,y:0},d=null,h=!1,f=null,g=!1,p=!1,b=null;function y({noDragClassName:w,handleSelector:k,domNode:m,isSelectable:A,nodeId:T,nodeClickDistance:O=0}){f=$t(m);function S({x:_,y:E}){const{nodeLookup:v,nodeExtent:C,snapGrid:I,snapToGrid:M,nodeOrigin:L,onNodeDrag:H,onSelectionDrag:Y,onError:G,updateNodePositions:U}=t();o={x:_,y:E};let Q=!1;const z=a.size>1,P=z&&C?Wa(Vs(a)):null,W=z&&M?Gy({dragItems:a,snapGrid:I,x:_,y:E}):null;for(const[X,j]of a){if(!v.has(X))continue;let J={x:_-j.distance.x,y:E-j.distance.y};M&&(J=W?{x:Math.round(J.x+W.x),y:Math.round(J.y+W.y)}:Po(J,I));let q=null;if(z&&C&&!j.extent&&P){const{positionAbsolute:me}=j.internals,oe=me.x-P.x+C[0][0],ge=me.x+j.measured.width-P.x2+C[1][0],we=me.y-P.y+C[0][1],Se=me.y+j.measured.height-P.y2+C[1][1];q=[[oe,we],[ge,Se]]}const{position:$,positionAbsolute:he}=Fd({nodeId:X,nextPosition:J,nodeLookup:v,nodeExtent:q||C,nodeOrigin:L,onError:G});Q=Q||j.position.x!==$.x||j.position.y!==$.y,j.position=$,j.internals.positionAbsolute=he}if(p=p||Q,!!Q&&(U(a,!0),b&&(r||H||!T&&Y))){const[X,j]=sa({nodeId:T,dragItems:a,nodeLookup:v});r==null||r(b,a,X,j),H==null||H(b,X,j),T||Y==null||Y(b,j)}}async function F(){if(!d)return;const{transform:_,panBy:E,autoPanSpeed:v,autoPanOnNodeDrag:C}=t();if(!C){u=!1,cancelAnimationFrame(s);return}const[I,M]=Kd(c,d,v);(I!==0||M!==0)&&(o.x=(o.x??0)-I/_[2],o.y=(o.y??0)-M/_[2],await E({x:I,y:M})&&S(o)),s=requestAnimationFrame(F)}function R(_){var z;const{nodeLookup:E,multiSelectionActive:v,nodesDraggable:C,transform:I,snapGrid:M,snapToGrid:L,selectNodesOnDrag:H,onNodeDragStart:Y,onSelectionDragStart:G,unselectNodesAndEdges:U}=t();h=!0,(!H||!A)&&!v&&T&&((z=E.get(T))!=null&&z.selected||U()),A&&H&&T&&(e==null||e(T));const Q=Xi(_.sourceEvent,{transform:I,snapGrid:M,snapToGrid:L,containerBounds:d});if(o=Q,a=jy(E,C,Q,T),a.size>0&&(n||Y||!T&&G)){const[P,W]=sa({nodeId:T,dragItems:a,nodeLookup:E});n==null||n(_.sourceEvent,a,P,W),Y==null||Y(_.sourceEvent,P,W),T||G==null||G(_.sourceEvent,W)}}const N=xd().clickDistance(O).on("start",_=>{const{domNode:E,nodeDragThreshold:v,transform:C,snapGrid:I,snapToGrid:M}=t();d=(E==null?void 0:E.getBoundingClientRect())||null,g=!1,p=!1,b=_.sourceEvent,v===0&&R(_),o=Xi(_.sourceEvent,{transform:C,snapGrid:I,snapToGrid:M,containerBounds:d}),c=vn(_.sourceEvent,d)}).on("drag",_=>{const{autoPanOnNodeDrag:E,transform:v,snapGrid:C,snapToGrid:I,nodeDragThreshold:M,nodeLookup:L}=t(),H=Xi(_.sourceEvent,{transform:v,snapGrid:C,snapToGrid:I,containerBounds:d});if(b=_.sourceEvent,(_.sourceEvent.type==="touchmove"&&_.sourceEvent.touches.length>1||T&&!L.has(T))&&(g=!0),!g){if(!u&&E&&h&&(u=!0,F()),!h){const Y=vn(_.sourceEvent,d),G=Y.x-c.x,U=Y.y-c.y;Math.sqrt(G*G+U*U)>M&&R(_)}(o.x!==H.xSnapped||o.y!==H.ySnapped)&&a&&h&&(c=vn(_.sourceEvent,d),S(H))}}).on("end",_=>{if(!(!h||g)&&(u=!1,h=!1,cancelAnimationFrame(s),a.size>0)){const{nodeLookup:E,updateNodePositions:v,onNodeDragStop:C,onSelectionDragStop:I}=t();if(p&&(v(a,!1),p=!1),i||C||!T&&I){const[M,L]=sa({nodeId:T,dragItems:a,nodeLookup:E,dragging:!1});i==null||i(_.sourceEvent,a,M,L),C==null||C(_.sourceEvent,M,L),T||I==null||I(_.sourceEvent,L)}}}).filter(_=>{const E=_.target;return!_.button&&(!w||!Mu(E,`.${w}`,m))&&(!k||Mu(E,k,m))});f.call(N)}function x(){f==null||f.on(".drag",null)}return{update:y,destroy:x}}function qy(e,t,n){const r=[],i={x:e.x-n,y:e.y-n,width:n*2,height:n*2};for(const o of t.values())eo(i,ki(o))>0&&r.push(o);return r}const Zy=250;function Qy(e,t,n,r){var a,u;let i=[],o=1/0;const s=qy(e,n,t+Zy);for(const c of s){const d=[...((a=c.internals.handleBounds)==null?void 0:a.source)??[],...((u=c.internals.handleBounds)==null?void 0:u.target)??[]];for(const h of d){if(r.nodeId===h.nodeId&&r.type===h.type&&r.id===h.id)continue;const{x:f,y:g}=Br(c,h,h.position,!0),p=Math.sqrt(Math.pow(f-e.x,2)+Math.pow(g-e.y,2));p>t||(p<o?(i=[{...h,x:f,y:g}],o=p):p===o&&i.push({...h,x:f,y:g}))}}if(!i.length)return null;if(i.length>1){const c=r.type==="source"?"target":"source";return i.find(d=>d.type===c)??i[0]}return i[0]}function Jd(e,t,n,r,i,o=!1){var c,d,h;const s=r.get(e);if(!s)return null;const a=i==="strict"?(c=s.internals.handleBounds)==null?void 0:c[t]:[...((d=s.internals.handleBounds)==null?void 0:d.source)??[],...((h=s.internals.handleBounds)==null?void 0:h.target)??[]],u=(n?a==null?void 0:a.find(f=>f.id===n):a==null?void 0:a[0])??null;return u&&o?{...u,...Br(s,u,u.position,!0)}:u}function $d(e,t){return e||(t!=null&&t.classList.contains("target")?"target":t!=null&&t.classList.contains("source")?"source":null)}function Jy(e,t){let n=null;return t?n=!0:e&&!t&&(n=!1),n}const ef=()=>!0;function $y(e,{connectionMode:t,connectionRadius:n,handleId:r,nodeId:i,edgeUpdaterType:o,isTarget:s,domNode:a,nodeLookup:u,lib:c,autoPanOnConnect:d,flowId:h,panBy:f,cancelConnection:g,onConnectStart:p,onConnect:b,onConnectEnd:y,isValidConnection:x=ef,onReconnectEnd:w,updateConnection:k,getTransform:m,getFromHandle:A,autoPanSpeed:T,dragThreshold:O=1,handleDomNode:S}){const F=Wd(e.target);let R=0,N;const{x:_,y:E}=vn(e),v=$d(o,S),C=a==null?void 0:a.getBoundingClientRect();let I=!1;if(!C||!v)return;const M=Jd(i,v,r,u,t);if(!M)return;let L=vn(e,C),H=!1,Y=null,G=!1,U=null;function Q(){if(!d||!C)return;const[$,he]=Kd(L,C,T);f({x:$,y:he}),R=requestAnimationFrame(Q)}const z={...M,nodeId:i,type:v,position:M.position},P=u.get(i);let X={inProgress:!0,isValid:null,from:Br(P,z,Pe.Left,!0),fromHandle:z,fromPosition:z.position,fromNode:P,to:L,toHandle:null,toPosition:wu[z.position],toNode:null,pointer:L};function j(){I=!0,k(X),p==null||p(e,{nodeId:i,handleId:r,handleType:v})}O===0&&j();function J($){if(!I){const{x:Se,y:ye}=vn($),ie=Se-_,ae=ye-E;if(!(ie*ie+ae*ae>O*O))return;j()}if(!A()||!z){q($);return}const he=m();L=vn($,C),N=Qy(Ao(L,he,!1,[1,1]),n,u,z),H||(Q(),H=!0);const me=tf($,{handle:N,connectionMode:t,fromNodeId:i,fromHandleId:r,fromType:s?"target":"source",isValidConnection:x,doc:F,lib:c,flowId:h,nodeLookup:u});U=me.handleDomNode,Y=me.connection,G=Jy(!!N,me.isValid);const oe=u.get(i),ge=oe?Br(oe,z,Pe.Left,!0):X.from,we={...X,from:ge,isValid:G,to:me.toHandle&&G?hs({x:me.toHandle.x,y:me.toHandle.y},he):L,toHandle:me.toHandle,toPosition:G&&me.toHandle?me.toHandle.position:wu[z.position],toNode:me.toHandle?u.get(me.toHandle.nodeId):null,pointer:L};k(we),X=we}function q($){if(!("touches"in $&&$.touches.length>0)){if(I){(N||U)&&Y&&G&&(b==null||b(Y));const{inProgress:he,...me}=X,oe={...me,toPosition:X.toHandle?X.toPosition:null};y==null||y($,oe),o&&(w==null||w($,oe))}g(),cancelAnimationFrame(R),H=!1,G=!1,Y=null,U=null,F.removeEventListener("mousemove",J),F.removeEventListener("mouseup",q),F.removeEventListener("touchmove",J),F.removeEventListener("touchend",q)}}F.addEventListener("mousemove",J),F.addEventListener("mouseup",q),F.addEventListener("touchmove",J),F.addEventListener("touchend",q)}function tf(e,{handle:t,connectionMode:n,fromNodeId:r,fromHandleId:i,fromType:o,doc:s,lib:a,flowId:u,isValidConnection:c=ef,nodeLookup:d}){const h=o==="target",f=t?s.querySelector(`.${a}-flow__handle[data-id="${u}-${t==null?void 0:t.nodeId}-${t==null?void 0:t.id}-${t==null?void 0:t.type}"]`):null,{x:g,y:p}=vn(e),b=s.elementFromPoint(g,p),y=b!=null&&b.classList.contains(`${a}-flow__handle`)?b:f,x={handleDomNode:y,isValid:!1,connection:null,toHandle:null};if(y){const w=$d(void 0,y),k=y.getAttribute("data-nodeid"),m=y.getAttribute("data-handleid"),A=y.classList.contains("connectable"),T=y.classList.contains("connectableend");if(!k||!w)return x;const O={source:h?k:r,sourceHandle:h?m:i,target:h?r:k,targetHandle:h?i:m};x.connection=O;const F=A&&T&&(n===Ei.Strict?h&&w==="source"||!h&&w==="target":k!==r||m!==i);x.isValid=F&&c(O),x.toHandle=Jd(k,w,m,d,n,!0)}return x}const Du={onPointerDown:$y,isValid:tf},Ks=e=>({x:e.x,y:e.y,zoom:e.k}),aa=({x:e,y:t,zoom:n})=>Ls.translate(e,t).scale(n),ri=(e,t)=>e.target.closest(`.${t}`),nf=(e,t)=>t===2&&Array.isArray(e)&&e.includes(2),e0=e=>((e*=2)<=1?e*e*e:(e-=2)*e*e+2)/2,la=(e,t=0,n=e0,r=()=>{})=>{const i=typeof t=="number"&&t>0;return i||r(),i?e.transition().duration(t).ease(n).on("end",r):e},rf=e=>{const t=e.ctrlKey&&gs()?10:1;return-e.deltaY*(e.deltaMode===1?.05:e.deltaMode?1:.002)*t};function t0({zoomPanValues:e,noWheelClassName:t,d3Selection:n,d3Zoom:r,panOnScrollMode:i,panOnScrollSpeed:o,zoomOnPinch:s,onPanZoomStart:a,onPanZoom:u,onPanZoomEnd:c}){return d=>{if(ri(d,t))return d.ctrlKey&&d.preventDefault(),!1;d.preventDefault(),d.stopImmediatePropagation();const h=n.property("__zoom").k||1;if(d.ctrlKey&&s){const y=xn(d),x=rf(d),w=h*Math.pow(2,x);r.scaleTo(n,w,y,d);return}const f=d.deltaMode===1?20:1;let g=i===ai.Vertical?0:d.deltaX*f,p=i===ai.Horizontal?0:d.deltaY*f;!gs()&&d.shiftKey&&i!==ai.Vertical&&(g=d.deltaY*f,p=0),r.translateBy(n,-(g/h)*o,-(p/h)*o,{internal:!0});const b=Ks(n.property("__zoom"));clearTimeout(e.panScrollTimeout),e.isPanScrolling?(u==null||u(d,b),e.panScrollTimeout=setTimeout(()=>{c==null||c(d,b),e.isPanScrolling=!1},150)):(e.isPanScrolling=!0,a==null||a(d,b))}}function n0({noWheelClassName:e,preventScrolling:t,d3ZoomHandler:n}){return function(r,i){const o=r.type==="wheel",s=!t&&o&&!r.ctrlKey,a=ri(r,e);if(r.ctrlKey&&o&&a&&r.preventDefault(),s||a)return null;r.preventDefault(),n.call(this,r,i)}}function r0({zoomPanValues:e,onDraggingChange:t,onPanZoomStart:n}){return r=>{var o,s,a;if((o=r.sourceEvent)!=null&&o.internal)return;const i=Ks(r.transform);e.mouseButton=((s=r.sourceEvent)==null?void 0:s.button)||0,e.isZoomingOrPanning=!0,e.prevViewport=i,((a=r.sourceEvent)==null?void 0:a.type)==="mousedown"&&t(!0),n&&(n==null||n(r.sourceEvent,i))}}function i0({zoomPanValues:e,panOnDrag:t,onPaneContextMenu:n,onTransformChange:r,onPanZoom:i}){return o=>{var s,a;e.usedRightMouseButton=!!(n&&nf(t,e.mouseButton??0)),(s=o.sourceEvent)!=null&&s.sync||r([o.transform.x,o.transform.y,o.transform.k]),i&&!((a=o.sourceEvent)!=null&&a.internal)&&(i==null||i(o.sourceEvent,Ks(o.transform)))}}function o0({zoomPanValues:e,panOnDrag:t,panOnScroll:n,onDraggingChange:r,onPanZoomEnd:i,onPaneContextMenu:o}){return s=>{var a;if(!((a=s.sourceEvent)!=null&&a.internal)&&(e.isZoomingOrPanning=!1,o&&nf(t,e.mouseButton??0)&&!e.usedRightMouseButton&&s.sourceEvent&&o(s.sourceEvent),e.usedRightMouseButton=!1,r(!1),i)){const u=Ks(s.transform);e.prevViewport=u,clearTimeout(e.timerId),e.timerId=setTimeout(()=>{i==null||i(s.sourceEvent,u)},n?150:0)}}}function s0({zoomActivationKeyPressed:e,zoomOnScroll:t,zoomOnPinch:n,panOnDrag:r,panOnScroll:i,zoomOnDoubleClick:o,userSelectionActive:s,noWheelClassName:a,noPanClassName:u,lib:c,connectionInProgress:d}){return h=>{var y;const f=e||t,g=n&&h.ctrlKey,p=h.type==="wheel";if(h.button===1&&h.type==="mousedown"&&(ri(h,`${c}-flow__node`)||ri(h,`${c}-flow__edge`)))return!0;if(!r&&!f&&!i&&!o&&!n||s||d&&!p||ri(h,a)&&p||ri(h,u)&&(!p||i&&p&&!e)||!n&&h.ctrlKey&&p)return!1;if(!n&&h.type==="touchstart"&&((y=h.touches)==null?void 0:y.length)>1)return h.preventDefault(),!1;if(!f&&!i&&!g&&p||!r&&(h.type==="mousedown"||h.type==="touchstart")||Array.isArray(r)&&!r.includes(h.button)&&h.type==="mousedown")return!1;const b=Array.isArray(r)&&r.includes(h.button)||!h.button||h.button<=1;return(!h.ctrlKey||p)&&b}}function a0({domNode:e,minZoom:t,maxZoom:n,translateExtent:r,viewport:i,onPanZoom:o,onPanZoomStart:s,onPanZoomEnd:a,onDraggingChange:u}){const c={isZoomingOrPanning:!1,usedRightMouseButton:!1,prevViewport:{},mouseButton:0,timerId:void 0,panScrollTimeout:void 0,isPanScrolling:!1},d=e.getBoundingClientRect(),h=ay().scaleExtent([t,n]).translateExtent(r),f=$t(e).call(h);w({x:i.x,y:i.y,zoom:Ni(i.zoom,t,n)},[[0,0],[d.width,d.height]],r);const g=f.on("wheel.zoom"),p=f.on("dblclick.zoom");h.wheelDelta(rf);function b(N,_){return f?new Promise(E=>{h==null||h.interpolate((_==null?void 0:_.interpolate)==="linear"?Yi:$o).transform(la(f,_==null?void 0:_.duration,_==null?void 0:_.ease,()=>E(!0)),N)}):Promise.resolve(!1)}function y({noWheelClassName:N,noPanClassName:_,onPaneContextMenu:E,userSelectionActive:v,panOnScroll:C,panOnDrag:I,panOnScrollMode:M,panOnScrollSpeed:L,preventScrolling:H,zoomOnPinch:Y,zoomOnScroll:G,zoomOnDoubleClick:U,zoomActivationKeyPressed:Q,lib:z,onTransformChange:P,connectionInProgress:W,paneClickDistance:X,selectionOnDrag:j}){v&&!c.isZoomingOrPanning&&x();const J=C&&!Q&&!v;h.clickDistance(j?1/0:!Un(X)||X<0?0:X);const q=J?t0({zoomPanValues:c,noWheelClassName:N,d3Selection:f,d3Zoom:h,panOnScrollMode:M,panOnScrollSpeed:L,zoomOnPinch:Y,onPanZoomStart:s,onPanZoom:o,onPanZoomEnd:a}):n0({noWheelClassName:N,preventScrolling:H,d3ZoomHandler:g});if(f.on("wheel.zoom",q,{passive:!1}),!v){const he=r0({zoomPanValues:c,onDraggingChange:u,onPanZoomStart:s});h.on("start",he);const me=i0({zoomPanValues:c,panOnDrag:I,onPaneContextMenu:!!E,onPanZoom:o,onTransformChange:P});h.on("zoom",me);const oe=o0({zoomPanValues:c,panOnDrag:I,panOnScroll:C,onPaneContextMenu:E,onPanZoomEnd:a,onDraggingChange:u});h.on("end",oe)}const $=s0({zoomActivationKeyPressed:Q,panOnDrag:I,zoomOnScroll:G,panOnScroll:C,zoomOnDoubleClick:U,zoomOnPinch:Y,userSelectionActive:v,noPanClassName:_,noWheelClassName:N,lib:z,connectionInProgress:W});h.filter($),U?f.on("dblclick.zoom",p):f.on("dblclick.zoom",null)}function x(){h.on("zoom",null)}async function w(N,_,E){const v=aa(N),C=h==null?void 0:h.constrain()(v,_,E);return C&&await b(C),new Promise(I=>I(C))}async function k(N,_){const E=aa(N);return await b(E,_),new Promise(v=>v(E))}function m(N){if(f){const _=aa(N),E=f.property("__zoom");(E.k!==N.zoom||E.x!==N.x||E.y!==N.y)&&(h==null||h.transform(f,_,null,{sync:!0}))}}function A(){const N=f?Rd(f.node()):{x:0,y:0,k:1};return{x:N.x,y:N.y,zoom:N.k}}function T(N,_){return f?new Promise(E=>{h==null||h.interpolate((_==null?void 0:_.interpolate)==="linear"?Yi:$o).scaleTo(la(f,_==null?void 0:_.duration,_==null?void 0:_.ease,()=>E(!0)),N)}):Promise.resolve(!1)}function O(N,_){return f?new Promise(E=>{h==null||h.interpolate((_==null?void 0:_.interpolate)==="linear"?Yi:$o).scaleBy(la(f,_==null?void 0:_.duration,_==null?void 0:_.ease,()=>E(!0)),N)}):Promise.resolve(!1)}function S(N){h==null||h.scaleExtent(N)}function F(N){h==null||h.translateExtent(N)}function R(N){const _=!Un(N)||N<0?0:N;h==null||h.clickDistance(_)}return{update:y,destroy:x,setViewport:k,setViewportConstrained:w,getViewport:A,scaleTo:T,scaleBy:O,setScaleExtent:S,setTranslateExtent:F,syncViewport:m,setClickDistance:R}}var to;(function(e){e.Line="line",e.Handle="handle"})(to||(to={}));const l0=["top-left","top-right","bottom-left","bottom-right"],u0=["top","right","bottom","left"];function c0({width:e,prevWidth:t,height:n,prevHeight:r,affectsX:i,affectsY:o}){const s=e-t,a=n-r,u=[s>0?1:s<0?-1:0,a>0?1:a<0?-1:0];return s&&i&&(u[0]=u[0]*-1),a&&o&&(u[1]=u[1]*-1),u}function zu(e){const t=e.includes("right")||e.includes("left"),n=e.includes("bottom")||e.includes("top"),r=e.includes("left"),i=e.includes("top");return{isHorizontal:t,isVertical:n,affectsX:r,affectsY:i}}function or(e,t){return Math.max(0,t-e)}function sr(e,t){return Math.max(0,e-t)}function jo(e,t,n){return Math.max(0,t-e,e-n)}function Ru(e,t){return e?!t:t}function d0(e,t,n,r,i,o,s,a){let{affectsX:u,affectsY:c}=t;const{isHorizontal:d,isVertical:h}=t,f=d&&h,{xSnapped:g,ySnapped:p}=n,{minWidth:b,maxWidth:y,minHeight:x,maxHeight:w}=r,{x:k,y:m,width:A,height:T,aspectRatio:O}=e;let S=Math.floor(d?g-e.pointerX:0),F=Math.floor(h?p-e.pointerY:0);const R=A+(u?-S:S),N=T+(c?-F:F),_=-o[0]*A,E=-o[1]*T;let v=jo(R,b,y),C=jo(N,x,w);if(s){let L=0,H=0;u&&S<0?L=or(k+S+_,s[0][0]):!u&&S>0&&(L=sr(k+R+_,s[1][0])),c&&F<0?H=or(m+F+E,s[0][1]):!c&&F>0&&(H=sr(m+N+E,s[1][1])),v=Math.max(v,L),C=Math.max(C,H)}if(a){let L=0,H=0;u&&S>0?L=sr(k+S,a[0][0]):!u&&S<0&&(L=or(k+R,a[1][0])),c&&F>0?H=sr(m+F,a[0][1]):!c&&F<0&&(H=or(m+N,a[1][1])),v=Math.max(v,L),C=Math.max(C,H)}if(i){if(d){const L=jo(R/O,x,w)*O;if(v=Math.max(v,L),s){let H=0;!u&&!c||u&&!c&&f?H=sr(m+E+R/O,s[1][1])*O:H=or(m+E+(u?S:-S)/O,s[0][1])*O,v=Math.max(v,H)}if(a){let H=0;!u&&!c||u&&!c&&f?H=or(m+R/O,a[1][1])*O:H=sr(m+(u?S:-S)/O,a[0][1])*O,v=Math.max(v,H)}}if(h){const L=jo(N*O,b,y)/O;if(C=Math.max(C,L),s){let H=0;!u&&!c||c&&!u&&f?H=sr(k+N*O+_,s[1][0])/O:H=or(k+(c?F:-F)*O+_,s[0][0])/O,C=Math.max(C,H)}if(a){let H=0;!u&&!c||c&&!u&&f?H=or(k+N*O,a[1][0])/O:H=sr(k+(c?F:-F)*O,a[0][0])/O,C=Math.max(C,H)}}}F=F+(F<0?C:-C),S=S+(S<0?v:-v),i&&(f?R>N*O?F=(Ru(u,c)?-S:S)/O:S=(Ru(u,c)?-F:F)*O:d?(F=S/O,c=u):(S=F*O,u=c));const I=u?k+S:k,M=c?m+F:m;return{width:A+(u?-S:S),height:T+(c?-F:F),x:o[0]*S*(u?-1:1)+I,y:o[1]*F*(c?-1:1)+M}}const of={width:0,height:0,x:0,y:0},f0={...of,pointerX:0,pointerY:0,aspectRatio:1};function h0(e){return[[0,0],[e.measured.width,e.measured.height]]}function g0(e,t,n){const r=t.position.x+e.position.x,i=t.position.y+e.position.y,o=e.measured.width??0,s=e.measured.height??0,a=n[0]*o,u=n[1]*s;return[[r-a,i-u],[r+o-a,i+s-u]]}function v0({domNode:e,nodeId:t,getStoreItems:n,onChange:r,onEnd:i}){const o=$t(e);let s={controlDirection:zu("bottom-right"),boundaries:{minWidth:0,minHeight:0,maxWidth:Number.MAX_VALUE,maxHeight:Number.MAX_VALUE},resizeDirection:void 0,keepAspectRatio:!1};function a({controlPosition:c,boundaries:d,keepAspectRatio:h,resizeDirection:f,onResizeStart:g,onResize:p,onResizeEnd:b,shouldResize:y}){let x={...of},w={...f0};s={boundaries:d,resizeDirection:f,keepAspectRatio:h,controlDirection:zu(c)};let k,m=null,A=[],T,O,S,F=!1;const R=xd().on("start",N=>{const{nodeLookup:_,transform:E,snapGrid:v,snapToGrid:C,nodeOrigin:I,paneDomNode:M}=n();if(k=_.get(t),!k)return;m=(M==null?void 0:M.getBoundingClientRect())??null;const{xSnapped:L,ySnapped:H}=Xi(N.sourceEvent,{transform:E,snapGrid:v,snapToGrid:C,containerBounds:m});x={width:k.measured.width??0,height:k.measured.height??0,x:k.position.x??0,y:k.position.y??0},w={...x,pointerX:L,pointerY:H,aspectRatio:x.width/x.height},T=void 0,k.parentId&&(k.extent==="parent"||k.expandParent)&&(T=_.get(k.parentId),O=T&&k.extent==="parent"?h0(T):void 0),A=[],S=void 0;for(const[Y,G]of _)if(G.parentId===t&&(A.push({id:Y,position:{...G.position},extent:G.extent}),G.extent==="parent"||G.expandParent)){const U=g0(G,k,G.origin??I);S?S=[[Math.min(U[0][0],S[0][0]),Math.min(U[0][1],S[0][1])],[Math.max(U[1][0],S[1][0]),Math.max(U[1][1],S[1][1])]]:S=U}g==null||g(N,{...x})}).on("drag",N=>{const{transform:_,snapGrid:E,snapToGrid:v,nodeOrigin:C}=n(),I=Xi(N.sourceEvent,{transform:_,snapGrid:E,snapToGrid:v,containerBounds:m}),M=[];if(!k)return;const{x:L,y:H,width:Y,height:G}=x,U={},Q=k.origin??C,{width:z,height:P,x:W,y:X}=d0(w,s.controlDirection,I,s.boundaries,s.keepAspectRatio,Q,O,S),j=z!==Y,J=P!==G,q=W!==L&&j,$=X!==H&&J;if(!q&&!$&&!j&&!J)return;if((q||$||Q[0]===1||Q[1]===1)&&(U.x=q?W:x.x,U.y=$?X:x.y,x.x=U.x,x.y=U.y,A.length>0)){const ge=W-L,we=X-H;for(const Se of A)Se.position={x:Se.position.x-ge+Q[0]*(z-Y),y:Se.position.y-we+Q[1]*(P-G)},M.push(Se)}if((j||J)&&(U.width=j&&(!s.resizeDirection||s.resizeDirection==="horizontal")?z:x.width,U.height=J&&(!s.resizeDirection||s.resizeDirection==="vertical")?P:x.height,x.width=U.width,x.height=U.height),T&&k.expandParent){const ge=Q[0]*(U.width??0);U.x&&U.x<ge&&(x.x=ge,w.x=w.x-(U.x-ge));const we=Q[1]*(U.height??0);U.y&&U.y<we&&(x.y=we,w.y=w.y-(U.y-we))}const he=c0({width:x.width,prevWidth:Y,height:x.height,prevHeight:G,affectsX:s.controlDirection.affectsX,affectsY:s.controlDirection.affectsY}),me={...x,direction:he};(y==null?void 0:y(N,me))!==!1&&(F=!0,p==null||p(N,me),r(U,M))}).on("end",N=>{F&&(b==null||b(N,{...x}),i==null||i({...x}),F=!1)});o.call(R)}function u(){o.on(".drag",null)}return{update:a,destroy:u}}function Tl(){const e={};return[t=>{if(t&&!vh(e))throw new Error(t);return nl(e)},t=>rl(e,t)]}const[sf,p0]=Tl(),[m0,y0]=Tl(),[b0,_0]=Tl();var w0=ue("<div><!></div>");function no(e,t){Ee(t,!0);let n=te(t,"id",3,null),r=te(t,"type",3,"source"),i=te(t,"position",19,()=>Pe.Top),o=te(t,"isConnectableStart",3,!0),s=te(t,"isConnectableEnd",3,!0),a=jr(t,["$$slots","$$events","$$legacy","id","type","position","style","class","isConnectable","isConnectableStart","isConnectableEnd","isValidConnection","onconnect","ondisconnect","children"]);const u=sf("Handle must be used within a Custom Node component"),c=m0("Handle must be used within a Custom Node component");let d=V(()=>r()==="target"),h=V(()=>t.isConnectable!==void 0?t.isConnectable:c.value),f=_r(),g=V(()=>f.ariaLabelConfig),p=null;ll(()=>{if(t.onconnect||t.ondisconnect){f.edges;let _=f.connectionLookup.get(`${u}-${r()}${n()?`-${n()}`:""}`);if(p&&!uy(_,p)){const E=_??new Map;xu(p,E,t.ondisconnect),xu(E,p,t.onconnect)}p=new Map(_)}});let b=V(()=>{if(!f.connection.inProgress)return[!1,!1,!1,!1,null];const{fromHandle:_,toHandle:E,isValid:v}=f.connection,C=_&&_.nodeId===u&&_.type===r()&&_.id===n(),I=E&&E.nodeId===u&&E.type===r()&&E.id===n(),M=f.connectionMode===Ei.Strict?(_==null?void 0:_.type)!==r():u!==(_==null?void 0:_.nodeId)||n()!==(_==null?void 0:_.id);return[!0,C,I,M,I&&v]}),y=V(()=>yr(l(b),5)),x=V(()=>l(y)[0]),w=V(()=>l(y)[1]),k=V(()=>l(y)[2]),m=V(()=>l(y)[3]),A=V(()=>l(y)[4]);function T(_){var v;const E=f.onbeforeconnect?f.onbeforeconnect(_):_;E&&(f.addEdge(E),(v=f.onconnect)==null||v.call(f,_))}function O(_){const E=Xd(_);_.currentTarget&&(E&&_.button===0||!E)&&Du.onPointerDown(_,{handleId:n(),nodeId:u,isTarget:l(d),connectionRadius:f.connectionRadius,domNode:f.domNode,nodeLookup:f.nodeLookup,connectionMode:f.connectionMode,lib:"svelte",autoPanOnConnect:f.autoPanOnConnect,autoPanSpeed:f.autoPanSpeed,flowId:f.flowId,isValidConnection:t.isValidConnection??f.isValidConnection,updateConnection:f.updateConnection,cancelConnection:f.cancelConnection,panBy:f.panBy,onConnect:T,onConnectStart:(v,C)=>{var I;(I=f.onconnectstart)==null||I.call(f,v,{nodeId:C.nodeId,handleId:C.handleId,handleType:C.handleType})},onConnectEnd:(v,C)=>{var I;(I=f.onconnectend)==null||I.call(f,v,C)},getTransform:()=>[f.viewport.x,f.viewport.y,f.viewport.zoom],getFromHandle:()=>f.connection.fromHandle,dragThreshold:f.connectionDragThreshold,handleDomNode:_.currentTarget})}function S(_){var U,Q;if(!u||!f.clickConnectStartHandle&&!o())return;if(!f.clickConnectStartHandle){(U=f.onclickconnectstart)==null||U.call(f,_,{nodeId:u,handleId:n(),handleType:r()}),f.clickConnectStartHandle={nodeId:u,type:r(),id:n()};return}const E=Wd(_.target),v=t.isValidConnection??f.isValidConnection,{connectionMode:C,clickConnectStartHandle:I,flowId:M,nodeLookup:L}=f,{connection:H,isValid:Y}=Du.isValid(_,{handle:{nodeId:u,id:n(),type:r()},connectionMode:C,fromNodeId:I.nodeId,fromHandleId:I.id??null,fromType:I.type,isValidConnection:v,flowId:M,doc:E,lib:"svelte",nodeLookup:L});Y&&H&&T(H);const G=structuredClone(pc(f.connection));delete G.inProgress,G.toPosition=G.toHandle?G.toHandle.position:null,(Q=f.onclickconnectend)==null||Q.call(f,_,G),f.clickConnectStartHandle=null}var F=w0(),R=()=>{};pn(F,()=>({"data-handleid":n(),"data-nodeid":u,"data-handlepos":i(),"data-id":`${f.flowId??""}-${u??""}-${n()??"null"??""}-${r()??""}`,class:["svelte-flow__handle",`svelte-flow__handle-${i()}`,f.noDragClass,f.noPanClass,i(),t.class],onmousedown:O,ontouchstart:O,onclick:f.clickConnect?S:void 0,onkeypress:R,style:t.style,role:"button","aria-label":l(g)["handle.ariaLabel"],tabindex:"-1",...a,[ar]:{valid:l(A),connectingto:l(k),connectingfrom:l(w),source:!l(d),target:l(d),connectablestart:o(),connectableend:s(),connectable:l(h),connectionindicator:l(h)&&(!l(x)||l(m))&&(l(x)||f.clickConnectStartHandle?s():o())}}));var N=se(F);zn(N,()=>t.children??mr),ne(e,F),Ne()}var x0=ue("<!> <!>",1);function af(e,t){Ee(t,!0);let n=te(t,"targetPosition",19,()=>Pe.Top),r=te(t,"sourcePosition",19,()=>Pe.Bottom);var i=x0(),o=Ae(i);no(o,{type:"target",get position(){return n()}});var s=de(o),a=de(s);no(a,{type:"source",get position(){return r()}}),_e(()=>{var u;return We(s,` ${((u=t.data)==null?void 0:u.label)??""} `)}),ne(e,i),Ne()}var E0=ue(" <!>",1);function N0(e,t){Ee(t,!0);let n=te(t,"data",19,()=>({label:"Node"})),r=te(t,"sourcePosition",19,()=>Pe.Bottom);var i=E0(),o=Ae(i),s=de(o);no(s,{type:"source",get position(){return r()}}),_e(()=>{var a;return We(o,`${((a=n())==null?void 0:a.label)??""} `)}),ne(e,i),Ne()}var k0=ue(" <!>",1);function I0(e,t){Ee(t,!0);let n=te(t,"data",19,()=>({label:"Node"})),r=te(t,"targetPosition",19,()=>Pe.Top);var i=k0(),o=Ae(i),s=de(o);no(s,{type:"target",get position(){return r()}}),_e(()=>{var a;return We(o,`${((a=n())==null?void 0:a.label)??""} `)}),ne(e,i),Ne()}function S0(e,t){}function ua(e,t,n){if(!n||!t)return;const r=n==="root"?t:t.querySelector(`.svelte-flow__${n}`);r&&r.appendChild(e)}function ca(e,t){const n=V(_r),r=V(()=>l(n).domNode);let i;return l(r)?ua(e,l(r),t):i=Fc(()=>{je(()=>{ua(e,l(r),t),i==null||i()})}),{async update(o){ua(e,l(r),o)},destroy(){e.parentNode&&e.parentNode.removeChild(e),i==null||i()}}}function T0(){let e=fe(typeof window>"u");if(l(e)){const t=Fc(()=>{je(()=>{K(e,!1),t==null||t()})})}return{get value(){return l(e)}}}const Lu=e=>dy(e),O0=e=>Vd(e);function Cn(e){return e===void 0?void 0:`${e}px`}const vs={ArrowUp:{x:0,y:-1},ArrowDown:{x:0,y:1},ArrowLeft:{x:-1,y:0},ArrowRight:{x:1,y:0}};var P0=ue("<div><!></div>");function A0(e,t){Ee(t,!0);let n=te(t,"x",3,0),r=te(t,"y",3,0),i=te(t,"selectEdgeOnClick",3,!1),o=te(t,"transparent",3,!1),s=jr(t,["$$slots","$$events","$$legacy","x","y","width","height","selectEdgeOnClick","transparent","class","children"]);const a=_r(),u=b0("EdgeLabel must be used within a Custom Edge component");let c=V(()=>{var g;return(g=a.visible.edges.get(u))==null?void 0:g.zIndex});var d=P0(),h=()=>{i()&&u&&a.handleEdgeSelection(u)};pn(d,g=>({class:["svelte-flow__edge-label",{transparent:o()},t.class],tabindex:"-1",onclick:h,...s,[Yn]:g}),[()=>({display:T0().value?"none":void 0,cursor:i()?"pointer":void 0,transform:`translate(-50%, -50%) translate(${n()??""}px,${r()??""}px)`,"pointer-events":"all",width:Cn(t.width),height:Cn(t.height),"z-index":l(c)})],void 0,void 0,"svelte-1g6l770");var f=se(d);zn(f,()=>t.children??mr),Lt(d,(g,p)=>ca==null?void 0:ca(g,p),()=>"edge-labels"),ne(e,d),Ne()}var C0=Ut("<path></path>"),M0=Ut('<path fill="none"></path><!><!>',1);function Bs(e,t){let n=te(t,"interactionWidth",3,20),r=jr(t,["$$slots","$$events","$$legacy","id","path","label","labelX","labelY","labelStyle","markerStart","markerEnd","style","interactionWidth","class"]);var i=M0(),o=Ae(i),s=de(o);{var a=d=>{var h=C0();pn(h,()=>({d:t.path,"stroke-opacity":0,"stroke-width":n(),fill:"none",class:"svelte-flow__edge-interaction",...r})),ne(d,h)};Re(s,d=>{n()>0&&d(a)})}var u=de(s);{var c=d=>{A0(d,{get x(){return t.labelX},get y(){return t.labelY},get style(){return t.labelStyle},selectEdgeOnClick:!0,children:(h,f)=>{var g=tg();_e(()=>We(g,t.label)),ne(h,g)},$$slots:{default:!0}})};Re(u,d=>{t.label&&d(c)})}_e(()=>{be(o,"id",t.id),be(o,"d",t.path),Pt(o,0,Xr(["svelte-flow__edge-path",t.class])),be(o,"marker-start",t.markerStart),be(o,"marker-end",t.markerEnd),Ze(o,t.style)}),ne(e,i)}function lf(e,t){Ee(t,!0);let n=V(()=>{var a;return jd({sourceX:t.sourceX,sourceY:t.sourceY,targetX:t.targetX,targetY:t.targetY,sourcePosition:t.sourcePosition,targetPosition:t.targetPosition,curvature:(a=t.pathOptions)==null?void 0:a.curvature})}),r=V(()=>yr(l(n),3)),i=V(()=>l(r)[0]),o=V(()=>l(r)[1]),s=V(()=>l(r)[2]);Bs(e,{get id(){return t.id},get path(){return l(i)},get labelX(){return l(o)},get labelY(){return l(s)},get label(){return t.label},get labelStyle(){return t.labelStyle},get markerStart(){return t.markerStart},get markerEnd(){return t.markerEnd},get interactionWidth(){return t.interactionWidth},get style(){return t.style}}),Ne()}function D0(e,t){Ee(t,!0);let n=V(()=>El({sourceX:t.sourceX,sourceY:t.sourceY,targetX:t.targetX,targetY:t.targetY,sourcePosition:t.sourcePosition,targetPosition:t.targetPosition})),r=V(()=>yr(l(n),3)),i=V(()=>l(r)[0]),o=V(()=>l(r)[1]),s=V(()=>l(r)[2]);Bs(e,{get path(){return l(i)},get labelX(){return l(o)},get labelY(){return l(s)},get label(){return t.label},get labelStyle(){return t.labelStyle},get markerStart(){return t.markerStart},get markerEnd(){return t.markerEnd},get interactionWidth(){return t.interactionWidth},get style(){return t.style}}),Ne()}function z0(e,t){Ee(t,!0);let n=V(()=>Ud({sourceX:t.sourceX,sourceY:t.sourceY,targetX:t.targetX,targetY:t.targetY})),r=V(()=>yr(l(n),3)),i=V(()=>l(r)[0]),o=V(()=>l(r)[1]),s=V(()=>l(r)[2]);Bs(e,{get path(){return l(i)},get labelX(){return l(o)},get labelY(){return l(s)},get label(){return t.label},get labelStyle(){return t.labelStyle},get markerStart(){return t.markerStart},get markerEnd(){return t.markerEnd},get interactionWidth(){return t.interactionWidth},get style(){return t.style}}),Ne()}function R0(e,t){Ee(t,!0);let n=V(()=>El({sourceX:t.sourceX,sourceY:t.sourceY,targetX:t.targetX,targetY:t.targetY,sourcePosition:t.sourcePosition,targetPosition:t.targetPosition,borderRadius:0})),r=V(()=>yr(l(n),3)),i=V(()=>l(r)[0]),o=V(()=>l(r)[1]),s=V(()=>l(r)[2]);Bs(e,{get path(){return l(i)},get labelX(){return l(o)},get labelY(){return l(s)},get label(){return t.label},get labelStyle(){return t.labelStyle},get markerStart(){return t.markerStart},get markerEnd(){return t.markerEnd},get interactionWidth(){return t.interactionWidth},get style(){return t.style}}),Ne()}var lo,uo;class L0{constructor(t,n){re(this,lo);re(this,uo);Ce(this,lo,t),Ce(this,uo,Ic(n))}get current(){return D(this,uo).call(this),D(this,lo).call(this)}}lo=new WeakMap,uo=new WeakMap;const V0=/\(.+\)/,F0=new Set(["all","print","screen","and","or","not","only"]);class H0 extends L0{constructor(t,n){let r=V0.test(t)||t.split(/[\s,]+/).some(o=>F0.has(o.trim()))?t:`(${t})`;const i=window.matchMedia(r);super(()=>i.matches,o=>Ta(i,"change",o))}}function K0(e,t,n,r){const i=new Map;return wl(e,{x:0,y:0,width:n,height:r},t,!0).forEach(o=>{i.set(o.id,o)}),i}function Vu(e){const{edges:t,defaultEdgeOptions:n,nodeLookup:r,previousEdges:i,connectionMode:o,onerror:s,onlyRenderVisible:a,elevateEdgesOnSelect:u,zIndexMode:c}=e,d=new Map;for(const h of t){const f=r.get(h.source),g=r.get(h.target);if(!f||!g)continue;if(a){const{visibleNodes:y,transform:x,width:w,height:k}=e;if(Sy({sourceNode:f,targetNode:g,width:w,height:k,transform:x}))y.set(f.id,f),y.set(g.id,g);else continue}const p=i.get(h.id);if(p&&h===p.edge&&f==p.sourceNode&&g==p.targetNode){d.set(h.id,p);continue}const b=My({id:h.id,sourceNode:f,targetNode:g,sourceHandle:h.sourceHandle||null,targetHandle:h.targetHandle||null,connectionMode:o,onError:s});b&&d.set(h.id,{...n,...h,...b,zIndex:Iy({selected:h.selected,zIndex:h.zIndex??n.zIndex,sourceNode:f,targetNode:g,elevateOnSelect:u,zIndexMode:c}),sourceNode:f,targetNode:g,edge:h})}return d}const uf={input:N0,output:I0,default:af,group:S0},cf={straight:z0,smoothstep:D0,default:lf,step:R0};function B0(e,t,n,r,i,o){if(t&&!n&&r&&i){const s=Vs(o,{filter:a=>!!((a.width||a.initialWidth)&&(a.height||a.initialHeight))});return xl(s,r,i,.5,2,.1)}else return n??{x:0,y:0,zoom:1}}function W0(e){var n,r,i,o,s,a,u,c,d,h,f,g,p,b,y,x,w,k,m,A,T,O,S,F,R,N,_,E,v,C,I,M,L,H,Y,G,U,Q,z,P,W,X,j,J,q,$,he,me,oe,ge,we,Se,ye,ie,ae,pe,Ie,Te,Be,De,tt,ht,qe,mt,_n,Ln,ce,ke,Xe,nt,Je,gt,At,Dt,ln,Tt;class t{constructor(){re(this,n,V(()=>e.props.id??"1"));re(this,r,fe(null));re(this,i,fe(null));re(this,o,fe(e.width??0));re(this,s,fe(e.height??0));re(this,a,fe(e.props.zIndexMode??"basic"));re(this,u,V(()=>{var Et;const Z=Fy(e.nodes,this.nodeLookup,this.parentLookup,{nodeExtent:this.nodeExtent,nodeOrigin:this.nodeOrigin,elevateNodesOnSelect:e.props.elevateNodesOnSelect??!0,checkEquality:!0,zIndexMode:this.zIndexMode});return this.fitViewQueued&&Z&&((Et=this.fitViewOptions)!=null&&Et.duration?this.resolveFitView():queueMicrotask(()=>{this.resolveFitView()})),Z}));re(this,c,V(()=>this.panZoom!==null));re(this,d,V(()=>(Xy(this.connectionLookup,this.edgeLookup,e.edges),e.edges)));et(this,"_prevSelectedNodes",[]);et(this,"_prevSelectedNodeIds",new Set);re(this,h,V(()=>{const Z=this._prevSelectedNodeIds.size,Et=new Set,Vn=this.nodes.filter(zt=>(zt.selected&&(Et.add(zt.id),this._prevSelectedNodeIds.delete(zt.id)),zt.selected));return(Z!==Et.size||this._prevSelectedNodeIds.size>0)&&(this._prevSelectedNodes=Vn),this._prevSelectedNodeIds=Et,this._prevSelectedNodes}));et(this,"_prevSelectedEdges",[]);et(this,"_prevSelectedEdgeIds",new Set);re(this,f,V(()=>{const Z=this._prevSelectedEdgeIds.size,Et=new Set,Vn=this.edges.filter(zt=>(zt.selected&&(Et.add(zt.id),this._prevSelectedEdgeIds.delete(zt.id)),zt.selected));return(Z!==Et.size||this._prevSelectedEdgeIds.size>0)&&(this._prevSelectedEdges=Vn),this._prevSelectedEdgeIds=Et,this._prevSelectedEdges}));et(this,"selectionChangeHandlers",new Map);et(this,"nodeLookup",new Map);et(this,"parentLookup",new Map);et(this,"connectionLookup",new Map);et(this,"edgeLookup",new Map);et(this,"_prevVisibleEdges",new Map);re(this,g,V(()=>{const{nodes:Z,_edges:Et,_prevVisibleEdges:Vn,nodeLookup:zt,connectionMode:Ys,onerror:Xs,onlyRenderVisibleElements:Qr,defaultEdgeOptions:js,zIndexMode:nr}=this;let Jr,$r;const un={edges:Et,defaultEdgeOptions:js,previousEdges:Vn,nodeLookup:zt,connectionMode:Ys,elevateEdgesOnSelect:e.props.elevateEdgesOnSelect??!0,zIndexMode:nr,onerror:Xs};if(Qr){const{viewport:Ci,width:Mo,height:Do}=this,rr=[Ci.x,Ci.y,Ci.zoom];Jr=K0(zt,rr,Mo,Do),$r=Vu({...un,onlyRenderVisible:!0,visibleNodes:Jr,transform:rr,width:Mo,height:Do})}else Jr=this.nodeLookup,$r=Vu(un);return{nodes:Jr,edges:$r}}));re(this,p,V(()=>e.props.nodesDraggable??!0));re(this,b,V(()=>e.props.nodesConnectable??!0));re(this,y,V(()=>e.props.elementsSelectable??!0));re(this,x,V(()=>e.props.nodesFocusable??!0));re(this,w,V(()=>e.props.edgesFocusable??!0));re(this,k,V(()=>e.props.disableKeyboardA11y??!1));re(this,m,V(()=>e.props.minZoom??.5));re(this,A,V(()=>e.props.maxZoom??2));re(this,T,V(()=>e.props.nodeOrigin??[0,0]));re(this,O,V(()=>e.props.nodeExtent??Ka));re(this,S,V(()=>e.props.translateExtent??Ka));re(this,F,V(()=>e.props.defaultEdgeOptions??{}));re(this,R,V(()=>e.props.nodeDragThreshold??1));re(this,N,V(()=>e.props.autoPanOnNodeDrag??!0));re(this,_,V(()=>e.props.autoPanOnConnect??!0));re(this,E,V(()=>e.props.autoPanOnNodeFocus??!0));re(this,v,V(()=>e.props.autoPanSpeed??15));re(this,C,V(()=>e.props.connectionDragThreshold??1));et(this,"fitViewQueued",e.props.fitView??!1);et(this,"fitViewOptions",e.props.fitViewOptions);et(this,"fitViewResolver",null);re(this,I,V(()=>e.props.snapGrid??null));re(this,M,fe(!1));re(this,L,fe(null));re(this,H,fe(!1));re(this,Y,fe(!1));re(this,G,fe(!1));re(this,U,fe(!1));re(this,Q,fe(!1));re(this,z,fe(null));re(this,P,fe(""));re(this,W,V(()=>e.props.selectionMode??$i.Partial));re(this,X,V(()=>({...uf,...e.props.nodeTypes})));re(this,j,V(()=>({...cf,...e.props.edgeTypes})));re(this,J,V(()=>e.props.noPanClass??"nopan"));re(this,q,V(()=>e.props.noDragClass??"nodrag"));re(this,$,V(()=>e.props.noWheelClass??"nowheel"));re(this,he,V(()=>Ey(e.props.ariaLabelConfig)));re(this,me,fe(B0(this.nodesInitialized,e.props.fitView,e.props.initialViewport,this.width,this.height,this.nodeLookup)));re(this,oe,fe(Ba));re(this,ge,V(()=>this._connection.inProgress?{...this._connection,to:Ao(this._connection.to,[this.viewport.x,this.viewport.y,this.viewport.zoom])}:this._connection));re(this,we,V(()=>e.props.connectionMode??Ei.Strict));re(this,Se,V(()=>e.props.connectionRadius??20));re(this,ye,V(()=>e.props.isValidConnection??(()=>!0)));re(this,ie,V(()=>e.props.selectNodesOnDrag??!0));re(this,ae,V(()=>e.props.defaultMarkerColor===void 0?"#b1b1b7":e.props.defaultMarkerColor));re(this,pe,V(()=>Dy(e.edges,{defaultColor:this.defaultMarkerColor,id:this.flowId,defaultMarkerStart:this.defaultEdgeOptions.markerStart,defaultMarkerEnd:this.defaultEdgeOptions.markerEnd})));re(this,Ie,V(()=>e.props.onlyRenderVisibleElements??!1));re(this,Te,V(()=>e.props.onflowerror??yy));re(this,Be,V(()=>e.props.ondelete));re(this,De,V(()=>e.props.onbeforedelete));re(this,tt,V(()=>e.props.onbeforeconnect));re(this,ht,V(()=>e.props.onconnect));re(this,qe,V(()=>e.props.onconnectstart));re(this,mt,V(()=>e.props.onconnectend));re(this,_n,V(()=>e.props.onbeforereconnect));re(this,Ln,V(()=>e.props.onreconnect));re(this,ce,V(()=>e.props.onreconnectstart));re(this,ke,V(()=>e.props.onreconnectend));re(this,Xe,V(()=>e.props.clickConnect??!0));re(this,nt,V(()=>e.props.onclickconnectstart));re(this,Je,V(()=>e.props.onclickconnectend));re(this,gt,fe(null));re(this,At,V(()=>e.props.onselectiondrag));re(this,Dt,V(()=>e.props.onselectiondragstart));re(this,ln,V(()=>e.props.onselectiondragstop));et(this,"resolveFitView",async()=>{var Z;this.panZoom&&(await vy({nodes:this.nodeLookup,width:this.width,height:this.height,panZoom:this.panZoom,minZoom:this.minZoom,maxZoom:this.maxZoom},this.fitViewOptions),(Z=this.fitViewResolver)==null||Z.resolve(!0),this.fitViewQueued=!1,this.fitViewOptions=void 0,this.fitViewResolver=null)});et(this,"_prefersDark",new H0("(prefers-color-scheme: dark)",e.props.colorModeSSR==="dark"));re(this,Tt,V(()=>e.props.colorMode==="system"?this._prefersDark.current?"dark":"light":e.props.colorMode??"light"))}get flowId(){return l(D(this,n))}set flowId(Z){K(D(this,n),Z)}get domNode(){return l(D(this,r))}set domNode(Z){K(D(this,r),Z)}get panZoom(){return l(D(this,i))}set panZoom(Z){K(D(this,i),Z)}get width(){return l(D(this,o))}set width(Z){K(D(this,o),Z)}get height(){return l(D(this,s))}set height(Z){K(D(this,s),Z)}get zIndexMode(){return l(D(this,a))}set zIndexMode(Z){K(D(this,a),Z)}get nodesInitialized(){return l(D(this,u))}set nodesInitialized(Z){K(D(this,u),Z)}get viewportInitialized(){return l(D(this,c))}set viewportInitialized(Z){K(D(this,c),Z)}get _edges(){return l(D(this,d))}set _edges(Z){K(D(this,d),Z)}get nodes(){return this.nodesInitialized,e.nodes}set nodes(Z){e.nodes=Z}get edges(){return this._edges}set edges(Z){e.edges=Z}get selectedNodes(){return l(D(this,h))}set selectedNodes(Z){K(D(this,h),Z)}get selectedEdges(){return l(D(this,f))}set selectedEdges(Z){K(D(this,f),Z)}get visible(){return l(D(this,g))}set visible(Z){K(D(this,g),Z)}get nodesDraggable(){return l(D(this,p))}set nodesDraggable(Z){K(D(this,p),Z)}get nodesConnectable(){return l(D(this,b))}set nodesConnectable(Z){K(D(this,b),Z)}get elementsSelectable(){return l(D(this,y))}set elementsSelectable(Z){K(D(this,y),Z)}get nodesFocusable(){return l(D(this,x))}set nodesFocusable(Z){K(D(this,x),Z)}get edgesFocusable(){return l(D(this,w))}set edgesFocusable(Z){K(D(this,w),Z)}get disableKeyboardA11y(){return l(D(this,k))}set disableKeyboardA11y(Z){K(D(this,k),Z)}get minZoom(){return l(D(this,m))}set minZoom(Z){K(D(this,m),Z)}get maxZoom(){return l(D(this,A))}set maxZoom(Z){K(D(this,A),Z)}get nodeOrigin(){return l(D(this,T))}set nodeOrigin(Z){K(D(this,T),Z)}get nodeExtent(){return l(D(this,O))}set nodeExtent(Z){K(D(this,O),Z)}get translateExtent(){return l(D(this,S))}set translateExtent(Z){K(D(this,S),Z)}get defaultEdgeOptions(){return l(D(this,F))}set defaultEdgeOptions(Z){K(D(this,F),Z)}get nodeDragThreshold(){return l(D(this,R))}set nodeDragThreshold(Z){K(D(this,R),Z)}get autoPanOnNodeDrag(){return l(D(this,N))}set autoPanOnNodeDrag(Z){K(D(this,N),Z)}get autoPanOnConnect(){return l(D(this,_))}set autoPanOnConnect(Z){K(D(this,_),Z)}get autoPanOnNodeFocus(){return l(D(this,E))}set autoPanOnNodeFocus(Z){K(D(this,E),Z)}get autoPanSpeed(){return l(D(this,v))}set autoPanSpeed(Z){K(D(this,v),Z)}get connectionDragThreshold(){return l(D(this,C))}set connectionDragThreshold(Z){K(D(this,C),Z)}get snapGrid(){return l(D(this,I))}set snapGrid(Z){K(D(this,I),Z)}get dragging(){return l(D(this,M))}set dragging(Z){K(D(this,M),Z)}get selectionRect(){return l(D(this,L))}set selectionRect(Z){K(D(this,L),Z)}get selectionKeyPressed(){return l(D(this,H))}set selectionKeyPressed(Z){K(D(this,H),Z)}get multiselectionKeyPressed(){return l(D(this,Y))}set multiselectionKeyPressed(Z){K(D(this,Y),Z)}get deleteKeyPressed(){return l(D(this,G))}set deleteKeyPressed(Z){K(D(this,G),Z)}get panActivationKeyPressed(){return l(D(this,U))}set panActivationKeyPressed(Z){K(D(this,U),Z)}get zoomActivationKeyPressed(){return l(D(this,Q))}set zoomActivationKeyPressed(Z){K(D(this,Q),Z)}get selectionRectMode(){return l(D(this,z))}set selectionRectMode(Z){K(D(this,z),Z)}get ariaLiveMessage(){return l(D(this,P))}set ariaLiveMessage(Z){K(D(this,P),Z)}get selectionMode(){return l(D(this,W))}set selectionMode(Z){K(D(this,W),Z)}get nodeTypes(){return l(D(this,X))}set nodeTypes(Z){K(D(this,X),Z)}get edgeTypes(){return l(D(this,j))}set edgeTypes(Z){K(D(this,j),Z)}get noPanClass(){return l(D(this,J))}set noPanClass(Z){K(D(this,J),Z)}get noDragClass(){return l(D(this,q))}set noDragClass(Z){K(D(this,q),Z)}get noWheelClass(){return l(D(this,$))}set noWheelClass(Z){K(D(this,$),Z)}get ariaLabelConfig(){return l(D(this,he))}set ariaLabelConfig(Z){K(D(this,he),Z)}get _viewport(){return l(D(this,me))}set _viewport(Z){K(D(this,me),Z)}get viewport(){return e.viewport??this._viewport}set viewport(Z){e.viewport&&(e.viewport=Z),this._viewport=Z}get _connection(){return l(D(this,oe))}set _connection(Z){K(D(this,oe),Z)}get connection(){return l(D(this,ge))}set connection(Z){K(D(this,ge),Z)}get connectionMode(){return l(D(this,we))}set connectionMode(Z){K(D(this,we),Z)}get connectionRadius(){return l(D(this,Se))}set connectionRadius(Z){K(D(this,Se),Z)}get isValidConnection(){return l(D(this,ye))}set isValidConnection(Z){K(D(this,ye),Z)}get selectNodesOnDrag(){return l(D(this,ie))}set selectNodesOnDrag(Z){K(D(this,ie),Z)}get defaultMarkerColor(){return l(D(this,ae))}set defaultMarkerColor(Z){K(D(this,ae),Z)}get markers(){return l(D(this,pe))}set markers(Z){K(D(this,pe),Z)}get onlyRenderVisibleElements(){return l(D(this,Ie))}set onlyRenderVisibleElements(Z){K(D(this,Ie),Z)}get onerror(){return l(D(this,Te))}set onerror(Z){K(D(this,Te),Z)}get ondelete(){return l(D(this,Be))}set ondelete(Z){K(D(this,Be),Z)}get onbeforedelete(){return l(D(this,De))}set onbeforedelete(Z){K(D(this,De),Z)}get onbeforeconnect(){return l(D(this,tt))}set onbeforeconnect(Z){K(D(this,tt),Z)}get onconnect(){return l(D(this,ht))}set onconnect(Z){K(D(this,ht),Z)}get onconnectstart(){return l(D(this,qe))}set onconnectstart(Z){K(D(this,qe),Z)}get onconnectend(){return l(D(this,mt))}set onconnectend(Z){K(D(this,mt),Z)}get onbeforereconnect(){return l(D(this,_n))}set onbeforereconnect(Z){K(D(this,_n),Z)}get onreconnect(){return l(D(this,Ln))}set onreconnect(Z){K(D(this,Ln),Z)}get onreconnectstart(){return l(D(this,ce))}set onreconnectstart(Z){K(D(this,ce),Z)}get onreconnectend(){return l(D(this,ke))}set onreconnectend(Z){K(D(this,ke),Z)}get clickConnect(){return l(D(this,Xe))}set clickConnect(Z){K(D(this,Xe),Z)}get onclickconnectstart(){return l(D(this,nt))}set onclickconnectstart(Z){K(D(this,nt),Z)}get onclickconnectend(){return l(D(this,Je))}set onclickconnectend(Z){K(D(this,Je),Z)}get clickConnectStartHandle(){return l(D(this,gt))}set clickConnectStartHandle(Z){K(D(this,gt),Z)}get onselectiondrag(){return l(D(this,At))}set onselectiondrag(Z){K(D(this,At),Z)}get onselectiondragstart(){return l(D(this,Dt))}set onselectiondragstart(Z){K(D(this,Dt),Z)}get onselectiondragstop(){return l(D(this,ln))}set onselectiondragstop(Z){K(D(this,ln),Z)}get colorMode(){return l(D(this,Tt))}set colorMode(Z){K(D(this,Tt),Z)}resetStoreValues(){this.dragging=!1,this.selectionRect=null,this.selectionRectMode=null,this.selectionKeyPressed=!1,this.multiselectionKeyPressed=!1,this.deleteKeyPressed=!1,this.panActivationKeyPressed=!1,this.zoomActivationKeyPressed=!1,this._connection=Ba,this.clickConnectStartHandle=null,this.viewport=e.props.initialViewport??{x:0,y:0,zoom:1},this.ariaLiveMessage=""}}return n=new WeakMap,r=new WeakMap,i=new WeakMap,o=new WeakMap,s=new WeakMap,a=new WeakMap,u=new WeakMap,c=new WeakMap,d=new WeakMap,h=new WeakMap,f=new WeakMap,g=new WeakMap,p=new WeakMap,b=new WeakMap,y=new WeakMap,x=new WeakMap,w=new WeakMap,k=new WeakMap,m=new WeakMap,A=new WeakMap,T=new WeakMap,O=new WeakMap,S=new WeakMap,F=new WeakMap,R=new WeakMap,N=new WeakMap,_=new WeakMap,E=new WeakMap,v=new WeakMap,C=new WeakMap,I=new WeakMap,M=new WeakMap,L=new WeakMap,H=new WeakMap,Y=new WeakMap,G=new WeakMap,U=new WeakMap,Q=new WeakMap,z=new WeakMap,P=new WeakMap,W=new WeakMap,X=new WeakMap,j=new WeakMap,J=new WeakMap,q=new WeakMap,$=new WeakMap,he=new WeakMap,me=new WeakMap,oe=new WeakMap,ge=new WeakMap,we=new WeakMap,Se=new WeakMap,ye=new WeakMap,ie=new WeakMap,ae=new WeakMap,pe=new WeakMap,Ie=new WeakMap,Te=new WeakMap,Be=new WeakMap,De=new WeakMap,tt=new WeakMap,ht=new WeakMap,qe=new WeakMap,mt=new WeakMap,_n=new WeakMap,Ln=new WeakMap,ce=new WeakMap,ke=new WeakMap,Xe=new WeakMap,nt=new WeakMap,Je=new WeakMap,gt=new WeakMap,At=new WeakMap,Dt=new WeakMap,ln=new WeakMap,Tt=new WeakMap,new t}function _r(){const e=nl(ps);if(!e)throw new Error("To call useStore outside of <SvelteFlow /> you need to wrap your component in a <SvelteFlowProvider />");return e.getStore()}const ps=Symbol();function df(e){const t=W0(e);function n(N){t.nodeTypes={...uf,...N}}function r(N){t.edgeTypes={...cf,...N}}function i(N){t.edges=Ki(N,t.edges)}const o=(N,_=!1)=>{t.nodes=t.nodes.map(E=>{if(t.connection.inProgress&&t.connection.fromNode.id===E.id){const C=t.nodeLookup.get(E.id);C&&(t.connection={...t.connection,from:Br(C,t.connection.fromHandle,Pe.Left,!0)})}const v=N.get(E.id);return v?{...E,position:v.position,dragging:_}:E})};function s(N){var C,I,M;const{changes:_,updatedInternals:E}=Wy(N,t.nodeLookup,t.parentLookup,t.domNode,t.nodeOrigin,t.nodeExtent,t.zIndexMode);if(!E)return;Ly(t.nodeLookup,t.parentLookup,{nodeOrigin:t.nodeOrigin,nodeExtent:t.nodeExtent,zIndexMode:t.zIndexMode}),t.fitViewQueued&&t.resolveFitView();const v=new Map;for(const L of _){const H=(C=t.nodeLookup.get(L.id))==null?void 0:C.internals.userNode;if(!H)continue;const Y={...H};switch(L.type){case"dimensions":{const G={...Y.measured,...L.dimensions};L.setAttributes&&(Y.width=((I=L.dimensions)==null?void 0:I.width)??Y.width,Y.height=((M=L.dimensions)==null?void 0:M.height)??Y.height),Y.measured=G;break}case"position":Y.position=L.position??Y.position;break}v.set(L.id,Y)}t.nodes=t.nodes.map(L=>v.get(L.id)??L)}function a(N){const _=t.fitViewResolver??Promise.withResolvers();return t.fitViewQueued=!0,t.fitViewOptions=N,t.fitViewResolver=_,t.nodes=[...t.nodes],_.promise}async function u(N,_,E){const v=typeof(E==null?void 0:E.zoom)<"u"?E.zoom:t.maxZoom,C=t.panZoom;return C?(await C.setViewport({x:t.width/2-N*v,y:t.height/2-_*v,zoom:v},{duration:E==null?void 0:E.duration,ease:E==null?void 0:E.ease,interpolate:E==null?void 0:E.interpolate}),Promise.resolve(!0)):Promise.resolve(!1)}function c(N,_){const E=t.panZoom;return E?E.scaleBy(N,_):Promise.resolve(!1)}function d(N){return c(1.2,N)}function h(N){return c(1/1.2,N)}function f(N){const _=t.panZoom;_&&(_.setScaleExtent([N,t.maxZoom]),t.minZoom=N)}function g(N){const _=t.panZoom;_&&(_.setScaleExtent([t.minZoom,N]),t.maxZoom=N)}function p(N){const _=t.panZoom;_&&(_.setTranslateExtent(N),t.translateExtent=N)}function b(N,_=null){let E=!1;const v=N.map(C=>(_?_.has(C.id):!0)&&C.selected?(E=!0,{...C,selected:!1}):C);return[E,v]}function y(N){const _=N!=null&&N.nodes?new Set(N.nodes.map(L=>L.id)):null,[E,v]=b(t.nodes,_);E&&(t.nodes=v);const C=N!=null&&N.edges?new Set(N.edges.map(L=>L.id)):null,[I,M]=b(t.edges,C);I&&(t.edges=M)}function x(N){const _=t.multiselectionKeyPressed;t.nodes=t.nodes.map(E=>{const v=N.includes(E.id),C=_&&E.selected||v;return!!E.selected!==C?{...E,selected:C}:E}),_||y({nodes:[]})}function w(N){const _=t.multiselectionKeyPressed;t.edges=t.edges.map(E=>{const v=N.includes(E.id),C=_&&E.selected||v;return!!E.selected!==C?{...E,selected:C}:E}),_||y({edges:[]})}function k(N,_,E){const v=t.nodeLookup.get(N);if(!v){console.warn("012",Ji.error012(N));return}t.selectionRect=null,t.selectionRectMode=null,v.selected?(_||v.selected&&t.multiselectionKeyPressed)&&(y({nodes:[v],edges:[]}),requestAnimationFrame(()=>E==null?void 0:E.blur())):x([N])}function m(N){const _=t.edgeLookup.get(N);if(!_){console.warn("012",Ji.error012(N));return}(_.selectable||t.elementsSelectable&&typeof _.selectable>"u")&&(t.selectionRect=null,t.selectionRectMode=null,_.selected?_.selected&&t.multiselectionKeyPressed&&y({nodes:[],edges:[_]}):w([N]))}function A(N,_){const{nodeExtent:E,snapGrid:v,nodeOrigin:C,nodeLookup:I,nodesDraggable:M,onerror:L}=t,H=new Map,Y=(v==null?void 0:v[0])??5,G=(v==null?void 0:v[1])??5,U=N.x*Y*_,Q=N.y*G*_;for(const z of I.values()){if(!(z.selected&&(z.draggable||M&&typeof z.draggable>"u")))continue;let W={x:z.internals.positionAbsolute.x+U,y:z.internals.positionAbsolute.y+Q};v&&(W=Po(W,v));const{position:X,positionAbsolute:j}=Fd({nodeId:z.id,nextPosition:W,nodeLookup:I,nodeExtent:E,nodeOrigin:C,onError:L});z.position=X,z.internals.positionAbsolute=j,H.set(z.id,z)}o(H)}function T(N){return Yy({delta:N,panZoom:t.panZoom,transform:[t.viewport.x,t.viewport.y,t.viewport.zoom],translateExtent:t.translateExtent,width:t.width,height:t.height})}const O=N=>{t._connection={...N}};function S(){t._connection=Ba}function F(){t.resetStoreValues(),y()}return Object.assign(t,{setNodeTypes:n,setEdgeTypes:r,addEdge:i,updateNodePositions:o,updateNodeInternals:s,zoomIn:d,zoomOut:h,fitView:a,setCenter:u,setMinZoom:f,setMaxZoom:g,setTranslateExtent:p,unselectNodesAndEdges:y,addSelectedNodes:x,addSelectedEdges:w,handleNodeSelection:k,handleEdgeSelection:m,moveSelectedNodes:A,panBy:T,updateConnection:O,cancelConnection:S,reset:F})}function da(e,t){const{minZoom:n,maxZoom:r,initialViewport:i,onPanZoomStart:o,onPanZoom:s,onPanZoomEnd:a,translateExtent:u,setPanZoomInstance:c,onDraggingChange:d,onTransformChange:h}=t,f=a0({domNode:e,minZoom:n,maxZoom:r,translateExtent:u,viewport:i,onPanZoom:s,onPanZoomStart:o,onPanZoomEnd:a,onDraggingChange:d}),g=f.getViewport();return(i.x!==g.x||i.y!==g.y||i.zoom!==g.zoom)&&h([g.x,g.y,g.zoom]),c(f),f.update(t),{update(p){f.update(p)}}}var Y0=ue('<div class="svelte-flow__zoom svelte-flow__container"><!></div>');function X0(e,t){Ee(t,!0);let n=te(t,"store",15),r=V(()=>n().panActivationKeyPressed||t.panOnDrag),i=V(()=>n().panActivationKeyPressed||t.panOnScroll);const{viewport:o}=n();let s=!1;je(()=>{var c;!s&&n().viewportInitialized&&((c=t.oninit)==null||c.call(t),s=!0)});var a=Y0(),u=se(a);zn(u,()=>t.children),Lt(a,(c,d)=>da==null?void 0:da(c,d),()=>({viewport:n().viewport,minZoom:n().minZoom,maxZoom:n().maxZoom,initialViewport:o,onDraggingChange:c=>{n(n().dragging=c,!0)},setPanZoomInstance:c=>{n(n().panZoom=c,!0)},onPanZoomStart:t.onmovestart,onPanZoom:t.onmove,onPanZoomEnd:t.onmoveend,zoomOnScroll:t.zoomOnScroll,zoomOnDoubleClick:t.zoomOnDoubleClick,zoomOnPinch:t.zoomOnPinch,panOnScroll:l(i),panOnDrag:l(r),panOnScrollSpeed:t.panOnScrollSpeed,panOnScrollMode:t.panOnScrollMode,zoomActivationKeyPressed:n().zoomActivationKeyPressed,preventScrolling:typeof t.preventScrolling=="boolean"?t.preventScrolling:!0,noPanClassName:n().noPanClass,noWheelClassName:n().noWheelClass,userSelectionActive:!!n().selectionRect,translateExtent:n().translateExtent,lib:"svelte",paneClickDistance:t.paneClickDistance,selectionOnDrag:t.selectionOnDrag,onTransformChange:c=>{n(n().viewport={x:c[0],y:c[1],zoom:c[2]},!0)},connectionInProgress:n().connection.inProgress})),ne(e,a),Ne()}function Fu(e,t){return n=>{n.target===t&&(e==null||e(n))}}function Hu(e){return t=>{const n=e.has(t.id);return!!t.selected!==n?{...t,selected:n}:t}}function Ku(e,t){if(e.size!==t.size)return!1;for(const n of e)if(!t.has(n))return!1;return!0}var j0=ue("<div><!></div>");function G0(e,t){Ee(t,!0);let n=te(t,"store",15),r=te(t,"panOnDrag",3,!0),i=te(t,"paneClickDistance",3,1),o,s=null,a=new Set,u=new Set,c=V(()=>n().panActivationKeyPressed||r()),d=V(()=>n().selectionKeyPressed||!!n().selectionRect||t.selectionOnDrag&&l(c)!==!0),h=V(()=>n().elementsSelectable&&(l(d)||n().selectionRectMode==="user")),f=!1;function g(S){var v,C;if(s=o==null?void 0:o.getBoundingClientRect(),!s)return;const F=S.target===o,R=!F&&!!S.target.closest(".nokey"),N=t.selectionOnDrag&&F||n().selectionKeyPressed;if(R||!l(d)||!N||S.button!==0||!S.isPrimary)return;(C=(v=S.target)==null?void 0:v.setPointerCapture)==null||C.call(v,S.pointerId),f=!1;const{x:_,y:E}=vn(S,s);n(n().selectionRect={width:0,height:0,startX:_,startY:E,x:_,y:E},!0),F||(S.stopPropagation(),S.preventDefault())}function p(S){var I;if(!l(d)||!s||!n().selectionRect)return;const F=vn(S,s),{startX:R=0,startY:N=0}=n().selectionRect;if(!f){const M=n().selectionKeyPressed?0:i();if(Math.hypot(F.x-R,F.y-N)<=M)return;n().unselectNodesAndEdges(),(I=t.onselectionstart)==null||I.call(t,S)}f=!0;const _={...n().selectionRect,x:F.x<R?F.x:R,y:F.y<N?F.y:N,width:Math.abs(F.x-R),height:Math.abs(F.y-N)},E=a,v=u;a=new Set(wl(n().nodeLookup,_,[n().viewport.x,n().viewport.y,n().viewport.zoom],n().selectionMode===$i.Partial,!0).map(M=>M.id));const C=n().defaultEdgeOptions.selectable??!0;u=new Set;for(const M of a){const L=n().connectionLookup.get(M);if(L)for(const{edgeId:H}of L.values()){const Y=n().edgeLookup.get(H);Y&&(Y.selectable??C)&&u.add(H)}}Ku(E,a)||n(n().nodes=n().nodes.map(Hu(a)),!0),Ku(v,u)||n(n().edges=n().edges.map(Hu(u)),!0),n(n().selectionRectMode="user",!0),n(n().selectionRect=_,!0)}function b(S){var F,R,N;S.button===0&&((R=(F=S.target)==null?void 0:F.releasePointerCapture)==null||R.call(F,S.pointerId),!f&&S.target===o&&(w==null||w(S)),n(n().selectionRect=null,!0),f&&n(n().selectionRectMode=a.size>0?"nodes":null,!0),f&&((N=t.onselectionend)==null||N.call(t,S)))}const y=S=>{var F;if(Array.isArray(l(c))&&l(c).includes(2)){S.preventDefault();return}(F=t.onpanecontextmenu)==null||F.call(t,{event:S})},x=S=>{f&&(S.stopPropagation(),f=!1)};function w(S){var F;if(f||n().connection.inProgress){f=!1;return}(F=t.onpaneclick)==null||F.call(t,{event:S}),n().unselectNodesAndEdges(),n(n().selectionRectMode=null,!0),n(n().selectionRect=null,!0)}var k=j0();let m;var A=V(()=>l(h)?void 0:Fu(w,o));k.__click=function(...S){var F;(F=l(A))==null||F.apply(this,S)},k.__pointermove=function(...S){var F;(F=l(h)?p:void 0)==null||F.apply(this,S)},k.__pointerup=function(...S){var F;(F=l(h)?b:void 0)==null||F.apply(this,S)};var T=V(()=>Fu(y,o));k.__contextmenu=function(...S){var F;(F=l(T))==null||F.apply(this,S)};var O=se(k);zn(O,()=>t.children),ut(k,S=>o=S,()=>o),_e(S=>m=Pt(k,1,"svelte-flow__pane svelte-flow__container",null,m,S),[()=>({draggable:r()===!0||Array.isArray(r())&&r().includes(0),dragging:n().dragging,selection:l(d)})]),Ke("pointerdown",k,function(...S){var F;(F=l(h)?g:void 0)==null||F.apply(this,S)},!0),Ke("click",k,function(...S){var F;(F=l(h)?x:void 0)==null||F.apply(this,S)},!0),ne(e,k),Ne()}pt(["click","pointermove","pointerup","contextmenu"]);var U0=ue('<div class="svelte-flow__viewport xyflow__viewport svelte-flow__container"><!></div>');function q0(e,t){Ee(t,!0);var n=U0();let r;var i=se(n);zn(i,()=>t.children),_e(()=>r=Ze(n,"",r,{transform:`translate(${t.store.viewport.x??""}px, ${t.store.viewport.y??""}px) scale(${t.store.viewport.zoom??""})`})),ne(e,n),Ne()}function li(e,t){const{store:n,onDrag:r,onDragStart:i,onDragStop:o,onNodeMouseDown:s}=t,a=Uy({onDrag:r,onDragStart:i,onDragStop:o,onNodeMouseDown:s,getStoreItems:()=>{const{snapGrid:c,viewport:d}=n;return{nodes:n.nodes,nodeLookup:n.nodeLookup,edges:n.edges,nodeExtent:n.nodeExtent,snapGrid:c||[0,0],snapToGrid:!!c,nodeOrigin:n.nodeOrigin,multiSelectionActive:n.multiselectionKeyPressed,domNode:n.domNode,transform:[d.x,d.y,d.zoom],autoPanOnNodeDrag:n.autoPanOnNodeDrag,nodesDraggable:n.nodesDraggable,selectNodesOnDrag:n.selectNodesOnDrag,nodeDragThreshold:n.nodeDragThreshold,unselectNodesAndEdges:n.unselectNodesAndEdges,updateNodePositions:n.updateNodePositions,onSelectionDrag:n.onselectiondrag,onSelectionDragStart:n.onselectiondragstart,onSelectionDragStop:n.onselectiondragstop,panBy:n.panBy}}});function u(c,d){if(d.disabled){a.destroy();return}a.update({domNode:c,noDragClassName:d.noDragClass,handleSelector:d.handleSelector,nodeId:d.nodeId,isSelectable:d.isSelectable,nodeClickDistance:d.nodeClickDistance})}return u(e,t),{update(c){u(e,c)},destroy(){a.destroy()}}}var Z0=ue('<div aria-live="assertive" aria-atomic="true" class="a11y-live-msg svelte-1l9nrps"> </div>'),Q0=ue('<div class="a11y-hidden svelte-1l9nrps"> </div> <div class="a11y-hidden svelte-1l9nrps"> </div> <!>',1);function J0(e,t){Ee(t,!0);var n=Q0(),r=Ae(n),i=se(r),o=de(r,2),s=se(o),a=de(o,2);{var u=c=>{var d=Z0(),h=se(d);_e(()=>{be(d,"id",`${$0}-${t.store.flowId}`),We(h,t.store.ariaLiveMessage)}),ne(c,d)};Re(a,c=>{t.store.disableKeyboardA11y||c(u)})}_e(()=>{be(r,"id",`${ff}-${t.store.flowId}`),We(i,t.store.disableKeyboardA11y?t.store.ariaLabelConfig["node.a11yDescription.default"]:t.store.ariaLabelConfig["node.a11yDescription.keyboardDisabled"]),be(o,"id",`${hf}-${t.store.flowId}`),We(s,t.store.ariaLabelConfig["edge.a11yDescription.default"])}),ne(e,n),Ne()}const ff="svelte-flow__node-desc",hf="svelte-flow__edge-desc",$0="svelte-flow__aria-live";var eb=ue("<div><!></div>");function tb(e,t){Ee(t,!0);let n=te(t,"store",15),r=V(()=>Ct(t.node.data,()=>({}),!0)),i=V(()=>Ct(t.node.selected,!1)),o=V(()=>t.node.draggable),s=V(()=>t.node.selectable),a=V(()=>Ct(t.node.deletable,!0)),u=V(()=>t.node.connectable),c=V(()=>t.node.focusable),d=V(()=>Ct(t.node.hidden,!1)),h=V(()=>Ct(t.node.dragging,!1)),f=V(()=>Ct(t.node.style,"")),g=V(()=>t.node.class),p=V(()=>Ct(t.node.type,"default")),b=V(()=>t.node.parentId),y=V(()=>t.node.sourcePosition),x=V(()=>t.node.targetPosition),w=V(()=>Ct(t.node.measured,()=>({width:0,height:0}),!0).width),k=V(()=>Ct(t.node.measured,()=>({width:0,height:0}),!0).height),m=V(()=>t.node.initialWidth),A=V(()=>t.node.initialHeight),T=V(()=>t.node.width),O=V(()=>t.node.height),S=V(()=>t.node.dragHandle),F=V(()=>Ct(t.node.internals.z,0)),R=V(()=>t.node.internals.positionAbsolute.x),N=V(()=>t.node.internals.positionAbsolute.y),_=V(()=>t.node.internals.userNode),{id:E}=t.node,v=V(()=>l(o)??n().nodesDraggable),C=V(()=>l(s)??n().elementsSelectable),I=V(()=>l(u)??n().nodesConnectable),M=V(()=>wy(t.node)),L=V(()=>!!t.node.internals.handleBounds),H=V(()=>l(M)&&l(L)),Y=V(()=>l(c)??n().nodesFocusable);function G(ye){return n().parentLookup.has(ye)}let U=V(()=>G(E)),Q=fe(null),z=null,P=l(p),W=l(y),X=l(x),j=V(()=>n().nodeTypes[l(p)]??af),J=V(()=>n().ariaLabelConfig),q={get value(){return l(I)}};p0(E),y0(q);let $=V(()=>{const ye=l(w)===void 0?l(T)??l(m):l(T),ie=l(k)===void 0?l(O)??l(A):l(O);if(!(ye===void 0&&ie===void 0&&l(f)===void 0))return`${l(f)};${ye?`width:${Cn(ye)};`:""}${ie?`height:${Cn(ie)};`:""}`});je(()=>{(l(p)!==P||l(y)!==W||l(x)!==X)&&l(Q)!==null&&requestAnimationFrame(()=>{l(Q)!==null&&n().updateNodeInternals(new Map([[E,{id:E,nodeElement:l(Q),force:!0}]]))}),P=l(p),W=l(y),X=l(x)}),je(()=>{t.resizeObserver&&(!l(H)||l(Q)!==z)&&(z&&t.resizeObserver.unobserve(z),l(Q)&&t.resizeObserver.observe(l(Q)),z=l(Q))}),Io(()=>{var ye;z&&((ye=t.resizeObserver)==null||ye.unobserve(z))});function he(ye){var ie;l(C)&&(!n().selectNodesOnDrag||!l(v)||n().nodeDragThreshold>0)&&n().handleNodeSelection(E),(ie=t.onnodeclick)==null||ie.call(t,{node:l(_),event:ye})}function me(ye){if(!(Yd(ye)||n().disableKeyboardA11y))if(Ld.includes(ye.key)&&l(C)){const ie=ye.key==="Escape";n().handleNodeSelection(E,ie,l(Q))}else l(v)&&t.node.selected&&Object.prototype.hasOwnProperty.call(vs,ye.key)&&(ye.preventDefault(),n(n().ariaLiveMessage=l(J)["node.a11yDescription.ariaLiveMessage"]({direction:ye.key.replace("Arrow","").toLowerCase(),x:~~t.node.internals.positionAbsolute.x,y:~~t.node.internals.positionAbsolute.y}),!0),n().moveSelectedNodes(vs[ye.key],ye.shiftKey?4:1))}const oe=()=>{var Ie;if(n().disableKeyboardA11y||!n().autoPanOnNodeFocus||!((Ie=l(Q))!=null&&Ie.matches(":focus-visible")))return;const{width:ye,height:ie,viewport:ae}=n();wl(new Map([[E,t.node]]),{x:0,y:0,width:ye,height:ie},[ae.x,ae.y,ae.zoom],!0).length>0||n().setCenter(t.node.position.x+(t.node.measured.width??0)/2,t.node.position.y+(t.node.measured.height??0)/2,{zoom:ae.zoom})};var ge=$e(),we=Ae(ge);{var Se=ye=>{var ie=eb();pn(ie,()=>({"data-id":E,class:["svelte-flow__node",`svelte-flow__node-${l(p)}`,l(g)],style:l($),onclick:he,onpointerenter:t.onnodepointerenter?pe=>t.onnodepointerenter({node:l(_),event:pe}):void 0,onpointerleave:t.onnodepointerleave?pe=>t.onnodepointerleave({node:l(_),event:pe}):void 0,onpointermove:t.onnodepointermove?pe=>t.onnodepointermove({node:l(_),event:pe}):void 0,oncontextmenu:t.onnodecontextmenu?pe=>t.onnodecontextmenu({node:l(_),event:pe}):void 0,onkeydown:l(Y)?me:void 0,onfocus:l(Y)?oe:void 0,tabIndex:l(Y)?0:void 0,role:t.node.ariaRole??(l(Y)?"group":void 0),"aria-roledescription":"node","aria-describedby":n().disableKeyboardA11y?void 0:`${ff}-${n().flowId}`,...t.node.domAttributes,[ar]:{dragging:l(h),selected:l(i),draggable:l(v),connectable:l(I),selectable:l(C),nopan:l(v),parent:l(U)},[Yn]:{"z-index":l(F),transform:`translate(${l(R)??""}px, ${l(N)??""}px)`,visibility:l(M)?"visible":"hidden"}}));var ae=se(ie);Ps(ae,()=>l(j),(pe,Ie)=>{Ie(pe,{get data(){return l(r)},get id(){return E},get selected(){return l(i)},get selectable(){return l(C)},get deletable(){return l(a)},get sourcePosition(){return l(y)},get targetPosition(){return l(x)},get zIndex(){return l(F)},get dragging(){return l(h)},get draggable(){return l(v)},get dragHandle(){return l(S)},get parentId(){return l(b)},get type(){return l(p)},get isConnectable(){return l(I)},get positionAbsoluteX(){return l(R)},get positionAbsoluteY(){return l(N)},get width(){return l(T)},get height(){return l(O)}})}),Lt(ie,(pe,Ie)=>li==null?void 0:li(pe,Ie),()=>({nodeId:E,isSelectable:l(C),disabled:!l(v),handleSelector:l(S),noDragClass:n().noDragClass,nodeClickDistance:t.nodeClickDistance,onNodeMouseDown:n().handleNodeSelection,onDrag:(pe,Ie,Te,Be)=>{var De;(De=t.onnodedrag)==null||De.call(t,{event:pe,targetNode:Te,nodes:Be})},onDragStart:(pe,Ie,Te,Be)=>{var De;(De=t.onnodedragstart)==null||De.call(t,{event:pe,targetNode:Te,nodes:Be})},onDragStop:(pe,Ie,Te,Be)=>{var De;(De=t.onnodedragstop)==null||De.call(t,{event:pe,targetNode:Te,nodes:Be})},store:n()})),ut(ie,pe=>K(Q,pe),()=>l(Q)),ne(ye,ie)};Re(we,ye=>{l(d)||ye(Se)})}ne(e,ge),Ne()}var nb=ue('<div class="svelte-flow__nodes"></div>');function rb(e,t){Ee(t,!0);let n=te(t,"store",15);const r=typeof ResizeObserver>"u"?null:new ResizeObserver(o=>{const s=new Map;o.forEach(a=>{const u=a.target.getAttribute("data-id");s.set(u,{id:u,nodeElement:a.target,force:!0})}),n().updateNodeInternals(s)});Io(()=>{r==null||r.disconnect()});var i=nb();ot(i,21,()=>n().visible.nodes.values(),o=>o.id,(o,s)=>{tb(o,{get node(){return l(s)},get resizeObserver(){return r},get nodeClickDistance(){return t.nodeClickDistance},get onnodeclick(){return t.onnodeclick},get onnodepointerenter(){return t.onnodepointerenter},get onnodepointermove(){return t.onnodepointermove},get onnodepointerleave(){return t.onnodepointerleave},get onnodedrag(){return t.onnodedrag},get onnodedragstart(){return t.onnodedragstart},get onnodedragstop(){return t.onnodedragstop},get onnodecontextmenu(){return t.onnodecontextmenu},get store(){return n()},set store(a){n(a)}})}),ne(e,i),Ne()}var ib=Ut('<svg class="svelte-flow__edge-wrapper"><g><!></g></svg>');function ob(e,t){Ee(t,!0);let n=V(()=>t.edge.id),r=V(()=>t.edge.source),i=V(()=>t.edge.target),o=V(()=>t.edge.sourceX),s=V(()=>t.edge.sourceY),a=V(()=>t.edge.targetX),u=V(()=>t.edge.targetY),c=V(()=>t.edge.sourcePosition),d=V(()=>t.edge.targetPosition),h=V(()=>Ct(t.edge.animated,!1)),f=V(()=>Ct(t.edge.selected,!1)),g=V(()=>t.edge.label),p=V(()=>t.edge.labelStyle),b=V(()=>Ct(t.edge.data,()=>({}),!0)),y=V(()=>t.edge.style),x=V(()=>t.edge.interactionWidth),w=V(()=>Ct(t.edge.type,"default")),k=V(()=>t.edge.sourceHandle),m=V(()=>t.edge.targetHandle),A=V(()=>t.edge.markerStart),T=V(()=>t.edge.markerEnd),O=V(()=>t.edge.selectable),S=V(()=>t.edge.focusable),F=V(()=>Ct(t.edge.deletable,!0)),R=V(()=>t.edge.hidden),N=V(()=>t.edge.zIndex),_=V(()=>t.edge.class),E=V(()=>t.edge.ariaLabel);_0(l(n));let v=null,C=V(()=>l(O)??t.store.elementsSelectable),I=V(()=>l(S)??t.store.edgesFocusable),M=V(()=>t.store.edgeTypes[l(w)]??lf),L=V(()=>l(A)?`url('#${Ya(l(A),t.store.flowId)}')`:void 0),H=V(()=>l(T)?`url('#${Ya(l(T),t.store.flowId)}')`:void 0);function Y(W){var j;const X=t.store.edgeLookup.get(l(n));X&&(l(C)&&t.store.handleEdgeSelection(l(n)),(j=t.onedgeclick)==null||j.call(t,{event:W,edge:X}))}function G(W,X){const j=t.store.edgeLookup.get(l(n));j&&X({event:W,edge:j})}function U(W){if(!t.store.disableKeyboardA11y&&Ld.includes(W.key)&&l(C)){const{unselectNodesAndEdges:X,addSelectedEdges:j}=t.store;W.key==="Escape"?(v==null||v.blur(),X({edges:[t.edge]})):j([l(n)])}}var Q=$e(),z=Ae(Q);{var P=W=>{var X=ib();let j;var J=se(X);pn(J,()=>({class:["svelte-flow__edge",l(_)],"data-id":l(n),onclick:Y,oncontextmenu:t.onedgecontextmenu?$=>{G($,t.onedgecontextmenu)}:void 0,onpointerenter:t.onedgepointerenter?$=>{G($,t.onedgepointerenter)}:void 0,onpointerleave:t.onedgepointerleave?$=>{G($,t.onedgepointerleave)}:void 0,"aria-label":l(E)===null?void 0:l(E)?l(E):`Edge from ${l(r)} to ${l(i)}`,"aria-describedby":l(I)?`${hf}-${t.store.flowId}`:void 0,role:t.edge.ariaRole??(l(I)?"group":"img"),"aria-roledescription":"edge",onkeydown:l(I)?U:void 0,tabindex:l(I)?0:void 0,...t.edge.domAttributes,[ar]:{animated:l(h),selected:l(f),selectable:l(C)}}));var q=se(J);Ps(q,()=>l(M),($,he)=>{he($,{get id(){return l(n)},get source(){return l(r)},get target(){return l(i)},get sourceX(){return l(o)},get sourceY(){return l(s)},get targetX(){return l(a)},get targetY(){return l(u)},get sourcePosition(){return l(c)},get targetPosition(){return l(d)},get animated(){return l(h)},get selected(){return l(f)},get label(){return l(g)},get labelStyle(){return l(p)},get data(){return l(b)},get style(){return l(y)},get interactionWidth(){return l(x)},get selectable(){return l(C)},get deletable(){return l(F)},get type(){return l(w)},get sourceHandleId(){return l(k)},get targetHandleId(){return l(m)},get markerStart(){return l(L)},get markerEnd(){return l(H)}})}),ut(J,$=>v=$,()=>v),_e(()=>j=Ze(X,"",j,{"z-index":l(N)})),ne(W,X)};Re(z,W=>{l(R)||W(P)})}ne(e,Q),Ne()}hh();var sb=Ut("<defs></defs>");function ab(e,t){Ee(t,!1);const n=_r();tr();var r=sb();ot(r,5,()=>n.markers,i=>i.id,(i,o)=>{db(i,jt(()=>l(o)))}),ne(e,r),Ne()}var lb=Ut('<polyline class="arrow" fill="none" stroke-linecap="round" stroke-linejoin="round" points="-5,-4 0,0 -5,4"></polyline>'),ub=Ut('<polyline class="arrowclosed" stroke-linecap="round" stroke-linejoin="round" points="-5,-4 0,0 -5,4 -5,-4"></polyline>'),cb=Ut('<marker class="svelte-flow__arrowhead" viewBox="-10 -10 20 20" refX="0" refY="0"><!></marker>');function db(e,t){Ee(t,!0);let n=te(t,"width",3,12.5),r=te(t,"height",3,12.5),i=te(t,"markerUnits",3,"strokeWidth"),o=te(t,"orient",3,"auto-start-reverse"),s=te(t,"color",3,"none");var a=cb(),u=se(a);{var c=h=>{var f=lb();let g;_e(()=>{be(f,"stroke-width",t.strokeWidth),g=Ze(f,"",g,{stroke:s()})}),ne(h,f)},d=h=>{var f=ub();let g;_e(()=>{be(f,"stroke-width",t.strokeWidth),g=Ze(f,"",g,{stroke:s(),fill:s()})}),ne(h,f)};Re(u,h=>{t.type===ds.Arrow?h(c):t.type===ds.ArrowClosed&&h(d,1)})}_e(()=>{be(a,"id",t.id),be(a,"markerWidth",`${n()}`),be(a,"markerHeight",`${r()}`),be(a,"markerUnits",i()),be(a,"orient",o())}),ne(e,a),Ne()}var fb=ue('<div class="svelte-flow__edges"><svg class="svelte-flow__marker"><!></svg> <!></div>');function hb(e,t){Ee(t,!0);let n=te(t,"store",15);var r=fb(),i=se(r),o=se(i);ab(o,{});var s=de(i,2);ot(s,17,()=>n().visible.edges.values(),a=>a.id,(a,u)=>{ob(a,{get edge(){return l(u)},get onedgeclick(){return t.onedgeclick},get onedgecontextmenu(){return t.onedgecontextmenu},get onedgepointerenter(){return t.onedgepointerenter},get onedgepointerleave(){return t.onedgepointerleave},get store(){return n()},set store(c){n(c)}})}),ne(e,r),Ne()}var gb=ue('<div class="svelte-flow__selection svelte-1f9lbg4"></div>');function gf(e,t){Ee(t,!0);let n=te(t,"x",3,0),r=te(t,"y",3,0),i=te(t,"width",3,0),o=te(t,"height",3,0),s=te(t,"isVisible",3,!0);var a=$e(),u=Ae(a);{var c=d=>{var h=gb();let f;_e(g=>f=Ze(h,"",f,g),[()=>({width:typeof i()=="string"?i():Cn(i()),height:typeof o()=="string"?o():Cn(o()),transform:`translate(${n()}px, ${r()}px)`})]),ne(d,h)};Re(u,d=>{s()&&d(c)})}ne(e,a),Ne()}var vb=ue("<div><!></div>");function pb(e,t){Ee(t,!0);let n=fe(void 0);je(()=>{var h;t.store.disableKeyboardA11y||(h=l(n))==null||h.focus({preventScroll:!0})});let r=V(()=>{if(t.store.selectionRectMode==="nodes"){t.store.nodes;const h=Vs(t.store.nodeLookup,{filter:f=>!!f.selected});if(h.width>0&&h.height>0)return h}return null});function i(h){var g;const f=t.store.nodes.filter(p=>p.selected);(g=t.onselectioncontextmenu)==null||g.call(t,{nodes:f,event:h})}function o(h){var g;const f=t.store.nodes.filter(p=>p.selected);(g=t.onselectionclick)==null||g.call(t,{nodes:f,event:h})}function s(h){Object.prototype.hasOwnProperty.call(vs,h.key)&&(h.preventDefault(),t.store.moveSelectedNodes(vs[h.key],h.shiftKey?4:1))}var a=$e(),u=Ae(a);{var c=h=>{var f=vb();f.__contextmenu=i,f.__click=o,f.__keydown=function(...b){var y;(y=t.store.disableKeyboardA11y?void 0:s)==null||y.apply(this,b)};let g;var p=se(f);gf(p,{width:"100%",height:"100%",x:0,y:0}),Lt(f,(b,y)=>li==null?void 0:li(b,y),()=>({disabled:!1,store:t.store,onDrag:(b,y,x,w)=>{var k;(k=t.onnodedrag)==null||k.call(t,{event:b,targetNode:null,nodes:w})},onDragStart:(b,y,x,w)=>{var k;(k=t.onnodedragstart)==null||k.call(t,{event:b,targetNode:null,nodes:w})},onDragStop:(b,y,x,w)=>{var k;(k=t.onnodedragstop)==null||k.call(t,{event:b,targetNode:null,nodes:w})}})),ut(f,b=>K(n,b),()=>l(n)),_e(b=>{Pt(f,1,Xr(["svelte-flow__selection-wrapper",t.store.noPanClass]),"svelte-5rnsv4"),be(f,"role",t.store.disableKeyboardA11y?void 0:"button"),be(f,"tabindex",t.store.disableKeyboardA11y?void 0:-1),g=Ze(f,"",g,b)},[()=>({width:Cn(l(r).width),height:Cn(l(r).height),transform:`translate(${l(r).x??""}px, ${l(r).y??""}px)`})]),ne(h,f)},d=V(()=>t.store.selectionRectMode==="nodes"&&l(r)&&Un(l(r).x)&&Un(l(r).y));Re(u,h=>{l(d)&&h(c)})}ne(e,a),Ne()}pt(["contextmenu","click","keydown"]);function mb(e){switch(e){case"ctrl":return 8;case"shift":return 4;case"alt":return 2;case"meta":return 1}}function Ge(e,t){let{enabled:n=!0,trigger:r,type:i="keydown"}=t;function o(a){var d;const u=Array.isArray(r)?r:[r],c=[a.metaKey,a.altKey,a.shiftKey,a.ctrlKey].reduce((h,f,g)=>f?h|1<<g:h,0);for(const h of u){const f={preventDefault:!1,enabled:!0,...h},{modifier:g,key:p,callback:b,preventDefault:y,enabled:x}=f;if(x){if(a.key!==p)continue;if(g===null||g===!1){if(c!==0)continue}else if(g!==void 0&&((d=g==null?void 0:g[0])==null?void 0:d.length)>0){const k=Array.isArray(g)?g:[g];let m=!1;for(const A of k)if((Array.isArray(A)?A:[A]).reduce((O,S)=>O|mb(S),0)===c){m=!0;break}if(!m)continue}y&&a.preventDefault();const w={node:e,trigger:f,originalEvent:a};e.dispatchEvent(new CustomEvent("shortcut",{detail:w})),b==null||b(w)}}}let s;return n&&(s=Ta(e,i,o)),{update:a=>{const{enabled:u=!0,type:c="keydown"}=a;n&&(!u||i!==c)?s==null||s():!n&&u&&(s=Ta(e,c,o)),n=u,i=c,r=a.trigger},destroy:()=>{s==null||s()}}}function Ur(){const e=V(_r),t=o=>{var c,d;const s=Lu(o)?o:l(e).nodeLookup.get(o.id),a=s.parentId?xy(s.position,s.measured,s.parentId,l(e).nodeLookup,l(e).nodeOrigin):s.position,u={...s,position:a,width:((c=s.measured)==null?void 0:c.width)??s.width,height:((d=s.measured)==null?void 0:d.height)??s.height};return ki(u)};function n(o,s,a={replace:!1}){l(e).nodes=ze(()=>l(e).nodes).map(u=>{if(u.id===o){const c=typeof s=="function"?s(u):s;return a!=null&&a.replace&&Lu(c)?c:{...u,...c}}return u})}function r(o,s,a={replace:!1}){l(e).edges=ze(()=>l(e).edges).map(u=>{if(u.id===o){const c=typeof s=="function"?s(u):s;return a.replace&&O0(c)?c:{...u,...c}}return u})}const i=o=>l(e).nodeLookup.get(o);return{zoomIn:l(e).zoomIn,zoomOut:l(e).zoomOut,getInternalNode:i,getNode:o=>{var s;return(s=i(o))==null?void 0:s.internals.userNode},getNodes:o=>o===void 0?l(e).nodes:Bu(l(e).nodeLookup,o),getEdge:o=>l(e).edgeLookup.get(o),getEdges:o=>o===void 0?l(e).edges:Bu(l(e).edgeLookup,o),setZoom:(o,s)=>{const a=l(e).panZoom;return a?a.scaleTo(o,{duration:s==null?void 0:s.duration}):Promise.resolve(!1)},getZoom:()=>l(e).viewport.zoom,setViewport:async(o,s)=>{const a=l(e).viewport;return l(e).panZoom?(await l(e).panZoom.setViewport({x:o.x??a.x,y:o.y??a.y,zoom:o.zoom??a.zoom},s),Promise.resolve(!0)):Promise.resolve(!1)},getViewport:()=>pc(l(e).viewport),setCenter:async(o,s,a)=>l(e).setCenter(o,s,a),fitView:o=>l(e).fitView(o),fitBounds:async(o,s)=>{if(!l(e).panZoom)return Promise.resolve(!1);const a=xl(o,l(e).width,l(e).height,l(e).minZoom,l(e).maxZoom,(s==null?void 0:s.padding)??.1);return await l(e).panZoom.setViewport(a,{duration:s==null?void 0:s.duration,ease:s==null?void 0:s.ease,interpolate:s==null?void 0:s.interpolate}),Promise.resolve(!0)},getIntersectingNodes:(o,s=!0,a)=>{const u=Nu(o),c=u?o:t(o);return c?(a||l(e).nodes).filter(d=>{const h=l(e).nodeLookup.get(d.id);if(!h||!u&&d.id===o.id)return!1;const f=ki(h),g=eo(f,c);return s&&g>0||g>=f.width*f.height||g>=c.width*c.height}):[]},isNodeIntersecting:(o,s,a=!0)=>{const c=Nu(o)?o:t(o);if(!c)return!1;const d=eo(c,s);return a&&d>0||d>=s.width*s.height||d>=c.width*c.height},deleteElements:async({nodes:o=[],edges:s=[]})=>{var c,d;const{nodes:a,edges:u}=await py({nodesToRemove:o,edgesToRemove:s,nodes:l(e).nodes,edges:l(e).edges,onBeforeDelete:l(e).onbeforedelete});return a&&(l(e).nodes=ze(()=>l(e).nodes).filter(h=>!a.some(({id:f})=>f===h.id))),u&&(l(e).edges=ze(()=>l(e).edges).filter(h=>!u.some(({id:f})=>f===h.id))),(a.length>0||u.length>0)&&((d=(c=l(e)).ondelete)==null||d.call(c,{nodes:a,edges:u})),{deletedNodes:a,deletedEdges:u}},screenToFlowPosition:(o,s={snapToGrid:!0})=>{if(!l(e).domNode)return o;const a=s.snapToGrid?l(e).snapGrid:!1,{x:u,y:c,zoom:d}=l(e).viewport,{x:h,y:f}=l(e).domNode.getBoundingClientRect(),g={x:o.x-h,y:o.y-f};return Ao(g,[u,c,d],a!==null,a||[1,1])},flowToScreenPosition:o=>{if(!l(e).domNode)return o;const{x:s,y:a,zoom:u}=l(e).viewport,{x:c,y:d}=l(e).domNode.getBoundingClientRect(),h=hs(o,[s,a,u]);return{x:h.x+c,y:h.y+d}},toObject:()=>structuredClone({nodes:[...l(e).nodes],edges:[...l(e).edges],viewport:{...l(e).viewport}}),updateNode:n,updateNodeData:(o,s,a)=>{var d;const u=(d=l(e).nodeLookup.get(o))==null?void 0:d.internals.userNode;if(!u)return;const c=typeof s=="function"?s(u):s;n(o,h=>({...h,data:a!=null&&a.replace?c:{...h.data,...c}}))},updateEdge:r,getNodesBounds:o=>fy(o,{nodeLookup:l(e).nodeLookup,nodeOrigin:l(e).nodeOrigin}),getHandleConnections:({type:o,id:s,nodeId:a})=>{var u;return Array.from(((u=l(e).connectionLookup.get(`${a}-${o}-${s??null}`))==null?void 0:u.values())??[])}}}function Bu(e,t){var r;const n=[];for(const i of t){const o=e.get(i);if(o){const s="internals"in o?(r=o.internals)==null?void 0:r.userNode:o;n.push(s)}}return n}function yb(e,t){Ee(t,!0);let n=te(t,"store",15),r=te(t,"selectionKey",3,"Shift"),i=te(t,"multiSelectionKey",19,()=>gs()?"Meta":"Control"),o=te(t,"deleteKey",3,"Backspace"),s=te(t,"panActivationKey",3," "),a=te(t,"zoomActivationKey",19,()=>gs()?"Meta":"Control"),{deleteElements:u}=Ur();function c(b){return b!==null&&typeof b=="object"}function d(b){return c(b)?b.modifier||[]:[]}function h(b){return b==null?"":c(b)?b.key:b}function f(b,y){return(Array.isArray(b)?b:[b]).map(w=>{const k=h(w);return{key:k,modifier:d(w),enabled:k!==null,callback:y}})}function g(){n(n().selectionRect=null,!0),n(n().selectionKeyPressed=!1,!0),n(n().multiselectionKeyPressed=!1,!0),n(n().deleteKeyPressed=!1,!0),n(n().panActivationKeyPressed=!1,!0),n(n().zoomActivationKeyPressed=!1,!0)}function p(){const b=n().nodes.filter(x=>x.selected),y=n().edges.filter(x=>x.selected);u({nodes:b,edges:y})}Ke("blur",ct,g),Ke("contextmenu",ct,g),Lt(ct,(b,y)=>Ge==null?void 0:Ge(b,y),()=>({trigger:f(r(),()=>n(n().selectionKeyPressed=!0,!0)),type:"keydown"})),Lt(ct,(b,y)=>Ge==null?void 0:Ge(b,y),()=>({trigger:f(r(),()=>n(n().selectionKeyPressed=!1,!0)),type:"keyup"})),Lt(ct,(b,y)=>Ge==null?void 0:Ge(b,y),()=>({trigger:f(i(),()=>{n(n().multiselectionKeyPressed=!0,!0)}),type:"keydown"})),Lt(ct,(b,y)=>Ge==null?void 0:Ge(b,y),()=>({trigger:f(i(),()=>n(n().multiselectionKeyPressed=!1,!0)),type:"keyup"})),Lt(ct,(b,y)=>Ge==null?void 0:Ge(b,y),()=>({trigger:f(o(),b=>{!(b.originalEvent.ctrlKey||b.originalEvent.metaKey||b.originalEvent.shiftKey)&&!Yd(b.originalEvent)&&(n(n().deleteKeyPressed=!0,!0),p())}),type:"keydown"})),Lt(ct,(b,y)=>Ge==null?void 0:Ge(b,y),()=>({trigger:f(o(),()=>n(n().deleteKeyPressed=!1,!0)),type:"keyup"})),Lt(ct,(b,y)=>Ge==null?void 0:Ge(b,y),()=>({trigger:f(s(),()=>n(n().panActivationKeyPressed=!0,!0)),type:"keydown"})),Lt(ct,(b,y)=>Ge==null?void 0:Ge(b,y),()=>({trigger:f(s(),()=>n(n().panActivationKeyPressed=!1,!0)),type:"keyup"})),Lt(ct,(b,y)=>Ge==null?void 0:Ge(b,y),()=>({trigger:f(a(),()=>n(n().zoomActivationKeyPressed=!0,!0)),type:"keydown"})),Lt(ct,(b,y)=>Ge==null?void 0:Ge(b,y),()=>({trigger:f(a(),()=>n(n().zoomActivationKeyPressed=!1,!0)),type:"keyup"})),Ne()}var bb=Ut('<path fill="none" class="svelte-flow__connection-path"></path>'),_b=Ut('<svg class="svelte-flow__connectionline"><g><!></g></svg>');function wb(e,t){Ee(t,!0);let n=V(()=>{if(!t.store.connection.inProgress)return"";const s={sourceX:t.store.connection.from.x,sourceY:t.store.connection.from.y,sourcePosition:t.store.connection.fromPosition,targetX:t.store.connection.to.x,targetY:t.store.connection.to.y,targetPosition:t.store.connection.toPosition};switch(t.type){case lr.Bezier:{const[a]=jd(s);return a}case lr.Straight:{const[a]=Ud(s);return a}case lr.Step:case lr.SmoothStep:{const[a]=El({...s,borderRadius:t.type===lr.Step?0:void 0});return a}}});var r=$e(),i=Ae(r);{var o=s=>{var a=_b(),u=se(a),c=se(u);{var d=f=>{var g=$e(),p=Ae(g);Ps(p,()=>t.LineComponent,(b,y)=>{y(b,{})}),ne(f,g)},h=f=>{var g=bb();_e(()=>{be(g,"d",l(n)),Ze(g,t.style)}),ne(f,g)};Re(c,f=>{t.LineComponent?f(d):f(h,!1)})}_e(f=>{be(a,"width",t.store.width),be(a,"height",t.store.height),Ze(a,t.containerStyle),Pt(u,0,f)},[()=>Xr(["svelte-flow__connection",cy(t.store.connection.isValid)])]),ne(s,a)};Re(i,s=>{t.store.connection.inProgress&&s(o)})}ne(e,r),Ne()}var xb=ue("<div><!></div>");function Ol(e,t){Ee(t,!0);let n=te(t,"position",3,"top-right"),r=jr(t,["$$slots","$$events","$$legacy","position","style","class","children"]),i=V(()=>`${n()}`.split("-"));var o=xb();pn(o,a=>({class:a,style:t.style,...r}),[()=>["svelte-flow__panel",t.class,...l(i)]]);var s=se(o);zn(s,()=>t.children??mr),ne(e,o),Ne()}var Eb=ue('<a href="https://svelteflow.dev" target="_blank" rel="noopener noreferrer" aria-label="Svelte Flow attribution">Svelte Flow</a>');function Nb(e,t){Ee(t,!0);let n=te(t,"position",3,"bottom-right");var r=$e(),i=Ae(r);{var o=s=>{Ol(s,{get position(){return n()},class:"svelte-flow__attribution","data-message":"Feel free to remove the attribution or check out how you could support us: https://svelteflow.dev/support-us",children:(a,u)=>{var c=Eb();ne(a,c)},$$slots:{default:!0}})};Re(i,s=>{var a;(a=t.proOptions)!=null&&a.hideAttribution||s(o)})}ne(e,r),Ne()}var kb=ue("<div><!></div>");function Ib(e,t){Ee(t,!0);let n=te(t,"domNode",15),r=te(t,"clientWidth",15),i=te(t,"clientHeight",15),o=V(()=>t.rest.class),s=V(()=>Xh(t.rest,["id","class","nodeTypes","edgeTypes","colorMode","isValidConnection","onmove","onmovestart","onmoveend","onflowerror","ondelete","onbeforedelete","onbeforeconnect","onconnect","onconnectstart","onconnectend","onbeforereconnect","onreconnect","onreconnectstart","onreconnectend","onclickconnectstart","onclickconnectend","oninit","onselectionchange","onselectiondragstart","onselectiondrag","onselectiondragstop","onselectionstart","onselectionend","clickConnect","fitView","fitViewOptions","nodeOrigin","nodeDragThreshold","connectionDragThreshold","minZoom","maxZoom","initialViewport","connectionRadius","connectionMode","selectionMode","selectNodesOnDrag","snapGrid","defaultMarkerColor","translateExtent","nodeExtent","onlyRenderVisibleElements","autoPanOnConnect","autoPanOnNodeDrag","colorModeSSR","defaultEdgeOptions","elevateNodesOnSelect","elevateEdgesOnSelect","nodesDraggable","autoPanOnNodeFocus","nodesConnectable","elementsSelectable","nodesFocusable","edgesFocusable","disableKeyboardA11y","noDragClass","noPanClass","noWheelClass","ariaLabelConfig","autoPanSpeed","panOnScrollSpeed","zIndexMode"]));function a(d){d.currentTarget.scrollTo({top:0,left:0,behavior:"auto"}),t.rest.onscroll&&t.rest.onscroll(d)}var u=kb();pn(u,d=>({class:["svelte-flow","svelte-flow__container",l(o),t.colorMode],"data-testid":"svelte-flow__wrapper",role:"application",onscroll:a,...l(s),[Yn]:d}),[()=>({width:Cn(t.width),height:Cn(t.height)})],void 0,void 0,"svelte-rhpwh");var c=se(u);zn(c,()=>t.children??mr),ut(u,d=>n(d),()=>n()),tu(u,"clientHeight",i),tu(u,"clientWidth",r),ne(e,u),Ne()}var Sb=ue('<div class="svelte-flow__viewport-back svelte-flow__container"></div> <!> <div class="svelte-flow__edge-labels svelte-flow__container"></div> <!> <!> <!> <div class="svelte-flow__viewport-front svelte-flow__container"></div>',1),Tb=ue("<!> <!>",1),Ob=ue("<!> <!> <!> <!> <!>",1);function Pb(e,t){Ee(t,!0);let n=te(t,"paneClickDistance",3,1),r=te(t,"nodeClickDistance",3,1),i=te(t,"panOnScrollMode",19,()=>ai.Free),o=te(t,"preventScrolling",3,!0),s=te(t,"zoomOnScroll",3,!0),a=te(t,"zoomOnDoubleClick",3,!0),u=te(t,"zoomOnPinch",3,!0),c=te(t,"panOnScroll",3,!1),d=te(t,"panOnScrollSpeed",3,.5),h=te(t,"panOnDrag",3,!0),f=te(t,"selectionOnDrag",3,!1),g=te(t,"connectionLineType",19,()=>lr.Bezier),p=te(t,"nodes",31,()=>Yt([])),b=te(t,"edges",31,()=>Yt([])),y=te(t,"viewport",15,void 0),x=jr(t,["$$slots","$$events","$$legacy","width","height","proOptions","selectionKey","deleteKey","panActivationKey","multiSelectionKey","zoomActivationKey","paneClickDistance","nodeClickDistance","onmovestart","onmoveend","onmove","oninit","onnodeclick","onnodecontextmenu","onnodedrag","onnodedragstart","onnodedragstop","onnodepointerenter","onnodepointermove","onnodepointerleave","onselectionclick","onselectioncontextmenu","onselectionstart","onselectionend","onedgeclick","onedgecontextmenu","onedgepointerenter","onedgepointerleave","onpaneclick","onpanecontextmenu","panOnScrollMode","preventScrolling","zoomOnScroll","zoomOnDoubleClick","zoomOnPinch","panOnScroll","panOnScrollSpeed","panOnDrag","selectionOnDrag","connectionLineComponent","connectionLineStyle","connectionLineContainerStyle","connectionLineType","attributionPosition","children","nodes","edges","viewport"]),w=df({props:x,width:t.width,height:t.height,get nodes(){return p()},set nodes(m){p(m)},get edges(){return b()},set edges(m){b(m)},get viewport(){return y()},set viewport(m){y(m)}});const k=nl(ps);k&&k.setStore&&k.setStore(w),rl(ps,{provider:!1,getStore(){return w}}),je(()=>{var A;const m={nodes:w.selectedNodes,edges:w.selectedEdges};(A=ze(()=>t.onselectionchange))==null||A(m);for(const T of w.selectionChangeHandlers.values())T(m)}),Io(()=>{w.reset()}),Ib(e,{get colorMode(){return w.colorMode},get width(){return t.width},get height(){return t.height},get rest(){return x},get domNode(){return w.domNode},set domNode(m){w.domNode=m},get clientWidth(){return w.width},set clientWidth(m){w.width=m},get clientHeight(){return w.height},set clientHeight(m){w.height=m},children:(m,A)=>{var T=Ob(),O=Ae(T);yb(O,{get selectionKey(){return t.selectionKey},get deleteKey(){return t.deleteKey},get panActivationKey(){return t.panActivationKey},get multiSelectionKey(){return t.multiSelectionKey},get zoomActivationKey(){return t.zoomActivationKey},get store(){return w},set store(_){w=_}});var S=de(O,2);X0(S,{get panOnScrollMode(){return i()},get preventScrolling(){return o()},get zoomOnScroll(){return s()},get zoomOnDoubleClick(){return a()},get zoomOnPinch(){return u()},get panOnScroll(){return c()},get panOnScrollSpeed(){return d()},get panOnDrag(){return h()},get paneClickDistance(){return n()},get selectionOnDrag(){return f()},get onmovestart(){return t.onmovestart},get onmove(){return t.onmove},get onmoveend(){return t.onmoveend},get oninit(){return t.oninit},get store(){return w},set store(_){w=_},children:(_,E)=>{G0(_,{get onpaneclick(){return t.onpaneclick},get onpanecontextmenu(){return t.onpanecontextmenu},get onselectionstart(){return t.onselectionstart},get onselectionend(){return t.onselectionend},get panOnDrag(){return h()},get paneClickDistance(){return n()},get selectionOnDrag(){return f()},get store(){return w},set store(v){w=v},children:(v,C)=>{var I=Tb(),M=Ae(I);q0(M,{get store(){return w},set store(H){w=H},children:(H,Y)=>{var G=Sb(),U=de(Ae(G),2);hb(U,{get onedgeclick(){return t.onedgeclick},get onedgecontextmenu(){return t.onedgecontextmenu},get onedgepointerenter(){return t.onedgepointerenter},get onedgepointerleave(){return t.onedgepointerleave},get store(){return w},set store(W){w=W}});var Q=de(U,4);wb(Q,{get type(){return g()},get LineComponent(){return t.connectionLineComponent},get containerStyle(){return t.connectionLineContainerStyle},get style(){return t.connectionLineStyle},get store(){return w},set store(W){w=W}});var z=de(Q,2);rb(z,{get nodeClickDistance(){return r()},get onnodeclick(){return t.onnodeclick},get onnodecontextmenu(){return t.onnodecontextmenu},get onnodepointerenter(){return t.onnodepointerenter},get onnodepointermove(){return t.onnodepointermove},get onnodepointerleave(){return t.onnodepointerleave},get onnodedrag(){return t.onnodedrag},get onnodedragstart(){return t.onnodedragstart},get onnodedragstop(){return t.onnodedragstop},get store(){return w},set store(W){w=W}});var P=de(z,2);pb(P,{get onselectionclick(){return t.onselectionclick},get onselectioncontextmenu(){return t.onselectioncontextmenu},get onnodedrag(){return t.onnodedrag},get onnodedragstart(){return t.onnodedragstart},get onnodedragstop(){return t.onnodedragstop},get store(){return w},set store(W){w=W}}),ne(H,G)},$$slots:{default:!0}});var L=de(M,2);{let H=V(()=>!!(w.selectionRect&&w.selectionRectMode==="user")),Y=V(()=>{var z;return(z=w.selectionRect)==null?void 0:z.width}),G=V(()=>{var z;return(z=w.selectionRect)==null?void 0:z.height}),U=V(()=>{var z;return(z=w.selectionRect)==null?void 0:z.x}),Q=V(()=>{var z;return(z=w.selectionRect)==null?void 0:z.y});gf(L,{get isVisible(){return l(H)},get width(){return l(Y)},get height(){return l(G)},get x(){return l(U)},get y(){return l(Q)}})}ne(v,I)},$$slots:{default:!0}})},$$slots:{default:!0}});var F=de(S,2);Nb(F,{get proOptions(){return t.proOptions},get position(){return t.attributionPosition}});var R=de(F,2);J0(R,{get store(){return w}});var N=de(R,2);zn(N,()=>t.children??mr),ne(m,T)},$$slots:{default:!0}}),Ne()}function Ab(e,t){Ee(t,!0);let n=fe(df({props:{},nodes:[],edges:[]}));rl(ps,{provider:!0,getStore(){return l(n)},setStore:o=>{K(n,o)}}),Io(()=>{l(n).reset()});var r=$e(),i=Ae(r);zn(i,()=>t.children??mr),ne(e,r),Ne()}var gr;(function(e){e.Lines="lines",e.Dots="dots",e.Cross="cross"})(gr||(gr={}));var Cb=Ut("<circle></circle>");function Mb(e,t){var n=Cb();_e(()=>{be(n,"cx",t.radius),be(n,"cy",t.radius),be(n,"r",t.radius),Pt(n,0,Xr(["svelte-flow__background-pattern","dots",t.class]))}),ne(e,n)}var Db=Ut("<path></path>");function zb(e,t){Ee(t,!0);var n=Db();_e(()=>{be(n,"stroke-width",t.lineWidth),be(n,"d",`M${t.dimensions[0]/2} 0 V${t.dimensions[1]} M0 ${t.dimensions[1]/2} H${t.dimensions[0]}`),Pt(n,0,Xr(["svelte-flow__background-pattern",t.variant,t.class]))}),ne(e,n),Ne()}const Rb={[gr.Dots]:1,[gr.Lines]:1,[gr.Cross]:6};var Lb=Ut('<svg data-testid="svelte-flow__background"><pattern patternUnits="userSpaceOnUse"><!></pattern><rect x="0" y="0" width="100%" height="100%"></rect></svg>');function Vb(e,t){Ee(t,!0);let n=te(t,"variant",19,()=>gr.Dots),r=te(t,"gap",3,20),i=te(t,"lineWidth",3,1),o=V(_r),s=V(()=>n()===gr.Dots),a=V(()=>n()===gr.Cross),u=V(()=>Array.isArray(r())?r():[r(),r()]),c=V(()=>`background-pattern-${l(o).flowId}-${t.id??""}`),d=V(()=>[l(u)[0]*l(o).viewport.zoom||1,l(u)[1]*l(o).viewport.zoom||1]),h=V(()=>(t.size??Rb[n()])*l(o).viewport.zoom),f=V(()=>l(a)?[l(h),l(h)]:l(d)),g=V(()=>l(s)?[l(h)/2,l(h)/2]:[l(f)[0]/2,l(f)[1]/2]);var p=Lb();let b;var y=se(p),x=se(y);{var w=A=>{{let T=V(()=>l(h)/2);Mb(A,{get radius(){return l(T)},get class(){return t.patternClass}})}},k=A=>{zb(A,{get dimensions(){return l(f)},get variant(){return n()},get lineWidth(){return i()},get class(){return t.patternClass}})};Re(x,A=>{l(s)?A(w):A(k,!1)})}var m=de(y);_e(()=>{Pt(p,0,Xr(["svelte-flow__background","svelte-flow__container",t.class])),b=Ze(p,"",b,{"--xy-background-color-props":t.bgColor,"--xy-background-pattern-color-props":t.patternColor}),be(y,"id",l(c)),be(y,"x",l(o).viewport.x%l(d)[0]),be(y,"y",l(o).viewport.y%l(d)[1]),be(y,"width",l(d)[0]),be(y,"height",l(d)[1]),be(y,"patternTransform",`translate(-${l(g)[0]},-${l(g)[1]})`),be(m,"fill",`url(#${l(c)})`)}),ne(e,p),Ne()}var Fb=ue("<div><!></div>");function Wu(e,t){Ee(t,!0);let n=te(t,"variant",19,()=>to.Handle),r=te(t,"minWidth",3,10),i=te(t,"minHeight",3,10),o=te(t,"maxWidth",19,()=>Number.MAX_VALUE),s=te(t,"maxHeight",19,()=>Number.MAX_VALUE),a=te(t,"keepAspectRatio",3,!1),u=te(t,"autoScale",3,!0),c=jr(t,["$$slots","$$events","$$legacy","nodeId","position","variant","color","minWidth","minHeight","maxWidth","maxHeight","keepAspectRatio","resizeDirection","autoScale","shouldResize","onResizeStart","onResize","onResizeEnd","class","children"]);const d=_r(),h=sf();let f=V(()=>typeof t.nodeId=="string"?t.nodeId:h);if(!l(f))throw new Error("Either pass a nodeId or use within a Custom Node component");let g,p=fe(null),b=V(()=>n()===to.Line),y=V(()=>{let m=l(b)?"right":"bottom-right";return t.position??m}),x=V(()=>l(y).split("-"));fl(()=>(g&&K(p,v0({domNode:g,nodeId:l(f),getStoreItems:()=>({nodeLookup:d.nodeLookup,transform:[d.viewport.x,d.viewport.y,d.viewport.zoom],snapGrid:d.snapGrid??void 0,snapToGrid:!!d.snapGrid,nodeOrigin:d.nodeOrigin,paneDomNode:d.domNode}),onChange:(m,A)=>{const T=new Map;T.set(l(f),m);for(const O of A)T.set(O.id,{x:O.position.x,y:O.position.y});d.nodes=d.nodes.map(O=>{const S=T.get(O.id),F=!t.resizeDirection||t.resizeDirection==="horizontal",R=!t.resizeDirection||t.resizeDirection==="vertical";return S?{...O,position:{x:F?S.x??O.position.x:O.position.x,y:R?S.y??O.position.y:O.position.y},width:F?S.width??O.width:O.width,height:R?S.height??O.height:O.height}:O})}}),!0),()=>{var m;(m=l(p))==null||m.destroy()})),ll(()=>{var m;(m=l(p))==null||m.update({controlPosition:l(y),boundaries:{minWidth:r(),minHeight:i(),maxWidth:o(),maxHeight:s()},keepAspectRatio:!!a(),resizeDirection:t.resizeDirection,onResizeStart:t.onResizeStart,onResize:t.onResize,onResizeEnd:t.onResizeEnd,shouldResize:t.shouldResize})});var w=Fb();pn(w,(m,A)=>({class:m,...c,[Yn]:A}),[()=>["svelte-flow__resize-control",d.noDragClass,...l(x),n(),t.class],()=>({"border-color":l(b)?t.color:void 0,"background-color":l(b)?void 0:t.color,scale:l(b)||!u()?void 0:Math.max(1/d.viewport.zoom,1)})]);var k=se(w);zn(k,()=>t.children??mr),ut(w,m=>g=m,()=>g),ne(e,w),Ne()}var Hb=ue("<!> <!>",1);function Kb(e,t){Ee(t,!0);let n=te(t,"isVisible",3,!0),r=te(t,"autoScale",3,!0),i=jr(t,["$$slots","$$events","$$legacy","isVisible","nodeId","handleClass","handleStyle","lineClass","lineStyle","autoScale"]);var o=$e(),s=Ae(o);{var a=u=>{var c=Hb(),d=Ae(c);ot(d,16,()=>u0,f=>f,(f,g)=>{Wu(f,jt({get class(){return t.lineClass},get style(){return t.lineStyle},get nodeId(){return t.nodeId},get position(){return g},get autoScale(){return r()},get variant(){return to.Line}},()=>i))});var h=de(d,2);ot(h,16,()=>l0,f=>f,(f,g)=>{Wu(f,jt({get class(){return t.handleClass},get style(){return t.handleStyle},get nodeId(){return t.nodeId},get position(){return g},get autoScale(){return r()}},()=>i))}),ne(u,c)};Re(s,u=>{n()&&u(a)})}ne(e,o),Ne()}function vf(){const e=V(_r);return{get current(){return l(e).viewport},set current(t){l(e).viewport=t},update(t){l(e).viewport=t(l(e).viewport)},set(t){l(e).viewport=t}}}function Bb(){const{rootNodeId:e,nodes:t,edges:n}=rt,r={$Nodes:{},$FloatingNodes:[],$Links:{},$Groups:[],$Comments:[]},i=new Map,o=new Map;n.forEach(d=>{i.has(d.source)||i.set(d.source,new Map),i.get(d.source).has(d.sourceHandle)||i.get(d.source).set(d.sourceHandle,[]),i.get(d.source).get(d.sourceHandle).push(d.target),o.set(d.target,d.source)});const s=t.reduce((d,h)=>(d.set(h.id,h),d),new Map),a=t.reduce((d,h)=>d.add(h.id),new Set);function u(d){if(!a.has(d))throw new Error(`Circular reference detected for node ${d}. This should not happen.`);a.delete(d);const h=s.get(d);let f={};switch(h.type){case"datanode":f.$NodeId=h.id,f.$Comment=h.data.comment??void 0,h.data.outputPins.forEach(g=>{var b;const p=((b=i.get(h.id))==null?void 0:b.get(g.schemaKey))??[];if(p.length>0)switch(g.type){case"single":f[g.schemaKey]=u(p[0]);break;case"multiple":f[g.schemaKey]=p.map(y=>u(y));break;case"map":f[g.schemaKey]=p.reduce((y,x)=>{const k=s.get(x).data.titleOverride??x;return y[k]=u(x),y},{})}}),Object.values(h.data.fieldsBySchemaKey).forEach(g=>{f[g.schemaKey]=g.value}),f={...f,...h.data.unparsedMetadata,...h.data.schemaConstants},r.$Nodes[h.id]={$Position:{$x:h.position.x,$y:h.position.y},$Title:h.data.titleOverride??void 0};break;case"comment":r.$Comments.push({$Position:{$x:h.position.x,$y:h.position.y},$width:h.width,$height:h.height,$name:h.data.name,$text:h.data.text,$fontSize:h.data.fontSize}),f=void 0;break;case"rawjson":f={$NodeId:h.id,$Comment:h.data.comment,...JSON.parse(h.data.data)},r.$Nodes[h.id]={$Position:{$x:h.position.x,$y:h.position.y},$Title:h.data.titleOverride??void 0};break;case"link":f=void 0;break;case"group":r.$Groups.push({$Position:{$x:h.position.x,$y:h.position.y},$width:h.width,$height:h.height,$name:h.data.name}),f=void 0;break}return f}const c=u(e);for(;a.size>0;){const[d]=a;let h=d;for(;o.has(h);)h=o.get(h);const f=u(h);f&&r.$FloatingNodes.push(f)}return{...c,$NodeEditorMetadata:r}}var co,fo,ho,go,vo,po,mo;class Wb{constructor(){re(this,co,fe(!1));re(this,fo,fe());re(this,ho,fe(Yt([])));re(this,go,fe(Yt([])));re(this,vo,fe());re(this,po,fe());re(this,mo,fe(-1))}get isInitialized(){return l(D(this,co))}set isInitialized(t){K(D(this,co),t,!0)}get context(){return l(D(this,fo))}set context(t){K(D(this,fo),t,!0)}get nodes(){return l(D(this,ho))}set nodes(t){K(D(this,ho),t,!0)}get edges(){return l(D(this,go))}set edges(t){K(D(this,go),t,!0)}get rootNodeId(){return l(D(this,vo))}set rootNodeId(t){K(D(this,vo),t,!0)}get vscode(){return l(D(this,po))}set vscode(t){K(D(this,po),t,!0)}get sourceVersion(){return l(D(this,mo))}set sourceVersion(t){K(D(this,mo),t,!0)}}co=new WeakMap,fo=new WeakMap,ho=new WeakMap,go=new WeakMap,vo=new WeakMap,po=new WeakMap,mo=new WeakMap;const rt=new Wb;function it(e){const t=Bb(),n={type:"apply",text:JSON.stringify(t,null,"	"),sourceVersion:rt.sourceVersion};rt.vscode.postMessage(n)}const Xa="datanode",ja="rawjson",Ga="link",fa="group",Ua="comment",zr="input",Yu="output",Go="Generic",pf="$Group",mf="$Comment",yf="$RawJson",bf="$Link",Yb=200,Xb=100,jb=9,ha=520,ga=320,ms=`{

}`,Gb="Raw JSON Node",Xu="#808080",ju={aqua:"#0f8b8d",black:"#000000",blue:"#2f4f9d",darkpink:"#8f3f69",gray:"#6f7c87",green:"#4f8a5f",grey:"#6f7c87",lightblue:"#5e7ea6",lightpurple:"#8774aa",magenta:"#8d5f9f",olive:"#808000",orange:"#b5773b",pink:"#ad6f91",purple:"#6f5aa5",red:"#b35353",white:"#ffffff",yellow:"#b79a3b"};function ii(e){if(!e)return Xu;if(e=e.toLowerCase(),ju[e])return ju[e];const[t,n,r]=e.split(",");return t&&n&&r?`rgb(${t}, ${n}, ${r})`:(console.error(`Could not read node color: ${e}`),Xu)}var Ub=ue('<div class="text-xs text-vsc-muted">No matching node types</div>'),qb=ue('<button data-add-node-menu-item="true" role="option" type="button"><span aria-hidden="true" class="relative h-8 w-2.5"></span> <span class="flex-1 min-w-0"><span class="block text-xs font-semibold truncate"> </span></span></button>'),Zb=ue('<div class="flex flex-col gap-1.5"><div class="flex items-center gap-2 px-1 text-[0.65rem] font-semibold uppercase tracking-widest text-vsc-muted"><span> </span> <span class="flex-1 h-px bg-vsc-editor-widget-border"></span></div> <!></div>'),Qb=ue('<div data-add-node-menu="true" role="dialog" aria-label="Add node menu" tabindex="-1" class="absolute z-3001 w-64 max-h-[70vh] translate-x-2 translate-y-2 overflow-hidden rounded-lg border border-vsc-editor-widget-border bg-vsc-editor-widget-bg p-2.5 text-vsc-editor-fg shadow-2xl"><input class="w-full rounded-md border border-vsc-input-border bg-vsc-input-bg px-2 py-1.5 text-xs text-vsc-input-fg" type="search" placeholder="Search nodes..."/> <div class="relative mt-2 flex max-h-[calc(70vh-3.5rem)] flex-col gap-2 overflow-auto pr-0.5" role="listbox"><!></div></div>');function Jb(e,t){Ee(t,!0);let n=te(t,"open",3,!1),r=te(t,"openVersion",3,0),i=te(t,"position",19,()=>({x:0,y:0})),o=fe(""),s=fe(void 0),a=fe(void 0),u=fe(void 0),c=0,d="",h=-1;const f=[{templateId:pf,defaultTitle:"Add Group",childTypes:{},fieldsBySchemaKey:{},inputPins:[],outputPins:[],schemaConstants:{},category:Go},{templateId:mf,defaultTitle:"Add Comment",childTypes:{},fieldsBySchemaKey:{},inputPins:[],outputPins:[],schemaConstants:{},category:Go},{templateId:bf,defaultTitle:"Add Link",childTypes:{},fieldsBySchemaKey:{},inputPins:[],outputPins:[],schemaConstants:{},category:Go},{templateId:yf,defaultTitle:"Raw JSON Node",childTypes:{},fieldsBySchemaKey:{},inputPins:[],outputPins:[],schemaConstants:{},category:Go}];let g=V(()=>[...f,...rt.context?Object.values(rt.context.nodeTemplatesById):[]]),p=V(()=>l(g).filter(O=>`${O.defaultTitle} ${O.category??""}`.toLowerCase().includes(l(o).trim().toLowerCase())).map((O,S)=>({flatIndex:S,template:O}))),b=V(()=>l(p).reduce((O,S)=>{const F=S.template.category??"Uncategorized";return{...O,[F]:[...O[F]??[],S]}},{}));je(()=>{n()&&r()!==h&&(K(o,""),c=0,h=r(),dt().then(()=>{var O;return(O=l(s))==null?void 0:O.focus()}))}),je(()=>{l(o)!==d&&(d=l(o),c=0)}),je(()=>{c>=l(p).length&&(c=Math.max(0,l(p).length-1))}),je(()=>{n()&&l(p).length>0&&c>=0&&dt().then(()=>{x()})});function y(O){if(n()){if(O.key==="Escape"){O.preventDefault(),O.stopPropagation(),t.onclose();return}if(l(p).length!==0){if(O.key==="ArrowDown"){O.preventDefault(),O.stopPropagation(),c=(c+1)%l(p).length,dt().then(()=>x());return}if(O.key==="ArrowUp"){O.preventDefault(),O.stopPropagation(),c=(c-1+l(p).length)%l(p).length,dt().then(()=>x());return}O.key==="Enter"&&(O.preventDefault(),O.stopPropagation(),t.onselect((l(p)[c]??l(p)[0]).template))}}}function x(){var F,R;const O=(R=(F=l(u))==null?void 0:F.querySelectorAll)==null?void 0:R.call(F,'[data-add-node-menu-item="true"]'),S=O==null?void 0:O[c];l(u)}function w(O){return c===O}function k(O){O>=0&&O<l(p).length&&(c=O)}var m=$e(),A=Ae(m);{var T=O=>{var S=Qb();S.__keydown=y;let F;var R=se(S);R.__keydown=y,ut(R,I=>K(s,I),()=>l(s));var N=de(R,2),_=se(N);{var E=I=>{var M=Ub();ne(I,M)},v=V(()=>Object.keys(l(b)).length===0),C=I=>{var M=$e(),L=Ae(M);ot(L,17,()=>Object.entries(l(b)),([H,Y])=>H,(H,Y)=>{var G=V(()=>yr(l(Y),2));let U=()=>l(G)[0],Q=()=>l(G)[1];var z=Zb(),P=se(z),W=se(P),X=se(W),j=de(P,2);ot(j,17,Q,J=>J.template.templateId,(J,q)=>{var $=qb();let he;$.__click=()=>t.onselect(l(q).template);var me=se($),oe=de(me,2),ge=se(oe),we=se(ge);_e((Se,ye,ie,ae)=>{he=Pt($,1,"group flex w-full cursor-pointer items-center gap-2 rounded-lg border border-vsc-editor-widget-border bg-vsc-button-secondary-bg text-left text-vsc-button-secondary-fg transition-[border-color,background-color,color] overflow-clip",null,he,Se),be($,"data-active",ye),be($,"aria-selected",ie),Ze(me,`background-color: ${ae??""};`),We(we,l(q).template.defaultTitle)},[()=>({"border-vsc-focus":w(l(q).flatIndex),"bg-vsc-list-active-bg":w(l(q).flatIndex),"text-vsc-list-active-fg":w(l(q).flatIndex)}),()=>w(l(q).flatIndex),()=>w(l(q).flatIndex),()=>ii(l(q).template.nodeColor)]),Ke("mouseenter",$,()=>k(l(q).flatIndex)),ne(J,$)}),_e(()=>We(X,U())),ne(H,z)}),ne(I,M)};Re(_,I=>{l(v)?I(E):I(C,!1)})}ut(N,I=>K(u,I),()=>l(u)),ut(S,I=>K(a,I),()=>l(a)),_e(()=>F=Ze(S,"",F,{left:`${i().x}px`,top:`${i().y}px`})),sd(R,()=>l(o),I=>K(o,I)),ne(O,S)};Re(A,O=>{n()&&O(T)})}ne(e,m),Ne()}pt(["keydown","click"]);/**
 * @license lucide-svelte v0.564.0 - ISC
 *
 * ISC License
 * 
 * Copyright (c) for portions of Lucide are held by Cole Bemis 2013-2026 as part of Feather (MIT). All other copyright (c) for Lucide are held by Lucide Contributors 2026.
 * 
 * Permission to use, copy, modify, and/or distribute this software for any
 * purpose with or without fee is hereby granted, provided that the above
 * copyright notice and this permission notice appear in all copies.
 * 
 * THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES
 * WITH REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF
 * MERCHANTABILITY AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR
 * ANY SPECIAL, DIRECT, INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES
 * WHATSOEVER RESULTING FROM LOSS OF USE, DATA OR PROFITS, WHETHER IN AN
 * ACTION OF CONTRACT, NEGLIGENCE OR OTHER TORTIOUS ACTION, ARISING OUT OF
 * OR IN CONNECTION WITH THE USE OR PERFORMANCE OF THIS SOFTWARE.
 * 
 * ---
 * 
 * The MIT License (MIT) (for portions derived from Feather)
 * 
 * Copyright (c) 2013-2026 Cole Bemis
 * 
 * Permission is hereby granted, free of charge, to any person obtaining a copy
 * of this software and associated documentation files (the "Software"), to deal
 * in the Software without restriction, including without limitation the rights
 * to use, copy, modify, merge, publish, distribute, sublicense, and/or sell
 * copies of the Software, and to permit persons to whom the Software is
 * furnished to do so, subject to the following conditions:
 * 
 * The above copyright notice and this permission notice shall be included in all
 * copies or substantial portions of the Software.
 * 
 * THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR
 * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,
 * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE
 * AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER
 * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,
 * OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE
 * SOFTWARE.
 * 
 */const $b={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor","stroke-width":2,"stroke-linecap":"round","stroke-linejoin":"round"};/**
 * @license lucide-svelte v0.564.0 - ISC
 *
 * ISC License
 * 
 * Copyright (c) for portions of Lucide are held by Cole Bemis 2013-2026 as part of Feather (MIT). All other copyright (c) for Lucide are held by Lucide Contributors 2026.
 * 
 * Permission to use, copy, modify, and/or distribute this software for any
 * purpose with or without fee is hereby granted, provided that the above
 * copyright notice and this permission notice appear in all copies.
 * 
 * THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES
 * WITH REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF
 * MERCHANTABILITY AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR
 * ANY SPECIAL, DIRECT, INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES
 * WHATSOEVER RESULTING FROM LOSS OF USE, DATA OR PROFITS, WHETHER IN AN
 * ACTION OF CONTRACT, NEGLIGENCE OR OTHER TORTIOUS ACTION, ARISING OUT OF
 * OR IN CONNECTION WITH THE USE OR PERFORMANCE OF THIS SOFTWARE.
 * 
 * ---
 * 
 * The MIT License (MIT) (for portions derived from Feather)
 * 
 * Copyright (c) 2013-2026 Cole Bemis
 * 
 * Permission is hereby granted, free of charge, to any person obtaining a copy
 * of this software and associated documentation files (the "Software"), to deal
 * in the Software without restriction, including without limitation the rights
 * to use, copy, modify, merge, publish, distribute, sublicense, and/or sell
 * copies of the Software, and to permit persons to whom the Software is
 * furnished to do so, subject to the following conditions:
 * 
 * The above copyright notice and this permission notice shall be included in all
 * copies or substantial portions of the Software.
 * 
 * THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR
 * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,
 * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE
 * AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER
 * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,
 * OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE
 * SOFTWARE.
 * 
 */const e_=e=>{for(const t in e)if(t.startsWith("aria-")||t==="role"||t==="title")return!0;return!1};/**
 * @license lucide-svelte v0.564.0 - ISC
 *
 * ISC License
 * 
 * Copyright (c) for portions of Lucide are held by Cole Bemis 2013-2026 as part of Feather (MIT). All other copyright (c) for Lucide are held by Lucide Contributors 2026.
 * 
 * Permission to use, copy, modify, and/or distribute this software for any
 * purpose with or without fee is hereby granted, provided that the above
 * copyright notice and this permission notice appear in all copies.
 * 
 * THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES
 * WITH REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF
 * MERCHANTABILITY AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR
 * ANY SPECIAL, DIRECT, INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES
 * WHATSOEVER RESULTING FROM LOSS OF USE, DATA OR PROFITS, WHETHER IN AN
 * ACTION OF CONTRACT, NEGLIGENCE OR OTHER TORTIOUS ACTION, ARISING OUT OF
 * OR IN CONNECTION WITH THE USE OR PERFORMANCE OF THIS SOFTWARE.
 * 
 * ---
 * 
 * The MIT License (MIT) (for portions derived from Feather)
 * 
 * Copyright (c) 2013-2026 Cole Bemis
 * 
 * Permission is hereby granted, free of charge, to any person obtaining a copy
 * of this software and associated documentation files (the "Software"), to deal
 * in the Software without restriction, including without limitation the rights
 * to use, copy, modify, merge, publish, distribute, sublicense, and/or sell
 * copies of the Software, and to permit persons to whom the Software is
 * furnished to do so, subject to the following conditions:
 * 
 * The above copyright notice and this permission notice shall be included in all
 * copies or substantial portions of the Software.
 * 
 * THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR
 * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,
 * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE
 * AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER
 * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,
 * OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE
 * SOFTWARE.
 * 
 */const Gu=(...e)=>e.filter((t,n,r)=>!!t&&t.trim()!==""&&r.indexOf(t)===n).join(" ").trim();var t_=Ut("<svg><!><!></svg>");function wr(e,t){const n=sn(t,["children","$$slots","$$events","$$legacy"]),r=sn(n,["name","color","size","strokeWidth","absoluteStrokeWidth","iconNode"]);Ee(t,!1);let i=te(t,"name",8,void 0),o=te(t,"color",8,"currentColor"),s=te(t,"size",8,24),a=te(t,"strokeWidth",8,2),u=te(t,"absoluteStrokeWidth",8,!1),c=te(t,"iconNode",24,()=>[]);tr();var d=t_();pn(d,(g,p,b)=>({...$b,...g,...r,width:s(),height:s(),stroke:o(),"stroke-width":p,class:b}),[()=>e_(r)?void 0:{"aria-hidden":"true"},()=>(He(u()),He(a()),He(s()),ze(()=>u()?Number(a())*24/Number(s()):a())),()=>(He(Gu),He(i()),He(n),ze(()=>Gu("lucide-icon","lucide",i()?`lucide-${i()}`:"",n.class)))]);var h=se(d);ot(h,1,c,Mt,(g,p)=>{var b=V(()=>yr(l(p),2));let y=()=>l(b)[0],x=()=>l(b)[1];var w=$e(),k=Ae(w);lg(k,y,!0,(m,A)=>{pn(m,()=>({...x()}))}),ne(g,w)});var f=de(h);Dn(f,t,"default",{}),ne(e,d),Ne()}function n_(e,t){const n=sn(t,["children","$$slots","$$events","$$legacy"]);/**
 * @license lucide-svelte v0.564.0 - ISC
 *
 * ISC License
 *
 * Copyright (c) for portions of Lucide are held by Cole Bemis 2013-2026 as part of Feather (MIT). All other copyright (c) for Lucide are held by Lucide Contributors 2026.
 *
 * Permission to use, copy, modify, and/or distribute this software for any
 * purpose with or without fee is hereby granted, provided that the above
 * copyright notice and this permission notice appear in all copies.
 *
 * THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES
 * WITH REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF
 * MERCHANTABILITY AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR
 * ANY SPECIAL, DIRECT, INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES
 * WHATSOEVER RESULTING FROM LOSS OF USE, DATA OR PROFITS, WHETHER IN AN
 * ACTION OF CONTRACT, NEGLIGENCE OR OTHER TORTIOUS ACTION, ARISING OUT OF
 * OR IN CONNECTION WITH THE USE OR PERFORMANCE OF THIS SOFTWARE.
 *
 * ---
 *
 * The MIT License (MIT) (for portions derived from Feather)
 *
 * Copyright (c) 2013-2026 Cole Bemis
 *
 * Permission is hereby granted, free of charge, to any person obtaining a copy
 * of this software and associated documentation files (the "Software"), to deal
 * in the Software without restriction, including without limitation the rights
 * to use, copy, modify, merge, publish, distribute, sublicense, and/or sell
 * copies of the Software, and to permit persons to whom the Software is
 * furnished to do so, subject to the following conditions:
 *
 * The above copyright notice and this permission notice shall be included in all
 * copies or substantial portions of the Software.
 *
 * THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR
 * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,
 * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE
 * AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER
 * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,
 * OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE
 * SOFTWARE.
 *
 */const r=[["path",{d:"M3 19V5"}],["path",{d:"m13 6-6 6 6 6"}],["path",{d:"M7 12h14"}]];wr(e,jt({name:"arrow-left-to-line"},()=>n,{get iconNode(){return r},children:(i,o)=>{var s=$e(),a=Ae(s);Dn(a,t,"default",{}),ne(i,s)},$$slots:{default:!0}}))}function r_(e,t){const n=sn(t,["children","$$slots","$$events","$$legacy"]);/**
 * @license lucide-svelte v0.564.0 - ISC
 *
 * ISC License
 *
 * Copyright (c) for portions of Lucide are held by Cole Bemis 2013-2026 as part of Feather (MIT). All other copyright (c) for Lucide are held by Lucide Contributors 2026.
 *
 * Permission to use, copy, modify, and/or distribute this software for any
 * purpose with or without fee is hereby granted, provided that the above
 * copyright notice and this permission notice appear in all copies.
 *
 * THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES
 * WITH REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF
 * MERCHANTABILITY AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR
 * ANY SPECIAL, DIRECT, INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES
 * WHATSOEVER RESULTING FROM LOSS OF USE, DATA OR PROFITS, WHETHER IN AN
 * ACTION OF CONTRACT, NEGLIGENCE OR OTHER TORTIOUS ACTION, ARISING OUT OF
 * OR IN CONNECTION WITH THE USE OR PERFORMANCE OF THIS SOFTWARE.
 *
 * ---
 *
 * The MIT License (MIT) (for portions derived from Feather)
 *
 * Copyright (c) 2013-2026 Cole Bemis
 *
 * Permission is hereby granted, free of charge, to any person obtaining a copy
 * of this software and associated documentation files (the "Software"), to deal
 * in the Software without restriction, including without limitation the rights
 * to use, copy, modify, merge, publish, distribute, sublicense, and/or sell
 * copies of the Software, and to permit persons to whom the Software is
 * furnished to do so, subject to the following conditions:
 *
 * The above copyright notice and this permission notice shall be included in all
 * copies or substantial portions of the Software.
 *
 * THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR
 * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,
 * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE
 * AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER
 * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,
 * OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE
 * SOFTWARE.
 *
 */const r=[["path",{d:"M10 10h4"}],["path",{d:"M19 7V4a1 1 0 0 0-1-1h-2a1 1 0 0 0-1 1v3"}],["path",{d:"M20 21a2 2 0 0 0 2-2v-3.851c0-1.39-2-2.962-2-4.829V8a1 1 0 0 0-1-1h-4a1 1 0 0 0-1 1v11a2 2 0 0 0 2 2z"}],["path",{d:"M 22 16 L 2 16"}],["path",{d:"M4 21a2 2 0 0 1-2-2v-3.851c0-1.39 2-2.962 2-4.829V8a1 1 0 0 1 1-1h4a1 1 0 0 1 1 1v11a2 2 0 0 1-2 2z"}],["path",{d:"M9 7V4a1 1 0 0 0-1-1H6a1 1 0 0 0-1 1v3"}]];wr(e,jt({name:"binoculars"},()=>n,{get iconNode(){return r},children:(i,o)=>{var s=$e(),a=Ae(s);Dn(a,t,"default",{}),ne(i,s)},$$slots:{default:!0}}))}function i_(e,t){const n=sn(t,["children","$$slots","$$events","$$legacy"]);/**
 * @license lucide-svelte v0.564.0 - ISC
 *
 * ISC License
 *
 * Copyright (c) for portions of Lucide are held by Cole Bemis 2013-2026 as part of Feather (MIT). All other copyright (c) for Lucide are held by Lucide Contributors 2026.
 *
 * Permission to use, copy, modify, and/or distribute this software for any
 * purpose with or without fee is hereby granted, provided that the above
 * copyright notice and this permission notice appear in all copies.
 *
 * THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES
 * WITH REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF
 * MERCHANTABILITY AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR
 * ANY SPECIAL, DIRECT, INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES
 * WHATSOEVER RESULTING FROM LOSS OF USE, DATA OR PROFITS, WHETHER IN AN
 * ACTION OF CONTRACT, NEGLIGENCE OR OTHER TORTIOUS ACTION, ARISING OUT OF
 * OR IN CONNECTION WITH THE USE OR PERFORMANCE OF THIS SOFTWARE.
 *
 * ---
 *
 * The MIT License (MIT) (for portions derived from Feather)
 *
 * Copyright (c) 2013-2026 Cole Bemis
 *
 * Permission is hereby granted, free of charge, to any person obtaining a copy
 * of this software and associated documentation files (the "Software"), to deal
 * in the Software without restriction, including without limitation the rights
 * to use, copy, modify, merge, publish, distribute, sublicense, and/or sell
 * copies of the Software, and to permit persons to whom the Software is
 * furnished to do so, subject to the following conditions:
 *
 * The above copyright notice and this permission notice shall be included in all
 * copies or substantial portions of the Software.
 *
 * THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR
 * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,
 * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE
 * AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER
 * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,
 * OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE
 * SOFTWARE.
 *
 */const r=[["path",{d:"M8 3H7a2 2 0 0 0-2 2v5a2 2 0 0 1-2 2 2 2 0 0 1 2 2v5c0 1.1.9 2 2 2h1"}],["path",{d:"M16 21h1a2 2 0 0 0 2-2v-5c0-1.1.9-2 2-2a2 2 0 0 1-2-2V5a2 2 0 0 0-2-2h-1"}]];wr(e,jt({name:"braces"},()=>n,{get iconNode(){return r},children:(i,o)=>{var s=$e(),a=Ae(s);Dn(a,t,"default",{}),ne(i,s)},$$slots:{default:!0}}))}function _f(e,t){const n=sn(t,["children","$$slots","$$events","$$legacy"]);/**
 * @license lucide-svelte v0.564.0 - ISC
 *
 * ISC License
 *
 * Copyright (c) for portions of Lucide are held by Cole Bemis 2013-2026 as part of Feather (MIT). All other copyright (c) for Lucide are held by Lucide Contributors 2026.
 *
 * Permission to use, copy, modify, and/or distribute this software for any
 * purpose with or without fee is hereby granted, provided that the above
 * copyright notice and this permission notice appear in all copies.
 *
 * THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES
 * WITH REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF
 * MERCHANTABILITY AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR
 * ANY SPECIAL, DIRECT, INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES
 * WHATSOEVER RESULTING FROM LOSS OF USE, DATA OR PROFITS, WHETHER IN AN
 * ACTION OF CONTRACT, NEGLIGENCE OR OTHER TORTIOUS ACTION, ARISING OUT OF
 * OR IN CONNECTION WITH THE USE OR PERFORMANCE OF THIS SOFTWARE.
 *
 * ---
 *
 * The MIT License (MIT) (for portions derived from Feather)
 *
 * Copyright (c) 2013-2026 Cole Bemis
 *
 * Permission is hereby granted, free of charge, to any person obtaining a copy
 * of this software and associated documentation files (the "Software"), to deal
 * in the Software without restriction, including without limitation the rights
 * to use, copy, modify, merge, publish, distribute, sublicense, and/or sell
 * copies of the Software, and to permit persons to whom the Software is
 * furnished to do so, subject to the following conditions:
 *
 * The above copyright notice and this permission notice shall be included in all
 * copies or substantial portions of the Software.
 *
 * THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR
 * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,
 * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE
 * AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER
 * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,
 * OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE
 * SOFTWARE.
 *
 */const r=[["circle",{cx:"12",cy:"12",r:"10"}],["path",{d:"M9.09 9a3 3 0 0 1 5.83 1c0 2-3 3-3 3"}],["path",{d:"M12 17h.01"}]];wr(e,jt({name:"circle-question-mark"},()=>n,{get iconNode(){return r},children:(i,o)=>{var s=$e(),a=Ae(s);Dn(a,t,"default",{}),ne(i,s)},$$slots:{default:!0}}))}function wf(e,t){const n=sn(t,["children","$$slots","$$events","$$legacy"]);/**
 * @license lucide-svelte v0.564.0 - ISC
 *
 * ISC License
 *
 * Copyright (c) for portions of Lucide are held by Cole Bemis 2013-2026 as part of Feather (MIT). All other copyright (c) for Lucide are held by Lucide Contributors 2026.
 *
 * Permission to use, copy, modify, and/or distribute this software for any
 * purpose with or without fee is hereby granted, provided that the above
 * copyright notice and this permission notice appear in all copies.
 *
 * THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES
 * WITH REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF
 * MERCHANTABILITY AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR
 * ANY SPECIAL, DIRECT, INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES
 * WHATSOEVER RESULTING FROM LOSS OF USE, DATA OR PROFITS, WHETHER IN AN
 * ACTION OF CONTRACT, NEGLIGENCE OR OTHER TORTIOUS ACTION, ARISING OUT OF
 * OR IN CONNECTION WITH THE USE OR PERFORMANCE OF THIS SOFTWARE.
 *
 * ---
 *
 * The MIT License (MIT) (for portions derived from Feather)
 *
 * Copyright (c) 2013-2026 Cole Bemis
 *
 * Permission is hereby granted, free of charge, to any person obtaining a copy
 * of this software and associated documentation files (the "Software"), to deal
 * in the Software without restriction, including without limitation the rights
 * to use, copy, modify, merge, publish, distribute, sublicense, and/or sell
 * copies of the Software, and to permit persons to whom the Software is
 * furnished to do so, subject to the following conditions:
 *
 * The above copyright notice and this permission notice shall be included in all
 * copies or substantial portions of the Software.
 *
 * THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR
 * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,
 * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE
 * AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER
 * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,
 * OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE
 * SOFTWARE.
 *
 */const r=[["path",{d:"M2.992 16.342a2 2 0 0 1 .094 1.167l-1.065 3.29a1 1 0 0 0 1.236 1.168l3.413-.998a2 2 0 0 1 1.099.092 10 10 0 1 0-4.777-4.719"}],["path",{d:"M8 12h.01"}],["path",{d:"M12 12h.01"}],["path",{d:"M16 12h.01"}]];wr(e,jt({name:"message-circle-more"},()=>n,{get iconNode(){return r},children:(i,o)=>{var s=$e(),a=Ae(s);Dn(a,t,"default",{}),ne(i,s)},$$slots:{default:!0}}))}function o_(e,t){const n=sn(t,["children","$$slots","$$events","$$legacy"]);/**
 * @license lucide-svelte v0.564.0 - ISC
 *
 * ISC License
 *
 * Copyright (c) for portions of Lucide are held by Cole Bemis 2013-2026 as part of Feather (MIT). All other copyright (c) for Lucide are held by Lucide Contributors 2026.
 *
 * Permission to use, copy, modify, and/or distribute this software for any
 * purpose with or without fee is hereby granted, provided that the above
 * copyright notice and this permission notice appear in all copies.
 *
 * THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES
 * WITH REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF
 * MERCHANTABILITY AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR
 * ANY SPECIAL, DIRECT, INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES
 * WHATSOEVER RESULTING FROM LOSS OF USE, DATA OR PROFITS, WHETHER IN AN
 * ACTION OF CONTRACT, NEGLIGENCE OR OTHER TORTIOUS ACTION, ARISING OUT OF
 * OR IN CONNECTION WITH THE USE OR PERFORMANCE OF THIS SOFTWARE.
 *
 * ---
 *
 * The MIT License (MIT) (for portions derived from Feather)
 *
 * Copyright (c) 2013-2026 Cole Bemis
 *
 * Permission is hereby granted, free of charge, to any person obtaining a copy
 * of this software and associated documentation files (the "Software"), to deal
 * in the Software without restriction, including without limitation the rights
 * to use, copy, modify, merge, publish, distribute, sublicense, and/or sell
 * copies of the Software, and to permit persons to whom the Software is
 * furnished to do so, subject to the following conditions:
 *
 * The above copyright notice and this permission notice shall be included in all
 * copies or substantial portions of the Software.
 *
 * THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR
 * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,
 * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE
 * AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER
 * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,
 * OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE
 * SOFTWARE.
 *
 */const r=[["rect",{x:"16",y:"16",width:"6",height:"6",rx:"1"}],["rect",{x:"2",y:"16",width:"6",height:"6",rx:"1"}],["rect",{x:"9",y:"2",width:"6",height:"6",rx:"1"}],["path",{d:"M5 16v-3a1 1 0 0 1 1-1h12a1 1 0 0 1 1 1v3"}],["path",{d:"M12 12V8"}]];wr(e,jt({name:"network"},()=>n,{get iconNode(){return r},children:(i,o)=>{var s=$e(),a=Ae(s);Dn(a,t,"default",{}),ne(i,s)},$$slots:{default:!0}}))}function Pl(e,t){const n=sn(t,["children","$$slots","$$events","$$legacy"]);/**
 * @license lucide-svelte v0.564.0 - ISC
 *
 * ISC License
 *
 * Copyright (c) for portions of Lucide are held by Cole Bemis 2013-2026 as part of Feather (MIT). All other copyright (c) for Lucide are held by Lucide Contributors 2026.
 *
 * Permission to use, copy, modify, and/or distribute this software for any
 * purpose with or without fee is hereby granted, provided that the above
 * copyright notice and this permission notice appear in all copies.
 *
 * THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES
 * WITH REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF
 * MERCHANTABILITY AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR
 * ANY SPECIAL, DIRECT, INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES
 * WHATSOEVER RESULTING FROM LOSS OF USE, DATA OR PROFITS, WHETHER IN AN
 * ACTION OF CONTRACT, NEGLIGENCE OR OTHER TORTIOUS ACTION, ARISING OUT OF
 * OR IN CONNECTION WITH THE USE OR PERFORMANCE OF THIS SOFTWARE.
 *
 * ---
 *
 * The MIT License (MIT) (for portions derived from Feather)
 *
 * Copyright (c) 2013-2026 Cole Bemis
 *
 * Permission is hereby granted, free of charge, to any person obtaining a copy
 * of this software and associated documentation files (the "Software"), to deal
 * in the Software without restriction, including without limitation the rights
 * to use, copy, modify, merge, publish, distribute, sublicense, and/or sell
 * copies of the Software, and to permit persons to whom the Software is
 * furnished to do so, subject to the following conditions:
 *
 * The above copyright notice and this permission notice shall be included in all
 * copies or substantial portions of the Software.
 *
 * THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR
 * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,
 * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE
 * AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER
 * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,
 * OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE
 * SOFTWARE.
 *
 */const r=[["path",{d:"M21.174 6.812a1 1 0 0 0-3.986-3.987L3.842 16.174a2 2 0 0 0-.5.83l-1.321 4.352a.5.5 0 0 0 .623.622l4.353-1.32a2 2 0 0 0 .83-.497z"}],["path",{d:"m15 5 4 4"}]];wr(e,jt({name:"pencil"},()=>n,{get iconNode(){return r},children:(i,o)=>{var s=$e(),a=Ae(s);Dn(a,t,"default",{}),ne(i,s)},$$slots:{default:!0}}))}function xf(e,t){const n=sn(t,["children","$$slots","$$events","$$legacy"]);/**
 * @license lucide-svelte v0.564.0 - ISC
 *
 * ISC License
 *
 * Copyright (c) for portions of Lucide are held by Cole Bemis 2013-2026 as part of Feather (MIT). All other copyright (c) for Lucide are held by Lucide Contributors 2026.
 *
 * Permission to use, copy, modify, and/or distribute this software for any
 * purpose with or without fee is hereby granted, provided that the above
 * copyright notice and this permission notice appear in all copies.
 *
 * THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES
 * WITH REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF
 * MERCHANTABILITY AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR
 * ANY SPECIAL, DIRECT, INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES
 * WHATSOEVER RESULTING FROM LOSS OF USE, DATA OR PROFITS, WHETHER IN AN
 * ACTION OF CONTRACT, NEGLIGENCE OR OTHER TORTIOUS ACTION, ARISING OUT OF
 * OR IN CONNECTION WITH THE USE OR PERFORMANCE OF THIS SOFTWARE.
 *
 * ---
 *
 * The MIT License (MIT) (for portions derived from Feather)
 *
 * Copyright (c) 2013-2026 Cole Bemis
 *
 * Permission is hereby granted, free of charge, to any person obtaining a copy
 * of this software and associated documentation files (the "Software"), to deal
 * in the Software without restriction, including without limitation the rights
 * to use, copy, modify, merge, publish, distribute, sublicense, and/or sell
 * copies of the Software, and to permit persons to whom the Software is
 * furnished to do so, subject to the following conditions:
 *
 * The above copyright notice and this permission notice shall be included in all
 * copies or substantial portions of the Software.
 *
 * THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR
 * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,
 * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE
 * AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER
 * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,
 * OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE
 * SOFTWARE.
 *
 */const r=[["path",{d:"m21 21-4.34-4.34"}],["circle",{cx:"11",cy:"11",r:"8"}]];wr(e,jt({name:"search"},()=>n,{get iconNode(){return r},children:(i,o)=>{var s=$e(),a=Ae(s);Dn(a,t,"default",{}),ne(i,s)},$$slots:{default:!0}}))}var s_=ue('<div role="tooltip"> </div>'),a_=ue("<div><!> <!></div>");function Ef(e,t){const n=sn(t,["children","$$slots","$$events","$$legacy"]),r=sn(n,["text","delayMs","disabled","placement","wrapperClass","tooltipClass","groupAriaLabel"]);Ee(t,!1);const i=Oe(),o=Oe(),s=Oe();let a=te(t,"text",8),u=te(t,"delayMs",8,300),c=te(t,"disabled",8,!1),d=te(t,"placement",8,"bottom"),h=te(t,"wrapperClass",8,""),f=te(t,"tooltipClass",8,""),g=te(t,"groupAriaLabel",8),p=Oe(!1),b;Io(()=>{y()});function y(){typeof b<"u"&&(clearTimeout(b),b=void 0)}function x(){y(),K(p,!1)}function w(){if(!(c()||!l(i))){if(y(),l(o)===0){K(p,!0);return}b=setTimeout(()=>{K(p,!0),b=void 0},l(o))}}function k(){w()}function m(){x()}function A(){c()||!l(i)||(y(),K(p,!0))}function T(_){var v,C;const E=_.relatedTarget;(C=(v=_.currentTarget)==null?void 0:v.contains)!=null&&C.call(v,E)||x()}function O(_){switch(_){case"top":return"left-1/2 bottom-full mb-1.5 -translate-x-1/2";case"right":return"left-full top-1/2 ml-2 -translate-y-1/2";case"left":return"right-full top-1/2 mr-2 -translate-y-1/2";default:return"left-1/2 top-full mt-1.5 -translate-x-1/2"}}Me(()=>He(a()),()=>{K(i,typeof a()=="string"?a():void 0)}),Me(()=>He(u()),()=>{K(o,Number(u())||0)}),Me(()=>He(d()),()=>{K(s,O(d()))}),Me(()=>(He(c()),l(i)),()=>{(c()||!l(i))&&x()}),Ti(),tr();var S=a_();pn(S,()=>({...r,class:`relative ${h()??""}`,role:"group","aria-label":g(),onmouseenter:k,onmouseleave:m,onfocusin:A,onfocusout:T}));var F=se(S);Dn(F,t,"default",{});var R=de(F,2);{var N=_=>{var E=s_(),v=se(E);_e(()=>{Pt(E,1,`pointer-events-none absolute z-20 w-max max-w-64 whitespace-normal rounded-md border border-vsc-editor-widget-border bg-vsc-editor-widget-bg px-2 py-1 text-[11px] leading-4 text-vsc-input-fg shadow-lg ${l(s)??""} ${f()??""}`),We(v,l(i))}),ne(_,E)};Re(R,_=>{l(p)&&l(i)&&_(N)})}ne(e,S),Ne()}const at=Object.freeze({GO_TO_ROOT:"go-to-root",FIT_FULL_VIEW:"fit-full-view",SEARCH_NODES:"search-nodes",AUTO_POSITION_NODES:"auto-position-nodes",VIEW_RAW_JSON:"view-raw-json",HELP_AND_HOTKEYS:"help-and-hotkeys"}),Ws=Object.freeze([{id:at.GO_TO_ROOT,eventName:"gotoroot",commandId:"hytale-devtools.nodeEditor.quickAction.goToRoot",name:"Go to root"},{id:at.FIT_FULL_VIEW,eventName:"fitfullview",commandId:"hytale-devtools.nodeEditor.quickAction.fitFullView",name:"Fit full view",defaultKeybinding:{win:"V",linux:"V",mac:"V"}},{id:at.SEARCH_NODES,eventName:"searchnodes",commandId:"hytale-devtools.nodeEditor.quickAction.searchNodes",name:"Search nodes",keybindingSourceCommandId:"editor.action.webvieweditor.showFind",defaultKeybinding:{win:"F",linux:"F",mac:"F"}},{id:at.AUTO_POSITION_NODES,eventName:"autopositionnodes",commandId:"hytale-devtools.nodeEditor.quickAction.autoPositionNodes",name:"Auto position nodes",defaultKeybinding:{win:"L",linux:"L",mac:"L"}},{id:at.VIEW_RAW_JSON,eventName:"viewrawjson",commandId:"hytale-devtools.nodeEditor.quickAction.viewRawJson",name:"View raw json"},{id:at.HELP_AND_HOTKEYS,eventName:"helphotkeys",commandId:"hytale-devtools.nodeEditor.quickAction.helpAndHotkeys",name:"Show help",defaultKeybinding:{win:"?",linux:"?",mac:"?"}}]),l_=new Map(Ws.map(e=>[e.id,e])),u_=new Map(Ws.map(e=>[e.eventName,e])),qa=new Map;for(const e of Ws){qa.set(e.commandId,e);const t=e.keybindingSourceCommandId;t&&qa.set(t,e)}function Al(e){return e?l_.get(e):void 0}function c_(e){return e?u_.get(e):void 0}function d_(e){return e?qa.get(e):void 0}var f_=ue('<span aria-hidden="true" class="mx-0.5 h-5 w-px bg-vsc-editor-widget-border"></span>'),h_=ue('<button type="button" class="flex h-8 w-8 items-center justify-center rounded-md border border-transparent text-vsc-muted transition-colors hover:border-vsc-editor-widget-border hover:bg-vsc-list-hover hover:text-vsc-editor-fg focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-vsc-focus"><!></button>'),g_=ue('<nav aria-label="Node editor quick actions" class="flex items-center gap-1 rounded-xl border border-vsc-editor-widget-border bg-vsc-editor-widget-bg px-2 py-0.5 shadow-2xl"></nav>');function v_(e,t){Ee(t,!1);const n=Cs(),i=[{id:at.GO_TO_ROOT,icon:n_},{id:at.FIT_FULL_VIEW,icon:r_},{key:"separator-navigation",separator:!0},{id:at.SEARCH_NODES,icon:xf},{id:at.AUTO_POSITION_NODES,icon:o_},{key:"separator-utility",separator:!0},{id:at.VIEW_RAW_JSON,icon:i_},{id:at.HELP_AND_HOTKEYS,icon:_f}].map(a=>a.separator?a:{...a,action:Al(a.id)}).filter(a=>a.separator===!0||!!(a!=null&&a.action));function o(a){a!=null&&a.eventName&&n(a.eventName)}function s(a){return(a==null?void 0:a.id)===at.AUTO_POSITION_NODES?"-rotate-90":void 0}tr(),Ol(e,{position:"top-center",class:"pointer-events-auto",children:(a,u)=>{var c=g_();ot(c,5,()=>i,d=>d.key??d.id,(d,h)=>{var f=$e(),g=Ae(f);{var p=y=>{var x=f_();ne(y,x)},b=y=>{Ef(y,{get text(){return l(h).action.name},placement:"bottom",delayMs:220,children:(x,w)=>{var k=h_();k.__click=()=>o(l(h).action);var m=se(k);{let A=Ss(()=>s(l(h)));Ps(m,()=>l(h).icon,(T,O)=>{O(T,{get class(){return l(A)},size:16,strokeWidth:2})})}_e(()=>be(k,"aria-label",l(h).action.name)),ne(x,k)},$$slots:{default:!0}})};Re(g,y=>{l(h).separator?y(p):y(b,!1)})}ne(d,f)}),ne(a,c)},$$slots:{default:!0}}),Ne()}pt(["click"]);var p_=ue('<span class="text-[0.65rem] text-vsc-muted">+</span>'),m_=ue('<kbd class="rounded border border-vsc-editor-widget-border bg-vsc-input-bg px-1.5 py-0 text-[0.65rem] leading-4 text-vsc-input-fg"> </kbd> <!>',1),y_=ue('<span class="px-1 text-[0.65rem] text-vsc-muted">or</span>'),b_=ue('<span class="inline-flex items-center gap-1"></span> <!>',1),__=ue('<div class="flex items-center justify-between gap-3"><span class="text-xs"> </span> <div class="flex flex-wrap items-center gap-1"></div></div>'),w_=ue('<span class="text-[0.65rem] text-vsc-muted">+</span>'),x_=ue('<kbd class="rounded border border-vsc-editor-widget-border bg-vsc-input-bg px-1.5 py-0 text-[0.65rem] leading-4 text-vsc-input-fg"> </kbd> <!>',1),E_=ue('<span class="px-1 text-[0.65rem] text-vsc-muted">or</span>'),N_=ue('<span class="inline-flex items-center gap-1"></span> <!>',1),k_=ue('<div class="flex items-center justify-between gap-3"><span class="text-xs"> </span> <div class="flex flex-wrap items-center gap-1"></div></div>'),I_=ue('<span class="text-[0.65rem] text-vsc-muted">+</span>'),S_=ue('<kbd class="rounded border border-vsc-editor-widget-border bg-vsc-input-bg px-1.5 py-0 text-[0.65rem] leading-4 text-vsc-input-fg"> </kbd> <!>',1),T_=ue('<span class="px-1 text-[0.65rem] text-vsc-muted">or</span>'),O_=ue('<span class="inline-flex items-center gap-1"></span> <!>',1),P_=ue('<div class="flex items-center justify-between gap-3"><span class="text-xs"> </span> <div class="flex flex-wrap items-center gap-1"></div></div>'),A_=ue('<div data-node-help-overlay="true" class="absolute inset-0 z-50 flex items-center justify-center bg-black/15 p-4"><button type="button" aria-label="Close help" class="absolute inset-0 border-0 bg-transparent p-0"></button> <div role="dialog" aria-modal="true" aria-label="Default Keybinds" tabindex="-1" class="relative w-[30rem] max-h-[72vh] max-w-[96vw] overflow-auto rounded-xl border border-vsc-editor-widget-border bg-vsc-editor-widget-bg p-3 text-vsc-editor-fg shadow-2xl outline-none focus:outline-none focus-visible:outline-none"><div class="mb-3 flex items-center justify-between gap-2"><div class="flex items-center gap-2"><!> <h2 class="text-sm font-semibold">Default Keybinds</h2></div> <button type="button" class="inline-flex items-center gap-2 rounded-md border border-vsc-input-border bg-vsc-button-secondary-bg px-2 py-1 text-[0.7rem] font-medium text-vsc-button-secondary-fg hover:bg-vsc-button-secondary-hover focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-vsc-focus">Close</button></div> <div class="flex flex-col gap-4"><section class="rounded-lg border border-vsc-editor-widget-border bg-vsc-button-secondary-bg p-2.5"><h3 class="mb-2 text-[0.65rem] font-semibold uppercase tracking-[0.1em] text-vsc-muted">Editing</h3> <div class="grid gap-2"></div></section> <section class="rounded-lg border border-vsc-editor-widget-border bg-vsc-button-secondary-bg p-2.5"><h3 class="mb-2 text-[0.65rem] font-semibold uppercase tracking-[0.1em] text-vsc-muted">Navigation</h3> <div class="grid gap-2"></div></section> <section class="rounded-lg border border-vsc-editor-widget-border bg-vsc-button-secondary-bg p-2.5"><h3 class="mb-2 text-[0.65rem] font-semibold uppercase tracking-[0.1em] text-vsc-muted">Actions</h3> <div class="grid gap-2"></div></section></div> <div class="mt-3 flex flex-wrap items-center justify-between gap-2 border-t border-vsc-editor-widget-border pt-2"><p class="text-[0.65rem] text-vsc-muted">Keybinds can be customized in VSCode settings</p> <button type="button" class="inline-flex items-center rounded-md border border-vsc-input-border bg-vsc-button-secondary-bg px-2 py-1 text-[0.7rem] font-medium text-vsc-button-secondary-fg hover:bg-vsc-button-secondary-hover focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-vsc-focus">Customize</button></div></div></div>');function C_(e,t){Ee(t,!1);const n=Oe(),r=Oe(),i=Oe();let o=te(t,"open",8,!1),s=te(t,"openVersion",8,0);const a=Cs(),u=[at.SEARCH_NODES,at.FIT_FULL_VIEW,at.AUTO_POSITION_NODES,at.HELP_AND_HOTKEYS],c={label:"Add node",combos:[["Right click"]]},d=[{label:"Pan canvas",combos:[["Shift","Scroll"]]},{label:"Box select",combos:[["Shift","Drag"]]}],h=[{label:"Undo",combos:[["Cmd","Z"]]},{label:"Redo",combos:[["Shift","Cmd","Z"]]},{label:"Copy",combos:[["Cmd","C"]]},{label:"Cut",combos:[["Cmd","X"]]},{label:"Paste",combos:[["Cmd","V"]]}],f=[{label:"Undo",combos:[["Ctrl","Z"]]},{label:"Redo",combos:[["Ctrl","Y"],["Ctrl","Shift","Z"]]},{label:"Copy",combos:[["Ctrl","C"]]},{label:"Cut",combos:[["Ctrl","X"]]},{label:"Paste",combos:[["Ctrl","V"]]}];let g=Oe(),p=Oe(-1);function b(){a("close")}function y(){b()}function x(){a("customizekeybinds")}function w(R){const N=new Map(Ws.map(_=>[_.id,_]));return u.map(_=>N.get(_)).filter(Boolean).map(_=>({label:_.name,combos:[k(_,R)].filter(E=>Array.isArray(E)&&E.length>0)})).filter(_=>_.combos.length>0)}function k(R,N){const _=R==null?void 0:R.defaultKeybinding;if(!_)return[];const E=N==="mac"?_.mac:N==="linux"?_.linux:_.win;return m(E)}function m(R){const N=T(R);return N?N.split("+").map(_=>T(_)).filter(Boolean):[]}function A(){var _,E,v;const N=(T((E=(_=globalThis==null?void 0:globalThis.navigator)==null?void 0:_.userAgentData)==null?void 0:E.platform)??T((v=globalThis==null?void 0:globalThis.navigator)==null?void 0:v.platform)??"").toLowerCase();return N.includes("mac")?"mac":N.includes("linux")?"linux":"win"}function T(R){return typeof R=="string"?R:void 0}Me(()=>{},()=>{K(n,A())}),Me(()=>l(n),()=>{K(r,[c,...w(l(n))])}),Me(()=>l(n),()=>{K(i,l(n)==="mac"?h:f)}),Me(()=>(He(o()),He(s()),l(p),l(g)),()=>{o()&&s()!==l(p)&&(K(p,s()),dt().then(()=>{var R;return(R=l(g))==null?void 0:R.focus()}))}),Ti(),tr();var O=$e(),S=Ae(O);{var F=R=>{var N=A_(),_=se(N);_.__pointerdown=y;var E=de(_,2);E.__pointerdown=X=>X.stopPropagation();var v=se(E),C=se(v),I=se(C);_f(I,{"aria-hidden":"true",size:15,strokeWidth:2,class:"text-vsc-muted"});var M=de(C,2);M.__click=b;var L=de(v,2),H=se(L),Y=de(se(H),2);ot(Y,5,()=>l(i),Mt,(X,j)=>{var J=__(),q=se(J),$=se(q),he=de(q,2);ot(he,5,()=>(l(j),ze(()=>l(j).combos)),Mt,(me,oe,ge)=>{var we=b_(),Se=Ae(we);ot(Se,5,()=>l(oe),Mt,(ae,pe,Ie)=>{var Te=m_(),Be=Ae(Te),De=se(Be),tt=de(Be,2);{var ht=qe=>{var mt=p_();ne(qe,mt)};Re(tt,qe=>{l(oe),ze(()=>Ie<l(oe).length-1)&&qe(ht)})}_e(()=>We(De,l(pe))),ne(ae,Te)});var ye=de(Se,2);{var ie=ae=>{var pe=y_();ne(ae,pe)};Re(ye,ae=>{l(j),ze(()=>ge<l(j).combos.length-1)&&ae(ie)})}ne(me,we)}),_e(()=>We($,(l(j),ze(()=>l(j).label)))),ne(X,J)});var G=de(H,2),U=de(se(G),2);ot(U,5,()=>d,Mt,(X,j)=>{var J=k_(),q=se(J),$=se(q),he=de(q,2);ot(he,5,()=>(l(j),ze(()=>l(j).combos)),Mt,(me,oe,ge)=>{var we=N_(),Se=Ae(we);ot(Se,5,()=>l(oe),Mt,(ae,pe,Ie)=>{var Te=x_(),Be=Ae(Te),De=se(Be),tt=de(Be,2);{var ht=qe=>{var mt=w_();ne(qe,mt)};Re(tt,qe=>{l(oe),ze(()=>Ie<l(oe).length-1)&&qe(ht)})}_e(()=>We(De,l(pe))),ne(ae,Te)});var ye=de(Se,2);{var ie=ae=>{var pe=E_();ne(ae,pe)};Re(ye,ae=>{l(j),ze(()=>ge<l(j).combos.length-1)&&ae(ie)})}ne(me,we)}),_e(()=>We($,(l(j),ze(()=>l(j).label)))),ne(X,J)});var Q=de(G,2),z=de(se(Q),2);ot(z,5,()=>l(r),Mt,(X,j)=>{var J=P_(),q=se(J),$=se(q),he=de(q,2);ot(he,5,()=>(l(j),ze(()=>l(j).combos)),Mt,(me,oe,ge)=>{var we=O_(),Se=Ae(we);ot(Se,5,()=>l(oe),Mt,(ae,pe,Ie)=>{var Te=S_(),Be=Ae(Te),De=se(Be),tt=de(Be,2);{var ht=qe=>{var mt=I_();ne(qe,mt)};Re(tt,qe=>{l(oe),ze(()=>Ie<l(oe).length-1)&&qe(ht)})}_e(()=>We(De,l(pe))),ne(ae,Te)});var ye=de(Se,2);{var ie=ae=>{var pe=T_();ne(ae,pe)};Re(ye,ae=>{l(j),ze(()=>ge<l(j).combos.length-1)&&ae(ie)})}ne(me,we)}),_e(()=>We($,(l(j),ze(()=>l(j).label)))),ne(X,J)});var P=de(L,2),W=de(se(P),2);W.__click=x,ut(E,X=>K(g,X),()=>l(g)),ne(R,N)};Re(S,R=>{o()&&R(F)})}ne(e,O),Ne()}pt(["pointerdown","click"]);function M_(e,t){var i;const n=Array.isArray(e)?e:[],r=((i=z_(t))==null?void 0:i.toLowerCase())??"";return r?n.map(o=>({...o,items:(Array.isArray(o==null?void 0:o.items)?o.items:[]).filter(s=>(typeof(s==null?void 0:s.searchValue)=="string"?s.searchValue:"").includes(r))})).filter(o=>o.items.length>0):n.map(D_)}function D_(e){return{...e,items:Array.isArray(e==null?void 0:e.items)?[...e.items]:[]}}function z_(e){return typeof e=="string"&&e.trim()?e.trim():void 0}var R_=ue('<div class="px-1 py-4 text-xs text-vsc-muted">No matching nodes</div>'),L_=ue('<button data-node-search-item="true" role="option" type="button"><span aria-hidden="true" class="h-3 w-3 shrink-0 rounded-full border border-vsc-editor-widget-border"></span> <span class="min-w-0 flex-1"><span class="block truncate text-xs font-semibold"> </span></span></button>'),V_=ue('<div class="flex flex-col gap-1.5"><div class="flex items-center gap-2 px-1 text-[0.65rem] font-semibold uppercase tracking-[0.1em] text-vsc-muted"><span class="truncate"> </span> <span class="h-px flex-1 bg-vsc-editor-widget-border"></span></div> <!></div>'),F_=ue('<div data-node-search-menu="true" role="dialog" aria-label="Search nodes" tabindex="-1" class="mt-2 ml-2 w-[30rem] max-w-[92vw] max-h-[72vh] overflow-hidden rounded-xl border border-vsc-editor-widget-border bg-vsc-editor-widget-bg p-3 text-vsc-editor-fg shadow-2xl"><div class="relative"><!> <input class="w-full rounded-md border border-vsc-input-border bg-vsc-input-bg pr-2 py-1.5 pl-9 text-xs text-vsc-input-fg focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-vsc-focus" type="search" placeholder="Type a node name or group"/></div> <div class="relative mt-3 flex max-h-[calc(72vh-4.75rem)] flex-col gap-3 overflow-auto pr-0.5" role="listbox"><!></div></div>');function H_(e,t){Ee(t,!1);const n=Oe(),r=Oe(),i=Oe(),o=Oe();let s=te(t,"open",8,!1),a=te(t,"openVersion",8,0),u=te(t,"groups",24,()=>[]);const c=Cs();let d=Oe(""),h=Oe(),f=Oe(),g=Oe(),p=Oe(0),b=Oe(!1),y=Oe(""),x=Oe(-1),w=Oe(void 0);function k(M){let L=0;return M.map(H=>({id:H==null?void 0:H.id,label:H==null?void 0:H.label,items:(Array.isArray(H==null?void 0:H.items)?H.items:[]).map(Y=>({entry:Y,flatIndex:L++}))}))}function m(){var Q,z;const M=(z=(Q=l(g))==null?void 0:Q.querySelectorAll)==null?void 0:z.call(Q,'[data-node-search-item="true"]'),L=M==null?void 0:M[l(p)];if(!l(g)||!L)return;const H=L.offsetTop,Y=H+L.offsetHeight,G=l(g).scrollTop,U=G+l(g).clientHeight;if(H<G){rs(g,l(g).scrollTop=H);return}Y>U&&rs(g,l(g).scrollTop=Y-l(g).clientHeight)}function A(M){return l(p)===M}function T(M){return l(b)&&A(M)}function O(M){return!l(b)&&l(o).length>1&&A(M)}function S(M){M<0||M>=l(o).length||(K(p,M),K(b,!0))}function F(M){const L=E(M==null?void 0:M.nodeId);L&&c("select",{nodeId:L})}function R(){c("close")}function N(M){if(s()){if(M.key==="Escape"){M.preventDefault(),M.stopPropagation(),R();return}if(l(o).length!==0){if(M.key==="ArrowDown"||M.key==="ArrowUp"){if(M.preventDefault(),M.stopPropagation(),!l(b)&&l(o).length>1){K(b,!0),dt().then(()=>m());return}const L=M.key==="ArrowDown"?1:-1;K(p,(l(p)+L+l(o).length)%l(o).length),K(b,!0),dt().then(()=>m());return}M.key==="Enter"&&(M.preventDefault(),M.stopPropagation(),F(l(o)[l(p)]??l(o)[0]))}}}function _(M){return E(M==null?void 0:M.color)??"var(--vscode-descriptionForeground)"}function E(M){return typeof M=="string"?M:void 0}Me(()=>He(u()),()=>{K(n,Array.isArray(u())?u():[])}),Me(()=>(He(s()),He(a()),l(x),l(h)),()=>{s()&&a()!==l(x)&&(K(d,""),K(p,0),K(b,!1),K(x,a()),K(w,void 0),dt().then(()=>{var M;return(M=l(h))==null?void 0:M.focus()}))}),Me(()=>(l(n),l(d)),()=>{K(r,M_(l(n),l(d)))}),Me(()=>l(r),()=>{K(i,k(l(r)))}),Me(()=>l(i),()=>{K(o,l(i).flatMap(M=>M.items.map(L=>L.entry)))}),Me(()=>(l(d),l(y)),()=>{l(d)!==l(y)&&(K(y,l(d)),K(p,0),K(b,!1),K(w,void 0))}),Me(()=>(l(p),l(o)),()=>{l(p)>=l(o).length&&K(p,Math.max(0,l(o).length-1))}),Me(()=>l(o),()=>{l(o).length===0&&(K(p,0),K(b,!1),K(w,void 0))}),Me(()=>(l(o),He(s())),()=>{l(o).length===1&&s()&&K(b,!0)}),Me(()=>(He(s()),l(o),l(p),dt),()=>{s()&&l(o).length>0&&l(p)>=0&&dt().then(()=>{m()})}),Me(()=>(He(s()),l(b),l(o),l(p),l(w)),()=>{if(s()&&l(b)&&l(o).length>0){const M=l(o)[l(p)]??l(o)[0],L=E(M==null?void 0:M.nodeId);L&&L!==l(w)&&(K(w,L),c("preview",{nodeId:L}))}}),Me(()=>He(s()),()=>{s()||K(w,void 0)}),Ti(),tr();var v=$e(),C=Ae(v);{var I=M=>{Ol(M,{position:"top-left",class:"pointer-events-auto",children:(L,H)=>{var Y=F_();Y.__keydown=N;var G=se(Y),U=se(G);xf(U,{"aria-hidden":"true",size:14,strokeWidth:2,class:"pointer-events-none absolute top-1/2 left-3 -translate-y-1/2 text-vsc-muted"});var Q=de(U,2);Q.__keydown=N,ut(Q,j=>K(h,j),()=>l(h));var z=de(G,2),P=se(z);{var W=j=>{var J=R_();ne(j,J)},X=j=>{var J=$e(),q=Ae(J);ot(q,1,()=>l(i),Mt,($,he)=>{var me=V_(),oe=se(me),ge=se(oe),we=se(ge),Se=de(oe,2);ot(Se,1,()=>(l(he),ze(()=>l(he).items)),ye=>ye.flatIndex,(ye,ie)=>{var ae=L_();let pe;ae.__click=()=>F(l(ie).entry);var Ie=se(ae),Te=de(Ie,2),Be=se(Te),De=se(Be);_e((tt,ht,qe,mt)=>{be(ae,"data-active",tt),be(ae,"aria-selected",ht),pe=Pt(ae,1,"group flex w-full cursor-pointer items-center gap-2 overflow-hidden rounded-lg border border-vsc-editor-widget-border bg-vsc-button-secondary-bg px-2 py-1.5 text-left text-vsc-button-secondary-fg transition-[border-color,background-color,color]",null,pe,qe),Ze(Ie,`background-color: ${mt??""};`),We(De,(l(ie),ze(()=>l(ie).entry.label)))},[()=>(l(ie),ze(()=>A(l(ie).flatIndex))),()=>(l(ie),ze(()=>T(l(ie).flatIndex))),()=>({"border-vsc-focus":O(l(ie).flatIndex)||T(l(ie).flatIndex),"bg-vsc-list-active-bg":T(l(ie).flatIndex),"text-vsc-list-active-fg":T(l(ie).flatIndex)}),()=>(l(ie),ze(()=>_(l(ie).entry)))]),Ke("mouseenter",ae,()=>S(l(ie).flatIndex)),ne(ye,ae)}),_e(()=>We(we,(l(he),ze(()=>l(he).label)))),ne($,me)}),ne(j,J)};Re(P,j=>{l(i),ze(()=>l(i).length===0)?j(W):j(X,!1)})}ut(z,j=>K(g,j),()=>l(g)),ut(Y,j=>K(f,j),()=>l(f)),sd(Q,()=>l(d),j=>K(d,j)),ne(L,Y)},$$slots:{default:!0}})};Re(C,M=>{s()&&M(I)})}ne(e,v),Ne()}pt(["keydown","click"]);function Xn(e){return`${e}-${K_()}`}function K_(){return crypto.randomUUID()}var Qe=(e,t)=>()=>(t||e((t={exports:{}}).exports,t),t.exports),mn=Qe((e,t)=>{var n=Object.defineProperty,r=(E,v,C)=>v in E?n(E,v,{enumerable:!0,configurable:!0,writable:!0,value:C}):E[v]=C,i=(E,v)=>()=>(v||E((v={exports:{}}).exports,v),v.exports),o=(E,v,C)=>r(E,typeof v!="symbol"?v+"":v,C),s=i((E,v)=>{var C="\0",I="\0",M="",L=class{constructor(z){o(this,"_isDirected",!0),o(this,"_isMultigraph",!1),o(this,"_isCompound",!1),o(this,"_label"),o(this,"_defaultNodeLabelFn",()=>{}),o(this,"_defaultEdgeLabelFn",()=>{}),o(this,"_nodes",{}),o(this,"_in",{}),o(this,"_preds",{}),o(this,"_out",{}),o(this,"_sucs",{}),o(this,"_edgeObjs",{}),o(this,"_edgeLabels",{}),o(this,"_nodeCount",0),o(this,"_edgeCount",0),o(this,"_parent"),o(this,"_children"),z&&(this._isDirected=Object.hasOwn(z,"directed")?z.directed:!0,this._isMultigraph=Object.hasOwn(z,"multigraph")?z.multigraph:!1,this._isCompound=Object.hasOwn(z,"compound")?z.compound:!1),this._isCompound&&(this._parent={},this._children={},this._children[I]={})}isDirected(){return this._isDirected}isMultigraph(){return this._isMultigraph}isCompound(){return this._isCompound}setGraph(z){return this._label=z,this}graph(){return this._label}setDefaultNodeLabel(z){return this._defaultNodeLabelFn=z,typeof z!="function"&&(this._defaultNodeLabelFn=()=>z),this}nodeCount(){return this._nodeCount}nodes(){return Object.keys(this._nodes)}sources(){var z=this;return this.nodes().filter(P=>Object.keys(z._in[P]).length===0)}sinks(){var z=this;return this.nodes().filter(P=>Object.keys(z._out[P]).length===0)}setNodes(z,P){var W=arguments,X=this;return z.forEach(function(j){W.length>1?X.setNode(j,P):X.setNode(j)}),this}setNode(z,P){return Object.hasOwn(this._nodes,z)?(arguments.length>1&&(this._nodes[z]=P),this):(this._nodes[z]=arguments.length>1?P:this._defaultNodeLabelFn(z),this._isCompound&&(this._parent[z]=I,this._children[z]={},this._children[I][z]=!0),this._in[z]={},this._preds[z]={},this._out[z]={},this._sucs[z]={},++this._nodeCount,this)}node(z){return this._nodes[z]}hasNode(z){return Object.hasOwn(this._nodes,z)}removeNode(z){var P=this;if(Object.hasOwn(this._nodes,z)){var W=X=>P.removeEdge(P._edgeObjs[X]);delete this._nodes[z],this._isCompound&&(this._removeFromParentsChildList(z),delete this._parent[z],this.children(z).forEach(function(X){P.setParent(X)}),delete this._children[z]),Object.keys(this._in[z]).forEach(W),delete this._in[z],delete this._preds[z],Object.keys(this._out[z]).forEach(W),delete this._out[z],delete this._sucs[z],--this._nodeCount}return this}setParent(z,P){if(!this._isCompound)throw new Error("Cannot set parent in a non-compound graph");if(P===void 0)P=I;else{P+="";for(var W=P;W!==void 0;W=this.parent(W))if(W===z)throw new Error("Setting "+P+" as parent of "+z+" would create a cycle");this.setNode(P)}return this.setNode(z),this._removeFromParentsChildList(z),this._parent[z]=P,this._children[P][z]=!0,this}_removeFromParentsChildList(z){delete this._children[this._parent[z]][z]}parent(z){if(this._isCompound){var P=this._parent[z];if(P!==I)return P}}children(z=I){if(this._isCompound){var P=this._children[z];if(P)return Object.keys(P)}else{if(z===I)return this.nodes();if(this.hasNode(z))return[]}}predecessors(z){var P=this._preds[z];if(P)return Object.keys(P)}successors(z){var P=this._sucs[z];if(P)return Object.keys(P)}neighbors(z){var P=this.predecessors(z);if(P){let X=new Set(P);for(var W of this.successors(z))X.add(W);return Array.from(X.values())}}isLeaf(z){var P;return this.isDirected()?P=this.successors(z):P=this.neighbors(z),P.length===0}filterNodes(z){var P=new this.constructor({directed:this._isDirected,multigraph:this._isMultigraph,compound:this._isCompound});P.setGraph(this.graph());var W=this;Object.entries(this._nodes).forEach(function([J,q]){z(J)&&P.setNode(J,q)}),Object.values(this._edgeObjs).forEach(function(J){P.hasNode(J.v)&&P.hasNode(J.w)&&P.setEdge(J,W.edge(J))});var X={};function j(J){var q=W.parent(J);return q===void 0||P.hasNode(q)?(X[J]=q,q):q in X?X[q]:j(q)}return this._isCompound&&P.nodes().forEach(J=>P.setParent(J,j(J))),P}setDefaultEdgeLabel(z){return this._defaultEdgeLabelFn=z,typeof z!="function"&&(this._defaultEdgeLabelFn=()=>z),this}edgeCount(){return this._edgeCount}edges(){return Object.values(this._edgeObjs)}setPath(z,P){var W=this,X=arguments;return z.reduce(function(j,J){return X.length>1?W.setEdge(j,J,P):W.setEdge(j,J),J}),this}setEdge(){var z,P,W,X,j=!1,J=arguments[0];typeof J=="object"&&J!==null&&"v"in J?(z=J.v,P=J.w,W=J.name,arguments.length===2&&(X=arguments[1],j=!0)):(z=J,P=arguments[1],W=arguments[3],arguments.length>2&&(X=arguments[2],j=!0)),z=""+z,P=""+P,W!==void 0&&(W=""+W);var q=G(this._isDirected,z,P,W);if(Object.hasOwn(this._edgeLabels,q))return j&&(this._edgeLabels[q]=X),this;if(W!==void 0&&!this._isMultigraph)throw new Error("Cannot set a named edge when isMultigraph = false");this.setNode(z),this.setNode(P),this._edgeLabels[q]=j?X:this._defaultEdgeLabelFn(z,P,W);var $=U(this._isDirected,z,P,W);return z=$.v,P=$.w,Object.freeze($),this._edgeObjs[q]=$,H(this._preds[P],z),H(this._sucs[z],P),this._in[P][q]=$,this._out[z][q]=$,this._edgeCount++,this}edge(z,P,W){var X=arguments.length===1?Q(this._isDirected,arguments[0]):G(this._isDirected,z,P,W);return this._edgeLabels[X]}edgeAsObj(){let z=this.edge(...arguments);return typeof z!="object"?{label:z}:z}hasEdge(z,P,W){var X=arguments.length===1?Q(this._isDirected,arguments[0]):G(this._isDirected,z,P,W);return Object.hasOwn(this._edgeLabels,X)}removeEdge(z,P,W){var X=arguments.length===1?Q(this._isDirected,arguments[0]):G(this._isDirected,z,P,W),j=this._edgeObjs[X];return j&&(z=j.v,P=j.w,delete this._edgeLabels[X],delete this._edgeObjs[X],Y(this._preds[P],z),Y(this._sucs[z],P),delete this._in[P][X],delete this._out[z][X],this._edgeCount--),this}inEdges(z,P){return this.isDirected()?this.filterEdges(this._in[z],z,P):this.nodeEdges(z,P)}outEdges(z,P){return this.isDirected()?this.filterEdges(this._out[z],z,P):this.nodeEdges(z,P)}nodeEdges(z,P){if(z in this._nodes)return this.filterEdges({...this._in[z],...this._out[z]},z,P)}filterEdges(z,P,W){if(z){var X=Object.values(z);return W?X.filter(function(j){return j.v===P&&j.w===W||j.v===W&&j.w===P}):X}}};function H(z,P){z[P]?z[P]++:z[P]=1}function Y(z,P){--z[P]||delete z[P]}function G(z,P,W,X){var j=""+P,J=""+W;if(!z&&j>J){var q=j;j=J,J=q}return j+M+J+M+(X===void 0?C:X)}function U(z,P,W,X){var j=""+P,J=""+W;if(!z&&j>J){var q=j;j=J,J=q}var $={v:j,w:J};return X&&($.name=X),$}function Q(z,P){return G(z,P.v,P.w,P.name)}v.exports=L}),a=i((E,v)=>{v.exports="3.0.2"}),u=i((E,v)=>{v.exports={Graph:s(),version:a()}}),c=i((E,v)=>{var C=s();v.exports={write:I,read:H};function I(Y){var G={options:{directed:Y.isDirected(),multigraph:Y.isMultigraph(),compound:Y.isCompound()},nodes:M(Y),edges:L(Y)};return Y.graph()!==void 0&&(G.value=structuredClone(Y.graph())),G}function M(Y){return Y.nodes().map(function(G){var U=Y.node(G),Q=Y.parent(G),z={v:G};return U!==void 0&&(z.value=U),Q!==void 0&&(z.parent=Q),z})}function L(Y){return Y.edges().map(function(G){var U=Y.edge(G),Q={v:G.v,w:G.w};return G.name!==void 0&&(Q.name=G.name),U!==void 0&&(Q.value=U),Q})}function H(Y){var G=new C(Y.options).setGraph(Y.value);return Y.nodes.forEach(function(U){G.setNode(U.v,U.value),U.parent&&G.setParent(U.v,U.parent)}),Y.edges.forEach(function(U){G.setEdge({v:U.v,w:U.w,name:U.name},U.value)}),G}}),d=i((E,v)=>{v.exports=I;var C=()=>1;function I(L,H,Y,G){return M(L,String(H),Y||C,G||function(U){return L.outEdges(U)})}function M(L,H,Y,G){var U={},Q=!0,z=0,P=L.nodes(),W=function(q){var $=Y(q);U[q.v].distance+$<U[q.w].distance&&(U[q.w]={distance:U[q.v].distance+$,predecessor:q.v},Q=!0)},X=function(){P.forEach(function(q){G(q).forEach(function($){var he=$.v===q?$.v:$.w,me=he===$.v?$.w:$.v;W({v:he,w:me})})})};P.forEach(function(q){var $=q===H?0:Number.POSITIVE_INFINITY;U[q]={distance:$}});for(var j=P.length,J=1;J<j&&(Q=!1,z++,X(),!!Q);J++);if(z===j-1&&(Q=!1,X(),Q))throw new Error("The graph contains a negative weight cycle");return U}}),h=i((E,v)=>{v.exports=C;function C(I){var M={},L=[],H;function Y(G){Object.hasOwn(M,G)||(M[G]=!0,H.push(G),I.successors(G).forEach(Y),I.predecessors(G).forEach(Y))}return I.nodes().forEach(function(G){H=[],Y(G),H.length&&L.push(H)}),L}}),f=i((E,v)=>{var C=class{constructor(){o(this,"_arr",[]),o(this,"_keyIndices",{})}size(){return this._arr.length}keys(){return this._arr.map(function(I){return I.key})}has(I){return Object.hasOwn(this._keyIndices,I)}priority(I){var M=this._keyIndices[I];if(M!==void 0)return this._arr[M].priority}min(){if(this.size()===0)throw new Error("Queue underflow");return this._arr[0].key}add(I,M){var L=this._keyIndices;if(I=String(I),!Object.hasOwn(L,I)){var H=this._arr,Y=H.length;return L[I]=Y,H.push({key:I,priority:M}),this._decrease(Y),!0}return!1}removeMin(){this._swap(0,this._arr.length-1);var I=this._arr.pop();return delete this._keyIndices[I.key],this._heapify(0),I.key}decrease(I,M){var L=this._keyIndices[I];if(M>this._arr[L].priority)throw new Error("New priority is greater than current priority. Key: "+I+" Old: "+this._arr[L].priority+" New: "+M);this._arr[L].priority=M,this._decrease(L)}_heapify(I){var M=this._arr,L=2*I,H=L+1,Y=I;L<M.length&&(Y=M[L].priority<M[Y].priority?L:Y,H<M.length&&(Y=M[H].priority<M[Y].priority?H:Y),Y!==I&&(this._swap(I,Y),this._heapify(Y)))}_decrease(I){for(var M=this._arr,L=M[I].priority,H;I!==0&&(H=I>>1,!(M[H].priority<L));)this._swap(I,H),I=H}_swap(I,M){var L=this._arr,H=this._keyIndices,Y=L[I],G=L[M];L[I]=G,L[M]=Y,H[G.key]=I,H[Y.key]=M}};v.exports=C}),g=i((E,v)=>{var C=f();v.exports=M;var I=()=>1;function M(H,Y,G,U){var Q=function(z){return H.outEdges(z)};return L(H,String(Y),G||I,U||Q)}function L(H,Y,G,U){var Q={},z=new C,P,W,X=function(j){var J=j.v!==P?j.v:j.w,q=Q[J],$=G(j),he=W.distance+$;if($<0)throw new Error("dijkstra does not allow negative edge weights. Bad edge: "+j+" Weight: "+$);he<q.distance&&(q.distance=he,q.predecessor=P,z.decrease(J,he))};for(H.nodes().forEach(function(j){var J=j===Y?0:Number.POSITIVE_INFINITY;Q[j]={distance:J},z.add(j,J)});z.size()>0&&(P=z.removeMin(),W=Q[P],W.distance!==Number.POSITIVE_INFINITY);)U(P).forEach(X);return Q}}),p=i((E,v)=>{var C=g();v.exports=I;function I(M,L,H){return M.nodes().reduce(function(Y,G){return Y[G]=C(M,G,L,H),Y},{})}}),b=i((E,v)=>{v.exports=C;function C(M,L,H){if(M[L].predecessor!==void 0)throw new Error("Invalid source vertex");if(M[H].predecessor===void 0&&H!==L)throw new Error("Invalid destination vertex");return{weight:M[H].distance,path:I(M,L,H)}}function I(M,L,H){for(var Y=[],G=H;G!==L;)Y.push(G),G=M[G].predecessor;return Y.push(L),Y.reverse()}}),y=i((E,v)=>{v.exports=C;function C(I){var M=0,L=[],H={},Y=[];function G(U){var Q=H[U]={onStack:!0,lowlink:M,index:M++};if(L.push(U),I.successors(U).forEach(function(W){Object.hasOwn(H,W)?H[W].onStack&&(Q.lowlink=Math.min(Q.lowlink,H[W].index)):(G(W),Q.lowlink=Math.min(Q.lowlink,H[W].lowlink))}),Q.lowlink===Q.index){var z=[],P;do P=L.pop(),H[P].onStack=!1,z.push(P);while(U!==P);Y.push(z)}}return I.nodes().forEach(function(U){Object.hasOwn(H,U)||G(U)}),Y}}),x=i((E,v)=>{var C=y();v.exports=I;function I(M){return C(M).filter(function(L){return L.length>1||L.length===1&&M.hasEdge(L[0],L[0])})}}),w=i((E,v)=>{v.exports=I;var C=()=>1;function I(L,H,Y){return M(L,H||C,Y||function(G){return L.outEdges(G)})}function M(L,H,Y){var G={},U=L.nodes();return U.forEach(function(Q){G[Q]={},G[Q][Q]={distance:0},U.forEach(function(z){Q!==z&&(G[Q][z]={distance:Number.POSITIVE_INFINITY})}),Y(Q).forEach(function(z){var P=z.v===Q?z.w:z.v,W=H(z);G[Q][P]={distance:W,predecessor:Q}})}),U.forEach(function(Q){var z=G[Q];U.forEach(function(P){var W=G[P];U.forEach(function(X){var j=W[Q],J=z[X],q=W[X],$=j.distance+J.distance;$<q.distance&&(q.distance=$,q.predecessor=J.predecessor)})})}),G}}),k=i((E,v)=>{function C(M){var L={},H={},Y=[];function G(U){if(Object.hasOwn(H,U))throw new I;Object.hasOwn(L,U)||(H[U]=!0,L[U]=!0,M.predecessors(U).forEach(G),delete H[U],Y.push(U))}if(M.sinks().forEach(G),Object.keys(L).length!==M.nodeCount())throw new I;return Y}var I=class extends Error{constructor(){super(...arguments)}};v.exports=C,C.CycleException=I}),m=i((E,v)=>{var C=k();v.exports=I;function I(M){try{C(M)}catch(L){if(L instanceof C.CycleException)return!1;throw L}return!0}}),A=i((E,v)=>{v.exports=C;function C(M,L,H,Y,G){Array.isArray(L)||(L=[L]);var U=(M.isDirected()?M.successors:M.neighbors).bind(M),Q={};return L.forEach(function(z){if(!M.hasNode(z))throw new Error("Graph does not have node: "+z);G=I(M,z,H==="post",Q,U,Y,G)}),G}function I(M,L,H,Y,G,U,Q){return Object.hasOwn(Y,L)||(Y[L]=!0,H||(Q=U(Q,L)),G(L).forEach(function(z){Q=I(M,z,H,Y,G,U,Q)}),H&&(Q=U(Q,L))),Q}}),T=i((E,v)=>{var C=A();v.exports=I;function I(M,L,H){return C(M,L,H,function(Y,G){return Y.push(G),Y},[])}}),O=i((E,v)=>{var C=T();v.exports=I;function I(M,L){return C(M,L,"post")}}),S=i((E,v)=>{var C=T();v.exports=I;function I(M,L){return C(M,L,"pre")}}),F=i((E,v)=>{var C=s(),I=f();v.exports=M;function M(L,H){var Y=new C,G={},U=new I,Q;function z(W){var X=W.v===Q?W.w:W.v,j=U.priority(X);if(j!==void 0){var J=H(W);J<j&&(G[X]=Q,U.decrease(X,J))}}if(L.nodeCount()===0)return Y;L.nodes().forEach(function(W){U.add(W,Number.POSITIVE_INFINITY),Y.setNode(W)}),U.decrease(L.nodes()[0],0);for(var P=!1;U.size()>0;){if(Q=U.removeMin(),Object.hasOwn(G,Q))Y.setEdge(Q,G[Q]);else{if(P)throw new Error("Input graph is not connected: "+L);P=!0}L.nodeEdges(Q).forEach(z)}return Y}}),R=i((E,v)=>{var C=g(),I=d();v.exports=M;function M(H,Y,G,U){return L(H,Y,G,U||function(Q){return H.outEdges(Q)})}function L(H,Y,G,U){if(G===void 0)return C(H,Y,G,U);for(var Q=!1,z=H.nodes(),P=0;P<z.length;P++){for(var W=U(z[P]),X=0;X<W.length;X++){var j=W[X],J=j.v===z[P]?j.v:j.w,q=J===j.v?j.w:j.v;G({v:J,w:q})<0&&(Q=!0)}if(Q)return I(H,Y,G,U)}return C(H,Y,G,U)}}),N=i((E,v)=>{v.exports={bellmanFord:d(),components:h(),dijkstra:g(),dijkstraAll:p(),extractPath:b(),findCycles:x(),floydWarshall:w(),isAcyclic:m(),postorder:O(),preorder:S(),prim:F(),shortestPaths:R(),reduce:A(),tarjan:y(),topsort:k()}}),_=u();t.exports={Graph:_.Graph,json:c(),alg:N(),version:_.version}}),B_=Qe((e,t)=>{var n=class{constructor(){let o={};o._next=o._prev=o,this._sentinel=o}dequeue(){let o=this._sentinel,s=o._prev;if(s!==o)return r(s),s}enqueue(o){let s=this._sentinel;o._prev&&o._next&&r(o),o._next=s._next,s._next._prev=o,s._next=o,o._prev=s}toString(){let o=[],s=this._sentinel,a=s._prev;for(;a!==s;)o.push(JSON.stringify(a,i)),a=a._prev;return"["+o.join(", ")+"]"}};function r(o){o._prev._next=o._next,o._next._prev=o._prev,delete o._next,delete o._prev}function i(o,s){if(o!=="_next"&&o!=="_prev")return s}t.exports=n}),W_=Qe((e,t)=>{var n=mn().Graph,r=B_();t.exports=o;var i=()=>1;function o(h,f){if(h.nodeCount()<=1)return[];let g=u(h,f||i);return s(g.graph,g.buckets,g.zeroIdx).flatMap(p=>h.outEdges(p.v,p.w))}function s(h,f,g){let p=[],b=f[f.length-1],y=f[0],x;for(;h.nodeCount();){for(;x=y.dequeue();)a(h,f,g,x);for(;x=b.dequeue();)a(h,f,g,x);if(h.nodeCount()){for(let w=f.length-2;w>0;--w)if(x=f[w].dequeue(),x){p=p.concat(a(h,f,g,x,!0));break}}}return p}function a(h,f,g,p,b){let y=b?[]:void 0;return h.inEdges(p.v).forEach(x=>{let w=h.edge(x),k=h.node(x.v);b&&y.push({v:x.v,w:x.w}),k.out-=w,c(f,g,k)}),h.outEdges(p.v).forEach(x=>{let w=h.edge(x),k=x.w,m=h.node(k);m.in-=w,c(f,g,m)}),h.removeNode(p.v),y}function u(h,f){let g=new n,p=0,b=0;h.nodes().forEach(w=>{g.setNode(w,{v:w,in:0,out:0})}),h.edges().forEach(w=>{let k=g.edge(w.v,w.w)||0,m=f(w),A=k+m;g.setEdge(w.v,w.w,A),b=Math.max(b,g.node(w.v).out+=m),p=Math.max(p,g.node(w.w).in+=m)});let y=d(b+p+3).map(()=>new r),x=p+1;return g.nodes().forEach(w=>{c(y,x,g.node(w))}),{graph:g,buckets:y,zeroIdx:x}}function c(h,f,g){g.out?g.in?h[g.out-g.in+f].enqueue(g):h[h.length-1].enqueue(g):h[0].enqueue(g)}function d(h){let f=[];for(let g=0;g<h;g++)f.push(g);return f}}),ft=Qe((e,t)=>{var n=mn().Graph;t.exports={addBorderNode:f,addDummyNode:r,applyWithChunking:b,asNonCompoundGraph:o,buildLayerMatrix:c,intersectRect:u,mapValues:S,maxRank:y,normalizeRanks:d,notime:k,partition:x,pick:O,predecessorWeights:a,range:T,removeEmptyRanks:h,simplify:i,successorWeights:s,time:w,uniqueId:A,zipObject:F};function r(R,N,_,E){for(var v=E;R.hasNode(v);)v=A(E);return _.dummy=N,R.setNode(v,_),v}function i(R){let N=new n().setGraph(R.graph());return R.nodes().forEach(_=>N.setNode(_,R.node(_))),R.edges().forEach(_=>{let E=N.edge(_.v,_.w)||{weight:0,minlen:1},v=R.edge(_);N.setEdge(_.v,_.w,{weight:E.weight+v.weight,minlen:Math.max(E.minlen,v.minlen)})}),N}function o(R){let N=new n({multigraph:R.isMultigraph()}).setGraph(R.graph());return R.nodes().forEach(_=>{R.children(_).length||N.setNode(_,R.node(_))}),R.edges().forEach(_=>{N.setEdge(_,R.edge(_))}),N}function s(R){let N=R.nodes().map(_=>{let E={};return R.outEdges(_).forEach(v=>{E[v.w]=(E[v.w]||0)+R.edge(v).weight}),E});return F(R.nodes(),N)}function a(R){let N=R.nodes().map(_=>{let E={};return R.inEdges(_).forEach(v=>{E[v.v]=(E[v.v]||0)+R.edge(v).weight}),E});return F(R.nodes(),N)}function u(R,N){let _=R.x,E=R.y,v=N.x-_,C=N.y-E,I=R.width/2,M=R.height/2;if(!v&&!C)throw new Error("Not possible to find intersection inside of the rectangle");let L,H;return Math.abs(C)*I>Math.abs(v)*M?(C<0&&(M=-M),L=M*v/C,H=M):(v<0&&(I=-I),L=I,H=I*C/v),{x:_+L,y:E+H}}function c(R){let N=T(y(R)+1).map(()=>[]);return R.nodes().forEach(_=>{let E=R.node(_),v=E.rank;v!==void 0&&(N[v][E.order]=_)}),N}function d(R){let N=R.nodes().map(E=>{let v=R.node(E).rank;return v===void 0?Number.MAX_VALUE:v}),_=b(Math.min,N);R.nodes().forEach(E=>{let v=R.node(E);Object.hasOwn(v,"rank")&&(v.rank-=_)})}function h(R){let N=R.nodes().map(I=>R.node(I).rank).filter(I=>I!==void 0),_=b(Math.min,N),E=[];R.nodes().forEach(I=>{let M=R.node(I).rank-_;E[M]||(E[M]=[]),E[M].push(I)});let v=0,C=R.graph().nodeRankFactor;Array.from(E).forEach((I,M)=>{I===void 0&&M%C!==0?--v:I!==void 0&&v&&I.forEach(L=>R.node(L).rank+=v)})}function f(R,N,_,E){let v={width:0,height:0};return arguments.length>=4&&(v.rank=_,v.order=E),r(R,"border",v,N)}function g(R,N=p){let _=[];for(let E=0;E<R.length;E+=N){let v=R.slice(E,E+N);_.push(v)}return _}var p=65535;function b(R,N){if(N.length>p){let _=g(N);return R.apply(null,_.map(E=>R.apply(null,E)))}else return R.apply(null,N)}function y(R){let N=R.nodes().map(_=>{let E=R.node(_).rank;return E===void 0?Number.MIN_VALUE:E});return b(Math.max,N)}function x(R,N){let _={lhs:[],rhs:[]};return R.forEach(E=>{N(E)?_.lhs.push(E):_.rhs.push(E)}),_}function w(R,N){let _=Date.now();try{return N()}finally{console.log(R+" time: "+(Date.now()-_)+"ms")}}function k(R,N){return N()}var m=0;function A(R){var N=++m;return R+(""+N)}function T(R,N,_=1){N==null&&(N=R,R=0);let E=C=>C<N;_<0&&(E=C=>N<C);let v=[];for(let C=R;E(C);C+=_)v.push(C);return v}function O(R,N){let _={};for(let E of N)R[E]!==void 0&&(_[E]=R[E]);return _}function S(R,N){let _=N;return typeof N=="string"&&(_=E=>E[N]),Object.entries(R).reduce((E,[v,C])=>(E[v]=_(C,v),E),{})}function F(R,N){return R.reduce((_,E,v)=>(_[E]=N[v],_),{})}}),Y_=Qe((e,t)=>{var n=W_(),r=ft().uniqueId;t.exports={run:i,undo:s};function i(a){(a.graph().acyclicer==="greedy"?n(a,u(a)):o(a)).forEach(c=>{let d=a.edge(c);a.removeEdge(c),d.forwardName=c.name,d.reversed=!0,a.setEdge(c.w,c.v,d,r("rev"))});function u(c){return d=>c.edge(d).weight}}function o(a){let u=[],c={},d={};function h(f){Object.hasOwn(d,f)||(d[f]=!0,c[f]=!0,a.outEdges(f).forEach(g=>{Object.hasOwn(c,g.w)?u.push(g):h(g.w)}),delete c[f])}return a.nodes().forEach(h),u}function s(a){a.edges().forEach(u=>{let c=a.edge(u);if(c.reversed){a.removeEdge(u);let d=c.forwardName;delete c.reversed,delete c.forwardName,a.setEdge(u.w,u.v,c,d)}})}}),X_=Qe((e,t)=>{var n=ft();t.exports={run:r,undo:o};function r(s){s.graph().dummyChains=[],s.edges().forEach(a=>i(s,a))}function i(s,a){let u=a.v,c=s.node(u).rank,d=a.w,h=s.node(d).rank,f=a.name,g=s.edge(a),p=g.labelRank;if(h===c+1)return;s.removeEdge(a);let b,y,x;for(x=0,++c;c<h;++x,++c)g.points=[],y={width:0,height:0,edgeLabel:g,edgeObj:a,rank:c},b=n.addDummyNode(s,"edge",y,"_d"),c===p&&(y.width=g.width,y.height=g.height,y.dummy="edge-label",y.labelpos=g.labelpos),s.setEdge(u,b,{weight:g.weight},f),x===0&&s.graph().dummyChains.push(b),u=b;s.setEdge(u,d,{weight:g.weight},f)}function o(s){s.graph().dummyChains.forEach(a=>{let u=s.node(a),c=u.edgeLabel,d;for(s.setEdge(u.edgeObj,c);u.dummy;)d=s.successors(a)[0],s.removeNode(a),c.points.push({x:u.x,y:u.y}),u.dummy==="edge-label"&&(c.x=u.x,c.y=u.y,c.width=u.width,c.height=u.height),a=d,u=s.node(a)})}}),ys=Qe((e,t)=>{var{applyWithChunking:n}=ft();t.exports={longestPath:r,slack:i};function r(o){var s={};function a(u){var c=o.node(u);if(Object.hasOwn(s,u))return c.rank;s[u]=!0;let d=o.outEdges(u).map(f=>f==null?Number.POSITIVE_INFINITY:a(f.w)-o.edge(f).minlen);var h=n(Math.min,d);return h===Number.POSITIVE_INFINITY&&(h=0),c.rank=h}o.sources().forEach(a)}function i(o,s){return o.node(s.w).rank-o.node(s.v).rank-o.edge(s).minlen}}),Nf=Qe((e,t)=>{var n=mn().Graph,r=ys().slack;t.exports=i;function i(u){var c=new n({directed:!1}),d=u.nodes()[0],h=u.nodeCount();c.setNode(d,{});for(var f,g;o(c,u)<h;)f=s(c,u),g=c.hasNode(f.v)?r(u,f):-r(u,f),a(c,u,g);return c}function o(u,c){function d(h){c.nodeEdges(h).forEach(f=>{var g=f.v,p=h===g?f.w:g;!u.hasNode(p)&&!r(c,f)&&(u.setNode(p,{}),u.setEdge(h,p,{}),d(p))})}return u.nodes().forEach(d),u.nodeCount()}function s(u,c){return c.edges().reduce((d,h)=>{let f=Number.POSITIVE_INFINITY;return u.hasNode(h.v)!==u.hasNode(h.w)&&(f=r(c,h)),f<d[0]?[f,h]:d},[Number.POSITIVE_INFINITY,null])[1]}function a(u,c,d){u.nodes().forEach(h=>c.node(h).rank+=d)}}),j_=Qe((e,t)=>{var n=Nf(),r=ys().slack,i=ys().longestPath,o=mn().alg.preorder,s=mn().alg.postorder,a=ft().simplify;t.exports=u,u.initLowLimValues=f,u.initCutValues=c,u.calcCutValue=h,u.leaveEdge=p,u.enterEdge=b,u.exchangeEdges=y;function u(m){m=a(m),i(m);var A=n(m);f(A),c(A,m);for(var T,O;T=p(A);)O=b(A,m,T),y(A,m,T,O)}function c(m,A){var T=s(m,m.nodes());T=T.slice(0,T.length-1),T.forEach(O=>d(m,A,O))}function d(m,A,T){var O=m.node(T),S=O.parent;m.edge(T,S).cutvalue=h(m,A,T)}function h(m,A,T){var O=m.node(T),S=O.parent,F=!0,R=A.edge(T,S),N=0;return R||(F=!1,R=A.edge(S,T)),N=R.weight,A.nodeEdges(T).forEach(_=>{var E=_.v===T,v=E?_.w:_.v;if(v!==S){var C=E===F,I=A.edge(_).weight;if(N+=C?I:-I,w(m,T,v)){var M=m.edge(T,v).cutvalue;N+=C?-M:M}}}),N}function f(m,A){arguments.length<2&&(A=m.nodes()[0]),g(m,{},1,A)}function g(m,A,T,O,S){var F=T,R=m.node(O);return A[O]=!0,m.neighbors(O).forEach(N=>{Object.hasOwn(A,N)||(T=g(m,A,T,N,O))}),R.low=F,R.lim=T++,S?R.parent=S:delete R.parent,T}function p(m){return m.edges().find(A=>m.edge(A).cutvalue<0)}function b(m,A,T){var O=T.v,S=T.w;A.hasEdge(O,S)||(O=T.w,S=T.v);var F=m.node(O),R=m.node(S),N=F,_=!1;F.lim>R.lim&&(N=R,_=!0);var E=A.edges().filter(v=>_===k(m,m.node(v.v),N)&&_!==k(m,m.node(v.w),N));return E.reduce((v,C)=>r(A,C)<r(A,v)?C:v)}function y(m,A,T,O){var S=T.v,F=T.w;m.removeEdge(S,F),m.setEdge(O.v,O.w,{}),f(m),c(m,A),x(m,A)}function x(m,A){var T=m.nodes().find(S=>!A.node(S).parent),O=o(m,T);O=O.slice(1),O.forEach(S=>{var F=m.node(S).parent,R=A.edge(S,F),N=!1;R||(R=A.edge(F,S),N=!0),A.node(S).rank=A.node(F).rank+(N?R.minlen:-R.minlen)})}function w(m,A,T){return m.hasEdge(A,T)}function k(m,A,T){return T.low<=A.lim&&A.lim<=T.lim}}),G_=Qe((e,t)=>{var n=ys(),r=n.longestPath,i=Nf(),o=j_();t.exports=s;function s(d){var h=d.graph().ranker;if(h instanceof Function)return h(d);switch(d.graph().ranker){case"network-simplex":c(d);break;case"tight-tree":u(d);break;case"longest-path":a(d);break;case"none":break;default:c(d)}}var a=r;function u(d){r(d),i(d)}function c(d){o(d)}}),U_=Qe((e,t)=>{t.exports=n;function n(o){let s=i(o);o.graph().dummyChains.forEach(a=>{let u=o.node(a),c=u.edgeObj,d=r(o,s,c.v,c.w),h=d.path,f=d.lca,g=0,p=h[g],b=!0;for(;a!==c.w;){if(u=o.node(a),b){for(;(p=h[g])!==f&&o.node(p).maxRank<u.rank;)g++;p===f&&(b=!1)}if(!b){for(;g<h.length-1&&o.node(p=h[g+1]).minRank<=u.rank;)g++;p=h[g]}o.setParent(a,p),a=o.successors(a)[0]}})}function r(o,s,a,u){let c=[],d=[],h=Math.min(s[a].low,s[u].low),f=Math.max(s[a].lim,s[u].lim),g,p;g=a;do g=o.parent(g),c.push(g);while(g&&(s[g].low>h||f>s[g].lim));for(p=g,g=u;(g=o.parent(g))!==p;)d.push(g);return{path:c.concat(d.reverse()),lca:p}}function i(o){let s={},a=0;function u(c){let d=a;o.children(c).forEach(u),s[c]={low:d,lim:a++}}return o.children().forEach(u),s}}),q_=Qe((e,t)=>{var n=ft();t.exports={run:r,cleanup:a};function r(u){let c=n.addDummyNode(u,"root",{},"_root"),d=o(u),h=Object.values(d),f=n.applyWithChunking(Math.max,h)-1,g=2*f+1;u.graph().nestingRoot=c,u.edges().forEach(b=>u.edge(b).minlen*=g);let p=s(u)+1;u.children().forEach(b=>i(u,c,g,p,f,d,b)),u.graph().nodeRankFactor=g}function i(u,c,d,h,f,g,p){let b=u.children(p);if(!b.length){p!==c&&u.setEdge(c,p,{weight:0,minlen:d});return}let y=n.addBorderNode(u,"_bt"),x=n.addBorderNode(u,"_bb"),w=u.node(p);u.setParent(y,p),w.borderTop=y,u.setParent(x,p),w.borderBottom=x,b.forEach(k=>{i(u,c,d,h,f,g,k);let m=u.node(k),A=m.borderTop?m.borderTop:k,T=m.borderBottom?m.borderBottom:k,O=m.borderTop?h:2*h,S=A!==T?1:f-g[p]+1;u.setEdge(y,A,{weight:O,minlen:S,nestingEdge:!0}),u.setEdge(T,x,{weight:O,minlen:S,nestingEdge:!0})}),u.parent(p)||u.setEdge(c,y,{weight:0,minlen:f+g[p]})}function o(u){var c={};function d(h,f){var g=u.children(h);g&&g.length&&g.forEach(p=>d(p,f+1)),c[h]=f}return u.children().forEach(h=>d(h,1)),c}function s(u){return u.edges().reduce((c,d)=>c+u.edge(d).weight,0)}function a(u){var c=u.graph();u.removeNode(c.nestingRoot),delete c.nestingRoot,u.edges().forEach(d=>{var h=u.edge(d);h.nestingEdge&&u.removeEdge(d)})}}),Z_=Qe((e,t)=>{var n=ft();t.exports=r;function r(o){function s(a){let u=o.children(a),c=o.node(a);if(u.length&&u.forEach(s),Object.hasOwn(c,"minRank")){c.borderLeft=[],c.borderRight=[];for(let d=c.minRank,h=c.maxRank+1;d<h;++d)i(o,"borderLeft","_bl",a,c,d),i(o,"borderRight","_br",a,c,d)}}o.children().forEach(s)}function i(o,s,a,u,c,d){let h={width:0,height:0,rank:d,borderType:s},f=c[s][d-1],g=n.addDummyNode(o,"border",h,a);c[s][d]=g,o.setParent(g,u),f&&o.setEdge(f,g,{weight:1})}}),Q_=Qe((e,t)=>{t.exports={adjust:n,undo:r};function n(d){let h=d.graph().rankdir.toLowerCase();(h==="lr"||h==="rl")&&i(d)}function r(d){let h=d.graph().rankdir.toLowerCase();(h==="bt"||h==="rl")&&s(d),(h==="lr"||h==="rl")&&(u(d),i(d))}function i(d){d.nodes().forEach(h=>o(d.node(h))),d.edges().forEach(h=>o(d.edge(h)))}function o(d){let h=d.width;d.width=d.height,d.height=h}function s(d){d.nodes().forEach(h=>a(d.node(h))),d.edges().forEach(h=>{let f=d.edge(h);f.points.forEach(a),Object.hasOwn(f,"y")&&a(f)})}function a(d){d.y=-d.y}function u(d){d.nodes().forEach(h=>c(d.node(h))),d.edges().forEach(h=>{let f=d.edge(h);f.points.forEach(c),Object.hasOwn(f,"x")&&c(f)})}function c(d){let h=d.x;d.x=d.y,d.y=h}}),J_=Qe((e,t)=>{var n=ft();t.exports=r;function r(i){let o={},s=i.nodes().filter(h=>!i.children(h).length),a=s.map(h=>i.node(h).rank),u=n.applyWithChunking(Math.max,a),c=n.range(u+1).map(()=>[]);function d(h){if(o[h])return;o[h]=!0;let f=i.node(h);c[f.rank].push(h),i.successors(h).forEach(d)}return s.sort((h,f)=>i.node(h).rank-i.node(f).rank).forEach(d),c}}),$_=Qe((e,t)=>{var n=ft().zipObject;t.exports=r;function r(o,s){let a=0;for(let u=1;u<s.length;++u)a+=i(o,s[u-1],s[u]);return a}function i(o,s,a){let u=n(a,a.map((p,b)=>b)),c=s.flatMap(p=>o.outEdges(p).map(b=>({pos:u[b.w],weight:o.edge(b).weight})).sort((b,y)=>b.pos-y.pos)),d=1;for(;d<a.length;)d<<=1;let h=2*d-1;d-=1;let f=new Array(h).fill(0),g=0;return c.forEach(p=>{let b=p.pos+d;f[b]+=p.weight;let y=0;for(;b>0;)b%2&&(y+=f[b+1]),b=b-1>>1,f[b]+=p.weight;g+=p.weight*y}),g}}),ew=Qe((e,t)=>{t.exports=n;function n(r,i=[]){return i.map(o=>{let s=r.inEdges(o);if(s.length){let a=s.reduce((u,c)=>{let d=r.edge(c),h=r.node(c.v);return{sum:u.sum+d.weight*h.order,weight:u.weight+d.weight}},{sum:0,weight:0});return{v:o,barycenter:a.sum/a.weight,weight:a.weight}}else return{v:o}})}}),tw=Qe((e,t)=>{var n=ft();t.exports=r;function r(s,a){let u={};s.forEach((d,h)=>{let f=u[d.v]={indegree:0,in:[],out:[],vs:[d.v],i:h};d.barycenter!==void 0&&(f.barycenter=d.barycenter,f.weight=d.weight)}),a.edges().forEach(d=>{let h=u[d.v],f=u[d.w];h!==void 0&&f!==void 0&&(f.indegree++,h.out.push(u[d.w]))});let c=Object.values(u).filter(d=>!d.indegree);return i(c)}function i(s){let a=[];function u(d){return h=>{h.merged||(h.barycenter===void 0||d.barycenter===void 0||h.barycenter>=d.barycenter)&&o(d,h)}}function c(d){return h=>{h.in.push(d),--h.indegree===0&&s.push(h)}}for(;s.length;){let d=s.pop();a.push(d),d.in.reverse().forEach(u(d)),d.out.forEach(c(d))}return a.filter(d=>!d.merged).map(d=>n.pick(d,["vs","i","barycenter","weight"]))}function o(s,a){let u=0,c=0;s.weight&&(u+=s.barycenter*s.weight,c+=s.weight),a.weight&&(u+=a.barycenter*a.weight,c+=a.weight),s.vs=a.vs.concat(s.vs),s.barycenter=u/c,s.weight=c,s.i=Math.min(a.i,s.i),a.merged=!0}}),nw=Qe((e,t)=>{var n=ft();t.exports=r;function r(s,a){let u=n.partition(s,y=>Object.hasOwn(y,"barycenter")),c=u.lhs,d=u.rhs.sort((y,x)=>x.i-y.i),h=[],f=0,g=0,p=0;c.sort(o(!!a)),p=i(h,d,p),c.forEach(y=>{p+=y.vs.length,h.push(y.vs),f+=y.barycenter*y.weight,g+=y.weight,p=i(h,d,p)});let b={vs:h.flat(!0)};return g&&(b.barycenter=f/g,b.weight=g),b}function i(s,a,u){let c;for(;a.length&&(c=a[a.length-1]).i<=u;)a.pop(),s.push(c.vs),u++;return u}function o(s){return(a,u)=>a.barycenter<u.barycenter?-1:a.barycenter>u.barycenter?1:s?u.i-a.i:a.i-u.i}}),rw=Qe((e,t)=>{var n=ew(),r=tw(),i=nw();t.exports=o;function o(u,c,d,h){let f=u.children(c),g=u.node(c),p=g?g.borderLeft:void 0,b=g?g.borderRight:void 0,y={};p&&(f=f.filter(m=>m!==p&&m!==b));let x=n(u,f);x.forEach(m=>{if(u.children(m.v).length){let A=o(u,m.v,d,h);y[m.v]=A,Object.hasOwn(A,"barycenter")&&a(m,A)}});let w=r(x,d);s(w,y);let k=i(w,h);if(p&&(k.vs=[p,k.vs,b].flat(!0),u.predecessors(p).length)){let m=u.node(u.predecessors(p)[0]),A=u.node(u.predecessors(b)[0]);Object.hasOwn(k,"barycenter")||(k.barycenter=0,k.weight=0),k.barycenter=(k.barycenter*k.weight+m.order+A.order)/(k.weight+2),k.weight+=2}return k}function s(u,c){u.forEach(d=>{d.vs=d.vs.flatMap(h=>c[h]?c[h].vs:h)})}function a(u,c){u.barycenter!==void 0?(u.barycenter=(u.barycenter*u.weight+c.barycenter*c.weight)/(u.weight+c.weight),u.weight+=c.weight):(u.barycenter=c.barycenter,u.weight=c.weight)}}),iw=Qe((e,t)=>{var n=mn().Graph,r=ft();t.exports=i;function i(s,a,u,c){c||(c=s.nodes());let d=o(s),h=new n({compound:!0}).setGraph({root:d}).setDefaultNodeLabel(f=>s.node(f));return c.forEach(f=>{let g=s.node(f),p=s.parent(f);(g.rank===a||g.minRank<=a&&a<=g.maxRank)&&(h.setNode(f),h.setParent(f,p||d),s[u](f).forEach(b=>{let y=b.v===f?b.w:b.v,x=h.edge(y,f),w=x!==void 0?x.weight:0;h.setEdge(y,f,{weight:s.edge(b).weight+w})}),Object.hasOwn(g,"minRank")&&h.setNode(f,{borderLeft:g.borderLeft[a],borderRight:g.borderRight[a]}))}),h}function o(s){for(var a;s.hasNode(a=r.uniqueId("_root")););return a}}),ow=Qe((e,t)=>{t.exports=n;function n(r,i,o){let s={},a;o.forEach(u=>{let c=r.parent(u),d,h;for(;c;){if(d=r.parent(c),d?(h=s[d],s[d]=c):(h=a,a=c),h&&h!==c){i.setEdge(h,c);return}c=d}})}}),sw=Qe((e,t)=>{var n=J_(),r=$_(),i=rw(),o=iw(),s=ow(),a=mn().Graph,u=ft();t.exports=c;function c(g,p={}){if(typeof p.customOrder=="function"){p.customOrder(g,c);return}let b=u.maxRank(g),y=d(g,u.range(1,b+1),"inEdges"),x=d(g,u.range(b-1,-1,-1),"outEdges"),w=n(g);if(f(g,w),p.disableOptimalOrderHeuristic)return;let k=Number.POSITIVE_INFINITY,m,A=p.constraints||[];for(let T=0,O=0;O<4;++T,++O){h(T%2?y:x,T%4>=2,A),w=u.buildLayerMatrix(g);let S=r(g,w);S<k?(O=0,m=Object.assign({},w),k=S):S===k&&(m=structuredClone(w))}f(g,m)}function d(g,p,b){let y=new Map,x=(w,k)=>{y.has(w)||y.set(w,[]),y.get(w).push(k)};for(let w of g.nodes()){let k=g.node(w);if(typeof k.rank=="number"&&x(k.rank,w),typeof k.minRank=="number"&&typeof k.maxRank=="number")for(let m=k.minRank;m<=k.maxRank;m++)m!==k.rank&&x(m,w)}return p.map(function(w){return o(g,w,b,y.get(w)||[])})}function h(g,p,b){let y=new a;g.forEach(function(x){b.forEach(m=>y.setEdge(m.left,m.right));let w=x.graph().root,k=i(x,w,y,p);k.vs.forEach((m,A)=>x.node(m).order=A),s(x,y,k.vs)})}function f(g,p){Object.values(p).forEach(b=>b.forEach((y,x)=>g.node(y).order=x))}}),aw=Qe((e,t)=>{var n=mn().Graph,r=ft();t.exports={positionX:b,findType1Conflicts:i,findType2Conflicts:o,addConflict:a,hasConflict:u,verticalAlignment:c,horizontalCompaction:d,alignCoordinates:g,findSmallestWidthAlignment:f,balance:p};function i(w,k){let m={};function A(T,O){let S=0,F=0,R=T.length,N=O[O.length-1];return O.forEach((_,E)=>{let v=s(w,_),C=v?w.node(v).order:R;(v||_===N)&&(O.slice(F,E+1).forEach(I=>{w.predecessors(I).forEach(M=>{let L=w.node(M),H=L.order;(H<S||C<H)&&!(L.dummy&&w.node(I).dummy)&&a(m,M,I)})}),F=E+1,S=C)}),O}return k.length&&k.reduce(A),m}function o(w,k){let m={};function A(O,S,F,R,N){let _;r.range(S,F).forEach(E=>{_=O[E],w.node(_).dummy&&w.predecessors(_).forEach(v=>{let C=w.node(v);C.dummy&&(C.order<R||C.order>N)&&a(m,v,_)})})}function T(O,S){let F=-1,R,N=0;return S.forEach((_,E)=>{if(w.node(_).dummy==="border"){let v=w.predecessors(_);v.length&&(R=w.node(v[0]).order,A(S,N,E,F,R),N=E,F=R)}A(S,N,S.length,R,O.length)}),S}return k.length&&k.reduce(T),m}function s(w,k){if(w.node(k).dummy)return w.predecessors(k).find(m=>w.node(m).dummy)}function a(w,k,m){if(k>m){let T=k;k=m,m=T}let A=w[k];A||(w[k]=A={}),A[m]=!0}function u(w,k,m){if(k>m){let A=k;k=m,m=A}return!!w[k]&&Object.hasOwn(w[k],m)}function c(w,k,m,A){let T={},O={},S={};return k.forEach(F=>{F.forEach((R,N)=>{T[R]=R,O[R]=R,S[R]=N})}),k.forEach(F=>{let R=-1;F.forEach(N=>{let _=A(N);if(_.length){_=_.sort((v,C)=>S[v]-S[C]);let E=(_.length-1)/2;for(let v=Math.floor(E),C=Math.ceil(E);v<=C;++v){let I=_[v];O[N]===N&&R<S[I]&&!u(m,N,I)&&(O[I]=N,O[N]=T[N]=T[I],R=S[I])}}})}),{root:T,align:O}}function d(w,k,m,A,T){let O={},S=h(w,k,m,T),F=T?"borderLeft":"borderRight";function R(E,v){let C=S.nodes().slice(),I={},M=C.pop();for(;M;){if(I[M])E(M);else{I[M]=!0,C.push(M);for(let L of v(M))C.push(L)}M=C.pop()}}function N(E){O[E]=S.inEdges(E).reduce((v,C)=>Math.max(v,O[C.v]+S.edge(C)),0)}function _(E){let v=S.outEdges(E).reduce((I,M)=>Math.min(I,O[M.w]-S.edge(M)),Number.POSITIVE_INFINITY),C=w.node(E);v!==Number.POSITIVE_INFINITY&&C.borderType!==F&&(O[E]=Math.max(O[E],v))}return R(N,S.predecessors.bind(S)),R(_,S.successors.bind(S)),Object.keys(A).forEach(E=>O[E]=O[m[E]]),O}function h(w,k,m,A){let T=new n,O=w.graph(),S=y(O.nodesep,O.edgesep,A);return k.forEach(F=>{let R;F.forEach(N=>{let _=m[N];if(T.setNode(_),R){var E=m[R],v=T.edge(E,_);T.setEdge(E,_,Math.max(S(w,N,R),v||0))}R=N})}),T}function f(w,k){return Object.values(k).reduce((m,A)=>{let T=Number.NEGATIVE_INFINITY,O=Number.POSITIVE_INFINITY;Object.entries(A).forEach(([F,R])=>{let N=x(w,F)/2;T=Math.max(R+N,T),O=Math.min(R-N,O)});let S=T-O;return S<m[0]&&(m=[S,A]),m},[Number.POSITIVE_INFINITY,null])[1]}function g(w,k){let m=Object.values(k),A=r.applyWithChunking(Math.min,m),T=r.applyWithChunking(Math.max,m);["u","d"].forEach(O=>{["l","r"].forEach(S=>{let F=O+S,R=w[F];if(R===k)return;let N=Object.values(R),_=A-r.applyWithChunking(Math.min,N);S!=="l"&&(_=T-r.applyWithChunking(Math.max,N)),_&&(w[F]=r.mapValues(R,E=>E+_))})})}function p(w,k){return r.mapValues(w.ul,(m,A)=>{if(k)return w[k.toLowerCase()][A];{let T=Object.values(w).map(O=>O[A]).sort((O,S)=>O-S);return(T[1]+T[2])/2}})}function b(w){let k=r.buildLayerMatrix(w),m=Object.assign(i(w,k),o(w,k)),A={},T;["u","d"].forEach(S=>{T=S==="u"?k:Object.values(k).reverse(),["l","r"].forEach(F=>{F==="r"&&(T=T.map(E=>Object.values(E).reverse()));let R=(S==="u"?w.predecessors:w.successors).bind(w),N=c(w,T,m,R),_=d(w,T,N.root,N.align,F==="r");F==="r"&&(_=r.mapValues(_,E=>-E)),A[S+F]=_})});let O=f(w,A);return g(A,O),p(A,w.graph().align)}function y(w,k,m){return(A,T,O)=>{let S=A.node(T),F=A.node(O),R=0,N;if(R+=S.width/2,Object.hasOwn(S,"labelpos"))switch(S.labelpos.toLowerCase()){case"l":N=-S.width/2;break;case"r":N=S.width/2;break}if(N&&(R+=m?N:-N),N=0,R+=(S.dummy?k:w)/2,R+=(F.dummy?k:w)/2,R+=F.width/2,Object.hasOwn(F,"labelpos"))switch(F.labelpos.toLowerCase()){case"l":N=F.width/2;break;case"r":N=-F.width/2;break}return N&&(R+=m?N:-N),N=0,R}}function x(w,k){return w.node(k).width}}),lw=Qe((e,t)=>{var n=ft(),r=aw().positionX;t.exports=i;function i(s){s=n.asNonCompoundGraph(s),o(s),Object.entries(r(s)).forEach(([a,u])=>s.node(a).x=u)}function o(s){let a=n.buildLayerMatrix(s),u=s.graph().ranksep,c=s.graph().rankalign,d=0;a.forEach(h=>{let f=h.reduce((g,p)=>{let b=s.node(p).height;return g>b?g:b},0);h.forEach(g=>{let p=s.node(g);c==="top"?p.y=d+p.height/2:c==="bottom"?p.y=d+f-p.height/2:p.y=d+f/2}),d+=f+u})}}),uw=Qe((e,t)=>{var n=Y_(),r=X_(),i=G_(),o=ft().normalizeRanks,s=U_(),a=ft().removeEmptyRanks,u=q_(),c=Z_(),d=Q_(),h=sw(),f=lw(),g=ft(),p=mn().Graph;t.exports=b;function b(P,W={}){let X=W.debugTiming?g.time:g.notime;return X("layout",()=>{let j=X("  buildLayoutGraph",()=>R(P));return X("  runLayout",()=>y(j,X,W)),X("  updateInputGraph",()=>x(P,j)),j})}function y(P,W,X){W("    makeSpaceForEdgeLabels",()=>N(P)),W("    removeSelfEdges",()=>Y(P)),W("    acyclic",()=>n.run(P)),W("    nestingGraph.run",()=>u.run(P)),W("    rank",()=>i(g.asNonCompoundGraph(P))),W("    injectEdgeLabelProxies",()=>_(P)),W("    removeEmptyRanks",()=>a(P)),W("    nestingGraph.cleanup",()=>u.cleanup(P)),W("    normalizeRanks",()=>o(P)),W("    assignRankMinMax",()=>E(P)),W("    removeEdgeLabelProxies",()=>v(P)),W("    normalize.run",()=>r.run(P)),W("    parentDummyChains",()=>s(P)),W("    addBorderSegments",()=>c(P)),W("    order",()=>h(P,X)),W("    insertSelfEdges",()=>G(P)),W("    adjustCoordinateSystem",()=>d.adjust(P)),W("    position",()=>f(P)),W("    positionSelfEdges",()=>U(P)),W("    removeBorderNodes",()=>H(P)),W("    normalize.undo",()=>r.undo(P)),W("    fixupEdgeLabelCoords",()=>M(P)),W("    undoCoordinateSystem",()=>d.undo(P)),W("    translateGraph",()=>C(P)),W("    assignNodeIntersects",()=>I(P)),W("    reversePoints",()=>L(P)),W("    acyclic.undo",()=>n.undo(P))}function x(P,W){P.nodes().forEach(X=>{let j=P.node(X),J=W.node(X);j&&(j.x=J.x,j.y=J.y,j.order=J.order,j.rank=J.rank,W.children(X).length&&(j.width=J.width,j.height=J.height))}),P.edges().forEach(X=>{let j=P.edge(X),J=W.edge(X);j.points=J.points,Object.hasOwn(J,"x")&&(j.x=J.x,j.y=J.y)}),P.graph().width=W.graph().width,P.graph().height=W.graph().height}var w=["nodesep","edgesep","ranksep","marginx","marginy"],k={ranksep:50,edgesep:20,nodesep:50,rankdir:"tb",rankalign:"center"},m=["acyclicer","ranker","rankdir","align","rankalign"],A=["width","height","rank"],T={width:0,height:0},O=["minlen","weight","width","height","labeloffset"],S={minlen:1,weight:1,width:0,height:0,labeloffset:10,labelpos:"r"},F=["labelpos"];function R(P){let W=new p({multigraph:!0,compound:!0}),X=z(P.graph());return W.setGraph(Object.assign({},k,Q(X,w),g.pick(X,m))),P.nodes().forEach(j=>{let J=z(P.node(j)),q=Q(J,A);Object.keys(T).forEach($=>{q[$]===void 0&&(q[$]=T[$])}),W.setNode(j,q),W.setParent(j,P.parent(j))}),P.edges().forEach(j=>{let J=z(P.edge(j));W.setEdge(j,Object.assign({},S,Q(J,O),g.pick(J,F)))}),W}function N(P){let W=P.graph();W.ranksep/=2,P.edges().forEach(X=>{let j=P.edge(X);j.minlen*=2,j.labelpos.toLowerCase()!=="c"&&(W.rankdir==="TB"||W.rankdir==="BT"?j.width+=j.labeloffset:j.height+=j.labeloffset)})}function _(P){P.edges().forEach(W=>{let X=P.edge(W);if(X.width&&X.height){let j=P.node(W.v),J={rank:(P.node(W.w).rank-j.rank)/2+j.rank,e:W};g.addDummyNode(P,"edge-proxy",J,"_ep")}})}function E(P){let W=0;P.nodes().forEach(X=>{let j=P.node(X);j.borderTop&&(j.minRank=P.node(j.borderTop).rank,j.maxRank=P.node(j.borderBottom).rank,W=Math.max(W,j.maxRank))}),P.graph().maxRank=W}function v(P){P.nodes().forEach(W=>{let X=P.node(W);X.dummy==="edge-proxy"&&(P.edge(X.e).labelRank=X.rank,P.removeNode(W))})}function C(P){let W=Number.POSITIVE_INFINITY,X=0,j=Number.POSITIVE_INFINITY,J=0,q=P.graph(),$=q.marginx||0,he=q.marginy||0;function me(oe){let ge=oe.x,we=oe.y,Se=oe.width,ye=oe.height;W=Math.min(W,ge-Se/2),X=Math.max(X,ge+Se/2),j=Math.min(j,we-ye/2),J=Math.max(J,we+ye/2)}P.nodes().forEach(oe=>me(P.node(oe))),P.edges().forEach(oe=>{let ge=P.edge(oe);Object.hasOwn(ge,"x")&&me(ge)}),W-=$,j-=he,P.nodes().forEach(oe=>{let ge=P.node(oe);ge.x-=W,ge.y-=j}),P.edges().forEach(oe=>{let ge=P.edge(oe);ge.points.forEach(we=>{we.x-=W,we.y-=j}),Object.hasOwn(ge,"x")&&(ge.x-=W),Object.hasOwn(ge,"y")&&(ge.y-=j)}),q.width=X-W+$,q.height=J-j+he}function I(P){P.edges().forEach(W=>{let X=P.edge(W),j=P.node(W.v),J=P.node(W.w),q,$;X.points?(q=X.points[0],$=X.points[X.points.length-1]):(X.points=[],q=J,$=j),X.points.unshift(g.intersectRect(j,q)),X.points.push(g.intersectRect(J,$))})}function M(P){P.edges().forEach(W=>{let X=P.edge(W);if(Object.hasOwn(X,"x"))switch((X.labelpos==="l"||X.labelpos==="r")&&(X.width-=X.labeloffset),X.labelpos){case"l":X.x-=X.width/2+X.labeloffset;break;case"r":X.x+=X.width/2+X.labeloffset;break}})}function L(P){P.edges().forEach(W=>{let X=P.edge(W);X.reversed&&X.points.reverse()})}function H(P){P.nodes().forEach(W=>{if(P.children(W).length){let X=P.node(W),j=P.node(X.borderTop),J=P.node(X.borderBottom),q=P.node(X.borderLeft[X.borderLeft.length-1]),$=P.node(X.borderRight[X.borderRight.length-1]);X.width=Math.abs($.x-q.x),X.height=Math.abs(J.y-j.y),X.x=q.x+X.width/2,X.y=j.y+X.height/2}}),P.nodes().forEach(W=>{P.node(W).dummy==="border"&&P.removeNode(W)})}function Y(P){P.edges().forEach(W=>{if(W.v===W.w){var X=P.node(W.v);X.selfEdges||(X.selfEdges=[]),X.selfEdges.push({e:W,label:P.edge(W)}),P.removeEdge(W)}})}function G(P){var W=g.buildLayerMatrix(P);W.forEach(X=>{var j=0;X.forEach((J,q)=>{var $=P.node(J);$.order=q+j,($.selfEdges||[]).forEach(he=>{g.addDummyNode(P,"selfedge",{width:he.label.width,height:he.label.height,rank:$.rank,order:q+ ++j,e:he.e,label:he.label},"_se")}),delete $.selfEdges})})}function U(P){P.nodes().forEach(W=>{var X=P.node(W);if(X.dummy==="selfedge"){var j=P.node(X.e.v),J=j.x+j.width/2,q=j.y,$=X.x-J,he=j.height/2;P.setEdge(X.e,X.label),P.removeNode(W),X.label.points=[{x:J+2*$/3,y:q-he},{x:J+5*$/6,y:q-he},{x:J+$,y:q},{x:J+5*$/6,y:q+he},{x:J+2*$/3,y:q+he}],X.label.x=X.x,X.label.y=X.y}})}function Q(P,W){return g.mapValues(g.pick(P,W),Number)}function z(P){var W={};return P&&Object.entries(P).forEach(([X,j])=>{typeof X=="string"&&(X=X.toLowerCase()),W[X]=j}),W}}),cw=Qe((e,t)=>{var n=ft(),r=mn().Graph;t.exports={debugOrdering:i};function i(o){let s=n.buildLayerMatrix(o),a=new r({compound:!0,multigraph:!0}).setGraph({});return o.nodes().forEach(u=>{a.setNode(u,{label:u}),a.setParent(u,"layer"+o.node(u).rank)}),o.edges().forEach(u=>a.setEdge(u.v,u.w,{},u.name)),s.forEach((u,c)=>{let d="layer"+c;a.setNode(d,{rank:"same"}),u.reduce((h,f)=>(a.setEdge(h,f,{style:"invis"}),f))}),a}}),dw=Qe((e,t)=>{t.exports="2.0.4"}),fw=Qe((e,t)=>{t.exports={graphlib:mn(),layout:uw(),debug:cw(),util:{time:ft().time,notime:ft().notime},version:dw()}});const Uu=fw();/*! For license information please see dagre.esm.js.LEGAL.txt */const kf="LR",hw=360,gw=240,vw=80,pw=140,mw=40,yw=40;function Wr(e){return typeof e=="string"&&e.trim()?e.trim():void 0}function ni(e,t){const n=Number(e);return Number.isFinite(n)?n:t}function qu(e,t){const n=Number(e);return Number.isFinite(n)&&n>0?n:t}function bw(e){var n;const t=(n=Wr(e))==null?void 0:n.toUpperCase();return t==="TB"||t==="LR"?t:kf}function Zu(e){const t=Array.isArray(e)?e:[];return Array.from(new Set(t.map(n=>Wr(n)).filter(n=>n!==void 0))).sort((n,r)=>n.localeCompare(r))}function _w(e){const t=Array.isArray(e)?e:[],n=[],r=new Set;for(const i of t){const o=Wr(i==null?void 0:i.id);!o||r.has(o)||(r.add(o),n.push({id:o,width:qu(i==null?void 0:i.width,hw),height:qu(i==null?void 0:i.height,gw)}))}return n.sort((i,o)=>i.id.localeCompare(o.id)),n}function ww(e,t){const n=new Set(t),r=Array.isArray(e)?e:[],i=[];for(const o of r){const s=Wr(o==null?void 0:o.source),a=Wr(o==null?void 0:o.target);!s||!a||!n.has(s)||!n.has(a)||i.push({source:s,target:a})}return i}function xw(e){const t=Array.isArray(e)?e:[];if(t.length===0)return{x:0,y:0};let n=Number.POSITIVE_INFINITY,r=Number.POSITIVE_INFINITY;for(const i of t){const o=Number(i==null?void 0:i.x),s=Number(i==null?void 0:i.y);!Number.isFinite(o)||!Number.isFinite(s)||(n=Math.min(n,o),r=Math.min(r,s))}return!Number.isFinite(n)||!Number.isFinite(r)?{x:0,y:0}:{x:n,y:r}}function Ew({seedNodeIds:e,edges:t,allowedNodeIds:n}={}){const r=Zu(e);if(r.length===0)return[];const i=Zu(n),o=i.length>0?new Set(i):void 0,s=new Map;for(const c of Array.isArray(t)?t:[]){const d=Wr(c==null?void 0:c.source),h=Wr(c==null?void 0:c.target);!d||!h||o&&(!o.has(d)||!o.has(h))||(s.has(d)||s.set(d,new Set),s.get(d).add(h))}const a=new Set(o?r.filter(c=>o.has(c)):r),u=Array.from(a);for(;u.length>0;){const c=u.shift(),d=s.get(c);if(d instanceof Set)for(const h of d)a.has(h)||(a.add(h),u.push(h))}return Array.from(a)}function Nw({nodes:e,edges:t,direction:n=kf,spacing:r={},origin:i={}}={}){const o=_w(e);if(o.length===0)return new Map;const s=ni(r==null?void 0:r.nodeSep,vw),a=ni(r==null?void 0:r.rankSep,pw),u=ni(r==null?void 0:r.marginX,mw),c=ni(r==null?void 0:r.marginY,yw),d=ni(i==null?void 0:i.x,0),h=ni(i==null?void 0:i.y,0),f=new Uu.graphlib.Graph;f.setDefaultEdgeLabel(()=>({})),f.setGraph({rankdir:bw(n),nodesep:s,ranksep:a,marginx:u,marginy:c});const g=new Map;for(const y of o)g.set(y.id,{width:y.width,height:y.height}),f.setNode(y.id,{width:y.width,height:y.height});const p=ww(t,o.map(y=>y.id));for(let y=p.length-1;y>=0;y-=1){const x=p[y];f.setEdge(x.source,x.target)}Uu.layout(f);const b=new Map;for(const y of o){const x=f.node(y.id),w=g.get(y.id);!x||!w||b.set(y.id,{x:x.x-w.width/2+d,y:x.y-w.height/2+h})}return b}function If(e,t){Ee(t,!1);const n=Oe(),r=Oe(),i=Oe(),o=Oe();let s=te(t,"isVisible",8,!1),a=te(t,"autoScale",8,!1),u=te(t,"minWidth",8,0),c=te(t,"minHeight",8,0),d=te(t,"color",8,"var(--vscode-focusBorder)"),h=te(t,"handleClass",8,"rounded-sm border border-vsc-focus bg-vsc-editor-widget-bg"),f=te(t,"lineClass",8,"border-vsc-focus"),g=te(t,"onResizeEnd",8,void 0);const p=8,b=12,y=vf();function x(k){const m=Number(k);return!Number.isFinite(m)||m<=0?1:m}function w(k){if(!Number.isFinite(k)||k>=1)return 1;const m=1/k;return Math.min(b,Math.max(1,m))}Me(()=>{},()=>{var k;K(n,x((k=y.current)==null?void 0:k.zoom))}),Me(()=>l(n),()=>{K(r,w(l(n)))}),Me(()=>l(r),()=>{K(i,Math.round(p*l(r)))}),Me(()=>l(i),()=>{K(o,`width:${l(i)}px;height:${l(i)}px;`)}),Ti(),tr(),Kb(e,{get isVisible(){return s()},get autoScale(){return a()},get minWidth(){return u()},get minHeight(){return c()},get color(){return d()},get handleClass(){return h()},get handleStyle(){return l(o)},get lineClass(){return f()},get onResizeEnd(){return g()}}),Ne()}var kw=ue('<input class="nodrag min-w-0 flex-1 appearance-none rounded border border-vsc-input-border bg-vsc-input-bg px-1 py-0.5 font-semibold text-vsc-input-fg outline-none focus:border-vsc-focus" type="text" aria-label="Comment title"/>'),Iw=ue('<button class="flex-1 min-w-0 font-semibold text-left truncate select-none text-vsc-input-fg cursor-grab active:cursor-grabbing" type="button"> </button>'),Sw=ue('<div class="relative h-full w-full overflow-visible rounded-lg border border-vsc-editor-widget-border bg-vsc-editor-widget-bg/90 text-vsc-editor-fg shadow-lg transition-[border-color,box-shadow]"><div class="flex items-center gap-2 border-b border-vsc-editor-widget-border bg-vsc-input-bg/70 px-2 py-1.5 cursor-grab active:cursor-grabbing" role="group" aria-label="Comment title bar"><!> <div data-comment-selection-exempt="true" class="nodrag flex items-center gap-1 rounded border border-vsc-editor-widget-border bg-vsc-editor-widget-bg px-1 py-0.5"><input class="w-10 border-0 bg-transparent p-0 text-right text-[10px] font-semibold text-vsc-muted outline-none [appearance:textfield] [&amp;::-webkit-inner-spin-button]:appearance-none [&amp;::-webkit-outer-spin-button]:appearance-none" type="number" step="1" aria-label="Comment font size"/> <span class="text-[10px] font-semibold text-vsc-muted">px</span></div></div> <textarea class="nodrag h-[calc(100%-2.75rem)] w-full resize-none border-0 bg-transparent p-2 text-vsc-editor-fg outline-none placeholder:text-vsc-muted" aria-label="Comment text" placeholder="Write a note..."></textarea> <!></div>');function Tw(e,t){Ee(t,!0);let n=te(t,"selected",3,!1),r=te(t,"dragging",3,!1);const{updateNodeData:i,updateNode:o,getNodes:s,getEdges:a,updateEdge:u}=Ur();je(()=>{l(h)||K(p,t.data.name,!0)}),je(()=>{f||K(b,t.data.name,!0)}),je(()=>{g||K(y,t.data.fontSize)});const c=8,d=128;let h=fe(!1),f=!1,g=!1,p=fe(""),b=fe(""),y=V(()=>t.data.fontSize),x=fe(void 0);async function w(){var q,$;K(h,!0),K(p,t.data.name,!0),await dt(),(q=l(x))==null||q.focus(),($=l(x))==null||$.select()}function k(){if(!l(h))return;const q=l(p);q!==t.data.name&&(H({name:q}),it()),K(h,!1)}function m(){f=!0}function A(){if(!f)return;const q=l(b);q!==t.data.text&&(H({text:q}),it()),f=!1}function T(){f&&(f=!1,K(b,t.data.text,!0))}function O(q){f=!0,K(b,q.currentTarget.value,!0)}function S(q){q.key==="Escape"&&(q.preventDefault(),T(),q.currentTarget.blur())}function F(){g=!0}function R(){if(!g)return;const q=l(y);q!==t.data.fontSize&&(H({fontSize:q}),it()),g=!1}function N(){g&&(g=!1,K(y,t.data.fontSize))}function _(q){g=!0,K(y,q.currentTarget.value)}function E(q){if(q.key==="Enter"){q.preventDefault(),R(),q.currentTarget.blur();return}q.key==="Escape"&&(q.preventDefault(),N(),q.currentTarget.blur())}function v(){l(h)&&(K(h,!1),K(p,t.data.name,!0))}function C(q){var $,he;if(q.key==="Enter"){q.preventDefault(),k(),($=l(x))==null||$.blur();return}q.key==="Escape"&&(q.preventDefault(),v(),(he=l(x))==null||he.blur())}function I(q){(q.key==="Enter"||q.key===" ")&&(q.preventDefault(),w())}function M(q){if(l(h)||g)return;const $=Number(q==null?void 0:q.button);if(Number.isFinite($)&&$!==0)return;const he=q==null?void 0:q.target;if(typeof(he==null?void 0:he.closest)=="function"&&he.closest("[data-comment-selection-exempt='true']")||q!=null&&q.shiftKey)return;const me=!!(q!=null&&q.metaKey||q!=null&&q.ctrlKey),oe=s();for(const we of oe){const Se=we.id===t.id?!0:me?!!we.selected:!1;we.selected!==Se&&o(we.id,{selected:Se})}if(me)return;const ge=a();for(const we of ge)we.selected&&u(we.id,{selected:!1})}function L(){it()}function H(q){i(t.id,{name:t.data.name,text:t.data.text,fontSize:t.data.fontSize,...q})}var Y=Sw(),G=se(Y);G.__pointerup=M;var U=se(G);{var Q=q=>{var $=kw();$.__input=me=>K(p,me.currentTarget.value,!0),$.__keydown=C;let he;ut($,me=>K(x,me),()=>l(x)),_e(()=>{Ot($,l(p)),he=Ze($,"",he,{"font-size":`${t.data.fontSize}px`})}),Ke("blur",$,k),ne(q,$)},z=q=>{var $=Iw();$.__dblclick=w,$.__keydown=I;let he;var me=se($);_e(()=>{be($,"aria-label",`Comment title: ${t.data.name}. Double click to rename`),he=Ze($,"",he,{"font-size":`${t.data.fontSize}px`}),We(me,t.data.name)}),ne(q,$)};Re(U,q=>{l(h)?q(Q):q(z,!1)})}var P=de(U,2),W=se(P);be(W,"min",c),be(W,"max",d),W.__input=_,W.__keydown=E;var X=de(G,2);X.__input=O,X.__keydown=S;let j;var J=de(X,2);{let q=V(()=>n()&&!r());If(J,{get isVisible(){return l(q)},onResizeEnd:L})}_e(()=>{Ze(Y,`outline: ${n()&&!r()?"2px solid var(--vscode-focusBorder)":"none"};`),Ot(W,l(y)),Ot(X,l(b)),j=Ze(X,"",j,{"font-size":`${t.data.fontSize}px`})}),Ke("focus",W,F),Ke("blur",W,R),Ke("focus",X,m),Ke("blur",X,A),ne(e,Y),Ne()}pt(["pointerup","input","keydown","dblclick"]);const Ow=['input:not([type="hidden"]):not([disabled]):not([readonly])',"textarea:not([disabled]):not([readonly])","select:not([disabled])",'[contenteditable="true"]'].join(", ");function Pw(e){var t;return!!(e!=null&&e.offsetWidth||e!=null&&e.offsetHeight||(t=e==null?void 0:e.getClientRects)!=null&&t.call(e).length)}function Aw(e){var t;return((t=e==null?void 0:e.closest)==null?void 0:t.call(e,"[data-node-editor-root]"))??null}function qr(e){const t=Aw(e);if(!t)return!1;const n=Array.from(t.querySelectorAll(Ow)).filter(Pw),r=n.indexOf(e);if(r<0)return!1;const i=n[r+1];return i?(i instanceof HTMLElement&&i.focus(),!0):!1}function Zr(e){return(e==null?void 0:e.key)==="Enter"&&!(e!=null&&e.isComposing)&&!(e!=null&&e.altKey)&&!(e!=null&&e.ctrlKey)&&!(e!=null&&e.metaKey)&&!(e!=null&&e.shiftKey)}var Cw=ue('<textarea class="nodrag min-h-10 w-full resize-none rounded-md border border-vsc-input-border bg-vsc-input-bg px-2 py-1.5 text-xs text-vsc-input-fg h-20" rows="4"></textarea>'),Mw=ue('<input class="nodrag w-full rounded-md border border-vsc-input-border bg-vsc-input-bg px-2 py-1.5 text-xs text-vsc-input-fg" type="text"/>'),Dw=ue('<div class="flex flex-col gap-1"><label class="text-xs text-vsc-muted"> </label> <!></div>');function zw(e,t){Ee(t,!0);const n=V(()=>t.label??t.schemaKey??"Field"),r=V(()=>typeof t.value=="string"?t.value:String(t.value??"")),i=V(()=>t.type==="text"),o=V(()=>`text-${t.schemaKey??"field"}-${t.type}`);let s=fe(!1),a=fe("");je(()=>{l(s)||K(a,l(r),!0)});function u(k){t.onchange(k)}function c(){K(s,!0)}function d(k){K(a,k.currentTarget.value,!0)}function h(){l(s)&&(K(s,!1),l(a)!==l(r)&&u(l(a)))}function f(k){Zr(k)&&(k.preventDefault(),qr(k.currentTarget)||k.currentTarget.blur())}var g=Dw(),p=se(g),b=se(p),y=de(p,2);{var x=k=>{var m=Cw();m.__input=d,_e(()=>{be(m,"id",l(o)),Ot(m,l(a))}),Ke("focus",m,c),Ke("blur",m,h),ne(k,m)},w=k=>{var m=Mw();m.__input=d,m.__keydown=f,_e(()=>{be(m,"id",l(o)),Ot(m,l(a))}),Ke("focus",m,c),Ke("blur",m,h),ne(k,m)};Re(y,k=>{l(i)?k(x):k(w,!1)})}_e(()=>{be(p,"for",l(o)),We(b,l(n))}),ne(e,g),Ne()}pt(["input","keydown"]);var Rw=ue('<div class="flex flex-row items-center justify-start gap-2"><label class="text-xs text-vsc-muted"> </label> <input class="nodrag h-4 w-4" type="checkbox"/></div>');function Lw(e,t){Ee(t,!0);const n=V(()=>t.label??t.schemaKey??"Field"),r=V(()=>!!t.value),i=V(()=>`bool-${t.schemaKey??"field"}-${t.type}`);function o(d){t.onchange(d)}var s=Rw(),a=se(s),u=se(a),c=de(a,2);c.__change=d=>o(d.currentTarget.checked),_e(()=>{be(a,"for",l(i)),We(u,l(n)),be(c,"id",l(i)),id(c,l(r))}),ne(e,s),Ne()}pt(["change"]);var Vw=ue('<div class="flex flex-col gap-1"><label class="text-xs text-vsc-muted"> </label> <input class="nodrag w-full rounded-md border border-vsc-input-border bg-vsc-input-bg px-2 py-1.5 text-xs text-vsc-input-fg" type="number"/></div>');function Fw(e,t){Ee(t,!0);const n=V(()=>t.label??t.schemaKey??"Field"),r=V(()=>Number.isFinite(Number(t.value))?Number(t.value):0),i=V(()=>String(l(r))),o=V(()=>t.type==="float"?"any":"1"),s=V(()=>`number-${t.schemaKey??"field"}-${t.type}`);let a=fe(!1),u=fe("");je(()=>{l(a)||K(u,l(i),!0)});function c(w){t.onchange(w)}function d(){K(a,!0)}function h(w){K(u,w.currentTarget.value,!0)}function f(){if(!l(a))return;K(a,!1);const w=Number(l(u));if(!Number.isFinite(w)){K(u,l(i),!0);return}const k=t.type==="float"?w:Math.trunc(w);K(u,String(k),!0),k!==l(r)&&c(k)}function g(w){Zr(w)&&(w.preventDefault(),qr(w.currentTarget)||w.currentTarget.blur())}var p=Vw(),b=se(p),y=se(b),x=de(b,2);x.__input=h,x.__keydown=g,_e(()=>{be(b,"for",l(s)),We(y,l(n)),be(x,"id",l(s)),Ot(x,l(u)),be(x,"step",l(o))}),Ke("focus",x,d),Ke("blur",x,f),ne(e,p),Ne()}pt(["input","keydown"]);var Hw=ue('<div class="flex flex-col gap-1"><label class="text-xs text-vsc-muted"> </label> <input class="nodrag w-full" type="range"/></div>');function Kw(e,t){Ee(t,!0);const n=0,r=100,i=1,o=V(()=>Number.isFinite(Number(t.value))?Number(t.value):n),s=V(()=>`slider-${t.schemaKey??"field"}-${t.type}`);let a=fe(n),u=fe(!1),c=fe("unknown");je(()=>{l(u)||K(a,l(o),!0)});const d=V(()=>`${t.label??t.schemaKey??"Field"} (${l(a)})`);function h(T){t.onchange(T)}function f(T){const O=Number(T.currentTarget.value);K(a,Number.isFinite(O)?O:n,!0),K(u,l(a)!==l(o))}function g(){K(c,"pointer")}function p(T){["ArrowLeft","ArrowRight","ArrowUp","ArrowDown","Home","End","PageUp","PageDown"].includes(T.key)&&K(c,"keyboard")}function b(){l(u)&&(h(l(a)),K(u,!1))}function y(){l(c)==="pointer"&&b()}function x(){b(),K(c,"unknown")}var w=Hw(),k=se(w),m=se(k),A=de(k,2);be(A,"min",n),be(A,"max",r),be(A,"step",i),A.__pointerdown=g,A.__input=f,A.__change=y,A.__keydown=p,_e(()=>{be(k,"for",l(s)),We(m,l(d)),be(A,"id",l(s)),Ot(A,l(a))}),Ke("blur",A,x),ne(e,w),Ne()}pt(["pointerdown","input","change","keydown"]);var Bw=ue('<div class="flex flex-col gap-1"><label class="text-xs text-vsc-muted"> </label> <input class="nodrag w-full rounded-md border border-vsc-input-border bg-vsc-input-bg px-2 py-1.5 text-xs text-vsc-input-fg" type="text" placeholder="path/to/file.json" spellcheck="false"/></div>');function Ww(e,t){Ee(t,!0);const n=V(()=>t.label??t.schemaKey??"Field"),r=V(()=>typeof t.value=="string"?t.value:String(t.value??"")),i=V(()=>`path-${t.schemaKey??"field"}-${t.type}`);let o=fe(!1),s=fe("");je(()=>{l(o)||K(s,l(r),!0)});function a(y){t.onchange(y)}function u(){K(o,!0)}function c(y){K(s,y.currentTarget.value,!0)}function d(){l(o)&&(K(o,!1),l(s)!==l(r)&&a(l(s)))}function h(y){Zr(y)&&(y.preventDefault(),qr(y.currentTarget)||y.currentTarget.blur())}var f=Bw(),g=se(f),p=se(g),b=de(g,2);b.__input=c,b.__keydown=h,_e(()=>{be(g,"for",l(i)),We(p,l(n)),be(b,"id",l(i)),Ot(b,l(s))}),Ke("focus",b,u),Ke("blur",b,d),ne(e,f),Ne()}pt(["input","keydown"]);var Yw=ue('<div class="relative flex flex-col gap-1"><label class="text-xs text-vsc-muted"> </label> <input class="nodrag w-full rounded-md border border-vsc-input-border bg-vsc-input-bg px-2 py-1.5 text-xs text-vsc-input-fg" type="text"/></div>');function Xw(e,t){Ee(t,!0);const n=V(()=>t.label??t.schemaKey??"Field"),r=V(()=>typeof t.value=="string"?t.value:String(t.value??"")),i=V(()=>`enum-${t.schemaKey??"field"}-${t.type}`);let o=fe(!1),s=fe(""),a;je(()=>{l(o)||K(s,l(r),!0)});function u(x){t.onchange(x)}function c(){K(o,!0)}function d(x){K(s,x.currentTarget.value,!0)}function h(x){l(o)&&(K(o,!1),l(s)!==l(r)&&u(l(s)),x&&a&&!qr(a)&&a.blur())}function f(x){Zr(x)&&(x.preventDefault(),h(!0))}var g=Yw(),p=se(g),b=se(p),y=de(p,2);y.__input=d,y.__keydown=f,ut(y,x=>a=x,()=>a),_e(()=>{be(p,"for",l(i)),We(b,l(n)),be(y,"id",l(i)),Ot(y,l(s))}),Ke("focus",y,c),Ke("blur",y,()=>h(!1)),ne(e,g),Ne()}pt(["input","keydown"]);function Za(e){return e!==null&&typeof e=="object"&&!Array.isArray(e)}var jw=ue('<div class="text-xs text-vsc-muted">No items</div>'),Gw=ue('<input class="w-4 h-4 nodrag" type="checkbox"/>'),Uw=ue('<input class="nodrag w-full rounded-md border border-vsc-input-border bg-vsc-input-bg px-2 py-1.5 text-xs text-vsc-input-fg" type="number"/>'),qw=ue('<textarea class="nodrag min-h-10 w-full resize-y rounded-md border border-vsc-input-border bg-vsc-input-bg px-2 py-1.5 text-xs text-vsc-input-fg" rows="3"></textarea>'),Zw=ue('<input class="nodrag w-full rounded-md border border-vsc-input-border bg-vsc-input-bg px-2 py-1.5 text-xs text-vsc-input-fg" type="text"/>'),Qw=ue('<div class="flex items-start gap-1.5"><div class="flex-1"><!></div> <button class="px-2 py-1 text-xs border rounded-md border-vsc-button-border bg-vsc-button-secondary-bg text-vsc-button-secondary-fg hover:bg-vsc-button-secondary-hover" type="button">Remove</button></div>'),Jw=ue('<div class="flex flex-col gap-1.5"></div>'),$w=ue('<div class="flex flex-col gap-1.5 rounded-md border border-dashed border-vsc-editor-widget-border p-2"><div class="flex items-center justify-between gap-2"><div class="text-xs font-bold uppercase text-vsc-muted"> </div> <button class="px-2 py-1 text-xs border rounded-md border-vsc-button-border bg-vsc-button-secondary-bg text-vsc-button-secondary-fg hover:bg-vsc-button-secondary-hover" type="button">Add</button></div> <!></div>');function ex(e,t){Ee(t,!0);const n=V(()=>t.label??t.schemaKey??"Field"),r=V(()=>Array.isArray(t.value)?t.value:[]);function i(T){t.onchange(T)}function o(){i([...l(r),""])}function s(T){i(l(r).filter((O,S)=>S!==T))}function a(T,O){const S=l(r).slice();S[T]=O,i(S)}function u(T,O){a(T,O)}function c(T,O){const S=Number(O);a(T,Number.isFinite(S)?S:0)}function d(T,O){a(T,O)}function h(T,O){try{const S=JSON.parse(O);Za(S)&&a(T,S)}catch{}}function f(T){try{return JSON.stringify(T??{},null,2)}catch{return"{}"}}function g(T){Zr(T)&&(T.preventDefault(),qr(T.currentTarget)||T.currentTarget.blur())}var p=$w(),b=se(p),y=se(b),x=se(y),w=de(y,2);w.__click=o;var k=de(b,2);{var m=T=>{var O=jw();ne(T,O)},A=T=>{var O=Jw();ot(O,21,()=>l(r),Mt,(S,F,R)=>{var N=Qw(),_=se(N),E=se(_);{var v=Y=>{var G=Gw();G.__change=U=>d(R,U.currentTarget.checked),_e(()=>id(G,l(F))),ne(Y,G)},C=Y=>{var G=Uw();G.__change=U=>c(R,U.currentTarget.value),G.__keydown=g,_e(()=>Ot(G,l(F))),ne(Y,G)},I=Y=>{var G=qw();G.__change=U=>h(R,U.currentTarget.value),_e(U=>Ot(G,U),[()=>f(l(F))]),ne(Y,G)},M=V(()=>Za(l(F))),L=Y=>{var G=Zw();G.__change=U=>u(R,U.currentTarget.value),G.__keydown=g,_e(U=>Ot(G,U),[()=>typeof l(F)=="string"?l(F):String(l(F)??"")]),ne(Y,G)};Re(E,Y=>{typeof l(F)=="boolean"?Y(v):typeof l(F)=="number"?Y(C,1):l(M)?Y(I,2):Y(L,!1)})}var H=de(_,2);H.__click=()=>s(R),ne(S,N)}),ne(T,O)};Re(k,T=>{l(r).length===0?T(m):T(A,!1)})}_e(()=>We(x,l(n))),ne(e,p),Ne()}pt(["click","change","keydown"]);function Sf(e,t){var n=$e(),r=Ae(n);{var i=f=>{},o=f=>{ex(f,{get schemaKey(){return t.schemaKey},get type(){return t.type},get label(){return t.label},get value(){return t.value},get inputWidth(){return t.inputWidth},get onchange(){return t.onchange}})},s=f=>{Xw(f,{get schemaKey(){return t.schemaKey},get type(){return t.type},get label(){return t.label},get value(){return t.value},get inputWidth(){return t.inputWidth},get onchange(){return t.onchange}})},a=f=>{Ww(f,{get schemaKey(){return t.schemaKey},get type(){return t.type},get label(){return t.label},get value(){return t.value},get inputWidth(){return t.inputWidth},get onchange(){return t.onchange}})},u=f=>{Kw(f,{get schemaKey(){return t.schemaKey},get type(){return t.type},get label(){return t.label},get value(){return t.value},get inputWidth(){return t.inputWidth},get onchange(){return t.onchange}})},c=f=>{Lw(f,{get schemaKey(){return t.schemaKey},get type(){return t.type},get label(){return t.label},get value(){return t.value},get inputWidth(){return t.inputWidth},get onchange(){return t.onchange}})},d=f=>{Fw(f,{get schemaKey(){return t.schemaKey},get type(){return t.type},get label(){return t.label},get value(){return t.value},get inputWidth(){return t.inputWidth},get onchange(){return t.onchange}})},h=f=>{zw(f,{get schemaKey(){return t.schemaKey},get type(){return t.type},get label(){return t.label},get value(){return t.value},get inputWidth(){return t.inputWidth},get onchange(){return t.onchange}})};Re(r,f=>{t.type==="object"?f(i):t.type==="list"?f(o,1):t.type==="enum"?f(s,2):t.type==="filepath"?f(a,3):t.type==="intslider"?f(u,4):t.type==="checkbox"?f(c,5):t.type==="int"||t.type==="float"?f(d,6):f(h,!1)})}ne(e,n)}var tx=ue('<div class="px-1"><textarea rows="1" aria-label="Node comment"></textarea></div>');function Tf(e,t){Ee(t,!1);const n=Oe(),r=Oe(),i=Oe();let o=te(t,"id",8,""),s=te(t,"value",8,""),a=te(t,"isVisible",12,!1),u=te(t,"isEditing",12,!1);const c=Cs();let d=Oe(!1),h=Oe(""),f=Oe();async function g(N=!1){var E,v,C;if(K(d,!0),u()||(u(!0),K(h,l(n)),await dt()),(E=l(f))==null||E.focus(),A(),N){(v=l(f))==null||v.select();return}const _=l(h).length;(C=l(f))==null||C.setSelectionRange(_,_)}function p(){u()&&(c("change",{value:l(h)}),u(!1),K(d,l(h).trim().length>0),dt().then(T))}function b(N){u()&&(K(h,N.currentTarget.value),A())}function y(N){var _;if(u()){N.key==="Escape"&&(N.preventDefault(),p(),(_=l(f))==null||_.blur());return}(N.key==="Enter"||N.key===" ")&&(N.preventDefault(),g(!1))}function x(){u()&&p()}function w(){var N;u()||(N=l(f))==null||N.blur()}function k(N){u()||c("select",{originalEvent:N})}function m(){u()||g(!0)}function A(){l(f)&&(rs(f,l(f).style.height="auto"),rs(f,l(f).style.height=`${l(f).scrollHeight}px`))}function T(){var N,_;if(l(f)){try{l(f).setSelectionRange(0,0)}catch{}typeof window<"u"&&((_=(N=window.getSelection)==null?void 0:N.call(window))==null||_.removeAllRanges())}}Me(()=>He(s()),()=>{K(n,typeof s()=="string"?s():"")}),Me(()=>l(n),()=>{K(r,l(n).trim().length>0)}),Me(()=>(He(u()),l(r),l(d)),()=>{a(u()||l(r)||l(d))}),Me(()=>(He(u()),l(n)),()=>{u()||K(h,l(n))}),Me(()=>(He(u()),l(h),l(n)),()=>{K(i,u()?l(h):l(n))}),Me(()=>(He(a()),dt),()=>{a()&&dt().then(A)}),Ti();var O={startEditing:g};tr();var S=$e(),F=Ae(S);{var R=N=>{var _=tx(),E=se(_);E.__pointerdown=k,E.__click=m,E.__input=b,E.__keydown=y,ut(E,v=>K(f,v),()=>l(f)),_e(()=>{be(E,"id",o()),Pt(E,1,`w-full resize-none overflow-hidden p-1 rounded-md text-left text-xs leading-5 text-vsc-input-fg whitespace-pre-wrap wrap-break-word ${u()?"nodrag border border-vsc-input-border bg-vsc-input-bg":"border border-transparent bg-transparent cursor-grab active:cursor-grabbing select-none outline-none focus:outline-none focus-visible:outline-none focus:border-transparent"}`),E.readOnly=!u(),Ot(E,l(i))}),Ke("focus",E,w),Ke("blur",E,x),ne(N,_)};Re(F,N=>{a()&&N(R)})}return ne(e,S),bg(t,"startEditing",g),Ne(O)}pt(["pointerdown","click","input","keydown"]);var nx=ue('<span aria-hidden="true"></span>'),rx=ue('<span aria-hidden="true"></span>');function Qa(e,t){Ee(t,!1);const n=Oe(),r=Oe(),i=Oe(),o=Oe(),s=Oe(),a=Oe(),u=Oe(),c=Oe(),d=Oe(),h=Oe(),f=Oe(),g=Oe(),p=Oe();let b=te(t,"id",8),y=te(t,"type",8,"target"),x=te(t,"side",8,"left"),w=te(t,"top",8,"0px"),k=te(t,"width",8,12),m=te(t,"label",8,""),A=te(t,"showTooltip",8,!1),T=te(t,"color",8,void 0),O=te(t,"connectionMultiplicity",8,"single");function S(v){return Number.isFinite(v)?`${v}px`:typeof v=="string"?v:"0px"}function F(v){return Number.isFinite(v)?`${Number(v)}px`:typeof v=="string"?v:"12px"}function R(v){return`calc(${v} * 2)`}function N(v){return v==="map"?"map":v==="multiple"?"multiple":"single"}function _(v,C){return v==="map"||v==="multiple"?"rounded-none":C==="right"?"rounded-l-full":"rounded-r-full"}function E(v,C){if(v==="map")return C==="left"?"polygon(0 0, 100% 50%, 0 100%)":"polygon(100% 0, 0 50%, 100% 100%)"}Me(()=>He(x()),()=>{K(n,x()==="right"?"right":"left")}),Me(()=>(l(n),Pe),()=>{K(r,l(n)==="right"?Pe.Right:Pe.Left)}),Me(()=>He(y()),()=>{K(i,y()==="source"?"source":"target")}),Me(()=>He(w()),()=>{K(o,S(w()))}),Me(()=>He(k()),()=>{K(s,F(k()))}),Me(()=>l(s),()=>{K(a,R(l(s)))}),Me(()=>He(m()),()=>{K(u,typeof m()=="string"?m():"")}),Me(()=>He(O()),()=>{K(c,N(O()))}),Me(()=>l(n),()=>{K(d,l(n)==="right"?"right-0":"left-0")}),Me(()=>(l(c),l(n)),()=>{K(h,_(l(c),l(n)))}),Me(()=>(l(c),l(n)),()=>{K(f,E(l(c),l(n)))}),Me(()=>l(n),()=>{K(g,l(n)==="right"?"right":"left")}),Me(()=>(l(u),l(n)),()=>{K(p,l(u)?`${l(n)==="right"?"Output":"Input"} pin ${l(u)}`:void 0)}),Ti(),tr(),no(e,{get type(){return l(i)},get position(){return l(r)},get id(){return b()},get style(){return`top: ${l(o)??""}; height: ${l(a)??""};`},class:"w-px! min-w-0! min-h-0! bg-transparent! border-none! overflow-visible! transform-[translate(0,-50%)]",children:(v,C)=>{var I=$e(),M=Ae(I);{var L=Y=>{Ef(Y,{get text(){return l(u)},get placement(){return l(g)},wrapperClass:"block",get style(){return`width: ${l(s)??""}; height: ${l(a)??""};`},get groupAriaLabel(){return l(p)},children:(G,U)=>{var Q=nx();_e(z=>{Pt(Q,1,`absolute top-1/2 -translate-y-1/2 ${l(d)??""} ${l(h)??""}`),Ze(Q,`width: ${l(s)??""}; height: ${l(a)??""}; background-color: ${z??""}; clip-path: ${(l(f)||"none")??""};`)},[()=>(He(ii),He(T()),ze(()=>ii(T())))]),ne(G,Q)},$$slots:{default:!0}})},H=Y=>{var G=rx();_e(U=>{Pt(G,1,`absolute top-1/2 -translate-y-1/2 ${l(d)??""} ${l(h)??""}`),Ze(G,`width: ${l(s)??""}; height: ${l(a)??""}; background-color: ${U??""}; clip-path: ${(l(f)||"none")??""};`)},[()=>(He(ii),He(T()),ze(()=>ii(T())))]),ne(Y,G)};Re(M,Y=>{A()&&l(u)?Y(L):Y(H,!1)})}ne(v,I)},$$slots:{default:!0}}),Ne()}var ix=ue('<input class="w-full p-2 font-bold border rounded-t-lg border-vsc-input-border" type="text"/>'),ox=ue('<span class="mr-1 text-vsc-muted"> </span>'),sx=ue('<div class="flex items-center flex-1 gap-1 p-2 cursor-grab active:cursor-grabbing" role="group" aria-label="Node title bar"><button class="min-w-0 font-bold text-left border border-transparent rounded-md select-none text-vsc-input-fg cursor-grab active:cursor-grabbing" type="button"><!> <span> </span></button> <button class="inline-flex items-center justify-center rounded-md nodrag size-4 hover:backdrop-brightness-90" type="button" title="Edit node title" aria-label="Edit node title"><!></button> <button class="inline-flex items-center justify-center ml-auto rounded-md nodrag size-4 hover:backdrop-brightness-90" type="button" title="Edit node comment" aria-label="Edit node comment"><!></button></div>'),ax=ue('<!> <div class="pointer-events-none absolute pr-1 -translate-y-1/2 text-right text-[11px] text-vsc-muted whitespace-nowrap"> </div>',1),lx=ue('<div class="relative pt-0 border border-vsc-editor-widget-border rounded-lg shadow-lg bg-vsc-editor-widget-bg text-vsc-editor-fg transition-[border-color,box-shadow]" data-node-editor-root=""><div aria-hidden="true" class="absolute inset-x-0 top-0 z-10 h-1 rounded-t-lg pointer-events-none"></div> <div class="flex flex-col gap-1"><div class="flex items-center gap-1 rounded-t-lg bg-vsc-input-bg text-vsc-input-fg"><!></div> <!></div> <div class="relative py-2"><!> <div class="flex flex-col gap-2"></div> <!></div></div>');function ux(e,t){Ee(t,!0);let n=te(t,"selected",3,!1),r=te(t,"dragging",3,!1),i=V(()=>t.data.nodeColor),o=V(()=>t.data.outputPins),s=V(()=>t.data.inputPins),a=V(()=>t.data.fieldsBySchemaKey),u=V(()=>t.data.titleOverride),c=V(()=>t.data.defaultTitle),d=V(()=>t.data.inputConnectionIndex);const{updateNodeData:h,updateNode:f,getNodes:g,getEdges:p,updateEdge:b}=Ur(),y=16,x=32,w=220,k=32,m=10,A=288,T=80;let O=V(()=>Object.keys(t.data.fieldsBySchemaKey).length>0),S=V(()=>ie(l(o))),F=V(()=>(l(O)?A:T)+l(S)),R=V(()=>m+8),N=V(()=>l(S)+8),_=V(()=>Math.max(l(s).length,l(o).length)),E=V(()=>ye(l(_)-1,l(_))+k),v=V(()=>l(u)??l(c)),C=V(()=>l(d)!==void 0?`[${l(d)}]`:void 0),I=V(()=>`comment-${t.id??"node"}`),M=V(()=>{var ce;return typeof((ce=t.data)==null?void 0:ce.comment)=="string"?t.data.comment:""});je(()=>{l(L)||K(H,l(v),!0)});let L=fe(!1),H=fe(""),Y=fe(void 0),G=fe(!1),U;function Q(ce){h(t.id,{titleOverride:ce}),it()}function z(ce){if(ce!=null&&ce.shiftKey)return;const ke=!!(ce!=null&&ce.metaKey||ce!=null&&ce.ctrlKey),Xe=g();for(const Je of Xe){const gt=Je.id===t.id?!0:ke?!!Je.selected:!1;Je.selected!==gt&&f(Je.id,{selected:gt})}if(ke)return;const nt=p();for(const Je of nt)Je.selected&&b(Je.id,{selected:!1})}async function P(){var ce,ke;K(L,!0),K(H,l(v),!0),await dt(),(ce=l(Y))==null||ce.focus(),(ke=l(Y))==null||ke.select()}function W(ce=!1){var ke;l(L)&&(Q(l(H)),K(L,!1),ce&&(qr(l(Y))||(ke=l(Y))==null||ke.blur()))}function X(){l(L)&&(K(L,!1),K(H,l(v),!0))}function j(ce){var ke;if(Zr(ce)){ce.preventDefault(),W(!0);return}ce.key==="Escape"&&(ce.preventDefault(),X(),(ke=l(Y))==null||ke.blur())}function J(){W(!1)}function q(ce){(ce.key==="Enter"||ce.key===" ")&&(ce.preventDefault(),P())}function $(){U==null||U.startEditing(!1)}function he(ce){var ke;z((ke=ce.detail)==null?void 0:ke.originalEvent)}function me(ce){h(t.id,{comment:ce??""}),it()}function oe(ce,ke){h(t.id,{fieldsBySchemaKey:{...l(a),[ce]:{...l(a)[ce],value:ke}}}),it()}function ge(ce){return typeof(ce==null?void 0:ce.label)=="string"?ce.label:typeof(ce==null?void 0:ce.id)=="string"?ce.id:""}function we(ce){return(ce==null?void 0:ce.isMap)===!0?"map":(ce==null?void 0:ce.multiple)===!0?"multiple":"single"}function Se(ce,ke){return`${ye(ce,ke)}px`}function ye(ce,ke){const Xe=Number(ke)||1,nt=Number(ce)||0,Je=Math.max(0,w-y),gt=Xe<=1?0:Math.min(x,Je/(Xe-1));return y+nt*gt}function ie(ce){return!Array.isArray(ce)||ce.length===0?0:ce.reduce((nt,Je)=>Math.max(nt,ge(Je).length),0)*7+m+4}var ae=lx(),pe=se(ae),Ie=de(pe,2),Te=se(Ie),Be=se(Te);{var De=ce=>{var ke=ix();ke.__input=Xe=>K(H,Xe.currentTarget.value,!0),ke.__keydown=j,ut(ke,Xe=>K(Y,Xe),()=>l(Y)),_e(()=>Ot(ke,l(H))),Ke("blur",ke,J),ne(ce,ke)},tt=ce=>{var ke=sx();ke.__pointerdown=z;var Xe=se(ke);Xe.__dblclick=P,Xe.__keydown=q;var nt=se(Xe);{var Je=Z=>{var Et=ox(),Vn=se(Et);_e(()=>We(Vn,l(C))),ne(Z,Et)};Re(nt,Z=>{l(C)!==void 0&&Z(Je)})}var gt=de(nt,2),At=se(gt),Dt=de(Xe,2);Dt.__click=P;var ln=se(Dt);Pl(ln,{strokeWidth:2.5,"aria-hidden":"true",class:""});var Tt=de(Dt,2);Tt.__click=$;var Co=se(Tt);wf(Co,{strokeWidth:2.25,"aria-hidden":"true"}),_e(()=>{We(At,l(v)),be(Tt,"aria-expanded",l(G)),be(Tt,"aria-controls",l(I))}),ne(ce,ke)};Re(Be,ce=>{l(L)?ce(De):ce(tt,!1)})}var ht=de(Te,2);ut(Tf(ht,{get id(){return l(I)},get value(){return l(M)},get isVisible(){return l(G)},set isVisible(ce){K(G,ce,!0)},$$events:{change:ce=>me(ce.detail.value),select:he}}),ce=>U=ce,()=>U);var qe=de(Ie,2),mt=se(qe);ot(mt,17,()=>l(s),Mt,(ce,ke,Xe)=>{const nt=V(()=>Se(Xe,l(s).length)),Je=V(()=>ge(l(ke)));{let gt=V(()=>zr+(Xe>0?`-${Xe}`:"")),At=V(()=>l(s).length>1);Qa(ce,{type:"target",side:"left",get id(){return l(gt)},get top(){return l(nt)},width:m,get label(){return l(Je)},get showTooltip(){return l(At)},get color(){return l(ke).color}})}});var _n=de(mt,2);ot(_n,21,()=>Object.entries(l(a)),Mt,(ce,ke)=>{var Xe=V(()=>yr(l(ke),2));let nt=()=>l(Xe)[1];Sf(ce,jt(nt,{onchange:Je=>oe(nt().schemaKey,Je)}))});var Ln=de(_n,2);ot(Ln,17,()=>l(o),Mt,(ce,ke,Xe)=>{const nt=V(()=>Se(Xe,l(o).length)),Je=V(()=>we(l(ke)));var gt=ax(),At=Ae(gt);Qa(At,{type:"source",side:"right",get id(){return l(ke).schemaKey},get top(){return l(nt)},width:m,get color(){return l(ke).color},get connectionMultiplicity(){return l(Je)}});var Dt=de(At,2),ln=se(Dt);_e(Tt=>{Ze(Dt,`top: ${l(nt)??""}; right: 10px;`),We(ln,Tt)},[()=>ge(l(ke))]),ne(ce,gt)}),_e(ce=>{Ze(ae,`min-width: ${l(F)??""}px; outline: ${n()&&!r()?"2px solid var(--vscode-focusBorder)":"none"};`),Ze(pe,`background-color: ${ce??""};`),Ze(qe,`padding-left: ${l(R)??""}px; padding-right: ${l(N)??""}px; min-height: ${l(E)??""}px;`)},[()=>ii(l(i))]),ne(e,ae),Ne()}pt(["input","keydown","pointerdown","dblclick","click"]);var cx=ue('<input class="inline-block max-w-full px-0 py-0 font-semibold leading-none text-left transition-transform duration-100 ease-out origin-bottom-left bg-transparent border-0 rounded outline-none appearance-none nodrag whitespace-nowrap text-vsc-editor-fg ring-0 placeholder:text-vsc-muted focus:outline-none focus:ring-0" type="text" aria-label="Edit group title"/>'),dx=ue('<button class="inline-block px-0 py-0 font-semibold leading-none text-left transition-transform duration-100 ease-out origin-bottom-left rounded cursor-default whitespace-nowrap text-vsc-editor-fg" type="button"> </button> <button data-group-edit-action="true" type="button" title="Edit group name" aria-label="Edit group name"><!></button>',1),fx=ue('<div><div class="absolute inset-x-0 top-0 flex items-end h-8 gap-1 px-2 pb-1 overflow-visible rounded-t-lg cursor-default group-title-drag-handle nopan bg-vsc-input-bg/60" role="presentation"><div class="flex items-end min-w-0 gap-1 overflow-visible"><!></div></div> <div class="absolute inset-x-0 h-px pointer-events-none top-8 bg-vsc-editor-widget-border/80"></div> <!></div>');function hx(e,t){Ee(t,!0);const n="Group",r=180,i=120,o=18,s=5.5,a=3,u=-1e4;let c=te(t,"data",19,()=>({})),d=te(t,"selected",3,!1),h=te(t,"dragging",3,!1),f=te(t,"positionAbsoluteX",3,0),g=te(t,"positionAbsoluteY",3,0),p=te(t,"width",3,r),b=te(t,"height",3,i);const y=vf(),{updateNodeData:x,updateNode:w}=Ur();let k=fe(!1),m=fe(""),A=fe(void 0),T=fe(void 0),O=fe(void 0),S=fe(void 0),F=V(()=>{var ie;return P((ie=c())==null?void 0:ie.name)}),R=V(()=>{var ie;return W((ie=y.current)==null?void 0:ie.zoom)}),N=V(()=>X(l(R))),_=V(()=>l(N)<=1.001),E=V(()=>l(_)&&!l(k));je(()=>{l(k)||K(m,l(F),!0)}),je(()=>{const ie=!!d(),ae=J(p(),b());l(T)===ie&&l(O)===ae||(K(T,ie,!0),K(O,ae,!0),w(t.id,{draggable:ie,dragHandle:void 0,zIndex:ae}))});async function v(){var ie,ae;K(k,!0),K(m,l(F),!0),await dt(),(ie=l(A))==null||ie.focus(),(ae=l(A))==null||ae.select()}function C(){l(k)&&(H(l(m)),K(k,!1),it())}function I(){l(k)&&(K(k,!1),K(m,l(F),!0))}function M(ie){var ae,pe;if(ie.key==="Enter"){ie.preventDefault(),C(),(ae=l(A))==null||ae.blur();return}ie.key==="Escape"&&(ie.preventDefault(),I(),(pe=l(A))==null||pe.blur())}function L(ie){(ie.key==="Enter"||ie.key===" ")&&(ie.preventDefault(),v())}function H(ie){x(t.id,{name:P(ie)})}function Y(){it()}function G(ie){var pe,Ie;if(d()||l(k)||ie.button!==0)return;const ae=ie==null?void 0:ie.target;typeof(ae==null?void 0:ae.closest)=="function"&&ae.closest("[data-group-edit-action='true']")||(K(S,{pointerId:ie.pointerId,startClientX:Number(ie.clientX)||0,startClientY:Number(ie.clientY)||0,startNodeX:j(f()),startNodeY:j(g()),moved:!1},!0),(Ie=(pe=ie.currentTarget)==null?void 0:pe.setPointerCapture)==null||Ie.call(pe,ie.pointerId))}function U(ie){var tt;const ae=l(S);if(!ae||ie.pointerId!==ae.pointerId)return;const pe=(Number(ie.clientX)||0)-ae.startClientX,Ie=(Number(ie.clientY)||0)-ae.startClientY,Te=Math.hypot(pe,Ie);if(!(ae.moved||Te>=a))return;ae.moved||K(S,{...ae,moved:!0},!0);const De=W((tt=y.current)==null?void 0:tt.zoom);w(t.id,{position:{x:ae.startNodeX+pe/De,y:ae.startNodeY+Ie/De}}),ie.preventDefault()}function Q(ie){const ae=l(S);!ae||ie.pointerId!==ae.pointerId||(ae.moved&&(w(t.id,{selected:!0}),it(),ie.preventDefault()),K(S,void 0))}function z(ie){const ae=l(S);!ae||ie.pointerId!==ae.pointerId||K(S,void 0)}function P(ie){return typeof ie=="string"?ie:n}function W(ie){return Number(ie)||1}function X(ie){if(!Number.isFinite(ie)||ie>=1)return 1;const ae=1/ie;return Math.min(s,Math.max(1,ae))}function j(ie){return Number(ie)||0}function J(ie,ae){const pe=q(ie,r),Ie=q(ae,i),Te=pe*Ie;return u-Math.round(Te)}function q(ie,ae){const pe=Number(ie);return Number.isFinite(pe)?pe:ae}var $=fx();let he;var me=se($);me.__pointerdown=G,me.__pointermove=U,me.__pointerup=Q;var oe=se(me),ge=se(oe);{var we=ie=>{var ae=cx();ae.__input=Ie=>K(m,Ie.currentTarget.value,!0),ae.__keydown=M;let pe;ut(ae,Ie=>K(A,Ie),()=>l(A)),_e(Ie=>{Ot(ae,l(m)),be(ae,"size",Ie),pe=Ze(ae,"",pe,{"font-size":`${o}px`,transform:`scale(${l(N)})`})},[()=>Math.max(1,l(m).length||l(F).length)]),Ke("blur",ae,C),ne(ie,ae)},Se=ie=>{var ae=dx(),pe=Ae(ae);pe.__dblclick=v,pe.__keydown=L;let Ie;var Te=se(pe),Be=de(pe,2);let De;Be.__click=v;var tt=se(Be);Pl(tt,{size:12,strokeWidth:2.25,"aria-hidden":"true"}),_e(()=>{be(pe,"aria-label",`Group title: ${l(F)}. Double click to rename`),Ie=Ze(pe,"",Ie,{"font-size":`${o}px`,transform:`scale(${l(N)})`}),We(Te,l(F)),De=Pt(Be,1,"nodrag inline-flex cursor-default items-center justify-center rounded p-0.5 text-vsc-muted transition-[opacity,transform,color] duration-200 ease-out hover:text-vsc-editor-fg",null,De,{"opacity-100":l(E),"translate-y-0":l(E),"opacity-0":!l(E),"translate-y-0.5":!l(E),"pointer-events-none":!l(E)}),be(Be,"tabindex",l(E)?0:-1)}),ne(ie,ae)};Re(ge,ie=>{l(k)?ie(we):ie(Se,!1)})}var ye=de(me,4);If(ye,{get isVisible(){return d()},minWidth:r,minHeight:i,onResizeEnd:Y}),_e(()=>{he=Pt($,1,"relative h-full w-full cursor-grab overflow-visible rounded-lg border border-dashed border-vsc-editor-widget-border bg-vsc-editor-widget-bg/40 transition-[border-color,box-shadow]",null,he,{"cursor-grabbing":h()}),Ze($,`outline: ${d()&&!h()?"2px solid var(--vscode-focusBorder)":"none"};`)}),Ke("pointercancel",me,z),ne(e,$),Ne()}pt(["pointerdown","pointermove","pointerup","input","keydown","dblclick","click"]);var gx=ue("<div>not implemented</div>");function vx(e,t){Ee(t,!0),te(t,"selected",3,!1),te(t,"dragging",3,!1),Ur();var n=gx();ne(e,n),Ne()}var px=ue('<input class="w-full p-2 font-bold border rounded-t-lg border-vsc-input-border" type="text"/>'),mx=ue('<span class="mr-1 text-vsc-muted"> </span>'),yx=ue('<div class="flex items-center flex-1 gap-1 p-2 cursor-grab active:cursor-grabbing" role="group" aria-label="Node title bar"><button class="min-w-0 font-bold text-left border border-transparent rounded-md select-none text-vsc-input-fg cursor-grab active:cursor-grabbing" type="button"><!> <span> </span></button> <button class="inline-flex items-center justify-center rounded-md nodrag size-4 hover:backdrop-brightness-90" type="button" title="Edit node title" aria-label="Edit node title"><!></button> <button class="inline-flex items-center justify-center ml-auto rounded-md nodrag size-4 hover:backdrop-brightness-90" type="button" title="Edit node comment" aria-label="Edit node comment"><!></button></div>'),bx=ue('<div class="relative border border-vsc-editor-widget-border rounded-lg shadow-lg bg-vsc-editor-widget-bg text-vsc-editor-fg transition-[border-color,box-shadow]" data-node-editor-root=""><div aria-hidden="true" class="absolute inset-x-0 top-0 z-10 h-1 rounded-t-lg pointer-events-none"></div> <div class="flex flex-col gap-1"><div class="flex items-center gap-1 rounded-t-lg bg-vsc-input-bg text-vsc-input-fg"><!></div> <!></div> <div class="px-4.5 py-2"><!> <!></div></div>');function _x(e,t){Ee(t,!0);const n={schemaKey:"Data",label:"Data",type:"text"},r="var(--vscode-focusBorder)",i=10,o="50%";let s=te(t,"selected",3,!1),a=te(t,"dragging",3,!1);const{updateNodeData:u,updateNode:c,getNodes:d,getEdges:h,updateEdge:f}=Ur(),g="nodeTitle",p="inputIndex",b=V(()=>t.data.titleOverride??Gb),y=V(()=>{var oe;return U((oe=t.data)==null?void 0:oe[p])}),x=V(()=>l(y)!==void 0?`[${l(y)}]`:void 0),w=V(()=>`comment-${t.id??"node"}`),k=V(()=>{var oe;return typeof((oe=t.data)==null?void 0:oe.comment)=="string"?t.data.comment:""}),m=V(()=>{var oe;return typeof((oe=t.data)==null?void 0:oe.data)=="string"?t.data.data:ms});je(()=>{l(A)||K(T,l(b),!0)});let A=fe(!1),T=fe(""),O=fe(void 0),S=fe(!1),F;function R(oe){u(t.id,{[g]:oe}),it()}function N(oe){u(t.id,{data:typeof oe=="string"?oe:String(oe??ms)}),it()}function _(oe){if(oe!=null&&oe.shiftKey)return;const ge=!!(oe!=null&&oe.metaKey||oe!=null&&oe.ctrlKey),we=d();for(const ye of we){const ie=ye.id===t.id?!0:ge?!!ye.selected:!1;ye.selected!==ie&&c(ye.id,{selected:ie})}if(ge)return;const Se=h();for(const ye of Se)ye.selected&&f(ye.id,{selected:!1})}async function E(){var oe,ge;K(A,!0),K(T,l(b),!0),await dt(),(oe=l(O))==null||oe.focus(),(ge=l(O))==null||ge.select()}function v(oe=!1){var ge;l(A)&&(R(l(T)),K(A,!1),oe&&(qr(l(O))||(ge=l(O))==null||ge.blur()))}function C(){l(A)&&(K(A,!1),K(T,l(b),!0))}function I(oe){var ge;if(Zr(oe)){oe.preventDefault(),v(!0);return}oe.key==="Escape"&&(oe.preventDefault(),C(),(ge=l(O))==null||ge.blur())}function M(){v(!1)}function L(oe){(oe.key==="Enter"||oe.key===" ")&&(oe.preventDefault(),E())}function H(){F==null||F.startEditing(!1)}function Y(oe){var ge;_((ge=oe.detail)==null?void 0:ge.originalEvent)}function G(oe){u(t.id,{comment:typeof oe=="string"?oe:String(oe??"")}),it()}function U(oe){if(oe!=null)return Number(oe)}var Q=bx(),z=se(Q);Ze(z,"background-color: var(--vscode-focusBorder);");var P=de(z,2),W=se(P),X=se(W);{var j=oe=>{var ge=px();ge.__input=we=>K(T,we.currentTarget.value,!0),ge.__keydown=I,ut(ge,we=>K(O,we),()=>l(O)),_e(()=>Ot(ge,l(T))),Ke("blur",ge,M),ne(oe,ge)},J=oe=>{var ge=yx();ge.__pointerdown=_;var we=se(ge);we.__dblclick=E,we.__keydown=L;var Se=se(we);{var ye=De=>{var tt=mx(),ht=se(tt);_e(()=>We(ht,l(x))),ne(De,tt)};Re(Se,De=>{l(x)!==void 0&&De(ye)})}var ie=de(Se,2),ae=se(ie),pe=de(we,2);pe.__click=E;var Ie=se(pe);Pl(Ie,{strokeWidth:2.5,"aria-hidden":"true"});var Te=de(pe,2);Te.__click=H;var Be=se(Te);wf(Be,{strokeWidth:2.25,"aria-hidden":"true"}),_e(()=>{We(ae,l(b)),be(Te,"aria-expanded",l(S)),be(Te,"aria-controls",l(w))}),ne(oe,ge)};Re(X,oe=>{l(A)?oe(j):oe(J,!1)})}var q=de(W,2);ut(Tf(q,{get id(){return l(w)},get value(){return l(k)},get isVisible(){return l(S)},set isVisible(oe){K(S,oe,!0)},$$events:{change:oe=>G(oe.detail.value),select:Y}}),oe=>F=oe,()=>F);var $=de(P,2),he=se($);Qa(he,{type:"target",side:"left",get id(){return zr},top:o,width:i,label:"Input",showTooltip:!0,color:r});var me=de(he,2);Sf(me,jt(()=>n,{get value(){return l(m)},onchange:N})),_e(()=>Ze(Q,`min-width: 288px; outline: ${s()&&!a()?"2px solid var(--vscode-focusBorder)":"none"};`)),ne(e,Q),Ne()}pt(["input","keydown","pointerdown","dblclick","click"]);var wx=ue("<!> <!> <!>",1),xx=ue('<div class="relative w-full h-full overflow-hidden"><!> <!> <!></div>');function Ex(e,t){Ee(t,!0);let n=te(t,"nodes",31,()=>Yt([])),r=te(t,"edges",31,()=>Yt([])),i=te(t,"loadVersion",3,0),o=te(t,"quickActionRequest",3,void 0),s=te(t,"revealNodeId",3,void 0),a=te(t,"revealNodeRequestVersion",3,0);const u="Node-00000000-0000-0000-0000-000000000000",c=6500,d=0,h=100,f=.9,g=-1e4,p=180,b=120,y={[Ua]:Tw,[Xa]:ux,[fa]:hx,[Ga]:vx,[ja]:_x},{fitView:x,screenToFlowPosition:w,setCenter:k,setViewport:m}=Ur();let A=-1,T,O=fe(!1),S=fe(0),F=fe(Yt({x:0,y:0})),R={x:0,y:0},N,_=!1,E=!1,v,C=fe(!1),I=fe(0),M,L,H=fe(!1),Y=fe(0),G=[],U=-1,Q,z=-1;je(()=>{i()!==A&&(A=i(),un())}),je(()=>{a()!==z&&(z=a(),i()>0&&nt(s()))}),je(()=>{var B,ee;Number.isInteger((B=o())==null?void 0:B.token)&&o().token!==U&&(U=o().token,ei()||j((ee=o())==null?void 0:ee.actionId))}),je(()=>{!_&&i()>0&&Mo()});const P=B=>{r(Ki(B,Qr(r(),B))),un(),it()};function W(){it()}function X(B){const ee=c_(B==null?void 0:B.type);ee&&j(ee.id)}function j(B){const ee=Al(B);if(ee)switch(ee.id){case at.GO_TO_ROOT:q();return;case at.FIT_FULL_VIEW:J();return;case at.SEARCH_NODES:$();return;case at.AUTO_POSITION_NODES:he();return;case at.VIEW_RAW_JSON:me();return;case at.HELP_AND_HOTKEYS:oe();return;default:return}}function J(){x({padding:.2,minZoom:d,duration:250})}function q(){const B=nr(rt.rootNodeId),ee=B.position.x+B.width,le=B.position.y+B.height/2;k(ee,le,{zoom:1.2,duration:250})}function $(){Be()}function he(){const B=Of(),ee=n().map(st=>st.id),le=Ew({seedNodeIds:B,edges:r(),allowedNodeIds:ee});if(le.length===0){console.info("[node-editor] Quick action could not resolve nodes for auto-layout.");return}const ve=new Set(le),xe=new Map,Le=new Map;for(const st of le){const wn=nr(st);if(!wn)continue;const qt=zo(wn);qt&&(xe.set(st,wn),Le.set(st,qt))}if(xe.size===0||Le.size===0)return;const yt=xw(Array.from(Le.values())),bt=r().filter(st=>st.source&&st.target&&ve.has(st.source)&&ve.has(st.target)),Us=Array.from(xe.entries()).map(([st,wn])=>{const qt=Ml(wn);return{id:st,width:qt==null?void 0:qt.width,height:qt==null?void 0:qt.height}}),Mi=Nw({nodes:Us,edges:bt,spacing:{marginX:0,marginY:0},origin:yt});let Ro=!1;n(n().map(st=>{const wn=st.id;if(!wn||!ve.has(wn))return st;const qt=Mi.get(wn);if(!qt)return st;const qs=Pf(st,qt);if(!qs)return st;const Fl=rr(st);return!Fl||Af(Fl,qs)?(Ro=!0,{...st,position:qs}):st})),Ro&&it()}function me(){t.onviewrawjson()}function oe(){if(l(H)){qe();return}ht()}function ge(B){if(we(B)){if(ei(B==null?void 0:B.target))return;B.preventDefault(),B.stopPropagation(),Se();return}!l(H)||(B==null?void 0:B.key)!=="Escape"||(B.preventDefault(),B.stopPropagation(),qe())}function we(B){var ve;return((ve=B==null?void 0:B.key)==null?void 0:ve.toLowerCase())!=="d"||!!!(B!=null&&B.metaKey||B!=null&&B.ctrlKey)?!1:(B==null?void 0:B.altKey)!==!0&&(B==null?void 0:B.shiftKey)!==!0}function Se(){const B=n().filter(ee=>ee.selected);console.log("workspace",rt);for(const ee of B)console.log(ee)}function ye(B){!Mf(B)||ei(B==null?void 0:B.target)||queueMicrotask(()=>it())}function ie(B){ei(B==null?void 0:B.target)||(B.preventDefault(),B.stopPropagation())}function ae(B){ei(B==null?void 0:B.target)||(un(),it(),B.preventDefault(),B.stopPropagation())}function pe(B){ei(B==null?void 0:B.target)||!Ci()||(it(),B.preventDefault(),B.stopPropagation())}function Ie(B){At(B)}function Te(){K(O,!1),N=void 0,$r()}function Be(){Te(),qe(),L=void 0,K(C,!0),K(I,l(I)+1)}function De({restoreViewport:B=!1}={}){if(!l(C))return;const ee=M;K(C,!1),M=void 0,L=void 0,B&&m(ee,{duration:250})}function tt(){De({restoreViewport:!0})}function ht(){Te(),De({restoreViewport:!1}),K(H,!0),K(Y,l(Y)+1)}function qe(){l(H)&&K(H,!1)}function mt(){qe()}function _n(){qe(),t.oncustomizekeybinds()}function Ln(B){var le;const ee=(le=B==null?void 0:B.detail)==null?void 0:le.nodeId;!ee||ee===L||(L=ee,ke(ee))}function ce(B){var le;const ee=(le=B==null?void 0:B.detail)==null?void 0:le.nodeId;ee&&(L=ee,ke(ee),Xe(ee),De({restoreViewport:!1}))}function ke(B){const ee=nr(B),le=zo(ee);if(!le)return!1;const ve=Ml(ee),xe=le.x+((ve==null?void 0:ve.width)??0)/2,Le=le.y+((ve==null?void 0:ve.height)??0)/2;return k(xe,Le,{zoom:f,duration:h}),!0}function Xe(B){if(!B)return!1;let ee=!1;return n(n().map(le=>{const xe=le.id===B;return!!le.selected===xe?le:(ee=!0,{...le,selected:xe})})),r(r().map(le=>le.selected!==!0?le:(ee=!0,{...le,selected:!1}))),ee}async function nt(B){B&&(await dt(),ke(B),Xe(B))}function Je(B){return typeof(B==null?void 0:B.composedPath)!="function"?!1:B.composedPath().some(ee=>typeof(ee==null?void 0:ee.getAttribute)!="function"?!1:ee.getAttribute("data-add-node-menu")==="true")}function gt(B){return typeof(B==null?void 0:B.composedPath)!="function"?!1:B.composedPath().some(ee=>typeof(ee==null?void 0:ee.getAttribute)!="function"?!1:ee.getAttribute("data-node-search-menu")==="true")}function At(B){if(!Dt(B))return;const{clientX:ee,clientY:le}=B;Q={x:ee,y:le}}function Dt(B){return T?typeof(B==null?void 0:B.composedPath)=="function"?B.composedPath().includes(T):!(B!=null&&B.target)||typeof T.contains!="function"?!1:T.contains(B.target):!1}function ln(B){At(B),l(O)&&!Je(B)&&Te(),l(C)&&!gt(B)&&De({restoreViewport:!0})}function Tt(B,ee=void 0,le=void 0){De({restoreViewport:!1}),qe();const ve=Xs(B,ee,le);return ve?(K(F,ve.position,!0),R=ve.nodePosition,N=ve.connection,K(O,!0),K(S,l(S)+1),!0):!1}function Co(B){const ee=B==null?void 0:B.event;ee&&(ee.preventDefault(),Tt(ee))}function Z(B){var yt;const ee=B==null?void 0:B.event,le=B==null?void 0:B.node;if(!ee||!le)return;const ve=(le==null?void 0:le.type)===fa,xe=(le==null?void 0:le.selected)===!0,Le=!!(typeof((yt=ee==null?void 0:ee.target)==null?void 0:yt.closest)=="function"&&ee.target.closest(".group-title-drag-handle"));!ve||xe||Le||(ee.preventDefault(),ee.stopPropagation(),Tt(ee))}const Et=()=>{Te()};function Vn(B,ee){const le=ee==null?void 0:ee.nodeId,ve=ee==null?void 0:ee.handleId,xe=ee==null?void 0:ee.handleType;if(xe&&xe!=="source"){un();return}js(le,ve)}const zt=(B,ee)=>{Tt(B,ee.fromNode,ee.fromHandle)||$r()};function Ys(B){if(B.templateId===pf){const ve={id:Xn("Group"),type:fa,data:{name:"Group"},position:{...R},width:ha,height:ga,selected:!1,draggable:!1,zIndex:Cf(ha,ga)};n([ve,...n()]),Te(),it();return}if(B.templateId===mf){const ve={id:Xn("Comment"),type:Ua,data:{name:"Comment",text:"",fontSize:jb},position:{...R},width:Yb,height:Xb,selected:!1};n([ve,...n()]),Te(),it();return}if(B.templateId===yf){const ve={id:Xn("Generic"),type:ja,data:{data:ms},position:{...R},origin:[.5,0]};if(n([...n(),ve]),N){const xe={...N,target:ve.id,targetHandle:zr};r(Ki(xe,Qr(r(),xe))),un()}Te(),it();return}if(B.templateId===bf){const ve={id:Xn(""),type:Ga,data:{},position:{...R},origin:[.5,0]};if(n([...n(),ve]),N){const xe={...N,target:ve.id,targetHandle:zr};r(Ki(xe,Qr(r(),xe))),un()}Te(),it();return}const ee=Xn(B.templateId),le={id:ee,type:Xa,data:{...B},position:{...R},origin:[.5,0]};if(n([...n(),le]),N){const ve={...N,target:ee,targetHandle:zr};r(Ki(ve,Qr(r(),ve))),un()}Te(),it()}function Xs(B,ee,le){var yt;const{clientX:ve,clientY:xe}=B,Le=(yt=T==null?void 0:T.getBoundingClientRect)==null?void 0:yt.call(T);if(Le)return{position:{x:ve-Le.left,y:xe-Le.top-60},nodePosition:w({x:ve,y:xe}),connection:{source:ee,sourceHandle:le}}}function Qr(B,ee){const le=ee==null?void 0:ee.target;if(!le)return B;const ve=ee==null?void 0:ee.targetHandle;return B.filter(xe=>xe.target!==le?!0:ve?xe.targetHandle!==ve:!1)}function js(B,ee){var yt;if(un(),!B)return;const le=nr(B);let ve="single";if(le.data.outputPins&&(ve=((yt=le.data.outputPins.find(bt=>bt.schemaKey===ee))==null?void 0:yt.type)??"single"),ve!=="single")return;const xe=[],Le=[];for(const bt of r()){if(Jr(bt,B,ee)){Le.push(bt);continue}xe.push(bt)}Le.length!==0&&(r(xe),v={sourceNodeId:B,sourceHandleId:ee,removedEdges:Le})}function nr(B){if(B)return n().find(ee=>ee.id===B)}function Jr(B,ee,le){return(B==null?void 0:B.source)!==ee?!1:(B==null?void 0:B.sourceHandle)===le}function $r(){const B=(v==null?void 0:v.removedEdges)??[];if(B.length===0){v=void 0;return}const ee=r(),le=new Set(ee.map(xe=>xe.id).filter(Boolean)),ve=[];for(const xe of B){const Le=xe.id;Le&&le.has(Le)||(Le&&le.add(Le),ve.push(xe))}r([...ee,...ve]),v=void 0}function un(){v=void 0}function Ci(){var ee;if(Number.isFinite(Q==null?void 0:Q.x)&&Number.isFinite(Q==null?void 0:Q.y))return w({x:Q.x,y:Q.y});const B=(ee=T==null?void 0:T.getBoundingClientRect)==null?void 0:ee.call(T);if(B)return w({x:B.left+B.width/2,y:B.top+B.height/2})}async function Mo(){if(_||E)return;E=!0,await dt();const B=Do(n(),rt.rootNodeId);B.length>0&&x({nodes:B,padding:.2,minZoom:d,duration:0}),_=!0,E=!1}function Do(B,ee){const le=B;if(le.length===0)return[];const ve=ee??u,xe=le.find(bt=>bt.id===ve);if(!xe)return[];const Le=rr(xe);if(!Le)return[];const yt=new Set([ve]);for(const bt of le){const Us=bt.id,Mi=rr(bt);if(!Mi)continue;const Ro=Mi.x-Le.x,st=Mi.y-Le.y;Math.hypot(Ro,st)<=c&&yt.add(Us)}return Array.from(yt,bt=>({id:bt}))}function rr(B){var ve,xe;const ee=(ve=B==null?void 0:B.position)==null?void 0:ve.x,le=(xe=B==null?void 0:B.position)==null?void 0:xe.y;if(!(!Number.isFinite(ee)||!Number.isFinite(le)))return{x:ee,y:le}}function Ml(B){var ve,xe;const ee=Dl(B==null?void 0:B.width,B==null?void 0:B.initialWidth,(ve=B==null?void 0:B.measured)==null?void 0:ve.width),le=Dl(B==null?void 0:B.height,B==null?void 0:B.initialHeight,(xe=B==null?void 0:B.measured)==null?void 0:xe.height);return ee===void 0&&le===void 0?void 0:{width:ee??0,height:le??0}}function Dl(...B){for(const ee of B)if(Number.isFinite(ee))return ee}function zo(B,ee=new Set){const le=rr(B);if(!le)return;const ve=B==null?void 0:B.id,xe=B==null?void 0:B.parentId;if(!xe||ve&&ee.has(ve))return le;const Le=nr(xe);if(!Le)return le;const yt=new Set(ee);ve&&yt.add(ve);const bt=zo(Le,yt);return bt?{x:bt.x+le.x,y:bt.y+le.y}:le}function Of(){const B=n().filter(le=>(le==null?void 0:le.selected)===!0).map(le=>le.id);if(B.length>0)return Array.from(new Set(B));const ee=rt.rootNodeId;return ee?[ee]:[]}function Pf(B,ee){const le=rr({position:ee});if(!le)return;const ve=B==null?void 0:B.parentId;if(!ve)return le;const xe=nr(ve);if(!xe)return le;const Le=zo(xe);return Le?{x:le.x-Le.x,y:le.y-Le.y}:le}function Af(B,ee){return Math.abs(B.x-ee.x)>.001||Math.abs(B.y-ee.y)>.001}function Cf(B,ee){const le=zl(B,ha,p),ve=zl(ee,ga,b),xe=le*ve;return g-Math.round(xe)}function zl(B,ee,le){const ve=Number(B);return Number.isFinite(ve)?Math.max(le,ve):ee}function Mf(B){const ee=B==null?void 0:B.key;return ee==="Delete"||ee==="Backspace"}function ei(B=void 0){var le;if(Rl(B))return!0;const ee=(le=globalThis==null?void 0:globalThis.document)==null?void 0:le.activeElement;return Rl(ee)}function Rl(B){if(!B||typeof B!="object")return!1;const ee=typeof(B==null?void 0:B.tagName)=="string"?B.tagName.toLowerCase():void 0;if(ee==="input"||ee==="textarea"||ee==="select"||(B==null?void 0:B.isContentEditable)===!0)return!0;const le=typeof(B==null?void 0:B.getAttribute)=="function"?B.getAttribute("role"):void 0,ve=typeof le=="string"?le.toLowerCase():void 0;if(ve==="textbox"||ve==="searchbox"||ve==="combobox"||ve==="spinbutton")return!0;if(typeof(B==null?void 0:B.closest)=="function"){const xe=B.closest("input, textarea, select, [contenteditable], [role='textbox'], [role='searchbox'], [role='combobox'], [role='spinbutton']");if(xe){const Le=typeof xe.getAttribute=="function"?xe.getAttribute("contenteditable"):void 0;if(typeof Le!="string"||Le.toLowerCase()!=="false")return!0}}return!1}var Gs=xx();Ke("keydown",ct,ge,!0),Ke("copy",ct,ie,!0),Ke("cut",ct,ae,!0),Ke("paste",ct,pe,!0),Ke("pointermove",ct,Ie,!0),Ke("pointerdown",ct,ln,!0),Ke("keyup",ct,ye);var Ll=se(Gs);{let B=V(()=>l(O)||l(C)||l(H));Pb(Ll,{get disableKeyboardA11y(){return l(B)},get selectionMode(){return $i.Full},multiSelectionKey:"Shift",panActivationKey:"Shift",selectNodesOnDrag:!1,minZoom:d,get nodeTypes(){return y},onconnect:P,onconnectstart:Vn,onconnectend:zt,onnodedragstop:W,onnodecontextmenu:Z,onpaneclick:Et,onpanecontextmenu:Co,get nodes(){return n()},set nodes(ee){n(ee)},get edges(){return r()},set edges(ee){r(ee)},children:(ee,le)=>{var ve=wx(),xe=Ae(ve);Vb(xe,{bgColor:"var(--vscode-editor-background)"});var Le=de(xe,2);v_(Le,{$$events:{gotoroot:X,fitfullview:X,searchnodes:X,autopositionnodes:X,viewrawjson:X,helphotkeys:X}});var yt=de(Le,2);H_(yt,{get open(){return l(C)},get openVersion(){return l(I)},get groups(){return G},$$events:{close:tt,preview:Ln,select:ce}}),ne(ee,ve)},$$slots:{default:!0}})}var Vl=de(Ll,2);Jb(Vl,{get open(){return l(O)},get openVersion(){return l(S)},get position(){return l(F)},onclose:Te,onselect:Ys});var Df=de(Vl,2);C_(Df,{get open(){return l(H)},get openVersion(){return l(Y)},$$events:{close:mt,customizekeybinds:_n}}),ut(Gs,B=>T=B,()=>T),ne(e,Gs),Ne()}function Nx(e){var b,y,x;if(!rt.context)throw new Error("Workspace context was not set before parsing document text. This should not happen.");const{rootTemplateOrVariantId:t,variantKindsById:n,nodeTemplatesById:r}=rt.context,i=JSON.parse(e);if(!Za(i))throw new Error("Document must be a JSON object.");const o=[],s=[],a=new Map,u=new Map,c=new Map,d=(w,k,m)=>{const A={id:`${w}:${k}-${m}`,source:w,sourceHandle:k,target:m,targetHandle:zr};s.push(A),u.has(w)||u.set(w,new Map),u.get(w).has(k)||u.get(w).set(k,[]),u.get(w).get(k).push(A),c.has(m)||c.set(m,[]),c.get(m).push(A)},h=w=>{o.push(w),a.set(w.id,w)},f=(w,k)=>{let m,A=w.$NodeId,T=w.$Position??{$x:0,$y:0};const O=n[k];if(O){const F=w[O.VariantFieldName];F&&(m=O.Variants[F])}!m&&k&&(m=k),!m&&A&&(m=A.substring(0,A.indexOf("-")));const S=r[m];if(S){A||(A=Xn(m));const F={...S,fieldsBySchemaKey:Object.fromEntries(Object.entries(S.fieldsBySchemaKey).map(([_,E])=>[_,{...E}]))},R=new Set(Object.keys(w).filter(_=>!_.startsWith("$")));for(const _ of S.outputPins){const E=_.schemaKey;switch(R.delete(E),_.type){case"single":if(w[E]!==void 0){let v=f(w[E],S.childTypes[E]);d(A,E,v)}break;case"multiple":if(Array.isArray(w[E]))for(const v of w[E]){let C=f(v,S.childTypes[E]);d(A,E,C)}break;case"map":if(typeof w[E]=="object")for(const[v,C]of Object.entries(w[E])){let I=f(C,S.childTypes[E]);d(A,E,I)}}}for(const _ of Object.keys(F.fieldsBySchemaKey)){R.delete(_);const E=w[_];E!==void 0&&(F.fieldsBySchemaKey[_].value=E)}F.unparsedMetadata={};for(const _ of R){if(S.schemaConstants[_]){w[_]!=S.schemaConstants[_]&&console.warn(`Constant value for ${_} in asset doesn't match expected from template.`,w,S);continue}F.unparsedMetadata[_]=w[_]}const N={type:Xa,id:A,position:{x:T.$x,y:T.$y},data:{...F,comment:w.$Comment}};h(N)}else{A||(A=Xn("Generic"));const F={};Object.entries(w).forEach(([N,_])=>{N.startsWith("$")||(F[N]=_)});const R={type:ja,id:A,position:{x:T.$x,y:T.$y},data:{data:F?JSON.stringify(F,null,"	"):ms,comment:w.$Comment}};h(R)}return A},g=f(i,t),p=i.$NodeEditorMetadata;if(p){for(const w of p.$FloatingNodes??[])f(w,null);for(const[w,k]of Object.entries(p.$Nodes??{})){const m=a.get(w);if(!m){console.warn(`Metadata info saved for node ${w} but node was not found.`);continue}m.position.x=k.$Position.$x,m.position.y=k.$Position.$y,m.data.titleOverride=k.$Title}for(const[w,k]of Object.entries(p.$Links??{})){const m={type:Ga,id:w,position:{x:k.$Position.$x,y:k.$Position.$y},data:{}};h(m);const A=k.sourceEndpoint,T=k.outputConnections;if(A&&T){const O=A.split(":")[0],S=A.split(":")[1],F=a.get(O);if(!F){console.warn(`Link source node ${O} not found.`);continue}const R=((y=(b=F.data.outputPins)==null?void 0:b.find(N=>N.localId===S))==null?void 0:y.schemaKey)??Yu;for(const N of T){const _=N.split(":")[0];for(const E of((x=u.get(O))==null?void 0:x.get(R))??[])E.target===_&&E.targetHandle===zr&&(E.target=w),d(w,Yu,_)}}}for(const w of p.$Groups??[])h(Qu(w));for(const w of p.$Comments??[]){const k={type:Ua,id:Xn("Comment"),position:{x:w.$Position.$x,y:w.$Position.$y},width:w.$width,height:w.$height,data:{name:w.$name,text:w.$text,fontSize:w.$fontSize}};h(k)}}for(const w of i.$Groups??[])h(Qu(w));return{nodes:o,edges:s,rootNodeId:g}}function Qu(e){return{type:"group",id:Xn("Group"),position:{x:e.$Position.$x,y:e.$Position.$y},width:e.$width,height:e.$height,data:{name:e.$name}}}var kx=ue('<div class="mx-3 mt-3 text-sm text-vsc-error"> </div>'),Ix=ue('<main class="flex flex-col h-screen min-h-0"><!></main>');function Sx(e,t){Ee(t,!0),je(()=>{rt.vscode=t.vscode});let n=fe(0),r=fe(""),i=fe(void 0),o=0,s,a=0;function u(y){const x=y.data;switch(console.log(`Received message of type ${x.type}`,x),x.type){case"bootstrap":rt.context=x.workspaceContext;return;case"update":c(x);return;case"revealSelection":return;case"error":K(r,typeof x.message=="string"?x.message:"unknown editor error.",!0);return;case"triggerQuickAction":{const w=Al(x==null?void 0:x.actionId),k=d_(x==null?void 0:x.commandId),m=w??k;if(!m)return;o+=1,K(i,{token:o,actionId:m.id,commandId:m.commandId},!0);return}default:return}}function c(y){try{const{nodes:x,edges:w,rootNodeId:k}=Nx(y.text);rt.nodes=x,rt.edges=w,rt.rootNodeId=k,rt.sourceVersion=y.version,rt.isInitialized=!0,K(n,l(n)+1),K(r,"")}catch(x){console.error(x),K(r,x instanceof Error?x.message:"could not parse flow json.",!0)}}function d(){const y={type:"openRawJson"};rt.vscode.postMessage(y)}function h(){const y={type:"openKeybindings",query:"Hytale Node Editor"};t.vscode.postMessage(y)}fl(()=>{typeof t.vscode.getState=="function"&&t.vscode.getState(),window.addEventListener("message",u);const y={type:"ready"};return t.vscode.postMessage(y),()=>{window.removeEventListener("message",u)}});var f=Ix(),g=se(f);{var p=y=>{var x=kx(),w=se(x);_e(()=>We(w,l(r))),ne(y,x)},b=y=>{Ab(y,{children:(x,w)=>{Ex(x,{get loadVersion(){return l(n)},get quickActionRequest(){return l(i)},revealNodeId:s,revealNodeRequestVersion:a,onviewrawjson:d,oncustomizekeybinds:h,get nodes(){return rt.nodes},set nodes(k){rt.nodes=k},get edges(){return rt.edges},set edges(k){rt.edges=k}})},$$slots:{default:!0}})};Re(g,y=>{l(r)?y(p):rt.isInitialized&&y(b,1)})}ne(e,f),Ne()}const Tx=globalThis.acquireVsCodeApi();ng(Sx,{target:document.getElementById("app"),props:{vscode:Tx}});
//# sourceMappingURL=main.js.map
