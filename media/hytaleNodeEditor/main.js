var Sf=Object.defineProperty;var Ml=e=>{throw TypeError(e)};var If=(e,t,n)=>t in e?Sf(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n;var et=(e,t,n)=>If(e,typeof t!="symbol"?t+"":t,n),Ws=(e,t,n)=>t.has(e)||Ml("Cannot "+n);var R=(e,t,n)=>(Ws(e,t,"read from private field"),n?n.call(e):t.get(e)),ie=(e,t,n)=>t.has(e)?Ml("Cannot add the same private member more than once"):t instanceof WeakSet?t.add(e):t.set(e,n),Me=(e,t,n,r)=>(Ws(e,t,"write to private field"),r?r.call(e,n):t.set(e,n),n),xt=(e,t,n)=>(Ws(e,t,"access private method"),n);(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))r(i);new MutationObserver(i=>{for(const o of i)if(o.type==="childList")for(const s of o.addedNodes)s.tagName==="LINK"&&s.rel==="modulepreload"&&r(s)}).observe(document,{childList:!0,subtree:!0});function n(i){const o={};return i.integrity&&(o.integrity=i.integrity),i.referrerPolicy&&(o.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?o.credentials="include":i.crossOrigin==="anonymous"?o.credentials="omit":o.credentials="same-origin",o}function r(i){if(i.ep)return;i.ep=!0;const o=n(i);fetch(i.href,o)}})();const la=!1;var uo=Array.isArray,Tf=Array.prototype.indexOf,hi=Array.prototype.includes,ps=Array.from,Of=Object.defineProperty,qn=Object.getOwnPropertyDescriptor,Gu=Object.getOwnPropertyDescriptors,Uu=Object.prototype,Cf=Array.prototype,ms=Object.getPrototypeOf,Dl=Object.isExtensible;function Mi(e){return typeof e=="function"}const pr=()=>{};function Pf(e){return e()}function ua(e){for(var t=0;t<e.length;t++)e[t]()}function qu(){var e,t,n=new Promise((r,i)=>{e=r,t=i});return{promise:n,resolve:e,reject:t}}function Ct(e,t,n=!1){return e===void 0?n?t():t:e}function mr(e,t){if(Array.isArray(e))return e;if(t===void 0||!(Symbol.iterator in e))return Array.from(e);const n=[];for(const r of e)if(n.push(r),n.length===t)break;return n}const kt=2,Xi=4,co=8,ja=1<<24,er=16,mn=32,yr=64,Zu=128,$t=512,gt=1024,St=2048,tn=4096,Bt=8192,Zn=16384,fo=32768,Jn=65536,Rl=1<<17,Qu=1<<18,Wr=1<<19,Ju=1<<20,jn=1<<25,Rr=65536,ca=1<<21,Ga=1<<22,dr=1<<23,On=Symbol("$state"),$u=Symbol("legacy props"),Af=Symbol(""),wr=new class extends Error{constructor(){super(...arguments);et(this,"name","StaleReactionError");et(this,"message","The reaction that called `getAbortSignal()` was re-run or destroyed")}};var Wu;const Ua=((Wu=globalThis.document)==null?void 0:Wu.contentType.includes("xml"))??!1;function ys(e){throw new Error("https://svelte.dev/e/lifecycle_outside_component")}function Mf(){throw new Error("https://svelte.dev/e/async_derived_orphan")}function Df(e,t,n){throw new Error("https://svelte.dev/e/each_key_duplicate")}function Rf(e){throw new Error("https://svelte.dev/e/effect_in_teardown")}function zf(){throw new Error("https://svelte.dev/e/effect_in_unowned_derived")}function Lf(e){throw new Error("https://svelte.dev/e/effect_orphan")}function Vf(){throw new Error("https://svelte.dev/e/effect_update_depth_exceeded")}function Ff(e){throw new Error("https://svelte.dev/e/props_invalid_value")}function Hf(){throw new Error("https://svelte.dev/e/state_descriptors_fixed")}function Kf(){throw new Error("https://svelte.dev/e/state_prototype_fixed")}function Bf(){throw new Error("https://svelte.dev/e/state_unsafe_mutation")}function Wf(){throw new Error("https://svelte.dev/e/svelte_boundary_reset_onerror")}const Yf=1,Xf=2,ec=4,jf=8,Gf=16,Uf=1,qf=2,tc=4,Zf=8,Qf=16,nc=1,Jf=2,yt=Symbol(),rc="http://www.w3.org/1999/xhtml",$f="http://www.w3.org/2000/svg",eh="@attach";function th(){console.warn("https://svelte.dev/e/select_multiple_invalid_value")}function nh(){console.warn("https://svelte.dev/e/svelte_boundary_reset_noop")}function ic(e){return e===this.v}function oc(e,t){return e!=e?t==t:e!==t||e!==null&&typeof e=="object"||typeof e=="function"}function sc(e){return!oc(e,this.v)}let Ei=!1,rh=!1;function ih(){Ei=!0}const oh=[];function ac(e,t=!1,n=!1){return Ho(e,new Map,"",oh,null,n)}function Ho(e,t,n,r,i=null,o=!1){if(typeof e=="object"&&e!==null){var s=t.get(e);if(s!==void 0)return s;if(e instanceof Map)return new Map(e);if(e instanceof Set)return new Set(e);if(uo(e)){var a=Array(e.length);t.set(e,a),i!==null&&t.set(i,a);for(var u=0;u<e.length;u+=1){var d=e[u];u in e&&(a[u]=Ho(d,t,n,r,null,o))}return a}if(ms(e)===Uu){a={},t.set(e,a),i!==null&&t.set(i,a);for(var c in e)a[c]=Ho(e[c],t,n,r,null,o);return a}if(e instanceof Date)return structuredClone(e);if(typeof e.toJSON=="function"&&!o)return Ho(e.toJSON(),t,n,r,e)}if(e instanceof EventTarget)return e;try{return structuredClone(e)}catch{return e}}let Ue=null;function gi(e){Ue=e}function qa(e){return Qa().get(e)}function Za(e,t){return Qa().set(e,t),t}function sh(e){return Qa().has(e)}function Ne(e,t=!1,n){Ue={p:Ue,i:!1,c:null,e:null,s:e,x:null,l:Ei&&!t?{s:null,u:null,$:[]}:null}}function ke(e){var t=Ue,n=t.e;if(n!==null){t.e=null;for(var r of n)Oc(r)}return e!==void 0&&(t.x=e),t.i=!0,Ue=t.p,e??{}}function ho(){return!Ei||Ue!==null&&Ue.l===null}function Qa(e){return Ue===null&&ys(),Ue.c??(Ue.c=new Map(ah(Ue)||void 0))}function ah(e){let t=e.p;for(;t!==null;){const n=t.c;if(n!==null)return n;t=t.p}return null}let xr=[];function lc(){var e=xr;xr=[],ua(e)}function Cn(e){if(xr.length===0&&!Ki){var t=xr;queueMicrotask(()=>{t===xr&&lc()})}xr.push(e)}function lh(){for(;xr.length>0;)lc()}function uc(e){var t=Ye;if(t===null)return Ve.f|=dr,e;if(!(t.f&fo)&&!(t.f&Xi))throw e;vi(e,t)}function vi(e,t){for(;t!==null;){if(t.f&Zu){if(!(t.f&fo))throw e;try{t.b.error(e);return}catch(n){e=n}}t=t.parent}throw e}const uh=-7169;function at(e,t){e.f=e.f&uh|t}function Ja(e){e.f&$t||e.deps===null?at(e,gt):at(e,tn)}function cc(e){if(e!==null)for(const t of e)!(t.f&kt)||!(t.f&Rr)||(t.f^=Rr,cc(t.deps))}function dc(e,t,n){e.f&St?t.add(e):e.f&tn&&n.add(e),cc(e.deps),at(e,gt)}const Oo=new Set;let ze=null,da=null,Nt=null,Rt=[],bs=null,fa=!1,Ki=!1;var oi,si,kr,ai,no,ro,Sr,Hn,li,Dn,ha,ga,fc;const kl=class kl{constructor(){ie(this,Dn);et(this,"committed",!1);et(this,"current",new Map);et(this,"previous",new Map);ie(this,oi,new Set);ie(this,si,new Set);ie(this,kr,0);ie(this,ai,0);ie(this,no,null);ie(this,ro,new Set);ie(this,Sr,new Set);ie(this,Hn,new Map);et(this,"is_fork",!1);ie(this,li,!1)}is_deferred(){return this.is_fork||R(this,ai)>0}skip_effect(t){R(this,Hn).has(t)||R(this,Hn).set(t,{d:[],m:[]})}unskip_effect(t){var n=R(this,Hn).get(t);if(n){R(this,Hn).delete(t);for(var r of n.d)at(r,St),fn(r);for(r of n.m)at(r,tn),fn(r)}}process(t){var i;Rt=[],this.apply();var n=[],r=[];for(const o of t)xt(this,Dn,ha).call(this,o,n,r);if(this.is_deferred()){xt(this,Dn,ga).call(this,r),xt(this,Dn,ga).call(this,n);for(const[o,s]of R(this,Hn))pc(o,s)}else{for(const o of R(this,oi))o();R(this,oi).clear(),R(this,kr)===0&&xt(this,Dn,fc).call(this),da=this,ze=null,zl(r),zl(n),da=null,(i=R(this,no))==null||i.resolve()}Nt=null}capture(t,n){n!==yt&&!this.previous.has(t)&&this.previous.set(t,n),t.f&dr||(this.current.set(t,t.v),Nt==null||Nt.set(t,t.v))}activate(){ze=this,this.apply()}deactivate(){ze===this&&(ze=null,Nt=null)}flush(){if(this.activate(),Rt.length>0){if(hc(),ze!==null&&ze!==this)return}else R(this,kr)===0&&this.process([]);this.deactivate()}discard(){for(const t of R(this,si))t(this);R(this,si).clear()}increment(t){Me(this,kr,R(this,kr)+1),t&&Me(this,ai,R(this,ai)+1)}decrement(t){Me(this,kr,R(this,kr)-1),t&&Me(this,ai,R(this,ai)-1),!R(this,li)&&(Me(this,li,!0),Cn(()=>{Me(this,li,!1),this.is_deferred()?Rt.length>0&&this.flush():this.revive()}))}revive(){for(const t of R(this,ro))R(this,Sr).delete(t),at(t,St),fn(t);for(const t of R(this,Sr))at(t,tn),fn(t);this.flush()}oncommit(t){R(this,oi).add(t)}ondiscard(t){R(this,si).add(t)}settled(){return(R(this,no)??Me(this,no,qu())).promise}static ensure(){if(ze===null){const t=ze=new kl;Oo.add(ze),Ki||Cn(()=>{ze===t&&t.flush()})}return ze}apply(){}};oi=new WeakMap,si=new WeakMap,kr=new WeakMap,ai=new WeakMap,no=new WeakMap,ro=new WeakMap,Sr=new WeakMap,Hn=new WeakMap,li=new WeakMap,Dn=new WeakSet,ha=function(t,n,r){t.f^=gt;for(var i=t.first,o=null;i!==null;){var s=i.f,a=(s&(mn|yr))!==0,u=a&&(s&gt)!==0,d=u||(s&Bt)!==0||R(this,Hn).has(i);if(!d&&i.fn!==null){a?i.f^=gt:o!==null&&s&(Xi|co|ja)?o.b.defer_effect(i):s&Xi?n.push(i):Ii(i)&&(s&er&&R(this,Sr).add(i),zr(i));var c=i.first;if(c!==null){i=c;continue}}var h=i.parent;for(i=i.next;i===null&&h!==null;)h===o&&(o=null),i=h.next,h=h.parent}},ga=function(t){for(var n=0;n<t.length;n+=1)dc(t[n],R(this,ro),R(this,Sr))},fc=function(){var i;if(Oo.size>1){this.previous.clear();var t=Nt,n=!0;for(const o of Oo){if(o===this){n=!1;continue}const s=[];for(const[u,d]of this.current){if(o.current.has(u))if(n&&d!==o.current.get(u))o.current.set(u,d);else continue;s.push(u)}if(s.length===0)continue;const a=[...o.current.keys()].filter(u=>!this.current.has(u));if(a.length>0){var r=Rt;Rt=[];const u=new Set,d=new Map;for(const c of s)gc(c,a,u,d);if(Rt.length>0){ze=o,o.apply();for(const c of Rt)xt(i=o,Dn,ha).call(i,c,[],[]);o.deactivate()}Rt=r}}ze=null,Nt=t}this.committed=!0,Oo.delete(this)};let Qn=kl;function ch(e){var t=Ki;Ki=!0;try{for(var n;;){if(lh(),Rt.length===0&&(ze==null||ze.flush(),Rt.length===0))return bs=null,n;hc()}}finally{Ki=t}}function hc(){fa=!0;var e=null;try{for(var t=0;Rt.length>0;){var n=Qn.ensure();if(t++>1e3){var r,i;dh()}n.process(Rt),fr.clear()}}finally{Rt=[],fa=!1,bs=null}}function dh(){try{Vf()}catch(e){vi(e,bs)}}let un=null;function zl(e){var t=e.length;if(t!==0){for(var n=0;n<t;){var r=e[n++];if(!(r.f&(Zn|Bt))&&Ii(r)&&(un=new Set,zr(r),r.deps===null&&r.first===null&&r.nodes===null&&r.teardown===null&&r.ac===null&&Mc(r),(un==null?void 0:un.size)>0)){fr.clear();for(const i of un){if(i.f&(Zn|Bt))continue;const o=[i];let s=i.parent;for(;s!==null;)un.has(s)&&(un.delete(s),o.push(s)),s=s.parent;for(let a=o.length-1;a>=0;a--){const u=o[a];u.f&(Zn|Bt)||zr(u)}}un.clear()}}un=null}}function gc(e,t,n,r){if(!n.has(e)&&(n.add(e),e.reactions!==null))for(const i of e.reactions){const o=i.f;o&kt?gc(i,t,n,r):o&(Ga|er)&&!(o&St)&&vc(i,t,r)&&(at(i,St),fn(i))}}function vc(e,t,n){const r=n.get(e);if(r!==void 0)return r;if(e.deps!==null)for(const i of e.deps){if(hi.call(t,i))return!0;if(i.f&kt&&vc(i,t,n))return n.set(i,!0),!0}return n.set(e,!1),!1}function fn(e){for(var t=bs=e;t.parent!==null;){t=t.parent;var n=t.f;if(fa&&t===Ye&&n&er&&!(n&Qu))return;if(n&(yr|mn)){if(!(n&gt))return;t.f^=gt}}Rt.push(t)}function pc(e,t){if(!(e.f&mn&&e.f&gt)){e.f&St?t.d.push(e):e.f&tn&&t.m.push(e),at(e,gt);for(var n=e.first;n!==null;)pc(n,t),n=n.next}}function mc(e){let t=0,n=gr(0),r;return()=>{el()&&(l(n),ki(()=>(t===0&&(r=Le(()=>e(()=>Bi(n)))),t+=1,()=>{Cn(()=>{t-=1,t===0&&(r==null||r(),r=void 0,Bi(n))})})))}}var fh=Jn|Wr|Zu;function hh(e,t,n){new gh(e,t,n)}var qt,Xa,Nn,Ir,kn,Zt,Mt,Sn,Kn,lr,Tr,ur,ui,Or,ci,di,Bn,fs,_t,vh,ph,va,Ko,Bo,pa;class gh{constructor(t,n,r){ie(this,_t);et(this,"parent");et(this,"is_pending",!1);ie(this,qt);ie(this,Xa,null);ie(this,Nn);ie(this,Ir);ie(this,kn);ie(this,Zt,null);ie(this,Mt,null);ie(this,Sn,null);ie(this,Kn,null);ie(this,lr,null);ie(this,Tr,0);ie(this,ur,0);ie(this,ui,!1);ie(this,Or,!1);ie(this,ci,new Set);ie(this,di,new Set);ie(this,Bn,null);ie(this,fs,mc(()=>(Me(this,Bn,gr(R(this,Tr))),()=>{Me(this,Bn,null)})));Me(this,qt,t),Me(this,Nn,n),Me(this,Ir,r),this.parent=Ye.b,this.is_pending=!!R(this,Nn).pending,Me(this,kn,Si(()=>{Ye.b=this;{var i=xt(this,_t,va).call(this);try{Me(this,Zt,Lt(()=>r(i)))}catch(o){this.error(o)}R(this,ur)>0?xt(this,_t,Bo).call(this):this.is_pending=!1}return()=>{var o;(o=R(this,lr))==null||o.remove()}},fh))}defer_effect(t){dc(t,R(this,ci),R(this,di))}is_rendered(){return!this.is_pending&&(!this.parent||this.parent.is_rendered())}has_pending_snippet(){return!!R(this,Nn).pending}update_pending_count(t){xt(this,_t,pa).call(this,t),Me(this,Tr,R(this,Tr)+t),!(!R(this,Bn)||R(this,ui))&&(Me(this,ui,!0),Cn(()=>{Me(this,ui,!1),R(this,Bn)&&pi(R(this,Bn),R(this,Tr))}))}get_effect_pending(){return R(this,fs).call(this),l(R(this,Bn))}error(t){var n=R(this,Nn).onerror;let r=R(this,Nn).failed;if(R(this,Or)||!n&&!r)throw t;R(this,Zt)&&(bt(R(this,Zt)),Me(this,Zt,null)),R(this,Mt)&&(bt(R(this,Mt)),Me(this,Mt,null)),R(this,Sn)&&(bt(R(this,Sn)),Me(this,Sn,null));var i=!1,o=!1;const s=()=>{if(i){nh();return}i=!0,o&&Wf(),Qn.ensure(),Me(this,Tr,0),R(this,Sn)!==null&&Pr(R(this,Sn),()=>{Me(this,Sn,null)}),this.is_pending=this.has_pending_snippet(),Me(this,Zt,xt(this,_t,Ko).call(this,()=>(Me(this,Or,!1),Lt(()=>R(this,Ir).call(this,R(this,qt)))))),R(this,ur)>0?xt(this,_t,Bo).call(this):this.is_pending=!1};Cn(()=>{try{o=!0,n==null||n(t,s),o=!1}catch(a){vi(a,R(this,kn)&&R(this,kn).parent)}r&&Me(this,Sn,xt(this,_t,Ko).call(this,()=>{Qn.ensure(),Me(this,Or,!0);try{return Lt(()=>{r(R(this,qt),()=>t,()=>s)})}catch(a){return vi(a,R(this,kn).parent),null}finally{Me(this,Or,!1)}}))})}}qt=new WeakMap,Xa=new WeakMap,Nn=new WeakMap,Ir=new WeakMap,kn=new WeakMap,Zt=new WeakMap,Mt=new WeakMap,Sn=new WeakMap,Kn=new WeakMap,lr=new WeakMap,Tr=new WeakMap,ur=new WeakMap,ui=new WeakMap,Or=new WeakMap,ci=new WeakMap,di=new WeakMap,Bn=new WeakMap,fs=new WeakMap,_t=new WeakSet,vh=function(){try{Me(this,Zt,Lt(()=>R(this,Ir).call(this,R(this,qt))))}catch(t){this.error(t)}},ph=function(){const t=R(this,Nn).pending;t&&(Me(this,Mt,Lt(()=>t(R(this,qt)))),Cn(()=>{var n=xt(this,_t,va).call(this);Me(this,Zt,xt(this,_t,Ko).call(this,()=>(Qn.ensure(),Lt(()=>R(this,Ir).call(this,n))))),R(this,ur)>0?xt(this,_t,Bo).call(this):(Pr(R(this,Mt),()=>{Me(this,Mt,null)}),this.is_pending=!1)}))},va=function(){var t=R(this,qt);return this.is_pending&&(Me(this,lr,Pn()),R(this,qt).before(R(this,lr)),t=R(this,lr)),t},Ko=function(t){var n=Ye,r=Ve,i=Ue;rn(R(this,kn)),nn(R(this,kn)),gi(R(this,kn).ctx);try{return t()}catch(o){return uc(o),null}finally{rn(n),nn(r),gi(i)}},Bo=function(){const t=R(this,Nn).pending;R(this,Zt)!==null&&(Me(this,Kn,document.createDocumentFragment()),R(this,Kn).append(R(this,lr)),zc(R(this,Zt),R(this,Kn))),R(this,Mt)===null&&Me(this,Mt,Lt(()=>t(R(this,qt))))},pa=function(t){var n;if(!this.has_pending_snippet()){this.parent&&xt(n=this.parent,_t,pa).call(n,t);return}if(Me(this,ur,R(this,ur)+t),R(this,ur)===0){this.is_pending=!1;for(const r of R(this,ci))at(r,St),fn(r);for(const r of R(this,di))at(r,tn),fn(r);R(this,ci).clear(),R(this,di).clear(),R(this,Mt)&&Pr(R(this,Mt),()=>{Me(this,Mt,null)}),R(this,Kn)&&(R(this,qt).before(R(this,Kn)),Me(this,Kn,null))}};function yc(e,t,n,r){const i=ho()?go:_s;var o=e.filter(f=>!f.settled);if(n.length===0&&o.length===0){r(t.map(i));return}var s=ze,a=Ye,u=mh(),d=o.length===1?o[0].promise:o.length>1?Promise.all(o.map(f=>f.promise)):null;function c(f){u();try{r(f)}catch(g){a.f&Zn||vi(g,a)}s==null||s.deactivate(),ma()}if(n.length===0){d.then(()=>c(t.map(i)));return}function h(){u(),Promise.all(n.map(f=>yh(f))).then(f=>c([...t.map(i),...f])).catch(f=>vi(f,a))}d?d.then(h):h()}function mh(){var e=Ye,t=Ve,n=Ue,r=ze;return function(o=!0){rn(e),nn(t),gi(n),o&&(r==null||r.activate())}}function ma(){rn(null),nn(null),gi(null)}function go(e){var t=kt|St,n=Ve!==null&&Ve.f&kt?Ve:null;return Ye!==null&&(Ye.f|=Wr),{ctx:Ue,deps:null,effects:null,equals:ic,f:t,fn:e,reactions:null,rv:0,v:yt,wv:0,parent:n??Ye,ac:null}}function yh(e,t,n){let r=Ye;r===null&&Mf();var i=r.b,o=void 0,s=gr(yt),a=!Ve,u=new Map;return Ph(()=>{var g;var d=qu();o=d.promise;try{Promise.resolve(e()).then(d.resolve,d.reject).then(()=>{c===ze&&c.committed&&c.deactivate(),ma()})}catch(p){d.reject(p),ma()}var c=ze;if(a){var h=i.is_rendered();i.update_pending_count(1),c.increment(h),(g=u.get(c))==null||g.reject(wr),u.delete(c),u.set(c,d)}const f=(p,b=void 0)=>{if(c.activate(),b)b!==wr&&(s.f|=dr,pi(s,b));else{s.f&dr&&(s.f^=dr),pi(s,p);for(const[y,k]of u){if(u.delete(y),y===c)break;k.reject(wr)}}a&&(i.update_pending_count(-1),c.decrement(h))};d.promise.then(f,p=>f(null,p||"unknown"))}),po(()=>{for(const d of u.values())d.reject(wr)}),new Promise(d=>{function c(h){function f(){h===o?d(s):c(o)}h.then(f,f)}c(o)})}function L(e){const t=go(e);return Lc(t),t}function _s(e){const t=go(e);return t.equals=sc,t}function bh(e){var t=e.effects;if(t!==null){e.effects=null;for(var n=0;n<t.length;n+=1)bt(t[n])}}function _h(e){for(var t=e.parent;t!==null;){if(!(t.f&kt))return t.f&Zn?null:t;t=t.parent}return null}function $a(e){var t,n=Ye;rn(_h(e));try{e.f&=~Rr,bh(e),t=Kc(e)}finally{rn(n)}return t}function bc(e){var t=$a(e);if(!e.equals(t)&&(e.wv=Fc(),(!(ze!=null&&ze.is_fork)||e.deps===null)&&(e.v=t,e.deps===null))){at(e,gt);return}vr||(Nt!==null?(el()||ze!=null&&ze.is_fork)&&Nt.set(e,t):Ja(e))}function wh(e){var t,n;if(e.effects!==null)for(const r of e.effects)(r.teardown||r.ac)&&((t=r.teardown)==null||t.call(r),(n=r.ac)==null||n.abort(wr),r.teardown=pr,r.ac=null,ji(r,0),nl(r))}function _c(e){if(e.effects!==null)for(const t of e.effects)t.teardown&&zr(t)}let ya=new Set;const fr=new Map;let wc=!1;function gr(e,t){var n={f:0,v:e,reactions:null,equals:ic,rv:0,wv:0};return n}function we(e,t){const n=gr(e);return Lc(n),n}function Oe(e,t=!1,n=!0){var i;const r=gr(e);return t||(r.equals=sc),Ei&&n&&Ue!==null&&Ue.l!==null&&((i=Ue.l).s??(i.s=[])).push(r),r}function qo(e,t){return j(e,Le(()=>l(e))),t}function j(e,t,n=!1){Ve!==null&&(!hn||Ve.f&Rl)&&ho()&&Ve.f&(kt|er|Ga|Rl)&&(en===null||!hi.call(en,e))&&Bf();let r=n?Jt(t):t;return pi(e,r)}function pi(e,t){if(!e.equals(t)){var n=e.v;vr?fr.set(e,t):fr.set(e,n),e.v=t;var r=Qn.ensure();if(r.capture(e,n),e.f&kt){const i=e;e.f&St&&$a(i),Ja(i)}e.wv=Fc(),xc(e,St),ho()&&Ye!==null&&Ye.f&gt&&!(Ye.f&(mn|yr))&&(Ut===null?Dh([e]):Ut.push(e)),!r.is_fork&&ya.size>0&&!wc&&xh()}return t}function xh(){wc=!1;for(const e of ya)e.f&gt&&at(e,tn),Ii(e)&&zr(e);ya.clear()}function Ll(e,t=1){var n=l(e),r=t===1?n++:n--;return j(e,n),r}function Bi(e){j(e,e.v+1)}function xc(e,t){var n=e.reactions;if(n!==null)for(var r=ho(),i=n.length,o=0;o<i;o++){var s=n[o],a=s.f;if(!(!r&&s===Ye)){var u=(a&St)===0;if(u&&at(s,t),a&kt){var d=s;Nt==null||Nt.delete(d),a&Rr||(a&$t&&(s.f|=Rr),xc(d,tn))}else u&&(a&er&&un!==null&&un.add(s),fn(s))}}}function Jt(e){if(typeof e!="object"||e===null||On in e)return e;const t=ms(e);if(t!==Uu&&t!==Cf)return e;var n=new Map,r=uo(e),i=we(0),o=Ar,s=a=>{if(Ar===o)return a();var u=Ve,d=Ar;nn(null),Kl(o);var c=a();return nn(u),Kl(d),c};return r&&n.set("length",we(e.length)),new Proxy(e,{defineProperty(a,u,d){(!("value"in d)||d.configurable===!1||d.enumerable===!1||d.writable===!1)&&Hf();var c=n.get(u);return c===void 0?s(()=>{var h=we(d.value);return n.set(u,h),h}):j(c,d.value,!0),!0},deleteProperty(a,u){var d=n.get(u);if(d===void 0){if(u in a){const c=s(()=>we(yt));n.set(u,c),Bi(i)}}else j(d,yt),Bi(i);return!0},get(a,u,d){var g;if(u===On)return e;var c=n.get(u),h=u in a;if(c===void 0&&(!h||(g=qn(a,u))!=null&&g.writable)&&(c=s(()=>{var p=Jt(h?a[u]:yt),b=we(p);return b}),n.set(u,c)),c!==void 0){var f=l(c);return f===yt?void 0:f}return Reflect.get(a,u,d)},getOwnPropertyDescriptor(a,u){var d=Reflect.getOwnPropertyDescriptor(a,u);if(d&&"value"in d){var c=n.get(u);c&&(d.value=l(c))}else if(d===void 0){var h=n.get(u),f=h==null?void 0:h.v;if(h!==void 0&&f!==yt)return{enumerable:!0,configurable:!0,value:f,writable:!0}}return d},has(a,u){var f;if(u===On)return!0;var d=n.get(u),c=d!==void 0&&d.v!==yt||Reflect.has(a,u);if(d!==void 0||Ye!==null&&(!c||(f=qn(a,u))!=null&&f.writable)){d===void 0&&(d=s(()=>{var g=c?Jt(a[u]):yt,p=we(g);return p}),n.set(u,d));var h=l(d);if(h===yt)return!1}return c},set(a,u,d,c){var S;var h=n.get(u),f=u in a;if(r&&u==="length")for(var g=d;g<h.v;g+=1){var p=n.get(g+"");p!==void 0?j(p,yt):g in a&&(p=s(()=>we(yt)),n.set(g+"",p))}if(h===void 0)(!f||(S=qn(a,u))!=null&&S.writable)&&(h=s(()=>we(void 0)),j(h,Jt(d)),n.set(u,h));else{f=h.v!==yt;var b=s(()=>Jt(d));j(h,b)}var y=Reflect.getOwnPropertyDescriptor(a,u);if(y!=null&&y.set&&y.set.call(c,d),!f){if(r&&typeof u=="string"){var k=n.get("length"),w=Number(u);Number.isInteger(w)&&w>=k.v&&j(k,w+1)}Bi(i)}return!0},ownKeys(a){l(i);var u=Reflect.ownKeys(a).filter(h=>{var f=n.get(h);return f===void 0||f.v!==yt});for(var[d,c]of n)c.v!==yt&&!(d in a)&&u.push(d);return u},setPrototypeOf(){Kf()}})}function Vl(e){try{if(e!==null&&typeof e=="object"&&On in e)return e[On]}catch{}return e}function Eh(e,t){return Object.is(Vl(e),Vl(t))}var ut,Ec,Nc,kc;function Nh(){if(ut===void 0){ut=window,Ec=/Firefox/.test(navigator.userAgent);var e=Element.prototype,t=Node.prototype,n=Text.prototype;Nc=qn(t,"firstChild").get,kc=qn(t,"nextSibling").get,Dl(e)&&(e.__click=void 0,e.__className=void 0,e.__attributes=null,e.__style=void 0,e.__e=void 0),Dl(n)&&(n.__t=void 0)}}function Pn(e=""){return document.createTextNode(e)}function Wn(e){return Nc.call(e)}function vo(e){return kc.call(e)}function se(e,t){return Wn(e)}function Pe(e,t=!1){{var n=Wn(e);return n instanceof Comment&&n.data===""?vo(n):n}}function he(e,t=1,n=!1){let r=e;for(;t--;)r=vo(r);return r}function kh(e){e.textContent=""}function Sc(){return!1}function Ic(e,t,n){return document.createElementNS(t??rc,e,void 0)}function Sh(e,t){if(t){const n=document.body;e.autofocus=!0,Cn(()=>{document.activeElement===n&&e.focus()})}}let Fl=!1;function Ih(){Fl||(Fl=!0,document.addEventListener("reset",e=>{Promise.resolve().then(()=>{var t;if(!e.defaultPrevented)for(const n of e.target.elements)(t=n.__on_r)==null||t.call(n)})},{capture:!0}))}function ws(e){var t=Ve,n=Ye;nn(null),rn(null);try{return e()}finally{nn(t),rn(n)}}function Th(e,t,n,r=n){e.addEventListener(t,()=>ws(n));const i=e.__on_r;i?e.__on_r=()=>{i(),r(!0)}:e.__on_r=()=>r(!0),Ih()}function Tc(e){Ye===null&&(Ve===null&&Lf(),zf()),vr&&Rf()}function Oh(e,t){var n=t.last;n===null?t.last=t.first=e:(n.next=e,e.prev=n,t.last=e)}function sn(e,t,n){var r=Ye;r!==null&&r.f&Bt&&(e|=Bt);var i={ctx:Ue,deps:null,nodes:null,f:e|St|$t,first:null,fn:t,last:null,next:null,parent:r,b:r&&r.b,prev:null,teardown:null,wv:0,ac:null};if(n)try{zr(i)}catch(a){throw bt(i),a}else t!==null&&fn(i);var o=i;if(n&&o.deps===null&&o.teardown===null&&o.nodes===null&&o.first===o.last&&!(o.f&Wr)&&(o=o.first,e&er&&e&Jn&&o!==null&&(o.f|=Jn)),o!==null&&(o.parent=r,r!==null&&Oh(o,r),Ve!==null&&Ve.f&kt&&!(e&yr))){var s=Ve;(s.effects??(s.effects=[])).push(o)}return i}function el(){return Ve!==null&&!hn}function po(e){const t=sn(co,null,!1);return at(t,gt),t.teardown=e,t}function qe(e){Tc();var t=Ye.f,n=!Ve&&(t&mn)!==0&&(t&fo)===0;if(n){var r=Ue;(r.e??(r.e=[])).push(e)}else return Oc(e)}function Oc(e){return sn(Xi|Ju,e,!1)}function tl(e){return Tc(),sn(co|Ju,e,!0)}function Cc(e){Qn.ensure();const t=sn(yr|Wr,e,!0);return()=>{bt(t)}}function Ch(e){Qn.ensure();const t=sn(yr|Wr,e,!0);return(n={})=>new Promise(r=>{n.outro?Pr(t,()=>{bt(t),r(void 0)}):(bt(t),r(void 0))})}function mo(e){return sn(Xi,e,!1)}function Ae(e,t){var n=Ue,r={effect:null,ran:!1,deps:e};n.l.$.push(r),r.effect=ki(()=>{e(),!r.ran&&(r.ran=!0,Le(t))})}function Ni(){var e=Ue;ki(()=>{for(var t of e.l.$){t.deps();var n=t.effect;n.f&gt&&n.deps!==null&&at(n,tn),Ii(n)&&zr(n),t.ran=!1}})}function Ph(e){return sn(Ga|Wr,e,!0)}function ki(e,t=0){return sn(co|t,e,!0)}function ye(e,t=[],n=[],r=[]){yc(r,t,n,i=>{sn(co,()=>e(...i.map(l)),!0)})}function Si(e,t=0){var n=sn(er|t,e,!0);return n}function Pc(e,t=0){var n=sn(ja|t,e,!0);return n}function Lt(e){return sn(mn|Wr,e,!0)}function Ac(e){var t=e.teardown;if(t!==null){const n=vr,r=Ve;Hl(!0),nn(null);try{t.call(null)}finally{Hl(n),nn(r)}}}function nl(e,t=!1){var n=e.first;for(e.first=e.last=null;n!==null;){const i=n.ac;i!==null&&ws(()=>{i.abort(wr)});var r=n.next;n.f&yr?n.parent=null:bt(n,t),n=r}}function Ah(e){for(var t=e.first;t!==null;){var n=t.next;t.f&mn||bt(t),t=n}}function bt(e,t=!0){var n=!1;(t||e.f&Qu)&&e.nodes!==null&&e.nodes.end!==null&&(Mh(e.nodes.start,e.nodes.end),n=!0),nl(e,t&&!n),ji(e,0),at(e,Zn);var r=e.nodes&&e.nodes.t;if(r!==null)for(const o of r)o.stop();Ac(e);var i=e.parent;i!==null&&i.first!==null&&Mc(e),e.next=e.prev=e.teardown=e.ctx=e.deps=e.fn=e.nodes=e.ac=null}function Mh(e,t){for(;e!==null;){var n=e===t?null:vo(e);e.remove(),e=n}}function Mc(e){var t=e.parent,n=e.prev,r=e.next;n!==null&&(n.next=r),r!==null&&(r.prev=n),t!==null&&(t.first===e&&(t.first=r),t.last===e&&(t.last=n))}function Pr(e,t,n=!0){var r=[];Dc(e,r,!0);var i=()=>{n&&bt(e),t&&t()},o=r.length;if(o>0){var s=()=>--o||i();for(var a of r)a.out(s)}else i()}function Dc(e,t,n){if(!(e.f&Bt)){e.f^=Bt;var r=e.nodes&&e.nodes.t;if(r!==null)for(const a of r)(a.is_global||n)&&t.push(a);for(var i=e.first;i!==null;){var o=i.next,s=(i.f&Jn)!==0||(i.f&mn)!==0&&(e.f&er)!==0;Dc(i,t,s?n:!1),i=o}}}function rl(e){Rc(e,!0)}function Rc(e,t){if(e.f&Bt){e.f^=Bt,e.f&gt||(at(e,St),fn(e));for(var n=e.first;n!==null;){var r=n.next,i=(n.f&Jn)!==0||(n.f&mn)!==0;Rc(n,i?t:!1),n=r}var o=e.nodes&&e.nodes.t;if(o!==null)for(const s of o)(s.is_global||t)&&s.in()}}function zc(e,t){if(e.nodes)for(var n=e.nodes.start,r=e.nodes.end;n!==null;){var i=n===r?null:vo(n);t.append(n),n=i}}let Wo=!1,vr=!1;function Hl(e){vr=e}let Ve=null,hn=!1;function nn(e){Ve=e}let Ye=null;function rn(e){Ye=e}let en=null;function Lc(e){Ve!==null&&(en===null?en=[e]:en.push(e))}let zt=null,Ft=0,Ut=null;function Dh(e){Ut=e}let Vc=1,Er=0,Ar=Er;function Kl(e){Ar=e}function Fc(){return++Vc}function Ii(e){var t=e.f;if(t&St)return!0;if(t&kt&&(e.f&=~Rr),t&tn){for(var n=e.deps,r=n.length,i=0;i<r;i++){var o=n[i];if(Ii(o)&&bc(o),o.wv>e.wv)return!0}t&$t&&Nt===null&&at(e,gt)}return!1}function Hc(e,t,n=!0){var r=e.reactions;if(r!==null&&!(en!==null&&hi.call(en,e)))for(var i=0;i<r.length;i++){var o=r[i];o.f&kt?Hc(o,t,!1):t===o&&(n?at(o,St):o.f&gt&&at(o,tn),fn(o))}}function Kc(e){var b;var t=zt,n=Ft,r=Ut,i=Ve,o=en,s=Ue,a=hn,u=Ar,d=e.f;zt=null,Ft=0,Ut=null,Ve=d&(mn|yr)?null:e,en=null,gi(e.ctx),hn=!1,Ar=++Er,e.ac!==null&&(ws(()=>{e.ac.abort(wr)}),e.ac=null);try{e.f|=ca;var c=e.fn,h=c();e.f|=fo;var f=e.deps,g=ze==null?void 0:ze.is_fork;if(zt!==null){var p;if(g||ji(e,Ft),f!==null&&Ft>0)for(f.length=Ft+zt.length,p=0;p<zt.length;p++)f[Ft+p]=zt[p];else e.deps=f=zt;if(el()&&e.f&$t)for(p=Ft;p<f.length;p++)((b=f[p]).reactions??(b.reactions=[])).push(e)}else!g&&f!==null&&Ft<f.length&&(ji(e,Ft),f.length=Ft);if(ho()&&Ut!==null&&!hn&&f!==null&&!(e.f&(kt|tn|St)))for(p=0;p<Ut.length;p++)Hc(Ut[p],e);if(i!==null&&i!==e){if(Er++,i.deps!==null)for(let y=0;y<n;y+=1)i.deps[y].rv=Er;if(t!==null)for(const y of t)y.rv=Er;Ut!==null&&(r===null?r=Ut:r.push(...Ut))}return e.f&dr&&(e.f^=dr),h}catch(y){return uc(y)}finally{e.f^=ca,zt=t,Ft=n,Ut=r,Ve=i,en=o,gi(s),hn=a,Ar=u}}function Rh(e,t){let n=t.reactions;if(n!==null){var r=Tf.call(n,e);if(r!==-1){var i=n.length-1;i===0?n=t.reactions=null:(n[r]=n[i],n.pop())}}if(n===null&&t.f&kt&&(zt===null||!hi.call(zt,t))){var o=t;o.f&$t&&(o.f^=$t,o.f&=~Rr),Ja(o),wh(o),ji(o,0)}}function ji(e,t){var n=e.deps;if(n!==null)for(var r=t;r<n.length;r++)Rh(e,n[r])}function zr(e){var t=e.f;if(!(t&Zn)){at(e,gt);var n=Ye,r=Wo;Ye=e,Wo=!0;try{t&(er|ja)?Ah(e):nl(e),Ac(e);var i=Kc(e);e.teardown=typeof i=="function"?i:null,e.wv=Vc;var o;la&&rh&&e.f&St&&e.deps}finally{Wo=r,Ye=n}}}async function ct(){await Promise.resolve(),ch()}function l(e){var t=e.f,n=(t&kt)!==0;if(Ve!==null&&!hn){var r=Ye!==null&&(Ye.f&Zn)!==0;if(!r&&(en===null||!hi.call(en,e))){var i=Ve.deps;if(Ve.f&ca)e.rv<Er&&(e.rv=Er,zt===null&&i!==null&&i[Ft]===e?Ft++:zt===null?zt=[e]:zt.push(e));else{(Ve.deps??(Ve.deps=[])).push(e);var o=e.reactions;o===null?e.reactions=[Ve]:hi.call(o,Ve)||o.push(Ve)}}}if(vr&&fr.has(e))return fr.get(e);if(n){var s=e;if(vr){var a=s.v;return(!(s.f&gt)&&s.reactions!==null||Wc(s))&&(a=$a(s)),fr.set(s,a),a}var u=(s.f&$t)===0&&!hn&&Ve!==null&&(Wo||(Ve.f&$t)!==0),d=(s.f&fo)===0;Ii(s)&&(u&&(s.f|=$t),bc(s)),u&&!d&&(_c(s),Bc(s))}if(Nt!=null&&Nt.has(e))return Nt.get(e);if(e.f&dr)throw e.v;return e.v}function Bc(e){if(e.f|=$t,e.deps!==null)for(const t of e.deps)(t.reactions??(t.reactions=[])).push(e),t.f&kt&&!(t.f&$t)&&(_c(t),Bc(t))}function Wc(e){if(e.v===yt)return!0;if(e.deps===null)return!1;for(const t of e.deps)if(fr.has(t)||t.f&kt&&Wc(t))return!0;return!1}function Le(e){var t=hn;try{return hn=!0,e()}finally{hn=t}}function zh(e,t){var n={};for(var r in e)t.includes(r)||(n[r]=e[r]);for(var i of Object.getOwnPropertySymbols(e))Object.propertyIsEnumerable.call(e,i)&&!t.includes(i)&&(n[i]=e[i]);return n}function Be(e){if(!(typeof e!="object"||!e||e instanceof EventTarget)){if(On in e)ba(e);else if(!Array.isArray(e))for(let t in e){const n=e[t];typeof n=="object"&&n&&On in n&&ba(n)}}}function ba(e,t=new Set){if(typeof e=="object"&&e!==null&&!(e instanceof EventTarget)&&!t.has(e)){t.add(e),e instanceof Date&&e.getTime();for(let r in e)try{ba(e[r],t)}catch{}const n=ms(e);if(n!==Object.prototype&&n!==Array.prototype&&n!==Map.prototype&&n!==Set.prototype&&n!==Date.prototype){const r=Gu(n);for(let i in r){const o=r[i].get;if(o)try{o.call(e)}catch{}}}}}function Lh(e){return e.endsWith("capture")&&e!=="gotpointercapture"&&e!=="lostpointercapture"}const Vh=["beforeinput","click","change","dblclick","contextmenu","focusin","focusout","input","keydown","keyup","mousedown","mousemove","mouseout","mouseover","mouseup","pointerdown","pointermove","pointerout","pointerover","pointerup","touchend","touchmove","touchstart"];function Fh(e){return Vh.includes(e)}const Hh={formnovalidate:"formNoValidate",ismap:"isMap",nomodule:"noModule",playsinline:"playsInline",readonly:"readOnly",defaultvalue:"defaultValue",defaultchecked:"defaultChecked",srcobject:"srcObject",novalidate:"noValidate",allowfullscreen:"allowFullscreen",disablepictureinpicture:"disablePictureInPicture",disableremoteplayback:"disableRemotePlayback"};function Kh(e){return e=e.toLowerCase(),Hh[e]??e}const Bh=["touchstart","touchmove"];function Wh(e){return Bh.includes(e)}const Yc=new Set,_a=new Set;function il(e,t,n,r={}){function i(o){if(r.capture||xa.call(t,o),!o.cancelBubble)return ws(()=>n==null?void 0:n.call(this,o))}return e.startsWith("pointer")||e.startsWith("touch")||e==="wheel"?Cn(()=>{t.addEventListener(e,i,r)}):t.addEventListener(e,i,r),i}function wa(e,t,n,r={}){var i=il(t,e,n,r);return()=>{e.removeEventListener(t,i,r)}}function Ke(e,t,n,r,i){var o={capture:r,passive:i},s=il(e,t,n,o);(t===document.body||t===window||t===document||t instanceof HTMLMediaElement)&&po(()=>{t.removeEventListener(e,s,o)})}function vt(e){for(var t=0;t<e.length;t++)Yc.add(e[t]);for(var n of _a)n(e)}let Bl=null;function xa(e){var y;var t=this,n=t.ownerDocument,r=e.type,i=((y=e.composedPath)==null?void 0:y.call(e))||[],o=i[0]||e.target;Bl=e;var s=0,a=Bl===e&&e.__root;if(a){var u=i.indexOf(a);if(u!==-1&&(t===document||t===window)){e.__root=t;return}var d=i.indexOf(t);if(d===-1)return;u<=d&&(s=u)}if(o=i[s]||e.target,o!==t){Of(e,"currentTarget",{configurable:!0,get(){return o||n}});var c=Ve,h=Ye;nn(null),rn(null);try{for(var f,g=[];o!==null;){var p=o.assignedSlot||o.parentNode||o.host||null;try{var b=o["__"+r];b!=null&&(!o.disabled||e.target===o)&&b.call(o,e)}catch(k){f?g.push(k):f=k}if(e.cancelBubble||p===t||p===null)break;o=p}if(f){for(let k of g)queueMicrotask(()=>{throw k});throw f}}finally{e.__root=t,delete e.currentTarget,nn(c),rn(h)}}}var Yu,Xu;const Ys=(Xu=(Yu=globalThis==null?void 0:globalThis.window)==null?void 0:Yu.trustedTypes)==null?void 0:Xu.createPolicy("svelte-trusted-html",{createHTML:e=>e});function Yh(e){return(Ys==null?void 0:Ys.createHTML(e))??e}function Xc(e,t=!1){var n=Ic("template");return e=e.replaceAll("<!>","<!---->"),n.innerHTML=t?Yh(e):e,n.content}function Lr(e,t){var n=Ye;n.nodes===null&&(n.nodes={start:e,end:t,a:null,t:null})}function de(e,t){var n=(t&nc)!==0,r=(t&Jf)!==0,i,o=!e.startsWith("<!>");return()=>{i===void 0&&(i=Xc(o?e:"<!>"+e,!0),n||(i=Wn(i)));var s=r||Ec?document.importNode(i,!0):i.cloneNode(!0);if(n){var a=Wn(s),u=s.lastChild;Lr(a,u)}else Lr(s,s);return s}}function Xh(e,t,n="svg"){var r=!e.startsWith("<!>"),i=(t&nc)!==0,o=`<${n}>${r?e:"<!>"+e}</${n}>`,s;return()=>{if(!s){var a=Xc(o,!0),u=Wn(a);if(i)for(s=document.createDocumentFragment();Wn(u);)s.appendChild(Wn(u));else s=Wn(u)}var d=s.cloneNode(!0);if(i){var c=Wn(d),h=d.lastChild;Lr(c,h)}else Lr(d,d);return d}}function Xt(e,t){return Xh(e,t,"svg")}function jh(e=""){{var t=Pn(e+"");return Lr(t,t),t}}function $e(){var e=document.createDocumentFragment(),t=document.createComment(""),n=Pn();return e.append(t,n),Lr(t,n),e}function te(e,t){e!==null&&e.before(t)}function We(e,t){var n=t==null?"":typeof t=="object"?t+"":t;n!==(e.__t??(e.__t=e.nodeValue))&&(e.__t=n,e.nodeValue=n+"")}function Gh(e,t){return Uh(e,t)}const Co=new Map;function Uh(e,{target:t,anchor:n,props:r={},events:i,context:o,intro:s=!0}){Nh();var a=new Set,u=h=>{for(var f=0;f<h.length;f++){var g=h[f];if(!a.has(g)){a.add(g);var p=Wh(g);for(const k of[t,document]){var b=Co.get(k);b===void 0&&(b=new Map,Co.set(k,b));var y=b.get(g);y===void 0?(k.addEventListener(g,xa,{passive:p}),b.set(g,1)):b.set(g,y+1)}}}};u(ps(Yc)),_a.add(u);var d=void 0,c=Ch(()=>{var h=n??t.appendChild(Pn());return hh(h,{pending:()=>{}},f=>{Ne({});var g=Ue;o&&(g.c=o),i&&(r.$$events=i),d=e(f,r)||{},ke()}),()=>{var b;for(var f of a)for(const y of[t,document]){var g=Co.get(y),p=g.get(f);--p==0?(y.removeEventListener(f,xa),g.delete(f),g.size===0&&Co.delete(y)):g.set(f,p)}_a.delete(u),h!==n&&((b=h.parentNode)==null||b.removeChild(h))}});return qh.set(d,c),d}let qh=new WeakMap;var cn,In,Ht,Cr,io,oo,hs;class xs{constructor(t,n=!0){et(this,"anchor");ie(this,cn,new Map);ie(this,In,new Map);ie(this,Ht,new Map);ie(this,Cr,new Set);ie(this,io,!0);ie(this,oo,()=>{var t=ze;if(R(this,cn).has(t)){var n=R(this,cn).get(t),r=R(this,In).get(n);if(r)rl(r),R(this,Cr).delete(n);else{var i=R(this,Ht).get(n);i&&(R(this,In).set(n,i.effect),R(this,Ht).delete(n),i.fragment.lastChild.remove(),this.anchor.before(i.fragment),r=i.effect)}for(const[o,s]of R(this,cn)){if(R(this,cn).delete(o),o===t)break;const a=R(this,Ht).get(s);a&&(bt(a.effect),R(this,Ht).delete(s))}for(const[o,s]of R(this,In)){if(o===n||R(this,Cr).has(o))continue;const a=()=>{if(Array.from(R(this,cn).values()).includes(o)){var d=document.createDocumentFragment();zc(s,d),d.append(Pn()),R(this,Ht).set(o,{effect:s,fragment:d})}else bt(s);R(this,Cr).delete(o),R(this,In).delete(o)};R(this,io)||!r?(R(this,Cr).add(o),Pr(s,a,!1)):a()}}});ie(this,hs,t=>{R(this,cn).delete(t);const n=Array.from(R(this,cn).values());for(const[r,i]of R(this,Ht))n.includes(r)||(bt(i.effect),R(this,Ht).delete(r))});this.anchor=t,Me(this,io,n)}ensure(t,n){var r=ze,i=Sc();if(n&&!R(this,In).has(t)&&!R(this,Ht).has(t))if(i){var o=document.createDocumentFragment(),s=Pn();o.append(s),R(this,Ht).set(t,{effect:Lt(()=>n(s)),fragment:o})}else R(this,In).set(t,Lt(()=>n(this.anchor)));if(R(this,cn).set(r,t),i){for(const[a,u]of R(this,In))a===t?r.unskip_effect(u):r.skip_effect(u);for(const[a,u]of R(this,Ht))a===t?r.unskip_effect(u.effect):r.skip_effect(u.effect);r.oncommit(R(this,oo)),r.ondiscard(R(this,hs))}else R(this,oo).call(this)}}cn=new WeakMap,In=new WeakMap,Ht=new WeakMap,Cr=new WeakMap,io=new WeakMap,oo=new WeakMap,hs=new WeakMap;function De(e,t,n=!1){var r=new xs(e),i=n?Jn:0;function o(s,a){r.ensure(s,a)}Si(()=>{var s=!1;t((a,u=0)=>{s=!0,o(u,a)}),s||o(!1,null)},i)}function Kt(e,t){return t}function Zh(e,t,n){for(var r=[],i=t.length,o,s=t.length,a=0;a<i;a++){let h=t[a];Pr(h,()=>{if(o){if(o.pending.delete(h),o.done.add(h),o.pending.size===0){var f=e.outrogroups;Ea(ps(o.done)),f.delete(o),f.size===0&&(e.outrogroups=null)}}else s-=1},!1)}if(s===0){var u=r.length===0&&n!==null;if(u){var d=n,c=d.parentNode;kh(c),c.append(d),e.items.clear()}Ea(t,!u)}else o={pending:new Set(t),done:new Set},(e.outrogroups??(e.outrogroups=new Set)).add(o)}function Ea(e,t=!0){for(var n=0;n<e.length;n++)bt(e[n],t)}var Wl;function rt(e,t,n,r,i,o=null){var s=e,a=new Map,u=(t&ec)!==0;if(u){var d=e;s=d.appendChild(Pn())}var c=null,h=_s(()=>{var k=n();return uo(k)?k:k==null?[]:ps(k)}),f,g=!0;function p(){y.fallback=c,Qh(y,f,s,t,r),c!==null&&(f.length===0?c.f&jn?(c.f^=jn,Li(c,null,s)):rl(c):Pr(c,()=>{c=null}))}var b=Si(()=>{f=l(h);for(var k=f.length,w=new Set,S=ze,m=Sc(),A=0;A<k;A+=1){var T=f[A],M=r(T,A),x=g?null:a.get(M);x?(x.v&&pi(x.v,T),x.i&&pi(x.i,A),m&&S.unskip_effect(x.e)):(x=Jh(a,g?s:Wl??(Wl=Pn()),T,M,A,i,t,n),g||(x.e.f|=jn),a.set(M,x)),w.add(M)}if(k===0&&o&&!c&&(g?c=Lt(()=>o(s)):(c=Lt(()=>o(Wl??(Wl=Pn()))),c.f|=jn)),k>w.size&&Df(),!g)if(m){for(const[V,D]of a)w.has(V)||S.skip_effect(D.e);S.oncommit(p),S.ondiscard(()=>{})}else p();l(h)}),y={effect:b,items:a,outrogroups:null,fallback:c};g=!1}function Di(e){for(;e!==null&&!(e.f&mn);)e=e.next;return e}function Qh(e,t,n,r,i){var D,N,_,E,v,I,C,P,F;var o=(r&jf)!==0,s=t.length,a=e.items,u=Di(e.effect.first),d,c=null,h,f=[],g=[],p,b,y,k;if(o)for(k=0;k<s;k+=1)p=t[k],b=i(p,k),y=a.get(b).e,y.f&jn||((N=(D=y.nodes)==null?void 0:D.a)==null||N.measure(),(h??(h=new Set)).add(y));for(k=0;k<s;k+=1){if(p=t[k],b=i(p,k),y=a.get(b).e,e.outrogroups!==null)for(const H of e.outrogroups)H.pending.delete(y),H.done.delete(y);if(y.f&jn)if(y.f^=jn,y===u)Li(y,null,n);else{var w=c?c.next:u;y===e.effect.last&&(e.effect.last=y.prev),y.prev&&(y.prev.next=y.next),y.next&&(y.next.prev=y.prev),rr(e,c,y),rr(e,y,w),Li(y,w,n),c=y,f=[],g=[],u=Di(c.next);continue}if(y.f&Bt&&(rl(y),o&&((E=(_=y.nodes)==null?void 0:_.a)==null||E.unfix(),(h??(h=new Set)).delete(y))),y!==u){if(d!==void 0&&d.has(y)){if(f.length<g.length){var S=g[0],m;c=S.prev;var A=f[0],T=f[f.length-1];for(m=0;m<f.length;m+=1)Li(f[m],S,n);for(m=0;m<g.length;m+=1)d.delete(g[m]);rr(e,A.prev,T.next),rr(e,c,A),rr(e,T,S),u=S,c=T,k-=1,f=[],g=[]}else d.delete(y),Li(y,u,n),rr(e,y.prev,y.next),rr(e,y,c===null?e.effect.first:c.next),rr(e,c,y),c=y;continue}for(f=[],g=[];u!==null&&u!==y;)(d??(d=new Set)).add(u),g.push(u),u=Di(u.next);if(u===null)continue}y.f&jn||f.push(y),c=y,u=Di(y.next)}if(e.outrogroups!==null){for(const H of e.outrogroups)H.pending.size===0&&(Ea(ps(H.done)),(v=e.outrogroups)==null||v.delete(H));e.outrogroups.size===0&&(e.outrogroups=null)}if(u!==null||d!==void 0){var M=[];if(d!==void 0)for(y of d)y.f&Bt||M.push(y);for(;u!==null;)!(u.f&Bt)&&u!==e.fallback&&M.push(u),u=Di(u.next);var x=M.length;if(x>0){var V=r&ec&&s===0?n:null;if(o){for(k=0;k<x;k+=1)(C=(I=M[k].nodes)==null?void 0:I.a)==null||C.measure();for(k=0;k<x;k+=1)(F=(P=M[k].nodes)==null?void 0:P.a)==null||F.fix()}Zh(e,M,V)}}o&&Cn(()=>{var H,W;if(h!==void 0)for(y of h)(W=(H=y.nodes)==null?void 0:H.a)==null||W.apply()})}function Jh(e,t,n,r,i,o,s,a){var u=s&Yf?s&Gf?gr(n):Oe(n,!1,!1):null,d=s&Xf?gr(i):null;return{v:u,i:d,e:Lt(()=>(o(t,u??n,d??i,a),()=>{e.delete(r)}))}}function Li(e,t,n){if(e.nodes)for(var r=e.nodes.start,i=e.nodes.end,o=t&&!(t.f&jn)?t.nodes.start:n;r!==null;){var s=vo(r);if(o.before(r),r===i)return;r=s}}function rr(e,t,n){t===null?e.effect.first=n:t.next=n,n===null?e.effect.last=t:n.prev=t}function Rn(e,t,n,r,i){var a;var o=(a=t.$$slots)==null?void 0:a[n],s=!1;o===!0&&(o=t.children,s=!0),o===void 0||o(e,s?()=>r:r)}function zn(e,t,...n){var r=new xs(e);Si(()=>{const i=t()??null;r.ensure(i,i&&(o=>i(o,...n)))},Jn)}function Es(e,t,n){var r=new xs(e);Si(()=>{var i=t()??null;r.ensure(i,i&&(o=>n(o,i)))},Jn)}function $h(e,t,n,r,i,o){var s=null,a=e,u=new xs(a,!1);Si(()=>{const d=t()||null;var c=$f;if(d===null){u.ensure(null,null);return}return u.ensure(d,h=>{if(d){if(s=Ic(d,c),Lr(s,s),r){var f=s.appendChild(Pn());r(s,f)}Ye.nodes.end=s,h.before(s)}}),()=>{}},Jn),po(()=>{})}function Dt(e,t,n){mo(()=>{var r=Le(()=>t(e,n==null?void 0:n())||{});if(n&&(r!=null&&r.update)){var i=!1,o={};ki(()=>{var s=n();Be(s),i&&oc(o,s)&&(o=s,r.update(s))}),i=!0}if(r!=null&&r.destroy)return()=>r.destroy()})}function eg(e,t){var n=void 0,r;Pc(()=>{n!==(n=t())&&(r&&(bt(r),r=null),n&&(r=Lt(()=>{mo(()=>n(e))})))})}function jc(e){var t,n,r="";if(typeof e=="string"||typeof e=="number")r+=e;else if(typeof e=="object")if(Array.isArray(e)){var i=e.length;for(t=0;t<i;t++)e[t]&&(n=jc(e[t]))&&(r&&(r+=" "),r+=n)}else for(n in e)e[n]&&(r&&(r+=" "),r+=n);return r}function tg(){for(var e,t,n=0,r="",i=arguments.length;n<i;n++)(e=arguments[n])&&(t=jc(e))&&(r&&(r+=" "),r+=t);return r}function Yr(e){return typeof e=="object"?tg(e):e??""}const Yl=[...` 	
\r\fÂ \v\uFEFF`];function ng(e,t,n){var r=e==null?"":""+e;if(t&&(r=r?r+" "+t:t),n){for(var i in n)if(n[i])r=r?r+" "+i:i;else if(r.length)for(var o=i.length,s=0;(s=r.indexOf(i,s))>=0;){var a=s+o;(s===0||Yl.includes(r[s-1]))&&(a===r.length||Yl.includes(r[a]))?r=(s===0?"":r.substring(0,s))+r.substring(a+1):s=a}}return r===""?null:r}function Xl(e,t=!1){var n=t?" !important;":";",r="";for(var i in e){var o=e[i];o!=null&&o!==""&&(r+=" "+i+": "+o+n)}return r}function Xs(e){return e[0]!=="-"||e[1]!=="-"?e.toLowerCase():e}function rg(e,t){if(t){var n="",r,i;if(Array.isArray(t)?(r=t[0],i=t[1]):r=t,e){e=String(e).replaceAll(/\s*\/\*.*?\*\/\s*/g,"").trim();var o=!1,s=0,a=!1,u=[];r&&u.push(...Object.keys(r).map(Xs)),i&&u.push(...Object.keys(i).map(Xs));var d=0,c=-1;const b=e.length;for(var h=0;h<b;h++){var f=e[h];if(a?f==="/"&&e[h-1]==="*"&&(a=!1):o?o===f&&(o=!1):f==="/"&&e[h+1]==="*"?a=!0:f==='"'||f==="'"?o=f:f==="("?s++:f===")"&&s--,!a&&o===!1&&s===0){if(f===":"&&c===-1)c=h;else if(f===";"||h===b-1){if(c!==-1){var g=Xs(e.substring(d,c).trim());if(!u.includes(g)){f!==";"&&h++;var p=e.substring(d,h).trim();n+=" "+p+";"}}d=h+1,c=-1}}}}return r&&(n+=Xl(r)),i&&(n+=Xl(i,!0)),n=n.trim(),n===""?null:n}return e==null?null:String(e)}function Ot(e,t,n,r,i,o){var s=e.__className;if(s!==n||s===void 0){var a=ng(n,r,o);a==null?e.removeAttribute("class"):t?e.className=a:e.setAttribute("class",a),e.__className=n}else if(o&&i!==o)for(var u in o){var d=!!o[u];(i==null||d!==!!i[u])&&e.classList.toggle(u,d)}return o}function js(e,t={},n,r){for(var i in n){var o=n[i];t[i]!==o&&(n[i]==null?e.style.removeProperty(i):e.style.setProperty(i,o,r))}}function Ze(e,t,n,r){var i=e.__style;if(i!==t){var o=rg(t,r);o==null?e.removeAttribute("style"):e.style.cssText=o,e.__style=t}else r&&(Array.isArray(r)?(js(e,n==null?void 0:n[0],r[0]),js(e,n==null?void 0:n[1],r[1],"important")):js(e,n,r));return r}function Na(e,t,n=!1){if(e.multiple){if(t==null)return;if(!uo(t))return th();for(var r of e.options)r.selected=t.includes(jl(r));return}for(r of e.options){var i=jl(r);if(Eh(i,t)){r.selected=!0;return}}(!n||t!==void 0)&&(e.selectedIndex=-1)}function ig(e){var t=new MutationObserver(()=>{Na(e,e.__value)});t.observe(e,{childList:!0,subtree:!0,attributes:!0,attributeFilter:["value"]}),po(()=>{t.disconnect()})}function jl(e){return"__value"in e?e.__value:e.value}const sr=Symbol("class"),Yn=Symbol("style"),Gc=Symbol("is custom element"),Uc=Symbol("is html"),og=Ua?"option":"OPTION",sg=Ua?"select":"SELECT",ag=Ua?"progress":"PROGRESS";function Tt(e,t){var n=Ns(e);n.value===(n.value=t??void 0)||e.value===t&&(t!==0||e.nodeName!==ag)||(e.value=t??"")}function qc(e,t){var n=Ns(e);n.checked!==(n.checked=t??void 0)&&(e.checked=t)}function lg(e,t){t?e.hasAttribute("selected")||e.setAttribute("selected",""):e.removeAttribute("selected")}function me(e,t,n,r){var i=Ns(e);i[t]!==(i[t]=n)&&(t==="loading"&&(e[Af]=n),n==null?e.removeAttribute(t):typeof n!="string"&&Zc(e).includes(t)?e[t]=n:e.setAttribute(t,n))}function ug(e,t,n,r,i=!1,o=!1){var s=Ns(e),a=s[Gc],u=!s[Uc],d=t||{},c=e.nodeName===og;for(var h in t)h in n||(n[h]=null);n.class?n.class=Yr(n.class):(r||n[sr])&&(n.class=null),n[Yn]&&(n.style??(n.style=null));var f=Zc(e);for(const m in n){let A=n[m];if(c&&m==="value"&&A==null){e.value=e.__value="",d[m]=A;continue}if(m==="class"){var g=e.namespaceURI==="http://www.w3.org/1999/xhtml";Ot(e,g,A,r,t==null?void 0:t[sr],n[sr]),d[m]=A,d[sr]=n[sr];continue}if(m==="style"){Ze(e,A,t==null?void 0:t[Yn],n[Yn]),d[m]=A,d[Yn]=n[Yn];continue}var p=d[m];if(!(A===p&&!(A===void 0&&e.hasAttribute(m)))){d[m]=A;var b=m[0]+m[1];if(b!=="$$")if(b==="on"){const T={},M="$$"+m;let x=m.slice(2);var y=Fh(x);if(Lh(x)&&(x=x.slice(0,-7),T.capture=!0),!y&&p){if(A!=null)continue;e.removeEventListener(x,d[M],T),d[M]=null}if(A!=null)if(y)e[`__${x}`]=A,vt([x]);else{let V=function(D){d[m].call(this,D)};var S=V;d[M]=il(x,e,V,T)}else y&&(e[`__${x}`]=void 0)}else if(m==="style")me(e,m,A);else if(m==="autofocus")Sh(e,!!A);else if(!a&&(m==="__value"||m==="value"&&A!=null))e.value=e.__value=A;else if(m==="selected"&&c)lg(e,A);else{var k=m;u||(k=Kh(k));var w=k==="defaultValue"||k==="defaultChecked";if(A==null&&!a&&!w)if(s[m]=null,k==="value"||k==="checked"){let T=e;const M=t===void 0;if(k==="value"){let x=T.defaultValue;T.removeAttribute(k),T.defaultValue=x,T.value=T.__value=M?x:null}else{let x=T.defaultChecked;T.removeAttribute(k),T.defaultChecked=x,T.checked=M?x:!1}}else e.removeAttribute(m);else w||f.includes(k)&&(a||typeof A!="string")?(e[k]=A,k in s&&(s[k]=yt)):typeof A!="function"&&me(e,k,A)}}}return d}function vn(e,t,n=[],r=[],i=[],o,s=!1,a=!1){yc(i,n,r,u=>{var d=void 0,c={},h=e.nodeName===sg,f=!1;if(Pc(()=>{var p=t(...u.map(l)),b=ug(e,d,p,o,s,a);f&&h&&"value"in p&&Na(e,p.value);for(let k of Object.getOwnPropertySymbols(c))p[k]||bt(c[k]);for(let k of Object.getOwnPropertySymbols(p)){var y=p[k];k.description===eh&&(!d||y!==d[k])&&(c[k]&&bt(c[k]),c[k]=Lt(()=>eg(e,()=>y))),b[k]=y}d=b}),h){var g=e;mo(()=>{Na(g,d.value,!0),ig(g)})}f=!0})}function Ns(e){return e.__attributes??(e.__attributes={[Gc]:e.nodeName.includes("-"),[Uc]:e.namespaceURI===rc})}var Gl=new Map;function Zc(e){var t=e.getAttribute("is")||e.nodeName,n=Gl.get(t);if(n)return n;Gl.set(t,n=[]);for(var r,i=e,o=Element.prototype;o!==i;){r=Gu(i);for(var s in r)r[s].set&&n.push(s);i=ms(i)}return n}function Qc(e,t,n=t){var r=new WeakSet;Th(e,"input",async i=>{var o=i?e.defaultValue:e.value;if(o=Gs(e)?Us(o):o,n(o),ze!==null&&r.add(ze),await ct(),o!==(o=t())){var s=e.selectionStart,a=e.selectionEnd,u=e.value.length;if(e.value=o??"",a!==null){var d=e.value.length;s===a&&a===u&&d>u?(e.selectionStart=d,e.selectionEnd=d):(e.selectionStart=s,e.selectionEnd=Math.min(a,d))}}}),Le(t)==null&&e.value&&(n(Gs(e)?Us(e.value):e.value),ze!==null&&r.add(ze)),ki(()=>{var i=t();if(e===document.activeElement){var o=da??ze;if(r.has(o))return}Gs(e)&&i===Us(e.value)||e.type==="date"&&!i&&!e.value||i!==e.value&&(e.value=i??"")})}function Gs(e){var t=e.type;return t==="number"||t==="range"}function Us(e){return e===""?null:+e}function cg(e,t,n){var r=qn(e,t);r&&r.set&&(e[t]=n,po(()=>{e[t]=null}))}var cr,fi,so,gs,Jc;const vs=class vs{constructor(t){ie(this,gs);ie(this,cr,new WeakMap);ie(this,fi);ie(this,so);Me(this,so,t)}observe(t,n){var r=R(this,cr).get(t)||new Set;return r.add(n),R(this,cr).set(t,r),xt(this,gs,Jc).call(this).observe(t,R(this,so)),()=>{var i=R(this,cr).get(t);i.delete(n),i.size===0&&(R(this,cr).delete(t),R(this,fi).unobserve(t))}}};cr=new WeakMap,fi=new WeakMap,so=new WeakMap,gs=new WeakSet,Jc=function(){return R(this,fi)??Me(this,fi,new ResizeObserver(t=>{for(var n of t){vs.entries.set(n.target,n);for(var r of R(this,cr).get(n.target)||[])r(n)}}))},et(vs,"entries",new WeakMap);let ka=vs;var dg=new ka({box:"border-box"});function Ul(e,t,n){var r=dg.observe(e,()=>n(e[t]));mo(()=>(Le(()=>n(e[t])),r))}function ql(e,t){return e===t||(e==null?void 0:e[On])===t}function lt(e={},t,n,r){return mo(()=>{var i,o;return ki(()=>{i=o,o=[],Le(()=>{e!==n(...o)&&(t(e,...o),i&&ql(n(...i),e)&&t(null,...i))})}),()=>{Cn(()=>{o&&ql(n(...o),e)&&t(null,...o)})}}),e}function tr(e=!1){const t=Ue,n=t.l.u;if(!n)return;let r=()=>Be(t.s);if(e){let i=0,o={};const s=go(()=>{let a=!1;const u=t.s;for(const d in u)u[d]!==o[d]&&(o[d]=u[d],a=!0);return a&&i++,i});r=()=>l(s)}n.b.length&&tl(()=>{Zl(t,r),ua(n.b)}),qe(()=>{const i=Le(()=>n.m.map(Pf));return()=>{for(const o of i)typeof o=="function"&&o()}}),n.a.length&&qe(()=>{Zl(t,r),ua(n.a)})}function Zl(e,t){if(e.l.s)for(const n of e.l.s)l(n);t()}let Po=!1;function fg(e){var t=Po;try{return Po=!1,[e(),Po]}finally{Po=t}}const hg={get(e,t){if(!e.exclude.includes(t))return e.props[t]},set(e,t){return!1},getOwnPropertyDescriptor(e,t){if(!e.exclude.includes(t)&&t in e.props)return{enumerable:!0,configurable:!0,value:e.props[t]}},has(e,t){return e.exclude.includes(t)?!1:t in e.props},ownKeys(e){return Reflect.ownKeys(e.props).filter(t=>!e.exclude.includes(t))}};function Xr(e,t,n){return new Proxy({props:e,exclude:t},hg)}const gg={get(e,t){if(!e.exclude.includes(t))return l(e.version),t in e.special?e.special[t]():e.props[t]},set(e,t,n){if(!(t in e.special)){var r=Ye;try{rn(e.parent_effect),e.special[t]=ee({get[t](){return e.props[t]}},t,tc)}finally{rn(r)}}return e.special[t](n),Ll(e.version),!0},getOwnPropertyDescriptor(e,t){if(!e.exclude.includes(t)&&t in e.props)return{enumerable:!0,configurable:!0,value:e.props[t]}},deleteProperty(e,t){return e.exclude.includes(t)||(e.exclude.push(t),Ll(e.version)),!0},has(e,t){return e.exclude.includes(t)?!1:t in e.props},ownKeys(e){return Reflect.ownKeys(e.props).filter(t=>!e.exclude.includes(t))}};function on(e,t){return new Proxy({props:e,exclude:t,special:{},version:gr(0),parent_effect:Ye},gg)}const vg={get(e,t){let n=e.props.length;for(;n--;){let r=e.props[n];if(Mi(r)&&(r=r()),typeof r=="object"&&r!==null&&t in r)return r[t]}},set(e,t,n){let r=e.props.length;for(;r--;){let i=e.props[r];Mi(i)&&(i=i());const o=qn(i,t);if(o&&o.set)return o.set(n),!0}return!1},getOwnPropertyDescriptor(e,t){let n=e.props.length;for(;n--;){let r=e.props[n];if(Mi(r)&&(r=r()),typeof r=="object"&&r!==null&&t in r){const i=qn(r,t);return i&&!i.configurable&&(i.configurable=!0),i}}},has(e,t){if(t===On||t===$u)return!1;for(let n of e.props)if(Mi(n)&&(n=n()),n!=null&&t in n)return!0;return!1},ownKeys(e){const t=[];for(let n of e.props)if(Mi(n)&&(n=n()),!!n){for(const r in n)t.includes(r)||t.push(r);for(const r of Object.getOwnPropertySymbols(n))t.includes(r)||t.push(r)}return t}};function Wt(...e){return new Proxy({props:e},vg)}function ee(e,t,n,r){var S;var i=!Ei||(n&qf)!==0,o=(n&Zf)!==0,s=(n&Qf)!==0,a=r,u=!0,d=()=>(u&&(u=!1,a=s?Le(r):r),a),c;if(o){var h=On in e||$u in e;c=((S=qn(e,t))==null?void 0:S.set)??(h&&t in e?m=>e[t]=m:void 0)}var f,g=!1;o?[f,g]=fg(()=>e[t]):f=e[t],f===void 0&&r!==void 0&&(f=d(),c&&(i&&Ff(),c(f)));var p;if(i?p=()=>{var m=e[t];return m===void 0?d():(u=!0,m)}:p=()=>{var m=e[t];return m!==void 0&&(a=void 0),m===void 0?a:m},i&&!(n&tc))return p;if(c){var b=e.$$legacy;return function(m,A){return arguments.length>0?((!i||!A||b||g)&&c(A?p():m),m):p()}}var y=!1,k=(n&Uf?go:_s)(()=>(y=!1,p()));o&&l(k);var w=Ye;return function(m,A){if(arguments.length>0){const T=A?l(k):i&&o?Jt(m):m;return j(k,T),y=!0,a!==void 0&&(a=T),m}return vr&&y||w.f&Zn?k.v:l(k)}}function ol(e){Ue===null&&ys(),Ei&&Ue.l!==null?mg(Ue).m.push(e):qe(()=>{const t=Le(e);if(typeof t=="function")return t})}function yo(e){Ue===null&&ys(),ol(()=>()=>Le(e))}function pg(e,t,{bubbles:n=!1,cancelable:r=!1}={}){return new CustomEvent(e,{detail:t,bubbles:n,cancelable:r})}function ks(){const e=Ue;return e===null&&ys(),(t,n,r)=>{var o;const i=(o=e.s.$$events)==null?void 0:o[t];if(i){const s=uo(i)?i.slice():[i],a=pg(t,n,r);for(const u of s)u.call(e.x,a);return!a.defaultPrevented}return!0}}function mg(e){var t=e.l;return t.u??(t.u={a:[],b:[],m:[]})}const yg="5";var ju;typeof window<"u"&&((ju=window.__svelte??(window.__svelte={})).v??(ju.v=new Set)).add(yg);var bg={value:()=>{}};function Ss(){for(var e=0,t=arguments.length,n={},r;e<t;++e){if(!(r=arguments[e]+"")||r in n||/[\s.]/.test(r))throw new Error("illegal type: "+r);n[r]=[]}return new Yo(n)}function Yo(e){this._=e}function _g(e,t){return e.trim().split(/^|\s+/).map(function(n){var r="",i=n.indexOf(".");if(i>=0&&(r=n.slice(i+1),n=n.slice(0,i)),n&&!t.hasOwnProperty(n))throw new Error("unknown type: "+n);return{type:n,name:r}})}Yo.prototype=Ss.prototype={constructor:Yo,on:function(e,t){var n=this._,r=_g(e+"",n),i,o=-1,s=r.length;if(arguments.length<2){for(;++o<s;)if((i=(e=r[o]).type)&&(i=wg(n[i],e.name)))return i;return}if(t!=null&&typeof t!="function")throw new Error("invalid callback: "+t);for(;++o<s;)if(i=(e=r[o]).type)n[i]=Ql(n[i],e.name,t);else if(t==null)for(i in n)n[i]=Ql(n[i],e.name,null);return this},copy:function(){var e={},t=this._;for(var n in t)e[n]=t[n].slice();return new Yo(e)},call:function(e,t){if((i=arguments.length-2)>0)for(var n=new Array(i),r=0,i,o;r<i;++r)n[r]=arguments[r+2];if(!this._.hasOwnProperty(e))throw new Error("unknown type: "+e);for(o=this._[e],r=0,i=o.length;r<i;++r)o[r].value.apply(t,n)},apply:function(e,t,n){if(!this._.hasOwnProperty(e))throw new Error("unknown type: "+e);for(var r=this._[e],i=0,o=r.length;i<o;++i)r[i].value.apply(t,n)}};function wg(e,t){for(var n=0,r=e.length,i;n<r;++n)if((i=e[n]).name===t)return i.value}function Ql(e,t,n){for(var r=0,i=e.length;r<i;++r)if(e[r].name===t){e[r]=bg,e=e.slice(0,r).concat(e.slice(r+1));break}return n!=null&&e.push({name:t,value:n}),e}var Sa="http://www.w3.org/1999/xhtml";const Jl={svg:"http://www.w3.org/2000/svg",xhtml:Sa,xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/"};function Is(e){var t=e+="",n=t.indexOf(":");return n>=0&&(t=e.slice(0,n))!=="xmlns"&&(e=e.slice(n+1)),Jl.hasOwnProperty(t)?{space:Jl[t],local:e}:e}function xg(e){return function(){var t=this.ownerDocument,n=this.namespaceURI;return n===Sa&&t.documentElement.namespaceURI===Sa?t.createElement(e):t.createElementNS(n,e)}}function Eg(e){return function(){return this.ownerDocument.createElementNS(e.space,e.local)}}function $c(e){var t=Is(e);return(t.local?Eg:xg)(t)}function Ng(){}function sl(e){return e==null?Ng:function(){return this.querySelector(e)}}function kg(e){typeof e!="function"&&(e=sl(e));for(var t=this._groups,n=t.length,r=new Array(n),i=0;i<n;++i)for(var o=t[i],s=o.length,a=r[i]=new Array(s),u,d,c=0;c<s;++c)(u=o[c])&&(d=e.call(u,u.__data__,c,o))&&("__data__"in u&&(d.__data__=u.__data__),a[c]=d);return new Yt(r,this._parents)}function Sg(e){return e==null?[]:Array.isArray(e)?e:Array.from(e)}function Ig(){return[]}function ed(e){return e==null?Ig:function(){return this.querySelectorAll(e)}}function Tg(e){return function(){return Sg(e.apply(this,arguments))}}function Og(e){typeof e=="function"?e=Tg(e):e=ed(e);for(var t=this._groups,n=t.length,r=[],i=[],o=0;o<n;++o)for(var s=t[o],a=s.length,u,d=0;d<a;++d)(u=s[d])&&(r.push(e.call(u,u.__data__,d,s)),i.push(u));return new Yt(r,i)}function td(e){return function(){return this.matches(e)}}function nd(e){return function(t){return t.matches(e)}}var Cg=Array.prototype.find;function Pg(e){return function(){return Cg.call(this.children,e)}}function Ag(){return this.firstElementChild}function Mg(e){return this.select(e==null?Ag:Pg(typeof e=="function"?e:nd(e)))}var Dg=Array.prototype.filter;function Rg(){return Array.from(this.children)}function zg(e){return function(){return Dg.call(this.children,e)}}function Lg(e){return this.selectAll(e==null?Rg:zg(typeof e=="function"?e:nd(e)))}function Vg(e){typeof e!="function"&&(e=td(e));for(var t=this._groups,n=t.length,r=new Array(n),i=0;i<n;++i)for(var o=t[i],s=o.length,a=r[i]=[],u,d=0;d<s;++d)(u=o[d])&&e.call(u,u.__data__,d,o)&&a.push(u);return new Yt(r,this._parents)}function rd(e){return new Array(e.length)}function Fg(){return new Yt(this._enter||this._groups.map(rd),this._parents)}function Zo(e,t){this.ownerDocument=e.ownerDocument,this.namespaceURI=e.namespaceURI,this._next=null,this._parent=e,this.__data__=t}Zo.prototype={constructor:Zo,appendChild:function(e){return this._parent.insertBefore(e,this._next)},insertBefore:function(e,t){return this._parent.insertBefore(e,t)},querySelector:function(e){return this._parent.querySelector(e)},querySelectorAll:function(e){return this._parent.querySelectorAll(e)}};function Hg(e){return function(){return e}}function Kg(e,t,n,r,i,o){for(var s=0,a,u=t.length,d=o.length;s<d;++s)(a=t[s])?(a.__data__=o[s],r[s]=a):n[s]=new Zo(e,o[s]);for(;s<u;++s)(a=t[s])&&(i[s]=a)}function Bg(e,t,n,r,i,o,s){var a,u,d=new Map,c=t.length,h=o.length,f=new Array(c),g;for(a=0;a<c;++a)(u=t[a])&&(f[a]=g=s.call(u,u.__data__,a,t)+"",d.has(g)?i[a]=u:d.set(g,u));for(a=0;a<h;++a)g=s.call(e,o[a],a,o)+"",(u=d.get(g))?(r[a]=u,u.__data__=o[a],d.delete(g)):n[a]=new Zo(e,o[a]);for(a=0;a<c;++a)(u=t[a])&&d.get(f[a])===u&&(i[a]=u)}function Wg(e){return e.__data__}function Yg(e,t){if(!arguments.length)return Array.from(this,Wg);var n=t?Bg:Kg,r=this._parents,i=this._groups;typeof e!="function"&&(e=Hg(e));for(var o=i.length,s=new Array(o),a=new Array(o),u=new Array(o),d=0;d<o;++d){var c=r[d],h=i[d],f=h.length,g=Xg(e.call(c,c&&c.__data__,d,r)),p=g.length,b=a[d]=new Array(p),y=s[d]=new Array(p),k=u[d]=new Array(f);n(c,h,b,y,k,g,t);for(var w=0,S=0,m,A;w<p;++w)if(m=b[w]){for(w>=S&&(S=w+1);!(A=y[S])&&++S<p;);m._next=A||null}}return s=new Yt(s,r),s._enter=a,s._exit=u,s}function Xg(e){return typeof e=="object"&&"length"in e?e:Array.from(e)}function jg(){return new Yt(this._exit||this._groups.map(rd),this._parents)}function Gg(e,t,n){var r=this.enter(),i=this,o=this.exit();return typeof e=="function"?(r=e(r),r&&(r=r.selection())):r=r.append(e+""),t!=null&&(i=t(i),i&&(i=i.selection())),n==null?o.remove():n(o),r&&i?r.merge(i).order():i}function Ug(e){for(var t=e.selection?e.selection():e,n=this._groups,r=t._groups,i=n.length,o=r.length,s=Math.min(i,o),a=new Array(i),u=0;u<s;++u)for(var d=n[u],c=r[u],h=d.length,f=a[u]=new Array(h),g,p=0;p<h;++p)(g=d[p]||c[p])&&(f[p]=g);for(;u<i;++u)a[u]=n[u];return new Yt(a,this._parents)}function qg(){for(var e=this._groups,t=-1,n=e.length;++t<n;)for(var r=e[t],i=r.length-1,o=r[i],s;--i>=0;)(s=r[i])&&(o&&s.compareDocumentPosition(o)^4&&o.parentNode.insertBefore(s,o),o=s);return this}function Zg(e){e||(e=Qg);function t(h,f){return h&&f?e(h.__data__,f.__data__):!h-!f}for(var n=this._groups,r=n.length,i=new Array(r),o=0;o<r;++o){for(var s=n[o],a=s.length,u=i[o]=new Array(a),d,c=0;c<a;++c)(d=s[c])&&(u[c]=d);u.sort(t)}return new Yt(i,this._parents).order()}function Qg(e,t){return e<t?-1:e>t?1:e>=t?0:NaN}function Jg(){var e=arguments[0];return arguments[0]=this,e.apply(null,arguments),this}function $g(){return Array.from(this)}function ev(){for(var e=this._groups,t=0,n=e.length;t<n;++t)for(var r=e[t],i=0,o=r.length;i<o;++i){var s=r[i];if(s)return s}return null}function tv(){let e=0;for(const t of this)++e;return e}function nv(){return!this.node()}function rv(e){for(var t=this._groups,n=0,r=t.length;n<r;++n)for(var i=t[n],o=0,s=i.length,a;o<s;++o)(a=i[o])&&e.call(a,a.__data__,o,i);return this}function iv(e){return function(){this.removeAttribute(e)}}function ov(e){return function(){this.removeAttributeNS(e.space,e.local)}}function sv(e,t){return function(){this.setAttribute(e,t)}}function av(e,t){return function(){this.setAttributeNS(e.space,e.local,t)}}function lv(e,t){return function(){var n=t.apply(this,arguments);n==null?this.removeAttribute(e):this.setAttribute(e,n)}}function uv(e,t){return function(){var n=t.apply(this,arguments);n==null?this.removeAttributeNS(e.space,e.local):this.setAttributeNS(e.space,e.local,n)}}function cv(e,t){var n=Is(e);if(arguments.length<2){var r=this.node();return n.local?r.getAttributeNS(n.space,n.local):r.getAttribute(n)}return this.each((t==null?n.local?ov:iv:typeof t=="function"?n.local?uv:lv:n.local?av:sv)(n,t))}function id(e){return e.ownerDocument&&e.ownerDocument.defaultView||e.document&&e||e.defaultView}function dv(e){return function(){this.style.removeProperty(e)}}function fv(e,t,n){return function(){this.style.setProperty(e,t,n)}}function hv(e,t,n){return function(){var r=t.apply(this,arguments);r==null?this.style.removeProperty(e):this.style.setProperty(e,r,n)}}function gv(e,t,n){return arguments.length>1?this.each((t==null?dv:typeof t=="function"?hv:fv)(e,t,n??"")):mi(this.node(),e)}function mi(e,t){return e.style.getPropertyValue(t)||id(e).getComputedStyle(e,null).getPropertyValue(t)}function vv(e){return function(){delete this[e]}}function pv(e,t){return function(){this[e]=t}}function mv(e,t){return function(){var n=t.apply(this,arguments);n==null?delete this[e]:this[e]=n}}function yv(e,t){return arguments.length>1?this.each((t==null?vv:typeof t=="function"?mv:pv)(e,t)):this.node()[e]}function od(e){return e.trim().split(/^|\s+/)}function al(e){return e.classList||new sd(e)}function sd(e){this._node=e,this._names=od(e.getAttribute("class")||"")}sd.prototype={add:function(e){var t=this._names.indexOf(e);t<0&&(this._names.push(e),this._node.setAttribute("class",this._names.join(" ")))},remove:function(e){var t=this._names.indexOf(e);t>=0&&(this._names.splice(t,1),this._node.setAttribute("class",this._names.join(" ")))},contains:function(e){return this._names.indexOf(e)>=0}};function ad(e,t){for(var n=al(e),r=-1,i=t.length;++r<i;)n.add(t[r])}function ld(e,t){for(var n=al(e),r=-1,i=t.length;++r<i;)n.remove(t[r])}function bv(e){return function(){ad(this,e)}}function _v(e){return function(){ld(this,e)}}function wv(e,t){return function(){(t.apply(this,arguments)?ad:ld)(this,e)}}function xv(e,t){var n=od(e+"");if(arguments.length<2){for(var r=al(this.node()),i=-1,o=n.length;++i<o;)if(!r.contains(n[i]))return!1;return!0}return this.each((typeof t=="function"?wv:t?bv:_v)(n,t))}function Ev(){this.textContent=""}function Nv(e){return function(){this.textContent=e}}function kv(e){return function(){var t=e.apply(this,arguments);this.textContent=t??""}}function Sv(e){return arguments.length?this.each(e==null?Ev:(typeof e=="function"?kv:Nv)(e)):this.node().textContent}function Iv(){this.innerHTML=""}function Tv(e){return function(){this.innerHTML=e}}function Ov(e){return function(){var t=e.apply(this,arguments);this.innerHTML=t??""}}function Cv(e){return arguments.length?this.each(e==null?Iv:(typeof e=="function"?Ov:Tv)(e)):this.node().innerHTML}function Pv(){this.nextSibling&&this.parentNode.appendChild(this)}function Av(){return this.each(Pv)}function Mv(){this.previousSibling&&this.parentNode.insertBefore(this,this.parentNode.firstChild)}function Dv(){return this.each(Mv)}function Rv(e){var t=typeof e=="function"?e:$c(e);return this.select(function(){return this.appendChild(t.apply(this,arguments))})}function zv(){return null}function Lv(e,t){var n=typeof e=="function"?e:$c(e),r=t==null?zv:typeof t=="function"?t:sl(t);return this.select(function(){return this.insertBefore(n.apply(this,arguments),r.apply(this,arguments)||null)})}function Vv(){var e=this.parentNode;e&&e.removeChild(this)}function Fv(){return this.each(Vv)}function Hv(){var e=this.cloneNode(!1),t=this.parentNode;return t?t.insertBefore(e,this.nextSibling):e}function Kv(){var e=this.cloneNode(!0),t=this.parentNode;return t?t.insertBefore(e,this.nextSibling):e}function Bv(e){return this.select(e?Kv:Hv)}function Wv(e){return arguments.length?this.property("__data__",e):this.node().__data__}function Yv(e){return function(t){e.call(this,t,this.__data__)}}function Xv(e){return e.trim().split(/^|\s+/).map(function(t){var n="",r=t.indexOf(".");return r>=0&&(n=t.slice(r+1),t=t.slice(0,r)),{type:t,name:n}})}function jv(e){return function(){var t=this.__on;if(t){for(var n=0,r=-1,i=t.length,o;n<i;++n)o=t[n],(!e.type||o.type===e.type)&&o.name===e.name?this.removeEventListener(o.type,o.listener,o.options):t[++r]=o;++r?t.length=r:delete this.__on}}}function Gv(e,t,n){return function(){var r=this.__on,i,o=Yv(t);if(r){for(var s=0,a=r.length;s<a;++s)if((i=r[s]).type===e.type&&i.name===e.name){this.removeEventListener(i.type,i.listener,i.options),this.addEventListener(i.type,i.listener=o,i.options=n),i.value=t;return}}this.addEventListener(e.type,o,n),i={type:e.type,name:e.name,value:t,listener:o,options:n},r?r.push(i):this.__on=[i]}}function Uv(e,t,n){var r=Xv(e+""),i,o=r.length,s;if(arguments.length<2){var a=this.node().__on;if(a){for(var u=0,d=a.length,c;u<d;++u)for(i=0,c=a[u];i<o;++i)if((s=r[i]).type===c.type&&s.name===c.name)return c.value}return}for(a=t?Gv:jv,i=0;i<o;++i)this.each(a(r[i],t,n));return this}function ud(e,t,n){var r=id(e),i=r.CustomEvent;typeof i=="function"?i=new i(t,n):(i=r.document.createEvent("Event"),n?(i.initEvent(t,n.bubbles,n.cancelable),i.detail=n.detail):i.initEvent(t,!1,!1)),e.dispatchEvent(i)}function qv(e,t){return function(){return ud(this,e,t)}}function Zv(e,t){return function(){return ud(this,e,t.apply(this,arguments))}}function Qv(e,t){return this.each((typeof t=="function"?Zv:qv)(e,t))}function*Jv(){for(var e=this._groups,t=0,n=e.length;t<n;++t)for(var r=e[t],i=0,o=r.length,s;i<o;++i)(s=r[i])&&(yield s)}var cd=[null];function Yt(e,t){this._groups=e,this._parents=t}function bo(){return new Yt([[document.documentElement]],cd)}function $v(){return this}Yt.prototype=bo.prototype={constructor:Yt,select:kg,selectAll:Og,selectChild:Mg,selectChildren:Lg,filter:Vg,data:Yg,enter:Fg,exit:jg,join:Gg,merge:Ug,selection:$v,order:qg,sort:Zg,call:Jg,nodes:$g,node:ev,size:tv,empty:nv,each:rv,attr:cv,style:gv,property:yv,classed:xv,text:Sv,html:Cv,raise:Av,lower:Dv,append:Rv,insert:Lv,remove:Fv,clone:Bv,datum:Wv,on:Uv,dispatch:Qv,[Symbol.iterator]:Jv};function Qt(e){return typeof e=="string"?new Yt([[document.querySelector(e)]],[document.documentElement]):new Yt([[e]],cd)}function ep(e){let t;for(;t=e.sourceEvent;)e=t;return e}function En(e,t){if(e=ep(e),t===void 0&&(t=e.currentTarget),t){var n=t.ownerSVGElement||t;if(n.createSVGPoint){var r=n.createSVGPoint();return r.x=e.clientX,r.y=e.clientY,r=r.matrixTransform(t.getScreenCTM().inverse()),[r.x,r.y]}if(t.getBoundingClientRect){var i=t.getBoundingClientRect();return[e.clientX-i.left-t.clientLeft,e.clientY-i.top-t.clientTop]}}return[e.pageX,e.pageY]}const tp={passive:!1},Gi={capture:!0,passive:!1};function qs(e){e.stopImmediatePropagation()}function ti(e){e.preventDefault(),e.stopImmediatePropagation()}function dd(e){var t=e.document.documentElement,n=Qt(e).on("dragstart.drag",ti,Gi);"onselectstart"in t?n.on("selectstart.drag",ti,Gi):(t.__noselect=t.style.MozUserSelect,t.style.MozUserSelect="none")}function fd(e,t){var n=e.document.documentElement,r=Qt(e).on("dragstart.drag",null);t&&(r.on("click.drag",ti,Gi),setTimeout(function(){r.on("click.drag",null)},0)),"onselectstart"in n?r.on("selectstart.drag",null):(n.style.MozUserSelect=n.__noselect,delete n.__noselect)}const Ao=e=>()=>e;function Ia(e,{sourceEvent:t,subject:n,target:r,identifier:i,active:o,x:s,y:a,dx:u,dy:d,dispatch:c}){Object.defineProperties(this,{type:{value:e,enumerable:!0,configurable:!0},sourceEvent:{value:t,enumerable:!0,configurable:!0},subject:{value:n,enumerable:!0,configurable:!0},target:{value:r,enumerable:!0,configurable:!0},identifier:{value:i,enumerable:!0,configurable:!0},active:{value:o,enumerable:!0,configurable:!0},x:{value:s,enumerable:!0,configurable:!0},y:{value:a,enumerable:!0,configurable:!0},dx:{value:u,enumerable:!0,configurable:!0},dy:{value:d,enumerable:!0,configurable:!0},_:{value:c}})}Ia.prototype.on=function(){var e=this._.on.apply(this._,arguments);return e===this._?this:e};function np(e){return!e.ctrlKey&&!e.button}function rp(){return this.parentNode}function ip(e,t){return t??{x:e.x,y:e.y}}function op(){return navigator.maxTouchPoints||"ontouchstart"in this}function hd(){var e=np,t=rp,n=ip,r=op,i={},o=Ss("start","drag","end"),s=0,a,u,d,c,h=0;function f(m){m.on("mousedown.drag",g).filter(r).on("touchstart.drag",y).on("touchmove.drag",k,tp).on("touchend.drag touchcancel.drag",w).style("touch-action","none").style("-webkit-tap-highlight-color","rgba(0,0,0,0)")}function g(m,A){if(!(c||!e.call(this,m,A))){var T=S(this,t.call(this,m,A),m,A,"mouse");T&&(Qt(m.view).on("mousemove.drag",p,Gi).on("mouseup.drag",b,Gi),dd(m.view),qs(m),d=!1,a=m.clientX,u=m.clientY,T("start",m))}}function p(m){if(ti(m),!d){var A=m.clientX-a,T=m.clientY-u;d=A*A+T*T>h}i.mouse("drag",m)}function b(m){Qt(m.view).on("mousemove.drag mouseup.drag",null),fd(m.view,d),ti(m),i.mouse("end",m)}function y(m,A){if(e.call(this,m,A)){var T=m.changedTouches,M=t.call(this,m,A),x=T.length,V,D;for(V=0;V<x;++V)(D=S(this,M,m,A,T[V].identifier,T[V]))&&(qs(m),D("start",m,T[V]))}}function k(m){var A=m.changedTouches,T=A.length,M,x;for(M=0;M<T;++M)(x=i[A[M].identifier])&&(ti(m),x("drag",m,A[M]))}function w(m){var A=m.changedTouches,T=A.length,M,x;for(c&&clearTimeout(c),c=setTimeout(function(){c=null},500),M=0;M<T;++M)(x=i[A[M].identifier])&&(qs(m),x("end",m,A[M]))}function S(m,A,T,M,x,V){var D=o.copy(),N=En(V||T,A),_,E,v;if((v=n.call(m,new Ia("beforestart",{sourceEvent:T,target:f,identifier:x,active:s,x:N[0],y:N[1],dx:0,dy:0,dispatch:D}),M))!=null)return _=v.x-N[0]||0,E=v.y-N[1]||0,function I(C,P,F){var H=N,W;switch(C){case"start":i[x]=I,W=s++;break;case"end":delete i[x],--s;case"drag":N=En(F||P,A),W=s;break}D.call(C,m,new Ia(C,{sourceEvent:P,subject:v,target:f,identifier:x,active:W,x:N[0]+_,y:N[1]+E,dx:N[0]-H[0],dy:N[1]-H[1],dispatch:D}),M)}}return f.filter=function(m){return arguments.length?(e=typeof m=="function"?m:Ao(!!m),f):e},f.container=function(m){return arguments.length?(t=typeof m=="function"?m:Ao(m),f):t},f.subject=function(m){return arguments.length?(n=typeof m=="function"?m:Ao(m),f):n},f.touchable=function(m){return arguments.length?(r=typeof m=="function"?m:Ao(!!m),f):r},f.on=function(){var m=o.on.apply(o,arguments);return m===o?f:m},f.clickDistance=function(m){return arguments.length?(h=(m=+m)*m,f):Math.sqrt(h)},f}function ll(e,t,n){e.prototype=t.prototype=n,n.constructor=e}function gd(e,t){var n=Object.create(e.prototype);for(var r in t)n[r]=t[r];return n}function _o(){}var Ui=.7,Qo=1/Ui,ni="\\s*([+-]?\\d+)\\s*",qi="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)\\s*",An="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*",sp=/^#([0-9a-f]{3,8})$/,ap=new RegExp(`^rgb\\(${ni},${ni},${ni}\\)$`),lp=new RegExp(`^rgb\\(${An},${An},${An}\\)$`),up=new RegExp(`^rgba\\(${ni},${ni},${ni},${qi}\\)$`),cp=new RegExp(`^rgba\\(${An},${An},${An},${qi}\\)$`),dp=new RegExp(`^hsl\\(${qi},${An},${An}\\)$`),fp=new RegExp(`^hsla\\(${qi},${An},${An},${qi}\\)$`),$l={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};ll(_o,Vr,{copy(e){return Object.assign(new this.constructor,this,e)},displayable(){return this.rgb().displayable()},hex:eu,formatHex:eu,formatHex8:hp,formatHsl:gp,formatRgb:tu,toString:tu});function eu(){return this.rgb().formatHex()}function hp(){return this.rgb().formatHex8()}function gp(){return vd(this).formatHsl()}function tu(){return this.rgb().formatRgb()}function Vr(e){var t,n;return e=(e+"").trim().toLowerCase(),(t=sp.exec(e))?(n=t[1].length,t=parseInt(t[1],16),n===6?nu(t):n===3?new Vt(t>>8&15|t>>4&240,t>>4&15|t&240,(t&15)<<4|t&15,1):n===8?Mo(t>>24&255,t>>16&255,t>>8&255,(t&255)/255):n===4?Mo(t>>12&15|t>>8&240,t>>8&15|t>>4&240,t>>4&15|t&240,((t&15)<<4|t&15)/255):null):(t=ap.exec(e))?new Vt(t[1],t[2],t[3],1):(t=lp.exec(e))?new Vt(t[1]*255/100,t[2]*255/100,t[3]*255/100,1):(t=up.exec(e))?Mo(t[1],t[2],t[3],t[4]):(t=cp.exec(e))?Mo(t[1]*255/100,t[2]*255/100,t[3]*255/100,t[4]):(t=dp.exec(e))?ou(t[1],t[2]/100,t[3]/100,1):(t=fp.exec(e))?ou(t[1],t[2]/100,t[3]/100,t[4]):$l.hasOwnProperty(e)?nu($l[e]):e==="transparent"?new Vt(NaN,NaN,NaN,0):null}function nu(e){return new Vt(e>>16&255,e>>8&255,e&255,1)}function Mo(e,t,n,r){return r<=0&&(e=t=n=NaN),new Vt(e,t,n,r)}function vp(e){return e instanceof _o||(e=Vr(e)),e?(e=e.rgb(),new Vt(e.r,e.g,e.b,e.opacity)):new Vt}function Ta(e,t,n,r){return arguments.length===1?vp(e):new Vt(e,t,n,r??1)}function Vt(e,t,n,r){this.r=+e,this.g=+t,this.b=+n,this.opacity=+r}ll(Vt,Ta,gd(_o,{brighter(e){return e=e==null?Qo:Math.pow(Qo,e),new Vt(this.r*e,this.g*e,this.b*e,this.opacity)},darker(e){return e=e==null?Ui:Math.pow(Ui,e),new Vt(this.r*e,this.g*e,this.b*e,this.opacity)},rgb(){return this},clamp(){return new Vt(Mr(this.r),Mr(this.g),Mr(this.b),Jo(this.opacity))},displayable(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:ru,formatHex:ru,formatHex8:pp,formatRgb:iu,toString:iu}));function ru(){return`#${Nr(this.r)}${Nr(this.g)}${Nr(this.b)}`}function pp(){return`#${Nr(this.r)}${Nr(this.g)}${Nr(this.b)}${Nr((isNaN(this.opacity)?1:this.opacity)*255)}`}function iu(){const e=Jo(this.opacity);return`${e===1?"rgb(":"rgba("}${Mr(this.r)}, ${Mr(this.g)}, ${Mr(this.b)}${e===1?")":`, ${e})`}`}function Jo(e){return isNaN(e)?1:Math.max(0,Math.min(1,e))}function Mr(e){return Math.max(0,Math.min(255,Math.round(e)||0))}function Nr(e){return e=Mr(e),(e<16?"0":"")+e.toString(16)}function ou(e,t,n,r){return r<=0?e=t=n=NaN:n<=0||n>=1?e=t=NaN:t<=0&&(e=NaN),new dn(e,t,n,r)}function vd(e){if(e instanceof dn)return new dn(e.h,e.s,e.l,e.opacity);if(e instanceof _o||(e=Vr(e)),!e)return new dn;if(e instanceof dn)return e;e=e.rgb();var t=e.r/255,n=e.g/255,r=e.b/255,i=Math.min(t,n,r),o=Math.max(t,n,r),s=NaN,a=o-i,u=(o+i)/2;return a?(t===o?s=(n-r)/a+(n<r)*6:n===o?s=(r-t)/a+2:s=(t-n)/a+4,a/=u<.5?o+i:2-o-i,s*=60):a=u>0&&u<1?0:s,new dn(s,a,u,e.opacity)}function mp(e,t,n,r){return arguments.length===1?vd(e):new dn(e,t,n,r??1)}function dn(e,t,n,r){this.h=+e,this.s=+t,this.l=+n,this.opacity=+r}ll(dn,mp,gd(_o,{brighter(e){return e=e==null?Qo:Math.pow(Qo,e),new dn(this.h,this.s,this.l*e,this.opacity)},darker(e){return e=e==null?Ui:Math.pow(Ui,e),new dn(this.h,this.s,this.l*e,this.opacity)},rgb(){var e=this.h%360+(this.h<0)*360,t=isNaN(e)||isNaN(this.s)?0:this.s,n=this.l,r=n+(n<.5?n:1-n)*t,i=2*n-r;return new Vt(Zs(e>=240?e-240:e+120,i,r),Zs(e,i,r),Zs(e<120?e+240:e-120,i,r),this.opacity)},clamp(){return new dn(su(this.h),Do(this.s),Do(this.l),Jo(this.opacity))},displayable(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl(){const e=Jo(this.opacity);return`${e===1?"hsl(":"hsla("}${su(this.h)}, ${Do(this.s)*100}%, ${Do(this.l)*100}%${e===1?")":`, ${e})`}`}}));function su(e){return e=(e||0)%360,e<0?e+360:e}function Do(e){return Math.max(0,Math.min(1,e||0))}function Zs(e,t,n){return(e<60?t+(n-t)*e/60:e<180?n:e<240?t+(n-t)*(240-e)/60:t)*255}const ul=e=>()=>e;function yp(e,t){return function(n){return e+n*t}}function bp(e,t,n){return e=Math.pow(e,n),t=Math.pow(t,n)-e,n=1/n,function(r){return Math.pow(e+r*t,n)}}function _p(e){return(e=+e)==1?pd:function(t,n){return n-t?bp(t,n,e):ul(isNaN(t)?n:t)}}function pd(e,t){var n=t-e;return n?yp(e,n):ul(isNaN(e)?t:e)}const $o=function e(t){var n=_p(t);function r(i,o){var s=n((i=Ta(i)).r,(o=Ta(o)).r),a=n(i.g,o.g),u=n(i.b,o.b),d=pd(i.opacity,o.opacity);return function(c){return i.r=s(c),i.g=a(c),i.b=u(c),i.opacity=d(c),i+""}}return r.gamma=e,r}(1);function wp(e,t){t||(t=[]);var n=e?Math.min(t.length,e.length):0,r=t.slice(),i;return function(o){for(i=0;i<n;++i)r[i]=e[i]*(1-o)+t[i]*o;return r}}function xp(e){return ArrayBuffer.isView(e)&&!(e instanceof DataView)}function Ep(e,t){var n=t?t.length:0,r=e?Math.min(n,e.length):0,i=new Array(r),o=new Array(n),s;for(s=0;s<r;++s)i[s]=Wi(e[s],t[s]);for(;s<n;++s)o[s]=t[s];return function(a){for(s=0;s<r;++s)o[s]=i[s](a);return o}}function Np(e,t){var n=new Date;return e=+e,t=+t,function(r){return n.setTime(e*(1-r)+t*r),n}}function Tn(e,t){return e=+e,t=+t,function(n){return e*(1-n)+t*n}}function kp(e,t){var n={},r={},i;(e===null||typeof e!="object")&&(e={}),(t===null||typeof t!="object")&&(t={});for(i in t)i in e?n[i]=Wi(e[i],t[i]):r[i]=t[i];return function(o){for(i in n)r[i]=n[i](o);return r}}var Oa=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,Qs=new RegExp(Oa.source,"g");function Sp(e){return function(){return e}}function Ip(e){return function(t){return e(t)+""}}function md(e,t){var n=Oa.lastIndex=Qs.lastIndex=0,r,i,o,s=-1,a=[],u=[];for(e=e+"",t=t+"";(r=Oa.exec(e))&&(i=Qs.exec(t));)(o=i.index)>n&&(o=t.slice(n,o),a[s]?a[s]+=o:a[++s]=o),(r=r[0])===(i=i[0])?a[s]?a[s]+=i:a[++s]=i:(a[++s]=null,u.push({i:s,x:Tn(r,i)})),n=Qs.lastIndex;return n<t.length&&(o=t.slice(n),a[s]?a[s]+=o:a[++s]=o),a.length<2?u[0]?Ip(u[0].x):Sp(t):(t=u.length,function(d){for(var c=0,h;c<t;++c)a[(h=u[c]).i]=h.x(d);return a.join("")})}function Wi(e,t){var n=typeof t,r;return t==null||n==="boolean"?ul(t):(n==="number"?Tn:n==="string"?(r=Vr(t))?(t=r,$o):md:t instanceof Vr?$o:t instanceof Date?Np:xp(t)?wp:Array.isArray(t)?Ep:typeof t.valueOf!="function"&&typeof t.toString!="function"||isNaN(t)?kp:Tn)(e,t)}var au=180/Math.PI,Ca={translateX:0,translateY:0,rotate:0,skewX:0,scaleX:1,scaleY:1};function yd(e,t,n,r,i,o){var s,a,u;return(s=Math.sqrt(e*e+t*t))&&(e/=s,t/=s),(u=e*n+t*r)&&(n-=e*u,r-=t*u),(a=Math.sqrt(n*n+r*r))&&(n/=a,r/=a,u/=a),e*r<t*n&&(e=-e,t=-t,u=-u,s=-s),{translateX:i,translateY:o,rotate:Math.atan2(t,e)*au,skewX:Math.atan(u)*au,scaleX:s,scaleY:a}}var Ro;function Tp(e){const t=new(typeof DOMMatrix=="function"?DOMMatrix:WebKitCSSMatrix)(e+"");return t.isIdentity?Ca:yd(t.a,t.b,t.c,t.d,t.e,t.f)}function Op(e){return e==null||(Ro||(Ro=document.createElementNS("http://www.w3.org/2000/svg","g")),Ro.setAttribute("transform",e),!(e=Ro.transform.baseVal.consolidate()))?Ca:(e=e.matrix,yd(e.a,e.b,e.c,e.d,e.e,e.f))}function bd(e,t,n,r){function i(d){return d.length?d.pop()+" ":""}function o(d,c,h,f,g,p){if(d!==h||c!==f){var b=g.push("translate(",null,t,null,n);p.push({i:b-4,x:Tn(d,h)},{i:b-2,x:Tn(c,f)})}else(h||f)&&g.push("translate("+h+t+f+n)}function s(d,c,h,f){d!==c?(d-c>180?c+=360:c-d>180&&(d+=360),f.push({i:h.push(i(h)+"rotate(",null,r)-2,x:Tn(d,c)})):c&&h.push(i(h)+"rotate("+c+r)}function a(d,c,h,f){d!==c?f.push({i:h.push(i(h)+"skewX(",null,r)-2,x:Tn(d,c)}):c&&h.push(i(h)+"skewX("+c+r)}function u(d,c,h,f,g,p){if(d!==h||c!==f){var b=g.push(i(g)+"scale(",null,",",null,")");p.push({i:b-4,x:Tn(d,h)},{i:b-2,x:Tn(c,f)})}else(h!==1||f!==1)&&g.push(i(g)+"scale("+h+","+f+")")}return function(d,c){var h=[],f=[];return d=e(d),c=e(c),o(d.translateX,d.translateY,c.translateX,c.translateY,h,f),s(d.rotate,c.rotate,h,f),a(d.skewX,c.skewX,h,f),u(d.scaleX,d.scaleY,c.scaleX,c.scaleY,h,f),d=c=null,function(g){for(var p=-1,b=f.length,y;++p<b;)h[(y=f[p]).i]=y.x(g);return h.join("")}}}var Cp=bd(Tp,"px, ","px)","deg)"),Pp=bd(Op,", ",")",")"),Ap=1e-12;function lu(e){return((e=Math.exp(e))+1/e)/2}function Mp(e){return((e=Math.exp(e))-1/e)/2}function Dp(e){return((e=Math.exp(2*e))-1)/(e+1)}const Xo=function e(t,n,r){function i(o,s){var a=o[0],u=o[1],d=o[2],c=s[0],h=s[1],f=s[2],g=c-a,p=h-u,b=g*g+p*p,y,k;if(b<Ap)k=Math.log(f/d)/t,y=function(M){return[a+M*g,u+M*p,d*Math.exp(t*M*k)]};else{var w=Math.sqrt(b),S=(f*f-d*d+r*b)/(2*d*n*w),m=(f*f-d*d-r*b)/(2*f*n*w),A=Math.log(Math.sqrt(S*S+1)-S),T=Math.log(Math.sqrt(m*m+1)-m);k=(T-A)/t,y=function(M){var x=M*k,V=lu(A),D=d/(n*w)*(V*Dp(t*x+A)-Mp(A));return[a+D*g,u+D*p,d*V/lu(t*x+A)]}}return y.duration=k*1e3*t/Math.SQRT2,y}return i.rho=function(o){var s=Math.max(.001,+o),a=s*s,u=a*a;return e(s,a,u)},i}(Math.SQRT2,2,4);var yi=0,Vi=0,Ri=0,_d=1e3,es,Fi,ts=0,Fr=0,Ts=0,Zi=typeof performance=="object"&&performance.now?performance:Date,wd=typeof window=="object"&&window.requestAnimationFrame?window.requestAnimationFrame.bind(window):function(e){setTimeout(e,17)};function cl(){return Fr||(wd(Rp),Fr=Zi.now()+Ts)}function Rp(){Fr=0}function ns(){this._call=this._time=this._next=null}ns.prototype=xd.prototype={constructor:ns,restart:function(e,t,n){if(typeof e!="function")throw new TypeError("callback is not a function");n=(n==null?cl():+n)+(t==null?0:+t),!this._next&&Fi!==this&&(Fi?Fi._next=this:es=this,Fi=this),this._call=e,this._time=n,Pa()},stop:function(){this._call&&(this._call=null,this._time=1/0,Pa())}};function xd(e,t,n){var r=new ns;return r.restart(e,t,n),r}function zp(){cl(),++yi;for(var e=es,t;e;)(t=Fr-e._time)>=0&&e._call.call(void 0,t),e=e._next;--yi}function uu(){Fr=(ts=Zi.now())+Ts,yi=Vi=0;try{zp()}finally{yi=0,Vp(),Fr=0}}function Lp(){var e=Zi.now(),t=e-ts;t>_d&&(Ts-=t,ts=e)}function Vp(){for(var e,t=es,n,r=1/0;t;)t._call?(r>t._time&&(r=t._time),e=t,t=t._next):(n=t._next,t._next=null,t=e?e._next=n:es=n);Fi=e,Pa(r)}function Pa(e){if(!yi){Vi&&(Vi=clearTimeout(Vi));var t=e-Fr;t>24?(e<1/0&&(Vi=setTimeout(uu,e-Zi.now()-Ts)),Ri&&(Ri=clearInterval(Ri))):(Ri||(ts=Zi.now(),Ri=setInterval(Lp,_d)),yi=1,wd(uu))}}function cu(e,t,n){var r=new ns;return t=t==null?0:+t,r.restart(i=>{r.stop(),e(i+t)},t,n),r}var Fp=Ss("start","end","cancel","interrupt"),Hp=[],Ed=0,du=1,Aa=2,jo=3,fu=4,Ma=5,Go=6;function Os(e,t,n,r,i,o){var s=e.__transition;if(!s)e.__transition={};else if(n in s)return;Kp(e,n,{name:t,index:r,group:i,on:Fp,tween:Hp,time:o.time,delay:o.delay,duration:o.duration,ease:o.ease,timer:null,state:Ed})}function dl(e,t){var n=yn(e,t);if(n.state>Ed)throw new Error("too late; already scheduled");return n}function Ln(e,t){var n=yn(e,t);if(n.state>jo)throw new Error("too late; already running");return n}function yn(e,t){var n=e.__transition;if(!n||!(n=n[t]))throw new Error("transition not found");return n}function Kp(e,t,n){var r=e.__transition,i;r[t]=n,n.timer=xd(o,0,n.time);function o(d){n.state=du,n.timer.restart(s,n.delay,n.time),n.delay<=d&&s(d-n.delay)}function s(d){var c,h,f,g;if(n.state!==du)return u();for(c in r)if(g=r[c],g.name===n.name){if(g.state===jo)return cu(s);g.state===fu?(g.state=Go,g.timer.stop(),g.on.call("interrupt",e,e.__data__,g.index,g.group),delete r[c]):+c<t&&(g.state=Go,g.timer.stop(),g.on.call("cancel",e,e.__data__,g.index,g.group),delete r[c])}if(cu(function(){n.state===jo&&(n.state=fu,n.timer.restart(a,n.delay,n.time),a(d))}),n.state=Aa,n.on.call("start",e,e.__data__,n.index,n.group),n.state===Aa){for(n.state=jo,i=new Array(f=n.tween.length),c=0,h=-1;c<f;++c)(g=n.tween[c].value.call(e,e.__data__,n.index,n.group))&&(i[++h]=g);i.length=h+1}}function a(d){for(var c=d<n.duration?n.ease.call(null,d/n.duration):(n.timer.restart(u),n.state=Ma,1),h=-1,f=i.length;++h<f;)i[h].call(e,c);n.state===Ma&&(n.on.call("end",e,e.__data__,n.index,n.group),u())}function u(){n.state=Go,n.timer.stop(),delete r[t];for(var d in r)return;delete e.__transition}}function Uo(e,t){var n=e.__transition,r,i,o=!0,s;if(n){t=t==null?null:t+"";for(s in n){if((r=n[s]).name!==t){o=!1;continue}i=r.state>Aa&&r.state<Ma,r.state=Go,r.timer.stop(),r.on.call(i?"interrupt":"cancel",e,e.__data__,r.index,r.group),delete n[s]}o&&delete e.__transition}}function Bp(e){return this.each(function(){Uo(this,e)})}function Wp(e,t){var n,r;return function(){var i=Ln(this,e),o=i.tween;if(o!==n){r=n=o;for(var s=0,a=r.length;s<a;++s)if(r[s].name===t){r=r.slice(),r.splice(s,1);break}}i.tween=r}}function Yp(e,t,n){var r,i;if(typeof n!="function")throw new Error;return function(){var o=Ln(this,e),s=o.tween;if(s!==r){i=(r=s).slice();for(var a={name:t,value:n},u=0,d=i.length;u<d;++u)if(i[u].name===t){i[u]=a;break}u===d&&i.push(a)}o.tween=i}}function Xp(e,t){var n=this._id;if(e+="",arguments.length<2){for(var r=yn(this.node(),n).tween,i=0,o=r.length,s;i<o;++i)if((s=r[i]).name===e)return s.value;return null}return this.each((t==null?Wp:Yp)(n,e,t))}function fl(e,t,n){var r=e._id;return e.each(function(){var i=Ln(this,r);(i.value||(i.value={}))[t]=n.apply(this,arguments)}),function(i){return yn(i,r).value[t]}}function Nd(e,t){var n;return(typeof t=="number"?Tn:t instanceof Vr?$o:(n=Vr(t))?(t=n,$o):md)(e,t)}function jp(e){return function(){this.removeAttribute(e)}}function Gp(e){return function(){this.removeAttributeNS(e.space,e.local)}}function Up(e,t,n){var r,i=n+"",o;return function(){var s=this.getAttribute(e);return s===i?null:s===r?o:o=t(r=s,n)}}function qp(e,t,n){var r,i=n+"",o;return function(){var s=this.getAttributeNS(e.space,e.local);return s===i?null:s===r?o:o=t(r=s,n)}}function Zp(e,t,n){var r,i,o;return function(){var s,a=n(this),u;return a==null?void this.removeAttribute(e):(s=this.getAttribute(e),u=a+"",s===u?null:s===r&&u===i?o:(i=u,o=t(r=s,a)))}}function Qp(e,t,n){var r,i,o;return function(){var s,a=n(this),u;return a==null?void this.removeAttributeNS(e.space,e.local):(s=this.getAttributeNS(e.space,e.local),u=a+"",s===u?null:s===r&&u===i?o:(i=u,o=t(r=s,a)))}}function Jp(e,t){var n=Is(e),r=n==="transform"?Pp:Nd;return this.attrTween(e,typeof t=="function"?(n.local?Qp:Zp)(n,r,fl(this,"attr."+e,t)):t==null?(n.local?Gp:jp)(n):(n.local?qp:Up)(n,r,t))}function $p(e,t){return function(n){this.setAttribute(e,t.call(this,n))}}function em(e,t){return function(n){this.setAttributeNS(e.space,e.local,t.call(this,n))}}function tm(e,t){var n,r;function i(){var o=t.apply(this,arguments);return o!==r&&(n=(r=o)&&em(e,o)),n}return i._value=t,i}function nm(e,t){var n,r;function i(){var o=t.apply(this,arguments);return o!==r&&(n=(r=o)&&$p(e,o)),n}return i._value=t,i}function rm(e,t){var n="attr."+e;if(arguments.length<2)return(n=this.tween(n))&&n._value;if(t==null)return this.tween(n,null);if(typeof t!="function")throw new Error;var r=Is(e);return this.tween(n,(r.local?tm:nm)(r,t))}function im(e,t){return function(){dl(this,e).delay=+t.apply(this,arguments)}}function om(e,t){return t=+t,function(){dl(this,e).delay=t}}function sm(e){var t=this._id;return arguments.length?this.each((typeof e=="function"?im:om)(t,e)):yn(this.node(),t).delay}function am(e,t){return function(){Ln(this,e).duration=+t.apply(this,arguments)}}function lm(e,t){return t=+t,function(){Ln(this,e).duration=t}}function um(e){var t=this._id;return arguments.length?this.each((typeof e=="function"?am:lm)(t,e)):yn(this.node(),t).duration}function cm(e,t){if(typeof t!="function")throw new Error;return function(){Ln(this,e).ease=t}}function dm(e){var t=this._id;return arguments.length?this.each(cm(t,e)):yn(this.node(),t).ease}function fm(e,t){return function(){var n=t.apply(this,arguments);if(typeof n!="function")throw new Error;Ln(this,e).ease=n}}function hm(e){if(typeof e!="function")throw new Error;return this.each(fm(this._id,e))}function gm(e){typeof e!="function"&&(e=td(e));for(var t=this._groups,n=t.length,r=new Array(n),i=0;i<n;++i)for(var o=t[i],s=o.length,a=r[i]=[],u,d=0;d<s;++d)(u=o[d])&&e.call(u,u.__data__,d,o)&&a.push(u);return new $n(r,this._parents,this._name,this._id)}function vm(e){if(e._id!==this._id)throw new Error;for(var t=this._groups,n=e._groups,r=t.length,i=n.length,o=Math.min(r,i),s=new Array(r),a=0;a<o;++a)for(var u=t[a],d=n[a],c=u.length,h=s[a]=new Array(c),f,g=0;g<c;++g)(f=u[g]||d[g])&&(h[g]=f);for(;a<r;++a)s[a]=t[a];return new $n(s,this._parents,this._name,this._id)}function pm(e){return(e+"").trim().split(/^|\s+/).every(function(t){var n=t.indexOf(".");return n>=0&&(t=t.slice(0,n)),!t||t==="start"})}function mm(e,t,n){var r,i,o=pm(t)?dl:Ln;return function(){var s=o(this,e),a=s.on;a!==r&&(i=(r=a).copy()).on(t,n),s.on=i}}function ym(e,t){var n=this._id;return arguments.length<2?yn(this.node(),n).on.on(e):this.each(mm(n,e,t))}function bm(e){return function(){var t=this.parentNode;for(var n in this.__transition)if(+n!==e)return;t&&t.removeChild(this)}}function _m(){return this.on("end.remove",bm(this._id))}function wm(e){var t=this._name,n=this._id;typeof e!="function"&&(e=sl(e));for(var r=this._groups,i=r.length,o=new Array(i),s=0;s<i;++s)for(var a=r[s],u=a.length,d=o[s]=new Array(u),c,h,f=0;f<u;++f)(c=a[f])&&(h=e.call(c,c.__data__,f,a))&&("__data__"in c&&(h.__data__=c.__data__),d[f]=h,Os(d[f],t,n,f,d,yn(c,n)));return new $n(o,this._parents,t,n)}function xm(e){var t=this._name,n=this._id;typeof e!="function"&&(e=ed(e));for(var r=this._groups,i=r.length,o=[],s=[],a=0;a<i;++a)for(var u=r[a],d=u.length,c,h=0;h<d;++h)if(c=u[h]){for(var f=e.call(c,c.__data__,h,u),g,p=yn(c,n),b=0,y=f.length;b<y;++b)(g=f[b])&&Os(g,t,n,b,f,p);o.push(f),s.push(c)}return new $n(o,s,t,n)}var Em=bo.prototype.constructor;function Nm(){return new Em(this._groups,this._parents)}function km(e,t){var n,r,i;return function(){var o=mi(this,e),s=(this.style.removeProperty(e),mi(this,e));return o===s?null:o===n&&s===r?i:i=t(n=o,r=s)}}function kd(e){return function(){this.style.removeProperty(e)}}function Sm(e,t,n){var r,i=n+"",o;return function(){var s=mi(this,e);return s===i?null:s===r?o:o=t(r=s,n)}}function Im(e,t,n){var r,i,o;return function(){var s=mi(this,e),a=n(this),u=a+"";return a==null&&(u=a=(this.style.removeProperty(e),mi(this,e))),s===u?null:s===r&&u===i?o:(i=u,o=t(r=s,a))}}function Tm(e,t){var n,r,i,o="style."+t,s="end."+o,a;return function(){var u=Ln(this,e),d=u.on,c=u.value[o]==null?a||(a=kd(t)):void 0;(d!==n||i!==c)&&(r=(n=d).copy()).on(s,i=c),u.on=r}}function Om(e,t,n){var r=(e+="")=="transform"?Cp:Nd;return t==null?this.styleTween(e,km(e,r)).on("end.style."+e,kd(e)):typeof t=="function"?this.styleTween(e,Im(e,r,fl(this,"style."+e,t))).each(Tm(this._id,e)):this.styleTween(e,Sm(e,r,t),n).on("end.style."+e,null)}function Cm(e,t,n){return function(r){this.style.setProperty(e,t.call(this,r),n)}}function Pm(e,t,n){var r,i;function o(){var s=t.apply(this,arguments);return s!==i&&(r=(i=s)&&Cm(e,s,n)),r}return o._value=t,o}function Am(e,t,n){var r="style."+(e+="");if(arguments.length<2)return(r=this.tween(r))&&r._value;if(t==null)return this.tween(r,null);if(typeof t!="function")throw new Error;return this.tween(r,Pm(e,t,n??""))}function Mm(e){return function(){this.textContent=e}}function Dm(e){return function(){var t=e(this);this.textContent=t??""}}function Rm(e){return this.tween("text",typeof e=="function"?Dm(fl(this,"text",e)):Mm(e==null?"":e+""))}function zm(e){return function(t){this.textContent=e.call(this,t)}}function Lm(e){var t,n;function r(){var i=e.apply(this,arguments);return i!==n&&(t=(n=i)&&zm(i)),t}return r._value=e,r}function Vm(e){var t="text";if(arguments.length<1)return(t=this.tween(t))&&t._value;if(e==null)return this.tween(t,null);if(typeof e!="function")throw new Error;return this.tween(t,Lm(e))}function Fm(){for(var e=this._name,t=this._id,n=Sd(),r=this._groups,i=r.length,o=0;o<i;++o)for(var s=r[o],a=s.length,u,d=0;d<a;++d)if(u=s[d]){var c=yn(u,t);Os(u,e,n,d,s,{time:c.time+c.delay+c.duration,delay:0,duration:c.duration,ease:c.ease})}return new $n(r,this._parents,e,n)}function Hm(){var e,t,n=this,r=n._id,i=n.size();return new Promise(function(o,s){var a={value:s},u={value:function(){--i===0&&o()}};n.each(function(){var d=Ln(this,r),c=d.on;c!==e&&(t=(e=c).copy(),t._.cancel.push(a),t._.interrupt.push(a),t._.end.push(u)),d.on=t}),i===0&&o()})}var Km=0;function $n(e,t,n,r){this._groups=e,this._parents=t,this._name=n,this._id=r}function Sd(){return++Km}var Fn=bo.prototype;$n.prototype={constructor:$n,select:wm,selectAll:xm,selectChild:Fn.selectChild,selectChildren:Fn.selectChildren,filter:gm,merge:vm,selection:Nm,transition:Fm,call:Fn.call,nodes:Fn.nodes,node:Fn.node,size:Fn.size,empty:Fn.empty,each:Fn.each,on:ym,attr:Jp,attrTween:rm,style:Om,styleTween:Am,text:Rm,textTween:Vm,remove:_m,tween:Xp,delay:sm,duration:um,ease:dm,easeVarying:hm,end:Hm,[Symbol.iterator]:Fn[Symbol.iterator]};function Bm(e){return((e*=2)<=1?e*e*e:(e-=2)*e*e+2)/2}var Wm={time:null,delay:0,duration:250,ease:Bm};function Ym(e,t){for(var n;!(n=e.__transition)||!(n=n[t]);)if(!(e=e.parentNode))throw new Error(`transition ${t} not found`);return n}function Xm(e){var t,n;e instanceof $n?(t=e._id,e=e._name):(t=Sd(),(n=Wm).time=cl(),e=e==null?null:e+"");for(var r=this._groups,i=r.length,o=0;o<i;++o)for(var s=r[o],a=s.length,u,d=0;d<a;++d)(u=s[d])&&Os(u,e,t,d,s,n||Ym(u,t));return new $n(r,this._parents,e,t)}bo.prototype.interrupt=Bp;bo.prototype.transition=Xm;const zo=e=>()=>e;function jm(e,{sourceEvent:t,target:n,transform:r,dispatch:i}){Object.defineProperties(this,{type:{value:e,enumerable:!0,configurable:!0},sourceEvent:{value:t,enumerable:!0,configurable:!0},target:{value:n,enumerable:!0,configurable:!0},transform:{value:r,enumerable:!0,configurable:!0},_:{value:i}})}function Gn(e,t,n){this.k=e,this.x=t,this.y=n}Gn.prototype={constructor:Gn,scale:function(e){return e===1?this:new Gn(this.k*e,this.x,this.y)},translate:function(e,t){return e===0&t===0?this:new Gn(this.k,this.x+this.k*e,this.y+this.k*t)},apply:function(e){return[e[0]*this.k+this.x,e[1]*this.k+this.y]},applyX:function(e){return e*this.k+this.x},applyY:function(e){return e*this.k+this.y},invert:function(e){return[(e[0]-this.x)/this.k,(e[1]-this.y)/this.k]},invertX:function(e){return(e-this.x)/this.k},invertY:function(e){return(e-this.y)/this.k},rescaleX:function(e){return e.copy().domain(e.range().map(this.invertX,this).map(e.invert,e))},rescaleY:function(e){return e.copy().domain(e.range().map(this.invertY,this).map(e.invert,e))},toString:function(){return"translate("+this.x+","+this.y+") scale("+this.k+")"}};var Cs=new Gn(1,0,0);Id.prototype=Gn.prototype;function Id(e){for(;!e.__zoom;)if(!(e=e.parentNode))return Cs;return e.__zoom}function Js(e){e.stopImmediatePropagation()}function zi(e){e.preventDefault(),e.stopImmediatePropagation()}function Gm(e){return(!e.ctrlKey||e.type==="wheel")&&!e.button}function Um(){var e=this;return e instanceof SVGElement?(e=e.ownerSVGElement||e,e.hasAttribute("viewBox")?(e=e.viewBox.baseVal,[[e.x,e.y],[e.x+e.width,e.y+e.height]]):[[0,0],[e.width.baseVal.value,e.height.baseVal.value]]):[[0,0],[e.clientWidth,e.clientHeight]]}function hu(){return this.__zoom||Cs}function qm(e){return-e.deltaY*(e.deltaMode===1?.05:e.deltaMode?1:.002)*(e.ctrlKey?10:1)}function Zm(){return navigator.maxTouchPoints||"ontouchstart"in this}function Qm(e,t,n){var r=e.invertX(t[0][0])-n[0][0],i=e.invertX(t[1][0])-n[1][0],o=e.invertY(t[0][1])-n[0][1],s=e.invertY(t[1][1])-n[1][1];return e.translate(i>r?(r+i)/2:Math.min(0,r)||Math.max(0,i),s>o?(o+s)/2:Math.min(0,o)||Math.max(0,s))}function Jm(){var e=Gm,t=Um,n=Qm,r=qm,i=Zm,o=[0,1/0],s=[[-1/0,-1/0],[1/0,1/0]],a=250,u=Xo,d=Ss("start","zoom","end"),c,h,f,g=500,p=150,b=0,y=10;function k(v){v.property("__zoom",hu).on("wheel.zoom",x,{passive:!1}).on("mousedown.zoom",V).on("dblclick.zoom",D).filter(i).on("touchstart.zoom",N).on("touchmove.zoom",_).on("touchend.zoom touchcancel.zoom",E).style("-webkit-tap-highlight-color","rgba(0,0,0,0)")}k.transform=function(v,I,C,P){var F=v.selection?v.selection():v;F.property("__zoom",hu),v!==F?A(v,I,C,P):F.interrupt().each(function(){T(this,arguments).event(P).start().zoom(null,typeof I=="function"?I.apply(this,arguments):I).end()})},k.scaleBy=function(v,I,C,P){k.scaleTo(v,function(){var F=this.__zoom.k,H=typeof I=="function"?I.apply(this,arguments):I;return F*H},C,P)},k.scaleTo=function(v,I,C,P){k.transform(v,function(){var F=t.apply(this,arguments),H=this.__zoom,W=C==null?m(F):typeof C=="function"?C.apply(this,arguments):C,G=H.invert(W),U=typeof I=="function"?I.apply(this,arguments):I;return n(S(w(H,U),W,G),F,s)},C,P)},k.translateBy=function(v,I,C,P){k.transform(v,function(){return n(this.__zoom.translate(typeof I=="function"?I.apply(this,arguments):I,typeof C=="function"?C.apply(this,arguments):C),t.apply(this,arguments),s)},null,P)},k.translateTo=function(v,I,C,P,F){k.transform(v,function(){var H=t.apply(this,arguments),W=this.__zoom,G=P==null?m(H):typeof P=="function"?P.apply(this,arguments):P;return n(Cs.translate(G[0],G[1]).scale(W.k).translate(typeof I=="function"?-I.apply(this,arguments):-I,typeof C=="function"?-C.apply(this,arguments):-C),H,s)},P,F)};function w(v,I){return I=Math.max(o[0],Math.min(o[1],I)),I===v.k?v:new Gn(I,v.x,v.y)}function S(v,I,C){var P=I[0]-C[0]*v.k,F=I[1]-C[1]*v.k;return P===v.x&&F===v.y?v:new Gn(v.k,P,F)}function m(v){return[(+v[0][0]+ +v[1][0])/2,(+v[0][1]+ +v[1][1])/2]}function A(v,I,C,P){v.on("start.zoom",function(){T(this,arguments).event(P).start()}).on("interrupt.zoom end.zoom",function(){T(this,arguments).event(P).end()}).tween("zoom",function(){var F=this,H=arguments,W=T(F,H).event(P),G=t.apply(F,H),U=C==null?m(G):typeof C=="function"?C.apply(F,H):C,Q=Math.max(G[1][0]-G[0][0],G[1][1]-G[0][1]),z=F.__zoom,O=typeof I=="function"?I.apply(F,H):I,B=u(z.invert(U).concat(Q/z.k),O.invert(U).concat(Q/O.k));return function(X){if(X===1)X=O;else{var Y=B(X),J=Q/Y[2];X=new Gn(J,U[0]-Y[0]*J,U[1]-Y[1]*J)}W.zoom(null,X)}})}function T(v,I,C){return!C&&v.__zooming||new M(v,I)}function M(v,I){this.that=v,this.args=I,this.active=0,this.sourceEvent=null,this.extent=t.apply(v,I),this.taps=0}M.prototype={event:function(v){return v&&(this.sourceEvent=v),this},start:function(){return++this.active===1&&(this.that.__zooming=this,this.emit("start")),this},zoom:function(v,I){return this.mouse&&v!=="mouse"&&(this.mouse[1]=I.invert(this.mouse[0])),this.touch0&&v!=="touch"&&(this.touch0[1]=I.invert(this.touch0[0])),this.touch1&&v!=="touch"&&(this.touch1[1]=I.invert(this.touch1[0])),this.that.__zoom=I,this.emit("zoom"),this},end:function(){return--this.active===0&&(delete this.that.__zooming,this.emit("end")),this},emit:function(v){var I=Qt(this.that).datum();d.call(v,this.that,new jm(v,{sourceEvent:this.sourceEvent,target:k,transform:this.that.__zoom,dispatch:d}),I)}};function x(v,...I){if(!e.apply(this,arguments))return;var C=T(this,I).event(v),P=this.__zoom,F=Math.max(o[0],Math.min(o[1],P.k*Math.pow(2,r.apply(this,arguments)))),H=En(v);if(C.wheel)(C.mouse[0][0]!==H[0]||C.mouse[0][1]!==H[1])&&(C.mouse[1]=P.invert(C.mouse[0]=H)),clearTimeout(C.wheel);else{if(P.k===F)return;C.mouse=[H,P.invert(H)],Uo(this),C.start()}zi(v),C.wheel=setTimeout(W,p),C.zoom("mouse",n(S(w(P,F),C.mouse[0],C.mouse[1]),C.extent,s));function W(){C.wheel=null,C.end()}}function V(v,...I){if(f||!e.apply(this,arguments))return;var C=v.currentTarget,P=T(this,I,!0).event(v),F=Qt(v.view).on("mousemove.zoom",U,!0).on("mouseup.zoom",Q,!0),H=En(v,C),W=v.clientX,G=v.clientY;dd(v.view),Js(v),P.mouse=[H,this.__zoom.invert(H)],Uo(this),P.start();function U(z){if(zi(z),!P.moved){var O=z.clientX-W,B=z.clientY-G;P.moved=O*O+B*B>b}P.event(z).zoom("mouse",n(S(P.that.__zoom,P.mouse[0]=En(z,C),P.mouse[1]),P.extent,s))}function Q(z){F.on("mousemove.zoom mouseup.zoom",null),fd(z.view,P.moved),zi(z),P.event(z).end()}}function D(v,...I){if(e.apply(this,arguments)){var C=this.__zoom,P=En(v.changedTouches?v.changedTouches[0]:v,this),F=C.invert(P),H=C.k*(v.shiftKey?.5:2),W=n(S(w(C,H),P,F),t.apply(this,I),s);zi(v),a>0?Qt(this).transition().duration(a).call(A,W,P,v):Qt(this).call(k.transform,W,P,v)}}function N(v,...I){if(e.apply(this,arguments)){var C=v.touches,P=C.length,F=T(this,I,v.changedTouches.length===P).event(v),H,W,G,U;for(Js(v),W=0;W<P;++W)G=C[W],U=En(G,this),U=[U,this.__zoom.invert(U),G.identifier],F.touch0?!F.touch1&&F.touch0[2]!==U[2]&&(F.touch1=U,F.taps=0):(F.touch0=U,H=!0,F.taps=1+!!c);c&&(c=clearTimeout(c)),H&&(F.taps<2&&(h=U[0],c=setTimeout(function(){c=null},g)),Uo(this),F.start())}}function _(v,...I){if(this.__zooming){var C=T(this,I).event(v),P=v.changedTouches,F=P.length,H,W,G,U;for(zi(v),H=0;H<F;++H)W=P[H],G=En(W,this),C.touch0&&C.touch0[2]===W.identifier?C.touch0[0]=G:C.touch1&&C.touch1[2]===W.identifier&&(C.touch1[0]=G);if(W=C.that.__zoom,C.touch1){var Q=C.touch0[0],z=C.touch0[1],O=C.touch1[0],B=C.touch1[1],X=(X=O[0]-Q[0])*X+(X=O[1]-Q[1])*X,Y=(Y=B[0]-z[0])*Y+(Y=B[1]-z[1])*Y;W=w(W,Math.sqrt(X/Y)),G=[(Q[0]+O[0])/2,(Q[1]+O[1])/2],U=[(z[0]+B[0])/2,(z[1]+B[1])/2]}else if(C.touch0)G=C.touch0[0],U=C.touch0[1];else return;C.zoom("touch",n(S(W,G,U),C.extent,s))}}function E(v,...I){if(this.__zooming){var C=T(this,I).event(v),P=v.changedTouches,F=P.length,H,W;for(Js(v),f&&clearTimeout(f),f=setTimeout(function(){f=null},g),H=0;H<F;++H)W=P[H],C.touch0&&C.touch0[2]===W.identifier?delete C.touch0:C.touch1&&C.touch1[2]===W.identifier&&delete C.touch1;if(C.touch1&&!C.touch0&&(C.touch0=C.touch1,delete C.touch1),C.touch0)C.touch0[1]=this.__zoom.invert(C.touch0[0]);else if(C.end(),C.taps===2&&(W=En(W,this),Math.hypot(h[0]-W[0],h[1]-W[1])<y)){var G=Qt(this).on("dblclick.zoom");G&&G.apply(this,arguments)}}}return k.wheelDelta=function(v){return arguments.length?(r=typeof v=="function"?v:zo(+v),k):r},k.filter=function(v){return arguments.length?(e=typeof v=="function"?v:zo(!!v),k):e},k.touchable=function(v){return arguments.length?(i=typeof v=="function"?v:zo(!!v),k):i},k.extent=function(v){return arguments.length?(t=typeof v=="function"?v:zo([[+v[0][0],+v[0][1]],[+v[1][0],+v[1][1]]]),k):t},k.scaleExtent=function(v){return arguments.length?(o[0]=+v[0],o[1]=+v[1],k):[o[0],o[1]]},k.translateExtent=function(v){return arguments.length?(s[0][0]=+v[0][0],s[1][0]=+v[1][0],s[0][1]=+v[0][1],s[1][1]=+v[1][1],k):[[s[0][0],s[0][1]],[s[1][0],s[1][1]]]},k.constrain=function(v){return arguments.length?(n=v,k):n},k.duration=function(v){return arguments.length?(a=+v,k):a},k.interpolate=function(v){return arguments.length?(u=v,k):u},k.on=function(){var v=d.on.apply(d,arguments);return v===d?k:v},k.clickDistance=function(v){return arguments.length?(b=(v=+v)*v,k):Math.sqrt(b)},k.tapDistance=function(v){return arguments.length?(y=+v,k):y},k}const Qi={error001:()=>"[React Flow]: Seems like you have not used zustand provider as an ancestor. Help: https://reactflow.dev/error#001",error002:()=>"It looks like you've created a new nodeTypes or edgeTypes object. If this wasn't on purpose please define the nodeTypes/edgeTypes outside of the component or memoize them.",error003:e=>`Node type "${e}" not found. Using fallback type "default".`,error004:()=>"The React Flow parent container needs a width and a height to render the graph.",error005:()=>"Only child nodes can use a parent extent.",error006:()=>"Can't create edge. An edge needs a source and a target.",error007:e=>`The old edge with id=${e} does not exist.`,error009:e=>`Marker type "${e}" doesn't exist.`,error008:(e,{id:t,sourceHandle:n,targetHandle:r})=>`Couldn't create edge for ${e} handle id: "${e==="source"?n:r}", edge id: ${t}.`,error010:()=>"Handle: No node id found. Make sure to only use a Handle inside a custom Node.",error011:e=>`Edge type "${e}" not found. Using fallback type "default".`,error012:e=>`Node with id "${e}" does not exist, it may have been removed. This can happen when a node is deleted before the "onNodeClick" handler is called.`,error013:(e="react")=>`It seems that you haven't loaded the styles. Please import '@xyflow/${e}/dist/style.css' or base.css to make sure everything is working properly.`,error014:()=>"useNodeConnections: No node ID found. Call useNodeConnections inside a custom Node or provide a node ID.",error015:()=>"It seems that you are trying to drag a node that is not initialized. Please use onNodesChange as explained in the docs."},Da=[[Number.NEGATIVE_INFINITY,Number.NEGATIVE_INFINITY],[Number.POSITIVE_INFINITY,Number.POSITIVE_INFINITY]],Td=["Enter"," ","Escape"],$m={"node.a11yDescription.default":"Press enter or space to select a node. Press delete to remove it and escape to cancel.","node.a11yDescription.keyboardDisabled":"Press enter or space to select a node. You can then use the arrow keys to move the node around. Press delete to remove it and escape to cancel.","node.a11yDescription.ariaLiveMessage":({direction:e,x:t,y:n})=>`Moved selected node ${e}. New position, x: ${t}, y: ${n}`,"edge.a11yDescription.default":"Press enter or space to select an edge. You can then press delete to remove it or escape to cancel.","controls.ariaLabel":"Control Panel","controls.zoomIn.ariaLabel":"Zoom In","controls.zoomOut.ariaLabel":"Zoom Out","controls.fitView.ariaLabel":"Fit View","controls.interactive.ariaLabel":"Toggle Interactivity","minimap.ariaLabel":"Mini Map","handle.ariaLabel":"Handle"};var bi;(function(e){e.Strict="strict",e.Loose="loose"})(bi||(bi={}));var ri;(function(e){e.Free="free",e.Vertical="vertical",e.Horizontal="horizontal"})(ri||(ri={}));var Ji;(function(e){e.Partial="partial",e.Full="full"})(Ji||(Ji={}));const Ra={inProgress:!1,isValid:null,from:null,fromHandle:null,fromPosition:null,fromNode:null,to:null,toHandle:null,toPosition:null,toNode:null,pointer:null};var ar;(function(e){e.Bezier="default",e.Straight="straight",e.Step="step",e.SmoothStep="smoothstep",e.SimpleBezier="simplebezier"})(ar||(ar={}));var rs;(function(e){e.Arrow="arrow",e.ArrowClosed="arrowclosed"})(rs||(rs={}));var Ce;(function(e){e.Left="left",e.Top="top",e.Right="right",e.Bottom="bottom"})(Ce||(Ce={}));const gu={[Ce.Left]:Ce.Right,[Ce.Right]:Ce.Left,[Ce.Top]:Ce.Bottom,[Ce.Bottom]:Ce.Top};function ey(e,t){if(!e&&!t)return!0;if(!e||!t||e.size!==t.size)return!1;if(!e.size&&!t.size)return!0;for(const n of e.keys())if(!t.has(n))return!1;return!0}function vu(e,t,n){if(!n)return;const r=[];e.forEach((i,o)=>{t!=null&&t.has(o)||r.push(i)}),r.length&&n(r)}function ty(e){return e===null?null:e?"valid":"invalid"}const Od=e=>"id"in e&&"source"in e&&"target"in e,ny=e=>"id"in e&&"position"in e&&!("source"in e)&&!("target"in e),hl=e=>"id"in e&&"internals"in e&&!("source"in e)&&!("target"in e),wo=(e,t=[0,0])=>{const{width:n,height:r}=jr(e),i=e.origin??t,o=n*i[0],s=r*i[1];return{x:e.position.x-o,y:e.position.y-s}},ry=(e,t={nodeOrigin:[0,0]})=>{if(e.length===0)return{x:0,y:0,width:0,height:0};const n=e.reduce((r,i)=>{const o=typeof i=="string";let s=!t.nodeLookup&&!o?i:void 0;t.nodeLookup&&(s=o?t.nodeLookup.get(i):hl(i)?i:t.nodeLookup.get(i.id));const a=s?is(s,t.nodeOrigin):{x:0,y:0,x2:0,y2:0};return As(r,a)},{x:1/0,y:1/0,x2:-1/0,y2:-1/0});return Ms(n)},Ps=(e,t={})=>{let n={x:1/0,y:1/0,x2:-1/0,y2:-1/0},r=!1;return e.forEach(i=>{(t.filter===void 0||t.filter(i))&&(n=As(n,is(i)),r=!0)}),r?Ms(n):{x:0,y:0,width:0,height:0}},gl=(e,t,[n,r,i]=[0,0,1],o=!1,s=!1)=>{const a={...Eo(t,[n,r,i]),width:t.width/i,height:t.height/i},u=[];for(const d of e.values()){const{measured:c,selectable:h=!0,hidden:f=!1}=d;if(s&&!h||f)continue;const g=c.width??d.width??d.initialWidth??null,p=c.height??d.height??d.initialHeight??null,b=$i(a,wi(d)),y=(g??0)*(p??0),k=o&&b>0;(!d.internals.handleBounds||k||b>=y||d.dragging)&&u.push(d)}return u},iy=(e,t)=>{const n=new Set;return e.forEach(r=>{n.add(r.id)}),t.filter(r=>n.has(r.source)||n.has(r.target))};function oy(e,t){const n=new Map,r=t!=null&&t.nodes?new Set(t.nodes.map(i=>i.id)):null;return e.forEach(i=>{i.measured.width&&i.measured.height&&((t==null?void 0:t.includeHiddenNodes)||!i.hidden)&&(!r||r.has(i.id))&&n.set(i.id,i)}),n}async function sy({nodes:e,width:t,height:n,panZoom:r,minZoom:i,maxZoom:o},s){if(e.size===0)return Promise.resolve(!0);const a=oy(e,s),u=Ps(a),d=vl(u,t,n,(s==null?void 0:s.minZoom)??i,(s==null?void 0:s.maxZoom)??o,(s==null?void 0:s.padding)??.1);return await r.setViewport(d,{duration:s==null?void 0:s.duration,ease:s==null?void 0:s.ease,interpolate:s==null?void 0:s.interpolate}),Promise.resolve(!0)}function Cd({nodeId:e,nextPosition:t,nodeLookup:n,nodeOrigin:r=[0,0],nodeExtent:i,onError:o}){const s=n.get(e),a=s.parentId?n.get(s.parentId):void 0,{x:u,y:d}=a?a.internals.positionAbsolute:{x:0,y:0},c=s.origin??r;let h=s.extent||i;if(s.extent==="parent"&&!s.expandParent)if(!a)o==null||o("005",Qi.error005());else{const g=a.measured.width,p=a.measured.height;g&&p&&(h=[[u,d],[u+g,d+p]])}else a&&xi(s.extent)&&(h=[[s.extent[0][0]+u,s.extent[0][1]+d],[s.extent[1][0]+u,s.extent[1][1]+d]]);const f=xi(h)?Hr(t,h,s.measured):t;return(s.measured.width===void 0||s.measured.height===void 0)&&(o==null||o("015",Qi.error015())),{position:{x:f.x-u+(s.measured.width??0)*c[0],y:f.y-d+(s.measured.height??0)*c[1]},positionAbsolute:f}}async function ay({nodesToRemove:e=[],edgesToRemove:t=[],nodes:n,edges:r,onBeforeDelete:i}){const o=new Set(e.map(f=>f.id)),s=[];for(const f of n){if(f.deletable===!1)continue;const g=o.has(f.id),p=!g&&f.parentId&&s.find(b=>b.id===f.parentId);(g||p)&&s.push(f)}const a=new Set(t.map(f=>f.id)),u=r.filter(f=>f.deletable!==!1),c=iy(s,u);for(const f of u)a.has(f.id)&&!c.find(p=>p.id===f.id)&&c.push(f);if(!i)return{edges:c,nodes:s};const h=await i({nodes:s,edges:c});return typeof h=="boolean"?h?{edges:c,nodes:s}:{edges:[],nodes:[]}:h}const _i=(e,t=0,n=1)=>Math.min(Math.max(e,t),n),Hr=(e={x:0,y:0},t,n)=>({x:_i(e.x,t[0][0],t[1][0]-((n==null?void 0:n.width)??0)),y:_i(e.y,t[0][1],t[1][1]-((n==null?void 0:n.height)??0))});function Pd(e,t,n){const{width:r,height:i}=jr(n),{x:o,y:s}=n.internals.positionAbsolute;return Hr(e,[[o,s],[o+r,s+i]],t)}const pu=(e,t,n)=>e<t?_i(Math.abs(e-t),1,t)/t:e>n?-_i(Math.abs(e-n),1,t)/t:0,Ad=(e,t,n=15,r=40)=>{const i=pu(e.x,r,t.width-r)*n,o=pu(e.y,r,t.height-r)*n;return[i,o]},As=(e,t)=>({x:Math.min(e.x,t.x),y:Math.min(e.y,t.y),x2:Math.max(e.x2,t.x2),y2:Math.max(e.y2,t.y2)}),za=({x:e,y:t,width:n,height:r})=>({x:e,y:t,x2:e+n,y2:t+r}),Ms=({x:e,y:t,x2:n,y2:r})=>({x:e,y:t,width:n-e,height:r-t}),wi=(e,t=[0,0])=>{var i,o;const{x:n,y:r}=hl(e)?e.internals.positionAbsolute:wo(e,t);return{x:n,y:r,width:((i=e.measured)==null?void 0:i.width)??e.width??e.initialWidth??0,height:((o=e.measured)==null?void 0:o.height)??e.height??e.initialHeight??0}},is=(e,t=[0,0])=>{var i,o;const{x:n,y:r}=hl(e)?e.internals.positionAbsolute:wo(e,t);return{x:n,y:r,x2:n+(((i=e.measured)==null?void 0:i.width)??e.width??e.initialWidth??0),y2:r+(((o=e.measured)==null?void 0:o.height)??e.height??e.initialHeight??0)}},ly=(e,t)=>Ms(As(za(e),za(t))),$i=(e,t)=>{const n=Math.max(0,Math.min(e.x+e.width,t.x+t.width)-Math.max(e.x,t.x)),r=Math.max(0,Math.min(e.y+e.height,t.y+t.height)-Math.max(e.y,t.y));return Math.ceil(n*r)},mu=e=>Un(e.width)&&Un(e.height)&&Un(e.x)&&Un(e.y),Un=e=>!isNaN(e)&&isFinite(e),uy=(e,t)=>{},xo=(e,t=[1,1])=>({x:t[0]*Math.round(e.x/t[0]),y:t[1]*Math.round(e.y/t[1])}),Eo=({x:e,y:t},[n,r,i],o=!1,s=[1,1])=>{const a={x:(e-n)/i,y:(t-r)/i};return o?xo(a,s):a},os=({x:e,y:t},[n,r,i])=>({x:e*i+n,y:t*i+r});function Jr(e,t){if(typeof e=="number")return Math.floor((t-t/(1+e))*.5);if(typeof e=="string"&&e.endsWith("px")){const n=parseFloat(e);if(!Number.isNaN(n))return Math.floor(n)}if(typeof e=="string"&&e.endsWith("%")){const n=parseFloat(e);if(!Number.isNaN(n))return Math.floor(t*n*.01)}return console.error(`[React Flow] The padding value "${e}" is invalid. Please provide a number or a string with a valid unit (px or %).`),0}function cy(e,t,n){if(typeof e=="string"||typeof e=="number"){const r=Jr(e,n),i=Jr(e,t);return{top:r,right:i,bottom:r,left:i,x:i*2,y:r*2}}if(typeof e=="object"){const r=Jr(e.top??e.y??0,n),i=Jr(e.bottom??e.y??0,n),o=Jr(e.left??e.x??0,t),s=Jr(e.right??e.x??0,t);return{top:r,right:s,bottom:i,left:o,x:o+s,y:r+i}}return{top:0,right:0,bottom:0,left:0,x:0,y:0}}function dy(e,t,n,r,i,o){const{x:s,y:a}=os(e,[t,n,r]),{x:u,y:d}=os({x:e.x+e.width,y:e.y+e.height},[t,n,r]),c=i-u,h=o-d;return{left:Math.floor(s),top:Math.floor(a),right:Math.floor(c),bottom:Math.floor(h)}}const vl=(e,t,n,r,i,o)=>{const s=cy(o,t,n),a=(t-s.x)/e.width,u=(n-s.y)/e.height,d=Math.min(a,u),c=_i(d,r,i),h=e.x+e.width/2,f=e.y+e.height/2,g=t/2-h*c,p=n/2-f*c,b=dy(e,g,p,c,t,n),y={left:Math.min(b.left-s.left,0),top:Math.min(b.top-s.top,0),right:Math.min(b.right-s.right,0),bottom:Math.min(b.bottom-s.bottom,0)};return{x:g-y.left+y.right,y:p-y.top+y.bottom,zoom:c}},ss=()=>{var e;return typeof navigator<"u"&&((e=navigator==null?void 0:navigator.userAgent)==null?void 0:e.indexOf("Mac"))>=0};function xi(e){return e!=null&&e!=="parent"}function jr(e){var t,n;return{width:((t=e.measured)==null?void 0:t.width)??e.width??e.initialWidth??0,height:((n=e.measured)==null?void 0:n.height)??e.height??e.initialHeight??0}}function fy(e){var t,n;return(((t=e.measured)==null?void 0:t.width)??e.width??e.initialWidth)!==void 0&&(((n=e.measured)==null?void 0:n.height)??e.height??e.initialHeight)!==void 0}function hy(e,t={width:0,height:0},n,r,i){const o={...e},s=r.get(n);if(s){const a=s.origin||i;o.x+=s.internals.positionAbsolute.x-(t.width??0)*a[0],o.y+=s.internals.positionAbsolute.y-(t.height??0)*a[1]}return o}function gy(e){return{...$m,...e||{}}}function Yi(e,{snapGrid:t=[0,0],snapToGrid:n=!1,transform:r,containerBounds:i}){const{x:o,y:s}=gn(e),a=Eo({x:o-((i==null?void 0:i.left)??0),y:s-((i==null?void 0:i.top)??0)},r),{x:u,y:d}=n?xo(a,t):a;return{xSnapped:u,ySnapped:d,...a}}const Md=e=>({width:e.offsetWidth,height:e.offsetHeight}),Dd=e=>{var t;return((t=e==null?void 0:e.getRootNode)==null?void 0:t.call(e))||(window==null?void 0:window.document)},vy=["INPUT","SELECT","TEXTAREA"];function Rd(e){var r,i;const t=((i=(r=e.composedPath)==null?void 0:r.call(e))==null?void 0:i[0])||e.target;return(t==null?void 0:t.nodeType)!==1?!1:vy.includes(t.nodeName)||t.hasAttribute("contenteditable")||!!t.closest(".nokey")}const zd=e=>"clientX"in e,gn=(e,t)=>{var o,s;const n=zd(e),r=n?e.clientX:(o=e.touches)==null?void 0:o[0].clientX,i=n?e.clientY:(s=e.touches)==null?void 0:s[0].clientY;return{x:r-((t==null?void 0:t.left)??0),y:i-((t==null?void 0:t.top)??0)}},yu=(e,t,n,r,i)=>{const o=t.querySelectorAll(`.${e}`);return!o||!o.length?null:Array.from(o).map(s=>{const a=s.getBoundingClientRect();return{id:s.getAttribute("data-handleid"),type:e,nodeId:i,position:s.getAttribute("data-handlepos"),x:(a.left-n.left)/r,y:(a.top-n.top)/r,...Md(s)}})};function py({sourceX:e,sourceY:t,targetX:n,targetY:r,sourceControlX:i,sourceControlY:o,targetControlX:s,targetControlY:a}){const u=e*.125+i*.375+s*.375+n*.125,d=t*.125+o*.375+a*.375+r*.125,c=Math.abs(u-e),h=Math.abs(d-t);return[u,d,c,h]}function Lo(e,t){return e>=0?.5*e:t*25*Math.sqrt(-e)}function bu({pos:e,x1:t,y1:n,x2:r,y2:i,c:o}){switch(e){case Ce.Left:return[t-Lo(t-r,o),n];case Ce.Right:return[t+Lo(r-t,o),n];case Ce.Top:return[t,n-Lo(n-i,o)];case Ce.Bottom:return[t,n+Lo(i-n,o)]}}function Ld({sourceX:e,sourceY:t,sourcePosition:n=Ce.Bottom,targetX:r,targetY:i,targetPosition:o=Ce.Top,curvature:s=.25}){const[a,u]=bu({pos:n,x1:e,y1:t,x2:r,y2:i,c:s}),[d,c]=bu({pos:o,x1:r,y1:i,x2:e,y2:t,c:s}),[h,f,g,p]=py({sourceX:e,sourceY:t,targetX:r,targetY:i,sourceControlX:a,sourceControlY:u,targetControlX:d,targetControlY:c});return[`M${e},${t} C${a},${u} ${d},${c} ${r},${i}`,h,f,g,p]}function Vd({sourceX:e,sourceY:t,targetX:n,targetY:r}){const i=Math.abs(n-e)/2,o=n<e?n+i:n-i,s=Math.abs(r-t)/2,a=r<t?r+s:r-s;return[o,a,i,s]}function my({sourceNode:e,targetNode:t,selected:n=!1,zIndex:r=0,elevateOnSelect:i=!1,zIndexMode:o="basic"}){if(o==="manual")return r;const s=i&&n?r+1e3:r,a=Math.max(e.parentId||i&&e.selected?e.internals.z:0,t.parentId||i&&t.selected?t.internals.z:0);return s+a}function yy({sourceNode:e,targetNode:t,width:n,height:r,transform:i}){const o=As(is(e),is(t));o.x===o.x2&&(o.x2+=1),o.y===o.y2&&(o.y2+=1);const s={x:-i[0]/i[2],y:-i[1]/i[2],width:n/i[2],height:r/i[2]};return $i(s,Ms(o))>0}const by=({source:e,sourceHandle:t,target:n,targetHandle:r})=>`xy-edge__${e}${t||""}-${n}${r||""}`,_y=(e,t)=>t.some(n=>n.source===e.source&&n.target===e.target&&(n.sourceHandle===e.sourceHandle||!n.sourceHandle&&!e.sourceHandle)&&(n.targetHandle===e.targetHandle||!n.targetHandle&&!e.targetHandle)),Hi=(e,t,n={})=>{if(!e.source||!e.target)return t;const r=n.getEdgeId||by;let i;return Od(e)?i={...e}:i={...e,id:r(e)},_y(i,t)?t:(i.sourceHandle===null&&delete i.sourceHandle,i.targetHandle===null&&delete i.targetHandle,t.concat(i))};function Fd({sourceX:e,sourceY:t,targetX:n,targetY:r}){const[i,o,s,a]=Vd({sourceX:e,sourceY:t,targetX:n,targetY:r});return[`M ${e},${t}L ${n},${r}`,i,o,s,a]}const _u={[Ce.Left]:{x:-1,y:0},[Ce.Right]:{x:1,y:0},[Ce.Top]:{x:0,y:-1},[Ce.Bottom]:{x:0,y:1}},wy=({source:e,sourcePosition:t=Ce.Bottom,target:n})=>t===Ce.Left||t===Ce.Right?e.x<n.x?{x:1,y:0}:{x:-1,y:0}:e.y<n.y?{x:0,y:1}:{x:0,y:-1},wu=(e,t)=>Math.sqrt(Math.pow(t.x-e.x,2)+Math.pow(t.y-e.y,2));function xy({source:e,sourcePosition:t=Ce.Bottom,target:n,targetPosition:r=Ce.Top,center:i,offset:o,stepPosition:s}){const a=_u[t],u=_u[r],d={x:e.x+a.x*o,y:e.y+a.y*o},c={x:n.x+u.x*o,y:n.y+u.y*o},h=wy({source:d,sourcePosition:t,target:c}),f=h.x!==0?"x":"y",g=h[f];let p=[],b,y;const k={x:0,y:0},w={x:0,y:0},[,,S,m]=Vd({sourceX:e.x,sourceY:e.y,targetX:n.x,targetY:n.y});if(a[f]*u[f]===-1){f==="x"?(b=i.x??d.x+(c.x-d.x)*s,y=i.y??(d.y+c.y)/2):(b=i.x??(d.x+c.x)/2,y=i.y??d.y+(c.y-d.y)*s);const T=[{x:b,y:d.y},{x:b,y:c.y}],M=[{x:d.x,y},{x:c.x,y}];a[f]===g?p=f==="x"?T:M:p=f==="x"?M:T}else{const T=[{x:d.x,y:c.y}],M=[{x:c.x,y:d.y}];if(f==="x"?p=a.x===g?M:T:p=a.y===g?T:M,t===r){const _=Math.abs(e[f]-n[f]);if(_<=o){const E=Math.min(o-1,o-_);a[f]===g?k[f]=(d[f]>e[f]?-1:1)*E:w[f]=(c[f]>n[f]?-1:1)*E}}if(t!==r){const _=f==="x"?"y":"x",E=a[f]===u[_],v=d[_]>c[_],I=d[_]<c[_];(a[f]===1&&(!E&&v||E&&I)||a[f]!==1&&(!E&&I||E&&v))&&(p=f==="x"?T:M)}const x={x:d.x+k.x,y:d.y+k.y},V={x:c.x+w.x,y:c.y+w.y},D=Math.max(Math.abs(x.x-p[0].x),Math.abs(V.x-p[0].x)),N=Math.max(Math.abs(x.y-p[0].y),Math.abs(V.y-p[0].y));D>=N?(b=(x.x+V.x)/2,y=p[0].y):(b=p[0].x,y=(x.y+V.y)/2)}return[[e,{x:d.x+k.x,y:d.y+k.y},...p,{x:c.x+w.x,y:c.y+w.y},n],b,y,S,m]}function Ey(e,t,n,r){const i=Math.min(wu(e,t)/2,wu(t,n)/2,r),{x:o,y:s}=t;if(e.x===o&&o===n.x||e.y===s&&s===n.y)return`L${o} ${s}`;if(e.y===s){const d=e.x<n.x?-1:1,c=e.y<n.y?1:-1;return`L ${o+i*d},${s}Q ${o},${s} ${o},${s+i*c}`}const a=e.x<n.x?1:-1,u=e.y<n.y?-1:1;return`L ${o},${s+i*u}Q ${o},${s} ${o+i*a},${s}`}function pl({sourceX:e,sourceY:t,sourcePosition:n=Ce.Bottom,targetX:r,targetY:i,targetPosition:o=Ce.Top,borderRadius:s=5,centerX:a,centerY:u,offset:d=20,stepPosition:c=.5}){const[h,f,g,p,b]=xy({source:{x:e,y:t},sourcePosition:n,target:{x:r,y:i},targetPosition:o,center:{x:a,y:u},offset:d,stepPosition:c});return[h.reduce((k,w,S)=>{let m="";return S>0&&S<h.length-1?m=Ey(h[S-1],w,h[S+1],s):m=`${S===0?"M":"L"}${w.x} ${w.y}`,k+=m,k},""),f,g,p,b]}function xu(e){var t;return e&&!!(e.internals.handleBounds||(t=e.handles)!=null&&t.length)&&!!(e.measured.width||e.width||e.initialWidth)}function Ny(e){var h;const{sourceNode:t,targetNode:n}=e;if(!xu(t)||!xu(n))return null;const r=t.internals.handleBounds||Eu(t.handles),i=n.internals.handleBounds||Eu(n.handles),o=Nu((r==null?void 0:r.source)??[],e.sourceHandle),s=Nu(e.connectionMode===bi.Strict?(i==null?void 0:i.target)??[]:((i==null?void 0:i.target)??[]).concat((i==null?void 0:i.source)??[]),e.targetHandle);if(!o||!s)return(h=e.onError)==null||h.call(e,"008",Qi.error008(o?"target":"source",{id:e.id,sourceHandle:e.sourceHandle,targetHandle:e.targetHandle})),null;const a=(o==null?void 0:o.position)||Ce.Bottom,u=(s==null?void 0:s.position)||Ce.Top,d=Kr(t,o,a),c=Kr(n,s,u);return{sourceX:d.x,sourceY:d.y,targetX:c.x,targetY:c.y,sourcePosition:a,targetPosition:u}}function Eu(e){if(!e)return null;const t=[],n=[];for(const r of e)r.width=r.width??1,r.height=r.height??1,r.type==="source"?t.push(r):r.type==="target"&&n.push(r);return{source:t,target:n}}function Kr(e,t,n=Ce.Left,r=!1){const i=((t==null?void 0:t.x)??0)+e.internals.positionAbsolute.x,o=((t==null?void 0:t.y)??0)+e.internals.positionAbsolute.y,{width:s,height:a}=t??jr(e);if(r)return{x:i+s/2,y:o+a/2};switch((t==null?void 0:t.position)??n){case Ce.Top:return{x:i+s/2,y:o};case Ce.Right:return{x:i+s,y:o+a/2};case Ce.Bottom:return{x:i+s/2,y:o+a};case Ce.Left:return{x:i,y:o+a/2}}}function Nu(e,t){return e&&(t?e.find(n=>n.id===t):e[0])||null}function La(e,t){return e?typeof e=="string"?e:`${t?`${t}__`:""}${Object.keys(e).sort().map(r=>`${r}=${e[r]}`).join("&")}`:""}function ky(e,{id:t,defaultColor:n,defaultMarkerStart:r,defaultMarkerEnd:i}){const o=new Set;return e.reduce((s,a)=>([a.markerStart||r,a.markerEnd||i].forEach(u=>{if(u&&typeof u=="object"){const d=La(u,t);o.has(d)||(s.push({id:d,color:u.color||n,...u}),o.add(d))}}),s),[]).sort((s,a)=>s.id.localeCompare(a.id))}const Hd=1e3,Sy=10,ml={nodeOrigin:[0,0],nodeExtent:Da,elevateNodesOnSelect:!0,zIndexMode:"basic",defaults:{}},Iy={...ml,checkEquality:!0};function yl(e,t){const n={...e};for(const r in t)t[r]!==void 0&&(n[r]=t[r]);return n}function Ty(e,t,n){const r=yl(ml,n);for(const i of e.values())if(i.parentId)_l(i,e,t,r);else{const o=wo(i,r.nodeOrigin),s=xi(i.extent)?i.extent:r.nodeExtent,a=Hr(o,s,jr(i));i.internals.positionAbsolute=a}}function Oy(e,t){if(!e.handles)return e.measured?t==null?void 0:t.internals.handleBounds:void 0;const n=[],r=[];for(const i of e.handles){const o={id:i.id,width:i.width??1,height:i.height??1,nodeId:e.id,x:i.x,y:i.y,position:i.position,type:i.type};i.type==="source"?n.push(o):i.type==="target"&&r.push(o)}return{source:n,target:r}}function bl(e){return e==="manual"}function Cy(e,t,n,r={}){var d,c;const i=yl(Iy,r),o={i:0},s=new Map(t),a=i!=null&&i.elevateNodesOnSelect&&!bl(i.zIndexMode)?Hd:0;let u=e.length>0;t.clear(),n.clear();for(const h of e){let f=s.get(h.id);if(i.checkEquality&&h===(f==null?void 0:f.internals.userNode))t.set(h.id,f);else{const g=wo(h,i.nodeOrigin),p=xi(h.extent)?h.extent:i.nodeExtent,b=Hr(g,p,jr(h));f={...i.defaults,...h,measured:{width:(d=h.measured)==null?void 0:d.width,height:(c=h.measured)==null?void 0:c.height},internals:{positionAbsolute:b,handleBounds:Oy(h,f),z:Kd(h,a,i.zIndexMode),userNode:h}},t.set(h.id,f)}(f.measured===void 0||f.measured.width===void 0||f.measured.height===void 0)&&!f.hidden&&(u=!1),h.parentId&&_l(f,t,n,r,o)}return u}function Py(e,t){if(!e.parentId)return;const n=t.get(e.parentId);n?n.set(e.id,e):t.set(e.parentId,new Map([[e.id,e]]))}function _l(e,t,n,r,i){const{elevateNodesOnSelect:o,nodeOrigin:s,nodeExtent:a,zIndexMode:u}=yl(ml,r),d=e.parentId,c=t.get(d);if(!c){console.warn(`Parent node ${d} not found. Please make sure that parent nodes are in front of their child nodes in the nodes array.`);return}Py(e,n),i&&!c.parentId&&c.internals.rootParentIndex===void 0&&u==="auto"&&(c.internals.rootParentIndex=++i.i,c.internals.z=c.internals.z+i.i*Sy),i&&c.internals.rootParentIndex!==void 0&&(i.i=c.internals.rootParentIndex);const h=o&&!bl(u)?Hd:0,{x:f,y:g,z:p}=Ay(e,c,s,a,h,u),{positionAbsolute:b}=e.internals,y=f!==b.x||g!==b.y;(y||p!==e.internals.z)&&t.set(e.id,{...e,internals:{...e.internals,positionAbsolute:y?{x:f,y:g}:b,z:p}})}function Kd(e,t,n){const r=Un(e.zIndex)?e.zIndex:0;return bl(n)?r:r+(e.selected?t:0)}function Ay(e,t,n,r,i,o){const{x:s,y:a}=t.internals.positionAbsolute,u=jr(e),d=wo(e,n),c=xi(e.extent)?Hr(d,e.extent,u):d;let h=Hr({x:s+c.x,y:a+c.y},r,u);e.extent==="parent"&&(h=Pd(h,u,t));const f=Kd(e,i,o),g=t.internals.z??0;return{x:h.x,y:h.y,z:g>=f?g+1:f}}function My(e,t,n,r=[0,0]){var s;const i=[],o=new Map;for(const a of e){const u=t.get(a.parentId);if(!u)continue;const d=((s=o.get(a.parentId))==null?void 0:s.expandedRect)??wi(u),c=ly(d,a.rect);o.set(a.parentId,{expandedRect:c,parent:u})}return o.size>0&&o.forEach(({expandedRect:a,parent:u},d)=>{var S;const c=u.internals.positionAbsolute,h=jr(u),f=u.origin??r,g=a.x<c.x?Math.round(Math.abs(c.x-a.x)):0,p=a.y<c.y?Math.round(Math.abs(c.y-a.y)):0,b=Math.max(h.width,Math.round(a.width)),y=Math.max(h.height,Math.round(a.height)),k=(b-h.width)*f[0],w=(y-h.height)*f[1];(g>0||p>0||k||w)&&(i.push({id:d,type:"position",position:{x:u.position.x-g+k,y:u.position.y-p+w}}),(S=n.get(d))==null||S.forEach(m=>{e.some(A=>A.id===m.id)||i.push({id:m.id,type:"position",position:{x:m.position.x+g,y:m.position.y+p}})})),(h.width<a.width||h.height<a.height||g||p)&&i.push({id:d,type:"dimensions",setAttributes:!0,dimensions:{width:b+(g?f[0]*g-k:0),height:y+(p?f[1]*p-w:0)}})}),i}function Dy(e,t,n,r,i,o,s){const a=r==null?void 0:r.querySelector(".xyflow__viewport");let u=!1;if(!a)return{changes:[],updatedInternals:u};const d=[],c=window.getComputedStyle(a),{m22:h}=new window.DOMMatrixReadOnly(c.transform),f=[];for(const g of e.values()){const p=t.get(g.id);if(!p)continue;if(p.hidden){t.set(p.id,{...p,internals:{...p.internals,handleBounds:void 0}}),u=!0;continue}const b=Md(g.nodeElement),y=p.measured.width!==b.width||p.measured.height!==b.height;if(!!(b.width&&b.height&&(y||!p.internals.handleBounds||g.force))){const w=g.nodeElement.getBoundingClientRect(),S=xi(p.extent)?p.extent:o;let{positionAbsolute:m}=p.internals;p.parentId&&p.extent==="parent"?m=Pd(m,b,t.get(p.parentId)):S&&(m=Hr(m,S,b));const A={...p,measured:b,internals:{...p.internals,positionAbsolute:m,handleBounds:{source:yu("source",g.nodeElement,w,h,p.id),target:yu("target",g.nodeElement,w,h,p.id)}}};t.set(p.id,A),p.parentId&&_l(A,t,n,{nodeOrigin:i,zIndexMode:s}),u=!0,y&&(d.push({id:p.id,type:"dimensions",dimensions:b}),p.expandParent&&p.parentId&&f.push({id:p.id,parentId:p.parentId,rect:wi(A,i)}))}}if(f.length>0){const g=My(f,t,n,i);d.push(...g)}return{changes:d,updatedInternals:u}}async function Ry({delta:e,panZoom:t,transform:n,translateExtent:r,width:i,height:o}){if(!t||!e.x&&!e.y)return Promise.resolve(!1);const s=await t.setViewportConstrained({x:n[0]+e.x,y:n[1]+e.y,zoom:n[2]},[[0,0],[i,o]],r),a=!!s&&(s.x!==n[0]||s.y!==n[1]||s.k!==n[2]);return Promise.resolve(a)}function ku(e,t,n,r,i,o){let s=i;const a=r.get(s)||new Map;r.set(s,a.set(n,t)),s=`${i}-${e}`;const u=r.get(s)||new Map;if(r.set(s,u.set(n,t)),o){s=`${i}-${e}-${o}`;const d=r.get(s)||new Map;r.set(s,d.set(n,t))}}function zy(e,t,n){e.clear(),t.clear();for(const r of n){const{source:i,target:o,sourceHandle:s=null,targetHandle:a=null}=r,u={edgeId:r.id,source:i,target:o,sourceHandle:s,targetHandle:a},d=`${i}-${s}--${o}-${a}`,c=`${o}-${a}--${i}-${s}`;ku("source",u,c,e,i,s),ku("target",u,d,e,o,a),t.set(r.id,r)}}function Bd(e,t){if(!e.parentId)return!1;const n=t.get(e.parentId);return n?n.selected?!0:Bd(n,t):!1}function Su(e,t,n){var i;let r=e;do{if((i=r==null?void 0:r.matches)!=null&&i.call(r,t))return!0;if(r===n)return!1;r=r==null?void 0:r.parentElement}while(r);return!1}function Ly(e,t,n,r){const i=new Map;for(const[o,s]of e)if((s.selected||s.id===r)&&(!s.parentId||!Bd(s,e))&&(s.draggable||t&&typeof s.draggable>"u")){const a=e.get(o);a&&i.set(o,{id:o,position:a.position||{x:0,y:0},distance:{x:n.x-a.internals.positionAbsolute.x,y:n.y-a.internals.positionAbsolute.y},extent:a.extent,parentId:a.parentId,origin:a.origin,expandParent:a.expandParent,internals:{positionAbsolute:a.internals.positionAbsolute||{x:0,y:0}},measured:{width:a.measured.width??0,height:a.measured.height??0}})}return i}function $s({nodeId:e,dragItems:t,nodeLookup:n,dragging:r=!0}){var s,a,u;const i=[];for(const[d,c]of t){const h=(s=n.get(d))==null?void 0:s.internals.userNode;h&&i.push({...h,position:c.position,dragging:r})}if(!e)return[i[0],i];const o=(a=n.get(e))==null?void 0:a.internals.userNode;return[o?{...o,position:((u=t.get(e))==null?void 0:u.position)||o.position,dragging:r}:i[0],i]}function Vy({dragItems:e,snapGrid:t,x:n,y:r}){const i=e.values().next().value;if(!i)return null;const o={x:n-i.distance.x,y:r-i.distance.y},s=xo(o,t);return{x:s.x-o.x,y:s.y-o.y}}function Fy({onNodeMouseDown:e,getStoreItems:t,onDragStart:n,onDrag:r,onDragStop:i}){let o={x:null,y:null},s=0,a=new Map,u=!1,d={x:0,y:0},c=null,h=!1,f=null,g=!1,p=!1,b=null;function y({noDragClassName:w,handleSelector:S,domNode:m,isSelectable:A,nodeId:T,nodeClickDistance:M=0}){f=Qt(m);function x({x:_,y:E}){const{nodeLookup:v,nodeExtent:I,snapGrid:C,snapToGrid:P,nodeOrigin:F,onNodeDrag:H,onSelectionDrag:W,onError:G,updateNodePositions:U}=t();o={x:_,y:E};let Q=!1;const z=a.size>1,O=z&&I?za(Ps(a)):null,B=z&&P?Vy({dragItems:a,snapGrid:C,x:_,y:E}):null;for(const[X,Y]of a){if(!v.has(X))continue;let J={x:_-Y.distance.x,y:E-Y.distance.y};P&&(J=B?{x:Math.round(J.x+B.x),y:Math.round(J.y+B.y)}:xo(J,C));let re=null;if(z&&I&&!Y.extent&&O){const{positionAbsolute:ge}=Y.internals,pe=ge.x-O.x+I[0][0],oe=ge.x+Y.measured.width-O.x2+I[1][0],be=ge.y-O.y+I[0][1],xe=ge.y+Y.measured.height-O.y2+I[1][1];re=[[pe,be],[oe,xe]]}const{position:q,positionAbsolute:le}=Cd({nodeId:X,nextPosition:J,nodeLookup:v,nodeExtent:re||I,nodeOrigin:F,onError:G});Q=Q||Y.position.x!==q.x||Y.position.y!==q.y,Y.position=q,Y.internals.positionAbsolute=le}if(p=p||Q,!!Q&&(U(a,!0),b&&(r||H||!T&&W))){const[X,Y]=$s({nodeId:T,dragItems:a,nodeLookup:v});r==null||r(b,a,X,Y),H==null||H(b,X,Y),T||W==null||W(b,Y)}}async function V(){if(!c)return;const{transform:_,panBy:E,autoPanSpeed:v,autoPanOnNodeDrag:I}=t();if(!I){u=!1,cancelAnimationFrame(s);return}const[C,P]=Ad(d,c,v);(C!==0||P!==0)&&(o.x=(o.x??0)-C/_[2],o.y=(o.y??0)-P/_[2],await E({x:C,y:P})&&x(o)),s=requestAnimationFrame(V)}function D(_){var z;const{nodeLookup:E,multiSelectionActive:v,nodesDraggable:I,transform:C,snapGrid:P,snapToGrid:F,selectNodesOnDrag:H,onNodeDragStart:W,onSelectionDragStart:G,unselectNodesAndEdges:U}=t();h=!0,(!H||!A)&&!v&&T&&((z=E.get(T))!=null&&z.selected||U()),A&&H&&T&&(e==null||e(T));const Q=Yi(_.sourceEvent,{transform:C,snapGrid:P,snapToGrid:F,containerBounds:c});if(o=Q,a=Ly(E,I,Q,T),a.size>0&&(n||W||!T&&G)){const[O,B]=$s({nodeId:T,dragItems:a,nodeLookup:E});n==null||n(_.sourceEvent,a,O,B),W==null||W(_.sourceEvent,O,B),T||G==null||G(_.sourceEvent,B)}}const N=hd().clickDistance(M).on("start",_=>{const{domNode:E,nodeDragThreshold:v,transform:I,snapGrid:C,snapToGrid:P}=t();c=(E==null?void 0:E.getBoundingClientRect())||null,g=!1,p=!1,b=_.sourceEvent,v===0&&D(_),o=Yi(_.sourceEvent,{transform:I,snapGrid:C,snapToGrid:P,containerBounds:c}),d=gn(_.sourceEvent,c)}).on("drag",_=>{const{autoPanOnNodeDrag:E,transform:v,snapGrid:I,snapToGrid:C,nodeDragThreshold:P,nodeLookup:F}=t(),H=Yi(_.sourceEvent,{transform:v,snapGrid:I,snapToGrid:C,containerBounds:c});if(b=_.sourceEvent,(_.sourceEvent.type==="touchmove"&&_.sourceEvent.touches.length>1||T&&!F.has(T))&&(g=!0),!g){if(!u&&E&&h&&(u=!0,V()),!h){const W=gn(_.sourceEvent,c),G=W.x-d.x,U=W.y-d.y;Math.sqrt(G*G+U*U)>P&&D(_)}(o.x!==H.xSnapped||o.y!==H.ySnapped)&&a&&h&&(d=gn(_.sourceEvent,c),x(H))}}).on("end",_=>{if(!(!h||g)&&(u=!1,h=!1,cancelAnimationFrame(s),a.size>0)){const{nodeLookup:E,updateNodePositions:v,onNodeDragStop:I,onSelectionDragStop:C}=t();if(p&&(v(a,!1),p=!1),i||I||!T&&C){const[P,F]=$s({nodeId:T,dragItems:a,nodeLookup:E,dragging:!1});i==null||i(_.sourceEvent,a,P,F),I==null||I(_.sourceEvent,P,F),T||C==null||C(_.sourceEvent,F)}}}).filter(_=>{const E=_.target;return!_.button&&(!w||!Su(E,`.${w}`,m))&&(!S||Su(E,S,m))});f.call(N)}function k(){f==null||f.on(".drag",null)}return{update:y,destroy:k}}function Hy(e,t,n){const r=[],i={x:e.x-n,y:e.y-n,width:n*2,height:n*2};for(const o of t.values())$i(i,wi(o))>0&&r.push(o);return r}const Ky=250;function By(e,t,n,r){var a,u;let i=[],o=1/0;const s=Hy(e,n,t+Ky);for(const d of s){const c=[...((a=d.internals.handleBounds)==null?void 0:a.source)??[],...((u=d.internals.handleBounds)==null?void 0:u.target)??[]];for(const h of c){if(r.nodeId===h.nodeId&&r.type===h.type&&r.id===h.id)continue;const{x:f,y:g}=Kr(d,h,h.position,!0),p=Math.sqrt(Math.pow(f-e.x,2)+Math.pow(g-e.y,2));p>t||(p<o?(i=[{...h,x:f,y:g}],o=p):p===o&&i.push({...h,x:f,y:g}))}}if(!i.length)return null;if(i.length>1){const d=r.type==="source"?"target":"source";return i.find(c=>c.type===d)??i[0]}return i[0]}function Wd(e,t,n,r,i,o=!1){var d,c,h;const s=r.get(e);if(!s)return null;const a=i==="strict"?(d=s.internals.handleBounds)==null?void 0:d[t]:[...((c=s.internals.handleBounds)==null?void 0:c.source)??[],...((h=s.internals.handleBounds)==null?void 0:h.target)??[]],u=(n?a==null?void 0:a.find(f=>f.id===n):a==null?void 0:a[0])??null;return u&&o?{...u,...Kr(s,u,u.position,!0)}:u}function Yd(e,t){return e||(t!=null&&t.classList.contains("target")?"target":t!=null&&t.classList.contains("source")?"source":null)}function Wy(e,t){let n=null;return t?n=!0:e&&!t&&(n=!1),n}const Xd=()=>!0;function Yy(e,{connectionMode:t,connectionRadius:n,handleId:r,nodeId:i,edgeUpdaterType:o,isTarget:s,domNode:a,nodeLookup:u,lib:d,autoPanOnConnect:c,flowId:h,panBy:f,cancelConnection:g,onConnectStart:p,onConnect:b,onConnectEnd:y,isValidConnection:k=Xd,onReconnectEnd:w,updateConnection:S,getTransform:m,getFromHandle:A,autoPanSpeed:T,dragThreshold:M=1,handleDomNode:x}){const V=Dd(e.target);let D=0,N;const{x:_,y:E}=gn(e),v=Yd(o,x),I=a==null?void 0:a.getBoundingClientRect();let C=!1;if(!I||!v)return;const P=Wd(i,v,r,u,t);if(!P)return;let F=gn(e,I),H=!1,W=null,G=!1,U=null;function Q(){if(!c||!I)return;const[q,le]=Ad(F,I,T);f({x:q,y:le}),D=requestAnimationFrame(Q)}const z={...P,nodeId:i,type:v,position:P.position},O=u.get(i);let X={inProgress:!0,isValid:null,from:Kr(O,z,Ce.Left,!0),fromHandle:z,fromPosition:z.position,fromNode:O,to:F,toHandle:null,toPosition:gu[z.position],toNode:null,pointer:F};function Y(){C=!0,S(X),p==null||p(e,{nodeId:i,handleId:r,handleType:v})}M===0&&Y();function J(q){if(!C){const{x:xe,y:_e}=gn(q),ne=xe-_,ae=_e-E;if(!(ne*ne+ae*ae>M*M))return;Y()}if(!A()||!z){re(q);return}const le=m();F=gn(q,I),N=By(Eo(F,le,!1,[1,1]),n,u,z),H||(Q(),H=!0);const ge=jd(q,{handle:N,connectionMode:t,fromNodeId:i,fromHandleId:r,fromType:s?"target":"source",isValidConnection:k,doc:V,lib:d,flowId:h,nodeLookup:u});U=ge.handleDomNode,W=ge.connection,G=Wy(!!N,ge.isValid);const pe=u.get(i),oe=pe?Kr(pe,z,Ce.Left,!0):X.from,be={...X,from:oe,isValid:G,to:ge.toHandle&&G?os({x:ge.toHandle.x,y:ge.toHandle.y},le):F,toHandle:ge.toHandle,toPosition:G&&ge.toHandle?ge.toHandle.position:gu[z.position],toNode:ge.toHandle?u.get(ge.toHandle.nodeId):null,pointer:F};S(be),X=be}function re(q){if(!("touches"in q&&q.touches.length>0)){if(C){(N||U)&&W&&G&&(b==null||b(W));const{inProgress:le,...ge}=X,pe={...ge,toPosition:X.toHandle?X.toPosition:null};y==null||y(q,pe),o&&(w==null||w(q,pe))}g(),cancelAnimationFrame(D),H=!1,G=!1,W=null,U=null,V.removeEventListener("mousemove",J),V.removeEventListener("mouseup",re),V.removeEventListener("touchmove",J),V.removeEventListener("touchend",re)}}V.addEventListener("mousemove",J),V.addEventListener("mouseup",re),V.addEventListener("touchmove",J),V.addEventListener("touchend",re)}function jd(e,{handle:t,connectionMode:n,fromNodeId:r,fromHandleId:i,fromType:o,doc:s,lib:a,flowId:u,isValidConnection:d=Xd,nodeLookup:c}){const h=o==="target",f=t?s.querySelector(`.${a}-flow__handle[data-id="${u}-${t==null?void 0:t.nodeId}-${t==null?void 0:t.id}-${t==null?void 0:t.type}"]`):null,{x:g,y:p}=gn(e),b=s.elementFromPoint(g,p),y=b!=null&&b.classList.contains(`${a}-flow__handle`)?b:f,k={handleDomNode:y,isValid:!1,connection:null,toHandle:null};if(y){const w=Yd(void 0,y),S=y.getAttribute("data-nodeid"),m=y.getAttribute("data-handleid"),A=y.classList.contains("connectable"),T=y.classList.contains("connectableend");if(!S||!w)return k;const M={source:h?S:r,sourceHandle:h?m:i,target:h?r:S,targetHandle:h?i:m};k.connection=M;const V=A&&T&&(n===bi.Strict?h&&w==="source"||!h&&w==="target":S!==r||m!==i);k.isValid=V&&d(M),k.toHandle=Wd(S,w,m,c,n,!0)}return k}const Iu={onPointerDown:Yy,isValid:jd},Ds=e=>({x:e.x,y:e.y,zoom:e.k}),ea=({x:e,y:t,zoom:n})=>Cs.translate(e,t).scale(n),ei=(e,t)=>e.target.closest(`.${t}`),Gd=(e,t)=>t===2&&Array.isArray(e)&&e.includes(2),Xy=e=>((e*=2)<=1?e*e*e:(e-=2)*e*e+2)/2,ta=(e,t=0,n=Xy,r=()=>{})=>{const i=typeof t=="number"&&t>0;return i||r(),i?e.transition().duration(t).ease(n).on("end",r):e},Ud=e=>{const t=e.ctrlKey&&ss()?10:1;return-e.deltaY*(e.deltaMode===1?.05:e.deltaMode?1:.002)*t};function jy({zoomPanValues:e,noWheelClassName:t,d3Selection:n,d3Zoom:r,panOnScrollMode:i,panOnScrollSpeed:o,zoomOnPinch:s,onPanZoomStart:a,onPanZoom:u,onPanZoomEnd:d}){return c=>{if(ei(c,t))return c.ctrlKey&&c.preventDefault(),!1;c.preventDefault(),c.stopImmediatePropagation();const h=n.property("__zoom").k||1;if(c.ctrlKey&&s){const y=En(c),k=Ud(c),w=h*Math.pow(2,k);r.scaleTo(n,w,y,c);return}const f=c.deltaMode===1?20:1;let g=i===ri.Vertical?0:c.deltaX*f,p=i===ri.Horizontal?0:c.deltaY*f;!ss()&&c.shiftKey&&i!==ri.Vertical&&(g=c.deltaY*f,p=0),r.translateBy(n,-(g/h)*o,-(p/h)*o,{internal:!0});const b=Ds(n.property("__zoom"));clearTimeout(e.panScrollTimeout),e.isPanScrolling?(u==null||u(c,b),e.panScrollTimeout=setTimeout(()=>{d==null||d(c,b),e.isPanScrolling=!1},150)):(e.isPanScrolling=!0,a==null||a(c,b))}}function Gy({noWheelClassName:e,preventScrolling:t,d3ZoomHandler:n}){return function(r,i){const o=r.type==="wheel",s=!t&&o&&!r.ctrlKey,a=ei(r,e);if(r.ctrlKey&&o&&a&&r.preventDefault(),s||a)return null;r.preventDefault(),n.call(this,r,i)}}function Uy({zoomPanValues:e,onDraggingChange:t,onPanZoomStart:n}){return r=>{var o,s,a;if((o=r.sourceEvent)!=null&&o.internal)return;const i=Ds(r.transform);e.mouseButton=((s=r.sourceEvent)==null?void 0:s.button)||0,e.isZoomingOrPanning=!0,e.prevViewport=i,((a=r.sourceEvent)==null?void 0:a.type)==="mousedown"&&t(!0),n&&(n==null||n(r.sourceEvent,i))}}function qy({zoomPanValues:e,panOnDrag:t,onPaneContextMenu:n,onTransformChange:r,onPanZoom:i}){return o=>{var s,a;e.usedRightMouseButton=!!(n&&Gd(t,e.mouseButton??0)),(s=o.sourceEvent)!=null&&s.sync||r([o.transform.x,o.transform.y,o.transform.k]),i&&!((a=o.sourceEvent)!=null&&a.internal)&&(i==null||i(o.sourceEvent,Ds(o.transform)))}}function Zy({zoomPanValues:e,panOnDrag:t,panOnScroll:n,onDraggingChange:r,onPanZoomEnd:i,onPaneContextMenu:o}){return s=>{var a;if(!((a=s.sourceEvent)!=null&&a.internal)&&(e.isZoomingOrPanning=!1,o&&Gd(t,e.mouseButton??0)&&!e.usedRightMouseButton&&s.sourceEvent&&o(s.sourceEvent),e.usedRightMouseButton=!1,r(!1),i)){const u=Ds(s.transform);e.prevViewport=u,clearTimeout(e.timerId),e.timerId=setTimeout(()=>{i==null||i(s.sourceEvent,u)},n?150:0)}}}function Qy({zoomActivationKeyPressed:e,zoomOnScroll:t,zoomOnPinch:n,panOnDrag:r,panOnScroll:i,zoomOnDoubleClick:o,userSelectionActive:s,noWheelClassName:a,noPanClassName:u,lib:d,connectionInProgress:c}){return h=>{var y;const f=e||t,g=n&&h.ctrlKey,p=h.type==="wheel";if(h.button===1&&h.type==="mousedown"&&(ei(h,`${d}-flow__node`)||ei(h,`${d}-flow__edge`)))return!0;if(!r&&!f&&!i&&!o&&!n||s||c&&!p||ei(h,a)&&p||ei(h,u)&&(!p||i&&p&&!e)||!n&&h.ctrlKey&&p)return!1;if(!n&&h.type==="touchstart"&&((y=h.touches)==null?void 0:y.length)>1)return h.preventDefault(),!1;if(!f&&!i&&!g&&p||!r&&(h.type==="mousedown"||h.type==="touchstart")||Array.isArray(r)&&!r.includes(h.button)&&h.type==="mousedown")return!1;const b=Array.isArray(r)&&r.includes(h.button)||!h.button||h.button<=1;return(!h.ctrlKey||p)&&b}}function Jy({domNode:e,minZoom:t,maxZoom:n,translateExtent:r,viewport:i,onPanZoom:o,onPanZoomStart:s,onPanZoomEnd:a,onDraggingChange:u}){const d={isZoomingOrPanning:!1,usedRightMouseButton:!1,prevViewport:{},mouseButton:0,timerId:void 0,panScrollTimeout:void 0,isPanScrolling:!1},c=e.getBoundingClientRect(),h=Jm().scaleExtent([t,n]).translateExtent(r),f=Qt(e).call(h);w({x:i.x,y:i.y,zoom:_i(i.zoom,t,n)},[[0,0],[c.width,c.height]],r);const g=f.on("wheel.zoom"),p=f.on("dblclick.zoom");h.wheelDelta(Ud);function b(N,_){return f?new Promise(E=>{h==null||h.interpolate((_==null?void 0:_.interpolate)==="linear"?Wi:Xo).transform(ta(f,_==null?void 0:_.duration,_==null?void 0:_.ease,()=>E(!0)),N)}):Promise.resolve(!1)}function y({noWheelClassName:N,noPanClassName:_,onPaneContextMenu:E,userSelectionActive:v,panOnScroll:I,panOnDrag:C,panOnScrollMode:P,panOnScrollSpeed:F,preventScrolling:H,zoomOnPinch:W,zoomOnScroll:G,zoomOnDoubleClick:U,zoomActivationKeyPressed:Q,lib:z,onTransformChange:O,connectionInProgress:B,paneClickDistance:X,selectionOnDrag:Y}){v&&!d.isZoomingOrPanning&&k();const J=I&&!Q&&!v;h.clickDistance(Y?1/0:!Un(X)||X<0?0:X);const re=J?jy({zoomPanValues:d,noWheelClassName:N,d3Selection:f,d3Zoom:h,panOnScrollMode:P,panOnScrollSpeed:F,zoomOnPinch:W,onPanZoomStart:s,onPanZoom:o,onPanZoomEnd:a}):Gy({noWheelClassName:N,preventScrolling:H,d3ZoomHandler:g});if(f.on("wheel.zoom",re,{passive:!1}),!v){const le=Uy({zoomPanValues:d,onDraggingChange:u,onPanZoomStart:s});h.on("start",le);const ge=qy({zoomPanValues:d,panOnDrag:C,onPaneContextMenu:!!E,onPanZoom:o,onTransformChange:O});h.on("zoom",ge);const pe=Zy({zoomPanValues:d,panOnDrag:C,panOnScroll:I,onPaneContextMenu:E,onPanZoomEnd:a,onDraggingChange:u});h.on("end",pe)}const q=Qy({zoomActivationKeyPressed:Q,panOnDrag:C,zoomOnScroll:G,panOnScroll:I,zoomOnDoubleClick:U,zoomOnPinch:W,userSelectionActive:v,noPanClassName:_,noWheelClassName:N,lib:z,connectionInProgress:B});h.filter(q),U?f.on("dblclick.zoom",p):f.on("dblclick.zoom",null)}function k(){h.on("zoom",null)}async function w(N,_,E){const v=ea(N),I=h==null?void 0:h.constrain()(v,_,E);return I&&await b(I),new Promise(C=>C(I))}async function S(N,_){const E=ea(N);return await b(E,_),new Promise(v=>v(E))}function m(N){if(f){const _=ea(N),E=f.property("__zoom");(E.k!==N.zoom||E.x!==N.x||E.y!==N.y)&&(h==null||h.transform(f,_,null,{sync:!0}))}}function A(){const N=f?Id(f.node()):{x:0,y:0,k:1};return{x:N.x,y:N.y,zoom:N.k}}function T(N,_){return f?new Promise(E=>{h==null||h.interpolate((_==null?void 0:_.interpolate)==="linear"?Wi:Xo).scaleTo(ta(f,_==null?void 0:_.duration,_==null?void 0:_.ease,()=>E(!0)),N)}):Promise.resolve(!1)}function M(N,_){return f?new Promise(E=>{h==null||h.interpolate((_==null?void 0:_.interpolate)==="linear"?Wi:Xo).scaleBy(ta(f,_==null?void 0:_.duration,_==null?void 0:_.ease,()=>E(!0)),N)}):Promise.resolve(!1)}function x(N){h==null||h.scaleExtent(N)}function V(N){h==null||h.translateExtent(N)}function D(N){const _=!Un(N)||N<0?0:N;h==null||h.clickDistance(_)}return{update:y,destroy:k,setViewport:S,setViewportConstrained:w,getViewport:A,scaleTo:T,scaleBy:M,setScaleExtent:x,setTranslateExtent:V,syncViewport:m,setClickDistance:D}}var eo;(function(e){e.Line="line",e.Handle="handle"})(eo||(eo={}));const $y=["top-left","top-right","bottom-left","bottom-right"],e0=["top","right","bottom","left"];function t0({width:e,prevWidth:t,height:n,prevHeight:r,affectsX:i,affectsY:o}){const s=e-t,a=n-r,u=[s>0?1:s<0?-1:0,a>0?1:a<0?-1:0];return s&&i&&(u[0]=u[0]*-1),a&&o&&(u[1]=u[1]*-1),u}function Tu(e){const t=e.includes("right")||e.includes("left"),n=e.includes("bottom")||e.includes("top"),r=e.includes("left"),i=e.includes("top");return{isHorizontal:t,isVertical:n,affectsX:r,affectsY:i}}function ir(e,t){return Math.max(0,t-e)}function or(e,t){return Math.max(0,e-t)}function Vo(e,t,n){return Math.max(0,t-e,e-n)}function Ou(e,t){return e?!t:t}function n0(e,t,n,r,i,o,s,a){let{affectsX:u,affectsY:d}=t;const{isHorizontal:c,isVertical:h}=t,f=c&&h,{xSnapped:g,ySnapped:p}=n,{minWidth:b,maxWidth:y,minHeight:k,maxHeight:w}=r,{x:S,y:m,width:A,height:T,aspectRatio:M}=e;let x=Math.floor(c?g-e.pointerX:0),V=Math.floor(h?p-e.pointerY:0);const D=A+(u?-x:x),N=T+(d?-V:V),_=-o[0]*A,E=-o[1]*T;let v=Vo(D,b,y),I=Vo(N,k,w);if(s){let F=0,H=0;u&&x<0?F=ir(S+x+_,s[0][0]):!u&&x>0&&(F=or(S+D+_,s[1][0])),d&&V<0?H=ir(m+V+E,s[0][1]):!d&&V>0&&(H=or(m+N+E,s[1][1])),v=Math.max(v,F),I=Math.max(I,H)}if(a){let F=0,H=0;u&&x>0?F=or(S+x,a[0][0]):!u&&x<0&&(F=ir(S+D,a[1][0])),d&&V>0?H=or(m+V,a[0][1]):!d&&V<0&&(H=ir(m+N,a[1][1])),v=Math.max(v,F),I=Math.max(I,H)}if(i){if(c){const F=Vo(D/M,k,w)*M;if(v=Math.max(v,F),s){let H=0;!u&&!d||u&&!d&&f?H=or(m+E+D/M,s[1][1])*M:H=ir(m+E+(u?x:-x)/M,s[0][1])*M,v=Math.max(v,H)}if(a){let H=0;!u&&!d||u&&!d&&f?H=ir(m+D/M,a[1][1])*M:H=or(m+(u?x:-x)/M,a[0][1])*M,v=Math.max(v,H)}}if(h){const F=Vo(N*M,b,y)/M;if(I=Math.max(I,F),s){let H=0;!u&&!d||d&&!u&&f?H=or(S+N*M+_,s[1][0])/M:H=ir(S+(d?V:-V)*M+_,s[0][0])/M,I=Math.max(I,H)}if(a){let H=0;!u&&!d||d&&!u&&f?H=ir(S+N*M,a[1][0])/M:H=or(S+(d?V:-V)*M,a[0][0])/M,I=Math.max(I,H)}}}V=V+(V<0?I:-I),x=x+(x<0?v:-v),i&&(f?D>N*M?V=(Ou(u,d)?-x:x)/M:x=(Ou(u,d)?-V:V)*M:c?(V=x/M,d=u):(x=V*M,u=d));const C=u?S+x:S,P=d?m+V:m;return{width:A+(u?-x:x),height:T+(d?-V:V),x:o[0]*x*(u?-1:1)+C,y:o[1]*V*(d?-1:1)+P}}const qd={width:0,height:0,x:0,y:0},r0={...qd,pointerX:0,pointerY:0,aspectRatio:1};function i0(e){return[[0,0],[e.measured.width,e.measured.height]]}function o0(e,t,n){const r=t.position.x+e.position.x,i=t.position.y+e.position.y,o=e.measured.width??0,s=e.measured.height??0,a=n[0]*o,u=n[1]*s;return[[r-a,i-u],[r+o-a,i+s-u]]}function s0({domNode:e,nodeId:t,getStoreItems:n,onChange:r,onEnd:i}){const o=Qt(e);let s={controlDirection:Tu("bottom-right"),boundaries:{minWidth:0,minHeight:0,maxWidth:Number.MAX_VALUE,maxHeight:Number.MAX_VALUE},resizeDirection:void 0,keepAspectRatio:!1};function a({controlPosition:d,boundaries:c,keepAspectRatio:h,resizeDirection:f,onResizeStart:g,onResize:p,onResizeEnd:b,shouldResize:y}){let k={...qd},w={...r0};s={boundaries:c,resizeDirection:f,keepAspectRatio:h,controlDirection:Tu(d)};let S,m=null,A=[],T,M,x,V=!1;const D=hd().on("start",N=>{const{nodeLookup:_,transform:E,snapGrid:v,snapToGrid:I,nodeOrigin:C,paneDomNode:P}=n();if(S=_.get(t),!S)return;m=(P==null?void 0:P.getBoundingClientRect())??null;const{xSnapped:F,ySnapped:H}=Yi(N.sourceEvent,{transform:E,snapGrid:v,snapToGrid:I,containerBounds:m});k={width:S.measured.width??0,height:S.measured.height??0,x:S.position.x??0,y:S.position.y??0},w={...k,pointerX:F,pointerY:H,aspectRatio:k.width/k.height},T=void 0,S.parentId&&(S.extent==="parent"||S.expandParent)&&(T=_.get(S.parentId),M=T&&S.extent==="parent"?i0(T):void 0),A=[],x=void 0;for(const[W,G]of _)if(G.parentId===t&&(A.push({id:W,position:{...G.position},extent:G.extent}),G.extent==="parent"||G.expandParent)){const U=o0(G,S,G.origin??C);x?x=[[Math.min(U[0][0],x[0][0]),Math.min(U[0][1],x[0][1])],[Math.max(U[1][0],x[1][0]),Math.max(U[1][1],x[1][1])]]:x=U}g==null||g(N,{...k})}).on("drag",N=>{const{transform:_,snapGrid:E,snapToGrid:v,nodeOrigin:I}=n(),C=Yi(N.sourceEvent,{transform:_,snapGrid:E,snapToGrid:v,containerBounds:m}),P=[];if(!S)return;const{x:F,y:H,width:W,height:G}=k,U={},Q=S.origin??I,{width:z,height:O,x:B,y:X}=n0(w,s.controlDirection,C,s.boundaries,s.keepAspectRatio,Q,M,x),Y=z!==W,J=O!==G,re=B!==F&&Y,q=X!==H&&J;if(!re&&!q&&!Y&&!J)return;if((re||q||Q[0]===1||Q[1]===1)&&(U.x=re?B:k.x,U.y=q?X:k.y,k.x=U.x,k.y=U.y,A.length>0)){const oe=B-F,be=X-H;for(const xe of A)xe.position={x:xe.position.x-oe+Q[0]*(z-W),y:xe.position.y-be+Q[1]*(O-G)},P.push(xe)}if((Y||J)&&(U.width=Y&&(!s.resizeDirection||s.resizeDirection==="horizontal")?z:k.width,U.height=J&&(!s.resizeDirection||s.resizeDirection==="vertical")?O:k.height,k.width=U.width,k.height=U.height),T&&S.expandParent){const oe=Q[0]*(U.width??0);U.x&&U.x<oe&&(k.x=oe,w.x=w.x-(U.x-oe));const be=Q[1]*(U.height??0);U.y&&U.y<be&&(k.y=be,w.y=w.y-(U.y-be))}const le=t0({width:k.width,prevWidth:W,height:k.height,prevHeight:G,affectsX:s.controlDirection.affectsX,affectsY:s.controlDirection.affectsY}),ge={...k,direction:le};(y==null?void 0:y(N,ge))!==!1&&(V=!0,p==null||p(N,ge),r(U,P))}).on("end",N=>{V&&(b==null||b(N,{...k}),i==null||i({...k}),V=!1)});o.call(D)}function u(){o.on(".drag",null)}return{update:a,destroy:u}}function wl(){const e={};return[t=>{if(t&&!sh(e))throw new Error(t);return qa(e)},t=>Za(e,t)]}const[Zd,a0]=wl(),[l0,u0]=wl(),[c0,d0]=wl();var f0=de("<div><!></div>");function to(e,t){Ne(t,!0);let n=ee(t,"id",3,null),r=ee(t,"type",3,"source"),i=ee(t,"position",19,()=>Ce.Top),o=ee(t,"isConnectableStart",3,!0),s=ee(t,"isConnectableEnd",3,!0),a=Xr(t,["$$slots","$$events","$$legacy","id","type","position","style","class","isConnectable","isConnectableStart","isConnectableEnd","isValidConnection","onconnect","ondisconnect","children"]);const u=Zd("Handle must be used within a Custom Node component"),d=l0("Handle must be used within a Custom Node component");let c=L(()=>r()==="target"),h=L(()=>t.isConnectable!==void 0?t.isConnectable:d.value),f=br(),g=L(()=>f.ariaLabelConfig),p=null;tl(()=>{if(t.onconnect||t.ondisconnect){f.edges;let _=f.connectionLookup.get(`${u}-${r()}${n()?`-${n()}`:""}`);if(p&&!ey(_,p)){const E=_??new Map;vu(p,E,t.ondisconnect),vu(E,p,t.onconnect)}p=new Map(_)}});let b=L(()=>{if(!f.connection.inProgress)return[!1,!1,!1,!1,null];const{fromHandle:_,toHandle:E,isValid:v}=f.connection,I=_&&_.nodeId===u&&_.type===r()&&_.id===n(),C=E&&E.nodeId===u&&E.type===r()&&E.id===n(),P=f.connectionMode===bi.Strict?(_==null?void 0:_.type)!==r():u!==(_==null?void 0:_.nodeId)||n()!==(_==null?void 0:_.id);return[!0,I,C,P,C&&v]}),y=L(()=>mr(l(b),5)),k=L(()=>l(y)[0]),w=L(()=>l(y)[1]),S=L(()=>l(y)[2]),m=L(()=>l(y)[3]),A=L(()=>l(y)[4]);function T(_){var v;const E=f.onbeforeconnect?f.onbeforeconnect(_):_;E&&(f.addEdge(E),(v=f.onconnect)==null||v.call(f,_))}function M(_){const E=zd(_);_.currentTarget&&(E&&_.button===0||!E)&&Iu.onPointerDown(_,{handleId:n(),nodeId:u,isTarget:l(c),connectionRadius:f.connectionRadius,domNode:f.domNode,nodeLookup:f.nodeLookup,connectionMode:f.connectionMode,lib:"svelte",autoPanOnConnect:f.autoPanOnConnect,autoPanSpeed:f.autoPanSpeed,flowId:f.flowId,isValidConnection:t.isValidConnection??f.isValidConnection,updateConnection:f.updateConnection,cancelConnection:f.cancelConnection,panBy:f.panBy,onConnect:T,onConnectStart:(v,I)=>{var C;(C=f.onconnectstart)==null||C.call(f,v,{nodeId:I.nodeId,handleId:I.handleId,handleType:I.handleType})},onConnectEnd:(v,I)=>{var C;(C=f.onconnectend)==null||C.call(f,v,I)},getTransform:()=>[f.viewport.x,f.viewport.y,f.viewport.zoom],getFromHandle:()=>f.connection.fromHandle,dragThreshold:f.connectionDragThreshold,handleDomNode:_.currentTarget})}function x(_){var U,Q;if(!u||!f.clickConnectStartHandle&&!o())return;if(!f.clickConnectStartHandle){(U=f.onclickconnectstart)==null||U.call(f,_,{nodeId:u,handleId:n(),handleType:r()}),f.clickConnectStartHandle={nodeId:u,type:r(),id:n()};return}const E=Dd(_.target),v=t.isValidConnection??f.isValidConnection,{connectionMode:I,clickConnectStartHandle:C,flowId:P,nodeLookup:F}=f,{connection:H,isValid:W}=Iu.isValid(_,{handle:{nodeId:u,id:n(),type:r()},connectionMode:I,fromNodeId:C.nodeId,fromHandleId:C.id??null,fromType:C.type,isValidConnection:v,flowId:P,doc:E,lib:"svelte",nodeLookup:F});W&&H&&T(H);const G=structuredClone(ac(f.connection));delete G.inProgress,G.toPosition=G.toHandle?G.toHandle.position:null,(Q=f.onclickconnectend)==null||Q.call(f,_,G),f.clickConnectStartHandle=null}var V=f0(),D=()=>{};vn(V,()=>({"data-handleid":n(),"data-nodeid":u,"data-handlepos":i(),"data-id":`${f.flowId??""}-${u??""}-${n()??"null"??""}-${r()??""}`,class:["svelte-flow__handle",`svelte-flow__handle-${i()}`,f.noDragClass,f.noPanClass,i(),t.class],onmousedown:M,ontouchstart:M,onclick:f.clickConnect?x:void 0,onkeypress:D,style:t.style,role:"button","aria-label":l(g)["handle.ariaLabel"],tabindex:"-1",...a,[sr]:{valid:l(A),connectingto:l(S),connectingfrom:l(w),source:!l(c),target:l(c),connectablestart:o(),connectableend:s(),connectable:l(h),connectionindicator:l(h)&&(!l(k)||l(m))&&(l(k)||f.clickConnectStartHandle?s():o())}}));var N=se(V);zn(N,()=>t.children??pr),te(e,V),ke()}var h0=de("<!> <!>",1);function Qd(e,t){Ne(t,!0);let n=ee(t,"targetPosition",19,()=>Ce.Top),r=ee(t,"sourcePosition",19,()=>Ce.Bottom);var i=h0(),o=Pe(i);to(o,{type:"target",get position(){return n()}});var s=he(o),a=he(s);to(a,{type:"source",get position(){return r()}}),ye(()=>{var u;return We(s,` ${((u=t.data)==null?void 0:u.label)??""} `)}),te(e,i),ke()}var g0=de(" <!>",1);function v0(e,t){Ne(t,!0);let n=ee(t,"data",19,()=>({label:"Node"})),r=ee(t,"sourcePosition",19,()=>Ce.Bottom);var i=g0(),o=Pe(i),s=he(o);to(s,{type:"source",get position(){return r()}}),ye(()=>{var a;return We(o,`${((a=n())==null?void 0:a.label)??""} `)}),te(e,i),ke()}var p0=de(" <!>",1);function m0(e,t){Ne(t,!0);let n=ee(t,"data",19,()=>({label:"Node"})),r=ee(t,"targetPosition",19,()=>Ce.Top);var i=p0(),o=Pe(i),s=he(o);to(s,{type:"target",get position(){return r()}}),ye(()=>{var a;return We(o,`${((a=n())==null?void 0:a.label)??""} `)}),te(e,i),ke()}function y0(e,t){}function na(e,t,n){if(!n||!t)return;const r=n==="root"?t:t.querySelector(`.svelte-flow__${n}`);r&&r.appendChild(e)}function ra(e,t){const n=L(br),r=L(()=>l(n).domNode);let i;return l(r)?na(e,l(r),t):i=Cc(()=>{qe(()=>{na(e,l(r),t),i==null||i()})}),{async update(o){na(e,l(r),o)},destroy(){e.parentNode&&e.parentNode.removeChild(e),i==null||i()}}}function b0(){let e=we(typeof window>"u");if(l(e)){const t=Cc(()=>{qe(()=>{j(e,!1),t==null||t()})})}return{get value(){return l(e)}}}const Cu=e=>ny(e),_0=e=>Od(e);function Mn(e){return e===void 0?void 0:`${e}px`}const as={ArrowUp:{x:0,y:-1},ArrowDown:{x:0,y:1},ArrowLeft:{x:-1,y:0},ArrowRight:{x:1,y:0}};var w0=de("<div><!></div>");function x0(e,t){Ne(t,!0);let n=ee(t,"x",3,0),r=ee(t,"y",3,0),i=ee(t,"selectEdgeOnClick",3,!1),o=ee(t,"transparent",3,!1),s=Xr(t,["$$slots","$$events","$$legacy","x","y","width","height","selectEdgeOnClick","transparent","class","children"]);const a=br(),u=c0("EdgeLabel must be used within a Custom Edge component");let d=L(()=>{var g;return(g=a.visible.edges.get(u))==null?void 0:g.zIndex});var c=w0(),h=()=>{i()&&u&&a.handleEdgeSelection(u)};vn(c,g=>({class:["svelte-flow__edge-label",{transparent:o()},t.class],tabindex:"-1",onclick:h,...s,[Yn]:g}),[()=>({display:b0().value?"none":void 0,cursor:i()?"pointer":void 0,transform:`translate(-50%, -50%) translate(${n()??""}px,${r()??""}px)`,"pointer-events":"all",width:Mn(t.width),height:Mn(t.height),"z-index":l(d)})],void 0,void 0,"svelte-1g6l770");var f=se(c);zn(f,()=>t.children??pr),Dt(c,(g,p)=>ra==null?void 0:ra(g,p),()=>"edge-labels"),te(e,c),ke()}var E0=Xt("<path></path>"),N0=Xt('<path fill="none"></path><!><!>',1);function Rs(e,t){let n=ee(t,"interactionWidth",3,20),r=Xr(t,["$$slots","$$events","$$legacy","id","path","label","labelX","labelY","labelStyle","markerStart","markerEnd","style","interactionWidth","class"]);var i=N0(),o=Pe(i),s=he(o);{var a=c=>{var h=E0();vn(h,()=>({d:t.path,"stroke-opacity":0,"stroke-width":n(),fill:"none",class:"svelte-flow__edge-interaction",...r})),te(c,h)};De(s,c=>{n()>0&&c(a)})}var u=he(s);{var d=c=>{x0(c,{get x(){return t.labelX},get y(){return t.labelY},get style(){return t.labelStyle},selectEdgeOnClick:!0,children:(h,f)=>{var g=jh();ye(()=>We(g,t.label)),te(h,g)},$$slots:{default:!0}})};De(u,c=>{t.label&&c(d)})}ye(()=>{me(o,"id",t.id),me(o,"d",t.path),Ot(o,0,Yr(["svelte-flow__edge-path",t.class])),me(o,"marker-start",t.markerStart),me(o,"marker-end",t.markerEnd),Ze(o,t.style)}),te(e,i)}function Jd(e,t){Ne(t,!0);let n=L(()=>{var a;return Ld({sourceX:t.sourceX,sourceY:t.sourceY,targetX:t.targetX,targetY:t.targetY,sourcePosition:t.sourcePosition,targetPosition:t.targetPosition,curvature:(a=t.pathOptions)==null?void 0:a.curvature})}),r=L(()=>mr(l(n),3)),i=L(()=>l(r)[0]),o=L(()=>l(r)[1]),s=L(()=>l(r)[2]);Rs(e,{get id(){return t.id},get path(){return l(i)},get labelX(){return l(o)},get labelY(){return l(s)},get label(){return t.label},get labelStyle(){return t.labelStyle},get markerStart(){return t.markerStart},get markerEnd(){return t.markerEnd},get interactionWidth(){return t.interactionWidth},get style(){return t.style}}),ke()}function k0(e,t){Ne(t,!0);let n=L(()=>pl({sourceX:t.sourceX,sourceY:t.sourceY,targetX:t.targetX,targetY:t.targetY,sourcePosition:t.sourcePosition,targetPosition:t.targetPosition})),r=L(()=>mr(l(n),3)),i=L(()=>l(r)[0]),o=L(()=>l(r)[1]),s=L(()=>l(r)[2]);Rs(e,{get path(){return l(i)},get labelX(){return l(o)},get labelY(){return l(s)},get label(){return t.label},get labelStyle(){return t.labelStyle},get markerStart(){return t.markerStart},get markerEnd(){return t.markerEnd},get interactionWidth(){return t.interactionWidth},get style(){return t.style}}),ke()}function S0(e,t){Ne(t,!0);let n=L(()=>Fd({sourceX:t.sourceX,sourceY:t.sourceY,targetX:t.targetX,targetY:t.targetY})),r=L(()=>mr(l(n),3)),i=L(()=>l(r)[0]),o=L(()=>l(r)[1]),s=L(()=>l(r)[2]);Rs(e,{get path(){return l(i)},get labelX(){return l(o)},get labelY(){return l(s)},get label(){return t.label},get labelStyle(){return t.labelStyle},get markerStart(){return t.markerStart},get markerEnd(){return t.markerEnd},get interactionWidth(){return t.interactionWidth},get style(){return t.style}}),ke()}function I0(e,t){Ne(t,!0);let n=L(()=>pl({sourceX:t.sourceX,sourceY:t.sourceY,targetX:t.targetX,targetY:t.targetY,sourcePosition:t.sourcePosition,targetPosition:t.targetPosition,borderRadius:0})),r=L(()=>mr(l(n),3)),i=L(()=>l(r)[0]),o=L(()=>l(r)[1]),s=L(()=>l(r)[2]);Rs(e,{get path(){return l(i)},get labelX(){return l(o)},get labelY(){return l(s)},get label(){return t.label},get labelStyle(){return t.labelStyle},get markerStart(){return t.markerStart},get markerEnd(){return t.markerEnd},get interactionWidth(){return t.interactionWidth},get style(){return t.style}}),ke()}var ao,lo;class T0{constructor(t,n){ie(this,ao);ie(this,lo);Me(this,ao,t),Me(this,lo,mc(n))}get current(){return R(this,lo).call(this),R(this,ao).call(this)}}ao=new WeakMap,lo=new WeakMap;const O0=/\(.+\)/,C0=new Set(["all","print","screen","and","or","not","only"]);class P0 extends T0{constructor(t,n){let r=O0.test(t)||t.split(/[\s,]+/).some(o=>C0.has(o.trim()))?t:`(${t})`;const i=window.matchMedia(r);super(()=>i.matches,o=>wa(i,"change",o))}}function A0(e,t,n,r){const i=new Map;return gl(e,{x:0,y:0,width:n,height:r},t,!0).forEach(o=>{i.set(o.id,o)}),i}function Pu(e){const{edges:t,defaultEdgeOptions:n,nodeLookup:r,previousEdges:i,connectionMode:o,onerror:s,onlyRenderVisible:a,elevateEdgesOnSelect:u,zIndexMode:d}=e,c=new Map;for(const h of t){const f=r.get(h.source),g=r.get(h.target);if(!f||!g)continue;if(a){const{visibleNodes:y,transform:k,width:w,height:S}=e;if(yy({sourceNode:f,targetNode:g,width:w,height:S,transform:k}))y.set(f.id,f),y.set(g.id,g);else continue}const p=i.get(h.id);if(p&&h===p.edge&&f==p.sourceNode&&g==p.targetNode){c.set(h.id,p);continue}const b=Ny({id:h.id,sourceNode:f,targetNode:g,sourceHandle:h.sourceHandle||null,targetHandle:h.targetHandle||null,connectionMode:o,onError:s});b&&c.set(h.id,{...n,...h,...b,zIndex:my({selected:h.selected,zIndex:h.zIndex??n.zIndex,sourceNode:f,targetNode:g,elevateOnSelect:u,zIndexMode:d}),sourceNode:f,targetNode:g,edge:h})}return c}const $d={input:v0,output:m0,default:Qd,group:y0},ef={straight:S0,smoothstep:k0,default:Jd,step:I0};function M0(e,t,n,r,i,o){if(t&&!n&&r&&i){const s=Ps(o,{filter:a=>!!((a.width||a.initialWidth)&&(a.height||a.initialHeight))});return vl(s,r,i,.5,2,.1)}else return n??{x:0,y:0,zoom:1}}function D0(e){var n,r,i,o,s,a,u,d,c,h,f,g,p,b,y,k,w,S,m,A,T,M,x,V,D,N,_,E,v,I,C,P,F,H,W,G,U,Q,z,O,B,X,Y,J,re,q,le,ge,pe,oe,be,xe,_e,ne,ae,ve,Ie,Fe,Te,He,Xe,dt,tt,st,bn,_n,wn,Vn,ue,Se,je,nt,Je,ft,Pt,At;class t{constructor(){ie(this,n,L(()=>e.props.id??"1"));ie(this,r,we(null));ie(this,i,we(null));ie(this,o,we(e.width??0));ie(this,s,we(e.height??0));ie(this,a,we(e.props.zIndexMode??"basic"));ie(this,u,L(()=>{var It;const Z=Cy(e.nodes,this.nodeLookup,this.parentLookup,{nodeExtent:this.nodeExtent,nodeOrigin:this.nodeOrigin,elevateNodesOnSelect:e.props.elevateNodesOnSelect??!0,checkEquality:!0,zIndexMode:this.zIndexMode});return this.fitViewQueued&&Z&&((It=this.fitViewOptions)!=null&&It.duration?this.resolveFitView():queueMicrotask(()=>{this.resolveFitView()})),Z}));ie(this,d,L(()=>this.panZoom!==null));ie(this,c,L(()=>(zy(this.connectionLookup,this.edgeLookup,e.edges),e.edges)));et(this,"_prevSelectedNodes",[]);et(this,"_prevSelectedNodeIds",new Set);ie(this,h,L(()=>{const Z=this._prevSelectedNodeIds.size,It=new Set,an=this.nodes.filter(wt=>(wt.selected&&(It.add(wt.id),this._prevSelectedNodeIds.delete(wt.id)),wt.selected));return(Z!==It.size||this._prevSelectedNodeIds.size>0)&&(this._prevSelectedNodes=an),this._prevSelectedNodeIds=It,this._prevSelectedNodes}));et(this,"_prevSelectedEdges",[]);et(this,"_prevSelectedEdgeIds",new Set);ie(this,f,L(()=>{const Z=this._prevSelectedEdgeIds.size,It=new Set,an=this.edges.filter(wt=>(wt.selected&&(It.add(wt.id),this._prevSelectedEdgeIds.delete(wt.id)),wt.selected));return(Z!==It.size||this._prevSelectedEdgeIds.size>0)&&(this._prevSelectedEdges=an),this._prevSelectedEdgeIds=It,this._prevSelectedEdges}));et(this,"selectionChangeHandlers",new Map);et(this,"nodeLookup",new Map);et(this,"parentLookup",new Map);et(this,"connectionLookup",new Map);et(this,"edgeLookup",new Map);et(this,"_prevVisibleEdges",new Map);ie(this,g,L(()=>{const{nodes:Z,_edges:It,_prevVisibleEdges:an,nodeLookup:wt,connectionMode:Ti,onerror:Ls,onlyRenderVisibleElements:Vs,defaultEdgeOptions:Zr,zIndexMode:Fs}=this;let ln,Oi;const Ci={edges:It,defaultEdgeOptions:Zr,previousEdges:an,nodeLookup:wt,connectionMode:Ti,elevateEdgesOnSelect:e.props.elevateEdgesOnSelect??!0,zIndexMode:Fs,onerror:Ls};if(Vs){const{viewport:jt,width:No,height:ko}=this,So=[jt.x,jt.y,jt.zoom];ln=A0(wt,So,No,ko),Oi=Pu({...Ci,onlyRenderVisible:!0,visibleNodes:ln,transform:So,width:No,height:ko})}else ln=this.nodeLookup,Oi=Pu(Ci);return{nodes:ln,edges:Oi}}));ie(this,p,L(()=>e.props.nodesDraggable??!0));ie(this,b,L(()=>e.props.nodesConnectable??!0));ie(this,y,L(()=>e.props.elementsSelectable??!0));ie(this,k,L(()=>e.props.nodesFocusable??!0));ie(this,w,L(()=>e.props.edgesFocusable??!0));ie(this,S,L(()=>e.props.disableKeyboardA11y??!1));ie(this,m,L(()=>e.props.minZoom??.5));ie(this,A,L(()=>e.props.maxZoom??2));ie(this,T,L(()=>e.props.nodeOrigin??[0,0]));ie(this,M,L(()=>e.props.nodeExtent??Da));ie(this,x,L(()=>e.props.translateExtent??Da));ie(this,V,L(()=>e.props.defaultEdgeOptions??{}));ie(this,D,L(()=>e.props.nodeDragThreshold??1));ie(this,N,L(()=>e.props.autoPanOnNodeDrag??!0));ie(this,_,L(()=>e.props.autoPanOnConnect??!0));ie(this,E,L(()=>e.props.autoPanOnNodeFocus??!0));ie(this,v,L(()=>e.props.autoPanSpeed??15));ie(this,I,L(()=>e.props.connectionDragThreshold??1));et(this,"fitViewQueued",e.props.fitView??!1);et(this,"fitViewOptions",e.props.fitViewOptions);et(this,"fitViewResolver",null);ie(this,C,L(()=>e.props.snapGrid??null));ie(this,P,we(!1));ie(this,F,we(null));ie(this,H,we(!1));ie(this,W,we(!1));ie(this,G,we(!1));ie(this,U,we(!1));ie(this,Q,we(!1));ie(this,z,we(null));ie(this,O,we(""));ie(this,B,L(()=>e.props.selectionMode??Ji.Partial));ie(this,X,L(()=>({...$d,...e.props.nodeTypes})));ie(this,Y,L(()=>({...ef,...e.props.edgeTypes})));ie(this,J,L(()=>e.props.noPanClass??"nopan"));ie(this,re,L(()=>e.props.noDragClass??"nodrag"));ie(this,q,L(()=>e.props.noWheelClass??"nowheel"));ie(this,le,L(()=>gy(e.props.ariaLabelConfig)));ie(this,ge,we(M0(this.nodesInitialized,e.props.fitView,e.props.initialViewport,this.width,this.height,this.nodeLookup)));ie(this,pe,we(Ra));ie(this,oe,L(()=>this._connection.inProgress?{...this._connection,to:Eo(this._connection.to,[this.viewport.x,this.viewport.y,this.viewport.zoom])}:this._connection));ie(this,be,L(()=>e.props.connectionMode??bi.Strict));ie(this,xe,L(()=>e.props.connectionRadius??20));ie(this,_e,L(()=>e.props.isValidConnection??(()=>!0)));ie(this,ne,L(()=>e.props.selectNodesOnDrag??!0));ie(this,ae,L(()=>e.props.defaultMarkerColor===void 0?"#b1b1b7":e.props.defaultMarkerColor));ie(this,ve,L(()=>ky(e.edges,{defaultColor:this.defaultMarkerColor,id:this.flowId,defaultMarkerStart:this.defaultEdgeOptions.markerStart,defaultMarkerEnd:this.defaultEdgeOptions.markerEnd})));ie(this,Ie,L(()=>e.props.onlyRenderVisibleElements??!1));ie(this,Fe,L(()=>e.props.onflowerror??uy));ie(this,Te,L(()=>e.props.ondelete));ie(this,He,L(()=>e.props.onbeforedelete));ie(this,Xe,L(()=>e.props.onbeforeconnect));ie(this,dt,L(()=>e.props.onconnect));ie(this,tt,L(()=>e.props.onconnectstart));ie(this,st,L(()=>e.props.onconnectend));ie(this,bn,L(()=>e.props.onbeforereconnect));ie(this,_n,L(()=>e.props.onreconnect));ie(this,wn,L(()=>e.props.onreconnectstart));ie(this,Vn,L(()=>e.props.onreconnectend));ie(this,ue,L(()=>e.props.clickConnect??!0));ie(this,Se,L(()=>e.props.onclickconnectstart));ie(this,je,L(()=>e.props.onclickconnectend));ie(this,nt,we(null));ie(this,Je,L(()=>e.props.onselectiondrag));ie(this,ft,L(()=>e.props.onselectiondragstart));ie(this,Pt,L(()=>e.props.onselectiondragstop));et(this,"resolveFitView",async()=>{var Z;this.panZoom&&(await sy({nodes:this.nodeLookup,width:this.width,height:this.height,panZoom:this.panZoom,minZoom:this.minZoom,maxZoom:this.maxZoom},this.fitViewOptions),(Z=this.fitViewResolver)==null||Z.resolve(!0),this.fitViewQueued=!1,this.fitViewOptions=void 0,this.fitViewResolver=null)});et(this,"_prefersDark",new P0("(prefers-color-scheme: dark)",e.props.colorModeSSR==="dark"));ie(this,At,L(()=>e.props.colorMode==="system"?this._prefersDark.current?"dark":"light":e.props.colorMode??"light"))}get flowId(){return l(R(this,n))}set flowId(Z){j(R(this,n),Z)}get domNode(){return l(R(this,r))}set domNode(Z){j(R(this,r),Z)}get panZoom(){return l(R(this,i))}set panZoom(Z){j(R(this,i),Z)}get width(){return l(R(this,o))}set width(Z){j(R(this,o),Z)}get height(){return l(R(this,s))}set height(Z){j(R(this,s),Z)}get zIndexMode(){return l(R(this,a))}set zIndexMode(Z){j(R(this,a),Z)}get nodesInitialized(){return l(R(this,u))}set nodesInitialized(Z){j(R(this,u),Z)}get viewportInitialized(){return l(R(this,d))}set viewportInitialized(Z){j(R(this,d),Z)}get _edges(){return l(R(this,c))}set _edges(Z){j(R(this,c),Z)}get nodes(){return this.nodesInitialized,e.nodes}set nodes(Z){e.nodes=Z}get edges(){return this._edges}set edges(Z){e.edges=Z}get selectedNodes(){return l(R(this,h))}set selectedNodes(Z){j(R(this,h),Z)}get selectedEdges(){return l(R(this,f))}set selectedEdges(Z){j(R(this,f),Z)}get visible(){return l(R(this,g))}set visible(Z){j(R(this,g),Z)}get nodesDraggable(){return l(R(this,p))}set nodesDraggable(Z){j(R(this,p),Z)}get nodesConnectable(){return l(R(this,b))}set nodesConnectable(Z){j(R(this,b),Z)}get elementsSelectable(){return l(R(this,y))}set elementsSelectable(Z){j(R(this,y),Z)}get nodesFocusable(){return l(R(this,k))}set nodesFocusable(Z){j(R(this,k),Z)}get edgesFocusable(){return l(R(this,w))}set edgesFocusable(Z){j(R(this,w),Z)}get disableKeyboardA11y(){return l(R(this,S))}set disableKeyboardA11y(Z){j(R(this,S),Z)}get minZoom(){return l(R(this,m))}set minZoom(Z){j(R(this,m),Z)}get maxZoom(){return l(R(this,A))}set maxZoom(Z){j(R(this,A),Z)}get nodeOrigin(){return l(R(this,T))}set nodeOrigin(Z){j(R(this,T),Z)}get nodeExtent(){return l(R(this,M))}set nodeExtent(Z){j(R(this,M),Z)}get translateExtent(){return l(R(this,x))}set translateExtent(Z){j(R(this,x),Z)}get defaultEdgeOptions(){return l(R(this,V))}set defaultEdgeOptions(Z){j(R(this,V),Z)}get nodeDragThreshold(){return l(R(this,D))}set nodeDragThreshold(Z){j(R(this,D),Z)}get autoPanOnNodeDrag(){return l(R(this,N))}set autoPanOnNodeDrag(Z){j(R(this,N),Z)}get autoPanOnConnect(){return l(R(this,_))}set autoPanOnConnect(Z){j(R(this,_),Z)}get autoPanOnNodeFocus(){return l(R(this,E))}set autoPanOnNodeFocus(Z){j(R(this,E),Z)}get autoPanSpeed(){return l(R(this,v))}set autoPanSpeed(Z){j(R(this,v),Z)}get connectionDragThreshold(){return l(R(this,I))}set connectionDragThreshold(Z){j(R(this,I),Z)}get snapGrid(){return l(R(this,C))}set snapGrid(Z){j(R(this,C),Z)}get dragging(){return l(R(this,P))}set dragging(Z){j(R(this,P),Z)}get selectionRect(){return l(R(this,F))}set selectionRect(Z){j(R(this,F),Z)}get selectionKeyPressed(){return l(R(this,H))}set selectionKeyPressed(Z){j(R(this,H),Z)}get multiselectionKeyPressed(){return l(R(this,W))}set multiselectionKeyPressed(Z){j(R(this,W),Z)}get deleteKeyPressed(){return l(R(this,G))}set deleteKeyPressed(Z){j(R(this,G),Z)}get panActivationKeyPressed(){return l(R(this,U))}set panActivationKeyPressed(Z){j(R(this,U),Z)}get zoomActivationKeyPressed(){return l(R(this,Q))}set zoomActivationKeyPressed(Z){j(R(this,Q),Z)}get selectionRectMode(){return l(R(this,z))}set selectionRectMode(Z){j(R(this,z),Z)}get ariaLiveMessage(){return l(R(this,O))}set ariaLiveMessage(Z){j(R(this,O),Z)}get selectionMode(){return l(R(this,B))}set selectionMode(Z){j(R(this,B),Z)}get nodeTypes(){return l(R(this,X))}set nodeTypes(Z){j(R(this,X),Z)}get edgeTypes(){return l(R(this,Y))}set edgeTypes(Z){j(R(this,Y),Z)}get noPanClass(){return l(R(this,J))}set noPanClass(Z){j(R(this,J),Z)}get noDragClass(){return l(R(this,re))}set noDragClass(Z){j(R(this,re),Z)}get noWheelClass(){return l(R(this,q))}set noWheelClass(Z){j(R(this,q),Z)}get ariaLabelConfig(){return l(R(this,le))}set ariaLabelConfig(Z){j(R(this,le),Z)}get _viewport(){return l(R(this,ge))}set _viewport(Z){j(R(this,ge),Z)}get viewport(){return e.viewport??this._viewport}set viewport(Z){e.viewport&&(e.viewport=Z),this._viewport=Z}get _connection(){return l(R(this,pe))}set _connection(Z){j(R(this,pe),Z)}get connection(){return l(R(this,oe))}set connection(Z){j(R(this,oe),Z)}get connectionMode(){return l(R(this,be))}set connectionMode(Z){j(R(this,be),Z)}get connectionRadius(){return l(R(this,xe))}set connectionRadius(Z){j(R(this,xe),Z)}get isValidConnection(){return l(R(this,_e))}set isValidConnection(Z){j(R(this,_e),Z)}get selectNodesOnDrag(){return l(R(this,ne))}set selectNodesOnDrag(Z){j(R(this,ne),Z)}get defaultMarkerColor(){return l(R(this,ae))}set defaultMarkerColor(Z){j(R(this,ae),Z)}get markers(){return l(R(this,ve))}set markers(Z){j(R(this,ve),Z)}get onlyRenderVisibleElements(){return l(R(this,Ie))}set onlyRenderVisibleElements(Z){j(R(this,Ie),Z)}get onerror(){return l(R(this,Fe))}set onerror(Z){j(R(this,Fe),Z)}get ondelete(){return l(R(this,Te))}set ondelete(Z){j(R(this,Te),Z)}get onbeforedelete(){return l(R(this,He))}set onbeforedelete(Z){j(R(this,He),Z)}get onbeforeconnect(){return l(R(this,Xe))}set onbeforeconnect(Z){j(R(this,Xe),Z)}get onconnect(){return l(R(this,dt))}set onconnect(Z){j(R(this,dt),Z)}get onconnectstart(){return l(R(this,tt))}set onconnectstart(Z){j(R(this,tt),Z)}get onconnectend(){return l(R(this,st))}set onconnectend(Z){j(R(this,st),Z)}get onbeforereconnect(){return l(R(this,bn))}set onbeforereconnect(Z){j(R(this,bn),Z)}get onreconnect(){return l(R(this,_n))}set onreconnect(Z){j(R(this,_n),Z)}get onreconnectstart(){return l(R(this,wn))}set onreconnectstart(Z){j(R(this,wn),Z)}get onreconnectend(){return l(R(this,Vn))}set onreconnectend(Z){j(R(this,Vn),Z)}get clickConnect(){return l(R(this,ue))}set clickConnect(Z){j(R(this,ue),Z)}get onclickconnectstart(){return l(R(this,Se))}set onclickconnectstart(Z){j(R(this,Se),Z)}get onclickconnectend(){return l(R(this,je))}set onclickconnectend(Z){j(R(this,je),Z)}get clickConnectStartHandle(){return l(R(this,nt))}set clickConnectStartHandle(Z){j(R(this,nt),Z)}get onselectiondrag(){return l(R(this,Je))}set onselectiondrag(Z){j(R(this,Je),Z)}get onselectiondragstart(){return l(R(this,ft))}set onselectiondragstart(Z){j(R(this,ft),Z)}get onselectiondragstop(){return l(R(this,Pt))}set onselectiondragstop(Z){j(R(this,Pt),Z)}get colorMode(){return l(R(this,At))}set colorMode(Z){j(R(this,At),Z)}resetStoreValues(){this.dragging=!1,this.selectionRect=null,this.selectionRectMode=null,this.selectionKeyPressed=!1,this.multiselectionKeyPressed=!1,this.deleteKeyPressed=!1,this.panActivationKeyPressed=!1,this.zoomActivationKeyPressed=!1,this._connection=Ra,this.clickConnectStartHandle=null,this.viewport=e.props.initialViewport??{x:0,y:0,zoom:1},this.ariaLiveMessage=""}}return n=new WeakMap,r=new WeakMap,i=new WeakMap,o=new WeakMap,s=new WeakMap,a=new WeakMap,u=new WeakMap,d=new WeakMap,c=new WeakMap,h=new WeakMap,f=new WeakMap,g=new WeakMap,p=new WeakMap,b=new WeakMap,y=new WeakMap,k=new WeakMap,w=new WeakMap,S=new WeakMap,m=new WeakMap,A=new WeakMap,T=new WeakMap,M=new WeakMap,x=new WeakMap,V=new WeakMap,D=new WeakMap,N=new WeakMap,_=new WeakMap,E=new WeakMap,v=new WeakMap,I=new WeakMap,C=new WeakMap,P=new WeakMap,F=new WeakMap,H=new WeakMap,W=new WeakMap,G=new WeakMap,U=new WeakMap,Q=new WeakMap,z=new WeakMap,O=new WeakMap,B=new WeakMap,X=new WeakMap,Y=new WeakMap,J=new WeakMap,re=new WeakMap,q=new WeakMap,le=new WeakMap,ge=new WeakMap,pe=new WeakMap,oe=new WeakMap,be=new WeakMap,xe=new WeakMap,_e=new WeakMap,ne=new WeakMap,ae=new WeakMap,ve=new WeakMap,Ie=new WeakMap,Fe=new WeakMap,Te=new WeakMap,He=new WeakMap,Xe=new WeakMap,dt=new WeakMap,tt=new WeakMap,st=new WeakMap,bn=new WeakMap,_n=new WeakMap,wn=new WeakMap,Vn=new WeakMap,ue=new WeakMap,Se=new WeakMap,je=new WeakMap,nt=new WeakMap,Je=new WeakMap,ft=new WeakMap,Pt=new WeakMap,At=new WeakMap,new t}function br(){const e=qa(ls);if(!e)throw new Error("To call useStore outside of <SvelteFlow /> you need to wrap your component in a <SvelteFlowProvider />");return e.getStore()}const ls=Symbol();function tf(e){const t=D0(e);function n(N){t.nodeTypes={...$d,...N}}function r(N){t.edgeTypes={...ef,...N}}function i(N){t.edges=Hi(N,t.edges)}const o=(N,_=!1)=>{t.nodes=t.nodes.map(E=>{if(t.connection.inProgress&&t.connection.fromNode.id===E.id){const I=t.nodeLookup.get(E.id);I&&(t.connection={...t.connection,from:Kr(I,t.connection.fromHandle,Ce.Left,!0)})}const v=N.get(E.id);return v?{...E,position:v.position,dragging:_}:E})};function s(N){var I,C,P;const{changes:_,updatedInternals:E}=Dy(N,t.nodeLookup,t.parentLookup,t.domNode,t.nodeOrigin,t.nodeExtent,t.zIndexMode);if(!E)return;Ty(t.nodeLookup,t.parentLookup,{nodeOrigin:t.nodeOrigin,nodeExtent:t.nodeExtent,zIndexMode:t.zIndexMode}),t.fitViewQueued&&t.resolveFitView();const v=new Map;for(const F of _){const H=(I=t.nodeLookup.get(F.id))==null?void 0:I.internals.userNode;if(!H)continue;const W={...H};switch(F.type){case"dimensions":{const G={...W.measured,...F.dimensions};F.setAttributes&&(W.width=((C=F.dimensions)==null?void 0:C.width)??W.width,W.height=((P=F.dimensions)==null?void 0:P.height)??W.height),W.measured=G;break}case"position":W.position=F.position??W.position;break}v.set(F.id,W)}t.nodes=t.nodes.map(F=>v.get(F.id)??F)}function a(N){const _=t.fitViewResolver??Promise.withResolvers();return t.fitViewQueued=!0,t.fitViewOptions=N,t.fitViewResolver=_,t.nodes=[...t.nodes],_.promise}async function u(N,_,E){const v=typeof(E==null?void 0:E.zoom)<"u"?E.zoom:t.maxZoom,I=t.panZoom;return I?(await I.setViewport({x:t.width/2-N*v,y:t.height/2-_*v,zoom:v},{duration:E==null?void 0:E.duration,ease:E==null?void 0:E.ease,interpolate:E==null?void 0:E.interpolate}),Promise.resolve(!0)):Promise.resolve(!1)}function d(N,_){const E=t.panZoom;return E?E.scaleBy(N,_):Promise.resolve(!1)}function c(N){return d(1.2,N)}function h(N){return d(1/1.2,N)}function f(N){const _=t.panZoom;_&&(_.setScaleExtent([N,t.maxZoom]),t.minZoom=N)}function g(N){const _=t.panZoom;_&&(_.setScaleExtent([t.minZoom,N]),t.maxZoom=N)}function p(N){const _=t.panZoom;_&&(_.setTranslateExtent(N),t.translateExtent=N)}function b(N,_=null){let E=!1;const v=N.map(I=>(_?_.has(I.id):!0)&&I.selected?(E=!0,{...I,selected:!1}):I);return[E,v]}function y(N){const _=N!=null&&N.nodes?new Set(N.nodes.map(F=>F.id)):null,[E,v]=b(t.nodes,_);E&&(t.nodes=v);const I=N!=null&&N.edges?new Set(N.edges.map(F=>F.id)):null,[C,P]=b(t.edges,I);C&&(t.edges=P)}function k(N){const _=t.multiselectionKeyPressed;t.nodes=t.nodes.map(E=>{const v=N.includes(E.id),I=_&&E.selected||v;return!!E.selected!==I?{...E,selected:I}:E}),_||y({nodes:[]})}function w(N){const _=t.multiselectionKeyPressed;t.edges=t.edges.map(E=>{const v=N.includes(E.id),I=_&&E.selected||v;return!!E.selected!==I?{...E,selected:I}:E}),_||y({edges:[]})}function S(N,_,E){const v=t.nodeLookup.get(N);if(!v){console.warn("012",Qi.error012(N));return}t.selectionRect=null,t.selectionRectMode=null,v.selected?(_||v.selected&&t.multiselectionKeyPressed)&&(y({nodes:[v],edges:[]}),requestAnimationFrame(()=>E==null?void 0:E.blur())):k([N])}function m(N){const _=t.edgeLookup.get(N);if(!_){console.warn("012",Qi.error012(N));return}(_.selectable||t.elementsSelectable&&typeof _.selectable>"u")&&(t.selectionRect=null,t.selectionRectMode=null,_.selected?_.selected&&t.multiselectionKeyPressed&&y({nodes:[],edges:[_]}):w([N]))}function A(N,_){const{nodeExtent:E,snapGrid:v,nodeOrigin:I,nodeLookup:C,nodesDraggable:P,onerror:F}=t,H=new Map,W=(v==null?void 0:v[0])??5,G=(v==null?void 0:v[1])??5,U=N.x*W*_,Q=N.y*G*_;for(const z of C.values()){if(!(z.selected&&(z.draggable||P&&typeof z.draggable>"u")))continue;let B={x:z.internals.positionAbsolute.x+U,y:z.internals.positionAbsolute.y+Q};v&&(B=xo(B,v));const{position:X,positionAbsolute:Y}=Cd({nodeId:z.id,nextPosition:B,nodeLookup:C,nodeExtent:E,nodeOrigin:I,onError:F});z.position=X,z.internals.positionAbsolute=Y,H.set(z.id,z)}o(H)}function T(N){return Ry({delta:N,panZoom:t.panZoom,transform:[t.viewport.x,t.viewport.y,t.viewport.zoom],translateExtent:t.translateExtent,width:t.width,height:t.height})}const M=N=>{t._connection={...N}};function x(){t._connection=Ra}function V(){t.resetStoreValues(),y()}return Object.assign(t,{setNodeTypes:n,setEdgeTypes:r,addEdge:i,updateNodePositions:o,updateNodeInternals:s,zoomIn:c,zoomOut:h,fitView:a,setCenter:u,setMinZoom:f,setMaxZoom:g,setTranslateExtent:p,unselectNodesAndEdges:y,addSelectedNodes:k,addSelectedEdges:w,handleNodeSelection:S,handleEdgeSelection:m,moveSelectedNodes:A,panBy:T,updateConnection:M,cancelConnection:x,reset:V})}function ia(e,t){const{minZoom:n,maxZoom:r,initialViewport:i,onPanZoomStart:o,onPanZoom:s,onPanZoomEnd:a,translateExtent:u,setPanZoomInstance:d,onDraggingChange:c,onTransformChange:h}=t,f=Jy({domNode:e,minZoom:n,maxZoom:r,translateExtent:u,viewport:i,onPanZoom:s,onPanZoomStart:o,onPanZoomEnd:a,onDraggingChange:c}),g=f.getViewport();return(i.x!==g.x||i.y!==g.y||i.zoom!==g.zoom)&&h([g.x,g.y,g.zoom]),d(f),f.update(t),{update(p){f.update(p)}}}var R0=de('<div class="svelte-flow__zoom svelte-flow__container"><!></div>');function z0(e,t){Ne(t,!0);let n=ee(t,"store",15),r=L(()=>n().panActivationKeyPressed||t.panOnDrag),i=L(()=>n().panActivationKeyPressed||t.panOnScroll);const{viewport:o}=n();let s=!1;qe(()=>{var d;!s&&n().viewportInitialized&&((d=t.oninit)==null||d.call(t),s=!0)});var a=R0(),u=se(a);zn(u,()=>t.children),Dt(a,(d,c)=>ia==null?void 0:ia(d,c),()=>({viewport:n().viewport,minZoom:n().minZoom,maxZoom:n().maxZoom,initialViewport:o,onDraggingChange:d=>{n(n().dragging=d,!0)},setPanZoomInstance:d=>{n(n().panZoom=d,!0)},onPanZoomStart:t.onmovestart,onPanZoom:t.onmove,onPanZoomEnd:t.onmoveend,zoomOnScroll:t.zoomOnScroll,zoomOnDoubleClick:t.zoomOnDoubleClick,zoomOnPinch:t.zoomOnPinch,panOnScroll:l(i),panOnDrag:l(r),panOnScrollSpeed:t.panOnScrollSpeed,panOnScrollMode:t.panOnScrollMode,zoomActivationKeyPressed:n().zoomActivationKeyPressed,preventScrolling:typeof t.preventScrolling=="boolean"?t.preventScrolling:!0,noPanClassName:n().noPanClass,noWheelClassName:n().noWheelClass,userSelectionActive:!!n().selectionRect,translateExtent:n().translateExtent,lib:"svelte",paneClickDistance:t.paneClickDistance,selectionOnDrag:t.selectionOnDrag,onTransformChange:d=>{n(n().viewport={x:d[0],y:d[1],zoom:d[2]},!0)},connectionInProgress:n().connection.inProgress})),te(e,a),ke()}function Au(e,t){return n=>{n.target===t&&(e==null||e(n))}}function Mu(e){return t=>{const n=e.has(t.id);return!!t.selected!==n?{...t,selected:n}:t}}function Du(e,t){if(e.size!==t.size)return!1;for(const n of e)if(!t.has(n))return!1;return!0}var L0=de("<div><!></div>");function V0(e,t){Ne(t,!0);let n=ee(t,"store",15),r=ee(t,"panOnDrag",3,!0),i=ee(t,"paneClickDistance",3,1),o,s=null,a=new Set,u=new Set,d=L(()=>n().panActivationKeyPressed||r()),c=L(()=>n().selectionKeyPressed||!!n().selectionRect||t.selectionOnDrag&&l(d)!==!0),h=L(()=>n().elementsSelectable&&(l(c)||n().selectionRectMode==="user")),f=!1;function g(x){var v,I;if(s=o==null?void 0:o.getBoundingClientRect(),!s)return;const V=x.target===o,D=!V&&!!x.target.closest(".nokey"),N=t.selectionOnDrag&&V||n().selectionKeyPressed;if(D||!l(c)||!N||x.button!==0||!x.isPrimary)return;(I=(v=x.target)==null?void 0:v.setPointerCapture)==null||I.call(v,x.pointerId),f=!1;const{x:_,y:E}=gn(x,s);n(n().selectionRect={width:0,height:0,startX:_,startY:E,x:_,y:E},!0),V||(x.stopPropagation(),x.preventDefault())}function p(x){var C;if(!l(c)||!s||!n().selectionRect)return;const V=gn(x,s),{startX:D=0,startY:N=0}=n().selectionRect;if(!f){const P=n().selectionKeyPressed?0:i();if(Math.hypot(V.x-D,V.y-N)<=P)return;n().unselectNodesAndEdges(),(C=t.onselectionstart)==null||C.call(t,x)}f=!0;const _={...n().selectionRect,x:V.x<D?V.x:D,y:V.y<N?V.y:N,width:Math.abs(V.x-D),height:Math.abs(V.y-N)},E=a,v=u;a=new Set(gl(n().nodeLookup,_,[n().viewport.x,n().viewport.y,n().viewport.zoom],n().selectionMode===Ji.Partial,!0).map(P=>P.id));const I=n().defaultEdgeOptions.selectable??!0;u=new Set;for(const P of a){const F=n().connectionLookup.get(P);if(F)for(const{edgeId:H}of F.values()){const W=n().edgeLookup.get(H);W&&(W.selectable??I)&&u.add(H)}}Du(E,a)||n(n().nodes=n().nodes.map(Mu(a)),!0),Du(v,u)||n(n().edges=n().edges.map(Mu(u)),!0),n(n().selectionRectMode="user",!0),n(n().selectionRect=_,!0)}function b(x){var V,D,N;x.button===0&&((D=(V=x.target)==null?void 0:V.releasePointerCapture)==null||D.call(V,x.pointerId),!f&&x.target===o&&(w==null||w(x)),n(n().selectionRect=null,!0),f&&n(n().selectionRectMode=a.size>0?"nodes":null,!0),f&&((N=t.onselectionend)==null||N.call(t,x)))}const y=x=>{var V;if(Array.isArray(l(d))&&l(d).includes(2)){x.preventDefault();return}(V=t.onpanecontextmenu)==null||V.call(t,{event:x})},k=x=>{f&&(x.stopPropagation(),f=!1)};function w(x){var V;if(f||n().connection.inProgress){f=!1;return}(V=t.onpaneclick)==null||V.call(t,{event:x}),n().unselectNodesAndEdges(),n(n().selectionRectMode=null,!0),n(n().selectionRect=null,!0)}var S=L0();let m;var A=L(()=>l(h)?void 0:Au(w,o));S.__click=function(...x){var V;(V=l(A))==null||V.apply(this,x)},S.__pointermove=function(...x){var V;(V=l(h)?p:void 0)==null||V.apply(this,x)},S.__pointerup=function(...x){var V;(V=l(h)?b:void 0)==null||V.apply(this,x)};var T=L(()=>Au(y,o));S.__contextmenu=function(...x){var V;(V=l(T))==null||V.apply(this,x)};var M=se(S);zn(M,()=>t.children),lt(S,x=>o=x,()=>o),ye(x=>m=Ot(S,1,"svelte-flow__pane svelte-flow__container",null,m,x),[()=>({draggable:r()===!0||Array.isArray(r())&&r().includes(0),dragging:n().dragging,selection:l(c)})]),Ke("pointerdown",S,function(...x){var V;(V=l(h)?g:void 0)==null||V.apply(this,x)},!0),Ke("click",S,function(...x){var V;(V=l(h)?k:void 0)==null||V.apply(this,x)},!0),te(e,S),ke()}vt(["click","pointermove","pointerup","contextmenu"]);var F0=de('<div class="svelte-flow__viewport xyflow__viewport svelte-flow__container"><!></div>');function H0(e,t){Ne(t,!0);var n=F0();let r;var i=se(n);zn(i,()=>t.children),ye(()=>r=Ze(n,"",r,{transform:`translate(${t.store.viewport.x??""}px, ${t.store.viewport.y??""}px) scale(${t.store.viewport.zoom??""})`})),te(e,n),ke()}function ii(e,t){const{store:n,onDrag:r,onDragStart:i,onDragStop:o,onNodeMouseDown:s}=t,a=Fy({onDrag:r,onDragStart:i,onDragStop:o,onNodeMouseDown:s,getStoreItems:()=>{const{snapGrid:d,viewport:c}=n;return{nodes:n.nodes,nodeLookup:n.nodeLookup,edges:n.edges,nodeExtent:n.nodeExtent,snapGrid:d||[0,0],snapToGrid:!!d,nodeOrigin:n.nodeOrigin,multiSelectionActive:n.multiselectionKeyPressed,domNode:n.domNode,transform:[c.x,c.y,c.zoom],autoPanOnNodeDrag:n.autoPanOnNodeDrag,nodesDraggable:n.nodesDraggable,selectNodesOnDrag:n.selectNodesOnDrag,nodeDragThreshold:n.nodeDragThreshold,unselectNodesAndEdges:n.unselectNodesAndEdges,updateNodePositions:n.updateNodePositions,onSelectionDrag:n.onselectiondrag,onSelectionDragStart:n.onselectiondragstart,onSelectionDragStop:n.onselectiondragstop,panBy:n.panBy}}});function u(d,c){if(c.disabled){a.destroy();return}a.update({domNode:d,noDragClassName:c.noDragClass,handleSelector:c.handleSelector,nodeId:c.nodeId,isSelectable:c.isSelectable,nodeClickDistance:c.nodeClickDistance})}return u(e,t),{update(d){u(e,d)},destroy(){a.destroy()}}}var K0=de('<div aria-live="assertive" aria-atomic="true" class="a11y-live-msg svelte-1l9nrps"> </div>'),B0=de('<div class="a11y-hidden svelte-1l9nrps"> </div> <div class="a11y-hidden svelte-1l9nrps"> </div> <!>',1);function W0(e,t){Ne(t,!0);var n=B0(),r=Pe(n),i=se(r),o=he(r,2),s=se(o),a=he(o,2);{var u=d=>{var c=K0(),h=se(c);ye(()=>{me(c,"id",`${Y0}-${t.store.flowId}`),We(h,t.store.ariaLiveMessage)}),te(d,c)};De(a,d=>{t.store.disableKeyboardA11y||d(u)})}ye(()=>{me(r,"id",`${nf}-${t.store.flowId}`),We(i,t.store.disableKeyboardA11y?t.store.ariaLabelConfig["node.a11yDescription.default"]:t.store.ariaLabelConfig["node.a11yDescription.keyboardDisabled"]),me(o,"id",`${rf}-${t.store.flowId}`),We(s,t.store.ariaLabelConfig["edge.a11yDescription.default"])}),te(e,n),ke()}const nf="svelte-flow__node-desc",rf="svelte-flow__edge-desc",Y0="svelte-flow__aria-live";var X0=de("<div><!></div>");function j0(e,t){Ne(t,!0);let n=ee(t,"store",15),r=L(()=>Ct(t.node.data,()=>({}),!0)),i=L(()=>Ct(t.node.selected,!1)),o=L(()=>t.node.draggable),s=L(()=>t.node.selectable),a=L(()=>Ct(t.node.deletable,!0)),u=L(()=>t.node.connectable),d=L(()=>t.node.focusable),c=L(()=>Ct(t.node.hidden,!1)),h=L(()=>Ct(t.node.dragging,!1)),f=L(()=>Ct(t.node.style,"")),g=L(()=>t.node.class),p=L(()=>Ct(t.node.type,"default")),b=L(()=>t.node.parentId),y=L(()=>t.node.sourcePosition),k=L(()=>t.node.targetPosition),w=L(()=>Ct(t.node.measured,()=>({width:0,height:0}),!0).width),S=L(()=>Ct(t.node.measured,()=>({width:0,height:0}),!0).height),m=L(()=>t.node.initialWidth),A=L(()=>t.node.initialHeight),T=L(()=>t.node.width),M=L(()=>t.node.height),x=L(()=>t.node.dragHandle),V=L(()=>Ct(t.node.internals.z,0)),D=L(()=>t.node.internals.positionAbsolute.x),N=L(()=>t.node.internals.positionAbsolute.y),_=L(()=>t.node.internals.userNode),{id:E}=t.node,v=L(()=>l(o)??n().nodesDraggable),I=L(()=>l(s)??n().elementsSelectable),C=L(()=>l(u)??n().nodesConnectable),P=L(()=>fy(t.node)),F=L(()=>!!t.node.internals.handleBounds),H=L(()=>l(P)&&l(F)),W=L(()=>l(d)??n().nodesFocusable);function G(_e){return n().parentLookup.has(_e)}let U=L(()=>G(E)),Q=we(null),z=null,O=l(p),B=l(y),X=l(k),Y=L(()=>n().nodeTypes[l(p)]??Qd),J=L(()=>n().ariaLabelConfig),re={get value(){return l(C)}};a0(E),u0(re);let q=L(()=>{const _e=l(w)===void 0?l(T)??l(m):l(T),ne=l(S)===void 0?l(M)??l(A):l(M);if(!(_e===void 0&&ne===void 0&&l(f)===void 0))return`${l(f)};${_e?`width:${Mn(_e)};`:""}${ne?`height:${Mn(ne)};`:""}`});qe(()=>{(l(p)!==O||l(y)!==B||l(k)!==X)&&l(Q)!==null&&requestAnimationFrame(()=>{l(Q)!==null&&n().updateNodeInternals(new Map([[E,{id:E,nodeElement:l(Q),force:!0}]]))}),O=l(p),B=l(y),X=l(k)}),qe(()=>{t.resizeObserver&&(!l(H)||l(Q)!==z)&&(z&&t.resizeObserver.unobserve(z),l(Q)&&t.resizeObserver.observe(l(Q)),z=l(Q))}),yo(()=>{var _e;z&&((_e=t.resizeObserver)==null||_e.unobserve(z))});function le(_e){var ne;l(I)&&(!n().selectNodesOnDrag||!l(v)||n().nodeDragThreshold>0)&&n().handleNodeSelection(E),(ne=t.onnodeclick)==null||ne.call(t,{node:l(_),event:_e})}function ge(_e){if(!(Rd(_e)||n().disableKeyboardA11y))if(Td.includes(_e.key)&&l(I)){const ne=_e.key==="Escape";n().handleNodeSelection(E,ne,l(Q))}else l(v)&&t.node.selected&&Object.prototype.hasOwnProperty.call(as,_e.key)&&(_e.preventDefault(),n(n().ariaLiveMessage=l(J)["node.a11yDescription.ariaLiveMessage"]({direction:_e.key.replace("Arrow","").toLowerCase(),x:~~t.node.internals.positionAbsolute.x,y:~~t.node.internals.positionAbsolute.y}),!0),n().moveSelectedNodes(as[_e.key],_e.shiftKey?4:1))}const pe=()=>{var Ie;if(n().disableKeyboardA11y||!n().autoPanOnNodeFocus||!((Ie=l(Q))!=null&&Ie.matches(":focus-visible")))return;const{width:_e,height:ne,viewport:ae}=n();gl(new Map([[E,t.node]]),{x:0,y:0,width:_e,height:ne},[ae.x,ae.y,ae.zoom],!0).length>0||n().setCenter(t.node.position.x+(t.node.measured.width??0)/2,t.node.position.y+(t.node.measured.height??0)/2,{zoom:ae.zoom})};var oe=$e(),be=Pe(oe);{var xe=_e=>{var ne=X0();vn(ne,()=>({"data-id":E,class:["svelte-flow__node",`svelte-flow__node-${l(p)}`,l(g)],style:l(q),onclick:le,onpointerenter:t.onnodepointerenter?ve=>t.onnodepointerenter({node:l(_),event:ve}):void 0,onpointerleave:t.onnodepointerleave?ve=>t.onnodepointerleave({node:l(_),event:ve}):void 0,onpointermove:t.onnodepointermove?ve=>t.onnodepointermove({node:l(_),event:ve}):void 0,oncontextmenu:t.onnodecontextmenu?ve=>t.onnodecontextmenu({node:l(_),event:ve}):void 0,onkeydown:l(W)?ge:void 0,onfocus:l(W)?pe:void 0,tabIndex:l(W)?0:void 0,role:t.node.ariaRole??(l(W)?"group":void 0),"aria-roledescription":"node","aria-describedby":n().disableKeyboardA11y?void 0:`${nf}-${n().flowId}`,...t.node.domAttributes,[sr]:{dragging:l(h),selected:l(i),draggable:l(v),connectable:l(C),selectable:l(I),nopan:l(v),parent:l(U)},[Yn]:{"z-index":l(V),transform:`translate(${l(D)??""}px, ${l(N)??""}px)`,visibility:l(P)?"visible":"hidden"}}));var ae=se(ne);Es(ae,()=>l(Y),(ve,Ie)=>{Ie(ve,{get data(){return l(r)},get id(){return E},get selected(){return l(i)},get selectable(){return l(I)},get deletable(){return l(a)},get sourcePosition(){return l(y)},get targetPosition(){return l(k)},get zIndex(){return l(V)},get dragging(){return l(h)},get draggable(){return l(v)},get dragHandle(){return l(x)},get parentId(){return l(b)},get type(){return l(p)},get isConnectable(){return l(C)},get positionAbsoluteX(){return l(D)},get positionAbsoluteY(){return l(N)},get width(){return l(T)},get height(){return l(M)}})}),Dt(ne,(ve,Ie)=>ii==null?void 0:ii(ve,Ie),()=>({nodeId:E,isSelectable:l(I),disabled:!l(v),handleSelector:l(x),noDragClass:n().noDragClass,nodeClickDistance:t.nodeClickDistance,onNodeMouseDown:n().handleNodeSelection,onDrag:(ve,Ie,Fe,Te)=>{var He;(He=t.onnodedrag)==null||He.call(t,{event:ve,targetNode:Fe,nodes:Te})},onDragStart:(ve,Ie,Fe,Te)=>{var He;(He=t.onnodedragstart)==null||He.call(t,{event:ve,targetNode:Fe,nodes:Te})},onDragStop:(ve,Ie,Fe,Te)=>{var He;(He=t.onnodedragstop)==null||He.call(t,{event:ve,targetNode:Fe,nodes:Te})},store:n()})),lt(ne,ve=>j(Q,ve),()=>l(Q)),te(_e,ne)};De(be,_e=>{l(c)||_e(xe)})}te(e,oe),ke()}var G0=de('<div class="svelte-flow__nodes"></div>');function U0(e,t){Ne(t,!0);let n=ee(t,"store",15);const r=typeof ResizeObserver>"u"?null:new ResizeObserver(o=>{const s=new Map;o.forEach(a=>{const u=a.target.getAttribute("data-id");s.set(u,{id:u,nodeElement:a.target,force:!0})}),n().updateNodeInternals(s)});yo(()=>{r==null||r.disconnect()});var i=G0();rt(i,21,()=>n().visible.nodes.values(),o=>o.id,(o,s)=>{j0(o,{get node(){return l(s)},get resizeObserver(){return r},get nodeClickDistance(){return t.nodeClickDistance},get onnodeclick(){return t.onnodeclick},get onnodepointerenter(){return t.onnodepointerenter},get onnodepointermove(){return t.onnodepointermove},get onnodepointerleave(){return t.onnodepointerleave},get onnodedrag(){return t.onnodedrag},get onnodedragstart(){return t.onnodedragstart},get onnodedragstop(){return t.onnodedragstop},get onnodecontextmenu(){return t.onnodecontextmenu},get store(){return n()},set store(a){n(a)}})}),te(e,i),ke()}var q0=Xt('<svg class="svelte-flow__edge-wrapper"><g><!></g></svg>');function Z0(e,t){Ne(t,!0);let n=L(()=>t.edge.id),r=L(()=>t.edge.source),i=L(()=>t.edge.target),o=L(()=>t.edge.sourceX),s=L(()=>t.edge.sourceY),a=L(()=>t.edge.targetX),u=L(()=>t.edge.targetY),d=L(()=>t.edge.sourcePosition),c=L(()=>t.edge.targetPosition),h=L(()=>Ct(t.edge.animated,!1)),f=L(()=>Ct(t.edge.selected,!1)),g=L(()=>t.edge.label),p=L(()=>t.edge.labelStyle),b=L(()=>Ct(t.edge.data,()=>({}),!0)),y=L(()=>t.edge.style),k=L(()=>t.edge.interactionWidth),w=L(()=>Ct(t.edge.type,"default")),S=L(()=>t.edge.sourceHandle),m=L(()=>t.edge.targetHandle),A=L(()=>t.edge.markerStart),T=L(()=>t.edge.markerEnd),M=L(()=>t.edge.selectable),x=L(()=>t.edge.focusable),V=L(()=>Ct(t.edge.deletable,!0)),D=L(()=>t.edge.hidden),N=L(()=>t.edge.zIndex),_=L(()=>t.edge.class),E=L(()=>t.edge.ariaLabel);d0(l(n));let v=null,I=L(()=>l(M)??t.store.elementsSelectable),C=L(()=>l(x)??t.store.edgesFocusable),P=L(()=>t.store.edgeTypes[l(w)]??Jd),F=L(()=>l(A)?`url('#${La(l(A),t.store.flowId)}')`:void 0),H=L(()=>l(T)?`url('#${La(l(T),t.store.flowId)}')`:void 0);function W(B){var Y;const X=t.store.edgeLookup.get(l(n));X&&(l(I)&&t.store.handleEdgeSelection(l(n)),(Y=t.onedgeclick)==null||Y.call(t,{event:B,edge:X}))}function G(B,X){const Y=t.store.edgeLookup.get(l(n));Y&&X({event:B,edge:Y})}function U(B){if(!t.store.disableKeyboardA11y&&Td.includes(B.key)&&l(I)){const{unselectNodesAndEdges:X,addSelectedEdges:Y}=t.store;B.key==="Escape"?(v==null||v.blur(),X({edges:[t.edge]})):Y([l(n)])}}var Q=$e(),z=Pe(Q);{var O=B=>{var X=q0();let Y;var J=se(X);vn(J,()=>({class:["svelte-flow__edge",l(_)],"data-id":l(n),onclick:W,oncontextmenu:t.onedgecontextmenu?q=>{G(q,t.onedgecontextmenu)}:void 0,onpointerenter:t.onedgepointerenter?q=>{G(q,t.onedgepointerenter)}:void 0,onpointerleave:t.onedgepointerleave?q=>{G(q,t.onedgepointerleave)}:void 0,"aria-label":l(E)===null?void 0:l(E)?l(E):`Edge from ${l(r)} to ${l(i)}`,"aria-describedby":l(C)?`${rf}-${t.store.flowId}`:void 0,role:t.edge.ariaRole??(l(C)?"group":"img"),"aria-roledescription":"edge",onkeydown:l(C)?U:void 0,tabindex:l(C)?0:void 0,...t.edge.domAttributes,[sr]:{animated:l(h),selected:l(f),selectable:l(I)}}));var re=se(J);Es(re,()=>l(P),(q,le)=>{le(q,{get id(){return l(n)},get source(){return l(r)},get target(){return l(i)},get sourceX(){return l(o)},get sourceY(){return l(s)},get targetX(){return l(a)},get targetY(){return l(u)},get sourcePosition(){return l(d)},get targetPosition(){return l(c)},get animated(){return l(h)},get selected(){return l(f)},get label(){return l(g)},get labelStyle(){return l(p)},get data(){return l(b)},get style(){return l(y)},get interactionWidth(){return l(k)},get selectable(){return l(I)},get deletable(){return l(V)},get type(){return l(w)},get sourceHandleId(){return l(S)},get targetHandleId(){return l(m)},get markerStart(){return l(F)},get markerEnd(){return l(H)}})}),lt(J,q=>v=q,()=>v),ye(()=>Y=Ze(X,"",Y,{"z-index":l(N)})),te(B,X)};De(z,B=>{l(D)||B(O)})}te(e,Q),ke()}ih();var Q0=Xt("<defs></defs>");function J0(e,t){Ne(t,!1);const n=br();tr();var r=Q0();rt(r,5,()=>n.markers,i=>i.id,(i,o)=>{nb(i,Wt(()=>l(o)))}),te(e,r),ke()}var $0=Xt('<polyline class="arrow" fill="none" stroke-linecap="round" stroke-linejoin="round" points="-5,-4 0,0 -5,4"></polyline>'),eb=Xt('<polyline class="arrowclosed" stroke-linecap="round" stroke-linejoin="round" points="-5,-4 0,0 -5,4 -5,-4"></polyline>'),tb=Xt('<marker class="svelte-flow__arrowhead" viewBox="-10 -10 20 20" refX="0" refY="0"><!></marker>');function nb(e,t){Ne(t,!0);let n=ee(t,"width",3,12.5),r=ee(t,"height",3,12.5),i=ee(t,"markerUnits",3,"strokeWidth"),o=ee(t,"orient",3,"auto-start-reverse"),s=ee(t,"color",3,"none");var a=tb(),u=se(a);{var d=h=>{var f=$0();let g;ye(()=>{me(f,"stroke-width",t.strokeWidth),g=Ze(f,"",g,{stroke:s()})}),te(h,f)},c=h=>{var f=eb();let g;ye(()=>{me(f,"stroke-width",t.strokeWidth),g=Ze(f,"",g,{stroke:s(),fill:s()})}),te(h,f)};De(u,h=>{t.type===rs.Arrow?h(d):t.type===rs.ArrowClosed&&h(c,1)})}ye(()=>{me(a,"id",t.id),me(a,"markerWidth",`${n()}`),me(a,"markerHeight",`${r()}`),me(a,"markerUnits",i()),me(a,"orient",o())}),te(e,a),ke()}var rb=de('<div class="svelte-flow__edges"><svg class="svelte-flow__marker"><!></svg> <!></div>');function ib(e,t){Ne(t,!0);let n=ee(t,"store",15);var r=rb(),i=se(r),o=se(i);J0(o,{});var s=he(i,2);rt(s,17,()=>n().visible.edges.values(),a=>a.id,(a,u)=>{Z0(a,{get edge(){return l(u)},get onedgeclick(){return t.onedgeclick},get onedgecontextmenu(){return t.onedgecontextmenu},get onedgepointerenter(){return t.onedgepointerenter},get onedgepointerleave(){return t.onedgepointerleave},get store(){return n()},set store(d){n(d)}})}),te(e,r),ke()}var ob=de('<div class="svelte-flow__selection svelte-1f9lbg4"></div>');function of(e,t){Ne(t,!0);let n=ee(t,"x",3,0),r=ee(t,"y",3,0),i=ee(t,"width",3,0),o=ee(t,"height",3,0),s=ee(t,"isVisible",3,!0);var a=$e(),u=Pe(a);{var d=c=>{var h=ob();let f;ye(g=>f=Ze(h,"",f,g),[()=>({width:typeof i()=="string"?i():Mn(i()),height:typeof o()=="string"?o():Mn(o()),transform:`translate(${n()}px, ${r()}px)`})]),te(c,h)};De(u,c=>{s()&&c(d)})}te(e,a),ke()}var sb=de("<div><!></div>");function ab(e,t){Ne(t,!0);let n=we(void 0);qe(()=>{var h;t.store.disableKeyboardA11y||(h=l(n))==null||h.focus({preventScroll:!0})});let r=L(()=>{if(t.store.selectionRectMode==="nodes"){t.store.nodes;const h=Ps(t.store.nodeLookup,{filter:f=>!!f.selected});if(h.width>0&&h.height>0)return h}return null});function i(h){var g;const f=t.store.nodes.filter(p=>p.selected);(g=t.onselectioncontextmenu)==null||g.call(t,{nodes:f,event:h})}function o(h){var g;const f=t.store.nodes.filter(p=>p.selected);(g=t.onselectionclick)==null||g.call(t,{nodes:f,event:h})}function s(h){Object.prototype.hasOwnProperty.call(as,h.key)&&(h.preventDefault(),t.store.moveSelectedNodes(as[h.key],h.shiftKey?4:1))}var a=$e(),u=Pe(a);{var d=h=>{var f=sb();f.__contextmenu=i,f.__click=o,f.__keydown=function(...b){var y;(y=t.store.disableKeyboardA11y?void 0:s)==null||y.apply(this,b)};let g;var p=se(f);of(p,{width:"100%",height:"100%",x:0,y:0}),Dt(f,(b,y)=>ii==null?void 0:ii(b,y),()=>({disabled:!1,store:t.store,onDrag:(b,y,k,w)=>{var S;(S=t.onnodedrag)==null||S.call(t,{event:b,targetNode:null,nodes:w})},onDragStart:(b,y,k,w)=>{var S;(S=t.onnodedragstart)==null||S.call(t,{event:b,targetNode:null,nodes:w})},onDragStop:(b,y,k,w)=>{var S;(S=t.onnodedragstop)==null||S.call(t,{event:b,targetNode:null,nodes:w})}})),lt(f,b=>j(n,b),()=>l(n)),ye(b=>{Ot(f,1,Yr(["svelte-flow__selection-wrapper",t.store.noPanClass]),"svelte-5rnsv4"),me(f,"role",t.store.disableKeyboardA11y?void 0:"button"),me(f,"tabindex",t.store.disableKeyboardA11y?void 0:-1),g=Ze(f,"",g,b)},[()=>({width:Mn(l(r).width),height:Mn(l(r).height),transform:`translate(${l(r).x??""}px, ${l(r).y??""}px)`})]),te(h,f)},c=L(()=>t.store.selectionRectMode==="nodes"&&l(r)&&Un(l(r).x)&&Un(l(r).y));De(u,h=>{l(c)&&h(d)})}te(e,a),ke()}vt(["contextmenu","click","keydown"]);function lb(e){switch(e){case"ctrl":return 8;case"shift":return 4;case"alt":return 2;case"meta":return 1}}function Ge(e,t){let{enabled:n=!0,trigger:r,type:i="keydown"}=t;function o(a){var c;const u=Array.isArray(r)?r:[r],d=[a.metaKey,a.altKey,a.shiftKey,a.ctrlKey].reduce((h,f,g)=>f?h|1<<g:h,0);for(const h of u){const f={preventDefault:!1,enabled:!0,...h},{modifier:g,key:p,callback:b,preventDefault:y,enabled:k}=f;if(k){if(a.key!==p)continue;if(g===null||g===!1){if(d!==0)continue}else if(g!==void 0&&((c=g==null?void 0:g[0])==null?void 0:c.length)>0){const S=Array.isArray(g)?g:[g];let m=!1;for(const A of S)if((Array.isArray(A)?A:[A]).reduce((M,x)=>M|lb(x),0)===d){m=!0;break}if(!m)continue}y&&a.preventDefault();const w={node:e,trigger:f,originalEvent:a};e.dispatchEvent(new CustomEvent("shortcut",{detail:w})),b==null||b(w)}}}let s;return n&&(s=wa(e,i,o)),{update:a=>{const{enabled:u=!0,type:d="keydown"}=a;n&&(!u||i!==d)?s==null||s():!n&&u&&(s=wa(e,d,o)),n=u,i=d,r=a.trigger},destroy:()=>{s==null||s()}}}function Gr(){const e=L(br),t=o=>{var d,c;const s=Cu(o)?o:l(e).nodeLookup.get(o.id),a=s.parentId?hy(s.position,s.measured,s.parentId,l(e).nodeLookup,l(e).nodeOrigin):s.position,u={...s,position:a,width:((d=s.measured)==null?void 0:d.width)??s.width,height:((c=s.measured)==null?void 0:c.height)??s.height};return wi(u)};function n(o,s,a={replace:!1}){l(e).nodes=Le(()=>l(e).nodes).map(u=>{if(u.id===o){const d=typeof s=="function"?s(u):s;return a!=null&&a.replace&&Cu(d)?d:{...u,...d}}return u})}function r(o,s,a={replace:!1}){l(e).edges=Le(()=>l(e).edges).map(u=>{if(u.id===o){const d=typeof s=="function"?s(u):s;return a.replace&&_0(d)?d:{...u,...d}}return u})}const i=o=>l(e).nodeLookup.get(o);return{zoomIn:l(e).zoomIn,zoomOut:l(e).zoomOut,getInternalNode:i,getNode:o=>{var s;return(s=i(o))==null?void 0:s.internals.userNode},getNodes:o=>o===void 0?l(e).nodes:Ru(l(e).nodeLookup,o),getEdge:o=>l(e).edgeLookup.get(o),getEdges:o=>o===void 0?l(e).edges:Ru(l(e).edgeLookup,o),setZoom:(o,s)=>{const a=l(e).panZoom;return a?a.scaleTo(o,{duration:s==null?void 0:s.duration}):Promise.resolve(!1)},getZoom:()=>l(e).viewport.zoom,setViewport:async(o,s)=>{const a=l(e).viewport;return l(e).panZoom?(await l(e).panZoom.setViewport({x:o.x??a.x,y:o.y??a.y,zoom:o.zoom??a.zoom},s),Promise.resolve(!0)):Promise.resolve(!1)},getViewport:()=>ac(l(e).viewport),setCenter:async(o,s,a)=>l(e).setCenter(o,s,a),fitView:o=>l(e).fitView(o),fitBounds:async(o,s)=>{if(!l(e).panZoom)return Promise.resolve(!1);const a=vl(o,l(e).width,l(e).height,l(e).minZoom,l(e).maxZoom,(s==null?void 0:s.padding)??.1);return await l(e).panZoom.setViewport(a,{duration:s==null?void 0:s.duration,ease:s==null?void 0:s.ease,interpolate:s==null?void 0:s.interpolate}),Promise.resolve(!0)},getIntersectingNodes:(o,s=!0,a)=>{const u=mu(o),d=u?o:t(o);return d?(a||l(e).nodes).filter(c=>{const h=l(e).nodeLookup.get(c.id);if(!h||!u&&c.id===o.id)return!1;const f=wi(h),g=$i(f,d);return s&&g>0||g>=f.width*f.height||g>=d.width*d.height}):[]},isNodeIntersecting:(o,s,a=!0)=>{const d=mu(o)?o:t(o);if(!d)return!1;const c=$i(d,s);return a&&c>0||c>=s.width*s.height||c>=d.width*d.height},deleteElements:async({nodes:o=[],edges:s=[]})=>{var d,c;const{nodes:a,edges:u}=await ay({nodesToRemove:o,edgesToRemove:s,nodes:l(e).nodes,edges:l(e).edges,onBeforeDelete:l(e).onbeforedelete});return a&&(l(e).nodes=Le(()=>l(e).nodes).filter(h=>!a.some(({id:f})=>f===h.id))),u&&(l(e).edges=Le(()=>l(e).edges).filter(h=>!u.some(({id:f})=>f===h.id))),(a.length>0||u.length>0)&&((c=(d=l(e)).ondelete)==null||c.call(d,{nodes:a,edges:u})),{deletedNodes:a,deletedEdges:u}},screenToFlowPosition:(o,s={snapToGrid:!0})=>{if(!l(e).domNode)return o;const a=s.snapToGrid?l(e).snapGrid:!1,{x:u,y:d,zoom:c}=l(e).viewport,{x:h,y:f}=l(e).domNode.getBoundingClientRect(),g={x:o.x-h,y:o.y-f};return Eo(g,[u,d,c],a!==null,a||[1,1])},flowToScreenPosition:o=>{if(!l(e).domNode)return o;const{x:s,y:a,zoom:u}=l(e).viewport,{x:d,y:c}=l(e).domNode.getBoundingClientRect(),h=os(o,[s,a,u]);return{x:h.x+d,y:h.y+c}},toObject:()=>structuredClone({nodes:[...l(e).nodes],edges:[...l(e).edges],viewport:{...l(e).viewport}}),updateNode:n,updateNodeData:(o,s,a)=>{var c;const u=(c=l(e).nodeLookup.get(o))==null?void 0:c.internals.userNode;if(!u)return;const d=typeof s=="function"?s(u):s;n(o,h=>({...h,data:a!=null&&a.replace?d:{...h.data,...d}}))},updateEdge:r,getNodesBounds:o=>ry(o,{nodeLookup:l(e).nodeLookup,nodeOrigin:l(e).nodeOrigin}),getHandleConnections:({type:o,id:s,nodeId:a})=>{var u;return Array.from(((u=l(e).connectionLookup.get(`${a}-${o}-${s??null}`))==null?void 0:u.values())??[])}}}function Ru(e,t){var r;const n=[];for(const i of t){const o=e.get(i);if(o){const s="internals"in o?(r=o.internals)==null?void 0:r.userNode:o;n.push(s)}}return n}function ub(e,t){Ne(t,!0);let n=ee(t,"store",15),r=ee(t,"selectionKey",3,"Shift"),i=ee(t,"multiSelectionKey",19,()=>ss()?"Meta":"Control"),o=ee(t,"deleteKey",3,"Backspace"),s=ee(t,"panActivationKey",3," "),a=ee(t,"zoomActivationKey",19,()=>ss()?"Meta":"Control"),{deleteElements:u}=Gr();function d(b){return b!==null&&typeof b=="object"}function c(b){return d(b)?b.modifier||[]:[]}function h(b){return b==null?"":d(b)?b.key:b}function f(b,y){return(Array.isArray(b)?b:[b]).map(w=>{const S=h(w);return{key:S,modifier:c(w),enabled:S!==null,callback:y}})}function g(){n(n().selectionRect=null,!0),n(n().selectionKeyPressed=!1,!0),n(n().multiselectionKeyPressed=!1,!0),n(n().deleteKeyPressed=!1,!0),n(n().panActivationKeyPressed=!1,!0),n(n().zoomActivationKeyPressed=!1,!0)}function p(){const b=n().nodes.filter(k=>k.selected),y=n().edges.filter(k=>k.selected);u({nodes:b,edges:y})}Ke("blur",ut,g),Ke("contextmenu",ut,g),Dt(ut,(b,y)=>Ge==null?void 0:Ge(b,y),()=>({trigger:f(r(),()=>n(n().selectionKeyPressed=!0,!0)),type:"keydown"})),Dt(ut,(b,y)=>Ge==null?void 0:Ge(b,y),()=>({trigger:f(r(),()=>n(n().selectionKeyPressed=!1,!0)),type:"keyup"})),Dt(ut,(b,y)=>Ge==null?void 0:Ge(b,y),()=>({trigger:f(i(),()=>{n(n().multiselectionKeyPressed=!0,!0)}),type:"keydown"})),Dt(ut,(b,y)=>Ge==null?void 0:Ge(b,y),()=>({trigger:f(i(),()=>n(n().multiselectionKeyPressed=!1,!0)),type:"keyup"})),Dt(ut,(b,y)=>Ge==null?void 0:Ge(b,y),()=>({trigger:f(o(),b=>{!(b.originalEvent.ctrlKey||b.originalEvent.metaKey||b.originalEvent.shiftKey)&&!Rd(b.originalEvent)&&(n(n().deleteKeyPressed=!0,!0),p())}),type:"keydown"})),Dt(ut,(b,y)=>Ge==null?void 0:Ge(b,y),()=>({trigger:f(o(),()=>n(n().deleteKeyPressed=!1,!0)),type:"keyup"})),Dt(ut,(b,y)=>Ge==null?void 0:Ge(b,y),()=>({trigger:f(s(),()=>n(n().panActivationKeyPressed=!0,!0)),type:"keydown"})),Dt(ut,(b,y)=>Ge==null?void 0:Ge(b,y),()=>({trigger:f(s(),()=>n(n().panActivationKeyPressed=!1,!0)),type:"keyup"})),Dt(ut,(b,y)=>Ge==null?void 0:Ge(b,y),()=>({trigger:f(a(),()=>n(n().zoomActivationKeyPressed=!0,!0)),type:"keydown"})),Dt(ut,(b,y)=>Ge==null?void 0:Ge(b,y),()=>({trigger:f(a(),()=>n(n().zoomActivationKeyPressed=!1,!0)),type:"keyup"})),ke()}var cb=Xt('<path fill="none" class="svelte-flow__connection-path"></path>'),db=Xt('<svg class="svelte-flow__connectionline"><g><!></g></svg>');function fb(e,t){Ne(t,!0);let n=L(()=>{if(!t.store.connection.inProgress)return"";const s={sourceX:t.store.connection.from.x,sourceY:t.store.connection.from.y,sourcePosition:t.store.connection.fromPosition,targetX:t.store.connection.to.x,targetY:t.store.connection.to.y,targetPosition:t.store.connection.toPosition};switch(t.type){case ar.Bezier:{const[a]=Ld(s);return a}case ar.Straight:{const[a]=Fd(s);return a}case ar.Step:case ar.SmoothStep:{const[a]=pl({...s,borderRadius:t.type===ar.Step?0:void 0});return a}}});var r=$e(),i=Pe(r);{var o=s=>{var a=db(),u=se(a),d=se(u);{var c=f=>{var g=$e(),p=Pe(g);Es(p,()=>t.LineComponent,(b,y)=>{y(b,{})}),te(f,g)},h=f=>{var g=cb();ye(()=>{me(g,"d",l(n)),Ze(g,t.style)}),te(f,g)};De(d,f=>{t.LineComponent?f(c):f(h,!1)})}ye(f=>{me(a,"width",t.store.width),me(a,"height",t.store.height),Ze(a,t.containerStyle),Ot(u,0,f)},[()=>Yr(["svelte-flow__connection",ty(t.store.connection.isValid)])]),te(s,a)};De(i,s=>{t.store.connection.inProgress&&s(o)})}te(e,r),ke()}var hb=de("<div><!></div>");function xl(e,t){Ne(t,!0);let n=ee(t,"position",3,"top-right"),r=Xr(t,["$$slots","$$events","$$legacy","position","style","class","children"]),i=L(()=>`${n()}`.split("-"));var o=hb();vn(o,a=>({class:a,style:t.style,...r}),[()=>["svelte-flow__panel",t.class,...l(i)]]);var s=se(o);zn(s,()=>t.children??pr),te(e,o),ke()}var gb=de('<a href="https://svelteflow.dev" target="_blank" rel="noopener noreferrer" aria-label="Svelte Flow attribution">Svelte Flow</a>');function vb(e,t){Ne(t,!0);let n=ee(t,"position",3,"bottom-right");var r=$e(),i=Pe(r);{var o=s=>{xl(s,{get position(){return n()},class:"svelte-flow__attribution","data-message":"Feel free to remove the attribution or check out how you could support us: https://svelteflow.dev/support-us",children:(a,u)=>{var d=gb();te(a,d)},$$slots:{default:!0}})};De(i,s=>{var a;(a=t.proOptions)!=null&&a.hideAttribution||s(o)})}te(e,r),ke()}var pb=de("<div><!></div>");function mb(e,t){Ne(t,!0);let n=ee(t,"domNode",15),r=ee(t,"clientWidth",15),i=ee(t,"clientHeight",15),o=L(()=>t.rest.class),s=L(()=>zh(t.rest,["id","class","nodeTypes","edgeTypes","colorMode","isValidConnection","onmove","onmovestart","onmoveend","onflowerror","ondelete","onbeforedelete","onbeforeconnect","onconnect","onconnectstart","onconnectend","onbeforereconnect","onreconnect","onreconnectstart","onreconnectend","onclickconnectstart","onclickconnectend","oninit","onselectionchange","onselectiondragstart","onselectiondrag","onselectiondragstop","onselectionstart","onselectionend","clickConnect","fitView","fitViewOptions","nodeOrigin","nodeDragThreshold","connectionDragThreshold","minZoom","maxZoom","initialViewport","connectionRadius","connectionMode","selectionMode","selectNodesOnDrag","snapGrid","defaultMarkerColor","translateExtent","nodeExtent","onlyRenderVisibleElements","autoPanOnConnect","autoPanOnNodeDrag","colorModeSSR","defaultEdgeOptions","elevateNodesOnSelect","elevateEdgesOnSelect","nodesDraggable","autoPanOnNodeFocus","nodesConnectable","elementsSelectable","nodesFocusable","edgesFocusable","disableKeyboardA11y","noDragClass","noPanClass","noWheelClass","ariaLabelConfig","autoPanSpeed","panOnScrollSpeed","zIndexMode"]));function a(c){c.currentTarget.scrollTo({top:0,left:0,behavior:"auto"}),t.rest.onscroll&&t.rest.onscroll(c)}var u=pb();vn(u,c=>({class:["svelte-flow","svelte-flow__container",l(o),t.colorMode],"data-testid":"svelte-flow__wrapper",role:"application",onscroll:a,...l(s),[Yn]:c}),[()=>({width:Mn(t.width),height:Mn(t.height)})],void 0,void 0,"svelte-rhpwh");var d=se(u);zn(d,()=>t.children??pr),lt(u,c=>n(c),()=>n()),Ul(u,"clientHeight",i),Ul(u,"clientWidth",r),te(e,u),ke()}var yb=de('<div class="svelte-flow__viewport-back svelte-flow__container"></div> <!> <div class="svelte-flow__edge-labels svelte-flow__container"></div> <!> <!> <!> <div class="svelte-flow__viewport-front svelte-flow__container"></div>',1),bb=de("<!> <!>",1),_b=de("<!> <!> <!> <!> <!>",1);function wb(e,t){Ne(t,!0);let n=ee(t,"paneClickDistance",3,1),r=ee(t,"nodeClickDistance",3,1),i=ee(t,"panOnScrollMode",19,()=>ri.Free),o=ee(t,"preventScrolling",3,!0),s=ee(t,"zoomOnScroll",3,!0),a=ee(t,"zoomOnDoubleClick",3,!0),u=ee(t,"zoomOnPinch",3,!0),d=ee(t,"panOnScroll",3,!1),c=ee(t,"panOnScrollSpeed",3,.5),h=ee(t,"panOnDrag",3,!0),f=ee(t,"selectionOnDrag",3,!1),g=ee(t,"connectionLineType",19,()=>ar.Bezier),p=ee(t,"nodes",31,()=>Jt([])),b=ee(t,"edges",31,()=>Jt([])),y=ee(t,"viewport",15,void 0),k=Xr(t,["$$slots","$$events","$$legacy","width","height","proOptions","selectionKey","deleteKey","panActivationKey","multiSelectionKey","zoomActivationKey","paneClickDistance","nodeClickDistance","onmovestart","onmoveend","onmove","oninit","onnodeclick","onnodecontextmenu","onnodedrag","onnodedragstart","onnodedragstop","onnodepointerenter","onnodepointermove","onnodepointerleave","onselectionclick","onselectioncontextmenu","onselectionstart","onselectionend","onedgeclick","onedgecontextmenu","onedgepointerenter","onedgepointerleave","onpaneclick","onpanecontextmenu","panOnScrollMode","preventScrolling","zoomOnScroll","zoomOnDoubleClick","zoomOnPinch","panOnScroll","panOnScrollSpeed","panOnDrag","selectionOnDrag","connectionLineComponent","connectionLineStyle","connectionLineContainerStyle","connectionLineType","attributionPosition","children","nodes","edges","viewport"]),w=tf({props:k,width:t.width,height:t.height,get nodes(){return p()},set nodes(m){p(m)},get edges(){return b()},set edges(m){b(m)},get viewport(){return y()},set viewport(m){y(m)}});const S=qa(ls);S&&S.setStore&&S.setStore(w),Za(ls,{provider:!1,getStore(){return w}}),qe(()=>{var A;const m={nodes:w.selectedNodes,edges:w.selectedEdges};(A=Le(()=>t.onselectionchange))==null||A(m);for(const T of w.selectionChangeHandlers.values())T(m)}),yo(()=>{w.reset()}),mb(e,{get colorMode(){return w.colorMode},get width(){return t.width},get height(){return t.height},get rest(){return k},get domNode(){return w.domNode},set domNode(m){w.domNode=m},get clientWidth(){return w.width},set clientWidth(m){w.width=m},get clientHeight(){return w.height},set clientHeight(m){w.height=m},children:(m,A)=>{var T=_b(),M=Pe(T);ub(M,{get selectionKey(){return t.selectionKey},get deleteKey(){return t.deleteKey},get panActivationKey(){return t.panActivationKey},get multiSelectionKey(){return t.multiSelectionKey},get zoomActivationKey(){return t.zoomActivationKey},get store(){return w},set store(_){w=_}});var x=he(M,2);z0(x,{get panOnScrollMode(){return i()},get preventScrolling(){return o()},get zoomOnScroll(){return s()},get zoomOnDoubleClick(){return a()},get zoomOnPinch(){return u()},get panOnScroll(){return d()},get panOnScrollSpeed(){return c()},get panOnDrag(){return h()},get paneClickDistance(){return n()},get selectionOnDrag(){return f()},get onmovestart(){return t.onmovestart},get onmove(){return t.onmove},get onmoveend(){return t.onmoveend},get oninit(){return t.oninit},get store(){return w},set store(_){w=_},children:(_,E)=>{V0(_,{get onpaneclick(){return t.onpaneclick},get onpanecontextmenu(){return t.onpanecontextmenu},get onselectionstart(){return t.onselectionstart},get onselectionend(){return t.onselectionend},get panOnDrag(){return h()},get paneClickDistance(){return n()},get selectionOnDrag(){return f()},get store(){return w},set store(v){w=v},children:(v,I)=>{var C=bb(),P=Pe(C);H0(P,{get store(){return w},set store(H){w=H},children:(H,W)=>{var G=yb(),U=he(Pe(G),2);ib(U,{get onedgeclick(){return t.onedgeclick},get onedgecontextmenu(){return t.onedgecontextmenu},get onedgepointerenter(){return t.onedgepointerenter},get onedgepointerleave(){return t.onedgepointerleave},get store(){return w},set store(B){w=B}});var Q=he(U,4);fb(Q,{get type(){return g()},get LineComponent(){return t.connectionLineComponent},get containerStyle(){return t.connectionLineContainerStyle},get style(){return t.connectionLineStyle},get store(){return w},set store(B){w=B}});var z=he(Q,2);U0(z,{get nodeClickDistance(){return r()},get onnodeclick(){return t.onnodeclick},get onnodecontextmenu(){return t.onnodecontextmenu},get onnodepointerenter(){return t.onnodepointerenter},get onnodepointermove(){return t.onnodepointermove},get onnodepointerleave(){return t.onnodepointerleave},get onnodedrag(){return t.onnodedrag},get onnodedragstart(){return t.onnodedragstart},get onnodedragstop(){return t.onnodedragstop},get store(){return w},set store(B){w=B}});var O=he(z,2);ab(O,{get onselectionclick(){return t.onselectionclick},get onselectioncontextmenu(){return t.onselectioncontextmenu},get onnodedrag(){return t.onnodedrag},get onnodedragstart(){return t.onnodedragstart},get onnodedragstop(){return t.onnodedragstop},get store(){return w},set store(B){w=B}}),te(H,G)},$$slots:{default:!0}});var F=he(P,2);{let H=L(()=>!!(w.selectionRect&&w.selectionRectMode==="user")),W=L(()=>{var z;return(z=w.selectionRect)==null?void 0:z.width}),G=L(()=>{var z;return(z=w.selectionRect)==null?void 0:z.height}),U=L(()=>{var z;return(z=w.selectionRect)==null?void 0:z.x}),Q=L(()=>{var z;return(z=w.selectionRect)==null?void 0:z.y});of(F,{get isVisible(){return l(H)},get width(){return l(W)},get height(){return l(G)},get x(){return l(U)},get y(){return l(Q)}})}te(v,C)},$$slots:{default:!0}})},$$slots:{default:!0}});var V=he(x,2);vb(V,{get proOptions(){return t.proOptions},get position(){return t.attributionPosition}});var D=he(V,2);W0(D,{get store(){return w}});var N=he(D,2);zn(N,()=>t.children??pr),te(m,T)},$$slots:{default:!0}}),ke()}function xb(e,t){Ne(t,!0);let n=we(tf({props:{},nodes:[],edges:[]}));Za(ls,{provider:!0,getStore(){return l(n)},setStore:o=>{j(n,o)}}),yo(()=>{l(n).reset()});var r=$e(),i=Pe(r);zn(i,()=>t.children??pr),te(e,r),ke()}var hr;(function(e){e.Lines="lines",e.Dots="dots",e.Cross="cross"})(hr||(hr={}));var Eb=Xt("<circle></circle>");function Nb(e,t){var n=Eb();ye(()=>{me(n,"cx",t.radius),me(n,"cy",t.radius),me(n,"r",t.radius),Ot(n,0,Yr(["svelte-flow__background-pattern","dots",t.class]))}),te(e,n)}var kb=Xt("<path></path>");function Sb(e,t){Ne(t,!0);var n=kb();ye(()=>{me(n,"stroke-width",t.lineWidth),me(n,"d",`M${t.dimensions[0]/2} 0 V${t.dimensions[1]} M0 ${t.dimensions[1]/2} H${t.dimensions[0]}`),Ot(n,0,Yr(["svelte-flow__background-pattern",t.variant,t.class]))}),te(e,n),ke()}const Ib={[hr.Dots]:1,[hr.Lines]:1,[hr.Cross]:6};var Tb=Xt('<svg data-testid="svelte-flow__background"><pattern patternUnits="userSpaceOnUse"><!></pattern><rect x="0" y="0" width="100%" height="100%"></rect></svg>');function Ob(e,t){Ne(t,!0);let n=ee(t,"variant",19,()=>hr.Dots),r=ee(t,"gap",3,20),i=ee(t,"lineWidth",3,1),o=L(br),s=L(()=>n()===hr.Dots),a=L(()=>n()===hr.Cross),u=L(()=>Array.isArray(r())?r():[r(),r()]),d=L(()=>`background-pattern-${l(o).flowId}-${t.id??""}`),c=L(()=>[l(u)[0]*l(o).viewport.zoom||1,l(u)[1]*l(o).viewport.zoom||1]),h=L(()=>(t.size??Ib[n()])*l(o).viewport.zoom),f=L(()=>l(a)?[l(h),l(h)]:l(c)),g=L(()=>l(s)?[l(h)/2,l(h)/2]:[l(f)[0]/2,l(f)[1]/2]);var p=Tb();let b;var y=se(p),k=se(y);{var w=A=>{{let T=L(()=>l(h)/2);Nb(A,{get radius(){return l(T)},get class(){return t.patternClass}})}},S=A=>{Sb(A,{get dimensions(){return l(f)},get variant(){return n()},get lineWidth(){return i()},get class(){return t.patternClass}})};De(k,A=>{l(s)?A(w):A(S,!1)})}var m=he(y);ye(()=>{Ot(p,0,Yr(["svelte-flow__background","svelte-flow__container",t.class])),b=Ze(p,"",b,{"--xy-background-color-props":t.bgColor,"--xy-background-pattern-color-props":t.patternColor}),me(y,"id",l(d)),me(y,"x",l(o).viewport.x%l(c)[0]),me(y,"y",l(o).viewport.y%l(c)[1]),me(y,"width",l(c)[0]),me(y,"height",l(c)[1]),me(y,"patternTransform",`translate(-${l(g)[0]},-${l(g)[1]})`),me(m,"fill",`url(#${l(d)})`)}),te(e,p),ke()}var Cb=de("<div><!></div>");function zu(e,t){Ne(t,!0);let n=ee(t,"variant",19,()=>eo.Handle),r=ee(t,"minWidth",3,10),i=ee(t,"minHeight",3,10),o=ee(t,"maxWidth",19,()=>Number.MAX_VALUE),s=ee(t,"maxHeight",19,()=>Number.MAX_VALUE),a=ee(t,"keepAspectRatio",3,!1),u=ee(t,"autoScale",3,!0),d=Xr(t,["$$slots","$$events","$$legacy","nodeId","position","variant","color","minWidth","minHeight","maxWidth","maxHeight","keepAspectRatio","resizeDirection","autoScale","shouldResize","onResizeStart","onResize","onResizeEnd","class","children"]);const c=br(),h=Zd();let f=L(()=>typeof t.nodeId=="string"?t.nodeId:h);if(!l(f))throw new Error("Either pass a nodeId or use within a Custom Node component");let g,p=we(null),b=L(()=>n()===eo.Line),y=L(()=>{let m=l(b)?"right":"bottom-right";return t.position??m}),k=L(()=>l(y).split("-"));ol(()=>(g&&j(p,s0({domNode:g,nodeId:l(f),getStoreItems:()=>({nodeLookup:c.nodeLookup,transform:[c.viewport.x,c.viewport.y,c.viewport.zoom],snapGrid:c.snapGrid??void 0,snapToGrid:!!c.snapGrid,nodeOrigin:c.nodeOrigin,paneDomNode:c.domNode}),onChange:(m,A)=>{const T=new Map;T.set(l(f),m);for(const M of A)T.set(M.id,{x:M.position.x,y:M.position.y});c.nodes=c.nodes.map(M=>{const x=T.get(M.id),V=!t.resizeDirection||t.resizeDirection==="horizontal",D=!t.resizeDirection||t.resizeDirection==="vertical";return x?{...M,position:{x:V?x.x??M.position.x:M.position.x,y:D?x.y??M.position.y:M.position.y},width:V?x.width??M.width:M.width,height:D?x.height??M.height:M.height}:M})}}),!0),()=>{var m;(m=l(p))==null||m.destroy()})),tl(()=>{var m;(m=l(p))==null||m.update({controlPosition:l(y),boundaries:{minWidth:r(),minHeight:i(),maxWidth:o(),maxHeight:s()},keepAspectRatio:!!a(),resizeDirection:t.resizeDirection,onResizeStart:t.onResizeStart,onResize:t.onResize,onResizeEnd:t.onResizeEnd,shouldResize:t.shouldResize})});var w=Cb();vn(w,(m,A)=>({class:m,...d,[Yn]:A}),[()=>["svelte-flow__resize-control",c.noDragClass,...l(k),n(),t.class],()=>({"border-color":l(b)?t.color:void 0,"background-color":l(b)?void 0:t.color,scale:l(b)||!u()?void 0:Math.max(1/c.viewport.zoom,1)})]);var S=se(w);zn(S,()=>t.children??pr),lt(w,m=>g=m,()=>g),te(e,w),ke()}var Pb=de("<!> <!>",1);function Ab(e,t){Ne(t,!0);let n=ee(t,"isVisible",3,!0),r=ee(t,"autoScale",3,!0),i=Xr(t,["$$slots","$$events","$$legacy","isVisible","nodeId","handleClass","handleStyle","lineClass","lineStyle","autoScale"]);var o=$e(),s=Pe(o);{var a=u=>{var d=Pb(),c=Pe(d);rt(c,16,()=>e0,f=>f,(f,g)=>{zu(f,Wt({get class(){return t.lineClass},get style(){return t.lineStyle},get nodeId(){return t.nodeId},get position(){return g},get autoScale(){return r()},get variant(){return eo.Line}},()=>i))});var h=he(c,2);rt(h,16,()=>$y,f=>f,(f,g)=>{zu(f,Wt({get class(){return t.handleClass},get style(){return t.handleStyle},get nodeId(){return t.nodeId},get position(){return g},get autoScale(){return r()}},()=>i))}),te(u,d)};De(s,u=>{n()&&u(a)})}te(e,o),ke()}function sf(){const e=L(br);return{get current(){return l(e).viewport},set current(t){l(e).viewport=t},update(t){l(e).viewport=t(l(e).viewport)},set(t){l(e).viewport=t}}}const Et=Jt({}),Mb="#808080";function us(){return Mb}function Db(e){if(typeof e=="string")return e;if(Number.isFinite(e))return`#${Math.floor(e).toString(16).padStart(6,"0")}`;if(Array.isArray(e)&&e.length>=3){const[t,n,r,i]=e;return typeof i=="number"?`rgb(${Number(t)} ${Number(n)} ${Number(r)} / ${i})`:`rgb(${Number(t)} ${Number(n)} ${Number(r)})`}if(e&&typeof e=="object"){const t=e;if(typeof t.r=="number"&&typeof t.g=="number"&&typeof t.b=="number")return typeof t.a=="number"?`rgb(${t.r} ${t.g} ${t.b} / ${t.a})`:`rgb(${t.r} ${t.g} ${t.b})`}}const Va="datanode",Fa="rawjson",Ha="link",oa="group",Ka="comment",Dr="input",Lu="output",Fo="Generic",af="$Group",lf="$Comment",uf="$RawJson",cf="$Link",Rb="hytale-node-editor-comment-mutation",zb="hytale-node-editor-custom-mutation",Lb="hytale-node-editor-raw-json-mutation",Vb=200,Fb=100,Hb=9,sa=520,aa=320,cs=`{

}`,Kb="Raw JSON Node";var Bb=de('<div class="text-xs text-vsc-muted">No matching node types</div>'),Wb=de('<button data-add-node-menu-item="true" role="option" type="button"><span aria-hidden="true" class="relative h-8 w-2.5"></span> <span class="flex-1 min-w-0"><span class="block text-xs font-semibold truncate"> </span></span></button>'),Yb=de('<div class="flex flex-col gap-1.5"><div class="flex items-center gap-2 px-1 text-[0.65rem] font-semibold uppercase tracking-widest text-vsc-muted"><span> </span> <span class="flex-1 h-px bg-vsc-editor-widget-border"></span></div> <!></div>'),Xb=de('<div data-add-node-menu="true" role="dialog" aria-label="Add node menu" tabindex="-1" class="absolute z-3001 w-64 max-h-[70vh] translate-x-2 translate-y-2 overflow-hidden rounded-lg border border-vsc-editor-widget-border bg-vsc-editor-widget-bg p-2.5 text-vsc-editor-fg shadow-2xl"><input class="w-full rounded-md border border-vsc-input-border bg-vsc-input-bg px-2 py-1.5 text-xs text-vsc-input-fg" type="search" placeholder="Search nodes..."/> <div class="relative mt-2 flex max-h-[calc(70vh-3.5rem)] flex-col gap-2 overflow-auto pr-0.5" role="listbox"><!></div></div>');function jb(e,t){Ne(t,!0),console.log("Add Menu attempted to exist.");let n=ee(t,"open",3,!1),r=ee(t,"openVersion",3,0),i=ee(t,"position",19,()=>({x:0,y:0})),o=we(""),s=we(void 0),a=we(void 0),u=we(void 0),d=0,c="",h=-1;const f=[{templateId:af,defaultTitle:"Add Group",childTypes:{},fieldsBySchemaKey:{},inputPins:[],outputPins:[],schemaConstants:{},category:Fo},{templateId:lf,defaultTitle:"Add Comment",childTypes:{},fieldsBySchemaKey:{},inputPins:[],outputPins:[],schemaConstants:{},category:Fo},{templateId:cf,defaultTitle:"Add Link",childTypes:{},fieldsBySchemaKey:{},inputPins:[],outputPins:[],schemaConstants:{},category:Fo},{templateId:uf,defaultTitle:"Raw JSON Node",childTypes:{},fieldsBySchemaKey:{},inputPins:[],outputPins:[],schemaConstants:{},category:Fo}];let g=L(()=>[...f,...Et.context?Object.values(Et.context.nodeTemplatesById):[]]),p=L(()=>l(g).filter(x=>`${x.defaultTitle} ${x.category??""}`.toLowerCase().includes(l(o).trim().toLowerCase())).map((x,V)=>({flatIndex:V,template:x}))),b=L(()=>l(p).reduce((x,V)=>{const D=V.template.category??"Uncategorized";return{...x,[D]:[...x[D]??[],V]}},{}));qe(()=>{n()&&r()!==h&&(j(o,""),d=0,h=r(),ct().then(()=>{var x;return(x=l(s))==null?void 0:x.focus()}))}),qe(()=>{l(o)!==c&&(c=l(o),d=0)}),qe(()=>{d>=l(p).length&&(d=Math.max(0,l(p).length-1))}),qe(()=>{n()&&l(p).length>0&&d>=0&&ct().then(()=>{k()})});function y(x){if(n()){if(x.key==="Escape"){x.preventDefault(),x.stopPropagation(),t.onclose();return}if(l(p).length!==0){if(x.key==="ArrowDown"){x.preventDefault(),x.stopPropagation(),d=(d+1)%l(p).length,ct().then(()=>k());return}if(x.key==="ArrowUp"){x.preventDefault(),x.stopPropagation(),d=(d-1+l(p).length)%l(p).length,ct().then(()=>k());return}x.key==="Enter"&&(x.preventDefault(),x.stopPropagation(),t.onselect((l(p)[d]??l(p)[0]).template))}}}function k(){var D,N;const x=(N=(D=l(u))==null?void 0:D.querySelectorAll)==null?void 0:N.call(D,'[data-add-node-menu-item="true"]'),V=x==null?void 0:x[d];l(u)}function w(x){return d===x}function S(x){x>=0&&x<l(p).length&&(d=x)}function m(x){return typeof(x==null?void 0:x.nodeColor)=="string"&&x.nodeColor.trim()?x.nodeColor.trim():us()}var A=$e(),T=Pe(A);{var M=x=>{var V=Xb();V.__keydown=y;let D;var N=se(V);N.__keydown=y,lt(N,P=>j(s,P),()=>l(s));var _=he(N,2),E=se(_);{var v=P=>{var F=Bb();te(P,F)},I=L(()=>Object.keys(l(b)).length===0),C=P=>{var F=$e(),H=Pe(F);rt(H,17,()=>Object.entries(l(b)),([W,G])=>W,(W,G)=>{var U=L(()=>mr(l(G),2));let Q=()=>l(U)[0],z=()=>l(U)[1];var O=Yb(),B=se(O),X=se(B),Y=se(X),J=he(B,2);rt(J,17,z,re=>re.template.templateId,(re,q)=>{var le=Wb();let ge;le.__click=()=>t.onselect(l(q).template);var pe=se(le),oe=he(pe,2),be=se(oe),xe=se(be);ye((_e,ne,ae,ve)=>{ge=Ot(le,1,"group flex w-full cursor-pointer items-center gap-2 rounded-lg border border-vsc-editor-widget-border bg-vsc-button-secondary-bg text-left text-vsc-button-secondary-fg transition-[border-color,background-color,color] overflow-clip",null,ge,_e),me(le,"data-active",ne),me(le,"aria-selected",ae),Ze(pe,`background-color: ${ve??""};`),We(xe,l(q).template.defaultTitle)},[()=>({"border-vsc-focus":w(l(q).flatIndex),"bg-vsc-list-active-bg":w(l(q).flatIndex),"text-vsc-list-active-fg":w(l(q).flatIndex)}),()=>w(l(q).flatIndex),()=>w(l(q).flatIndex),()=>m(l(q).template)]),Ke("mouseenter",le,()=>S(l(q).flatIndex)),te(re,le)}),ye(()=>We(Y,Q())),te(W,O)}),te(P,F)};De(E,P=>{l(I)?P(v):P(C,!1)})}lt(_,P=>j(u,P),()=>l(u)),lt(V,P=>j(a,P),()=>l(a)),ye(()=>D=Ze(V,"",D,{left:`${i().x}px`,top:`${i().y}px`})),Qc(N,()=>l(o),P=>j(o,P)),te(x,V)};De(T,x=>{n()&&x(M)})}te(e,A),ke()}vt(["keydown","click"]);/**
 * @license lucide-svelte v0.564.0 - ISC
 *
 * ISC License
 * 
 * Copyright (c) for portions of Lucide are held by Cole Bemis 2013-2026 as part of Feather (MIT). All other copyright (c) for Lucide are held by Lucide Contributors 2026.
 * 
 * Permission to use, copy, modify, and/or distribute this software for any
 * purpose with or without fee is hereby granted, provided that the above
 * copyright notice and this permission notice appear in all copies.
 * 
 * THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES
 * WITH REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF
 * MERCHANTABILITY AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR
 * ANY SPECIAL, DIRECT, INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES
 * WHATSOEVER RESULTING FROM LOSS OF USE, DATA OR PROFITS, WHETHER IN AN
 * ACTION OF CONTRACT, NEGLIGENCE OR OTHER TORTIOUS ACTION, ARISING OUT OF
 * OR IN CONNECTION WITH THE USE OR PERFORMANCE OF THIS SOFTWARE.
 * 
 * ---
 * 
 * The MIT License (MIT) (for portions derived from Feather)
 * 
 * Copyright (c) 2013-2026 Cole Bemis
 * 
 * Permission is hereby granted, free of charge, to any person obtaining a copy
 * of this software and associated documentation files (the "Software"), to deal
 * in the Software without restriction, including without limitation the rights
 * to use, copy, modify, merge, publish, distribute, sublicense, and/or sell
 * copies of the Software, and to permit persons to whom the Software is
 * furnished to do so, subject to the following conditions:
 * 
 * The above copyright notice and this permission notice shall be included in all
 * copies or substantial portions of the Software.
 * 
 * THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR
 * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,
 * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE
 * AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER
 * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,
 * OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE
 * SOFTWARE.
 * 
 */const Gb={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor","stroke-width":2,"stroke-linecap":"round","stroke-linejoin":"round"};/**
 * @license lucide-svelte v0.564.0 - ISC
 *
 * ISC License
 * 
 * Copyright (c) for portions of Lucide are held by Cole Bemis 2013-2026 as part of Feather (MIT). All other copyright (c) for Lucide are held by Lucide Contributors 2026.
 * 
 * Permission to use, copy, modify, and/or distribute this software for any
 * purpose with or without fee is hereby granted, provided that the above
 * copyright notice and this permission notice appear in all copies.
 * 
 * THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES
 * WITH REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF
 * MERCHANTABILITY AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR
 * ANY SPECIAL, DIRECT, INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES
 * WHATSOEVER RESULTING FROM LOSS OF USE, DATA OR PROFITS, WHETHER IN AN
 * ACTION OF CONTRACT, NEGLIGENCE OR OTHER TORTIOUS ACTION, ARISING OUT OF
 * OR IN CONNECTION WITH THE USE OR PERFORMANCE OF THIS SOFTWARE.
 * 
 * ---
 * 
 * The MIT License (MIT) (for portions derived from Feather)
 * 
 * Copyright (c) 2013-2026 Cole Bemis
 * 
 * Permission is hereby granted, free of charge, to any person obtaining a copy
 * of this software and associated documentation files (the "Software"), to deal
 * in the Software without restriction, including without limitation the rights
 * to use, copy, modify, merge, publish, distribute, sublicense, and/or sell
 * copies of the Software, and to permit persons to whom the Software is
 * furnished to do so, subject to the following conditions:
 * 
 * The above copyright notice and this permission notice shall be included in all
 * copies or substantial portions of the Software.
 * 
 * THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR
 * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,
 * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE
 * AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER
 * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,
 * OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE
 * SOFTWARE.
 * 
 */const Ub=e=>{for(const t in e)if(t.startsWith("aria-")||t==="role"||t==="title")return!0;return!1};/**
 * @license lucide-svelte v0.564.0 - ISC
 *
 * ISC License
 * 
 * Copyright (c) for portions of Lucide are held by Cole Bemis 2013-2026 as part of Feather (MIT). All other copyright (c) for Lucide are held by Lucide Contributors 2026.
 * 
 * Permission to use, copy, modify, and/or distribute this software for any
 * purpose with or without fee is hereby granted, provided that the above
 * copyright notice and this permission notice appear in all copies.
 * 
 * THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES
 * WITH REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF
 * MERCHANTABILITY AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR
 * ANY SPECIAL, DIRECT, INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES
 * WHATSOEVER RESULTING FROM LOSS OF USE, DATA OR PROFITS, WHETHER IN AN
 * ACTION OF CONTRACT, NEGLIGENCE OR OTHER TORTIOUS ACTION, ARISING OUT OF
 * OR IN CONNECTION WITH THE USE OR PERFORMANCE OF THIS SOFTWARE.
 * 
 * ---
 * 
 * The MIT License (MIT) (for portions derived from Feather)
 * 
 * Copyright (c) 2013-2026 Cole Bemis
 * 
 * Permission is hereby granted, free of charge, to any person obtaining a copy
 * of this software and associated documentation files (the "Software"), to deal
 * in the Software without restriction, including without limitation the rights
 * to use, copy, modify, merge, publish, distribute, sublicense, and/or sell
 * copies of the Software, and to permit persons to whom the Software is
 * furnished to do so, subject to the following conditions:
 * 
 * The above copyright notice and this permission notice shall be included in all
 * copies or substantial portions of the Software.
 * 
 * THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR
 * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,
 * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE
 * AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER
 * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,
 * OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE
 * SOFTWARE.
 * 
 */const Vu=(...e)=>e.filter((t,n,r)=>!!t&&t.trim()!==""&&r.indexOf(t)===n).join(" ").trim();var qb=Xt("<svg><!><!></svg>");function _r(e,t){const n=on(t,["children","$$slots","$$events","$$legacy"]),r=on(n,["name","color","size","strokeWidth","absoluteStrokeWidth","iconNode"]);Ne(t,!1);let i=ee(t,"name",8,void 0),o=ee(t,"color",8,"currentColor"),s=ee(t,"size",8,24),a=ee(t,"strokeWidth",8,2),u=ee(t,"absoluteStrokeWidth",8,!1),d=ee(t,"iconNode",24,()=>[]);tr();var c=qb();vn(c,(g,p,b)=>({...Gb,...g,...r,width:s(),height:s(),stroke:o(),"stroke-width":p,class:b}),[()=>Ub(r)?void 0:{"aria-hidden":"true"},()=>(Be(u()),Be(a()),Be(s()),Le(()=>u()?Number(a())*24/Number(s()):a())),()=>(Be(Vu),Be(i()),Be(n),Le(()=>Vu("lucide-icon","lucide",i()?`lucide-${i()}`:"",n.class)))]);var h=se(c);rt(h,1,d,Kt,(g,p)=>{var b=L(()=>mr(l(p),2));let y=()=>l(b)[0],k=()=>l(b)[1];var w=$e(),S=Pe(w);$h(S,y,!0,(m,A)=>{vn(m,()=>({...k()}))}),te(g,w)});var f=he(h);Rn(f,t,"default",{}),te(e,c),ke()}function Zb(e,t){const n=on(t,["children","$$slots","$$events","$$legacy"]);/**
 * @license lucide-svelte v0.564.0 - ISC
 *
 * ISC License
 *
 * Copyright (c) for portions of Lucide are held by Cole Bemis 2013-2026 as part of Feather (MIT). All other copyright (c) for Lucide are held by Lucide Contributors 2026.
 *
 * Permission to use, copy, modify, and/or distribute this software for any
 * purpose with or without fee is hereby granted, provided that the above
 * copyright notice and this permission notice appear in all copies.
 *
 * THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES
 * WITH REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF
 * MERCHANTABILITY AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR
 * ANY SPECIAL, DIRECT, INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES
 * WHATSOEVER RESULTING FROM LOSS OF USE, DATA OR PROFITS, WHETHER IN AN
 * ACTION OF CONTRACT, NEGLIGENCE OR OTHER TORTIOUS ACTION, ARISING OUT OF
 * OR IN CONNECTION WITH THE USE OR PERFORMANCE OF THIS SOFTWARE.
 *
 * ---
 *
 * The MIT License (MIT) (for portions derived from Feather)
 *
 * Copyright (c) 2013-2026 Cole Bemis
 *
 * Permission is hereby granted, free of charge, to any person obtaining a copy
 * of this software and associated documentation files (the "Software"), to deal
 * in the Software without restriction, including without limitation the rights
 * to use, copy, modify, merge, publish, distribute, sublicense, and/or sell
 * copies of the Software, and to permit persons to whom the Software is
 * furnished to do so, subject to the following conditions:
 *
 * The above copyright notice and this permission notice shall be included in all
 * copies or substantial portions of the Software.
 *
 * THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR
 * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,
 * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE
 * AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER
 * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,
 * OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE
 * SOFTWARE.
 *
 */const r=[["path",{d:"M3 19V5"}],["path",{d:"m13 6-6 6 6 6"}],["path",{d:"M7 12h14"}]];_r(e,Wt({name:"arrow-left-to-line"},()=>n,{get iconNode(){return r},children:(i,o)=>{var s=$e(),a=Pe(s);Rn(a,t,"default",{}),te(i,s)},$$slots:{default:!0}}))}function Qb(e,t){const n=on(t,["children","$$slots","$$events","$$legacy"]);/**
 * @license lucide-svelte v0.564.0 - ISC
 *
 * ISC License
 *
 * Copyright (c) for portions of Lucide are held by Cole Bemis 2013-2026 as part of Feather (MIT). All other copyright (c) for Lucide are held by Lucide Contributors 2026.
 *
 * Permission to use, copy, modify, and/or distribute this software for any
 * purpose with or without fee is hereby granted, provided that the above
 * copyright notice and this permission notice appear in all copies.
 *
 * THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES
 * WITH REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF
 * MERCHANTABILITY AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR
 * ANY SPECIAL, DIRECT, INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES
 * WHATSOEVER RESULTING FROM LOSS OF USE, DATA OR PROFITS, WHETHER IN AN
 * ACTION OF CONTRACT, NEGLIGENCE OR OTHER TORTIOUS ACTION, ARISING OUT OF
 * OR IN CONNECTION WITH THE USE OR PERFORMANCE OF THIS SOFTWARE.
 *
 * ---
 *
 * The MIT License (MIT) (for portions derived from Feather)
 *
 * Copyright (c) 2013-2026 Cole Bemis
 *
 * Permission is hereby granted, free of charge, to any person obtaining a copy
 * of this software and associated documentation files (the "Software"), to deal
 * in the Software without restriction, including without limitation the rights
 * to use, copy, modify, merge, publish, distribute, sublicense, and/or sell
 * copies of the Software, and to permit persons to whom the Software is
 * furnished to do so, subject to the following conditions:
 *
 * The above copyright notice and this permission notice shall be included in all
 * copies or substantial portions of the Software.
 *
 * THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR
 * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,
 * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE
 * AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER
 * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,
 * OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE
 * SOFTWARE.
 *
 */const r=[["path",{d:"M10 10h4"}],["path",{d:"M19 7V4a1 1 0 0 0-1-1h-2a1 1 0 0 0-1 1v3"}],["path",{d:"M20 21a2 2 0 0 0 2-2v-3.851c0-1.39-2-2.962-2-4.829V8a1 1 0 0 0-1-1h-4a1 1 0 0 0-1 1v11a2 2 0 0 0 2 2z"}],["path",{d:"M 22 16 L 2 16"}],["path",{d:"M4 21a2 2 0 0 1-2-2v-3.851c0-1.39 2-2.962 2-4.829V8a1 1 0 0 1 1-1h4a1 1 0 0 1 1 1v11a2 2 0 0 1-2 2z"}],["path",{d:"M9 7V4a1 1 0 0 0-1-1H6a1 1 0 0 0-1 1v3"}]];_r(e,Wt({name:"binoculars"},()=>n,{get iconNode(){return r},children:(i,o)=>{var s=$e(),a=Pe(s);Rn(a,t,"default",{}),te(i,s)},$$slots:{default:!0}}))}function Jb(e,t){const n=on(t,["children","$$slots","$$events","$$legacy"]);/**
 * @license lucide-svelte v0.564.0 - ISC
 *
 * ISC License
 *
 * Copyright (c) for portions of Lucide are held by Cole Bemis 2013-2026 as part of Feather (MIT). All other copyright (c) for Lucide are held by Lucide Contributors 2026.
 *
 * Permission to use, copy, modify, and/or distribute this software for any
 * purpose with or without fee is hereby granted, provided that the above
 * copyright notice and this permission notice appear in all copies.
 *
 * THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES
 * WITH REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF
 * MERCHANTABILITY AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR
 * ANY SPECIAL, DIRECT, INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES
 * WHATSOEVER RESULTING FROM LOSS OF USE, DATA OR PROFITS, WHETHER IN AN
 * ACTION OF CONTRACT, NEGLIGENCE OR OTHER TORTIOUS ACTION, ARISING OUT OF
 * OR IN CONNECTION WITH THE USE OR PERFORMANCE OF THIS SOFTWARE.
 *
 * ---
 *
 * The MIT License (MIT) (for portions derived from Feather)
 *
 * Copyright (c) 2013-2026 Cole Bemis
 *
 * Permission is hereby granted, free of charge, to any person obtaining a copy
 * of this software and associated documentation files (the "Software"), to deal
 * in the Software without restriction, including without limitation the rights
 * to use, copy, modify, merge, publish, distribute, sublicense, and/or sell
 * copies of the Software, and to permit persons to whom the Software is
 * furnished to do so, subject to the following conditions:
 *
 * The above copyright notice and this permission notice shall be included in all
 * copies or substantial portions of the Software.
 *
 * THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR
 * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,
 * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE
 * AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER
 * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,
 * OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE
 * SOFTWARE.
 *
 */const r=[["path",{d:"M8 3H7a2 2 0 0 0-2 2v5a2 2 0 0 1-2 2 2 2 0 0 1 2 2v5c0 1.1.9 2 2 2h1"}],["path",{d:"M16 21h1a2 2 0 0 0 2-2v-5c0-1.1.9-2 2-2a2 2 0 0 1-2-2V5a2 2 0 0 0-2-2h-1"}]];_r(e,Wt({name:"braces"},()=>n,{get iconNode(){return r},children:(i,o)=>{var s=$e(),a=Pe(s);Rn(a,t,"default",{}),te(i,s)},$$slots:{default:!0}}))}function df(e,t){const n=on(t,["children","$$slots","$$events","$$legacy"]);/**
 * @license lucide-svelte v0.564.0 - ISC
 *
 * ISC License
 *
 * Copyright (c) for portions of Lucide are held by Cole Bemis 2013-2026 as part of Feather (MIT). All other copyright (c) for Lucide are held by Lucide Contributors 2026.
 *
 * Permission to use, copy, modify, and/or distribute this software for any
 * purpose with or without fee is hereby granted, provided that the above
 * copyright notice and this permission notice appear in all copies.
 *
 * THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES
 * WITH REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF
 * MERCHANTABILITY AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR
 * ANY SPECIAL, DIRECT, INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES
 * WHATSOEVER RESULTING FROM LOSS OF USE, DATA OR PROFITS, WHETHER IN AN
 * ACTION OF CONTRACT, NEGLIGENCE OR OTHER TORTIOUS ACTION, ARISING OUT OF
 * OR IN CONNECTION WITH THE USE OR PERFORMANCE OF THIS SOFTWARE.
 *
 * ---
 *
 * The MIT License (MIT) (for portions derived from Feather)
 *
 * Copyright (c) 2013-2026 Cole Bemis
 *
 * Permission is hereby granted, free of charge, to any person obtaining a copy
 * of this software and associated documentation files (the "Software"), to deal
 * in the Software without restriction, including without limitation the rights
 * to use, copy, modify, merge, publish, distribute, sublicense, and/or sell
 * copies of the Software, and to permit persons to whom the Software is
 * furnished to do so, subject to the following conditions:
 *
 * The above copyright notice and this permission notice shall be included in all
 * copies or substantial portions of the Software.
 *
 * THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR
 * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,
 * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE
 * AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER
 * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,
 * OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE
 * SOFTWARE.
 *
 */const r=[["circle",{cx:"12",cy:"12",r:"10"}],["path",{d:"M9.09 9a3 3 0 0 1 5.83 1c0 2-3 3-3 3"}],["path",{d:"M12 17h.01"}]];_r(e,Wt({name:"circle-question-mark"},()=>n,{get iconNode(){return r},children:(i,o)=>{var s=$e(),a=Pe(s);Rn(a,t,"default",{}),te(i,s)},$$slots:{default:!0}}))}function ff(e,t){const n=on(t,["children","$$slots","$$events","$$legacy"]);/**
 * @license lucide-svelte v0.564.0 - ISC
 *
 * ISC License
 *
 * Copyright (c) for portions of Lucide are held by Cole Bemis 2013-2026 as part of Feather (MIT). All other copyright (c) for Lucide are held by Lucide Contributors 2026.
 *
 * Permission to use, copy, modify, and/or distribute this software for any
 * purpose with or without fee is hereby granted, provided that the above
 * copyright notice and this permission notice appear in all copies.
 *
 * THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES
 * WITH REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF
 * MERCHANTABILITY AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR
 * ANY SPECIAL, DIRECT, INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES
 * WHATSOEVER RESULTING FROM LOSS OF USE, DATA OR PROFITS, WHETHER IN AN
 * ACTION OF CONTRACT, NEGLIGENCE OR OTHER TORTIOUS ACTION, ARISING OUT OF
 * OR IN CONNECTION WITH THE USE OR PERFORMANCE OF THIS SOFTWARE.
 *
 * ---
 *
 * The MIT License (MIT) (for portions derived from Feather)
 *
 * Copyright (c) 2013-2026 Cole Bemis
 *
 * Permission is hereby granted, free of charge, to any person obtaining a copy
 * of this software and associated documentation files (the "Software"), to deal
 * in the Software without restriction, including without limitation the rights
 * to use, copy, modify, merge, publish, distribute, sublicense, and/or sell
 * copies of the Software, and to permit persons to whom the Software is
 * furnished to do so, subject to the following conditions:
 *
 * The above copyright notice and this permission notice shall be included in all
 * copies or substantial portions of the Software.
 *
 * THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR
 * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,
 * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE
 * AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER
 * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,
 * OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE
 * SOFTWARE.
 *
 */const r=[["path",{d:"M2.992 16.342a2 2 0 0 1 .094 1.167l-1.065 3.29a1 1 0 0 0 1.236 1.168l3.413-.998a2 2 0 0 1 1.099.092 10 10 0 1 0-4.777-4.719"}],["path",{d:"M8 12h.01"}],["path",{d:"M12 12h.01"}],["path",{d:"M16 12h.01"}]];_r(e,Wt({name:"message-circle-more"},()=>n,{get iconNode(){return r},children:(i,o)=>{var s=$e(),a=Pe(s);Rn(a,t,"default",{}),te(i,s)},$$slots:{default:!0}}))}function $b(e,t){const n=on(t,["children","$$slots","$$events","$$legacy"]);/**
 * @license lucide-svelte v0.564.0 - ISC
 *
 * ISC License
 *
 * Copyright (c) for portions of Lucide are held by Cole Bemis 2013-2026 as part of Feather (MIT). All other copyright (c) for Lucide are held by Lucide Contributors 2026.
 *
 * Permission to use, copy, modify, and/or distribute this software for any
 * purpose with or without fee is hereby granted, provided that the above
 * copyright notice and this permission notice appear in all copies.
 *
 * THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES
 * WITH REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF
 * MERCHANTABILITY AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR
 * ANY SPECIAL, DIRECT, INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES
 * WHATSOEVER RESULTING FROM LOSS OF USE, DATA OR PROFITS, WHETHER IN AN
 * ACTION OF CONTRACT, NEGLIGENCE OR OTHER TORTIOUS ACTION, ARISING OUT OF
 * OR IN CONNECTION WITH THE USE OR PERFORMANCE OF THIS SOFTWARE.
 *
 * ---
 *
 * The MIT License (MIT) (for portions derived from Feather)
 *
 * Copyright (c) 2013-2026 Cole Bemis
 *
 * Permission is hereby granted, free of charge, to any person obtaining a copy
 * of this software and associated documentation files (the "Software"), to deal
 * in the Software without restriction, including without limitation the rights
 * to use, copy, modify, merge, publish, distribute, sublicense, and/or sell
 * copies of the Software, and to permit persons to whom the Software is
 * furnished to do so, subject to the following conditions:
 *
 * The above copyright notice and this permission notice shall be included in all
 * copies or substantial portions of the Software.
 *
 * THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR
 * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,
 * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE
 * AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER
 * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,
 * OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE
 * SOFTWARE.
 *
 */const r=[["rect",{x:"16",y:"16",width:"6",height:"6",rx:"1"}],["rect",{x:"2",y:"16",width:"6",height:"6",rx:"1"}],["rect",{x:"9",y:"2",width:"6",height:"6",rx:"1"}],["path",{d:"M5 16v-3a1 1 0 0 1 1-1h12a1 1 0 0 1 1 1v3"}],["path",{d:"M12 12V8"}]];_r(e,Wt({name:"network"},()=>n,{get iconNode(){return r},children:(i,o)=>{var s=$e(),a=Pe(s);Rn(a,t,"default",{}),te(i,s)},$$slots:{default:!0}}))}function El(e,t){const n=on(t,["children","$$slots","$$events","$$legacy"]);/**
 * @license lucide-svelte v0.564.0 - ISC
 *
 * ISC License
 *
 * Copyright (c) for portions of Lucide are held by Cole Bemis 2013-2026 as part of Feather (MIT). All other copyright (c) for Lucide are held by Lucide Contributors 2026.
 *
 * Permission to use, copy, modify, and/or distribute this software for any
 * purpose with or without fee is hereby granted, provided that the above
 * copyright notice and this permission notice appear in all copies.
 *
 * THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES
 * WITH REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF
 * MERCHANTABILITY AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR
 * ANY SPECIAL, DIRECT, INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES
 * WHATSOEVER RESULTING FROM LOSS OF USE, DATA OR PROFITS, WHETHER IN AN
 * ACTION OF CONTRACT, NEGLIGENCE OR OTHER TORTIOUS ACTION, ARISING OUT OF
 * OR IN CONNECTION WITH THE USE OR PERFORMANCE OF THIS SOFTWARE.
 *
 * ---
 *
 * The MIT License (MIT) (for portions derived from Feather)
 *
 * Copyright (c) 2013-2026 Cole Bemis
 *
 * Permission is hereby granted, free of charge, to any person obtaining a copy
 * of this software and associated documentation files (the "Software"), to deal
 * in the Software without restriction, including without limitation the rights
 * to use, copy, modify, merge, publish, distribute, sublicense, and/or sell
 * copies of the Software, and to permit persons to whom the Software is
 * furnished to do so, subject to the following conditions:
 *
 * The above copyright notice and this permission notice shall be included in all
 * copies or substantial portions of the Software.
 *
 * THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR
 * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,
 * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE
 * AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER
 * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,
 * OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE
 * SOFTWARE.
 *
 */const r=[["path",{d:"M21.174 6.812a1 1 0 0 0-3.986-3.987L3.842 16.174a2 2 0 0 0-.5.83l-1.321 4.352a.5.5 0 0 0 .623.622l4.353-1.32a2 2 0 0 0 .83-.497z"}],["path",{d:"m15 5 4 4"}]];_r(e,Wt({name:"pencil"},()=>n,{get iconNode(){return r},children:(i,o)=>{var s=$e(),a=Pe(s);Rn(a,t,"default",{}),te(i,s)},$$slots:{default:!0}}))}function hf(e,t){const n=on(t,["children","$$slots","$$events","$$legacy"]);/**
 * @license lucide-svelte v0.564.0 - ISC
 *
 * ISC License
 *
 * Copyright (c) for portions of Lucide are held by Cole Bemis 2013-2026 as part of Feather (MIT). All other copyright (c) for Lucide are held by Lucide Contributors 2026.
 *
 * Permission to use, copy, modify, and/or distribute this software for any
 * purpose with or without fee is hereby granted, provided that the above
 * copyright notice and this permission notice appear in all copies.
 *
 * THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES
 * WITH REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF
 * MERCHANTABILITY AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR
 * ANY SPECIAL, DIRECT, INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES
 * WHATSOEVER RESULTING FROM LOSS OF USE, DATA OR PROFITS, WHETHER IN AN
 * ACTION OF CONTRACT, NEGLIGENCE OR OTHER TORTIOUS ACTION, ARISING OUT OF
 * OR IN CONNECTION WITH THE USE OR PERFORMANCE OF THIS SOFTWARE.
 *
 * ---
 *
 * The MIT License (MIT) (for portions derived from Feather)
 *
 * Copyright (c) 2013-2026 Cole Bemis
 *
 * Permission is hereby granted, free of charge, to any person obtaining a copy
 * of this software and associated documentation files (the "Software"), to deal
 * in the Software without restriction, including without limitation the rights
 * to use, copy, modify, merge, publish, distribute, sublicense, and/or sell
 * copies of the Software, and to permit persons to whom the Software is
 * furnished to do so, subject to the following conditions:
 *
 * The above copyright notice and this permission notice shall be included in all
 * copies or substantial portions of the Software.
 *
 * THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR
 * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,
 * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE
 * AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER
 * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,
 * OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE
 * SOFTWARE.
 *
 */const r=[["path",{d:"m21 21-4.34-4.34"}],["circle",{cx:"11",cy:"11",r:"8"}]];_r(e,Wt({name:"search"},()=>n,{get iconNode(){return r},children:(i,o)=>{var s=$e(),a=Pe(s);Rn(a,t,"default",{}),te(i,s)},$$slots:{default:!0}}))}var e_=de('<div role="tooltip"> </div>'),t_=de("<div><!> <!></div>");function gf(e,t){const n=on(t,["children","$$slots","$$events","$$legacy"]),r=on(n,["text","delayMs","disabled","placement","wrapperClass","tooltipClass","groupAriaLabel"]);Ne(t,!1);const i=Oe(),o=Oe(),s=Oe();let a=ee(t,"text",8),u=ee(t,"delayMs",8,300),d=ee(t,"disabled",8,!1),c=ee(t,"placement",8,"bottom"),h=ee(t,"wrapperClass",8,""),f=ee(t,"tooltipClass",8,""),g=ee(t,"groupAriaLabel",8),p=Oe(!1),b;yo(()=>{y()});function y(){typeof b<"u"&&(clearTimeout(b),b=void 0)}function k(){y(),j(p,!1)}function w(){if(!(d()||!l(i))){if(y(),l(o)===0){j(p,!0);return}b=setTimeout(()=>{j(p,!0),b=void 0},l(o))}}function S(){w()}function m(){k()}function A(){d()||!l(i)||(y(),j(p,!0))}function T(_){var v,I;const E=_.relatedTarget;(I=(v=_.currentTarget)==null?void 0:v.contains)!=null&&I.call(v,E)||k()}function M(_){switch(_){case"top":return"left-1/2 bottom-full mb-1.5 -translate-x-1/2";case"right":return"left-full top-1/2 ml-2 -translate-y-1/2";case"left":return"right-full top-1/2 mr-2 -translate-y-1/2";default:return"left-1/2 top-full mt-1.5 -translate-x-1/2"}}Ae(()=>Be(a()),()=>{j(i,typeof a()=="string"?a():void 0)}),Ae(()=>Be(u()),()=>{j(o,Number(u())||0)}),Ae(()=>Be(c()),()=>{j(s,M(c()))}),Ae(()=>(Be(d()),l(i)),()=>{(d()||!l(i))&&k()}),Ni(),tr();var x=t_();vn(x,()=>({...r,class:`relative ${h()??""}`,role:"group","aria-label":g(),onmouseenter:S,onmouseleave:m,onfocusin:A,onfocusout:T}));var V=se(x);Rn(V,t,"default",{});var D=he(V,2);{var N=_=>{var E=e_(),v=se(E);ye(()=>{Ot(E,1,`pointer-events-none absolute z-20 w-max max-w-64 whitespace-normal rounded-md border border-vsc-editor-widget-border bg-vsc-editor-widget-bg px-2 py-1 text-[11px] leading-4 text-vsc-input-fg shadow-lg ${l(s)??""} ${f()??""}`),We(v,l(i))}),te(_,E)};De(D,_=>{l(p)&&l(i)&&_(N)})}te(e,x),ke()}const ot=Object.freeze({GO_TO_ROOT:"go-to-root",FIT_FULL_VIEW:"fit-full-view",SEARCH_NODES:"search-nodes",AUTO_POSITION_NODES:"auto-position-nodes",VIEW_RAW_JSON:"view-raw-json",HELP_AND_HOTKEYS:"help-and-hotkeys"}),zs=Object.freeze([{id:ot.GO_TO_ROOT,eventName:"gotoroot",commandId:"hytale-devtools.nodeEditor.quickAction.goToRoot",name:"Go to root"},{id:ot.FIT_FULL_VIEW,eventName:"fitfullview",commandId:"hytale-devtools.nodeEditor.quickAction.fitFullView",name:"Fit full view",defaultKeybinding:{win:"V",linux:"V",mac:"V"}},{id:ot.SEARCH_NODES,eventName:"searchnodes",commandId:"hytale-devtools.nodeEditor.quickAction.searchNodes",name:"Search nodes",keybindingSourceCommandId:"editor.action.webvieweditor.showFind",defaultKeybinding:{win:"F",linux:"F",mac:"F"}},{id:ot.AUTO_POSITION_NODES,eventName:"autopositionnodes",commandId:"hytale-devtools.nodeEditor.quickAction.autoPositionNodes",name:"Auto position nodes",defaultKeybinding:{win:"L",linux:"L",mac:"L"}},{id:ot.VIEW_RAW_JSON,eventName:"viewrawjson",commandId:"hytale-devtools.nodeEditor.quickAction.viewRawJson",name:"View raw json"},{id:ot.HELP_AND_HOTKEYS,eventName:"helphotkeys",commandId:"hytale-devtools.nodeEditor.quickAction.helpAndHotkeys",name:"Show help",defaultKeybinding:{win:"?",linux:"?",mac:"?"}}]),n_=new Map(zs.map(e=>[e.id,e])),r_=new Map(zs.map(e=>[e.eventName,e])),Ba=new Map;for(const e of zs){Ba.set(e.commandId,e);const t=e.keybindingSourceCommandId;t&&Ba.set(t,e)}function Nl(e){return e?n_.get(e):void 0}function i_(e){return e?r_.get(e):void 0}function o_(e){return e?Ba.get(e):void 0}var s_=de('<span aria-hidden="true" class="mx-0.5 h-5 w-px bg-vsc-editor-widget-border"></span>'),a_=de('<button type="button" class="flex h-8 w-8 items-center justify-center rounded-md border border-transparent text-vsc-muted transition-colors hover:border-vsc-editor-widget-border hover:bg-vsc-list-hover hover:text-vsc-editor-fg focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-vsc-focus"><!></button>'),l_=de('<nav aria-label="Node editor quick actions" class="flex items-center gap-1 rounded-xl border border-vsc-editor-widget-border bg-vsc-editor-widget-bg px-2 py-0.5 shadow-2xl"></nav>');function u_(e,t){Ne(t,!1);const n=ks(),i=[{id:ot.GO_TO_ROOT,icon:Zb},{id:ot.FIT_FULL_VIEW,icon:Qb},{key:"separator-navigation",separator:!0},{id:ot.SEARCH_NODES,icon:hf},{id:ot.AUTO_POSITION_NODES,icon:$b},{key:"separator-utility",separator:!0},{id:ot.VIEW_RAW_JSON,icon:Jb},{id:ot.HELP_AND_HOTKEYS,icon:df}].map(a=>a.separator?a:{...a,action:Nl(a.id)}).filter(a=>a.separator===!0||!!(a!=null&&a.action));function o(a){a!=null&&a.eventName&&n(a.eventName)}function s(a){return(a==null?void 0:a.id)===ot.AUTO_POSITION_NODES?"-rotate-90":void 0}tr(),xl(e,{position:"top-center",class:"pointer-events-auto",children:(a,u)=>{var d=l_();rt(d,5,()=>i,c=>c.key??c.id,(c,h)=>{var f=$e(),g=Pe(f);{var p=y=>{var k=s_();te(y,k)},b=y=>{gf(y,{get text(){return l(h).action.name},placement:"bottom",delayMs:220,children:(k,w)=>{var S=a_();S.__click=()=>o(l(h).action);var m=se(S);{let A=_s(()=>s(l(h)));Es(m,()=>l(h).icon,(T,M)=>{M(T,{get class(){return l(A)},size:16,strokeWidth:2})})}ye(()=>me(S,"aria-label",l(h).action.name)),te(k,S)},$$slots:{default:!0}})};De(g,y=>{l(h).separator?y(p):y(b,!1)})}te(c,f)}),te(a,d)},$$slots:{default:!0}}),ke()}vt(["click"]);var c_=de('<span class="text-[0.65rem] text-vsc-muted">+</span>'),d_=de('<kbd class="rounded border border-vsc-editor-widget-border bg-vsc-input-bg px-1.5 py-0 text-[0.65rem] leading-4 text-vsc-input-fg"> </kbd> <!>',1),f_=de('<span class="px-1 text-[0.65rem] text-vsc-muted">or</span>'),h_=de('<span class="inline-flex items-center gap-1"></span> <!>',1),g_=de('<div class="flex items-center justify-between gap-3"><span class="text-xs"> </span> <div class="flex flex-wrap items-center gap-1"></div></div>'),v_=de('<span class="text-[0.65rem] text-vsc-muted">+</span>'),p_=de('<kbd class="rounded border border-vsc-editor-widget-border bg-vsc-input-bg px-1.5 py-0 text-[0.65rem] leading-4 text-vsc-input-fg"> </kbd> <!>',1),m_=de('<span class="px-1 text-[0.65rem] text-vsc-muted">or</span>'),y_=de('<span class="inline-flex items-center gap-1"></span> <!>',1),b_=de('<div class="flex items-center justify-between gap-3"><span class="text-xs"> </span> <div class="flex flex-wrap items-center gap-1"></div></div>'),__=de('<span class="text-[0.65rem] text-vsc-muted">+</span>'),w_=de('<kbd class="rounded border border-vsc-editor-widget-border bg-vsc-input-bg px-1.5 py-0 text-[0.65rem] leading-4 text-vsc-input-fg"> </kbd> <!>',1),x_=de('<span class="px-1 text-[0.65rem] text-vsc-muted">or</span>'),E_=de('<span class="inline-flex items-center gap-1"></span> <!>',1),N_=de('<div class="flex items-center justify-between gap-3"><span class="text-xs"> </span> <div class="flex flex-wrap items-center gap-1"></div></div>'),k_=de('<div data-node-help-overlay="true" class="absolute inset-0 z-50 flex items-center justify-center bg-black/15 p-4"><button type="button" aria-label="Close help" class="absolute inset-0 border-0 bg-transparent p-0"></button> <div role="dialog" aria-modal="true" aria-label="Default Keybinds" tabindex="-1" class="relative w-[30rem] max-h-[72vh] max-w-[96vw] overflow-auto rounded-xl border border-vsc-editor-widget-border bg-vsc-editor-widget-bg p-3 text-vsc-editor-fg shadow-2xl outline-none focus:outline-none focus-visible:outline-none"><div class="mb-3 flex items-center justify-between gap-2"><div class="flex items-center gap-2"><!> <h2 class="text-sm font-semibold">Default Keybinds</h2></div> <button type="button" class="inline-flex items-center gap-2 rounded-md border border-vsc-input-border bg-vsc-button-secondary-bg px-2 py-1 text-[0.7rem] font-medium text-vsc-button-secondary-fg hover:bg-vsc-button-secondary-hover focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-vsc-focus">Close</button></div> <div class="flex flex-col gap-4"><section class="rounded-lg border border-vsc-editor-widget-border bg-vsc-button-secondary-bg p-2.5"><h3 class="mb-2 text-[0.65rem] font-semibold uppercase tracking-[0.1em] text-vsc-muted">Editing</h3> <div class="grid gap-2"></div></section> <section class="rounded-lg border border-vsc-editor-widget-border bg-vsc-button-secondary-bg p-2.5"><h3 class="mb-2 text-[0.65rem] font-semibold uppercase tracking-[0.1em] text-vsc-muted">Navigation</h3> <div class="grid gap-2"></div></section> <section class="rounded-lg border border-vsc-editor-widget-border bg-vsc-button-secondary-bg p-2.5"><h3 class="mb-2 text-[0.65rem] font-semibold uppercase tracking-[0.1em] text-vsc-muted">Actions</h3> <div class="grid gap-2"></div></section></div> <div class="mt-3 flex flex-wrap items-center justify-between gap-2 border-t border-vsc-editor-widget-border pt-2"><p class="text-[0.65rem] text-vsc-muted">Keybinds can be customized in VSCode settings</p> <button type="button" class="inline-flex items-center rounded-md border border-vsc-input-border bg-vsc-button-secondary-bg px-2 py-1 text-[0.7rem] font-medium text-vsc-button-secondary-fg hover:bg-vsc-button-secondary-hover focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-vsc-focus">Customize</button></div></div></div>');function S_(e,t){Ne(t,!1);const n=Oe(),r=Oe(),i=Oe();let o=ee(t,"open",8,!1),s=ee(t,"openVersion",8,0);const a=ks(),u=[ot.SEARCH_NODES,ot.FIT_FULL_VIEW,ot.AUTO_POSITION_NODES,ot.HELP_AND_HOTKEYS],d={label:"Add node",combos:[["Right click"]]},c=[{label:"Pan canvas",combos:[["Shift","Scroll"]]},{label:"Box select",combos:[["Shift","Drag"]]}],h=[{label:"Undo",combos:[["Cmd","Z"]]},{label:"Redo",combos:[["Shift","Cmd","Z"]]},{label:"Copy",combos:[["Cmd","C"]]},{label:"Cut",combos:[["Cmd","X"]]},{label:"Paste",combos:[["Cmd","V"]]}],f=[{label:"Undo",combos:[["Ctrl","Z"]]},{label:"Redo",combos:[["Ctrl","Y"],["Ctrl","Shift","Z"]]},{label:"Copy",combos:[["Ctrl","C"]]},{label:"Cut",combos:[["Ctrl","X"]]},{label:"Paste",combos:[["Ctrl","V"]]}];let g=Oe(),p=Oe(-1);function b(){a("close")}function y(){b()}function k(){a("customizekeybinds")}function w(D){const N=new Map(zs.map(_=>[_.id,_]));return u.map(_=>N.get(_)).filter(Boolean).map(_=>({label:_.name,combos:[S(_,D)].filter(E=>Array.isArray(E)&&E.length>0)})).filter(_=>_.combos.length>0)}function S(D,N){const _=D==null?void 0:D.defaultKeybinding;if(!_)return[];const E=N==="mac"?_.mac:N==="linux"?_.linux:_.win;return m(E)}function m(D){const N=T(D);return N?N.split("+").map(_=>T(_)).filter(Boolean):[]}function A(){var _,E,v;const N=(T((E=(_=globalThis==null?void 0:globalThis.navigator)==null?void 0:_.userAgentData)==null?void 0:E.platform)??T((v=globalThis==null?void 0:globalThis.navigator)==null?void 0:v.platform)??"").toLowerCase();return N.includes("mac")?"mac":N.includes("linux")?"linux":"win"}function T(D){return typeof D=="string"?D:void 0}Ae(()=>{},()=>{j(n,A())}),Ae(()=>l(n),()=>{j(r,[d,...w(l(n))])}),Ae(()=>l(n),()=>{j(i,l(n)==="mac"?h:f)}),Ae(()=>(Be(o()),Be(s()),l(p),l(g)),()=>{o()&&s()!==l(p)&&(j(p,s()),ct().then(()=>{var D;return(D=l(g))==null?void 0:D.focus()}))}),Ni(),tr();var M=$e(),x=Pe(M);{var V=D=>{var N=k_(),_=se(N);_.__pointerdown=y;var E=he(_,2);E.__pointerdown=X=>X.stopPropagation();var v=se(E),I=se(v),C=se(I);df(C,{"aria-hidden":"true",size:15,strokeWidth:2,class:"text-vsc-muted"});var P=he(I,2);P.__click=b;var F=he(v,2),H=se(F),W=he(se(H),2);rt(W,5,()=>l(i),Kt,(X,Y)=>{var J=g_(),re=se(J),q=se(re),le=he(re,2);rt(le,5,()=>(l(Y),Le(()=>l(Y).combos)),Kt,(ge,pe,oe)=>{var be=h_(),xe=Pe(be);rt(xe,5,()=>l(pe),Kt,(ae,ve,Ie)=>{var Fe=d_(),Te=Pe(Fe),He=se(Te),Xe=he(Te,2);{var dt=tt=>{var st=c_();te(tt,st)};De(Xe,tt=>{l(pe),Le(()=>Ie<l(pe).length-1)&&tt(dt)})}ye(()=>We(He,l(ve))),te(ae,Fe)});var _e=he(xe,2);{var ne=ae=>{var ve=f_();te(ae,ve)};De(_e,ae=>{l(Y),Le(()=>oe<l(Y).combos.length-1)&&ae(ne)})}te(ge,be)}),ye(()=>We(q,(l(Y),Le(()=>l(Y).label)))),te(X,J)});var G=he(H,2),U=he(se(G),2);rt(U,5,()=>c,Kt,(X,Y)=>{var J=b_(),re=se(J),q=se(re),le=he(re,2);rt(le,5,()=>(l(Y),Le(()=>l(Y).combos)),Kt,(ge,pe,oe)=>{var be=y_(),xe=Pe(be);rt(xe,5,()=>l(pe),Kt,(ae,ve,Ie)=>{var Fe=p_(),Te=Pe(Fe),He=se(Te),Xe=he(Te,2);{var dt=tt=>{var st=v_();te(tt,st)};De(Xe,tt=>{l(pe),Le(()=>Ie<l(pe).length-1)&&tt(dt)})}ye(()=>We(He,l(ve))),te(ae,Fe)});var _e=he(xe,2);{var ne=ae=>{var ve=m_();te(ae,ve)};De(_e,ae=>{l(Y),Le(()=>oe<l(Y).combos.length-1)&&ae(ne)})}te(ge,be)}),ye(()=>We(q,(l(Y),Le(()=>l(Y).label)))),te(X,J)});var Q=he(G,2),z=he(se(Q),2);rt(z,5,()=>l(r),Kt,(X,Y)=>{var J=N_(),re=se(J),q=se(re),le=he(re,2);rt(le,5,()=>(l(Y),Le(()=>l(Y).combos)),Kt,(ge,pe,oe)=>{var be=E_(),xe=Pe(be);rt(xe,5,()=>l(pe),Kt,(ae,ve,Ie)=>{var Fe=w_(),Te=Pe(Fe),He=se(Te),Xe=he(Te,2);{var dt=tt=>{var st=__();te(tt,st)};De(Xe,tt=>{l(pe),Le(()=>Ie<l(pe).length-1)&&tt(dt)})}ye(()=>We(He,l(ve))),te(ae,Fe)});var _e=he(xe,2);{var ne=ae=>{var ve=x_();te(ae,ve)};De(_e,ae=>{l(Y),Le(()=>oe<l(Y).combos.length-1)&&ae(ne)})}te(ge,be)}),ye(()=>We(q,(l(Y),Le(()=>l(Y).label)))),te(X,J)});var O=he(F,2),B=he(se(O),2);B.__click=k,lt(E,X=>j(g,X),()=>l(g)),te(D,N)};De(x,D=>{o()&&D(V)})}te(e,M),ke()}vt(["pointerdown","click"]);function I_(e,t){var i;const n=Array.isArray(e)?e:[],r=((i=O_(t))==null?void 0:i.toLowerCase())??"";return r?n.map(o=>({...o,items:(Array.isArray(o==null?void 0:o.items)?o.items:[]).filter(s=>(typeof(s==null?void 0:s.searchValue)=="string"?s.searchValue:"").includes(r))})).filter(o=>o.items.length>0):n.map(T_)}function T_(e){return{...e,items:Array.isArray(e==null?void 0:e.items)?[...e.items]:[]}}function O_(e){return typeof e=="string"&&e.trim()?e.trim():void 0}var C_=de('<div class="px-1 py-4 text-xs text-vsc-muted">No matching nodes</div>'),P_=de('<button data-node-search-item="true" role="option" type="button"><span aria-hidden="true" class="h-3 w-3 shrink-0 rounded-full border border-vsc-editor-widget-border"></span> <span class="min-w-0 flex-1"><span class="block truncate text-xs font-semibold"> </span></span></button>'),A_=de('<div class="flex flex-col gap-1.5"><div class="flex items-center gap-2 px-1 text-[0.65rem] font-semibold uppercase tracking-[0.1em] text-vsc-muted"><span class="truncate"> </span> <span class="h-px flex-1 bg-vsc-editor-widget-border"></span></div> <!></div>'),M_=de('<div data-node-search-menu="true" role="dialog" aria-label="Search nodes" tabindex="-1" class="mt-2 ml-2 w-[30rem] max-w-[92vw] max-h-[72vh] overflow-hidden rounded-xl border border-vsc-editor-widget-border bg-vsc-editor-widget-bg p-3 text-vsc-editor-fg shadow-2xl"><div class="relative"><!> <input class="w-full rounded-md border border-vsc-input-border bg-vsc-input-bg pr-2 py-1.5 pl-9 text-xs text-vsc-input-fg focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-vsc-focus" type="search" placeholder="Type a node name or group"/></div> <div class="relative mt-3 flex max-h-[calc(72vh-4.75rem)] flex-col gap-3 overflow-auto pr-0.5" role="listbox"><!></div></div>');function D_(e,t){Ne(t,!1);const n=Oe(),r=Oe(),i=Oe(),o=Oe();let s=ee(t,"open",8,!1),a=ee(t,"openVersion",8,0),u=ee(t,"groups",24,()=>[]);const d=ks();let c=Oe(""),h=Oe(),f=Oe(),g=Oe(),p=Oe(0),b=Oe(!1),y=Oe(""),k=Oe(-1),w=Oe(void 0);function S(P){let F=0;return P.map(H=>({id:H==null?void 0:H.id,label:H==null?void 0:H.label,items:(Array.isArray(H==null?void 0:H.items)?H.items:[]).map(W=>({entry:W,flatIndex:F++}))}))}function m(){var Q,z;const P=(z=(Q=l(g))==null?void 0:Q.querySelectorAll)==null?void 0:z.call(Q,'[data-node-search-item="true"]'),F=P==null?void 0:P[l(p)];if(!l(g)||!F)return;const H=F.offsetTop,W=H+F.offsetHeight,G=l(g).scrollTop,U=G+l(g).clientHeight;if(H<G){qo(g,l(g).scrollTop=H);return}W>U&&qo(g,l(g).scrollTop=W-l(g).clientHeight)}function A(P){return l(p)===P}function T(P){return l(b)&&A(P)}function M(P){return!l(b)&&l(o).length>1&&A(P)}function x(P){P<0||P>=l(o).length||(j(p,P),j(b,!0))}function V(P){const F=E(P==null?void 0:P.nodeId);F&&d("select",{nodeId:F})}function D(){d("close")}function N(P){if(s()){if(P.key==="Escape"){P.preventDefault(),P.stopPropagation(),D();return}if(l(o).length!==0){if(P.key==="ArrowDown"||P.key==="ArrowUp"){if(P.preventDefault(),P.stopPropagation(),!l(b)&&l(o).length>1){j(b,!0),ct().then(()=>m());return}const F=P.key==="ArrowDown"?1:-1;j(p,(l(p)+F+l(o).length)%l(o).length),j(b,!0),ct().then(()=>m());return}P.key==="Enter"&&(P.preventDefault(),P.stopPropagation(),V(l(o)[l(p)]??l(o)[0]))}}}function _(P){return E(P==null?void 0:P.color)??"var(--vscode-descriptionForeground)"}function E(P){return typeof P=="string"?P:void 0}Ae(()=>Be(u()),()=>{j(n,Array.isArray(u())?u():[])}),Ae(()=>(Be(s()),Be(a()),l(k),l(h)),()=>{s()&&a()!==l(k)&&(j(c,""),j(p,0),j(b,!1),j(k,a()),j(w,void 0),ct().then(()=>{var P;return(P=l(h))==null?void 0:P.focus()}))}),Ae(()=>(l(n),l(c)),()=>{j(r,I_(l(n),l(c)))}),Ae(()=>l(r),()=>{j(i,S(l(r)))}),Ae(()=>l(i),()=>{j(o,l(i).flatMap(P=>P.items.map(F=>F.entry)))}),Ae(()=>(l(c),l(y)),()=>{l(c)!==l(y)&&(j(y,l(c)),j(p,0),j(b,!1),j(w,void 0))}),Ae(()=>(l(p),l(o)),()=>{l(p)>=l(o).length&&j(p,Math.max(0,l(o).length-1))}),Ae(()=>l(o),()=>{l(o).length===0&&(j(p,0),j(b,!1),j(w,void 0))}),Ae(()=>(l(o),Be(s())),()=>{l(o).length===1&&s()&&j(b,!0)}),Ae(()=>(Be(s()),l(o),l(p),ct),()=>{s()&&l(o).length>0&&l(p)>=0&&ct().then(()=>{m()})}),Ae(()=>(Be(s()),l(b),l(o),l(p),l(w)),()=>{if(s()&&l(b)&&l(o).length>0){const P=l(o)[l(p)]??l(o)[0],F=E(P==null?void 0:P.nodeId);F&&F!==l(w)&&(j(w,F),d("preview",{nodeId:F}))}}),Ae(()=>Be(s()),()=>{s()||j(w,void 0)}),Ni(),tr();var v=$e(),I=Pe(v);{var C=P=>{xl(P,{position:"top-left",class:"pointer-events-auto",children:(F,H)=>{var W=M_();W.__keydown=N;var G=se(W),U=se(G);hf(U,{"aria-hidden":"true",size:14,strokeWidth:2,class:"pointer-events-none absolute top-1/2 left-3 -translate-y-1/2 text-vsc-muted"});var Q=he(U,2);Q.__keydown=N,lt(Q,Y=>j(h,Y),()=>l(h));var z=he(G,2),O=se(z);{var B=Y=>{var J=C_();te(Y,J)},X=Y=>{var J=$e(),re=Pe(J);rt(re,1,()=>l(i),Kt,(q,le)=>{var ge=A_(),pe=se(ge),oe=se(pe),be=se(oe),xe=he(pe,2);rt(xe,1,()=>(l(le),Le(()=>l(le).items)),_e=>_e.flatIndex,(_e,ne)=>{var ae=P_();let ve;ae.__click=()=>V(l(ne).entry);var Ie=se(ae),Fe=he(Ie,2),Te=se(Fe),He=se(Te);ye((Xe,dt,tt,st)=>{me(ae,"data-active",Xe),me(ae,"aria-selected",dt),ve=Ot(ae,1,"group flex w-full cursor-pointer items-center gap-2 overflow-hidden rounded-lg border border-vsc-editor-widget-border bg-vsc-button-secondary-bg px-2 py-1.5 text-left text-vsc-button-secondary-fg transition-[border-color,background-color,color]",null,ve,tt),Ze(Ie,`background-color: ${st??""};`),We(He,(l(ne),Le(()=>l(ne).entry.label)))},[()=>(l(ne),Le(()=>A(l(ne).flatIndex))),()=>(l(ne),Le(()=>T(l(ne).flatIndex))),()=>({"border-vsc-focus":M(l(ne).flatIndex)||T(l(ne).flatIndex),"bg-vsc-list-active-bg":T(l(ne).flatIndex),"text-vsc-list-active-fg":T(l(ne).flatIndex)}),()=>(l(ne),Le(()=>_(l(ne).entry)))]),Ke("mouseenter",ae,()=>x(l(ne).flatIndex)),te(_e,ae)}),ye(()=>We(be,(l(le),Le(()=>l(le).label)))),te(q,ge)}),te(Y,J)};De(O,Y=>{l(i),Le(()=>l(i).length===0)?Y(B):Y(X,!1)})}lt(z,Y=>j(g,Y),()=>l(g)),lt(W,Y=>j(f,Y),()=>l(f)),Qc(Q,()=>l(c),Y=>j(c,Y)),te(F,W)},$$slots:{default:!0}})};De(I,P=>{s()&&P(C)})}te(e,v),ke()}vt(["keydown","click"]);function Xn(e){return`${e}-${R_()}`}function R_(){return crypto.randomUUID()}var Qe=(e,t)=>()=>(t||e((t={exports:{}}).exports,t),t.exports),pn=Qe((e,t)=>{var n=Object.defineProperty,r=(E,v,I)=>v in E?n(E,v,{enumerable:!0,configurable:!0,writable:!0,value:I}):E[v]=I,i=(E,v)=>()=>(v||E((v={exports:{}}).exports,v),v.exports),o=(E,v,I)=>r(E,typeof v!="symbol"?v+"":v,I),s=i((E,v)=>{var I="\0",C="\0",P="",F=class{constructor(z){o(this,"_isDirected",!0),o(this,"_isMultigraph",!1),o(this,"_isCompound",!1),o(this,"_label"),o(this,"_defaultNodeLabelFn",()=>{}),o(this,"_defaultEdgeLabelFn",()=>{}),o(this,"_nodes",{}),o(this,"_in",{}),o(this,"_preds",{}),o(this,"_out",{}),o(this,"_sucs",{}),o(this,"_edgeObjs",{}),o(this,"_edgeLabels",{}),o(this,"_nodeCount",0),o(this,"_edgeCount",0),o(this,"_parent"),o(this,"_children"),z&&(this._isDirected=Object.hasOwn(z,"directed")?z.directed:!0,this._isMultigraph=Object.hasOwn(z,"multigraph")?z.multigraph:!1,this._isCompound=Object.hasOwn(z,"compound")?z.compound:!1),this._isCompound&&(this._parent={},this._children={},this._children[C]={})}isDirected(){return this._isDirected}isMultigraph(){return this._isMultigraph}isCompound(){return this._isCompound}setGraph(z){return this._label=z,this}graph(){return this._label}setDefaultNodeLabel(z){return this._defaultNodeLabelFn=z,typeof z!="function"&&(this._defaultNodeLabelFn=()=>z),this}nodeCount(){return this._nodeCount}nodes(){return Object.keys(this._nodes)}sources(){var z=this;return this.nodes().filter(O=>Object.keys(z._in[O]).length===0)}sinks(){var z=this;return this.nodes().filter(O=>Object.keys(z._out[O]).length===0)}setNodes(z,O){var B=arguments,X=this;return z.forEach(function(Y){B.length>1?X.setNode(Y,O):X.setNode(Y)}),this}setNode(z,O){return Object.hasOwn(this._nodes,z)?(arguments.length>1&&(this._nodes[z]=O),this):(this._nodes[z]=arguments.length>1?O:this._defaultNodeLabelFn(z),this._isCompound&&(this._parent[z]=C,this._children[z]={},this._children[C][z]=!0),this._in[z]={},this._preds[z]={},this._out[z]={},this._sucs[z]={},++this._nodeCount,this)}node(z){return this._nodes[z]}hasNode(z){return Object.hasOwn(this._nodes,z)}removeNode(z){var O=this;if(Object.hasOwn(this._nodes,z)){var B=X=>O.removeEdge(O._edgeObjs[X]);delete this._nodes[z],this._isCompound&&(this._removeFromParentsChildList(z),delete this._parent[z],this.children(z).forEach(function(X){O.setParent(X)}),delete this._children[z]),Object.keys(this._in[z]).forEach(B),delete this._in[z],delete this._preds[z],Object.keys(this._out[z]).forEach(B),delete this._out[z],delete this._sucs[z],--this._nodeCount}return this}setParent(z,O){if(!this._isCompound)throw new Error("Cannot set parent in a non-compound graph");if(O===void 0)O=C;else{O+="";for(var B=O;B!==void 0;B=this.parent(B))if(B===z)throw new Error("Setting "+O+" as parent of "+z+" would create a cycle");this.setNode(O)}return this.setNode(z),this._removeFromParentsChildList(z),this._parent[z]=O,this._children[O][z]=!0,this}_removeFromParentsChildList(z){delete this._children[this._parent[z]][z]}parent(z){if(this._isCompound){var O=this._parent[z];if(O!==C)return O}}children(z=C){if(this._isCompound){var O=this._children[z];if(O)return Object.keys(O)}else{if(z===C)return this.nodes();if(this.hasNode(z))return[]}}predecessors(z){var O=this._preds[z];if(O)return Object.keys(O)}successors(z){var O=this._sucs[z];if(O)return Object.keys(O)}neighbors(z){var O=this.predecessors(z);if(O){let X=new Set(O);for(var B of this.successors(z))X.add(B);return Array.from(X.values())}}isLeaf(z){var O;return this.isDirected()?O=this.successors(z):O=this.neighbors(z),O.length===0}filterNodes(z){var O=new this.constructor({directed:this._isDirected,multigraph:this._isMultigraph,compound:this._isCompound});O.setGraph(this.graph());var B=this;Object.entries(this._nodes).forEach(function([J,re]){z(J)&&O.setNode(J,re)}),Object.values(this._edgeObjs).forEach(function(J){O.hasNode(J.v)&&O.hasNode(J.w)&&O.setEdge(J,B.edge(J))});var X={};function Y(J){var re=B.parent(J);return re===void 0||O.hasNode(re)?(X[J]=re,re):re in X?X[re]:Y(re)}return this._isCompound&&O.nodes().forEach(J=>O.setParent(J,Y(J))),O}setDefaultEdgeLabel(z){return this._defaultEdgeLabelFn=z,typeof z!="function"&&(this._defaultEdgeLabelFn=()=>z),this}edgeCount(){return this._edgeCount}edges(){return Object.values(this._edgeObjs)}setPath(z,O){var B=this,X=arguments;return z.reduce(function(Y,J){return X.length>1?B.setEdge(Y,J,O):B.setEdge(Y,J),J}),this}setEdge(){var z,O,B,X,Y=!1,J=arguments[0];typeof J=="object"&&J!==null&&"v"in J?(z=J.v,O=J.w,B=J.name,arguments.length===2&&(X=arguments[1],Y=!0)):(z=J,O=arguments[1],B=arguments[3],arguments.length>2&&(X=arguments[2],Y=!0)),z=""+z,O=""+O,B!==void 0&&(B=""+B);var re=G(this._isDirected,z,O,B);if(Object.hasOwn(this._edgeLabels,re))return Y&&(this._edgeLabels[re]=X),this;if(B!==void 0&&!this._isMultigraph)throw new Error("Cannot set a named edge when isMultigraph = false");this.setNode(z),this.setNode(O),this._edgeLabels[re]=Y?X:this._defaultEdgeLabelFn(z,O,B);var q=U(this._isDirected,z,O,B);return z=q.v,O=q.w,Object.freeze(q),this._edgeObjs[re]=q,H(this._preds[O],z),H(this._sucs[z],O),this._in[O][re]=q,this._out[z][re]=q,this._edgeCount++,this}edge(z,O,B){var X=arguments.length===1?Q(this._isDirected,arguments[0]):G(this._isDirected,z,O,B);return this._edgeLabels[X]}edgeAsObj(){let z=this.edge(...arguments);return typeof z!="object"?{label:z}:z}hasEdge(z,O,B){var X=arguments.length===1?Q(this._isDirected,arguments[0]):G(this._isDirected,z,O,B);return Object.hasOwn(this._edgeLabels,X)}removeEdge(z,O,B){var X=arguments.length===1?Q(this._isDirected,arguments[0]):G(this._isDirected,z,O,B),Y=this._edgeObjs[X];return Y&&(z=Y.v,O=Y.w,delete this._edgeLabels[X],delete this._edgeObjs[X],W(this._preds[O],z),W(this._sucs[z],O),delete this._in[O][X],delete this._out[z][X],this._edgeCount--),this}inEdges(z,O){return this.isDirected()?this.filterEdges(this._in[z],z,O):this.nodeEdges(z,O)}outEdges(z,O){return this.isDirected()?this.filterEdges(this._out[z],z,O):this.nodeEdges(z,O)}nodeEdges(z,O){if(z in this._nodes)return this.filterEdges({...this._in[z],...this._out[z]},z,O)}filterEdges(z,O,B){if(z){var X=Object.values(z);return B?X.filter(function(Y){return Y.v===O&&Y.w===B||Y.v===B&&Y.w===O}):X}}};function H(z,O){z[O]?z[O]++:z[O]=1}function W(z,O){--z[O]||delete z[O]}function G(z,O,B,X){var Y=""+O,J=""+B;if(!z&&Y>J){var re=Y;Y=J,J=re}return Y+P+J+P+(X===void 0?I:X)}function U(z,O,B,X){var Y=""+O,J=""+B;if(!z&&Y>J){var re=Y;Y=J,J=re}var q={v:Y,w:J};return X&&(q.name=X),q}function Q(z,O){return G(z,O.v,O.w,O.name)}v.exports=F}),a=i((E,v)=>{v.exports="3.0.2"}),u=i((E,v)=>{v.exports={Graph:s(),version:a()}}),d=i((E,v)=>{var I=s();v.exports={write:C,read:H};function C(W){var G={options:{directed:W.isDirected(),multigraph:W.isMultigraph(),compound:W.isCompound()},nodes:P(W),edges:F(W)};return W.graph()!==void 0&&(G.value=structuredClone(W.graph())),G}function P(W){return W.nodes().map(function(G){var U=W.node(G),Q=W.parent(G),z={v:G};return U!==void 0&&(z.value=U),Q!==void 0&&(z.parent=Q),z})}function F(W){return W.edges().map(function(G){var U=W.edge(G),Q={v:G.v,w:G.w};return G.name!==void 0&&(Q.name=G.name),U!==void 0&&(Q.value=U),Q})}function H(W){var G=new I(W.options).setGraph(W.value);return W.nodes.forEach(function(U){G.setNode(U.v,U.value),U.parent&&G.setParent(U.v,U.parent)}),W.edges.forEach(function(U){G.setEdge({v:U.v,w:U.w,name:U.name},U.value)}),G}}),c=i((E,v)=>{v.exports=C;var I=()=>1;function C(F,H,W,G){return P(F,String(H),W||I,G||function(U){return F.outEdges(U)})}function P(F,H,W,G){var U={},Q=!0,z=0,O=F.nodes(),B=function(re){var q=W(re);U[re.v].distance+q<U[re.w].distance&&(U[re.w]={distance:U[re.v].distance+q,predecessor:re.v},Q=!0)},X=function(){O.forEach(function(re){G(re).forEach(function(q){var le=q.v===re?q.v:q.w,ge=le===q.v?q.w:q.v;B({v:le,w:ge})})})};O.forEach(function(re){var q=re===H?0:Number.POSITIVE_INFINITY;U[re]={distance:q}});for(var Y=O.length,J=1;J<Y&&(Q=!1,z++,X(),!!Q);J++);if(z===Y-1&&(Q=!1,X(),Q))throw new Error("The graph contains a negative weight cycle");return U}}),h=i((E,v)=>{v.exports=I;function I(C){var P={},F=[],H;function W(G){Object.hasOwn(P,G)||(P[G]=!0,H.push(G),C.successors(G).forEach(W),C.predecessors(G).forEach(W))}return C.nodes().forEach(function(G){H=[],W(G),H.length&&F.push(H)}),F}}),f=i((E,v)=>{var I=class{constructor(){o(this,"_arr",[]),o(this,"_keyIndices",{})}size(){return this._arr.length}keys(){return this._arr.map(function(C){return C.key})}has(C){return Object.hasOwn(this._keyIndices,C)}priority(C){var P=this._keyIndices[C];if(P!==void 0)return this._arr[P].priority}min(){if(this.size()===0)throw new Error("Queue underflow");return this._arr[0].key}add(C,P){var F=this._keyIndices;if(C=String(C),!Object.hasOwn(F,C)){var H=this._arr,W=H.length;return F[C]=W,H.push({key:C,priority:P}),this._decrease(W),!0}return!1}removeMin(){this._swap(0,this._arr.length-1);var C=this._arr.pop();return delete this._keyIndices[C.key],this._heapify(0),C.key}decrease(C,P){var F=this._keyIndices[C];if(P>this._arr[F].priority)throw new Error("New priority is greater than current priority. Key: "+C+" Old: "+this._arr[F].priority+" New: "+P);this._arr[F].priority=P,this._decrease(F)}_heapify(C){var P=this._arr,F=2*C,H=F+1,W=C;F<P.length&&(W=P[F].priority<P[W].priority?F:W,H<P.length&&(W=P[H].priority<P[W].priority?H:W),W!==C&&(this._swap(C,W),this._heapify(W)))}_decrease(C){for(var P=this._arr,F=P[C].priority,H;C!==0&&(H=C>>1,!(P[H].priority<F));)this._swap(C,H),C=H}_swap(C,P){var F=this._arr,H=this._keyIndices,W=F[C],G=F[P];F[C]=G,F[P]=W,H[G.key]=C,H[W.key]=P}};v.exports=I}),g=i((E,v)=>{var I=f();v.exports=P;var C=()=>1;function P(H,W,G,U){var Q=function(z){return H.outEdges(z)};return F(H,String(W),G||C,U||Q)}function F(H,W,G,U){var Q={},z=new I,O,B,X=function(Y){var J=Y.v!==O?Y.v:Y.w,re=Q[J],q=G(Y),le=B.distance+q;if(q<0)throw new Error("dijkstra does not allow negative edge weights. Bad edge: "+Y+" Weight: "+q);le<re.distance&&(re.distance=le,re.predecessor=O,z.decrease(J,le))};for(H.nodes().forEach(function(Y){var J=Y===W?0:Number.POSITIVE_INFINITY;Q[Y]={distance:J},z.add(Y,J)});z.size()>0&&(O=z.removeMin(),B=Q[O],B.distance!==Number.POSITIVE_INFINITY);)U(O).forEach(X);return Q}}),p=i((E,v)=>{var I=g();v.exports=C;function C(P,F,H){return P.nodes().reduce(function(W,G){return W[G]=I(P,G,F,H),W},{})}}),b=i((E,v)=>{v.exports=I;function I(P,F,H){if(P[F].predecessor!==void 0)throw new Error("Invalid source vertex");if(P[H].predecessor===void 0&&H!==F)throw new Error("Invalid destination vertex");return{weight:P[H].distance,path:C(P,F,H)}}function C(P,F,H){for(var W=[],G=H;G!==F;)W.push(G),G=P[G].predecessor;return W.push(F),W.reverse()}}),y=i((E,v)=>{v.exports=I;function I(C){var P=0,F=[],H={},W=[];function G(U){var Q=H[U]={onStack:!0,lowlink:P,index:P++};if(F.push(U),C.successors(U).forEach(function(B){Object.hasOwn(H,B)?H[B].onStack&&(Q.lowlink=Math.min(Q.lowlink,H[B].index)):(G(B),Q.lowlink=Math.min(Q.lowlink,H[B].lowlink))}),Q.lowlink===Q.index){var z=[],O;do O=F.pop(),H[O].onStack=!1,z.push(O);while(U!==O);W.push(z)}}return C.nodes().forEach(function(U){Object.hasOwn(H,U)||G(U)}),W}}),k=i((E,v)=>{var I=y();v.exports=C;function C(P){return I(P).filter(function(F){return F.length>1||F.length===1&&P.hasEdge(F[0],F[0])})}}),w=i((E,v)=>{v.exports=C;var I=()=>1;function C(F,H,W){return P(F,H||I,W||function(G){return F.outEdges(G)})}function P(F,H,W){var G={},U=F.nodes();return U.forEach(function(Q){G[Q]={},G[Q][Q]={distance:0},U.forEach(function(z){Q!==z&&(G[Q][z]={distance:Number.POSITIVE_INFINITY})}),W(Q).forEach(function(z){var O=z.v===Q?z.w:z.v,B=H(z);G[Q][O]={distance:B,predecessor:Q}})}),U.forEach(function(Q){var z=G[Q];U.forEach(function(O){var B=G[O];U.forEach(function(X){var Y=B[Q],J=z[X],re=B[X],q=Y.distance+J.distance;q<re.distance&&(re.distance=q,re.predecessor=J.predecessor)})})}),G}}),S=i((E,v)=>{function I(P){var F={},H={},W=[];function G(U){if(Object.hasOwn(H,U))throw new C;Object.hasOwn(F,U)||(H[U]=!0,F[U]=!0,P.predecessors(U).forEach(G),delete H[U],W.push(U))}if(P.sinks().forEach(G),Object.keys(F).length!==P.nodeCount())throw new C;return W}var C=class extends Error{constructor(){super(...arguments)}};v.exports=I,I.CycleException=C}),m=i((E,v)=>{var I=S();v.exports=C;function C(P){try{I(P)}catch(F){if(F instanceof I.CycleException)return!1;throw F}return!0}}),A=i((E,v)=>{v.exports=I;function I(P,F,H,W,G){Array.isArray(F)||(F=[F]);var U=(P.isDirected()?P.successors:P.neighbors).bind(P),Q={};return F.forEach(function(z){if(!P.hasNode(z))throw new Error("Graph does not have node: "+z);G=C(P,z,H==="post",Q,U,W,G)}),G}function C(P,F,H,W,G,U,Q){return Object.hasOwn(W,F)||(W[F]=!0,H||(Q=U(Q,F)),G(F).forEach(function(z){Q=C(P,z,H,W,G,U,Q)}),H&&(Q=U(Q,F))),Q}}),T=i((E,v)=>{var I=A();v.exports=C;function C(P,F,H){return I(P,F,H,function(W,G){return W.push(G),W},[])}}),M=i((E,v)=>{var I=T();v.exports=C;function C(P,F){return I(P,F,"post")}}),x=i((E,v)=>{var I=T();v.exports=C;function C(P,F){return I(P,F,"pre")}}),V=i((E,v)=>{var I=s(),C=f();v.exports=P;function P(F,H){var W=new I,G={},U=new C,Q;function z(B){var X=B.v===Q?B.w:B.v,Y=U.priority(X);if(Y!==void 0){var J=H(B);J<Y&&(G[X]=Q,U.decrease(X,J))}}if(F.nodeCount()===0)return W;F.nodes().forEach(function(B){U.add(B,Number.POSITIVE_INFINITY),W.setNode(B)}),U.decrease(F.nodes()[0],0);for(var O=!1;U.size()>0;){if(Q=U.removeMin(),Object.hasOwn(G,Q))W.setEdge(Q,G[Q]);else{if(O)throw new Error("Input graph is not connected: "+F);O=!0}F.nodeEdges(Q).forEach(z)}return W}}),D=i((E,v)=>{var I=g(),C=c();v.exports=P;function P(H,W,G,U){return F(H,W,G,U||function(Q){return H.outEdges(Q)})}function F(H,W,G,U){if(G===void 0)return I(H,W,G,U);for(var Q=!1,z=H.nodes(),O=0;O<z.length;O++){for(var B=U(z[O]),X=0;X<B.length;X++){var Y=B[X],J=Y.v===z[O]?Y.v:Y.w,re=J===Y.v?Y.w:Y.v;G({v:J,w:re})<0&&(Q=!0)}if(Q)return C(H,W,G,U)}return I(H,W,G,U)}}),N=i((E,v)=>{v.exports={bellmanFord:c(),components:h(),dijkstra:g(),dijkstraAll:p(),extractPath:b(),findCycles:k(),floydWarshall:w(),isAcyclic:m(),postorder:M(),preorder:x(),prim:V(),shortestPaths:D(),reduce:A(),tarjan:y(),topsort:S()}}),_=u();t.exports={Graph:_.Graph,json:d(),alg:N(),version:_.version}}),z_=Qe((e,t)=>{var n=class{constructor(){let o={};o._next=o._prev=o,this._sentinel=o}dequeue(){let o=this._sentinel,s=o._prev;if(s!==o)return r(s),s}enqueue(o){let s=this._sentinel;o._prev&&o._next&&r(o),o._next=s._next,s._next._prev=o,s._next=o,o._prev=s}toString(){let o=[],s=this._sentinel,a=s._prev;for(;a!==s;)o.push(JSON.stringify(a,i)),a=a._prev;return"["+o.join(", ")+"]"}};function r(o){o._prev._next=o._next,o._next._prev=o._prev,delete o._next,delete o._prev}function i(o,s){if(o!=="_next"&&o!=="_prev")return s}t.exports=n}),L_=Qe((e,t)=>{var n=pn().Graph,r=z_();t.exports=o;var i=()=>1;function o(h,f){if(h.nodeCount()<=1)return[];let g=u(h,f||i);return s(g.graph,g.buckets,g.zeroIdx).flatMap(p=>h.outEdges(p.v,p.w))}function s(h,f,g){let p=[],b=f[f.length-1],y=f[0],k;for(;h.nodeCount();){for(;k=y.dequeue();)a(h,f,g,k);for(;k=b.dequeue();)a(h,f,g,k);if(h.nodeCount()){for(let w=f.length-2;w>0;--w)if(k=f[w].dequeue(),k){p=p.concat(a(h,f,g,k,!0));break}}}return p}function a(h,f,g,p,b){let y=b?[]:void 0;return h.inEdges(p.v).forEach(k=>{let w=h.edge(k),S=h.node(k.v);b&&y.push({v:k.v,w:k.w}),S.out-=w,d(f,g,S)}),h.outEdges(p.v).forEach(k=>{let w=h.edge(k),S=k.w,m=h.node(S);m.in-=w,d(f,g,m)}),h.removeNode(p.v),y}function u(h,f){let g=new n,p=0,b=0;h.nodes().forEach(w=>{g.setNode(w,{v:w,in:0,out:0})}),h.edges().forEach(w=>{let S=g.edge(w.v,w.w)||0,m=f(w),A=S+m;g.setEdge(w.v,w.w,A),b=Math.max(b,g.node(w.v).out+=m),p=Math.max(p,g.node(w.w).in+=m)});let y=c(b+p+3).map(()=>new r),k=p+1;return g.nodes().forEach(w=>{d(y,k,g.node(w))}),{graph:g,buckets:y,zeroIdx:k}}function d(h,f,g){g.out?g.in?h[g.out-g.in+f].enqueue(g):h[h.length-1].enqueue(g):h[0].enqueue(g)}function c(h){let f=[];for(let g=0;g<h;g++)f.push(g);return f}}),ht=Qe((e,t)=>{var n=pn().Graph;t.exports={addBorderNode:f,addDummyNode:r,applyWithChunking:b,asNonCompoundGraph:o,buildLayerMatrix:d,intersectRect:u,mapValues:x,maxRank:y,normalizeRanks:c,notime:S,partition:k,pick:M,predecessorWeights:a,range:T,removeEmptyRanks:h,simplify:i,successorWeights:s,time:w,uniqueId:A,zipObject:V};function r(D,N,_,E){for(var v=E;D.hasNode(v);)v=A(E);return _.dummy=N,D.setNode(v,_),v}function i(D){let N=new n().setGraph(D.graph());return D.nodes().forEach(_=>N.setNode(_,D.node(_))),D.edges().forEach(_=>{let E=N.edge(_.v,_.w)||{weight:0,minlen:1},v=D.edge(_);N.setEdge(_.v,_.w,{weight:E.weight+v.weight,minlen:Math.max(E.minlen,v.minlen)})}),N}function o(D){let N=new n({multigraph:D.isMultigraph()}).setGraph(D.graph());return D.nodes().forEach(_=>{D.children(_).length||N.setNode(_,D.node(_))}),D.edges().forEach(_=>{N.setEdge(_,D.edge(_))}),N}function s(D){let N=D.nodes().map(_=>{let E={};return D.outEdges(_).forEach(v=>{E[v.w]=(E[v.w]||0)+D.edge(v).weight}),E});return V(D.nodes(),N)}function a(D){let N=D.nodes().map(_=>{let E={};return D.inEdges(_).forEach(v=>{E[v.v]=(E[v.v]||0)+D.edge(v).weight}),E});return V(D.nodes(),N)}function u(D,N){let _=D.x,E=D.y,v=N.x-_,I=N.y-E,C=D.width/2,P=D.height/2;if(!v&&!I)throw new Error("Not possible to find intersection inside of the rectangle");let F,H;return Math.abs(I)*C>Math.abs(v)*P?(I<0&&(P=-P),F=P*v/I,H=P):(v<0&&(C=-C),F=C,H=C*I/v),{x:_+F,y:E+H}}function d(D){let N=T(y(D)+1).map(()=>[]);return D.nodes().forEach(_=>{let E=D.node(_),v=E.rank;v!==void 0&&(N[v][E.order]=_)}),N}function c(D){let N=D.nodes().map(E=>{let v=D.node(E).rank;return v===void 0?Number.MAX_VALUE:v}),_=b(Math.min,N);D.nodes().forEach(E=>{let v=D.node(E);Object.hasOwn(v,"rank")&&(v.rank-=_)})}function h(D){let N=D.nodes().map(C=>D.node(C).rank).filter(C=>C!==void 0),_=b(Math.min,N),E=[];D.nodes().forEach(C=>{let P=D.node(C).rank-_;E[P]||(E[P]=[]),E[P].push(C)});let v=0,I=D.graph().nodeRankFactor;Array.from(E).forEach((C,P)=>{C===void 0&&P%I!==0?--v:C!==void 0&&v&&C.forEach(F=>D.node(F).rank+=v)})}function f(D,N,_,E){let v={width:0,height:0};return arguments.length>=4&&(v.rank=_,v.order=E),r(D,"border",v,N)}function g(D,N=p){let _=[];for(let E=0;E<D.length;E+=N){let v=D.slice(E,E+N);_.push(v)}return _}var p=65535;function b(D,N){if(N.length>p){let _=g(N);return D.apply(null,_.map(E=>D.apply(null,E)))}else return D.apply(null,N)}function y(D){let N=D.nodes().map(_=>{let E=D.node(_).rank;return E===void 0?Number.MIN_VALUE:E});return b(Math.max,N)}function k(D,N){let _={lhs:[],rhs:[]};return D.forEach(E=>{N(E)?_.lhs.push(E):_.rhs.push(E)}),_}function w(D,N){let _=Date.now();try{return N()}finally{console.log(D+" time: "+(Date.now()-_)+"ms")}}function S(D,N){return N()}var m=0;function A(D){var N=++m;return D+(""+N)}function T(D,N,_=1){N==null&&(N=D,D=0);let E=I=>I<N;_<0&&(E=I=>N<I);let v=[];for(let I=D;E(I);I+=_)v.push(I);return v}function M(D,N){let _={};for(let E of N)D[E]!==void 0&&(_[E]=D[E]);return _}function x(D,N){let _=N;return typeof N=="string"&&(_=E=>E[N]),Object.entries(D).reduce((E,[v,I])=>(E[v]=_(I,v),E),{})}function V(D,N){return D.reduce((_,E,v)=>(_[E]=N[v],_),{})}}),V_=Qe((e,t)=>{var n=L_(),r=ht().uniqueId;t.exports={run:i,undo:s};function i(a){(a.graph().acyclicer==="greedy"?n(a,u(a)):o(a)).forEach(d=>{let c=a.edge(d);a.removeEdge(d),c.forwardName=d.name,c.reversed=!0,a.setEdge(d.w,d.v,c,r("rev"))});function u(d){return c=>d.edge(c).weight}}function o(a){let u=[],d={},c={};function h(f){Object.hasOwn(c,f)||(c[f]=!0,d[f]=!0,a.outEdges(f).forEach(g=>{Object.hasOwn(d,g.w)?u.push(g):h(g.w)}),delete d[f])}return a.nodes().forEach(h),u}function s(a){a.edges().forEach(u=>{let d=a.edge(u);if(d.reversed){a.removeEdge(u);let c=d.forwardName;delete d.reversed,delete d.forwardName,a.setEdge(u.w,u.v,d,c)}})}}),F_=Qe((e,t)=>{var n=ht();t.exports={run:r,undo:o};function r(s){s.graph().dummyChains=[],s.edges().forEach(a=>i(s,a))}function i(s,a){let u=a.v,d=s.node(u).rank,c=a.w,h=s.node(c).rank,f=a.name,g=s.edge(a),p=g.labelRank;if(h===d+1)return;s.removeEdge(a);let b,y,k;for(k=0,++d;d<h;++k,++d)g.points=[],y={width:0,height:0,edgeLabel:g,edgeObj:a,rank:d},b=n.addDummyNode(s,"edge",y,"_d"),d===p&&(y.width=g.width,y.height=g.height,y.dummy="edge-label",y.labelpos=g.labelpos),s.setEdge(u,b,{weight:g.weight},f),k===0&&s.graph().dummyChains.push(b),u=b;s.setEdge(u,c,{weight:g.weight},f)}function o(s){s.graph().dummyChains.forEach(a=>{let u=s.node(a),d=u.edgeLabel,c;for(s.setEdge(u.edgeObj,d);u.dummy;)c=s.successors(a)[0],s.removeNode(a),d.points.push({x:u.x,y:u.y}),u.dummy==="edge-label"&&(d.x=u.x,d.y=u.y,d.width=u.width,d.height=u.height),a=c,u=s.node(a)})}}),ds=Qe((e,t)=>{var{applyWithChunking:n}=ht();t.exports={longestPath:r,slack:i};function r(o){var s={};function a(u){var d=o.node(u);if(Object.hasOwn(s,u))return d.rank;s[u]=!0;let c=o.outEdges(u).map(f=>f==null?Number.POSITIVE_INFINITY:a(f.w)-o.edge(f).minlen);var h=n(Math.min,c);return h===Number.POSITIVE_INFINITY&&(h=0),d.rank=h}o.sources().forEach(a)}function i(o,s){return o.node(s.w).rank-o.node(s.v).rank-o.edge(s).minlen}}),vf=Qe((e,t)=>{var n=pn().Graph,r=ds().slack;t.exports=i;function i(u){var d=new n({directed:!1}),c=u.nodes()[0],h=u.nodeCount();d.setNode(c,{});for(var f,g;o(d,u)<h;)f=s(d,u),g=d.hasNode(f.v)?r(u,f):-r(u,f),a(d,u,g);return d}function o(u,d){function c(h){d.nodeEdges(h).forEach(f=>{var g=f.v,p=h===g?f.w:g;!u.hasNode(p)&&!r(d,f)&&(u.setNode(p,{}),u.setEdge(h,p,{}),c(p))})}return u.nodes().forEach(c),u.nodeCount()}function s(u,d){return d.edges().reduce((c,h)=>{let f=Number.POSITIVE_INFINITY;return u.hasNode(h.v)!==u.hasNode(h.w)&&(f=r(d,h)),f<c[0]?[f,h]:c},[Number.POSITIVE_INFINITY,null])[1]}function a(u,d,c){u.nodes().forEach(h=>d.node(h).rank+=c)}}),H_=Qe((e,t)=>{var n=vf(),r=ds().slack,i=ds().longestPath,o=pn().alg.preorder,s=pn().alg.postorder,a=ht().simplify;t.exports=u,u.initLowLimValues=f,u.initCutValues=d,u.calcCutValue=h,u.leaveEdge=p,u.enterEdge=b,u.exchangeEdges=y;function u(m){m=a(m),i(m);var A=n(m);f(A),d(A,m);for(var T,M;T=p(A);)M=b(A,m,T),y(A,m,T,M)}function d(m,A){var T=s(m,m.nodes());T=T.slice(0,T.length-1),T.forEach(M=>c(m,A,M))}function c(m,A,T){var M=m.node(T),x=M.parent;m.edge(T,x).cutvalue=h(m,A,T)}function h(m,A,T){var M=m.node(T),x=M.parent,V=!0,D=A.edge(T,x),N=0;return D||(V=!1,D=A.edge(x,T)),N=D.weight,A.nodeEdges(T).forEach(_=>{var E=_.v===T,v=E?_.w:_.v;if(v!==x){var I=E===V,C=A.edge(_).weight;if(N+=I?C:-C,w(m,T,v)){var P=m.edge(T,v).cutvalue;N+=I?-P:P}}}),N}function f(m,A){arguments.length<2&&(A=m.nodes()[0]),g(m,{},1,A)}function g(m,A,T,M,x){var V=T,D=m.node(M);return A[M]=!0,m.neighbors(M).forEach(N=>{Object.hasOwn(A,N)||(T=g(m,A,T,N,M))}),D.low=V,D.lim=T++,x?D.parent=x:delete D.parent,T}function p(m){return m.edges().find(A=>m.edge(A).cutvalue<0)}function b(m,A,T){var M=T.v,x=T.w;A.hasEdge(M,x)||(M=T.w,x=T.v);var V=m.node(M),D=m.node(x),N=V,_=!1;V.lim>D.lim&&(N=D,_=!0);var E=A.edges().filter(v=>_===S(m,m.node(v.v),N)&&_!==S(m,m.node(v.w),N));return E.reduce((v,I)=>r(A,I)<r(A,v)?I:v)}function y(m,A,T,M){var x=T.v,V=T.w;m.removeEdge(x,V),m.setEdge(M.v,M.w,{}),f(m),d(m,A),k(m,A)}function k(m,A){var T=m.nodes().find(x=>!A.node(x).parent),M=o(m,T);M=M.slice(1),M.forEach(x=>{var V=m.node(x).parent,D=A.edge(x,V),N=!1;D||(D=A.edge(V,x),N=!0),A.node(x).rank=A.node(V).rank+(N?D.minlen:-D.minlen)})}function w(m,A,T){return m.hasEdge(A,T)}function S(m,A,T){return T.low<=A.lim&&A.lim<=T.lim}}),K_=Qe((e,t)=>{var n=ds(),r=n.longestPath,i=vf(),o=H_();t.exports=s;function s(c){var h=c.graph().ranker;if(h instanceof Function)return h(c);switch(c.graph().ranker){case"network-simplex":d(c);break;case"tight-tree":u(c);break;case"longest-path":a(c);break;case"none":break;default:d(c)}}var a=r;function u(c){r(c),i(c)}function d(c){o(c)}}),B_=Qe((e,t)=>{t.exports=n;function n(o){let s=i(o);o.graph().dummyChains.forEach(a=>{let u=o.node(a),d=u.edgeObj,c=r(o,s,d.v,d.w),h=c.path,f=c.lca,g=0,p=h[g],b=!0;for(;a!==d.w;){if(u=o.node(a),b){for(;(p=h[g])!==f&&o.node(p).maxRank<u.rank;)g++;p===f&&(b=!1)}if(!b){for(;g<h.length-1&&o.node(p=h[g+1]).minRank<=u.rank;)g++;p=h[g]}o.setParent(a,p),a=o.successors(a)[0]}})}function r(o,s,a,u){let d=[],c=[],h=Math.min(s[a].low,s[u].low),f=Math.max(s[a].lim,s[u].lim),g,p;g=a;do g=o.parent(g),d.push(g);while(g&&(s[g].low>h||f>s[g].lim));for(p=g,g=u;(g=o.parent(g))!==p;)c.push(g);return{path:d.concat(c.reverse()),lca:p}}function i(o){let s={},a=0;function u(d){let c=a;o.children(d).forEach(u),s[d]={low:c,lim:a++}}return o.children().forEach(u),s}}),W_=Qe((e,t)=>{var n=ht();t.exports={run:r,cleanup:a};function r(u){let d=n.addDummyNode(u,"root",{},"_root"),c=o(u),h=Object.values(c),f=n.applyWithChunking(Math.max,h)-1,g=2*f+1;u.graph().nestingRoot=d,u.edges().forEach(b=>u.edge(b).minlen*=g);let p=s(u)+1;u.children().forEach(b=>i(u,d,g,p,f,c,b)),u.graph().nodeRankFactor=g}function i(u,d,c,h,f,g,p){let b=u.children(p);if(!b.length){p!==d&&u.setEdge(d,p,{weight:0,minlen:c});return}let y=n.addBorderNode(u,"_bt"),k=n.addBorderNode(u,"_bb"),w=u.node(p);u.setParent(y,p),w.borderTop=y,u.setParent(k,p),w.borderBottom=k,b.forEach(S=>{i(u,d,c,h,f,g,S);let m=u.node(S),A=m.borderTop?m.borderTop:S,T=m.borderBottom?m.borderBottom:S,M=m.borderTop?h:2*h,x=A!==T?1:f-g[p]+1;u.setEdge(y,A,{weight:M,minlen:x,nestingEdge:!0}),u.setEdge(T,k,{weight:M,minlen:x,nestingEdge:!0})}),u.parent(p)||u.setEdge(d,y,{weight:0,minlen:f+g[p]})}function o(u){var d={};function c(h,f){var g=u.children(h);g&&g.length&&g.forEach(p=>c(p,f+1)),d[h]=f}return u.children().forEach(h=>c(h,1)),d}function s(u){return u.edges().reduce((d,c)=>d+u.edge(c).weight,0)}function a(u){var d=u.graph();u.removeNode(d.nestingRoot),delete d.nestingRoot,u.edges().forEach(c=>{var h=u.edge(c);h.nestingEdge&&u.removeEdge(c)})}}),Y_=Qe((e,t)=>{var n=ht();t.exports=r;function r(o){function s(a){let u=o.children(a),d=o.node(a);if(u.length&&u.forEach(s),Object.hasOwn(d,"minRank")){d.borderLeft=[],d.borderRight=[];for(let c=d.minRank,h=d.maxRank+1;c<h;++c)i(o,"borderLeft","_bl",a,d,c),i(o,"borderRight","_br",a,d,c)}}o.children().forEach(s)}function i(o,s,a,u,d,c){let h={width:0,height:0,rank:c,borderType:s},f=d[s][c-1],g=n.addDummyNode(o,"border",h,a);d[s][c]=g,o.setParent(g,u),f&&o.setEdge(f,g,{weight:1})}}),X_=Qe((e,t)=>{t.exports={adjust:n,undo:r};function n(c){let h=c.graph().rankdir.toLowerCase();(h==="lr"||h==="rl")&&i(c)}function r(c){let h=c.graph().rankdir.toLowerCase();(h==="bt"||h==="rl")&&s(c),(h==="lr"||h==="rl")&&(u(c),i(c))}function i(c){c.nodes().forEach(h=>o(c.node(h))),c.edges().forEach(h=>o(c.edge(h)))}function o(c){let h=c.width;c.width=c.height,c.height=h}function s(c){c.nodes().forEach(h=>a(c.node(h))),c.edges().forEach(h=>{let f=c.edge(h);f.points.forEach(a),Object.hasOwn(f,"y")&&a(f)})}function a(c){c.y=-c.y}function u(c){c.nodes().forEach(h=>d(c.node(h))),c.edges().forEach(h=>{let f=c.edge(h);f.points.forEach(d),Object.hasOwn(f,"x")&&d(f)})}function d(c){let h=c.x;c.x=c.y,c.y=h}}),j_=Qe((e,t)=>{var n=ht();t.exports=r;function r(i){let o={},s=i.nodes().filter(h=>!i.children(h).length),a=s.map(h=>i.node(h).rank),u=n.applyWithChunking(Math.max,a),d=n.range(u+1).map(()=>[]);function c(h){if(o[h])return;o[h]=!0;let f=i.node(h);d[f.rank].push(h),i.successors(h).forEach(c)}return s.sort((h,f)=>i.node(h).rank-i.node(f).rank).forEach(c),d}}),G_=Qe((e,t)=>{var n=ht().zipObject;t.exports=r;function r(o,s){let a=0;for(let u=1;u<s.length;++u)a+=i(o,s[u-1],s[u]);return a}function i(o,s,a){let u=n(a,a.map((p,b)=>b)),d=s.flatMap(p=>o.outEdges(p).map(b=>({pos:u[b.w],weight:o.edge(b).weight})).sort((b,y)=>b.pos-y.pos)),c=1;for(;c<a.length;)c<<=1;let h=2*c-1;c-=1;let f=new Array(h).fill(0),g=0;return d.forEach(p=>{let b=p.pos+c;f[b]+=p.weight;let y=0;for(;b>0;)b%2&&(y+=f[b+1]),b=b-1>>1,f[b]+=p.weight;g+=p.weight*y}),g}}),U_=Qe((e,t)=>{t.exports=n;function n(r,i=[]){return i.map(o=>{let s=r.inEdges(o);if(s.length){let a=s.reduce((u,d)=>{let c=r.edge(d),h=r.node(d.v);return{sum:u.sum+c.weight*h.order,weight:u.weight+c.weight}},{sum:0,weight:0});return{v:o,barycenter:a.sum/a.weight,weight:a.weight}}else return{v:o}})}}),q_=Qe((e,t)=>{var n=ht();t.exports=r;function r(s,a){let u={};s.forEach((c,h)=>{let f=u[c.v]={indegree:0,in:[],out:[],vs:[c.v],i:h};c.barycenter!==void 0&&(f.barycenter=c.barycenter,f.weight=c.weight)}),a.edges().forEach(c=>{let h=u[c.v],f=u[c.w];h!==void 0&&f!==void 0&&(f.indegree++,h.out.push(u[c.w]))});let d=Object.values(u).filter(c=>!c.indegree);return i(d)}function i(s){let a=[];function u(c){return h=>{h.merged||(h.barycenter===void 0||c.barycenter===void 0||h.barycenter>=c.barycenter)&&o(c,h)}}function d(c){return h=>{h.in.push(c),--h.indegree===0&&s.push(h)}}for(;s.length;){let c=s.pop();a.push(c),c.in.reverse().forEach(u(c)),c.out.forEach(d(c))}return a.filter(c=>!c.merged).map(c=>n.pick(c,["vs","i","barycenter","weight"]))}function o(s,a){let u=0,d=0;s.weight&&(u+=s.barycenter*s.weight,d+=s.weight),a.weight&&(u+=a.barycenter*a.weight,d+=a.weight),s.vs=a.vs.concat(s.vs),s.barycenter=u/d,s.weight=d,s.i=Math.min(a.i,s.i),a.merged=!0}}),Z_=Qe((e,t)=>{var n=ht();t.exports=r;function r(s,a){let u=n.partition(s,y=>Object.hasOwn(y,"barycenter")),d=u.lhs,c=u.rhs.sort((y,k)=>k.i-y.i),h=[],f=0,g=0,p=0;d.sort(o(!!a)),p=i(h,c,p),d.forEach(y=>{p+=y.vs.length,h.push(y.vs),f+=y.barycenter*y.weight,g+=y.weight,p=i(h,c,p)});let b={vs:h.flat(!0)};return g&&(b.barycenter=f/g,b.weight=g),b}function i(s,a,u){let d;for(;a.length&&(d=a[a.length-1]).i<=u;)a.pop(),s.push(d.vs),u++;return u}function o(s){return(a,u)=>a.barycenter<u.barycenter?-1:a.barycenter>u.barycenter?1:s?u.i-a.i:a.i-u.i}}),Q_=Qe((e,t)=>{var n=U_(),r=q_(),i=Z_();t.exports=o;function o(u,d,c,h){let f=u.children(d),g=u.node(d),p=g?g.borderLeft:void 0,b=g?g.borderRight:void 0,y={};p&&(f=f.filter(m=>m!==p&&m!==b));let k=n(u,f);k.forEach(m=>{if(u.children(m.v).length){let A=o(u,m.v,c,h);y[m.v]=A,Object.hasOwn(A,"barycenter")&&a(m,A)}});let w=r(k,c);s(w,y);let S=i(w,h);if(p&&(S.vs=[p,S.vs,b].flat(!0),u.predecessors(p).length)){let m=u.node(u.predecessors(p)[0]),A=u.node(u.predecessors(b)[0]);Object.hasOwn(S,"barycenter")||(S.barycenter=0,S.weight=0),S.barycenter=(S.barycenter*S.weight+m.order+A.order)/(S.weight+2),S.weight+=2}return S}function s(u,d){u.forEach(c=>{c.vs=c.vs.flatMap(h=>d[h]?d[h].vs:h)})}function a(u,d){u.barycenter!==void 0?(u.barycenter=(u.barycenter*u.weight+d.barycenter*d.weight)/(u.weight+d.weight),u.weight+=d.weight):(u.barycenter=d.barycenter,u.weight=d.weight)}}),J_=Qe((e,t)=>{var n=pn().Graph,r=ht();t.exports=i;function i(s,a,u,d){d||(d=s.nodes());let c=o(s),h=new n({compound:!0}).setGraph({root:c}).setDefaultNodeLabel(f=>s.node(f));return d.forEach(f=>{let g=s.node(f),p=s.parent(f);(g.rank===a||g.minRank<=a&&a<=g.maxRank)&&(h.setNode(f),h.setParent(f,p||c),s[u](f).forEach(b=>{let y=b.v===f?b.w:b.v,k=h.edge(y,f),w=k!==void 0?k.weight:0;h.setEdge(y,f,{weight:s.edge(b).weight+w})}),Object.hasOwn(g,"minRank")&&h.setNode(f,{borderLeft:g.borderLeft[a],borderRight:g.borderRight[a]}))}),h}function o(s){for(var a;s.hasNode(a=r.uniqueId("_root")););return a}}),$_=Qe((e,t)=>{t.exports=n;function n(r,i,o){let s={},a;o.forEach(u=>{let d=r.parent(u),c,h;for(;d;){if(c=r.parent(d),c?(h=s[c],s[c]=d):(h=a,a=d),h&&h!==d){i.setEdge(h,d);return}d=c}})}}),ew=Qe((e,t)=>{var n=j_(),r=G_(),i=Q_(),o=J_(),s=$_(),a=pn().Graph,u=ht();t.exports=d;function d(g,p={}){if(typeof p.customOrder=="function"){p.customOrder(g,d);return}let b=u.maxRank(g),y=c(g,u.range(1,b+1),"inEdges"),k=c(g,u.range(b-1,-1,-1),"outEdges"),w=n(g);if(f(g,w),p.disableOptimalOrderHeuristic)return;let S=Number.POSITIVE_INFINITY,m,A=p.constraints||[];for(let T=0,M=0;M<4;++T,++M){h(T%2?y:k,T%4>=2,A),w=u.buildLayerMatrix(g);let x=r(g,w);x<S?(M=0,m=Object.assign({},w),S=x):x===S&&(m=structuredClone(w))}f(g,m)}function c(g,p,b){let y=new Map,k=(w,S)=>{y.has(w)||y.set(w,[]),y.get(w).push(S)};for(let w of g.nodes()){let S=g.node(w);if(typeof S.rank=="number"&&k(S.rank,w),typeof S.minRank=="number"&&typeof S.maxRank=="number")for(let m=S.minRank;m<=S.maxRank;m++)m!==S.rank&&k(m,w)}return p.map(function(w){return o(g,w,b,y.get(w)||[])})}function h(g,p,b){let y=new a;g.forEach(function(k){b.forEach(m=>y.setEdge(m.left,m.right));let w=k.graph().root,S=i(k,w,y,p);S.vs.forEach((m,A)=>k.node(m).order=A),s(k,y,S.vs)})}function f(g,p){Object.values(p).forEach(b=>b.forEach((y,k)=>g.node(y).order=k))}}),tw=Qe((e,t)=>{var n=pn().Graph,r=ht();t.exports={positionX:b,findType1Conflicts:i,findType2Conflicts:o,addConflict:a,hasConflict:u,verticalAlignment:d,horizontalCompaction:c,alignCoordinates:g,findSmallestWidthAlignment:f,balance:p};function i(w,S){let m={};function A(T,M){let x=0,V=0,D=T.length,N=M[M.length-1];return M.forEach((_,E)=>{let v=s(w,_),I=v?w.node(v).order:D;(v||_===N)&&(M.slice(V,E+1).forEach(C=>{w.predecessors(C).forEach(P=>{let F=w.node(P),H=F.order;(H<x||I<H)&&!(F.dummy&&w.node(C).dummy)&&a(m,P,C)})}),V=E+1,x=I)}),M}return S.length&&S.reduce(A),m}function o(w,S){let m={};function A(M,x,V,D,N){let _;r.range(x,V).forEach(E=>{_=M[E],w.node(_).dummy&&w.predecessors(_).forEach(v=>{let I=w.node(v);I.dummy&&(I.order<D||I.order>N)&&a(m,v,_)})})}function T(M,x){let V=-1,D,N=0;return x.forEach((_,E)=>{if(w.node(_).dummy==="border"){let v=w.predecessors(_);v.length&&(D=w.node(v[0]).order,A(x,N,E,V,D),N=E,V=D)}A(x,N,x.length,D,M.length)}),x}return S.length&&S.reduce(T),m}function s(w,S){if(w.node(S).dummy)return w.predecessors(S).find(m=>w.node(m).dummy)}function a(w,S,m){if(S>m){let T=S;S=m,m=T}let A=w[S];A||(w[S]=A={}),A[m]=!0}function u(w,S,m){if(S>m){let A=S;S=m,m=A}return!!w[S]&&Object.hasOwn(w[S],m)}function d(w,S,m,A){let T={},M={},x={};return S.forEach(V=>{V.forEach((D,N)=>{T[D]=D,M[D]=D,x[D]=N})}),S.forEach(V=>{let D=-1;V.forEach(N=>{let _=A(N);if(_.length){_=_.sort((v,I)=>x[v]-x[I]);let E=(_.length-1)/2;for(let v=Math.floor(E),I=Math.ceil(E);v<=I;++v){let C=_[v];M[N]===N&&D<x[C]&&!u(m,N,C)&&(M[C]=N,M[N]=T[N]=T[C],D=x[C])}}})}),{root:T,align:M}}function c(w,S,m,A,T){let M={},x=h(w,S,m,T),V=T?"borderLeft":"borderRight";function D(E,v){let I=x.nodes().slice(),C={},P=I.pop();for(;P;){if(C[P])E(P);else{C[P]=!0,I.push(P);for(let F of v(P))I.push(F)}P=I.pop()}}function N(E){M[E]=x.inEdges(E).reduce((v,I)=>Math.max(v,M[I.v]+x.edge(I)),0)}function _(E){let v=x.outEdges(E).reduce((C,P)=>Math.min(C,M[P.w]-x.edge(P)),Number.POSITIVE_INFINITY),I=w.node(E);v!==Number.POSITIVE_INFINITY&&I.borderType!==V&&(M[E]=Math.max(M[E],v))}return D(N,x.predecessors.bind(x)),D(_,x.successors.bind(x)),Object.keys(A).forEach(E=>M[E]=M[m[E]]),M}function h(w,S,m,A){let T=new n,M=w.graph(),x=y(M.nodesep,M.edgesep,A);return S.forEach(V=>{let D;V.forEach(N=>{let _=m[N];if(T.setNode(_),D){var E=m[D],v=T.edge(E,_);T.setEdge(E,_,Math.max(x(w,N,D),v||0))}D=N})}),T}function f(w,S){return Object.values(S).reduce((m,A)=>{let T=Number.NEGATIVE_INFINITY,M=Number.POSITIVE_INFINITY;Object.entries(A).forEach(([V,D])=>{let N=k(w,V)/2;T=Math.max(D+N,T),M=Math.min(D-N,M)});let x=T-M;return x<m[0]&&(m=[x,A]),m},[Number.POSITIVE_INFINITY,null])[1]}function g(w,S){let m=Object.values(S),A=r.applyWithChunking(Math.min,m),T=r.applyWithChunking(Math.max,m);["u","d"].forEach(M=>{["l","r"].forEach(x=>{let V=M+x,D=w[V];if(D===S)return;let N=Object.values(D),_=A-r.applyWithChunking(Math.min,N);x!=="l"&&(_=T-r.applyWithChunking(Math.max,N)),_&&(w[V]=r.mapValues(D,E=>E+_))})})}function p(w,S){return r.mapValues(w.ul,(m,A)=>{if(S)return w[S.toLowerCase()][A];{let T=Object.values(w).map(M=>M[A]).sort((M,x)=>M-x);return(T[1]+T[2])/2}})}function b(w){let S=r.buildLayerMatrix(w),m=Object.assign(i(w,S),o(w,S)),A={},T;["u","d"].forEach(x=>{T=x==="u"?S:Object.values(S).reverse(),["l","r"].forEach(V=>{V==="r"&&(T=T.map(E=>Object.values(E).reverse()));let D=(x==="u"?w.predecessors:w.successors).bind(w),N=d(w,T,m,D),_=c(w,T,N.root,N.align,V==="r");V==="r"&&(_=r.mapValues(_,E=>-E)),A[x+V]=_})});let M=f(w,A);return g(A,M),p(A,w.graph().align)}function y(w,S,m){return(A,T,M)=>{let x=A.node(T),V=A.node(M),D=0,N;if(D+=x.width/2,Object.hasOwn(x,"labelpos"))switch(x.labelpos.toLowerCase()){case"l":N=-x.width/2;break;case"r":N=x.width/2;break}if(N&&(D+=m?N:-N),N=0,D+=(x.dummy?S:w)/2,D+=(V.dummy?S:w)/2,D+=V.width/2,Object.hasOwn(V,"labelpos"))switch(V.labelpos.toLowerCase()){case"l":N=V.width/2;break;case"r":N=-V.width/2;break}return N&&(D+=m?N:-N),N=0,D}}function k(w,S){return w.node(S).width}}),nw=Qe((e,t)=>{var n=ht(),r=tw().positionX;t.exports=i;function i(s){s=n.asNonCompoundGraph(s),o(s),Object.entries(r(s)).forEach(([a,u])=>s.node(a).x=u)}function o(s){let a=n.buildLayerMatrix(s),u=s.graph().ranksep,d=s.graph().rankalign,c=0;a.forEach(h=>{let f=h.reduce((g,p)=>{let b=s.node(p).height;return g>b?g:b},0);h.forEach(g=>{let p=s.node(g);d==="top"?p.y=c+p.height/2:d==="bottom"?p.y=c+f-p.height/2:p.y=c+f/2}),c+=f+u})}}),rw=Qe((e,t)=>{var n=V_(),r=F_(),i=K_(),o=ht().normalizeRanks,s=B_(),a=ht().removeEmptyRanks,u=W_(),d=Y_(),c=X_(),h=ew(),f=nw(),g=ht(),p=pn().Graph;t.exports=b;function b(O,B={}){let X=B.debugTiming?g.time:g.notime;return X("layout",()=>{let Y=X("  buildLayoutGraph",()=>D(O));return X("  runLayout",()=>y(Y,X,B)),X("  updateInputGraph",()=>k(O,Y)),Y})}function y(O,B,X){B("    makeSpaceForEdgeLabels",()=>N(O)),B("    removeSelfEdges",()=>W(O)),B("    acyclic",()=>n.run(O)),B("    nestingGraph.run",()=>u.run(O)),B("    rank",()=>i(g.asNonCompoundGraph(O))),B("    injectEdgeLabelProxies",()=>_(O)),B("    removeEmptyRanks",()=>a(O)),B("    nestingGraph.cleanup",()=>u.cleanup(O)),B("    normalizeRanks",()=>o(O)),B("    assignRankMinMax",()=>E(O)),B("    removeEdgeLabelProxies",()=>v(O)),B("    normalize.run",()=>r.run(O)),B("    parentDummyChains",()=>s(O)),B("    addBorderSegments",()=>d(O)),B("    order",()=>h(O,X)),B("    insertSelfEdges",()=>G(O)),B("    adjustCoordinateSystem",()=>c.adjust(O)),B("    position",()=>f(O)),B("    positionSelfEdges",()=>U(O)),B("    removeBorderNodes",()=>H(O)),B("    normalize.undo",()=>r.undo(O)),B("    fixupEdgeLabelCoords",()=>P(O)),B("    undoCoordinateSystem",()=>c.undo(O)),B("    translateGraph",()=>I(O)),B("    assignNodeIntersects",()=>C(O)),B("    reversePoints",()=>F(O)),B("    acyclic.undo",()=>n.undo(O))}function k(O,B){O.nodes().forEach(X=>{let Y=O.node(X),J=B.node(X);Y&&(Y.x=J.x,Y.y=J.y,Y.order=J.order,Y.rank=J.rank,B.children(X).length&&(Y.width=J.width,Y.height=J.height))}),O.edges().forEach(X=>{let Y=O.edge(X),J=B.edge(X);Y.points=J.points,Object.hasOwn(J,"x")&&(Y.x=J.x,Y.y=J.y)}),O.graph().width=B.graph().width,O.graph().height=B.graph().height}var w=["nodesep","edgesep","ranksep","marginx","marginy"],S={ranksep:50,edgesep:20,nodesep:50,rankdir:"tb",rankalign:"center"},m=["acyclicer","ranker","rankdir","align","rankalign"],A=["width","height","rank"],T={width:0,height:0},M=["minlen","weight","width","height","labeloffset"],x={minlen:1,weight:1,width:0,height:0,labeloffset:10,labelpos:"r"},V=["labelpos"];function D(O){let B=new p({multigraph:!0,compound:!0}),X=z(O.graph());return B.setGraph(Object.assign({},S,Q(X,w),g.pick(X,m))),O.nodes().forEach(Y=>{let J=z(O.node(Y)),re=Q(J,A);Object.keys(T).forEach(q=>{re[q]===void 0&&(re[q]=T[q])}),B.setNode(Y,re),B.setParent(Y,O.parent(Y))}),O.edges().forEach(Y=>{let J=z(O.edge(Y));B.setEdge(Y,Object.assign({},x,Q(J,M),g.pick(J,V)))}),B}function N(O){let B=O.graph();B.ranksep/=2,O.edges().forEach(X=>{let Y=O.edge(X);Y.minlen*=2,Y.labelpos.toLowerCase()!=="c"&&(B.rankdir==="TB"||B.rankdir==="BT"?Y.width+=Y.labeloffset:Y.height+=Y.labeloffset)})}function _(O){O.edges().forEach(B=>{let X=O.edge(B);if(X.width&&X.height){let Y=O.node(B.v),J={rank:(O.node(B.w).rank-Y.rank)/2+Y.rank,e:B};g.addDummyNode(O,"edge-proxy",J,"_ep")}})}function E(O){let B=0;O.nodes().forEach(X=>{let Y=O.node(X);Y.borderTop&&(Y.minRank=O.node(Y.borderTop).rank,Y.maxRank=O.node(Y.borderBottom).rank,B=Math.max(B,Y.maxRank))}),O.graph().maxRank=B}function v(O){O.nodes().forEach(B=>{let X=O.node(B);X.dummy==="edge-proxy"&&(O.edge(X.e).labelRank=X.rank,O.removeNode(B))})}function I(O){let B=Number.POSITIVE_INFINITY,X=0,Y=Number.POSITIVE_INFINITY,J=0,re=O.graph(),q=re.marginx||0,le=re.marginy||0;function ge(pe){let oe=pe.x,be=pe.y,xe=pe.width,_e=pe.height;B=Math.min(B,oe-xe/2),X=Math.max(X,oe+xe/2),Y=Math.min(Y,be-_e/2),J=Math.max(J,be+_e/2)}O.nodes().forEach(pe=>ge(O.node(pe))),O.edges().forEach(pe=>{let oe=O.edge(pe);Object.hasOwn(oe,"x")&&ge(oe)}),B-=q,Y-=le,O.nodes().forEach(pe=>{let oe=O.node(pe);oe.x-=B,oe.y-=Y}),O.edges().forEach(pe=>{let oe=O.edge(pe);oe.points.forEach(be=>{be.x-=B,be.y-=Y}),Object.hasOwn(oe,"x")&&(oe.x-=B),Object.hasOwn(oe,"y")&&(oe.y-=Y)}),re.width=X-B+q,re.height=J-Y+le}function C(O){O.edges().forEach(B=>{let X=O.edge(B),Y=O.node(B.v),J=O.node(B.w),re,q;X.points?(re=X.points[0],q=X.points[X.points.length-1]):(X.points=[],re=J,q=Y),X.points.unshift(g.intersectRect(Y,re)),X.points.push(g.intersectRect(J,q))})}function P(O){O.edges().forEach(B=>{let X=O.edge(B);if(Object.hasOwn(X,"x"))switch((X.labelpos==="l"||X.labelpos==="r")&&(X.width-=X.labeloffset),X.labelpos){case"l":X.x-=X.width/2+X.labeloffset;break;case"r":X.x+=X.width/2+X.labeloffset;break}})}function F(O){O.edges().forEach(B=>{let X=O.edge(B);X.reversed&&X.points.reverse()})}function H(O){O.nodes().forEach(B=>{if(O.children(B).length){let X=O.node(B),Y=O.node(X.borderTop),J=O.node(X.borderBottom),re=O.node(X.borderLeft[X.borderLeft.length-1]),q=O.node(X.borderRight[X.borderRight.length-1]);X.width=Math.abs(q.x-re.x),X.height=Math.abs(J.y-Y.y),X.x=re.x+X.width/2,X.y=Y.y+X.height/2}}),O.nodes().forEach(B=>{O.node(B).dummy==="border"&&O.removeNode(B)})}function W(O){O.edges().forEach(B=>{if(B.v===B.w){var X=O.node(B.v);X.selfEdges||(X.selfEdges=[]),X.selfEdges.push({e:B,label:O.edge(B)}),O.removeEdge(B)}})}function G(O){var B=g.buildLayerMatrix(O);B.forEach(X=>{var Y=0;X.forEach((J,re)=>{var q=O.node(J);q.order=re+Y,(q.selfEdges||[]).forEach(le=>{g.addDummyNode(O,"selfedge",{width:le.label.width,height:le.label.height,rank:q.rank,order:re+ ++Y,e:le.e,label:le.label},"_se")}),delete q.selfEdges})})}function U(O){O.nodes().forEach(B=>{var X=O.node(B);if(X.dummy==="selfedge"){var Y=O.node(X.e.v),J=Y.x+Y.width/2,re=Y.y,q=X.x-J,le=Y.height/2;O.setEdge(X.e,X.label),O.removeNode(B),X.label.points=[{x:J+2*q/3,y:re-le},{x:J+5*q/6,y:re-le},{x:J+q,y:re},{x:J+5*q/6,y:re+le},{x:J+2*q/3,y:re+le}],X.label.x=X.x,X.label.y=X.y}})}function Q(O,B){return g.mapValues(g.pick(O,B),Number)}function z(O){var B={};return O&&Object.entries(O).forEach(([X,Y])=>{typeof X=="string"&&(X=X.toLowerCase()),B[X]=Y}),B}}),iw=Qe((e,t)=>{var n=ht(),r=pn().Graph;t.exports={debugOrdering:i};function i(o){let s=n.buildLayerMatrix(o),a=new r({compound:!0,multigraph:!0}).setGraph({});return o.nodes().forEach(u=>{a.setNode(u,{label:u}),a.setParent(u,"layer"+o.node(u).rank)}),o.edges().forEach(u=>a.setEdge(u.v,u.w,{},u.name)),s.forEach((u,d)=>{let c="layer"+d;a.setNode(c,{rank:"same"}),u.reduce((h,f)=>(a.setEdge(h,f,{style:"invis"}),f))}),a}}),ow=Qe((e,t)=>{t.exports="2.0.4"}),sw=Qe((e,t)=>{t.exports={graphlib:pn(),layout:rw(),debug:iw(),util:{time:ht().time,notime:ht().notime},version:ow()}});const Fu=sw();/*! For license information please see dagre.esm.js.LEGAL.txt */const pf="LR",aw=360,lw=240,uw=80,cw=140,dw=40,fw=40;function Br(e){return typeof e=="string"&&e.trim()?e.trim():void 0}function $r(e,t){const n=Number(e);return Number.isFinite(n)?n:t}function Hu(e,t){const n=Number(e);return Number.isFinite(n)&&n>0?n:t}function hw(e){var n;const t=(n=Br(e))==null?void 0:n.toUpperCase();return t==="TB"||t==="LR"?t:pf}function Ku(e){const t=Array.isArray(e)?e:[];return Array.from(new Set(t.map(n=>Br(n)).filter(n=>n!==void 0))).sort((n,r)=>n.localeCompare(r))}function gw(e){const t=Array.isArray(e)?e:[],n=[],r=new Set;for(const i of t){const o=Br(i==null?void 0:i.id);!o||r.has(o)||(r.add(o),n.push({id:o,width:Hu(i==null?void 0:i.width,aw),height:Hu(i==null?void 0:i.height,lw)}))}return n.sort((i,o)=>i.id.localeCompare(o.id)),n}function vw(e,t){const n=new Set(t),r=Array.isArray(e)?e:[],i=[];for(const o of r){const s=Br(o==null?void 0:o.source),a=Br(o==null?void 0:o.target);!s||!a||!n.has(s)||!n.has(a)||i.push({source:s,target:a})}return i}function pw(e){const t=Array.isArray(e)?e:[];if(t.length===0)return{x:0,y:0};let n=Number.POSITIVE_INFINITY,r=Number.POSITIVE_INFINITY;for(const i of t){const o=Number(i==null?void 0:i.x),s=Number(i==null?void 0:i.y);!Number.isFinite(o)||!Number.isFinite(s)||(n=Math.min(n,o),r=Math.min(r,s))}return!Number.isFinite(n)||!Number.isFinite(r)?{x:0,y:0}:{x:n,y:r}}function mw({seedNodeIds:e,edges:t,allowedNodeIds:n}={}){const r=Ku(e);if(r.length===0)return[];const i=Ku(n),o=i.length>0?new Set(i):void 0,s=new Map;for(const d of Array.isArray(t)?t:[]){const c=Br(d==null?void 0:d.source),h=Br(d==null?void 0:d.target);!c||!h||o&&(!o.has(c)||!o.has(h))||(s.has(c)||s.set(c,new Set),s.get(c).add(h))}const a=new Set(o?r.filter(d=>o.has(d)):r),u=Array.from(a);for(;u.length>0;){const d=u.shift(),c=s.get(d);if(c instanceof Set)for(const h of c)a.has(h)||(a.add(h),u.push(h))}return Array.from(a)}function yw({nodes:e,edges:t,direction:n=pf,spacing:r={},origin:i={}}={}){const o=gw(e);if(o.length===0)return new Map;const s=$r(r==null?void 0:r.nodeSep,uw),a=$r(r==null?void 0:r.rankSep,cw),u=$r(r==null?void 0:r.marginX,dw),d=$r(r==null?void 0:r.marginY,fw),c=$r(i==null?void 0:i.x,0),h=$r(i==null?void 0:i.y,0),f=new Fu.graphlib.Graph;f.setDefaultEdgeLabel(()=>({})),f.setGraph({rankdir:hw(n),nodesep:s,ranksep:a,marginx:u,marginy:d});const g=new Map;for(const y of o)g.set(y.id,{width:y.width,height:y.height}),f.setNode(y.id,{width:y.width,height:y.height});const p=vw(t,o.map(y=>y.id));for(let y=p.length-1;y>=0;y-=1){const k=p[y];f.setEdge(k.source,k.target)}Fu.layout(f);const b=new Map;for(const y of o){const k=f.node(y.id),w=g.get(y.id);!k||!w||b.set(y.id,{x:k.x-w.width/2+c,y:k.y-w.height/2+h})}return b}function mf(e,t){Ne(t,!1);const n=Oe(),r=Oe(),i=Oe(),o=Oe();let s=ee(t,"isVisible",8,!1),a=ee(t,"autoScale",8,!1),u=ee(t,"minWidth",8,0),d=ee(t,"minHeight",8,0),c=ee(t,"color",8,"var(--vscode-focusBorder)"),h=ee(t,"handleClass",8,"rounded-sm border border-vsc-focus bg-vsc-editor-widget-bg"),f=ee(t,"lineClass",8,"border-vsc-focus"),g=ee(t,"onResizeEnd",8,void 0);const p=8,b=12,y=sf();function k(S){const m=Number(S);return!Number.isFinite(m)||m<=0?1:m}function w(S){if(!Number.isFinite(S)||S>=1)return 1;const m=1/S;return Math.min(b,Math.max(1,m))}Ae(()=>{},()=>{var S;j(n,k((S=y.current)==null?void 0:S.zoom))}),Ae(()=>l(n),()=>{j(r,w(l(n)))}),Ae(()=>l(r),()=>{j(i,Math.round(p*l(r)))}),Ae(()=>l(i),()=>{j(o,`width:${l(i)}px;height:${l(i)}px;`)}),Ni(),tr(),Ab(e,{get isVisible(){return s()},get autoScale(){return a()},get minWidth(){return u()},get minHeight(){return d()},get color(){return c()},get handleClass(){return h()},get handleStyle(){return l(o)},get lineClass(){return f()},get onResizeEnd(){return g()}}),ke()}var bw=de('<input class="nodrag min-w-0 flex-1 appearance-none rounded border border-vsc-input-border bg-vsc-input-bg px-1 py-0.5 font-semibold text-vsc-input-fg outline-none focus:border-vsc-focus" type="text" aria-label="Comment title"/>'),_w=de('<button class="flex-1 min-w-0 font-semibold text-left truncate select-none text-vsc-input-fg cursor-grab active:cursor-grabbing" type="button"> </button>'),ww=de('<div class="relative h-full w-full overflow-visible rounded-lg border border-vsc-editor-widget-border bg-vsc-editor-widget-bg/90 text-vsc-editor-fg shadow-lg transition-[border-color,box-shadow]"><div class="flex items-center gap-2 border-b border-vsc-editor-widget-border bg-vsc-input-bg/70 px-2 py-1.5 cursor-grab active:cursor-grabbing" role="group" aria-label="Comment title bar"><!> <div data-comment-selection-exempt="true" class="nodrag flex items-center gap-1 rounded border border-vsc-editor-widget-border bg-vsc-editor-widget-bg px-1 py-0.5"><input class="w-10 border-0 bg-transparent p-0 text-right text-[10px] font-semibold text-vsc-muted outline-none [appearance:textfield] [&amp;::-webkit-inner-spin-button]:appearance-none [&amp;::-webkit-outer-spin-button]:appearance-none" type="number" step="1" aria-label="Comment font size"/> <span class="text-[10px] font-semibold text-vsc-muted">px</span></div></div> <textarea class="nodrag h-[calc(100%-2.75rem)] w-full resize-none border-0 bg-transparent p-2 text-vsc-editor-fg outline-none placeholder:text-vsc-muted" aria-label="Comment text" placeholder="Write a note..."></textarea> <!></div>');function xw(e,t){Ne(t,!0);let n=ee(t,"selected",3,!1),r=ee(t,"dragging",3,!1);const{updateNodeData:i,updateNode:o,getNodes:s,getEdges:a,updateEdge:u}=Gr();qe(()=>{l(h)||j(p,t.data.name,!0)}),qe(()=>{f||j(b,t.data.name,!0)}),qe(()=>{g||j(y,t.data.fontSize)});const d=8,c=128;let h=we(!1),f=!1,g=!1,p=we(""),b=we(""),y=L(()=>t.data.fontSize),k=we(void 0);async function w(){var q,le;j(h,!0),j(p,t.data.name,!0),await ct(),(q=l(k))==null||q.focus(),(le=l(k))==null||le.select()}function S(){if(!l(h))return;const q=l(p);q!==t.data.name&&(H({name:q}),W("comment-renamed")),j(h,!1)}function m(){f=!0}function A(){if(!f)return;const q=l(b);q!==t.data.text&&(H({text:q}),W("comment-text-updated")),f=!1}function T(){f&&(f=!1,j(b,t.data.text,!0))}function M(q){f=!0,j(b,q.currentTarget.value,!0)}function x(q){q.key==="Escape"&&(q.preventDefault(),T(),q.currentTarget.blur())}function V(){g=!0}function D(){if(!g)return;const q=l(y);q!==t.data.fontSize&&(H({fontSize:q}),W("comment-font-size-updated")),g=!1}function N(){g&&(g=!1,j(y,t.data.fontSize))}function _(q){g=!0,j(y,q.currentTarget.value)}function E(q){if(q.key==="Enter"){q.preventDefault(),D(),q.currentTarget.blur();return}q.key==="Escape"&&(q.preventDefault(),N(),q.currentTarget.blur())}function v(){l(h)&&(j(h,!1),j(p,t.data.name,!0))}function I(q){var le,ge;if(q.key==="Enter"){q.preventDefault(),S(),(le=l(k))==null||le.blur();return}q.key==="Escape"&&(q.preventDefault(),v(),(ge=l(k))==null||ge.blur())}function C(q){(q.key==="Enter"||q.key===" ")&&(q.preventDefault(),w())}function P(q){if(l(h)||g)return;const le=Number(q==null?void 0:q.button);if(Number.isFinite(le)&&le!==0)return;const ge=q==null?void 0:q.target;if(typeof(ge==null?void 0:ge.closest)=="function"&&ge.closest("[data-comment-selection-exempt='true']")||q!=null&&q.shiftKey)return;const pe=!!(q!=null&&q.metaKey||q!=null&&q.ctrlKey),oe=s();for(const xe of oe){const _e=xe.id===t.id?!0:pe?!!xe.selected:!1;xe.selected!==_e&&o(xe.id,{selected:_e})}if(pe)return;const be=a();for(const xe of be)xe.selected&&u(xe.id,{selected:!1})}function F(){W("comment-resized")}function H(q){i(t.id,{name:t.data.name,text:t.data.text,fontSize:t.data.fontSize,...q})}function W(q){typeof window>"u"||typeof window.dispatchEvent!="function"||window.dispatchEvent(new CustomEvent(Rb,{detail:{nodeId:t.id,reason:q}}))}var G=ww(),U=se(G);U.__pointerup=P;var Q=se(U);{var z=q=>{var le=bw();le.__input=pe=>j(p,pe.currentTarget.value,!0),le.__keydown=I;let ge;lt(le,pe=>j(k,pe),()=>l(k)),ye(()=>{Tt(le,l(p)),ge=Ze(le,"",ge,{"font-size":`${t.data.fontSize}px`})}),Ke("blur",le,S),te(q,le)},O=q=>{var le=_w();le.__dblclick=w,le.__keydown=C;let ge;var pe=se(le);ye(()=>{me(le,"aria-label",`Comment title: ${t.data.name}. Double click to rename`),ge=Ze(le,"",ge,{"font-size":`${t.data.fontSize}px`}),We(pe,t.data.name)}),te(q,le)};De(Q,q=>{l(h)?q(z):q(O,!1)})}var B=he(Q,2),X=se(B);me(X,"min",d),me(X,"max",c),X.__input=_,X.__keydown=E;var Y=he(U,2);Y.__input=M,Y.__keydown=x;let J;var re=he(Y,2);{let q=L(()=>n()&&!r());mf(re,{get isVisible(){return l(q)},onResizeEnd:F})}ye(()=>{Ze(G,`outline: ${n()&&!r()?"2px solid var(--vscode-focusBorder)":"none"};`),Tt(X,l(y)),Tt(Y,l(b)),J=Ze(Y,"",J,{"font-size":`${t.data.fontSize}px`})}),Ke("focus",X,V),Ke("blur",X,D),Ke("focus",Y,m),Ke("blur",Y,A),te(e,G),ke()}vt(["pointerup","input","keydown","dblclick"]);const Ew=['input:not([type="hidden"]):not([disabled]):not([readonly])',"textarea:not([disabled]):not([readonly])","select:not([disabled])",'[contenteditable="true"]'].join(", ");function Nw(e){var t;return!!(e!=null&&e.offsetWidth||e!=null&&e.offsetHeight||(t=e==null?void 0:e.getClientRects)!=null&&t.call(e).length)}function kw(e){var t;return((t=e==null?void 0:e.closest)==null?void 0:t.call(e,"[data-node-editor-root]"))??null}function Ur(e){const t=kw(e);if(!t)return!1;const n=Array.from(t.querySelectorAll(Ew)).filter(Nw),r=n.indexOf(e);if(r<0)return!1;const i=n[r+1];return i?(i instanceof HTMLElement&&i.focus(),!0):!1}function qr(e){return(e==null?void 0:e.key)==="Enter"&&!(e!=null&&e.isComposing)&&!(e!=null&&e.altKey)&&!(e!=null&&e.ctrlKey)&&!(e!=null&&e.metaKey)&&!(e!=null&&e.shiftKey)}var Sw=de('<textarea class="nodrag min-h-10 w-full resize-none rounded-md border border-vsc-input-border bg-vsc-input-bg px-2 py-1.5 text-xs text-vsc-input-fg h-20" rows="4"></textarea>'),Iw=de('<input class="nodrag w-full rounded-md border border-vsc-input-border bg-vsc-input-bg px-2 py-1.5 text-xs text-vsc-input-fg" type="text"/>'),Tw=de('<div class="flex flex-col gap-1"><label class="text-xs text-vsc-muted"> </label> <!></div>');function Ow(e,t){Ne(t,!0);const n=L(()=>t.label??t.schemaKey??"Field"),r=L(()=>typeof t.value=="string"?t.value:String(t.value??"")),i=L(()=>t.type==="text"),o=L(()=>`text-${t.schemaKey??"field"}-${t.type}`);let s=we(!1),a=we("");qe(()=>{l(s)||j(a,l(r),!0)});function u(S){t.onchange(S)}function d(){j(s,!0)}function c(S){j(a,S.currentTarget.value,!0)}function h(){l(s)&&(j(s,!1),l(a)!==l(r)&&u(l(a)))}function f(S){qr(S)&&(S.preventDefault(),Ur(S.currentTarget)||S.currentTarget.blur())}var g=Tw(),p=se(g),b=se(p),y=he(p,2);{var k=S=>{var m=Sw();m.__input=c,ye(()=>{me(m,"id",l(o)),Tt(m,l(a))}),Ke("focus",m,d),Ke("blur",m,h),te(S,m)},w=S=>{var m=Iw();m.__input=c,m.__keydown=f,ye(()=>{me(m,"id",l(o)),Tt(m,l(a))}),Ke("focus",m,d),Ke("blur",m,h),te(S,m)};De(y,S=>{l(i)?S(k):S(w,!1)})}ye(()=>{me(p,"for",l(o)),We(b,l(n))}),te(e,g),ke()}vt(["input","keydown"]);var Cw=de('<div class="flex flex-row items-center justify-start gap-2"><label class="text-xs text-vsc-muted"> </label> <input class="nodrag h-4 w-4" type="checkbox"/></div>');function Pw(e,t){Ne(t,!0);const n=L(()=>t.label??t.schemaKey??"Field"),r=L(()=>!!t.value),i=L(()=>`bool-${t.schemaKey??"field"}-${t.type}`);function o(c){t.onchange(c)}var s=Cw(),a=se(s),u=se(a),d=he(a,2);d.__change=c=>o(c.currentTarget.checked),ye(()=>{me(a,"for",l(i)),We(u,l(n)),me(d,"id",l(i)),qc(d,l(r))}),te(e,s),ke()}vt(["change"]);var Aw=de('<div class="flex flex-col gap-1"><label class="text-xs text-vsc-muted"> </label> <input class="nodrag w-full rounded-md border border-vsc-input-border bg-vsc-input-bg px-2 py-1.5 text-xs text-vsc-input-fg" type="number"/></div>');function Mw(e,t){Ne(t,!0);const n=L(()=>t.label??t.schemaKey??"Field"),r=L(()=>Number.isFinite(Number(t.value))?Number(t.value):0),i=L(()=>String(l(r))),o=L(()=>t.type==="float"?"any":"1"),s=L(()=>`number-${t.schemaKey??"field"}-${t.type}`);let a=we(!1),u=we("");qe(()=>{l(a)||j(u,l(i),!0)});function d(w){t.onchange(w)}function c(){j(a,!0)}function h(w){j(u,w.currentTarget.value,!0)}function f(){if(!l(a))return;j(a,!1);const w=Number(l(u));if(!Number.isFinite(w)){j(u,l(i),!0);return}const S=t.type==="float"?w:Math.trunc(w);j(u,String(S),!0),S!==l(r)&&d(S)}function g(w){qr(w)&&(w.preventDefault(),Ur(w.currentTarget)||w.currentTarget.blur())}var p=Aw(),b=se(p),y=se(b),k=he(b,2);k.__input=h,k.__keydown=g,ye(()=>{me(b,"for",l(s)),We(y,l(n)),me(k,"id",l(s)),Tt(k,l(u)),me(k,"step",l(o))}),Ke("focus",k,c),Ke("blur",k,f),te(e,p),ke()}vt(["input","keydown"]);var Dw=de('<div class="flex flex-col gap-1"><label class="text-xs text-vsc-muted"> </label> <input class="nodrag w-full" type="range"/></div>');function Rw(e,t){Ne(t,!0);const n=0,r=100,i=1,o=L(()=>Number.isFinite(Number(t.value))?Number(t.value):n),s=L(()=>`slider-${t.schemaKey??"field"}-${t.type}`);let a=we(n),u=we(!1),d=we("unknown");qe(()=>{l(u)||j(a,l(o),!0)});const c=L(()=>`${t.label??t.schemaKey??"Field"} (${l(a)})`);function h(T){t.onchange(T)}function f(T){const M=Number(T.currentTarget.value);j(a,Number.isFinite(M)?M:n,!0),j(u,l(a)!==l(o))}function g(){j(d,"pointer")}function p(T){["ArrowLeft","ArrowRight","ArrowUp","ArrowDown","Home","End","PageUp","PageDown"].includes(T.key)&&j(d,"keyboard")}function b(){l(u)&&(h(l(a)),j(u,!1))}function y(){l(d)==="pointer"&&b()}function k(){b(),j(d,"unknown")}var w=Dw(),S=se(w),m=se(S),A=he(S,2);me(A,"min",n),me(A,"max",r),me(A,"step",i),A.__pointerdown=g,A.__input=f,A.__change=y,A.__keydown=p,ye(()=>{me(S,"for",l(s)),We(m,l(c)),me(A,"id",l(s)),Tt(A,l(a))}),Ke("blur",A,k),te(e,w),ke()}vt(["pointerdown","input","change","keydown"]);var zw=de('<div class="flex flex-col gap-1"><label class="text-xs text-vsc-muted"> </label> <input class="nodrag w-full rounded-md border border-vsc-input-border bg-vsc-input-bg px-2 py-1.5 text-xs text-vsc-input-fg" type="text" placeholder="path/to/file.json" spellcheck="false"/></div>');function Lw(e,t){Ne(t,!0);const n=L(()=>t.label??t.schemaKey??"Field"),r=L(()=>typeof t.value=="string"?t.value:String(t.value??"")),i=L(()=>`path-${t.schemaKey??"field"}-${t.type}`);let o=we(!1),s=we("");qe(()=>{l(o)||j(s,l(r),!0)});function a(y){t.onchange(y)}function u(){j(o,!0)}function d(y){j(s,y.currentTarget.value,!0)}function c(){l(o)&&(j(o,!1),l(s)!==l(r)&&a(l(s)))}function h(y){qr(y)&&(y.preventDefault(),Ur(y.currentTarget)||y.currentTarget.blur())}var f=zw(),g=se(f),p=se(g),b=he(g,2);b.__input=d,b.__keydown=h,ye(()=>{me(g,"for",l(i)),We(p,l(n)),me(b,"id",l(i)),Tt(b,l(s))}),Ke("focus",b,u),Ke("blur",b,c),te(e,f),ke()}vt(["input","keydown"]);var Vw=de('<div class="relative flex flex-col gap-1"><label class="text-xs text-vsc-muted"> </label> <input class="nodrag w-full rounded-md border border-vsc-input-border bg-vsc-input-bg px-2 py-1.5 text-xs text-vsc-input-fg" type="text"/></div>');function Fw(e,t){Ne(t,!0);const n=L(()=>t.label??t.schemaKey??"Field"),r=L(()=>typeof t.value=="string"?t.value:String(t.value??"")),i=L(()=>`enum-${t.schemaKey??"field"}-${t.type}`);let o=we(!1),s=we(""),a;qe(()=>{l(o)||j(s,l(r),!0)});function u(k){t.onchange(k)}function d(){j(o,!0)}function c(k){j(s,k.currentTarget.value,!0)}function h(k){l(o)&&(j(o,!1),l(s)!==l(r)&&u(l(s)),k&&a&&!Ur(a)&&a.blur())}function f(k){qr(k)&&(k.preventDefault(),h(!0))}var g=Vw(),p=se(g),b=se(p),y=he(p,2);y.__input=c,y.__keydown=f,lt(y,k=>a=k,()=>a),ye(()=>{me(p,"for",l(i)),We(b,l(n)),me(y,"id",l(i)),Tt(y,l(s))}),Ke("focus",y,d),Ke("blur",y,()=>h(!1)),te(e,g),ke()}vt(["input","keydown"]);function Wa(e){return e!==null&&typeof e=="object"&&!Array.isArray(e)}var Hw=de('<div class="text-xs text-vsc-muted">No items</div>'),Kw=de('<input class="w-4 h-4 nodrag" type="checkbox"/>'),Bw=de('<input class="nodrag w-full rounded-md border border-vsc-input-border bg-vsc-input-bg px-2 py-1.5 text-xs text-vsc-input-fg" type="number"/>'),Ww=de('<textarea class="nodrag min-h-10 w-full resize-y rounded-md border border-vsc-input-border bg-vsc-input-bg px-2 py-1.5 text-xs text-vsc-input-fg" rows="3"></textarea>'),Yw=de('<input class="nodrag w-full rounded-md border border-vsc-input-border bg-vsc-input-bg px-2 py-1.5 text-xs text-vsc-input-fg" type="text"/>'),Xw=de('<div class="flex items-start gap-1.5"><div class="flex-1"><!></div> <button class="px-2 py-1 text-xs border rounded-md border-vsc-button-border bg-vsc-button-secondary-bg text-vsc-button-secondary-fg hover:bg-vsc-button-secondary-hover" type="button">Remove</button></div>'),jw=de('<div class="flex flex-col gap-1.5"></div>'),Gw=de('<div class="flex flex-col gap-1.5 rounded-md border border-dashed border-vsc-editor-widget-border p-2"><div class="flex items-center justify-between gap-2"><div class="text-xs font-bold uppercase text-vsc-muted"> </div> <button class="px-2 py-1 text-xs border rounded-md border-vsc-button-border bg-vsc-button-secondary-bg text-vsc-button-secondary-fg hover:bg-vsc-button-secondary-hover" type="button">Add</button></div> <!></div>');function Uw(e,t){Ne(t,!0);const n=L(()=>t.label??t.schemaKey??"Field"),r=L(()=>Array.isArray(t.value)?t.value:[]);function i(T){t.onchange(T)}function o(){i([...l(r),""])}function s(T){i(l(r).filter((M,x)=>x!==T))}function a(T,M){const x=l(r).slice();x[T]=M,i(x)}function u(T,M){a(T,M)}function d(T,M){const x=Number(M);a(T,Number.isFinite(x)?x:0)}function c(T,M){a(T,M)}function h(T,M){try{const x=JSON.parse(M);Wa(x)&&a(T,x)}catch{}}function f(T){try{return JSON.stringify(T??{},null,2)}catch{return"{}"}}function g(T){qr(T)&&(T.preventDefault(),Ur(T.currentTarget)||T.currentTarget.blur())}var p=Gw(),b=se(p),y=se(b),k=se(y),w=he(y,2);w.__click=o;var S=he(b,2);{var m=T=>{var M=Hw();te(T,M)},A=T=>{var M=jw();rt(M,21,()=>l(r),Kt,(x,V,D)=>{var N=Xw(),_=se(N),E=se(_);{var v=W=>{var G=Kw();G.__change=U=>c(D,U.currentTarget.checked),ye(()=>qc(G,l(V))),te(W,G)},I=W=>{var G=Bw();G.__change=U=>d(D,U.currentTarget.value),G.__keydown=g,ye(()=>Tt(G,l(V))),te(W,G)},C=W=>{var G=Ww();G.__change=U=>h(D,U.currentTarget.value),ye(U=>Tt(G,U),[()=>f(l(V))]),te(W,G)},P=L(()=>Wa(l(V))),F=W=>{var G=Yw();G.__change=U=>u(D,U.currentTarget.value),G.__keydown=g,ye(U=>Tt(G,U),[()=>typeof l(V)=="string"?l(V):String(l(V)??"")]),te(W,G)};De(E,W=>{typeof l(V)=="boolean"?W(v):typeof l(V)=="number"?W(I,1):l(P)?W(C,2):W(F,!1)})}var H=he(_,2);H.__click=()=>s(D),te(x,N)}),te(T,M)};De(S,T=>{l(r).length===0?T(m):T(A,!1)})}ye(()=>We(k,l(n))),te(e,p),ke()}vt(["click","change","keydown"]);function yf(e,t){var n=$e(),r=Pe(n);{var i=f=>{},o=f=>{Uw(f,{get schemaKey(){return t.schemaKey},get type(){return t.type},get label(){return t.label},get value(){return t.value},get inputWidth(){return t.inputWidth},get onchange(){return t.onchange}})},s=f=>{Fw(f,{get schemaKey(){return t.schemaKey},get type(){return t.type},get label(){return t.label},get value(){return t.value},get inputWidth(){return t.inputWidth},get onchange(){return t.onchange}})},a=f=>{Lw(f,{get schemaKey(){return t.schemaKey},get type(){return t.type},get label(){return t.label},get value(){return t.value},get inputWidth(){return t.inputWidth},get onchange(){return t.onchange}})},u=f=>{Rw(f,{get schemaKey(){return t.schemaKey},get type(){return t.type},get label(){return t.label},get value(){return t.value},get inputWidth(){return t.inputWidth},get onchange(){return t.onchange}})},d=f=>{Pw(f,{get schemaKey(){return t.schemaKey},get type(){return t.type},get label(){return t.label},get value(){return t.value},get inputWidth(){return t.inputWidth},get onchange(){return t.onchange}})},c=f=>{Mw(f,{get schemaKey(){return t.schemaKey},get type(){return t.type},get label(){return t.label},get value(){return t.value},get inputWidth(){return t.inputWidth},get onchange(){return t.onchange}})},h=f=>{Ow(f,{get schemaKey(){return t.schemaKey},get type(){return t.type},get label(){return t.label},get value(){return t.value},get inputWidth(){return t.inputWidth},get onchange(){return t.onchange}})};De(r,f=>{t.type==="object"?f(i):t.type==="list"?f(o,1):t.type==="enum"?f(s,2):t.type==="filepath"?f(a,3):t.type==="intslider"?f(u,4):t.type==="checkbox"?f(d,5):t.type==="int"||t.type==="float"?f(c,6):f(h,!1)})}te(e,n)}var qw=de('<div class="px-1"><textarea rows="1" aria-label="Node comment"></textarea></div>');function bf(e,t){Ne(t,!1);const n=Oe(),r=Oe(),i=Oe();let o=ee(t,"id",8,""),s=ee(t,"value",8,""),a=ee(t,"isVisible",12,!1),u=ee(t,"isEditing",12,!1);const d=ks();let c=Oe(!1),h=Oe(""),f=Oe();async function g(N=!1){var E,v,I;if(j(c,!0),u()||(u(!0),j(h,l(n)),await ct()),(E=l(f))==null||E.focus(),A(),N){(v=l(f))==null||v.select();return}const _=l(h).length;(I=l(f))==null||I.setSelectionRange(_,_)}function p(){u()&&(d("change",{value:l(h)}),u(!1),j(c,l(h).trim().length>0),ct().then(T))}function b(N){u()&&(j(h,N.currentTarget.value),A())}function y(N){var _;if(u()){N.key==="Escape"&&(N.preventDefault(),p(),(_=l(f))==null||_.blur());return}(N.key==="Enter"||N.key===" ")&&(N.preventDefault(),g(!1))}function k(){u()&&p()}function w(){var N;u()||(N=l(f))==null||N.blur()}function S(N){u()||d("select",{originalEvent:N})}function m(){u()||g(!0)}function A(){l(f)&&(qo(f,l(f).style.height="auto"),qo(f,l(f).style.height=`${l(f).scrollHeight}px`))}function T(){var N,_;if(l(f)){try{l(f).setSelectionRange(0,0)}catch{}typeof window<"u"&&((_=(N=window.getSelection)==null?void 0:N.call(window))==null||_.removeAllRanges())}}Ae(()=>Be(s()),()=>{j(n,typeof s()=="string"?s():"")}),Ae(()=>l(n),()=>{j(r,l(n).trim().length>0)}),Ae(()=>(Be(u()),l(r),l(c)),()=>{a(u()||l(r)||l(c))}),Ae(()=>(Be(u()),l(n)),()=>{u()||j(h,l(n))}),Ae(()=>(Be(u()),l(h),l(n)),()=>{j(i,u()?l(h):l(n))}),Ae(()=>(Be(a()),ct),()=>{a()&&ct().then(A)}),Ni();var M={startEditing:g};tr();var x=$e(),V=Pe(x);{var D=N=>{var _=qw(),E=se(_);E.__pointerdown=S,E.__click=m,E.__input=b,E.__keydown=y,lt(E,v=>j(f,v),()=>l(f)),ye(()=>{me(E,"id",o()),Ot(E,1,`w-full resize-none overflow-hidden p-1 rounded-md text-left text-xs leading-5 text-vsc-input-fg whitespace-pre-wrap wrap-break-word ${u()?"nodrag border border-vsc-input-border bg-vsc-input-bg":"border border-transparent bg-transparent cursor-grab active:cursor-grabbing select-none outline-none focus:outline-none focus-visible:outline-none focus:border-transparent"}`),E.readOnly=!u(),Tt(E,l(i))}),Ke("focus",E,w),Ke("blur",E,k),te(N,_)};De(V,N=>{a()&&N(D)})}return te(e,x),cg(t,"startEditing",g),ke(M)}vt(["pointerdown","click","input","keydown"]);var Zw=de('<span aria-hidden="true"></span>'),Qw=de('<span aria-hidden="true"></span>');function Ya(e,t){Ne(t,!1);const n=Oe(),r=Oe(),i=Oe(),o=Oe(),s=Oe(),a=Oe(),u=Oe(),d=Oe(),c=Oe(),h=Oe(),f=Oe(),g=Oe(),p=Oe(),b=Oe();let y=ee(t,"id",8),k=ee(t,"type",8,"target"),w=ee(t,"side",8,"left"),S=ee(t,"top",8,"0px"),m=ee(t,"width",8,12),A=ee(t,"label",8,""),T=ee(t,"showTooltip",8,!1),M=ee(t,"color",8,void 0),x=ee(t,"connectionMultiplicity",8,"single");function V(I){return Number.isFinite(I)?`${I}px`:typeof I=="string"?I:"0px"}function D(I){return Number.isFinite(I)?`${Number(I)}px`:typeof I=="string"?I:"12px"}function N(I){return`calc(${I} * 2)`}function _(I){return I==="map"?"map":I==="multiple"?"multiple":"single"}function E(I,C){return I==="map"||I==="multiple"?"rounded-none":C==="right"?"rounded-l-full":"rounded-r-full"}function v(I,C){if(I==="map")return C==="left"?"polygon(0 0, 100% 50%, 0 100%)":"polygon(100% 0, 0 50%, 100% 100%)"}Ae(()=>Be(w()),()=>{j(n,w()==="right"?"right":"left")}),Ae(()=>(l(n),Ce),()=>{j(r,l(n)==="right"?Ce.Right:Ce.Left)}),Ae(()=>Be(k()),()=>{j(i,k()==="source"?"source":"target")}),Ae(()=>Be(S()),()=>{j(o,V(S()))}),Ae(()=>Be(m()),()=>{j(s,D(m()))}),Ae(()=>l(s),()=>{j(a,N(l(s)))}),Ae(()=>Be(A()),()=>{j(u,typeof A()=="string"?A():"")}),Ae(()=>(Be(M()),us),()=>{j(d,Db(M())??us())}),Ae(()=>Be(x()),()=>{j(c,_(x()))}),Ae(()=>l(n),()=>{j(h,l(n)==="right"?"right-0":"left-0")}),Ae(()=>(l(c),l(n)),()=>{j(f,E(l(c),l(n)))}),Ae(()=>(l(c),l(n)),()=>{j(g,v(l(c),l(n)))}),Ae(()=>l(n),()=>{j(p,l(n)==="right"?"right":"left")}),Ae(()=>(l(u),l(n)),()=>{j(b,l(u)?`${l(n)==="right"?"Output":"Input"} pin ${l(u)}`:void 0)}),Ni(),tr(),to(e,{get type(){return l(i)},get position(){return l(r)},get id(){return y()},get style(){return`top: ${l(o)??""}; height: ${l(a)??""};`},class:"w-px! min-w-0! min-h-0! bg-transparent! border-none! overflow-visible! [transform:translate(0,-50%)]",children:(I,C)=>{var P=$e(),F=Pe(P);{var H=G=>{gf(G,{get text(){return l(u)},get placement(){return l(p)},wrapperClass:"block",get style(){return`width: ${l(s)??""}; height: ${l(a)??""};`},get groupAriaLabel(){return l(b)},children:(U,Q)=>{var z=Zw();ye(()=>{Ot(z,1,`absolute top-1/2 -translate-y-1/2 ${l(h)??""} ${l(f)??""}`),Ze(z,`width: ${l(s)??""}; height: ${l(a)??""}; background-color: ${l(d)??""}; clip-path: ${(l(g)||"none")??""};`)}),te(U,z)},$$slots:{default:!0}})},W=G=>{var U=Qw();ye(()=>{Ot(U,1,`absolute top-1/2 -translate-y-1/2 ${l(h)??""} ${l(f)??""}`),Ze(U,`width: ${l(s)??""}; height: ${l(a)??""}; background-color: ${l(d)??""}; clip-path: ${(l(g)||"none")??""};`)}),te(G,U)};De(F,G=>{T()&&l(u)?G(H):G(W,!1)})}te(I,P)},$$slots:{default:!0}}),ke()}var Jw=de('<input class="w-full p-2 font-bold border rounded-t-lg border-vsc-input-border" type="text"/>'),$w=de('<span class="mr-1 text-vsc-muted"> </span>'),ex=de('<div class="flex items-center flex-1 gap-1 p-2 cursor-grab active:cursor-grabbing" role="group" aria-label="Node title bar"><button class="min-w-0 font-bold text-left border border-transparent rounded-md select-none text-vsc-input-fg cursor-grab active:cursor-grabbing" type="button"><!> <span> </span></button> <button class="inline-flex items-center justify-center rounded-md nodrag size-4 hover:backdrop-brightness-90" type="button" title="Edit node title" aria-label="Edit node title"><!></button> <button class="inline-flex items-center justify-center ml-auto rounded-md nodrag size-4 hover:backdrop-brightness-90" type="button" title="Edit node comment" aria-label="Edit node comment"><!></button></div>'),tx=de('<!> <div class="pointer-events-none absolute pr-1 -translate-y-1/2 text-right text-[11px] text-vsc-muted whitespace-nowrap"> </div>',1),nx=de('<div class="relative pt-0 border border-vsc-editor-widget-border rounded-lg shadow-lg bg-vsc-editor-widget-bg text-vsc-editor-fg transition-[border-color,box-shadow]" data-node-editor-root=""><div aria-hidden="true" class="absolute inset-x-0 top-0 z-10 h-1 rounded-t-lg pointer-events-none"></div> <div class="flex flex-col gap-1"><div class="flex items-center gap-1 rounded-t-lg bg-vsc-input-bg text-vsc-input-fg"><!></div> <!></div> <div class="relative py-2"><!> <div class="flex flex-col gap-2"></div> <!></div></div>');function rx(e,t){Ne(t,!0);let n=ee(t,"selected",3,!1),r=ee(t,"dragging",3,!1),i=L(()=>t.data.nodeColor),o=L(()=>t.data.outputPins),s=L(()=>t.data.inputPins),a=L(()=>t.data.fieldsBySchemaKey),u=L(()=>t.data.titleOverride),d=L(()=>t.data.defaultTitle),c=L(()=>t.data.inputConnectionIndex);const{updateNodeData:h,updateNode:f,getNodes:g,getEdges:p,updateEdge:b}=Gr(),y=16,k=32,w=220,S=32,m=10,A=288,T=80;let M=L(()=>Object.keys(t.data.fieldsBySchemaKey).length>0),x=L(()=>ve(l(o))),V=L(()=>(l(M)?A:T)+l(x)),D=L(()=>m+8),N=L(()=>l(x)+8),_=L(()=>Math.max(l(s).length,l(o).length)),E=L(()=>ae(l(_)-1,l(_))+S),v=L(()=>l(i)??us()),I=L(()=>l(u)??l(d)),C=L(()=>l(c)!==void 0?`[${l(c)}]`:void 0),P=L(()=>`comment-${t.id??"node"}`),F=L(()=>{var ue;return typeof((ue=t.data)==null?void 0:ue.comment)=="string"?t.data.comment:""});qe(()=>{l(H)||j(W,l(I),!0)});let H=we(!1),W=we(""),G=we(void 0),U=we(!1),Q;function z(ue){h(t.id,{titleOverride:ue}),be("custom-label-updated")}function O(ue){if(ue!=null&&ue.shiftKey)return;const Se=!!(ue!=null&&ue.metaKey||ue!=null&&ue.ctrlKey),je=g();for(const Je of je){const ft=Je.id===t.id?!0:Se?!!Je.selected:!1;Je.selected!==ft&&f(Je.id,{selected:ft})}if(Se)return;const nt=p();for(const Je of nt)Je.selected&&b(Je.id,{selected:!1})}async function B(){var ue,Se;j(H,!0),j(W,l(I),!0),await ct(),(ue=l(G))==null||ue.focus(),(Se=l(G))==null||Se.select()}function X(ue=!1){var Se;l(H)&&(z(l(W)),j(H,!1),ue&&(Ur(l(G))||(Se=l(G))==null||Se.blur()))}function Y(){l(H)&&(j(H,!1),j(W,l(I),!0))}function J(ue){var Se;if(qr(ue)){ue.preventDefault(),X(!0);return}ue.key==="Escape"&&(ue.preventDefault(),Y(),(Se=l(G))==null||Se.blur())}function re(){X(!1)}function q(ue){(ue.key==="Enter"||ue.key===" ")&&(ue.preventDefault(),B())}function le(){Q==null||Q.startEditing(!1)}function ge(ue){var Se;O((Se=ue.detail)==null?void 0:Se.originalEvent)}function pe(ue){h(t.id,{comment:ue??""}),be("custom-comment-updated")}function oe(ue,Se){h(t.id,{fieldsBySchemaKey:{...l(a),[ue]:{...l(a)[ue],value:Se}}}),be("custom-field-updated")}function be(ue){typeof window>"u"||typeof window.dispatchEvent!="function"||window.dispatchEvent(new CustomEvent(zb,{detail:{nodeId:t.id,reason:ue}}))}function xe(ue){return typeof(ue==null?void 0:ue.label)=="string"?ue.label:typeof(ue==null?void 0:ue.id)=="string"?ue.id:""}function _e(ue){return(ue==null?void 0:ue.isMap)===!0?"map":(ue==null?void 0:ue.multiple)===!0?"multiple":"single"}function ne(ue,Se){return`${ae(ue,Se)}px`}function ae(ue,Se){const je=Number(Se)||1,nt=Number(ue)||0,Je=Math.max(0,w-y),ft=je<=1?0:Math.min(k,Je/(je-1));return y+nt*ft}function ve(ue){return!Array.isArray(ue)||ue.length===0?0:ue.reduce((nt,Je)=>Math.max(nt,xe(Je).length),0)*7+m+4}var Ie=nx(),Fe=se(Ie),Te=he(Fe,2),He=se(Te),Xe=se(He);{var dt=ue=>{var Se=Jw();Se.__input=je=>j(W,je.currentTarget.value,!0),Se.__keydown=J,lt(Se,je=>j(G,je),()=>l(G)),ye(()=>Tt(Se,l(W))),Ke("blur",Se,re),te(ue,Se)},tt=ue=>{var Se=ex();Se.__pointerdown=O;var je=se(Se);je.__dblclick=B,je.__keydown=q;var nt=se(je);{var Je=an=>{var wt=$w(),Ti=se(wt);ye(()=>We(Ti,l(C))),te(an,wt)};De(nt,an=>{l(C)!==void 0&&an(Je)})}var ft=he(nt,2),Pt=se(ft),At=he(je,2);At.__click=B;var nr=se(At);El(nr,{strokeWidth:2.5,"aria-hidden":"true",class:""});var Z=he(At,2);Z.__click=le;var It=se(Z);ff(It,{strokeWidth:2.25,"aria-hidden":"true"}),ye(()=>{We(Pt,l(I)),me(Z,"aria-expanded",l(U)),me(Z,"aria-controls",l(P))}),te(ue,Se)};De(Xe,ue=>{l(H)?ue(dt):ue(tt,!1)})}var st=he(He,2);lt(bf(st,{get id(){return l(P)},get value(){return l(F)},get isVisible(){return l(U)},set isVisible(ue){j(U,ue,!0)},$$events:{change:ue=>pe(ue.detail.value),select:ge}}),ue=>Q=ue,()=>Q);var bn=he(Te,2),_n=se(bn);rt(_n,17,()=>l(s),Kt,(ue,Se,je)=>{const nt=L(()=>ne(je,l(s).length)),Je=L(()=>xe(l(Se)));{let ft=L(()=>Dr+(je>0?`-${je}`:"")),Pt=L(()=>l(s).length>1);Ya(ue,{type:"target",side:"left",get id(){return l(ft)},get top(){return l(nt)},width:m,get label(){return l(Je)},get showTooltip(){return l(Pt)},get color(){return l(Se).color}})}});var wn=he(_n,2);rt(wn,21,()=>Object.entries(l(a)),([ue,Se])=>ue,(ue,Se)=>{var je=L(()=>mr(l(Se),2));let nt=()=>l(je)[1];yf(ue,Wt(nt,{onchange:Je=>oe(nt().schemaKey,Je)}))});var Vn=he(wn,2);rt(Vn,19,()=>l(o),ue=>ue.schemaKey,(ue,Se,je)=>{const nt=L(()=>ne(l(je),l(o).length)),Je=L(()=>_e(l(Se)));var ft=tx(),Pt=Pe(ft);Ya(Pt,{type:"source",side:"right",get id(){return l(Se).schemaKey},get top(){return l(nt)},width:m,get color(){return l(Se).color},get connectionMultiplicity(){return l(Je)}});var At=he(Pt,2),nr=se(At);ye(Z=>{Ze(At,`top: ${l(nt)??""}; right: 10px;`),We(nr,Z)},[()=>xe(l(Se))]),te(ue,ft)}),ye(()=>{Ze(Ie,`min-width: ${l(V)??""}px; outline: ${n()&&!r()?"2px solid var(--vscode-focusBorder)":"none"};`),Ze(Fe,`background-color: ${l(v)??""};`),Ze(bn,`padding-left: ${l(D)??""}px; padding-right: ${l(N)??""}px; min-height: ${l(E)??""}px;`)}),te(e,Ie),ke()}vt(["input","keydown","pointerdown","dblclick","click"]);var ix=de('<input class="inline-block max-w-full px-0 py-0 font-semibold leading-none text-left transition-transform duration-100 ease-out origin-bottom-left bg-transparent border-0 rounded outline-none appearance-none nodrag whitespace-nowrap text-vsc-editor-fg ring-0 placeholder:text-vsc-muted focus:outline-none focus:ring-0" type="text" aria-label="Edit group title"/>'),ox=de('<button class="inline-block px-0 py-0 font-semibold leading-none text-left transition-transform duration-100 ease-out origin-bottom-left rounded cursor-default whitespace-nowrap text-vsc-editor-fg" type="button"> </button> <button data-group-edit-action="true" type="button" title="Edit group name" aria-label="Edit group name"><!></button>',1),sx=de('<div><div class="absolute inset-x-0 top-0 flex items-end h-8 gap-1 px-2 pb-1 overflow-visible rounded-t-lg cursor-default group-title-drag-handle nopan bg-vsc-input-bg/60" role="presentation"><div class="flex items-end min-w-0 gap-1 overflow-visible"><!></div></div> <div class="absolute inset-x-0 h-px pointer-events-none top-8 bg-vsc-editor-widget-border/80"></div> <!></div>');function ax(e,t){Ne(t,!0);const n="Group",r=180,i=120,o=18,s=5.5,a=3,u=-1e4;let d=ee(t,"data",19,()=>({})),c=ee(t,"selected",3,!1),h=ee(t,"dragging",3,!1),f=ee(t,"positionAbsoluteX",3,0),g=ee(t,"positionAbsoluteY",3,0),p=ee(t,"width",3,r),b=ee(t,"height",3,i);const y=sf(),{updateNodeData:k,updateNode:w}=Gr();let S=we(!1),m=we(""),A=we(void 0),T=we(void 0),M=we(void 0),x=we(void 0),V=L(()=>{var ne;return O((ne=d())==null?void 0:ne.name)}),D=L(()=>{var ne;return B((ne=y.current)==null?void 0:ne.zoom)}),N=L(()=>X(l(D))),_=L(()=>l(N)<=1.001),E=L(()=>l(_)&&!l(S));qe(()=>{l(S)||j(m,l(V),!0)}),qe(()=>{const ne=!!c(),ae=J(p(),b());l(T)===ne&&l(M)===ae||(j(T,ne,!0),j(M,ae,!0),w(t.id,{draggable:ne,dragHandle:void 0,zIndex:ae}))});async function v(){var ne,ae;j(S,!0),j(m,l(V),!0),await ct(),(ne=l(A))==null||ne.focus(),(ae=l(A))==null||ae.select()}function I(){l(S)&&(H(l(m)),j(S,!1))}function C(){l(S)&&(j(S,!1),j(m,l(V),!0))}function P(ne){var ae,ve;if(ne.key==="Enter"){ne.preventDefault(),I(),(ae=l(A))==null||ae.blur();return}ne.key==="Escape"&&(ne.preventDefault(),C(),(ve=l(A))==null||ve.blur())}function F(ne){(ne.key==="Enter"||ne.key===" ")&&(ne.preventDefault(),v())}function H(ne){k(t.id,{name:O(ne)})}function W(){}function G(ne){var ve,Ie;if(c()||l(S)||ne.button!==0)return;const ae=ne==null?void 0:ne.target;typeof(ae==null?void 0:ae.closest)=="function"&&ae.closest("[data-group-edit-action='true']")||(j(x,{pointerId:ne.pointerId,startClientX:Number(ne.clientX)||0,startClientY:Number(ne.clientY)||0,startNodeX:Y(f()),startNodeY:Y(g()),moved:!1},!0),(Ie=(ve=ne.currentTarget)==null?void 0:ve.setPointerCapture)==null||Ie.call(ve,ne.pointerId))}function U(ne){var Xe;const ae=l(x);if(!ae||ne.pointerId!==ae.pointerId)return;const ve=(Number(ne.clientX)||0)-ae.startClientX,Ie=(Number(ne.clientY)||0)-ae.startClientY,Fe=Math.hypot(ve,Ie);if(!(ae.moved||Fe>=a))return;ae.moved||j(x,{...ae,moved:!0},!0);const He=B((Xe=y.current)==null?void 0:Xe.zoom);w(t.id,{position:{x:ae.startNodeX+ve/He,y:ae.startNodeY+Ie/He}}),ne.preventDefault()}function Q(ne){const ae=l(x);!ae||ne.pointerId!==ae.pointerId||(ae.moved&&(w(t.id,{selected:!0}),ne.preventDefault()),j(x,void 0))}function z(ne){const ae=l(x);!ae||ne.pointerId!==ae.pointerId||j(x,void 0)}function O(ne){return typeof ne=="string"?ne:n}function B(ne){return Number(ne)||1}function X(ne){if(!Number.isFinite(ne)||ne>=1)return 1;const ae=1/ne;return Math.min(s,Math.max(1,ae))}function Y(ne){return Number(ne)||0}function J(ne,ae){const ve=re(ne,r),Ie=re(ae,i),Fe=ve*Ie;return u-Math.round(Fe)}function re(ne,ae){const ve=Number(ne);return Number.isFinite(ve)?ve:ae}var q=sx();let le;var ge=se(q);ge.__pointerdown=G,ge.__pointermove=U,ge.__pointerup=Q;var pe=se(ge),oe=se(pe);{var be=ne=>{var ae=ix();ae.__input=Ie=>j(m,Ie.currentTarget.value,!0),ae.__keydown=P;let ve;lt(ae,Ie=>j(A,Ie),()=>l(A)),ye(Ie=>{Tt(ae,l(m)),me(ae,"size",Ie),ve=Ze(ae,"",ve,{"font-size":`${o}px`,transform:`scale(${l(N)})`})},[()=>Math.max(1,l(m).length||l(V).length)]),Ke("blur",ae,I),te(ne,ae)},xe=ne=>{var ae=ox(),ve=Pe(ae);ve.__dblclick=v,ve.__keydown=F;let Ie;var Fe=se(ve),Te=he(ve,2);let He;Te.__click=v;var Xe=se(Te);El(Xe,{size:12,strokeWidth:2.25,"aria-hidden":"true"}),ye(()=>{me(ve,"aria-label",`Group title: ${l(V)}. Double click to rename`),Ie=Ze(ve,"",Ie,{"font-size":`${o}px`,transform:`scale(${l(N)})`}),We(Fe,l(V)),He=Ot(Te,1,"nodrag inline-flex cursor-default items-center justify-center rounded p-0.5 text-vsc-muted transition-[opacity,transform,color] duration-200 ease-out hover:text-vsc-editor-fg",null,He,{"opacity-100":l(E),"translate-y-0":l(E),"opacity-0":!l(E),"translate-y-0.5":!l(E),"pointer-events-none":!l(E)}),me(Te,"tabindex",l(E)?0:-1)}),te(ne,ae)};De(oe,ne=>{l(S)?ne(be):ne(xe,!1)})}var _e=he(ge,4);mf(_e,{get isVisible(){return c()},minWidth:r,minHeight:i,onResizeEnd:W}),ye(()=>{le=Ot(q,1,"relative h-full w-full cursor-grab overflow-visible rounded-lg border border-dashed border-vsc-editor-widget-border bg-vsc-editor-widget-bg/40 transition-[border-color,box-shadow]",null,le,{"cursor-grabbing":h()}),Ze(q,`outline: ${c()&&!h()?"2px solid var(--vscode-focusBorder)":"none"};`)}),Ke("pointercancel",ge,z),te(e,q),ke()}vt(["pointerdown","pointermove","pointerup","input","keydown","dblclick","click"]);var lx=de("<div>not implemented</div>");function ux(e,t){Ne(t,!0),ee(t,"selected",3,!1),ee(t,"dragging",3,!1),Gr();var n=lx();te(e,n),ke()}var cx=de('<input class="w-full p-2 font-bold border rounded-t-lg border-vsc-input-border" type="text"/>'),dx=de('<span class="mr-1 text-vsc-muted"> </span>'),fx=de('<div class="flex items-center flex-1 gap-1 p-2 cursor-grab active:cursor-grabbing" role="group" aria-label="Node title bar"><button class="min-w-0 font-bold text-left border border-transparent rounded-md select-none text-vsc-input-fg cursor-grab active:cursor-grabbing" type="button"><!> <span> </span></button> <button class="inline-flex items-center justify-center rounded-md nodrag size-4 hover:backdrop-brightness-90" type="button" title="Edit node title" aria-label="Edit node title"><!></button> <button class="inline-flex items-center justify-center ml-auto rounded-md nodrag size-4 hover:backdrop-brightness-90" type="button" title="Edit node comment" aria-label="Edit node comment"><!></button></div>'),hx=de('<div class="relative border border-vsc-editor-widget-border rounded-lg shadow-lg bg-vsc-editor-widget-bg text-vsc-editor-fg transition-[border-color,box-shadow]" data-node-editor-root=""><div aria-hidden="true" class="absolute inset-x-0 top-0 z-10 h-1 rounded-t-lg pointer-events-none"></div> <div class="flex flex-col gap-1"><div class="flex items-center gap-1 rounded-t-lg bg-vsc-input-bg text-vsc-input-fg"><!></div> <!></div> <div class="px-4.5 py-2"><!> <!></div></div>');function gx(e,t){Ne(t,!0);const n={schemaKey:"Data",label:"Data",type:"text"},r="var(--vscode-focusBorder)",i=10,o="50%";let s=ee(t,"selected",3,!1),a=ee(t,"dragging",3,!1);const{updateNodeData:u,updateNode:d,getNodes:c,getEdges:h,updateEdge:f}=Gr(),g="nodeTitle",p="inputIndex",b=L(()=>t.data.titleOverride??Kb),y=L(()=>{var oe;return Q((oe=t.data)==null?void 0:oe[p])}),k=L(()=>l(y)!==void 0?`[${l(y)}]`:void 0),w=L(()=>`comment-${t.id??"node"}`),S=L(()=>{var oe;return typeof((oe=t.data)==null?void 0:oe.comment)=="string"?t.data.comment:""}),m=L(()=>{var oe;return typeof((oe=t.data)==null?void 0:oe.data)=="string"?t.data.data:cs});qe(()=>{A||(T=l(b))});let A=!1,T="",M,x,V=!1;function D(oe){u(t.id,{[g]:oe}),U("raw-json-label-updated")}function N(oe){u(t.id,{data:typeof oe=="string"?oe:String(oe??cs)}),U("raw-json-field-updated")}function _(oe){if(oe!=null&&oe.shiftKey)return;const be=!!(oe!=null&&oe.metaKey||oe!=null&&oe.ctrlKey),xe=c();for(const ne of xe){const ae=ne.id===t.id?!0:be?!!ne.selected:!1;ne.selected!==ae&&d(ne.id,{selected:ae})}if(be)return;const _e=h();for(const ne of _e)ne.selected&&f(ne.id,{selected:!1})}async function E(){A=!0,T=l(b),await ct(),M==null||M.focus(),M==null||M.select()}function v(oe=!1){A&&(D(T),A=!1,oe&&(Ur(M)||M==null||M.blur()))}function I(){A&&(A=!1,T=l(b))}function C(oe){if(qr(oe)){oe.preventDefault(),v(!0);return}oe.key==="Escape"&&(oe.preventDefault(),I(),M==null||M.blur())}function P(){v(!1)}function F(oe){(oe.key==="Enter"||oe.key===" ")&&(oe.preventDefault(),E())}function H(){x==null||x.startEditing(!1)}function W(oe){var be;_((be=oe.detail)==null?void 0:be.originalEvent)}function G(oe){u(t.id,{comment:typeof oe=="string"?oe:String(oe??"")}),U("raw-json-comment-updated")}function U(oe){typeof window>"u"||typeof window.dispatchEvent!="function"||window.dispatchEvent(new CustomEvent(Lb,{detail:{nodeId:t.id,reason:oe}}))}function Q(oe){if(oe!=null)return Number(oe)}var z=hx(),O=se(z);Ze(O,"background-color: var(--vscode-focusBorder);");var B=he(O,2),X=se(B),Y=se(X);{var J=oe=>{var be=cx();be.__input=xe=>T=xe.currentTarget.value,be.__keydown=C,lt(be,xe=>M=xe,()=>M),ye(()=>Tt(be,T)),Ke("blur",be,P),te(oe,be)},re=oe=>{var be=fx();be.__pointerdown=_;var xe=se(be);xe.__dblclick=E,xe.__keydown=F;var _e=se(xe);{var ne=Xe=>{var dt=dx(),tt=se(dt);ye(()=>We(tt,l(k))),te(Xe,dt)};De(_e,Xe=>{l(k)!==void 0&&Xe(ne)})}var ae=he(_e,2),ve=se(ae),Ie=he(xe,2);Ie.__click=E;var Fe=se(Ie);El(Fe,{strokeWidth:2.5,"aria-hidden":"true"});var Te=he(Ie,2);Te.__click=H;var He=se(Te);ff(He,{strokeWidth:2.25,"aria-hidden":"true"}),ye(()=>{We(ve,l(b)),me(Te,"aria-expanded",V),me(Te,"aria-controls",l(w))}),te(oe,be)};De(Y,oe=>{A?oe(J):oe(re,!1)})}var q=he(X,2);lt(bf(q,{get id(){return l(w)},get value(){return l(S)},get isVisible(){return V},set isVisible(oe){V=oe},$$events:{change:oe=>G(oe.detail.value),select:W}}),oe=>x=oe,()=>x);var le=he(B,2),ge=se(le);Ya(ge,{type:"target",side:"left",get id(){return Dr},top:o,width:i,label:"Input",showTooltip:!0,color:r});var pe=he(ge,2);yf(pe,Wt(()=>n,{get value(){return l(m)},onchange:N})),ye(()=>Ze(z,`min-width: 288px; outline: ${s()&&!a()?"2px solid var(--vscode-focusBorder)":"none"};`)),te(e,z),ke()}vt(["input","keydown","pointerdown","dblclick","click"]);var vx=de("<!> <!> <!>",1),px=de('<div class="relative w-full h-full overflow-hidden"><!> <!> <!></div>');function mx(e,t){Ne(t,!0);let n=ee(t,"nodes",31,()=>Jt([])),r=ee(t,"edges",31,()=>Jt([])),i=ee(t,"loadVersion",3,0),o=ee(t,"quickActionRequest",3,void 0),s=ee(t,"revealNodeId",3,void 0),a=ee(t,"revealNodeRequestVersion",3,0);const u="Node-00000000-0000-0000-0000-000000000000",d=6500,c=0,h=100,f=.9,g=-1e4,p=180,b=120,y={[Ka]:xw,[Va]:rx,[oa]:ax,[Ha]:ux,[Fa]:gx},{fitView:k,screenToFlowPosition:w,setCenter:S,setViewport:m}=Gr();let A=-1,T,M=we(!1),x=we(0),V=we(Jt({x:0,y:0})),D={x:0,y:0},N,_=!1,E=!1,v,I=!1,C=0,P,F,H=!1,W=0,G=[],U=-1,Q,z=-1;qe(()=>{i()!==A&&(A=i(),jt())}),qe(()=>{a()!==z&&(z=a(),i()>0&&je(s()))}),qe(()=>{var K,$;Number.isInteger((K=o())==null?void 0:K.token)&&o().token!==U&&(U=o().token,Qr()||J(($=o())==null?void 0:$.actionId))}),qe(()=>{!_&&i()>0&&ko()});function O(K){t.onflowchange(K,n(),r())}const B=K=>{r(Hi(K,Zr(r(),K))),jt(),O("edge-created")};function X(){O("node-moved")}function Y(K){const $=i_(K==null?void 0:K.type);$&&J($.id)}function J(K){const $=Nl(K);if($)switch($.id){case ot.GO_TO_ROOT:q();return;case ot.FIT_FULL_VIEW:re();return;case ot.SEARCH_NODES:le();return;case ot.AUTO_POSITION_NODES:ge();return;case ot.VIEW_RAW_JSON:pe();return;case ot.HELP_AND_HOTKEYS:oe();return;default:return}}function re(){k({padding:.2,minZoom:c,duration:250})}function q(){const K=ln(Et.state.rootNodeId),$=K.position.x+K.width,ce=K.position.y+K.height/2;S($,ce,{zoom:1.2,duration:250})}function le(){He()}function ge(){const K=_f(),$=n().map(it=>it.id),ce=mw({seedNodeIds:K,edges:r(),allowedNodeIds:$});if(ce.length===0){console.info("[node-editor] Quick action could not resolve nodes for auto-layout.");return}const fe=new Set(ce),Ee=new Map,Re=new Map;for(const it of ce){const xn=ln(it);if(!xn)continue;const Gt=Io(xn);Gt&&(Ee.set(it,xn),Re.set(it,Gt))}if(Ee.size===0||Re.size===0)return;const pt=pw(Array.from(Re.values())),mt=r().filter(it=>it.source&&it.target&&fe.has(it.source)&&fe.has(it.target)),Ks=Array.from(Ee.entries()).map(([it,xn])=>{const Gt=Sl(xn);return{id:it,width:Gt==null?void 0:Gt.width,height:Gt==null?void 0:Gt.height}}),Ai=yw({nodes:Ks,edges:mt,spacing:{marginX:0,marginY:0},origin:pt});let To=!1;n(n().map(it=>{const xn=it.id;if(!xn||!fe.has(xn))return it;const Gt=Ai.get(xn);if(!Gt)return it;const Bs=wf(it,Gt);if(!Bs)return it;const Al=Pi(it);return!Al||xf(Al,Bs)?(To=!0,{...it,position:Bs}):it})),To&&O("auto-layout-applied")}function pe(){t.onviewrawjson()}function oe(){if(H){st();return}tt()}function be(K){if(xe(K)){if(Qr(K==null?void 0:K.target))return;K.preventDefault(),K.stopPropagation(),_e();return}!H||(K==null?void 0:K.key)!=="Escape"||(K.preventDefault(),K.stopPropagation(),st())}function xe(K){var fe;return((fe=K==null?void 0:K.key)==null?void 0:fe.toLowerCase())!=="d"||!!!(K!=null&&K.metaKey||K!=null&&K.ctrlKey)?!1:(K==null?void 0:K.altKey)!==!0&&(K==null?void 0:K.shiftKey)!==!0}function _e(){const K=n().filter($=>$.selected);console.debug("workspace.context",Et.context),console.debug("workspace.state",Et.state);for(const $ of K)console.debug($)}function ne(K){!Nf(K)||Qr(K==null?void 0:K.target)||queueMicrotask(()=>O("elements-deleted"))}function ae(K){Qr(K==null?void 0:K.target)||(K.preventDefault(),K.stopPropagation())}function ve(K){Qr(K==null?void 0:K.target)||(jt(),O("nodes-cut"),K.preventDefault(),K.stopPropagation())}function Ie(K){Qr(K==null?void 0:K.target)||!No()||(O("nodes-pasted"),K.preventDefault(),K.stopPropagation())}function Fe(K){ft(K)}function Te(){j(M,!1),N=void 0,Ci()}function He(){Te(),st(),F=void 0,I=!0,C+=1}function Xe({restoreViewport:K=!1}={}){if(!I)return;const $=P;I=!1,P=void 0,F=void 0,K&&m($,{duration:250})}function dt(){Xe({restoreViewport:!0})}function tt(){Te(),Xe({restoreViewport:!1}),H=!0,W+=1}function st(){H&&(H=!1)}function bn(){st()}function _n(){st(),t.oncustomizekeybinds()}function wn(K){var ce;const $=(ce=K==null?void 0:K.detail)==null?void 0:ce.nodeId;!$||$===F||(F=$,ue($))}function Vn(K){var fe;const $=(fe=K==null?void 0:K.detail)==null?void 0:fe.nodeId;if(!$)return;F=$,ue($);const ce=Se($);Xe({restoreViewport:!1}),ce&&O("node-search-selected")}function ue(K){const $=ln(K),ce=Io($);if(!ce)return!1;const fe=Sl($),Ee=ce.x+((fe==null?void 0:fe.width)??0)/2,Re=ce.y+((fe==null?void 0:fe.height)??0)/2;return S(Ee,Re,{zoom:f,duration:h}),!0}function Se(K){if(!K)return!1;let $=!1;return n(n().map(ce=>{const Ee=ce.id===K;return!!ce.selected===Ee?ce:($=!0,{...ce,selected:Ee})})),r(r().map(ce=>ce.selected!==!0?ce:($=!0,{...ce,selected:!1}))),$}async function je(K){if(!K)return;if(await ct(),ue(K),Se(K)){O("document-selection-revealed");return}}function nt(K){return typeof(K==null?void 0:K.composedPath)!="function"?!1:K.composedPath().some($=>typeof($==null?void 0:$.getAttribute)!="function"?!1:$.getAttribute("data-add-node-menu")==="true")}function Je(K){return typeof(K==null?void 0:K.composedPath)!="function"?!1:K.composedPath().some($=>typeof($==null?void 0:$.getAttribute)!="function"?!1:$.getAttribute("data-node-search-menu")==="true")}function ft(K){if(!Pt(K))return;const{clientX:$,clientY:ce}=K;Q={x:$,y:ce}}function Pt(K){return T?typeof(K==null?void 0:K.composedPath)=="function"?K.composedPath().includes(T):!(K!=null&&K.target)||typeof T.contains!="function"?!1:T.contains(K.target):!1}function At(K){ft(K),l(M)&&!nt(K)&&Te(),I&&!Je(K)&&Xe({restoreViewport:!0})}function nr(K,$=void 0,ce=void 0){Xe({restoreViewport:!1}),st();const fe=Vs(K,$,ce);return fe?(j(V,fe.position,!0),D=fe.nodePosition,N=fe.connection,j(M,!0),j(x,l(x)+1),!0):!1}function Z(K){const $=K==null?void 0:K.event;$&&($.preventDefault(),nr($))}function It(K){var pt;const $=K==null?void 0:K.event,ce=K==null?void 0:K.node;if(!$||!ce)return;const fe=(ce==null?void 0:ce.type)===oa,Ee=(ce==null?void 0:ce.selected)===!0,Re=!!(typeof((pt=$==null?void 0:$.target)==null?void 0:pt.closest)=="function"&&$.target.closest(".group-title-drag-handle"));!fe||Ee||Re||($.preventDefault(),$.stopPropagation(),nr($))}const an=()=>{Te()};function wt(K,$){const ce=$==null?void 0:$.nodeId,fe=$==null?void 0:$.handleId,Ee=$==null?void 0:$.handleType;if(Ee&&Ee!=="source"){jt();return}Fs(ce,fe)}const Ti=(K,$)=>{nr(K,$.fromNode,$.fromHandle)||Ci()};function Ls(K){if(K.templateId===af){const fe={id:Xn("Group"),type:oa,data:{name:"Group"},position:{...D},width:sa,height:aa,selected:!1,draggable:!1,zIndex:Ef(sa,aa)};n([fe,...n()]),Te(),O("group-created");return}if(K.templateId===lf){const fe={id:Xn("Comment"),type:Ka,data:{name:"Comment",text:"",fontSize:Hb},position:{...D},width:Vb,height:Fb,selected:!1};n([fe,...n()]),Te(),O("comment-created");return}if(K.templateId===uf){const fe={id:Xn("Generic"),type:Fa,data:{data:cs},position:{...D},origin:[.5,0]};if(n([...n(),fe]),N){const Ee={...N,target:fe.id,targetHandle:Dr};r(Hi(Ee,Zr(r(),Ee))),jt()}Te(),O("raw-json-node-created");return}if(K.templateId===cf){const fe={id:Xn(""),type:Ha,data:{},position:{...D},origin:[.5,0]};if(n([...n(),fe]),N){const Ee={...N,target:fe.id,targetHandle:Dr};r(Hi(Ee,Zr(r(),Ee))),jt()}Te(),O("link-node-created");return}const $=Xn(K.templateId),ce={id:$,type:Va,data:{...K},position:{...D},origin:[.5,0]};if(n([...n(),ce]),N){const fe={...N,target:$,targetHandle:Dr};r(Hi(fe,Zr(r(),fe))),jt()}Te(),O("node-created")}function Vs(K,$,ce){var pt;const{clientX:fe,clientY:Ee}=K,Re=(pt=T==null?void 0:T.getBoundingClientRect)==null?void 0:pt.call(T);if(Re)return{position:{x:fe-Re.left,y:Ee-Re.top-60},nodePosition:w({x:fe,y:Ee}),connection:{source:$,sourceHandle:ce}}}function Zr(K,$){const ce=$==null?void 0:$.target;if(!ce)return K;const fe=$==null?void 0:$.targetHandle;return K.filter(Ee=>Ee.target!==ce?!0:fe?Ee.targetHandle!==fe:!1)}function Fs(K,$){var pt;if(jt(),!K)return;const ce=ln(K);let fe="single";if(ce.data.outputPins&&(fe=((pt=ce.data.outputPins.find(mt=>mt.schemaKey===$))==null?void 0:pt.type)??"single"),fe!=="single")return;const Ee=[],Re=[];for(const mt of r()){if(Oi(mt,K,$)){Re.push(mt);continue}Ee.push(mt)}Re.length!==0&&(r(Ee),v={sourceNodeId:K,sourceHandleId:$,removedEdges:Re})}function ln(K){if(K)return n().find($=>$.id===K)}function Oi(K,$,ce){return(K==null?void 0:K.source)!==$?!1:(K==null?void 0:K.sourceHandle)===ce}function Ci(){const K=(v==null?void 0:v.removedEdges)??[];if(K.length===0){v=void 0;return}const $=r(),ce=new Set($.map(Ee=>Ee.id).filter(Boolean)),fe=[];for(const Ee of K){const Re=Ee.id;Re&&ce.has(Re)||(Re&&ce.add(Re),fe.push(Ee))}r([...$,...fe]),v=void 0}function jt(){v=void 0}function No(){var $;if(Number.isFinite(Q==null?void 0:Q.x)&&Number.isFinite(Q==null?void 0:Q.y))return w({x:Q.x,y:Q.y});const K=($=T==null?void 0:T.getBoundingClientRect)==null?void 0:$.call(T);if(K)return w({x:K.left+K.width/2,y:K.top+K.height/2})}async function ko(){if(_||E)return;E=!0,await ct();const K=So(n(),Et.state.rootNodeId);K.length>0&&k({nodes:K,padding:.2,minZoom:c,duration:0}),_=!0,E=!1}function So(K,$){const ce=K;if(ce.length===0)return[];const fe=$??u,Ee=ce.find(mt=>mt.id===fe);if(!Ee)return[];const Re=Pi(Ee);if(!Re)return[];const pt=new Set([fe]);for(const mt of ce){const Ks=mt.id,Ai=Pi(mt);if(!Ai)continue;const To=Ai.x-Re.x,it=Ai.y-Re.y;Math.hypot(To,it)<=d&&pt.add(Ks)}return Array.from(pt,mt=>({id:mt}))}function Pi(K){var fe,Ee;const $=(fe=K==null?void 0:K.position)==null?void 0:fe.x,ce=(Ee=K==null?void 0:K.position)==null?void 0:Ee.y;if(!(!Number.isFinite($)||!Number.isFinite(ce)))return{x:$,y:ce}}function Sl(K){var fe,Ee;const $=Il(K==null?void 0:K.width,K==null?void 0:K.initialWidth,(fe=K==null?void 0:K.measured)==null?void 0:fe.width),ce=Il(K==null?void 0:K.height,K==null?void 0:K.initialHeight,(Ee=K==null?void 0:K.measured)==null?void 0:Ee.height);return $===void 0&&ce===void 0?void 0:{width:$??0,height:ce??0}}function Il(...K){for(const $ of K)if(Number.isFinite($))return $}function Io(K,$=new Set){const ce=Pi(K);if(!ce)return;const fe=K==null?void 0:K.id,Ee=K==null?void 0:K.parentId;if(!Ee||fe&&$.has(fe))return ce;const Re=ln(Ee);if(!Re)return ce;const pt=new Set($);fe&&pt.add(fe);const mt=Io(Re,pt);return mt?{x:mt.x+ce.x,y:mt.y+ce.y}:ce}function _f(){var ce;const K=n().filter(fe=>(fe==null?void 0:fe.selected)===!0).map(fe=>fe.id);if(K.length>0)return Array.from(new Set(K));const $=(ce=Et.state)==null?void 0:ce.rootNodeId;return $?[$]:[]}function wf(K,$){const ce=Pi({position:$});if(!ce)return;const fe=K==null?void 0:K.parentId;if(!fe)return ce;const Ee=ln(fe);if(!Ee)return ce;const Re=Io(Ee);return Re?{x:ce.x-Re.x,y:ce.y-Re.y}:ce}function xf(K,$){return Math.abs(K.x-$.x)>.001||Math.abs(K.y-$.y)>.001}function Ef(K,$){const ce=Tl(K,sa,p),fe=Tl($,aa,b),Ee=ce*fe;return g-Math.round(Ee)}function Tl(K,$,ce){const fe=Number(K);return Number.isFinite(fe)?Math.max(ce,fe):$}function Nf(K){const $=K==null?void 0:K.key;return $==="Delete"||$==="Backspace"}function Qr(K=void 0){var ce;if(Ol(K))return!0;const $=(ce=globalThis==null?void 0:globalThis.document)==null?void 0:ce.activeElement;return Ol($)}function Ol(K){if(!K||typeof K!="object")return!1;const $=typeof(K==null?void 0:K.tagName)=="string"?K.tagName.toLowerCase():void 0;if($==="input"||$==="textarea"||$==="select"||(K==null?void 0:K.isContentEditable)===!0)return!0;const ce=typeof(K==null?void 0:K.getAttribute)=="function"?K.getAttribute("role"):void 0,fe=typeof ce=="string"?ce.toLowerCase():void 0;if(fe==="textbox"||fe==="searchbox"||fe==="combobox"||fe==="spinbutton")return!0;if(typeof(K==null?void 0:K.closest)=="function"){const Ee=K.closest("input, textarea, select, [contenteditable], [role='textbox'], [role='searchbox'], [role='combobox'], [role='spinbutton']");if(Ee){const Re=typeof Ee.getAttribute=="function"?Ee.getAttribute("contenteditable"):void 0;if(typeof Re!="string"||Re.toLowerCase()!=="false")return!0}}return!1}var Hs=px();Ke("keydown",ut,be,!0),Ke("copy",ut,ae,!0),Ke("cut",ut,ve,!0),Ke("paste",ut,Ie,!0),Ke("pointermove",ut,Fe,!0),Ke("pointerdown",ut,At,!0),Ke("keyup",ut,ne);var Cl=se(Hs);{let K=L(()=>l(M)||I||H);wb(Cl,{get disableKeyboardA11y(){return l(K)},get selectionMode(){return Ji.Full},multiSelectionKey:"Shift",panActivationKey:"Shift",selectNodesOnDrag:!1,minZoom:c,get nodeTypes(){return y},onconnect:B,onconnectstart:wt,onconnectend:Ti,onnodedragstop:X,onnodecontextmenu:It,onpaneclick:an,onpanecontextmenu:Z,get nodes(){return n()},set nodes($){n($)},get edges(){return r()},set edges($){r($)},children:($,ce)=>{var fe=vx(),Ee=Pe(fe);Ob(Ee,{bgColor:"var(--vscode-editor-background)"});var Re=he(Ee,2);u_(Re,{$$events:{gotoroot:Y,fitfullview:Y,searchnodes:Y,autopositionnodes:Y,viewrawjson:Y,helphotkeys:Y}});var pt=he(Re,2);D_(pt,{get open(){return I},get openVersion(){return C},get groups(){return G},$$events:{close:dt,preview:wn,select:Vn}}),te($,fe)},$$slots:{default:!0}})}var Pl=he(Cl,2);jb(Pl,{get open(){return l(M)},get openVersion(){return l(x)},get position(){return l(V)},onclose:Te,onselect:Ls});var kf=he(Pl,2);S_(kf,{get open(){return H},get openVersion(){return W},$$events:{close:bn,customizekeybinds:_n}}),lt(Hs,K=>T=K,()=>T),te(e,Hs),ke()}function yx(e){var b,y,k;if(!Et.context)throw new Error("Workspace context was not set before parsing document text. This should not happen.");const{rootTemplateOrVariantId:t,variantKindsById:n,nodeTemplatesById:r}=Et.context,i=JSON.parse(e);if(!Wa(i))throw new Error("Document must be a JSON object.");const o=[],s=[],a=new Map,u=new Map,d=new Map,c=(w,S,m)=>{const A={id:`${w}:${S}-${m}`,source:w,sourceHandle:S,target:m,targetHandle:Dr};s.push(A),u.has(w)||u.set(w,new Map),u.get(w).has(S)||u.get(w).set(S,[]),u.get(w).get(S).push(A),d.has(m)||d.set(m,[]),d.get(m).push(A)},h=w=>{o.push(w),a.set(w.id,w)},f=(w,S)=>{let m,A=w,T=A.$NodeId,M=A.$Position??{$x:0,$y:0};const x=n[S];if(x){const D=w[x.VariantFieldName];D&&(m=x.Variants[D])}!m&&S&&(m=S),!m&&T&&(m=T.substring(0,T.indexOf("-")));const V=r[m];if(V){T||(T=Xn(m));const D={...V},N=new Set(Object.keys(A).filter(E=>!E.startsWith("$")));for(const E of V.outputPins){const v=E.schemaKey;switch(N.delete(v),E.type){case"single":if(A[v]!==void 0){let I=f(A[v],V.childTypes[v]);c(T,v,I)}break;case"multiple":if(Array.isArray(A[v]))for(const I of A[v]){let C=f(I,V.childTypes[v]);c(T,v,C)}break;case"map":if(typeof A[v]=="object")for(const[I,C]of Object.entries(A[v])){let P=f(C,V.childTypes[v]);c(T,v,P)}}}for(const E of Object.keys(D.fieldsBySchemaKey)){N.delete(E);const v=A[E];v&&(D.fieldsBySchemaKey[E].value=v)}D.unparsedMetadata={};for(const E of N){if(V.schemaConstants[E]){A[E]!=V.schemaConstants[E]&&console.warn(`Constant value for ${E} in asset doesn't match expected from template.`,A,V);continue}D.unparsedMetadata[E]=A[E]}const _={type:Va,id:T,position:{x:M.$x,y:M.$y},data:{...D,comment:A.$Comment}};h(_)}else{T||(T=Xn("Generic"));const D={};Object.entries(A).forEach(([_,E])=>{_.startsWith("$")||(D[_]=E)});const N={type:Fa,id:T,position:{x:M.$x,y:M.$y},data:{data:D?JSON.stringify(D,null,"/t"):cs,comment:A.$Comment}};h(N)}return T},g=f(i,t),p=i.$NodeEditorMetadata;if(p){for(const w of p.$FloatingNodes??[])f(w,null);for(const[w,S]of Object.entries(p.$Nodes??{})){const m=a.get(w);if(!m){console.warn(`Metadata info saved for node ${w} but node was not found.`);continue}m.position.x=S.$Position.$x,m.position.y=S.$Position.$y,m.data.titleOverride=S.$Title}for(const[w,S]of Object.entries(p.$Links??{})){const m={type:Ha,id:w,position:{x:S.$Position.$x,y:S.$Position.$y},data:{}};h(m);const A=S.sourceEndpoint,T=S.outputConnections;if(A&&T){const M=A.split(":")[0],x=A.split(":")[1],V=a.get(M);if(!V){console.warn(`Link source node ${M} not found.`);continue}const D=((y=(b=V.data.outputPins)==null?void 0:b.find(N=>N.localId===x))==null?void 0:y.schemaKey)??Lu;for(const N of T){const _=N.split(":")[0];for(const E of((k=u.get(M))==null?void 0:k.get(D))??[])E.target===_&&E.targetHandle===Dr&&(E.target=w),c(w,Lu,_)}}}for(const w of p.$Groups??[])h(Bu(w));for(const w of p.$Comments??[]){const S={type:Ka,id:Xn("Comment"),position:{x:w.$Position.$x,y:w.$Position.$y},width:w.$width,height:w.$height,data:{name:w.$name,text:w.$text,fontSize:w.$fontSize}};h(S)}}for(const w of i.$Groups??[])h(Bu(w));return{nodes:o,edges:s,rootNodeId:g}}function Bu(e){return{type:"group",id:Xn("Group"),position:{x:e.$Position.$x,y:e.$Position.$y},width:e.$width,height:e.$height,data:{name:e.$name}}}function bx(e,t,n){const r={$Nodes:{},$FloatingNodes:[],$Links:{},$Groups:[],$Comments:[]},i=n.reduce((d,c)=>(d.has(c.source)||d.set(c.source,new Map),d.get(c.source).has(c.sourceHandle)||d.get(c.source).set(c.sourceHandle,[]),d.get(c.source).get(c.sourceHandle).push(c.target),d),new Map),o=t.reduce((d,c)=>(d.set(c.id,c),d),new Map),s=t.reduce((d,c)=>d.add(c.id),new Set);function a(d){if(!s.has(d))throw new Error(`Circular reference detected for node ${d}. This should not happen.`);s.delete(d);const c=o.get(d);let h={};switch(c.type){case"datanode":h.$NodeId=c.id,h.$Comment=c.data.comment??void 0,c.data.outputPins.forEach(f=>{var p;const g=((p=i.get(c.id))==null?void 0:p.get(f.schemaKey))??[];if(g.length>0)switch(f.type){case"single":h[f.schemaKey]=a(g[0]);break;case"multiple":h[f.schemaKey]=g.map(b=>a(b));break;case"map":h[f.schemaKey]=g.reduce((b,y)=>{const w=o.get(y).data.titleOverride??y;return b[w]=a(y),b},{})}}),Object.values(c.data.fieldsBySchemaKey).forEach(f=>{h[f.schemaKey]=f.value}),h={...h,...c.data.unparsedMetadata,...c.data.schemaConstants},r.$Nodes[c.id]={$Position:{$x:c.position.x,$y:c.position.y},$Title:c.data.titleOverride??void 0};break;case"comment":r.$Comments.push({$Position:{$x:c.position.x,$y:c.position.y},$width:c.width,$height:c.height,$name:c.data.name,$text:c.data.text,$fontSize:c.data.fontSize}),h=void 0;break;case"rawjson":h={$NodeId:c.id,$Comment:c.data.comment,...JSON.parse(c.data.data)},r.$Nodes[c.id]={$Position:{$x:c.position.x,$y:c.position.y},$Title:c.data.titleOverride??void 0};break;case"link":h=void 0;break;case"group":r.$Groups.push({$Position:{$x:c.position.x,$y:c.position.y},$width:c.width,$height:c.height,$name:c.data.name}),h=void 0;break}return h}const u=a(e);for(;s.size>0;){const[d]=s,c=a(d);c&&r.$FloatingNodes.push(c)}return{...u,$NodeEditorMetadata:r}}var _x=de('<div class="mx-3 mt-3 text-sm text-vsc-error"> </div>'),wx=de('<main class="flex flex-col h-screen min-h-0"><!></main>');function xx(e,t){Ne(t,!0);let n="",r=L(()=>Et.state?Et.state.nodes:[]),i=L(()=>Et.state?Et.state.edges:[]),o=-1,s=0,a="",u,d=0,c,h=0;function f(M){const x=M.data;if(x)switch(x.type){case"bootstrap":g(x);return;case"revealSelection":return;case"update":p(x);return;case"error":a=typeof x.message=="string"?x.message:"unknown editor error.";return;case"triggerQuickAction":{const V=Nl(x==null?void 0:x.actionId),D=o_(x==null?void 0:x.commandId),N=V??D;if(!N)return;d+=1,u={token:d,actionId:N.id,commandId:N.commandId};return}default:return}}function g(M){Et.context=M.workspaceContext}function p(M){o=typeof M.version=="number"?M.version:o,n=typeof M.documentPath=="string"?M.documentPath:n;try{const x=yx(M.text);Et.state=x,s+=1,a=""}catch(x){a=x instanceof Error?x.message:"could not parse flow json."}}function b(M,x,V){w(x,V)}function y(){const M={type:"openRawJson"};t.vscode.postMessage(M)}function k(){const M={type:"openKeybindings",query:"Hytale Node Editor"};t.vscode.postMessage(M)}function w(M,x){const V=bx(Et.state.rootNodeId,M,x),D={type:"apply",text:JSON.stringify(V,null,"	"),sourceVersion:o};t.vscode.postMessage(D)}ol(()=>{typeof t.vscode.getState=="function"&&t.vscode.getState(),window.addEventListener("message",f);const M={type:"ready"};return t.vscode.postMessage(M),()=>{window.removeEventListener("message",f)}});var S=wx(),m=se(S);{var A=M=>{var x=_x(),V=se(x);ye(()=>We(V,a)),te(M,x)},T=M=>{xb(M,{children:(x,V)=>{mx(x,{get loadVersion(){return s},get quickActionRequest(){return u},revealNodeId:c,revealNodeRequestVersion:h,onflowchange:b,onviewrawjson:y,oncustomizekeybinds:k,get nodes(){return l(r)},set nodes(D){j(r,D)},get edges(){return l(i)},set edges(D){j(i,D)}})},$$slots:{default:!0}})};De(m,M=>{a?M(A):Et.state&&M(T,1)})}te(e,S),ke()}const Ex=globalThis.acquireVsCodeApi();Gh(xx,{target:document.getElementById("app"),props:{vscode:Ex}});
//# sourceMappingURL=main.js.map
