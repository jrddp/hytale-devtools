var mf=Object.defineProperty;var Xa=e=>{throw TypeError(e)};var _f=(e,t,n)=>t in e?mf(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n;var Xe=(e,t,n)=>_f(e,typeof t!="symbol"?t+"":t,n),fs=(e,t,n)=>t.has(e)||Xa("Cannot "+n);var p=(e,t,n)=>(fs(e,t,"read from private field"),n?n.call(e):t.get(e)),W=(e,t,n)=>t.has(e)?Xa("Cannot add the same private member more than once"):t instanceof WeakSet?t.add(e):t.set(e,n),ke=(e,t,n,r)=>(fs(e,t,"write to private field"),r?r.call(e,n):t.set(e,n),n),st=(e,t,n)=>(fs(e,t,"access private method"),n);(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))r(i);new MutationObserver(i=>{for(const o of i)if(o.type==="childList")for(const s of o.addedNodes)s.tagName==="LINK"&&s.rel==="modulepreload"&&r(s)}).observe(document,{childList:!0,subtree:!0});function n(i){const o={};return i.integrity&&(o.integrity=i.integrity),i.referrerPolicy&&(o.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?o.credentials="include":i.crossOrigin==="anonymous"?o.credentials="omit":o.credentials="same-origin",o}function r(i){if(i.ep)return;i.ep=!0;const o=n(i);fetch(i.href,o)}})();const ks=!1;var Wi=Array.isArray,bf=Array.prototype.indexOf,Qr=Array.prototype.includes,Go=Array.from,xf=Object.defineProperty,tr=Object.getOwnPropertyDescriptor,eu=Object.getOwnPropertyDescriptors,tu=Object.prototype,wf=Array.prototype,qo=Object.getPrototypeOf,Wa=Object.isExtensible;function mi(e){return typeof e=="function"}const Mr=()=>{};function Ef(e){return e()}function As(e){for(var t=0;t<e.length;t++)e[t]()}function nu(){var e,t,n=new Promise((r,i)=>{e=r,t=i});return{promise:n,resolve:e,reject:t}}function yt(e,t,n=!1){return e===void 0?n?t():t:e}function ui(e,t){if(Array.isArray(e))return e;if(t===void 0||!(Symbol.iterator in e))return Array.from(e);const n=[];for(const r of e)if(n.push(r),n.length===t)break;return n}const ut=2,ki=4,Gi=8,ua=1<<24,Kn=16,$t=32,ar=64,ru=128,zt=512,et=1024,ct=2048,Rt=4096,Ct=8192,zn=16384,qi=32768,Rn=65536,Ga=1<<17,iu=1<<18,Pr=1<<19,ou=1<<20,On=1<<25,Er=65536,Cs=1<<21,ca=1<<22,nr=1<<23,ln=Symbol("$state"),su=Symbol("legacy props"),Nf=Symbol(""),ur=new class extends Error{constructor(){super(...arguments);Xe(this,"name","StaleReactionError");Xe(this,"message","The reaction that called `getAbortSignal()` was re-run or destroyed")}};var jl;const fa=((jl=globalThis.document)==null?void 0:jl.contentType.includes("xml"))??!1;function Uo(e){throw new Error("https://svelte.dev/e/lifecycle_outside_component")}function If(){throw new Error("https://svelte.dev/e/async_derived_orphan")}function Sf(e,t,n){throw new Error("https://svelte.dev/e/each_key_duplicate")}function Tf(e){throw new Error("https://svelte.dev/e/effect_in_teardown")}function kf(){throw new Error("https://svelte.dev/e/effect_in_unowned_derived")}function Af(e){throw new Error("https://svelte.dev/e/effect_orphan")}function Cf(){throw new Error("https://svelte.dev/e/effect_update_depth_exceeded")}function Mf(e){throw new Error("https://svelte.dev/e/props_invalid_value")}function Pf(){throw new Error("https://svelte.dev/e/state_descriptors_fixed")}function Of(){throw new Error("https://svelte.dev/e/state_prototype_fixed")}function Df(){throw new Error("https://svelte.dev/e/state_unsafe_mutation")}function Lf(){throw new Error("https://svelte.dev/e/svelte_boundary_reset_onerror")}const zf=1,Ff=2,au=4,Rf=8,Vf=16,Bf=1,Hf=2,lu=4,Kf=8,Yf=16,uu=1,Xf=2,nt=Symbol(),cu="http://www.w3.org/1999/xhtml",Wf="http://www.w3.org/2000/svg",Gf="@attach";function qf(){console.warn("https://svelte.dev/e/select_multiple_invalid_value")}function Uf(){console.warn("https://svelte.dev/e/svelte_boundary_reset_noop")}function fu(e){return e===this.v}function du(e,t){return e!=e?t==t:e!==t||e!==null&&typeof e=="object"||typeof e=="function"}function hu(e){return!du(e,this.v)}let ci=!1,Zf=!1;function jf(){ci=!0}const Jf=[];function gu(e,t=!1,n=!1){return mo(e,new Map,"",Jf,null,n)}function mo(e,t,n,r,i=null,o=!1){if(typeof e=="object"&&e!==null){var s=t.get(e);if(s!==void 0)return s;if(e instanceof Map)return new Map(e);if(e instanceof Set)return new Set(e);if(Wi(e)){var a=Array(e.length);t.set(e,a),i!==null&&t.set(i,a);for(var u=0;u<e.length;u+=1){var c=e[u];u in e&&(a[u]=mo(c,t,n,r,null,o))}return a}if(qo(e)===tu){a={},t.set(e,a),i!==null&&t.set(i,a);for(var f in e)a[f]=mo(e[f],t,n,r,null,o);return a}if(e instanceof Date)return structuredClone(e);if(typeof e.toJSON=="function"&&!o)return mo(e.toJSON(),t,n,r,e)}if(e instanceof EventTarget)return e;try{return structuredClone(e)}catch{return e}}let Be=null;function $r(e){Be=e}function da(e){return ga().get(e)}function ha(e,t){return ga().set(e,t),t}function Qf(e){return ga().has(e)}function Ie(e,t=!1,n){Be={p:Be,i:!1,c:null,e:null,s:e,x:null,l:ci&&!t?{s:null,u:null,$:[]}:null}}function Se(e){var t=Be,n=t.e;if(n!==null){t.e=null;for(var r of n)zu(r)}return t.i=!0,Be=t.p,{}}function Ui(){return!ci||Be!==null&&Be.l===null}function ga(e){return Be===null&&Uo(),Be.c??(Be.c=new Map($f(Be)||void 0))}function $f(e){let t=e.p;for(;t!==null;){const n=t.c;if(n!==null)return n;t=t.p}return null}let cr=[];function vu(){var e=cr;cr=[],As(e)}function un(e){if(cr.length===0&&!Ii){var t=cr;queueMicrotask(()=>{t===cr&&vu()})}cr.push(e)}function ed(){for(;cr.length>0;)vu()}function yu(e){var t=Re;if(t===null)return Le.f|=nr,e;if(!(t.f&qi)&&!(t.f&ki))throw e;ei(e,t)}function ei(e,t){for(;t!==null;){if(t.f&ru){if(!(t.f&qi))throw e;try{t.b.error(e);return}catch(n){e=n}}t=t.parent}throw e}const td=-7169;function je(e,t){e.f=e.f&td|t}function va(e){e.f&zt||e.deps===null?je(e,et):je(e,Rt)}function pu(e){if(e!==null)for(const t of e)!(t.f&ut)||!(t.f&Er)||(t.f^=Er,pu(t.deps))}function mu(e,t,n){e.f&ct?t.add(e):e.f&Rt&&n.add(e),pu(e.deps),je(e,et)}const oo=new Set;let Oe=null,Ms=null,at=null,xt=[],Zo=null,Ps=!1,Ii=!1;var Xr,Wr,gr,Gr,Ri,Vi,vr,kn,qr,yn,Os,Ds,_u;const Ha=class Ha{constructor(){W(this,yn);Xe(this,"committed",!1);Xe(this,"current",new Map);Xe(this,"previous",new Map);W(this,Xr,new Set);W(this,Wr,new Set);W(this,gr,0);W(this,Gr,0);W(this,Ri,null);W(this,Vi,new Set);W(this,vr,new Set);W(this,kn,new Map);Xe(this,"is_fork",!1);W(this,qr,!1)}is_deferred(){return this.is_fork||p(this,Gr)>0}skip_effect(t){p(this,kn).has(t)||p(this,kn).set(t,{d:[],m:[]})}unskip_effect(t){var n=p(this,kn).get(t);if(n){p(this,kn).delete(t);for(var r of n.d)je(r,ct),Zt(r);for(r of n.m)je(r,Rt),Zt(r)}}process(t){var i;xt=[],this.apply();var n=[],r=[];for(const o of t)st(this,yn,Os).call(this,o,n,r);if(this.is_deferred()){st(this,yn,Ds).call(this,r),st(this,yn,Ds).call(this,n);for(const[o,s]of p(this,kn))Eu(o,s)}else{for(const o of p(this,Xr))o();p(this,Xr).clear(),p(this,gr)===0&&st(this,yn,_u).call(this),Ms=this,Oe=null,qa(r),qa(n),Ms=null,(i=p(this,Ri))==null||i.resolve()}at=null}capture(t,n){n!==nt&&!this.previous.has(t)&&this.previous.set(t,n),t.f&nr||(this.current.set(t,t.v),at==null||at.set(t,t.v))}activate(){Oe=this,this.apply()}deactivate(){Oe===this&&(Oe=null,at=null)}flush(){if(this.activate(),xt.length>0){if(bu(),Oe!==null&&Oe!==this)return}else p(this,gr)===0&&this.process([]);this.deactivate()}discard(){for(const t of p(this,Wr))t(this);p(this,Wr).clear()}increment(t){ke(this,gr,p(this,gr)+1),t&&ke(this,Gr,p(this,Gr)+1)}decrement(t){ke(this,gr,p(this,gr)-1),t&&ke(this,Gr,p(this,Gr)-1),!p(this,qr)&&(ke(this,qr,!0),un(()=>{ke(this,qr,!1),this.is_deferred()?xt.length>0&&this.flush():this.revive()}))}revive(){for(const t of p(this,Vi))p(this,vr).delete(t),je(t,ct),Zt(t);for(const t of p(this,vr))je(t,Rt),Zt(t);this.flush()}oncommit(t){p(this,Xr).add(t)}ondiscard(t){p(this,Wr).add(t)}settled(){return(p(this,Ri)??ke(this,Ri,nu())).promise}static ensure(){if(Oe===null){const t=Oe=new Ha;oo.add(Oe),Ii||un(()=>{Oe===t&&t.flush()})}return Oe}apply(){}};Xr=new WeakMap,Wr=new WeakMap,gr=new WeakMap,Gr=new WeakMap,Ri=new WeakMap,Vi=new WeakMap,vr=new WeakMap,kn=new WeakMap,qr=new WeakMap,yn=new WeakSet,Os=function(t,n,r){t.f^=et;for(var i=t.first,o=null;i!==null;){var s=i.f,a=(s&($t|ar))!==0,u=a&&(s&et)!==0,c=u||(s&Ct)!==0||p(this,kn).has(i);if(!c&&i.fn!==null){a?i.f^=et:o!==null&&s&(ki|Gi|ua)?o.b.defer_effect(i):s&ki?n.push(i):hi(i)&&(s&Kn&&p(this,vr).add(i),Nr(i));var f=i.first;if(f!==null){i=f;continue}}var h=i.parent;for(i=i.next;i===null&&h!==null;)h===o&&(o=null),i=h.next,h=h.parent}},Ds=function(t){for(var n=0;n<t.length;n+=1)mu(t[n],p(this,Vi),p(this,vr))},_u=function(){var i;if(oo.size>1){this.previous.clear();var t=at,n=!0;for(const o of oo){if(o===this){n=!1;continue}const s=[];for(const[u,c]of this.current){if(o.current.has(u))if(n&&c!==o.current.get(u))o.current.set(u,c);else continue;s.push(u)}if(s.length===0)continue;const a=[...o.current.keys()].filter(u=>!this.current.has(u));if(a.length>0){var r=xt;xt=[];const u=new Set,c=new Map;for(const f of s)xu(f,a,u,c);if(xt.length>0){Oe=o,o.apply();for(const f of xt)st(i=o,yn,Os).call(i,f,[],[]);o.deactivate()}xt=r}}Oe=null,at=t}this.committed=!0,oo.delete(this)};let Fn=Ha;function nd(e){var t=Ii;Ii=!0;try{for(var n;;){if(ed(),xt.length===0&&(Oe==null||Oe.flush(),xt.length===0))return Zo=null,n;bu()}}finally{Ii=t}}function bu(){Ps=!0;var e=null;try{for(var t=0;xt.length>0;){var n=Fn.ensure();if(t++>1e3){var r,i;rd()}n.process(xt),rr.clear()}}finally{xt=[],Ps=!1,Zo=null}}function rd(){try{Cf()}catch(e){ei(e,Zo)}}let Wt=null;function qa(e){var t=e.length;if(t!==0){for(var n=0;n<t;){var r=e[n++];if(!(r.f&(zn|Ct))&&hi(r)&&(Wt=new Set,Nr(r),r.deps===null&&r.first===null&&r.nodes===null&&r.teardown===null&&r.ac===null&&Hu(r),(Wt==null?void 0:Wt.size)>0)){rr.clear();for(const i of Wt){if(i.f&(zn|Ct))continue;const o=[i];let s=i.parent;for(;s!==null;)Wt.has(s)&&(Wt.delete(s),o.push(s)),s=s.parent;for(let a=o.length-1;a>=0;a--){const u=o[a];u.f&(zn|Ct)||Nr(u)}}Wt.clear()}}Wt=null}}function xu(e,t,n,r){if(!n.has(e)&&(n.add(e),e.reactions!==null))for(const i of e.reactions){const o=i.f;o&ut?xu(i,t,n,r):o&(ca|Kn)&&!(o&ct)&&wu(i,t,r)&&(je(i,ct),Zt(i))}}function wu(e,t,n){const r=n.get(e);if(r!==void 0)return r;if(e.deps!==null)for(const i of e.deps){if(Qr.call(t,i))return!0;if(i.f&ut&&wu(i,t,n))return n.set(i,!0),!0}return n.set(e,!1),!1}function Zt(e){for(var t=Zo=e;t.parent!==null;){t=t.parent;var n=t.f;if(Ps&&t===Re&&n&Kn&&!(n&iu))return;if(n&(ar|$t)){if(!(n&et))return;t.f^=et}}xt.push(t)}function Eu(e,t){if(!(e.f&$t&&e.f&et)){e.f&ct?t.d.push(e):e.f&Rt&&t.m.push(e),je(e,et);for(var n=e.first;n!==null;)Eu(n,t),n=n.next}}function Nu(e){let t=0,n=or(0),r;return()=>{pa()&&(l(n),fi(()=>(t===0&&(r=_e(()=>e(()=>Si(n)))),t+=1,()=>{un(()=>{t-=1,t===0&&(r==null||r(),r=void 0,Si(n))})})))}}var id=Rn|Pr|ru;function od(e,t,n){new sd(e,t,n)}var Dt,la,nn,yr,rn,Lt,_t,on,An,Jn,pr,Qn,Ur,mr,Zr,jr,Cn,Ko,it,ad,ld,Ls,_o,bo,zs;class sd{constructor(t,n,r){W(this,it);Xe(this,"parent");Xe(this,"is_pending",!1);W(this,Dt);W(this,la,null);W(this,nn);W(this,yr);W(this,rn);W(this,Lt,null);W(this,_t,null);W(this,on,null);W(this,An,null);W(this,Jn,null);W(this,pr,0);W(this,Qn,0);W(this,Ur,!1);W(this,mr,!1);W(this,Zr,new Set);W(this,jr,new Set);W(this,Cn,null);W(this,Ko,Nu(()=>(ke(this,Cn,or(p(this,pr))),()=>{ke(this,Cn,null)})));ke(this,Dt,t),ke(this,nn,n),ke(this,yr,r),this.parent=Re.b,this.is_pending=!!p(this,nn).pending,ke(this,rn,di(()=>{Re.b=this;{var i=st(this,it,Ls).call(this);try{ke(this,Lt,Et(()=>r(i)))}catch(o){this.error(o)}p(this,Qn)>0?st(this,it,bo).call(this):this.is_pending=!1}return()=>{var o;(o=p(this,Jn))==null||o.remove()}},id))}defer_effect(t){mu(t,p(this,Zr),p(this,jr))}is_rendered(){return!this.is_pending&&(!this.parent||this.parent.is_rendered())}has_pending_snippet(){return!!p(this,nn).pending}update_pending_count(t){st(this,it,zs).call(this,t),ke(this,pr,p(this,pr)+t),!(!p(this,Cn)||p(this,Ur))&&(ke(this,Ur,!0),un(()=>{ke(this,Ur,!1),p(this,Cn)&&ti(p(this,Cn),p(this,pr))}))}get_effect_pending(){return p(this,Ko).call(this),l(p(this,Cn))}error(t){var n=p(this,nn).onerror;let r=p(this,nn).failed;if(p(this,mr)||!n&&!r)throw t;p(this,Lt)&&(rt(p(this,Lt)),ke(this,Lt,null)),p(this,_t)&&(rt(p(this,_t)),ke(this,_t,null)),p(this,on)&&(rt(p(this,on)),ke(this,on,null));var i=!1,o=!1;const s=()=>{if(i){Uf();return}i=!0,o&&Lf(),Fn.ensure(),ke(this,pr,0),p(this,on)!==null&&br(p(this,on),()=>{ke(this,on,null)}),this.is_pending=this.has_pending_snippet(),ke(this,Lt,st(this,it,_o).call(this,()=>(ke(this,mr,!1),Et(()=>p(this,yr).call(this,p(this,Dt)))))),p(this,Qn)>0?st(this,it,bo).call(this):this.is_pending=!1};un(()=>{try{o=!0,n==null||n(t,s),o=!1}catch(a){ei(a,p(this,rn)&&p(this,rn).parent)}r&&ke(this,on,st(this,it,_o).call(this,()=>{Fn.ensure(),ke(this,mr,!0);try{return Et(()=>{r(p(this,Dt),()=>t,()=>s)})}catch(a){return ei(a,p(this,rn).parent),null}finally{ke(this,mr,!1)}}))})}}Dt=new WeakMap,la=new WeakMap,nn=new WeakMap,yr=new WeakMap,rn=new WeakMap,Lt=new WeakMap,_t=new WeakMap,on=new WeakMap,An=new WeakMap,Jn=new WeakMap,pr=new WeakMap,Qn=new WeakMap,Ur=new WeakMap,mr=new WeakMap,Zr=new WeakMap,jr=new WeakMap,Cn=new WeakMap,Ko=new WeakMap,it=new WeakSet,ad=function(){try{ke(this,Lt,Et(()=>p(this,yr).call(this,p(this,Dt))))}catch(t){this.error(t)}},ld=function(){const t=p(this,nn).pending;t&&(ke(this,_t,Et(()=>t(p(this,Dt)))),un(()=>{var n=st(this,it,Ls).call(this);ke(this,Lt,st(this,it,_o).call(this,()=>(Fn.ensure(),Et(()=>p(this,yr).call(this,n))))),p(this,Qn)>0?st(this,it,bo).call(this):(br(p(this,_t),()=>{ke(this,_t,null)}),this.is_pending=!1)}))},Ls=function(){var t=p(this,Dt);return this.is_pending&&(ke(this,Jn,cn()),p(this,Dt).before(p(this,Jn)),t=p(this,Jn)),t},_o=function(t){var n=Re,r=Le,i=Be;Bt(p(this,rn)),Vt(p(this,rn)),$r(p(this,rn).ctx);try{return t()}catch(o){return yu(o),null}finally{Bt(n),Vt(r),$r(i)}},bo=function(){const t=p(this,nn).pending;p(this,Lt)!==null&&(ke(this,An,document.createDocumentFragment()),p(this,An).append(p(this,Jn)),Xu(p(this,Lt),p(this,An))),p(this,_t)===null&&ke(this,_t,Et(()=>t(p(this,Dt))))},zs=function(t){var n;if(!this.has_pending_snippet()){this.parent&&st(n=this.parent,it,zs).call(n,t);return}if(ke(this,Qn,p(this,Qn)+t),p(this,Qn)===0){this.is_pending=!1;for(const r of p(this,Zr))je(r,ct),Zt(r);for(const r of p(this,jr))je(r,Rt),Zt(r);p(this,Zr).clear(),p(this,jr).clear(),p(this,_t)&&br(p(this,_t),()=>{ke(this,_t,null)}),p(this,An)&&(p(this,Dt).before(p(this,An)),ke(this,An,null))}};function Iu(e,t,n,r){const i=Ui()?Zi:ji;var o=e.filter(d=>!d.settled);if(n.length===0&&o.length===0){r(t.map(i));return}var s=Oe,a=Re,u=ud(),c=o.length===1?o[0].promise:o.length>1?Promise.all(o.map(d=>d.promise)):null;function f(d){u();try{r(d)}catch(g){a.f&zn||ei(g,a)}s==null||s.deactivate(),Fs()}if(n.length===0){c.then(()=>f(t.map(i)));return}function h(){u(),Promise.all(n.map(d=>cd(d))).then(d=>f([...t.map(i),...d])).catch(d=>ei(d,a))}c?c.then(h):h()}function ud(){var e=Re,t=Le,n=Be,r=Oe;return function(o=!0){Bt(e),Vt(t),$r(n),o&&(r==null||r.activate())}}function Fs(){Bt(null),Vt(null),$r(null)}function Zi(e){var t=ut|ct,n=Le!==null&&Le.f&ut?Le:null;return Re!==null&&(Re.f|=Pr),{ctx:Be,deps:null,effects:null,equals:fu,f:t,fn:e,reactions:null,rv:0,v:nt,wv:0,parent:n??Re,ac:null}}function cd(e,t,n){let r=Re;r===null&&If();var i=r.b,o=void 0,s=or(nt),a=!Le,u=new Map;return Ed(()=>{var g;var c=nu();o=c.promise;try{Promise.resolve(e()).then(c.resolve,c.reject).then(()=>{f===Oe&&f.committed&&f.deactivate(),Fs()})}catch(v){c.reject(v),Fs()}var f=Oe;if(a){var h=i.is_rendered();i.update_pending_count(1),f.increment(h),(g=u.get(f))==null||g.reject(ur),u.delete(f),u.set(f,c)}const d=(v,m=void 0)=>{if(f.activate(),m)m!==ur&&(s.f|=nr,ti(s,m));else{s.f&nr&&(s.f^=nr),ti(s,v);for(const[_,w]of u){if(u.delete(_),_===f)break;w.reject(ur)}}a&&(i.update_pending_count(-1),f.decrement(h))};c.promise.then(d,v=>d(null,v||"unknown"))}),Jo(()=>{for(const c of u.values())c.reject(ur)}),new Promise(c=>{function f(h){function d(){h===o?c(s):f(o)}h.then(d,d)}f(o)})}function T(e){const t=Zi(e);return Wu(t),t}function ji(e){const t=Zi(e);return t.equals=hu,t}function fd(e){var t=e.effects;if(t!==null){e.effects=null;for(var n=0;n<t.length;n+=1)rt(t[n])}}function dd(e){for(var t=e.parent;t!==null;){if(!(t.f&ut))return t.f&zn?null:t;t=t.parent}return null}function ya(e){var t,n=Re;Bt(dd(e));try{e.f&=~Er,fd(e),t=Zu(e)}finally{Bt(n)}return t}function Su(e){var t=ya(e);if(!e.equals(t)&&(e.wv=qu(),(!(Oe!=null&&Oe.is_fork)||e.deps===null)&&(e.v=t,e.deps===null))){je(e,et);return}sr||(at!==null?(pa()||Oe!=null&&Oe.is_fork)&&at.set(e,t):va(e))}function hd(e){var t,n;if(e.effects!==null)for(const r of e.effects)(r.teardown||r.ac)&&((t=r.teardown)==null||t.call(r),(n=r.ac)==null||n.abort(ur),r.teardown=Mr,r.ac=null,Ai(r,0),ma(r))}function Tu(e){if(e.effects!==null)for(const t of e.effects)t.teardown&&Nr(t)}let Rs=new Set;const rr=new Map;let ku=!1;function or(e,t){var n={f:0,v:e,reactions:null,equals:fu,rv:0,wv:0};return n}function He(e,t){const n=or(e);return Wu(n),n}function le(e,t=!1,n=!0){var i;const r=or(e);return t||(r.equals=hu),ci&&n&&Be!==null&&Be.l!==null&&((i=Be.l).s??(i.s=[])).push(r),r}function I(e,t,n=!1){Le!==null&&(!jt||Le.f&Ga)&&Ui()&&Le.f&(ut|Kn|ca|Ga)&&(Ft===null||!Qr.call(Ft,e))&&Df();let r=n?er(t):t;return ti(e,r)}function ti(e,t){if(!e.equals(t)){var n=e.v;sr?rr.set(e,t):rr.set(e,n),e.v=t;var r=Fn.ensure();if(r.capture(e,n),e.f&ut){const i=e;e.f&ct&&ya(i),va(i)}e.wv=qu(),Au(e,ct),Ui()&&Re!==null&&Re.f&et&&!(Re.f&($t|ar))&&(Ot===null?Sd([e]):Ot.push(e)),!r.is_fork&&Rs.size>0&&!ku&&gd()}return t}function gd(){ku=!1;for(const e of Rs)e.f&et&&je(e,Rt),hi(e)&&Nr(e);Rs.clear()}function Ua(e,t=1){var n=l(e),r=t===1?n++:n--;return I(e,n),r}function Si(e){I(e,e.v+1)}function Au(e,t){var n=e.reactions;if(n!==null)for(var r=Ui(),i=n.length,o=0;o<i;o++){var s=n[o],a=s.f;if(!(!r&&s===Re)){var u=(a&ct)===0;if(u&&je(s,t),a&ut){var c=s;at==null||at.delete(c),a&Er||(a&zt&&(s.f|=Er),Au(c,Rt))}else u&&(a&Kn&&Wt!==null&&Wt.add(s),Zt(s))}}}function er(e){if(typeof e!="object"||e===null||ln in e)return e;const t=qo(e);if(t!==tu&&t!==wf)return e;var n=new Map,r=Wi(e),i=He(0),o=xr,s=a=>{if(xr===o)return a();var u=Le,c=xr;Vt(null),Qa(o);var f=a();return Vt(u),Qa(c),f};return r&&n.set("length",He(e.length)),new Proxy(e,{defineProperty(a,u,c){(!("value"in c)||c.configurable===!1||c.enumerable===!1||c.writable===!1)&&Pf();var f=n.get(u);return f===void 0?s(()=>{var h=He(c.value);return n.set(u,h),h}):I(f,c.value,!0),!0},deleteProperty(a,u){var c=n.get(u);if(c===void 0){if(u in a){const f=s(()=>He(nt));n.set(u,f),Si(i)}}else I(c,nt),Si(i);return!0},get(a,u,c){var g;if(u===ln)return e;var f=n.get(u),h=u in a;if(f===void 0&&(!h||(g=tr(a,u))!=null&&g.writable)&&(f=s(()=>{var v=er(h?a[u]:nt),m=He(v);return m}),n.set(u,f)),f!==void 0){var d=l(f);return d===nt?void 0:d}return Reflect.get(a,u,c)},getOwnPropertyDescriptor(a,u){var c=Reflect.getOwnPropertyDescriptor(a,u);if(c&&"value"in c){var f=n.get(u);f&&(c.value=l(f))}else if(c===void 0){var h=n.get(u),d=h==null?void 0:h.v;if(h!==void 0&&d!==nt)return{enumerable:!0,configurable:!0,value:d,writable:!0}}return c},has(a,u){var d;if(u===ln)return!0;var c=n.get(u),f=c!==void 0&&c.v!==nt||Reflect.has(a,u);if(c!==void 0||Re!==null&&(!f||(d=tr(a,u))!=null&&d.writable)){c===void 0&&(c=s(()=>{var g=f?er(a[u]):nt,v=He(g);return v}),n.set(u,c));var h=l(c);if(h===nt)return!1}return f},set(a,u,c,f){var D;var h=n.get(u),d=u in a;if(r&&u==="length")for(var g=c;g<h.v;g+=1){var v=n.get(g+"");v!==void 0?I(v,nt):g in a&&(v=s(()=>He(nt)),n.set(g+"",v))}if(h===void 0)(!d||(D=tr(a,u))!=null&&D.writable)&&(h=s(()=>He(void 0)),I(h,er(c)),n.set(u,h));else{d=h.v!==nt;var m=s(()=>er(c));I(h,m)}var _=Reflect.getOwnPropertyDescriptor(a,u);if(_!=null&&_.set&&_.set.call(f,c),!d){if(r&&typeof u=="string"){var w=n.get("length"),P=Number(u);Number.isInteger(P)&&P>=w.v&&I(w,P+1)}Si(i)}return!0},ownKeys(a){l(i);var u=Reflect.ownKeys(a).filter(h=>{var d=n.get(h);return d===void 0||d.v!==nt});for(var[c,f]of n)f.v!==nt&&!(c in a)&&u.push(c);return u},setPrototypeOf(){Of()}})}function Za(e){try{if(e!==null&&typeof e=="object"&&ln in e)return e[ln]}catch{}return e}function vd(e,t){return Object.is(Za(e),Za(t))}var vt,Cu,Mu,Pu;function yd(){if(vt===void 0){vt=window,Cu=/Firefox/.test(navigator.userAgent);var e=Element.prototype,t=Node.prototype,n=Text.prototype;Mu=tr(t,"firstChild").get,Pu=tr(t,"nextSibling").get,Wa(e)&&(e.__click=void 0,e.__className=void 0,e.__attributes=null,e.__style=void 0,e.__e=void 0),Wa(n)&&(n.__t=void 0)}}function cn(e=""){return document.createTextNode(e)}function Mn(e){return Mu.call(e)}function Ji(e){return Pu.call(e)}function fe(e,t){return Mn(e)}function We(e,t=!1){{var n=Mn(e);return n instanceof Comment&&n.data===""?Ji(n):n}}function Te(e,t=1,n=!1){let r=e;for(;t--;)r=Ji(r);return r}function pd(e){e.textContent=""}function Ou(){return!1}function Du(e,t,n){return document.createElementNS(t??cu,e,void 0)}function md(e,t){if(t){const n=document.body;e.autofocus=!0,un(()=>{document.activeElement===n&&e.focus()})}}let ja=!1;function _d(){ja||(ja=!0,document.addEventListener("reset",e=>{Promise.resolve().then(()=>{var t;if(!e.defaultPrevented)for(const n of e.target.elements)(t=n.__on_r)==null||t.call(n)})},{capture:!0}))}function jo(e){var t=Le,n=Re;Vt(null),Bt(null);try{return e()}finally{Vt(t),Bt(n)}}function bd(e,t,n,r=n){e.addEventListener(t,()=>jo(n));const i=e.__on_r;i?e.__on_r=()=>{i(),r(!0)}:e.__on_r=()=>r(!0),_d()}function Lu(e){Re===null&&(Le===null&&Af(),kf()),sr&&Tf()}function xd(e,t){var n=t.last;n===null?t.last=t.first=e:(n.next=e,e.prev=n,t.last=e)}function Kt(e,t,n){var r=Re;r!==null&&r.f&Ct&&(e|=Ct);var i={ctx:Be,deps:null,nodes:null,f:e|ct|zt,first:null,fn:t,last:null,next:null,parent:r,b:r&&r.b,prev:null,teardown:null,wv:0,ac:null};if(n)try{Nr(i)}catch(a){throw rt(i),a}else t!==null&&Zt(i);var o=i;if(n&&o.deps===null&&o.teardown===null&&o.nodes===null&&o.first===o.last&&!(o.f&Pr)&&(o=o.first,e&Kn&&e&Rn&&o!==null&&(o.f|=Rn)),o!==null&&(o.parent=r,r!==null&&xd(o,r),Le!==null&&Le.f&ut&&!(e&ar))){var s=Le;(s.effects??(s.effects=[])).push(o)}return i}function pa(){return Le!==null&&!jt}function Jo(e){const t=Kt(Gi,null,!1);return je(t,et),t.teardown=e,t}function dn(e){Lu();var t=Re.f,n=!Le&&(t&$t)!==0&&(t&qi)===0;if(n){var r=Be;(r.e??(r.e=[])).push(e)}else return zu(e)}function zu(e){return Kt(ki|ou,e,!1)}function Fu(e){return Lu(),Kt(Gi|ou,e,!0)}function Ru(e){Fn.ensure();const t=Kt(ar|Pr,e,!0);return()=>{rt(t)}}function wd(e){Fn.ensure();const t=Kt(ar|Pr,e,!0);return(n={})=>new Promise(r=>{n.outro?br(t,()=>{rt(t),r(void 0)}):(rt(t),r(void 0))})}function Qi(e){return Kt(ki,e,!1)}function ge(e,t){var n=Be,r={effect:null,ran:!1,deps:e};n.l.$.push(r),r.effect=fi(()=>{e(),!r.ran&&(r.ran=!0,_e(t))})}function Yt(){var e=Be;fi(()=>{for(var t of e.l.$){t.deps();var n=t.effect;n.f&et&&n.deps!==null&&je(n,Rt),hi(n)&&Nr(n),t.ran=!1}})}function Ed(e){return Kt(ca|Pr,e,!0)}function fi(e,t=0){return Kt(Gi|t,e,!0)}function we(e,t=[],n=[],r=[]){Iu(r,t,n,i=>{Kt(Gi,()=>e(...i.map(l)),!0)})}function di(e,t=0){var n=Kt(Kn|t,e,!0);return n}function Vu(e,t=0){var n=Kt(ua|t,e,!0);return n}function Et(e){return Kt($t|Pr,e,!0)}function Bu(e){var t=e.teardown;if(t!==null){const n=sr,r=Le;Ja(!0),Vt(null);try{t.call(null)}finally{Ja(n),Vt(r)}}}function ma(e,t=!1){var n=e.first;for(e.first=e.last=null;n!==null;){const i=n.ac;i!==null&&jo(()=>{i.abort(ur)});var r=n.next;n.f&ar?n.parent=null:rt(n,t),n=r}}function Nd(e){for(var t=e.first;t!==null;){var n=t.next;t.f&$t||rt(t),t=n}}function rt(e,t=!0){var n=!1;(t||e.f&iu)&&e.nodes!==null&&e.nodes.end!==null&&(Id(e.nodes.start,e.nodes.end),n=!0),ma(e,t&&!n),Ai(e,0),je(e,zn);var r=e.nodes&&e.nodes.t;if(r!==null)for(const o of r)o.stop();Bu(e);var i=e.parent;i!==null&&i.first!==null&&Hu(e),e.next=e.prev=e.teardown=e.ctx=e.deps=e.fn=e.nodes=e.ac=null}function Id(e,t){for(;e!==null;){var n=e===t?null:Ji(e);e.remove(),e=n}}function Hu(e){var t=e.parent,n=e.prev,r=e.next;n!==null&&(n.next=r),r!==null&&(r.prev=n),t!==null&&(t.first===e&&(t.first=r),t.last===e&&(t.last=n))}function br(e,t,n=!0){var r=[];Ku(e,r,!0);var i=()=>{n&&rt(e),t&&t()},o=r.length;if(o>0){var s=()=>--o||i();for(var a of r)a.out(s)}else i()}function Ku(e,t,n){if(!(e.f&Ct)){e.f^=Ct;var r=e.nodes&&e.nodes.t;if(r!==null)for(const a of r)(a.is_global||n)&&t.push(a);for(var i=e.first;i!==null;){var o=i.next,s=(i.f&Rn)!==0||(i.f&$t)!==0&&(e.f&Kn)!==0;Ku(i,t,s?n:!1),i=o}}}function _a(e){Yu(e,!0)}function Yu(e,t){if(e.f&Ct){e.f^=Ct,e.f&et||(je(e,ct),Zt(e));for(var n=e.first;n!==null;){var r=n.next,i=(n.f&Rn)!==0||(n.f&$t)!==0;Yu(n,i?t:!1),n=r}var o=e.nodes&&e.nodes.t;if(o!==null)for(const s of o)(s.is_global||t)&&s.in()}}function Xu(e,t){if(e.nodes)for(var n=e.nodes.start,r=e.nodes.end;n!==null;){var i=n===r?null:Ji(n);t.append(n),n=i}}let xo=!1,sr=!1;function Ja(e){sr=e}let Le=null,jt=!1;function Vt(e){Le=e}let Re=null;function Bt(e){Re=e}let Ft=null;function Wu(e){Le!==null&&(Ft===null?Ft=[e]:Ft.push(e))}let wt=null,kt=0,Ot=null;function Sd(e){Ot=e}let Gu=1,fr=0,xr=fr;function Qa(e){xr=e}function qu(){return++Gu}function hi(e){var t=e.f;if(t&ct)return!0;if(t&ut&&(e.f&=~Er),t&Rt){for(var n=e.deps,r=n.length,i=0;i<r;i++){var o=n[i];if(hi(o)&&Su(o),o.wv>e.wv)return!0}t&zt&&at===null&&je(e,et)}return!1}function Uu(e,t,n=!0){var r=e.reactions;if(r!==null&&!(Ft!==null&&Qr.call(Ft,e)))for(var i=0;i<r.length;i++){var o=r[i];o.f&ut?Uu(o,t,!1):t===o&&(n?je(o,ct):o.f&et&&je(o,Rt),Zt(o))}}function Zu(e){var m;var t=wt,n=kt,r=Ot,i=Le,o=Ft,s=Be,a=jt,u=xr,c=e.f;wt=null,kt=0,Ot=null,Le=c&($t|ar)?null:e,Ft=null,$r(e.ctx),jt=!1,xr=++fr,e.ac!==null&&(jo(()=>{e.ac.abort(ur)}),e.ac=null);try{e.f|=Cs;var f=e.fn,h=f();e.f|=qi;var d=e.deps,g=Oe==null?void 0:Oe.is_fork;if(wt!==null){var v;if(g||Ai(e,kt),d!==null&&kt>0)for(d.length=kt+wt.length,v=0;v<wt.length;v++)d[kt+v]=wt[v];else e.deps=d=wt;if(pa()&&e.f&zt)for(v=kt;v<d.length;v++)((m=d[v]).reactions??(m.reactions=[])).push(e)}else!g&&d!==null&&kt<d.length&&(Ai(e,kt),d.length=kt);if(Ui()&&Ot!==null&&!jt&&d!==null&&!(e.f&(ut|Rt|ct)))for(v=0;v<Ot.length;v++)Uu(Ot[v],e);if(i!==null&&i!==e){if(fr++,i.deps!==null)for(let _=0;_<n;_+=1)i.deps[_].rv=fr;if(t!==null)for(const _ of t)_.rv=fr;Ot!==null&&(r===null?r=Ot:r.push(...Ot))}return e.f&nr&&(e.f^=nr),h}catch(_){return yu(_)}finally{e.f^=Cs,wt=t,kt=n,Ot=r,Le=i,Ft=o,$r(s),jt=a,xr=u}}function Td(e,t){let n=t.reactions;if(n!==null){var r=bf.call(n,e);if(r!==-1){var i=n.length-1;i===0?n=t.reactions=null:(n[r]=n[i],n.pop())}}if(n===null&&t.f&ut&&(wt===null||!Qr.call(wt,t))){var o=t;o.f&zt&&(o.f^=zt,o.f&=~Er),va(o),hd(o),Ai(o,0)}}function Ai(e,t){var n=e.deps;if(n!==null)for(var r=t;r<n.length;r++)Td(e,n[r])}function Nr(e){var t=e.f;if(!(t&zn)){je(e,et);var n=Re,r=xo;Re=e,xo=!0;try{t&(Kn|ua)?Nd(e):ma(e),Bu(e);var i=Zu(e);e.teardown=typeof i=="function"?i:null,e.wv=Gu;var o;ks&&Zf&&e.f&ct&&e.deps}finally{xo=r,Re=n}}}async function Vr(){await Promise.resolve(),nd()}function l(e){var t=e.f,n=(t&ut)!==0;if(Le!==null&&!jt){var r=Re!==null&&(Re.f&zn)!==0;if(!r&&(Ft===null||!Qr.call(Ft,e))){var i=Le.deps;if(Le.f&Cs)e.rv<fr&&(e.rv=fr,wt===null&&i!==null&&i[kt]===e?kt++:wt===null?wt=[e]:wt.push(e));else{(Le.deps??(Le.deps=[])).push(e);var o=e.reactions;o===null?e.reactions=[Le]:Qr.call(o,Le)||o.push(Le)}}}if(sr&&rr.has(e))return rr.get(e);if(n){var s=e;if(sr){var a=s.v;return(!(s.f&et)&&s.reactions!==null||Ju(s))&&(a=ya(s)),rr.set(s,a),a}var u=(s.f&zt)===0&&!jt&&Le!==null&&(xo||(Le.f&zt)!==0),c=(s.f&qi)===0;hi(s)&&(u&&(s.f|=zt),Su(s)),u&&!c&&(Tu(s),ju(s))}if(at!=null&&at.has(e))return at.get(e);if(e.f&nr)throw e.v;return e.v}function ju(e){if(e.f|=zt,e.deps!==null)for(const t of e.deps)(t.reactions??(t.reactions=[])).push(e),t.f&ut&&!(t.f&zt)&&(Tu(t),ju(t))}function Ju(e){if(e.v===nt)return!0;if(e.deps===null)return!1;for(const t of e.deps)if(rr.has(t)||t.f&ut&&Ju(t))return!0;return!1}function _e(e){var t=jt;try{return jt=!0,e()}finally{jt=t}}function kd(e,t){var n={};for(var r in e)t.includes(r)||(n[r]=e[r]);for(var i of Object.getOwnPropertySymbols(e))Object.propertyIsEnumerable.call(e,i)&&!t.includes(i)&&(n[i]=e[i]);return n}function de(e){if(!(typeof e!="object"||!e||e instanceof EventTarget)){if(ln in e)Vs(e);else if(!Array.isArray(e))for(let t in e){const n=e[t];typeof n=="object"&&n&&ln in n&&Vs(n)}}}function Vs(e,t=new Set){if(typeof e=="object"&&e!==null&&!(e instanceof EventTarget)&&!t.has(e)){t.add(e),e instanceof Date&&e.getTime();for(let r in e)try{Vs(e[r],t)}catch{}const n=qo(e);if(n!==Object.prototype&&n!==Array.prototype&&n!==Map.prototype&&n!==Set.prototype&&n!==Date.prototype){const r=eu(n);for(let i in r){const o=r[i].get;if(o)try{o.call(e)}catch{}}}}}function Ad(e){return e.endsWith("capture")&&e!=="gotpointercapture"&&e!=="lostpointercapture"}const Cd=["beforeinput","click","change","dblclick","contextmenu","focusin","focusout","input","keydown","keyup","mousedown","mousemove","mouseout","mouseover","mouseup","pointerdown","pointermove","pointerout","pointerover","pointerup","touchend","touchmove","touchstart"];function Md(e){return Cd.includes(e)}const Pd={formnovalidate:"formNoValidate",ismap:"isMap",nomodule:"noModule",playsinline:"playsInline",readonly:"readOnly",defaultvalue:"defaultValue",defaultchecked:"defaultChecked",srcobject:"srcObject",novalidate:"noValidate",allowfullscreen:"allowFullscreen",disablepictureinpicture:"disablePictureInPicture",disableremoteplayback:"disableRemotePlayback"};function Od(e){return e=e.toLowerCase(),Pd[e]??e}const Dd=["touchstart","touchmove"];function Ld(e){return Dd.includes(e)}const Qu=new Set,Bs=new Set;function ba(e,t,n,r={}){function i(o){if(r.capture||Ks.call(t,o),!o.cancelBubble)return jo(()=>n==null?void 0:n.call(this,o))}return e.startsWith("pointer")||e.startsWith("touch")||e==="wheel"?un(()=>{t.addEventListener(e,i,r)}):t.addEventListener(e,i,r),i}function Hs(e,t,n,r={}){var i=ba(t,e,n,r);return()=>{e.removeEventListener(t,i,r)}}function Vn(e,t,n,r,i){var o={capture:r,passive:i},s=ba(e,t,n,o);(t===document.body||t===window||t===document||t instanceof HTMLMediaElement)&&Jo(()=>{t.removeEventListener(e,s,o)})}function Xt(e){for(var t=0;t<e.length;t++)Qu.add(e[t]);for(var n of Bs)n(e)}let $a=null;function Ks(e){var _;var t=this,n=t.ownerDocument,r=e.type,i=((_=e.composedPath)==null?void 0:_.call(e))||[],o=i[0]||e.target;$a=e;var s=0,a=$a===e&&e.__root;if(a){var u=i.indexOf(a);if(u!==-1&&(t===document||t===window)){e.__root=t;return}var c=i.indexOf(t);if(c===-1)return;u<=c&&(s=u)}if(o=i[s]||e.target,o!==t){xf(e,"currentTarget",{configurable:!0,get(){return o||n}});var f=Le,h=Re;Vt(null),Bt(null);try{for(var d,g=[];o!==null;){var v=o.assignedSlot||o.parentNode||o.host||null;try{var m=o["__"+r];m!=null&&(!o.disabled||e.target===o)&&m.call(o,e)}catch(w){d?g.push(w):d=w}if(e.cancelBubble||v===t||v===null)break;o=v}if(d){for(let w of g)queueMicrotask(()=>{throw w});throw d}}finally{e.__root=t,delete e.currentTarget,Vt(f),Bt(h)}}}var Jl,Ql;const ds=(Ql=(Jl=globalThis==null?void 0:globalThis.window)==null?void 0:Jl.trustedTypes)==null?void 0:Ql.createPolicy("svelte-trusted-html",{createHTML:e=>e});function zd(e){return(ds==null?void 0:ds.createHTML(e))??e}function $u(e,t=!1){var n=Du("template");return e=e.replaceAll("<!>","<!---->"),n.innerHTML=t?zd(e):e,n.content}function Ir(e,t){var n=Re;n.nodes===null&&(n.nodes={start:e,end:t,a:null,t:null})}function pe(e,t){var n=(t&uu)!==0,r=(t&Xf)!==0,i,o=!e.startsWith("<!>");return()=>{i===void 0&&(i=$u(o?e:"<!>"+e,!0),n||(i=Mn(i)));var s=r||Cu?document.importNode(i,!0):i.cloneNode(!0);if(n){var a=Mn(s),u=s.lastChild;Ir(a,u)}else Ir(s,s);return s}}function Fd(e,t,n="svg"){var r=!e.startsWith("<!>"),i=(t&uu)!==0,o=`<${n}>${r?e:"<!>"+e}</${n}>`,s;return()=>{if(!s){var a=$u(o,!0),u=Mn(a);if(i)for(s=document.createDocumentFragment();Mn(u);)s.appendChild(Mn(u));else s=Mn(u)}var c=s.cloneNode(!0);if(i){var f=Mn(c),h=c.lastChild;Ir(f,h)}else Ir(c,c);return c}}function Pt(e,t){return Fd(e,t,"svg")}function Rd(e=""){{var t=cn(e+"");return Ir(t,t),t}}function lt(){var e=document.createDocumentFragment(),t=document.createComment(""),n=cn();return e.append(t,n),Ir(t,n),e}function ie(e,t){e!==null&&e.before(t)}function Ze(e,t){var n=t==null?"":typeof t=="object"?t+"":t;n!==(e.__t??(e.__t=e.nodeValue))&&(e.__t=n,e.nodeValue=n+"")}function Vd(e,t){return Bd(e,t)}const so=new Map;function Bd(e,{target:t,anchor:n,props:r={},events:i,context:o,intro:s=!0}){yd();var a=new Set,u=h=>{for(var d=0;d<h.length;d++){var g=h[d];if(!a.has(g)){a.add(g);var v=Ld(g);for(const w of[t,document]){var m=so.get(w);m===void 0&&(m=new Map,so.set(w,m));var _=m.get(g);_===void 0?(w.addEventListener(g,Ks,{passive:v}),m.set(g,1)):m.set(g,_+1)}}}};u(Go(Qu)),Bs.add(u);var c=void 0,f=wd(()=>{var h=n??t.appendChild(cn());return od(h,{pending:()=>{}},d=>{Ie({});var g=Be;o&&(g.c=o),i&&(r.$$events=i),c=e(d,r)||{},Se()}),()=>{var m;for(var d of a)for(const _ of[t,document]){var g=so.get(_),v=g.get(d);--v==0?(_.removeEventListener(d,Ks),g.delete(d),g.size===0&&so.delete(_)):g.set(d,v)}Bs.delete(u),h!==n&&((m=h.parentNode)==null||m.removeChild(h))}});return Hd.set(c,f),c}let Hd=new WeakMap;var Gt,sn,At,_r,Bi,Hi,Yo;class Qo{constructor(t,n=!0){Xe(this,"anchor");W(this,Gt,new Map);W(this,sn,new Map);W(this,At,new Map);W(this,_r,new Set);W(this,Bi,!0);W(this,Hi,()=>{var t=Oe;if(p(this,Gt).has(t)){var n=p(this,Gt).get(t),r=p(this,sn).get(n);if(r)_a(r),p(this,_r).delete(n);else{var i=p(this,At).get(n);i&&(p(this,sn).set(n,i.effect),p(this,At).delete(n),i.fragment.lastChild.remove(),this.anchor.before(i.fragment),r=i.effect)}for(const[o,s]of p(this,Gt)){if(p(this,Gt).delete(o),o===t)break;const a=p(this,At).get(s);a&&(rt(a.effect),p(this,At).delete(s))}for(const[o,s]of p(this,sn)){if(o===n||p(this,_r).has(o))continue;const a=()=>{if(Array.from(p(this,Gt).values()).includes(o)){var c=document.createDocumentFragment();Xu(s,c),c.append(cn()),p(this,At).set(o,{effect:s,fragment:c})}else rt(s);p(this,_r).delete(o),p(this,sn).delete(o)};p(this,Bi)||!r?(p(this,_r).add(o),br(s,a,!1)):a()}}});W(this,Yo,t=>{p(this,Gt).delete(t);const n=Array.from(p(this,Gt).values());for(const[r,i]of p(this,At))n.includes(r)||(rt(i.effect),p(this,At).delete(r))});this.anchor=t,ke(this,Bi,n)}ensure(t,n){var r=Oe,i=Ou();if(n&&!p(this,sn).has(t)&&!p(this,At).has(t))if(i){var o=document.createDocumentFragment(),s=cn();o.append(s),p(this,At).set(t,{effect:Et(()=>n(s)),fragment:o})}else p(this,sn).set(t,Et(()=>n(this.anchor)));if(p(this,Gt).set(r,t),i){for(const[a,u]of p(this,sn))a===t?r.unskip_effect(u):r.skip_effect(u);for(const[a,u]of p(this,At))a===t?r.unskip_effect(u.effect):r.skip_effect(u.effect);r.oncommit(p(this,Hi)),r.ondiscard(p(this,Yo))}else p(this,Hi).call(this)}}Gt=new WeakMap,sn=new WeakMap,At=new WeakMap,_r=new WeakMap,Bi=new WeakMap,Hi=new WeakMap,Yo=new WeakMap;function Ge(e,t,n=!1){var r=new Qo(e),i=n?Rn:0;function o(s,a){r.ensure(s,a)}di(()=>{var s=!1;t((a,u=0)=>{s=!0,o(u,a)}),s||o(!1,null)},i)}function gi(e,t){return t}function Kd(e,t,n){for(var r=[],i=t.length,o,s=t.length,a=0;a<i;a++){let h=t[a];br(h,()=>{if(o){if(o.pending.delete(h),o.done.add(h),o.pending.size===0){var d=e.outrogroups;Ys(Go(o.done)),d.delete(o),d.size===0&&(e.outrogroups=null)}}else s-=1},!1)}if(s===0){var u=r.length===0&&n!==null;if(u){var c=n,f=c.parentNode;pd(f),f.append(c),e.items.clear()}Ys(t,!u)}else o={pending:new Set(t),done:new Set},(e.outrogroups??(e.outrogroups=new Set)).add(o)}function Ys(e,t=!0){for(var n=0;n<e.length;n++)rt(e[n],t)}var el;function hn(e,t,n,r,i,o=null){var s=e,a=new Map,u=(t&au)!==0;if(u){var c=e;s=c.appendChild(cn())}var f=null,h=ji(()=>{var w=n();return Wi(w)?w:w==null?[]:Go(w)}),d,g=!0;function v(){_.fallback=f,Yd(_,d,s,t,r),f!==null&&(d.length===0?f.f&On?(f.f^=On,wi(f,null,s)):_a(f):br(f,()=>{f=null}))}var m=di(()=>{d=l(h);for(var w=d.length,P=new Set,D=Oe,b=Ou(),A=0;A<w;A+=1){var L=d[A],Z=r(L,A),R=g?null:a.get(Z);R?(R.v&&ti(R.v,L),R.i&&ti(R.i,A),b&&D.unskip_effect(R.e)):(R=Xd(a,g?s:el??(el=cn()),L,Z,A,i,t,n),g||(R.e.f|=On),a.set(Z,R)),P.add(Z)}if(w===0&&o&&!f&&(g?f=Et(()=>o(s)):(f=Et(()=>o(el??(el=cn()))),f.f|=On)),w>P.size&&Sf(),!g)if(b){for(const[Y,ce]of a)P.has(Y)||D.skip_effect(ce.e);D.oncommit(v),D.ondiscard(()=>{})}else v();l(h)}),_={effect:m,items:a,outrogroups:null,fallback:f};g=!1}function _i(e){for(;e!==null&&!(e.f&$t);)e=e.next;return e}function Yd(e,t,n,r,i){var ce,E,x,M,y,k,N,F,V;var o=(r&Rf)!==0,s=t.length,a=e.items,u=_i(e.effect.first),c,f=null,h,d=[],g=[],v,m,_,w;if(o)for(w=0;w<s;w+=1)v=t[w],m=i(v,w),_=a.get(m).e,_.f&On||((E=(ce=_.nodes)==null?void 0:ce.a)==null||E.measure(),(h??(h=new Set)).add(_));for(w=0;w<s;w+=1){if(v=t[w],m=i(v,w),_=a.get(m).e,e.outrogroups!==null)for(const K of e.outrogroups)K.pending.delete(_),K.done.delete(_);if(_.f&On)if(_.f^=On,_===u)wi(_,null,n);else{var P=f?f.next:u;_===e.effect.last&&(e.effect.last=_.prev),_.prev&&(_.prev.next=_.next),_.next&&(_.next.prev=_.prev),Gn(e,f,_),Gn(e,_,P),wi(_,P,n),f=_,d=[],g=[],u=_i(f.next);continue}if(_.f&Ct&&(_a(_),o&&((M=(x=_.nodes)==null?void 0:x.a)==null||M.unfix(),(h??(h=new Set)).delete(_))),_!==u){if(c!==void 0&&c.has(_)){if(d.length<g.length){var D=g[0],b;f=D.prev;var A=d[0],L=d[d.length-1];for(b=0;b<d.length;b+=1)wi(d[b],D,n);for(b=0;b<g.length;b+=1)c.delete(g[b]);Gn(e,A.prev,L.next),Gn(e,f,A),Gn(e,L,D),u=D,f=L,w-=1,d=[],g=[]}else c.delete(_),wi(_,u,n),Gn(e,_.prev,_.next),Gn(e,_,f===null?e.effect.first:f.next),Gn(e,f,_),f=_;continue}for(d=[],g=[];u!==null&&u!==_;)(c??(c=new Set)).add(u),g.push(u),u=_i(u.next);if(u===null)continue}_.f&On||d.push(_),f=_,u=_i(_.next)}if(e.outrogroups!==null){for(const K of e.outrogroups)K.pending.size===0&&(Ys(Go(K.done)),(y=e.outrogroups)==null||y.delete(K));e.outrogroups.size===0&&(e.outrogroups=null)}if(u!==null||c!==void 0){var Z=[];if(c!==void 0)for(_ of c)_.f&Ct||Z.push(_);for(;u!==null;)!(u.f&Ct)&&u!==e.fallback&&Z.push(u),u=_i(u.next);var R=Z.length;if(R>0){var Y=r&au&&s===0?n:null;if(o){for(w=0;w<R;w+=1)(N=(k=Z[w].nodes)==null?void 0:k.a)==null||N.measure();for(w=0;w<R;w+=1)(V=(F=Z[w].nodes)==null?void 0:F.a)==null||V.fix()}Kd(e,Z,Y)}}o&&un(()=>{var K,G;if(h!==void 0)for(_ of h)(G=(K=_.nodes)==null?void 0:K.a)==null||G.apply()})}function Xd(e,t,n,r,i,o,s,a){var u=s&zf?s&Vf?or(n):le(n,!1,!1):null,c=s&Ff?or(i):null;return{v:u,i:c,e:Et(()=>(o(t,u??n,c??i,a),()=>{e.delete(r)}))}}function wi(e,t,n){if(e.nodes)for(var r=e.nodes.start,i=e.nodes.end,o=t&&!(t.f&On)?t.nodes.start:n;r!==null;){var s=Ji(r);if(o.before(r),r===i)return;r=s}}function Gn(e,t,n){t===null?e.effect.first=n:t.next=n,n===null?e.effect.last=t:n.prev=t}function xa(e,t,n,r,i){var a;var o=(a=t.$$slots)==null?void 0:a[n],s=!1;o===!0&&(o=t.children,s=!0),o===void 0||o(e,s?()=>r:r)}function Yn(e,t,...n){var r=new Qo(e);di(()=>{const i=t()??null;r.ensure(i,i&&(o=>i(o,...n)))},Rn)}function wa(e,t,n){var r=new Qo(e);di(()=>{var i=t()??null;r.ensure(i,i&&(o=>n(o,i)))},Rn)}function Wd(e,t,n,r,i,o){var s=null,a=e,u=new Qo(a,!1);di(()=>{const c=t()||null;var f=Wf;if(c===null){u.ensure(null,null);return}return u.ensure(c,h=>{if(c){if(s=Du(c,f),Ir(s,s),r){var d=s.appendChild(cn());r(s,d)}Re.nodes.end=s,h.before(s)}}),()=>{}},Rn),Jo(()=>{})}function bt(e,t,n){Qi(()=>{var r=_e(()=>t(e,n==null?void 0:n())||{});if(n&&(r!=null&&r.update)){var i=!1,o={};fi(()=>{var s=n();de(s),i&&du(o,s)&&(o=s,r.update(s))}),i=!0}if(r!=null&&r.destroy)return()=>r.destroy()})}function Gd(e,t){var n=void 0,r;Vu(()=>{n!==(n=t())&&(r&&(rt(r),r=null),n&&(r=Et(()=>{Qi(()=>n(e))})))})}function ec(e){var t,n,r="";if(typeof e=="string"||typeof e=="number")r+=e;else if(typeof e=="object")if(Array.isArray(e)){var i=e.length;for(t=0;t<i;t++)e[t]&&(n=ec(e[t]))&&(r&&(r+=" "),r+=n)}else for(n in e)e[n]&&(r&&(r+=" "),r+=n);return r}function qd(){for(var e,t,n=0,r="",i=arguments.length;n<i;n++)(e=arguments[n])&&(t=ec(e))&&(r&&(r+=" "),r+=t);return r}function Or(e){return typeof e=="object"?qd(e):e??""}const tl=[...` 	
\r\fÂ \v\uFEFF`];function Ud(e,t,n){var r=e==null?"":""+e;if(t&&(r=r?r+" "+t:t),n){for(var i in n)if(n[i])r=r?r+" "+i:i;else if(r.length)for(var o=i.length,s=0;(s=r.indexOf(i,s))>=0;){var a=s+o;(s===0||tl.includes(r[s-1]))&&(a===r.length||tl.includes(r[a]))?r=(s===0?"":r.substring(0,s))+r.substring(a+1):s=a}}return r===""?null:r}function nl(e,t=!1){var n=t?" !important;":";",r="";for(var i in e){var o=e[i];o!=null&&o!==""&&(r+=" "+i+": "+o+n)}return r}function hs(e){return e[0]!=="-"||e[1]!=="-"?e.toLowerCase():e}function Zd(e,t){if(t){var n="",r,i;if(Array.isArray(t)?(r=t[0],i=t[1]):r=t,e){e=String(e).replaceAll(/\s*\/\*.*?\*\/\s*/g,"").trim();var o=!1,s=0,a=!1,u=[];r&&u.push(...Object.keys(r).map(hs)),i&&u.push(...Object.keys(i).map(hs));var c=0,f=-1;const m=e.length;for(var h=0;h<m;h++){var d=e[h];if(a?d==="/"&&e[h-1]==="*"&&(a=!1):o?o===d&&(o=!1):d==="/"&&e[h+1]==="*"?a=!0:d==='"'||d==="'"?o=d:d==="("?s++:d===")"&&s--,!a&&o===!1&&s===0){if(d===":"&&f===-1)f=h;else if(d===";"||h===m-1){if(f!==-1){var g=hs(e.substring(c,f).trim());if(!u.includes(g)){d!==";"&&h++;var v=e.substring(c,h).trim();n+=" "+v+";"}}c=h+1,f=-1}}}}return r&&(n+=nl(r)),i&&(n+=nl(i,!0)),n=n.trim(),n===""?null:n}return e==null?null:String(e)}function pn(e,t,n,r,i,o){var s=e.__className;if(s!==n||s===void 0){var a=Ud(n,r,o);a==null?e.removeAttribute("class"):t?e.className=a:e.setAttribute("class",a),e.__className=n}else if(o&&i!==o)for(var u in o){var c=!!o[u];(i==null||c!==!!i[u])&&e.classList.toggle(u,c)}return o}function gs(e,t={},n,r){for(var i in n){var o=n[i];t[i]!==o&&(n[i]==null?e.style.removeProperty(i):e.style.setProperty(i,o,r))}}function Ht(e,t,n,r){var i=e.__style;if(i!==t){var o=Zd(t,r);o==null?e.removeAttribute("style"):e.style.cssText=o,e.__style=t}else r&&(Array.isArray(r)?(gs(e,n==null?void 0:n[0],r[0]),gs(e,n==null?void 0:n[1],r[1],"important")):gs(e,n,r));return r}function Xs(e,t,n=!1){if(e.multiple){if(t==null)return;if(!Wi(t))return qf();for(var r of e.options)r.selected=t.includes(rl(r));return}for(r of e.options){var i=rl(r);if(vd(i,t)){r.selected=!0;return}}(!n||t!==void 0)&&(e.selectedIndex=-1)}function jd(e){var t=new MutationObserver(()=>{Xs(e,e.__value)});t.observe(e,{childList:!0,subtree:!0,attributes:!0,attributeFilter:["value"]}),Jo(()=>{t.disconnect()})}function rl(e){return"__value"in e?e.__value:e.value}const Un=Symbol("class"),Zn=Symbol("style"),tc=Symbol("is custom element"),nc=Symbol("is html"),Jd=fa?"option":"OPTION",Qd=fa?"select":"SELECT",$d=fa?"progress":"PROGRESS";function Qt(e,t){var n=$o(e);n.value===(n.value=t??void 0)||e.value===t&&(t!==0||e.nodeName!==$d)||(e.value=t??"")}function rc(e,t){var n=$o(e);n.checked!==(n.checked=t??void 0)&&(e.checked=t)}function eh(e,t){t?e.hasAttribute("selected")||e.setAttribute("selected",""):e.removeAttribute("selected")}function he(e,t,n,r){var i=$o(e);i[t]!==(i[t]=n)&&(t==="loading"&&(e[Nf]=n),n==null?e.removeAttribute(t):typeof n!="string"&&ic(e).includes(t)?e[t]=n:e.setAttribute(t,n))}function th(e,t,n,r,i=!1,o=!1){var s=$o(e),a=s[tc],u=!s[nc],c=t||{},f=e.nodeName===Jd;for(var h in t)h in n||(n[h]=null);n.class?n.class=Or(n.class):(r||n[Un])&&(n.class=null),n[Zn]&&(n.style??(n.style=null));var d=ic(e);for(const b in n){let A=n[b];if(f&&b==="value"&&A==null){e.value=e.__value="",c[b]=A;continue}if(b==="class"){var g=e.namespaceURI==="http://www.w3.org/1999/xhtml";pn(e,g,A,r,t==null?void 0:t[Un],n[Un]),c[b]=A,c[Un]=n[Un];continue}if(b==="style"){Ht(e,A,t==null?void 0:t[Zn],n[Zn]),c[b]=A,c[Zn]=n[Zn];continue}var v=c[b];if(!(A===v&&!(A===void 0&&e.hasAttribute(b)))){c[b]=A;var m=b[0]+b[1];if(m!=="$$")if(m==="on"){const L={},Z="$$"+b;let R=b.slice(2);var _=Md(R);if(Ad(R)&&(R=R.slice(0,-7),L.capture=!0),!_&&v){if(A!=null)continue;e.removeEventListener(R,c[Z],L),c[Z]=null}if(A!=null)if(_)e[`__${R}`]=A,Xt([R]);else{let Y=function(ce){c[b].call(this,ce)};var D=Y;c[Z]=ba(R,e,Y,L)}else _&&(e[`__${R}`]=void 0)}else if(b==="style")he(e,b,A);else if(b==="autofocus")md(e,!!A);else if(!a&&(b==="__value"||b==="value"&&A!=null))e.value=e.__value=A;else if(b==="selected"&&f)eh(e,A);else{var w=b;u||(w=Od(w));var P=w==="defaultValue"||w==="defaultChecked";if(A==null&&!a&&!P)if(s[b]=null,w==="value"||w==="checked"){let L=e;const Z=t===void 0;if(w==="value"){let R=L.defaultValue;L.removeAttribute(w),L.defaultValue=R,L.value=L.__value=Z?R:null}else{let R=L.defaultChecked;L.removeAttribute(w),L.defaultChecked=R,L.checked=Z?R:!1}}else e.removeAttribute(b);else P||d.includes(w)&&(a||typeof A!="string")?(e[w]=A,w in s&&(s[w]=nt)):typeof A!="function"&&he(e,w,A)}}}return c}function Bn(e,t,n=[],r=[],i=[],o,s=!1,a=!1){Iu(i,n,r,u=>{var c=void 0,f={},h=e.nodeName===Qd,d=!1;if(Vu(()=>{var v=t(...u.map(l)),m=th(e,c,v,o,s,a);d&&h&&"value"in v&&Xs(e,v.value);for(let w of Object.getOwnPropertySymbols(f))v[w]||rt(f[w]);for(let w of Object.getOwnPropertySymbols(v)){var _=v[w];w.description===Gf&&(!c||_!==c[w])&&(f[w]&&rt(f[w]),f[w]=Et(()=>Gd(e,()=>_))),m[w]=_}c=m}),h){var g=e;Qi(()=>{Xs(g,c.value,!0),jd(g)})}d=!0})}function $o(e){return e.__attributes??(e.__attributes={[tc]:e.nodeName.includes("-"),[nc]:e.namespaceURI===cu})}var il=new Map;function ic(e){var t=e.getAttribute("is")||e.nodeName,n=il.get(t);if(n)return n;il.set(t,n=[]);for(var r,i=e,o=Element.prototype;o!==i;){r=eu(i);for(var s in r)r[s].set&&n.push(s);i=qo(i)}return n}function nh(e,t,n=t){var r=new WeakSet;bd(e,"input",async i=>{var o=i?e.defaultValue:e.value;if(o=vs(e)?ys(o):o,n(o),Oe!==null&&r.add(Oe),await Vr(),o!==(o=t())){var s=e.selectionStart,a=e.selectionEnd,u=e.value.length;if(e.value=o??"",a!==null){var c=e.value.length;s===a&&a===u&&c>u?(e.selectionStart=c,e.selectionEnd=c):(e.selectionStart=s,e.selectionEnd=Math.min(a,c))}}}),_e(t)==null&&e.value&&(n(vs(e)?ys(e.value):e.value),Oe!==null&&r.add(Oe)),fi(()=>{var i=t();if(e===document.activeElement){var o=Ms??Oe;if(r.has(o))return}vs(e)&&i===ys(e.value)||e.type==="date"&&!i&&!e.value||i!==e.value&&(e.value=i??"")})}function vs(e){var t=e.type;return t==="number"||t==="range"}function ys(e){return e===""?null:+e}var $n,Jr,Ki,Xo,oc;const Wo=class Wo{constructor(t){W(this,Xo);W(this,$n,new WeakMap);W(this,Jr);W(this,Ki);ke(this,Ki,t)}observe(t,n){var r=p(this,$n).get(t)||new Set;return r.add(n),p(this,$n).set(t,r),st(this,Xo,oc).call(this).observe(t,p(this,Ki)),()=>{var i=p(this,$n).get(t);i.delete(n),i.size===0&&(p(this,$n).delete(t),p(this,Jr).unobserve(t))}}};$n=new WeakMap,Jr=new WeakMap,Ki=new WeakMap,Xo=new WeakSet,oc=function(){return p(this,Jr)??ke(this,Jr,new ResizeObserver(t=>{for(var n of t){Wo.entries.set(n.target,n);for(var r of p(this,$n).get(n.target)||[])r(n)}}))},Xe(Wo,"entries",new WeakMap);let Ws=Wo;var rh=new Ws({box:"border-box"});function ol(e,t,n){var r=rh.observe(e,()=>n(e[t]));Qi(()=>(_e(()=>n(e[t])),r))}function sl(e,t){return e===t||(e==null?void 0:e[ln])===t}function gn(e={},t,n,r){return Qi(()=>{var i,o;return fi(()=>{i=o,o=[],_e(()=>{e!==n(...o)&&(t(e,...o),i&&sl(n(...i),e)&&t(null,...i))})}),()=>{un(()=>{o&&sl(n(...o),e)&&t(null,...o)})}}),e}function pt(e=!1){const t=Be,n=t.l.u;if(!n)return;let r=()=>de(t.s);if(e){let i=0,o={};const s=Zi(()=>{let a=!1;const u=t.s;for(const c in u)u[c]!==o[c]&&(o[c]=u[c],a=!0);return a&&i++,i});r=()=>l(s)}n.b.length&&Fu(()=>{al(t,r),As(n.b)}),dn(()=>{const i=_e(()=>n.m.map(Ef));return()=>{for(const o of i)typeof o=="function"&&o()}}),n.a.length&&dn(()=>{al(t,r),As(n.a)})}function al(e,t){if(e.l.s)for(const n of e.l.s)l(n);t()}let ao=!1;function ih(e){var t=ao;try{return ao=!1,[e(),ao]}finally{ao=t}}const oh={get(e,t){if(!e.exclude.includes(t))return e.props[t]},set(e,t){return!1},getOwnPropertyDescriptor(e,t){if(!e.exclude.includes(t)&&t in e.props)return{enumerable:!0,configurable:!0,value:e.props[t]}},has(e,t){return e.exclude.includes(t)?!1:t in e.props},ownKeys(e){return Reflect.ownKeys(e.props).filter(t=>!e.exclude.includes(t))}};function $i(e,t,n){return new Proxy({props:e,exclude:t},oh)}const sh={get(e,t){if(!e.exclude.includes(t))return l(e.version),t in e.special?e.special[t]():e.props[t]},set(e,t,n){if(!(t in e.special)){var r=Re;try{Bt(e.parent_effect),e.special[t]=Q({get[t](){return e.props[t]}},t,lu)}finally{Bt(r)}}return e.special[t](n),Ua(e.version),!0},getOwnPropertyDescriptor(e,t){if(!e.exclude.includes(t)&&t in e.props)return{enumerable:!0,configurable:!0,value:e.props[t]}},deleteProperty(e,t){return e.exclude.includes(t)||(e.exclude.push(t),Ua(e.version)),!0},has(e,t){return e.exclude.includes(t)?!1:t in e.props},ownKeys(e){return Reflect.ownKeys(e.props).filter(t=>!e.exclude.includes(t))}};function Gs(e,t){return new Proxy({props:e,exclude:t,special:{},version:or(0),parent_effect:Re},sh)}const ah={get(e,t){let n=e.props.length;for(;n--;){let r=e.props[n];if(mi(r)&&(r=r()),typeof r=="object"&&r!==null&&t in r)return r[t]}},set(e,t,n){let r=e.props.length;for(;r--;){let i=e.props[r];mi(i)&&(i=i());const o=tr(i,t);if(o&&o.set)return o.set(n),!0}return!1},getOwnPropertyDescriptor(e,t){let n=e.props.length;for(;n--;){let r=e.props[n];if(mi(r)&&(r=r()),typeof r=="object"&&r!==null&&t in r){const i=tr(r,t);return i&&!i.configurable&&(i.configurable=!0),i}}},has(e,t){if(t===ln||t===su)return!1;for(let n of e.props)if(mi(n)&&(n=n()),n!=null&&t in n)return!0;return!1},ownKeys(e){const t=[];for(let n of e.props)if(mi(n)&&(n=n()),!!n){for(const r in n)t.includes(r)||t.push(r);for(const r of Object.getOwnPropertySymbols(n))t.includes(r)||t.push(r)}return t}};function sc(...e){return new Proxy({props:e},ah)}function Q(e,t,n,r){var D;var i=!ci||(n&Hf)!==0,o=(n&Kf)!==0,s=(n&Yf)!==0,a=r,u=!0,c=()=>(u&&(u=!1,a=s?_e(r):r),a),f;if(o){var h=ln in e||su in e;f=((D=tr(e,t))==null?void 0:D.set)??(h&&t in e?b=>e[t]=b:void 0)}var d,g=!1;o?[d,g]=ih(()=>e[t]):d=e[t],d===void 0&&r!==void 0&&(d=c(),f&&(i&&Mf(),f(d)));var v;if(i?v=()=>{var b=e[t];return b===void 0?c():(u=!0,b)}:v=()=>{var b=e[t];return b!==void 0&&(a=void 0),b===void 0?a:b},i&&!(n&lu))return v;if(f){var m=e.$$legacy;return function(b,A){return arguments.length>0?((!i||!A||m||g)&&f(A?v():b),b):v()}}var _=!1,w=(n&Bf?Zi:ji)(()=>(_=!1,v()));o&&l(w);var P=Re;return function(b,A){if(arguments.length>0){const L=A?l(w):i&&o?er(b):b;return I(w,L),_=!0,a!==void 0&&(a=L),b}return sr&&_||P.f&zn?w.v:l(w)}}function ac(e){Be===null&&Uo(),ci&&Be.l!==null?uh(Be).m.push(e):dn(()=>{const t=_e(e);if(typeof t=="function")return t})}function es(e){Be===null&&Uo(),ac(()=>()=>_e(e))}function lh(e,t,{bubbles:n=!1,cancelable:r=!1}={}){return new CustomEvent(e,{detail:t,bubbles:n,cancelable:r})}function mn(){const e=Be;return e===null&&Uo(),(t,n,r)=>{var o;const i=(o=e.s.$$events)==null?void 0:o[t];if(i){const s=Wi(i)?i.slice():[i],a=lh(t,n,r);for(const u of s)u.call(e.x,a);return!a.defaultPrevented}return!0}}function uh(e){var t=e.l;return t.u??(t.u={a:[],b:[],m:[]})}const ch="5";var $l;typeof window<"u"&&(($l=window.__svelte??(window.__svelte={})).v??($l.v=new Set)).add(ch);jf();var fh={value:()=>{}};function ts(){for(var e=0,t=arguments.length,n={},r;e<t;++e){if(!(r=arguments[e]+"")||r in n||/[\s.]/.test(r))throw new Error("illegal type: "+r);n[r]=[]}return new wo(n)}function wo(e){this._=e}function dh(e,t){return e.trim().split(/^|\s+/).map(function(n){var r="",i=n.indexOf(".");if(i>=0&&(r=n.slice(i+1),n=n.slice(0,i)),n&&!t.hasOwnProperty(n))throw new Error("unknown type: "+n);return{type:n,name:r}})}wo.prototype=ts.prototype={constructor:wo,on:function(e,t){var n=this._,r=dh(e+"",n),i,o=-1,s=r.length;if(arguments.length<2){for(;++o<s;)if((i=(e=r[o]).type)&&(i=hh(n[i],e.name)))return i;return}if(t!=null&&typeof t!="function")throw new Error("invalid callback: "+t);for(;++o<s;)if(i=(e=r[o]).type)n[i]=ll(n[i],e.name,t);else if(t==null)for(i in n)n[i]=ll(n[i],e.name,null);return this},copy:function(){var e={},t=this._;for(var n in t)e[n]=t[n].slice();return new wo(e)},call:function(e,t){if((i=arguments.length-2)>0)for(var n=new Array(i),r=0,i,o;r<i;++r)n[r]=arguments[r+2];if(!this._.hasOwnProperty(e))throw new Error("unknown type: "+e);for(o=this._[e],r=0,i=o.length;r<i;++r)o[r].value.apply(t,n)},apply:function(e,t,n){if(!this._.hasOwnProperty(e))throw new Error("unknown type: "+e);for(var r=this._[e],i=0,o=r.length;i<o;++i)r[i].value.apply(t,n)}};function hh(e,t){for(var n=0,r=e.length,i;n<r;++n)if((i=e[n]).name===t)return i.value}function ll(e,t,n){for(var r=0,i=e.length;r<i;++r)if(e[r].name===t){e[r]=fh,e=e.slice(0,r).concat(e.slice(r+1));break}return n!=null&&e.push({name:t,value:n}),e}var qs="http://www.w3.org/1999/xhtml";const ul={svg:"http://www.w3.org/2000/svg",xhtml:qs,xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/"};function ns(e){var t=e+="",n=t.indexOf(":");return n>=0&&(t=e.slice(0,n))!=="xmlns"&&(e=e.slice(n+1)),ul.hasOwnProperty(t)?{space:ul[t],local:e}:e}function gh(e){return function(){var t=this.ownerDocument,n=this.namespaceURI;return n===qs&&t.documentElement.namespaceURI===qs?t.createElement(e):t.createElementNS(n,e)}}function vh(e){return function(){return this.ownerDocument.createElementNS(e.space,e.local)}}function lc(e){var t=ns(e);return(t.local?vh:gh)(t)}function yh(){}function Ea(e){return e==null?yh:function(){return this.querySelector(e)}}function ph(e){typeof e!="function"&&(e=Ea(e));for(var t=this._groups,n=t.length,r=new Array(n),i=0;i<n;++i)for(var o=t[i],s=o.length,a=r[i]=new Array(s),u,c,f=0;f<s;++f)(u=o[f])&&(c=e.call(u,u.__data__,f,o))&&("__data__"in u&&(c.__data__=u.__data__),a[f]=c);return new Mt(r,this._parents)}function mh(e){return e==null?[]:Array.isArray(e)?e:Array.from(e)}function _h(){return[]}function uc(e){return e==null?_h:function(){return this.querySelectorAll(e)}}function bh(e){return function(){return mh(e.apply(this,arguments))}}function xh(e){typeof e=="function"?e=bh(e):e=uc(e);for(var t=this._groups,n=t.length,r=[],i=[],o=0;o<n;++o)for(var s=t[o],a=s.length,u,c=0;c<a;++c)(u=s[c])&&(r.push(e.call(u,u.__data__,c,s)),i.push(u));return new Mt(r,i)}function cc(e){return function(){return this.matches(e)}}function fc(e){return function(t){return t.matches(e)}}var wh=Array.prototype.find;function Eh(e){return function(){return wh.call(this.children,e)}}function Nh(){return this.firstElementChild}function Ih(e){return this.select(e==null?Nh:Eh(typeof e=="function"?e:fc(e)))}var Sh=Array.prototype.filter;function Th(){return Array.from(this.children)}function kh(e){return function(){return Sh.call(this.children,e)}}function Ah(e){return this.selectAll(e==null?Th:kh(typeof e=="function"?e:fc(e)))}function Ch(e){typeof e!="function"&&(e=cc(e));for(var t=this._groups,n=t.length,r=new Array(n),i=0;i<n;++i)for(var o=t[i],s=o.length,a=r[i]=[],u,c=0;c<s;++c)(u=o[c])&&e.call(u,u.__data__,c,o)&&a.push(u);return new Mt(r,this._parents)}function dc(e){return new Array(e.length)}function Mh(){return new Mt(this._enter||this._groups.map(dc),this._parents)}function To(e,t){this.ownerDocument=e.ownerDocument,this.namespaceURI=e.namespaceURI,this._next=null,this._parent=e,this.__data__=t}To.prototype={constructor:To,appendChild:function(e){return this._parent.insertBefore(e,this._next)},insertBefore:function(e,t){return this._parent.insertBefore(e,t)},querySelector:function(e){return this._parent.querySelector(e)},querySelectorAll:function(e){return this._parent.querySelectorAll(e)}};function Ph(e){return function(){return e}}function Oh(e,t,n,r,i,o){for(var s=0,a,u=t.length,c=o.length;s<c;++s)(a=t[s])?(a.__data__=o[s],r[s]=a):n[s]=new To(e,o[s]);for(;s<u;++s)(a=t[s])&&(i[s]=a)}function Dh(e,t,n,r,i,o,s){var a,u,c=new Map,f=t.length,h=o.length,d=new Array(f),g;for(a=0;a<f;++a)(u=t[a])&&(d[a]=g=s.call(u,u.__data__,a,t)+"",c.has(g)?i[a]=u:c.set(g,u));for(a=0;a<h;++a)g=s.call(e,o[a],a,o)+"",(u=c.get(g))?(r[a]=u,u.__data__=o[a],c.delete(g)):n[a]=new To(e,o[a]);for(a=0;a<f;++a)(u=t[a])&&c.get(d[a])===u&&(i[a]=u)}function Lh(e){return e.__data__}function zh(e,t){if(!arguments.length)return Array.from(this,Lh);var n=t?Dh:Oh,r=this._parents,i=this._groups;typeof e!="function"&&(e=Ph(e));for(var o=i.length,s=new Array(o),a=new Array(o),u=new Array(o),c=0;c<o;++c){var f=r[c],h=i[c],d=h.length,g=Fh(e.call(f,f&&f.__data__,c,r)),v=g.length,m=a[c]=new Array(v),_=s[c]=new Array(v),w=u[c]=new Array(d);n(f,h,m,_,w,g,t);for(var P=0,D=0,b,A;P<v;++P)if(b=m[P]){for(P>=D&&(D=P+1);!(A=_[D])&&++D<v;);b._next=A||null}}return s=new Mt(s,r),s._enter=a,s._exit=u,s}function Fh(e){return typeof e=="object"&&"length"in e?e:Array.from(e)}function Rh(){return new Mt(this._exit||this._groups.map(dc),this._parents)}function Vh(e,t,n){var r=this.enter(),i=this,o=this.exit();return typeof e=="function"?(r=e(r),r&&(r=r.selection())):r=r.append(e+""),t!=null&&(i=t(i),i&&(i=i.selection())),n==null?o.remove():n(o),r&&i?r.merge(i).order():i}function Bh(e){for(var t=e.selection?e.selection():e,n=this._groups,r=t._groups,i=n.length,o=r.length,s=Math.min(i,o),a=new Array(i),u=0;u<s;++u)for(var c=n[u],f=r[u],h=c.length,d=a[u]=new Array(h),g,v=0;v<h;++v)(g=c[v]||f[v])&&(d[v]=g);for(;u<i;++u)a[u]=n[u];return new Mt(a,this._parents)}function Hh(){for(var e=this._groups,t=-1,n=e.length;++t<n;)for(var r=e[t],i=r.length-1,o=r[i],s;--i>=0;)(s=r[i])&&(o&&s.compareDocumentPosition(o)^4&&o.parentNode.insertBefore(s,o),o=s);return this}function Kh(e){e||(e=Yh);function t(h,d){return h&&d?e(h.__data__,d.__data__):!h-!d}for(var n=this._groups,r=n.length,i=new Array(r),o=0;o<r;++o){for(var s=n[o],a=s.length,u=i[o]=new Array(a),c,f=0;f<a;++f)(c=s[f])&&(u[f]=c);u.sort(t)}return new Mt(i,this._parents).order()}function Yh(e,t){return e<t?-1:e>t?1:e>=t?0:NaN}function Xh(){var e=arguments[0];return arguments[0]=this,e.apply(null,arguments),this}function Wh(){return Array.from(this)}function Gh(){for(var e=this._groups,t=0,n=e.length;t<n;++t)for(var r=e[t],i=0,o=r.length;i<o;++i){var s=r[i];if(s)return s}return null}function qh(){let e=0;for(const t of this)++e;return e}function Uh(){return!this.node()}function Zh(e){for(var t=this._groups,n=0,r=t.length;n<r;++n)for(var i=t[n],o=0,s=i.length,a;o<s;++o)(a=i[o])&&e.call(a,a.__data__,o,i);return this}function jh(e){return function(){this.removeAttribute(e)}}function Jh(e){return function(){this.removeAttributeNS(e.space,e.local)}}function Qh(e,t){return function(){this.setAttribute(e,t)}}function $h(e,t){return function(){this.setAttributeNS(e.space,e.local,t)}}function eg(e,t){return function(){var n=t.apply(this,arguments);n==null?this.removeAttribute(e):this.setAttribute(e,n)}}function tg(e,t){return function(){var n=t.apply(this,arguments);n==null?this.removeAttributeNS(e.space,e.local):this.setAttributeNS(e.space,e.local,n)}}function ng(e,t){var n=ns(e);if(arguments.length<2){var r=this.node();return n.local?r.getAttributeNS(n.space,n.local):r.getAttribute(n)}return this.each((t==null?n.local?Jh:jh:typeof t=="function"?n.local?tg:eg:n.local?$h:Qh)(n,t))}function hc(e){return e.ownerDocument&&e.ownerDocument.defaultView||e.document&&e||e.defaultView}function rg(e){return function(){this.style.removeProperty(e)}}function ig(e,t,n){return function(){this.style.setProperty(e,t,n)}}function og(e,t,n){return function(){var r=t.apply(this,arguments);r==null?this.style.removeProperty(e):this.style.setProperty(e,r,n)}}function sg(e,t,n){return arguments.length>1?this.each((t==null?rg:typeof t=="function"?og:ig)(e,t,n??"")):ni(this.node(),e)}function ni(e,t){return e.style.getPropertyValue(t)||hc(e).getComputedStyle(e,null).getPropertyValue(t)}function ag(e){return function(){delete this[e]}}function lg(e,t){return function(){this[e]=t}}function ug(e,t){return function(){var n=t.apply(this,arguments);n==null?delete this[e]:this[e]=n}}function cg(e,t){return arguments.length>1?this.each((t==null?ag:typeof t=="function"?ug:lg)(e,t)):this.node()[e]}function gc(e){return e.trim().split(/^|\s+/)}function Na(e){return e.classList||new vc(e)}function vc(e){this._node=e,this._names=gc(e.getAttribute("class")||"")}vc.prototype={add:function(e){var t=this._names.indexOf(e);t<0&&(this._names.push(e),this._node.setAttribute("class",this._names.join(" ")))},remove:function(e){var t=this._names.indexOf(e);t>=0&&(this._names.splice(t,1),this._node.setAttribute("class",this._names.join(" ")))},contains:function(e){return this._names.indexOf(e)>=0}};function yc(e,t){for(var n=Na(e),r=-1,i=t.length;++r<i;)n.add(t[r])}function pc(e,t){for(var n=Na(e),r=-1,i=t.length;++r<i;)n.remove(t[r])}function fg(e){return function(){yc(this,e)}}function dg(e){return function(){pc(this,e)}}function hg(e,t){return function(){(t.apply(this,arguments)?yc:pc)(this,e)}}function gg(e,t){var n=gc(e+"");if(arguments.length<2){for(var r=Na(this.node()),i=-1,o=n.length;++i<o;)if(!r.contains(n[i]))return!1;return!0}return this.each((typeof t=="function"?hg:t?fg:dg)(n,t))}function vg(){this.textContent=""}function yg(e){return function(){this.textContent=e}}function pg(e){return function(){var t=e.apply(this,arguments);this.textContent=t??""}}function mg(e){return arguments.length?this.each(e==null?vg:(typeof e=="function"?pg:yg)(e)):this.node().textContent}function _g(){this.innerHTML=""}function bg(e){return function(){this.innerHTML=e}}function xg(e){return function(){var t=e.apply(this,arguments);this.innerHTML=t??""}}function wg(e){return arguments.length?this.each(e==null?_g:(typeof e=="function"?xg:bg)(e)):this.node().innerHTML}function Eg(){this.nextSibling&&this.parentNode.appendChild(this)}function Ng(){return this.each(Eg)}function Ig(){this.previousSibling&&this.parentNode.insertBefore(this,this.parentNode.firstChild)}function Sg(){return this.each(Ig)}function Tg(e){var t=typeof e=="function"?e:lc(e);return this.select(function(){return this.appendChild(t.apply(this,arguments))})}function kg(){return null}function Ag(e,t){var n=typeof e=="function"?e:lc(e),r=t==null?kg:typeof t=="function"?t:Ea(t);return this.select(function(){return this.insertBefore(n.apply(this,arguments),r.apply(this,arguments)||null)})}function Cg(){var e=this.parentNode;e&&e.removeChild(this)}function Mg(){return this.each(Cg)}function Pg(){var e=this.cloneNode(!1),t=this.parentNode;return t?t.insertBefore(e,this.nextSibling):e}function Og(){var e=this.cloneNode(!0),t=this.parentNode;return t?t.insertBefore(e,this.nextSibling):e}function Dg(e){return this.select(e?Og:Pg)}function Lg(e){return arguments.length?this.property("__data__",e):this.node().__data__}function zg(e){return function(t){e.call(this,t,this.__data__)}}function Fg(e){return e.trim().split(/^|\s+/).map(function(t){var n="",r=t.indexOf(".");return r>=0&&(n=t.slice(r+1),t=t.slice(0,r)),{type:t,name:n}})}function Rg(e){return function(){var t=this.__on;if(t){for(var n=0,r=-1,i=t.length,o;n<i;++n)o=t[n],(!e.type||o.type===e.type)&&o.name===e.name?this.removeEventListener(o.type,o.listener,o.options):t[++r]=o;++r?t.length=r:delete this.__on}}}function Vg(e,t,n){return function(){var r=this.__on,i,o=zg(t);if(r){for(var s=0,a=r.length;s<a;++s)if((i=r[s]).type===e.type&&i.name===e.name){this.removeEventListener(i.type,i.listener,i.options),this.addEventListener(i.type,i.listener=o,i.options=n),i.value=t;return}}this.addEventListener(e.type,o,n),i={type:e.type,name:e.name,value:t,listener:o,options:n},r?r.push(i):this.__on=[i]}}function Bg(e,t,n){var r=Fg(e+""),i,o=r.length,s;if(arguments.length<2){var a=this.node().__on;if(a){for(var u=0,c=a.length,f;u<c;++u)for(i=0,f=a[u];i<o;++i)if((s=r[i]).type===f.type&&s.name===f.name)return f.value}return}for(a=t?Vg:Rg,i=0;i<o;++i)this.each(a(r[i],t,n));return this}function mc(e,t,n){var r=hc(e),i=r.CustomEvent;typeof i=="function"?i=new i(t,n):(i=r.document.createEvent("Event"),n?(i.initEvent(t,n.bubbles,n.cancelable),i.detail=n.detail):i.initEvent(t,!1,!1)),e.dispatchEvent(i)}function Hg(e,t){return function(){return mc(this,e,t)}}function Kg(e,t){return function(){return mc(this,e,t.apply(this,arguments))}}function Yg(e,t){return this.each((typeof t=="function"?Kg:Hg)(e,t))}function*Xg(){for(var e=this._groups,t=0,n=e.length;t<n;++t)for(var r=e[t],i=0,o=r.length,s;i<o;++i)(s=r[i])&&(yield s)}var _c=[null];function Mt(e,t){this._groups=e,this._parents=t}function eo(){return new Mt([[document.documentElement]],_c)}function Wg(){return this}Mt.prototype=eo.prototype={constructor:Mt,select:ph,selectAll:xh,selectChild:Ih,selectChildren:Ah,filter:Ch,data:zh,enter:Mh,exit:Rh,join:Vh,merge:Bh,selection:Wg,order:Hh,sort:Kh,call:Xh,nodes:Wh,node:Gh,size:qh,empty:Uh,each:Zh,attr:ng,style:sg,property:cg,classed:gg,text:mg,html:wg,raise:Ng,lower:Sg,append:Tg,insert:Ag,remove:Mg,clone:Dg,datum:Lg,on:Bg,dispatch:Yg,[Symbol.iterator]:Xg};function qt(e){return typeof e=="string"?new Mt([[document.querySelector(e)]],[document.documentElement]):new Mt([[e]],_c)}function Gg(e){let t;for(;t=e.sourceEvent;)e=t;return e}function tn(e,t){if(e=Gg(e),t===void 0&&(t=e.currentTarget),t){var n=t.ownerSVGElement||t;if(n.createSVGPoint){var r=n.createSVGPoint();return r.x=e.clientX,r.y=e.clientY,r=r.matrixTransform(t.getScreenCTM().inverse()),[r.x,r.y]}if(t.getBoundingClientRect){var i=t.getBoundingClientRect();return[e.clientX-i.left-t.clientLeft,e.clientY-i.top-t.clientTop]}}return[e.pageX,e.pageY]}const qg={passive:!1},Ci={capture:!0,passive:!1};function ps(e){e.stopImmediatePropagation()}function Br(e){e.preventDefault(),e.stopImmediatePropagation()}function bc(e){var t=e.document.documentElement,n=qt(e).on("dragstart.drag",Br,Ci);"onselectstart"in t?n.on("selectstart.drag",Br,Ci):(t.__noselect=t.style.MozUserSelect,t.style.MozUserSelect="none")}function xc(e,t){var n=e.document.documentElement,r=qt(e).on("dragstart.drag",null);t&&(r.on("click.drag",Br,Ci),setTimeout(function(){r.on("click.drag",null)},0)),"onselectstart"in n?r.on("selectstart.drag",null):(n.style.MozUserSelect=n.__noselect,delete n.__noselect)}const lo=e=>()=>e;function Us(e,{sourceEvent:t,subject:n,target:r,identifier:i,active:o,x:s,y:a,dx:u,dy:c,dispatch:f}){Object.defineProperties(this,{type:{value:e,enumerable:!0,configurable:!0},sourceEvent:{value:t,enumerable:!0,configurable:!0},subject:{value:n,enumerable:!0,configurable:!0},target:{value:r,enumerable:!0,configurable:!0},identifier:{value:i,enumerable:!0,configurable:!0},active:{value:o,enumerable:!0,configurable:!0},x:{value:s,enumerable:!0,configurable:!0},y:{value:a,enumerable:!0,configurable:!0},dx:{value:u,enumerable:!0,configurable:!0},dy:{value:c,enumerable:!0,configurable:!0},_:{value:f}})}Us.prototype.on=function(){var e=this._.on.apply(this._,arguments);return e===this._?this:e};function Ug(e){return!e.ctrlKey&&!e.button}function Zg(){return this.parentNode}function jg(e,t){return t??{x:e.x,y:e.y}}function Jg(){return navigator.maxTouchPoints||"ontouchstart"in this}function Qg(){var e=Ug,t=Zg,n=jg,r=Jg,i={},o=ts("start","drag","end"),s=0,a,u,c,f,h=0;function d(b){b.on("mousedown.drag",g).filter(r).on("touchstart.drag",_).on("touchmove.drag",w,qg).on("touchend.drag touchcancel.drag",P).style("touch-action","none").style("-webkit-tap-highlight-color","rgba(0,0,0,0)")}function g(b,A){if(!(f||!e.call(this,b,A))){var L=D(this,t.call(this,b,A),b,A,"mouse");L&&(qt(b.view).on("mousemove.drag",v,Ci).on("mouseup.drag",m,Ci),bc(b.view),ps(b),c=!1,a=b.clientX,u=b.clientY,L("start",b))}}function v(b){if(Br(b),!c){var A=b.clientX-a,L=b.clientY-u;c=A*A+L*L>h}i.mouse("drag",b)}function m(b){qt(b.view).on("mousemove.drag mouseup.drag",null),xc(b.view,c),Br(b),i.mouse("end",b)}function _(b,A){if(e.call(this,b,A)){var L=b.changedTouches,Z=t.call(this,b,A),R=L.length,Y,ce;for(Y=0;Y<R;++Y)(ce=D(this,Z,b,A,L[Y].identifier,L[Y]))&&(ps(b),ce("start",b,L[Y]))}}function w(b){var A=b.changedTouches,L=A.length,Z,R;for(Z=0;Z<L;++Z)(R=i[A[Z].identifier])&&(Br(b),R("drag",b,A[Z]))}function P(b){var A=b.changedTouches,L=A.length,Z,R;for(f&&clearTimeout(f),f=setTimeout(function(){f=null},500),Z=0;Z<L;++Z)(R=i[A[Z].identifier])&&(ps(b),R("end",b,A[Z]))}function D(b,A,L,Z,R,Y){var ce=o.copy(),E=tn(Y||L,A),x,M,y;if((y=n.call(b,new Us("beforestart",{sourceEvent:L,target:d,identifier:R,active:s,x:E[0],y:E[1],dx:0,dy:0,dispatch:ce}),Z))!=null)return x=y.x-E[0]||0,M=y.y-E[1]||0,function k(N,F,V){var K=E,G;switch(N){case"start":i[R]=k,G=s++;break;case"end":delete i[R],--s;case"drag":E=tn(V||F,A),G=s;break}ce.call(N,b,new Us(N,{sourceEvent:F,subject:y,target:d,identifier:R,active:G,x:E[0]+x,y:E[1]+M,dx:E[0]-K[0],dy:E[1]-K[1],dispatch:ce}),Z)}}return d.filter=function(b){return arguments.length?(e=typeof b=="function"?b:lo(!!b),d):e},d.container=function(b){return arguments.length?(t=typeof b=="function"?b:lo(b),d):t},d.subject=function(b){return arguments.length?(n=typeof b=="function"?b:lo(b),d):n},d.touchable=function(b){return arguments.length?(r=typeof b=="function"?b:lo(!!b),d):r},d.on=function(){var b=o.on.apply(o,arguments);return b===o?d:b},d.clickDistance=function(b){return arguments.length?(h=(b=+b)*b,d):Math.sqrt(h)},d}function Ia(e,t,n){e.prototype=t.prototype=n,n.constructor=e}function wc(e,t){var n=Object.create(e.prototype);for(var r in t)n[r]=t[r];return n}function to(){}var Mi=.7,ko=1/Mi,Hr="\\s*([+-]?\\d+)\\s*",Pi="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)\\s*",fn="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*",$g=/^#([0-9a-f]{3,8})$/,ev=new RegExp(`^rgb\\(${Hr},${Hr},${Hr}\\)$`),tv=new RegExp(`^rgb\\(${fn},${fn},${fn}\\)$`),nv=new RegExp(`^rgba\\(${Hr},${Hr},${Hr},${Pi}\\)$`),rv=new RegExp(`^rgba\\(${fn},${fn},${fn},${Pi}\\)$`),iv=new RegExp(`^hsl\\(${Pi},${fn},${fn}\\)$`),ov=new RegExp(`^hsla\\(${Pi},${fn},${fn},${Pi}\\)$`),cl={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};Ia(to,Sr,{copy(e){return Object.assign(new this.constructor,this,e)},displayable(){return this.rgb().displayable()},hex:fl,formatHex:fl,formatHex8:sv,formatHsl:av,formatRgb:dl,toString:dl});function fl(){return this.rgb().formatHex()}function sv(){return this.rgb().formatHex8()}function av(){return Ec(this).formatHsl()}function dl(){return this.rgb().formatRgb()}function Sr(e){var t,n;return e=(e+"").trim().toLowerCase(),(t=$g.exec(e))?(n=t[1].length,t=parseInt(t[1],16),n===6?hl(t):n===3?new Nt(t>>8&15|t>>4&240,t>>4&15|t&240,(t&15)<<4|t&15,1):n===8?uo(t>>24&255,t>>16&255,t>>8&255,(t&255)/255):n===4?uo(t>>12&15|t>>8&240,t>>8&15|t>>4&240,t>>4&15|t&240,((t&15)<<4|t&15)/255):null):(t=ev.exec(e))?new Nt(t[1],t[2],t[3],1):(t=tv.exec(e))?new Nt(t[1]*255/100,t[2]*255/100,t[3]*255/100,1):(t=nv.exec(e))?uo(t[1],t[2],t[3],t[4]):(t=rv.exec(e))?uo(t[1]*255/100,t[2]*255/100,t[3]*255/100,t[4]):(t=iv.exec(e))?yl(t[1],t[2]/100,t[3]/100,1):(t=ov.exec(e))?yl(t[1],t[2]/100,t[3]/100,t[4]):cl.hasOwnProperty(e)?hl(cl[e]):e==="transparent"?new Nt(NaN,NaN,NaN,0):null}function hl(e){return new Nt(e>>16&255,e>>8&255,e&255,1)}function uo(e,t,n,r){return r<=0&&(e=t=n=NaN),new Nt(e,t,n,r)}function lv(e){return e instanceof to||(e=Sr(e)),e?(e=e.rgb(),new Nt(e.r,e.g,e.b,e.opacity)):new Nt}function Zs(e,t,n,r){return arguments.length===1?lv(e):new Nt(e,t,n,r??1)}function Nt(e,t,n,r){this.r=+e,this.g=+t,this.b=+n,this.opacity=+r}Ia(Nt,Zs,wc(to,{brighter(e){return e=e==null?ko:Math.pow(ko,e),new Nt(this.r*e,this.g*e,this.b*e,this.opacity)},darker(e){return e=e==null?Mi:Math.pow(Mi,e),new Nt(this.r*e,this.g*e,this.b*e,this.opacity)},rgb(){return this},clamp(){return new Nt(wr(this.r),wr(this.g),wr(this.b),Ao(this.opacity))},displayable(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:gl,formatHex:gl,formatHex8:uv,formatRgb:vl,toString:vl}));function gl(){return`#${dr(this.r)}${dr(this.g)}${dr(this.b)}`}function uv(){return`#${dr(this.r)}${dr(this.g)}${dr(this.b)}${dr((isNaN(this.opacity)?1:this.opacity)*255)}`}function vl(){const e=Ao(this.opacity);return`${e===1?"rgb(":"rgba("}${wr(this.r)}, ${wr(this.g)}, ${wr(this.b)}${e===1?")":`, ${e})`}`}function Ao(e){return isNaN(e)?1:Math.max(0,Math.min(1,e))}function wr(e){return Math.max(0,Math.min(255,Math.round(e)||0))}function dr(e){return e=wr(e),(e<16?"0":"")+e.toString(16)}function yl(e,t,n,r){return r<=0?e=t=n=NaN:n<=0||n>=1?e=t=NaN:t<=0&&(e=NaN),new Ut(e,t,n,r)}function Ec(e){if(e instanceof Ut)return new Ut(e.h,e.s,e.l,e.opacity);if(e instanceof to||(e=Sr(e)),!e)return new Ut;if(e instanceof Ut)return e;e=e.rgb();var t=e.r/255,n=e.g/255,r=e.b/255,i=Math.min(t,n,r),o=Math.max(t,n,r),s=NaN,a=o-i,u=(o+i)/2;return a?(t===o?s=(n-r)/a+(n<r)*6:n===o?s=(r-t)/a+2:s=(t-n)/a+4,a/=u<.5?o+i:2-o-i,s*=60):a=u>0&&u<1?0:s,new Ut(s,a,u,e.opacity)}function cv(e,t,n,r){return arguments.length===1?Ec(e):new Ut(e,t,n,r??1)}function Ut(e,t,n,r){this.h=+e,this.s=+t,this.l=+n,this.opacity=+r}Ia(Ut,cv,wc(to,{brighter(e){return e=e==null?ko:Math.pow(ko,e),new Ut(this.h,this.s,this.l*e,this.opacity)},darker(e){return e=e==null?Mi:Math.pow(Mi,e),new Ut(this.h,this.s,this.l*e,this.opacity)},rgb(){var e=this.h%360+(this.h<0)*360,t=isNaN(e)||isNaN(this.s)?0:this.s,n=this.l,r=n+(n<.5?n:1-n)*t,i=2*n-r;return new Nt(ms(e>=240?e-240:e+120,i,r),ms(e,i,r),ms(e<120?e+240:e-120,i,r),this.opacity)},clamp(){return new Ut(pl(this.h),co(this.s),co(this.l),Ao(this.opacity))},displayable(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl(){const e=Ao(this.opacity);return`${e===1?"hsl(":"hsla("}${pl(this.h)}, ${co(this.s)*100}%, ${co(this.l)*100}%${e===1?")":`, ${e})`}`}}));function pl(e){return e=(e||0)%360,e<0?e+360:e}function co(e){return Math.max(0,Math.min(1,e||0))}function ms(e,t,n){return(e<60?t+(n-t)*e/60:e<180?n:e<240?t+(n-t)*(240-e)/60:t)*255}const Sa=e=>()=>e;function fv(e,t){return function(n){return e+n*t}}function dv(e,t,n){return e=Math.pow(e,n),t=Math.pow(t,n)-e,n=1/n,function(r){return Math.pow(e+r*t,n)}}function hv(e){return(e=+e)==1?Nc:function(t,n){return n-t?dv(t,n,e):Sa(isNaN(t)?n:t)}}function Nc(e,t){var n=t-e;return n?fv(e,n):Sa(isNaN(e)?t:e)}const Co=function e(t){var n=hv(t);function r(i,o){var s=n((i=Zs(i)).r,(o=Zs(o)).r),a=n(i.g,o.g),u=n(i.b,o.b),c=Nc(i.opacity,o.opacity);return function(f){return i.r=s(f),i.g=a(f),i.b=u(f),i.opacity=c(f),i+""}}return r.gamma=e,r}(1);function gv(e,t){t||(t=[]);var n=e?Math.min(t.length,e.length):0,r=t.slice(),i;return function(o){for(i=0;i<n;++i)r[i]=e[i]*(1-o)+t[i]*o;return r}}function vv(e){return ArrayBuffer.isView(e)&&!(e instanceof DataView)}function yv(e,t){var n=t?t.length:0,r=e?Math.min(n,e.length):0,i=new Array(r),o=new Array(n),s;for(s=0;s<r;++s)i[s]=Ti(e[s],t[s]);for(;s<n;++s)o[s]=t[s];return function(a){for(s=0;s<r;++s)o[s]=i[s](a);return o}}function pv(e,t){var n=new Date;return e=+e,t=+t,function(r){return n.setTime(e*(1-r)+t*r),n}}function an(e,t){return e=+e,t=+t,function(n){return e*(1-n)+t*n}}function mv(e,t){var n={},r={},i;(e===null||typeof e!="object")&&(e={}),(t===null||typeof t!="object")&&(t={});for(i in t)i in e?n[i]=Ti(e[i],t[i]):r[i]=t[i];return function(o){for(i in n)r[i]=n[i](o);return r}}var js=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,_s=new RegExp(js.source,"g");function _v(e){return function(){return e}}function bv(e){return function(t){return e(t)+""}}function Ic(e,t){var n=js.lastIndex=_s.lastIndex=0,r,i,o,s=-1,a=[],u=[];for(e=e+"",t=t+"";(r=js.exec(e))&&(i=_s.exec(t));)(o=i.index)>n&&(o=t.slice(n,o),a[s]?a[s]+=o:a[++s]=o),(r=r[0])===(i=i[0])?a[s]?a[s]+=i:a[++s]=i:(a[++s]=null,u.push({i:s,x:an(r,i)})),n=_s.lastIndex;return n<t.length&&(o=t.slice(n),a[s]?a[s]+=o:a[++s]=o),a.length<2?u[0]?bv(u[0].x):_v(t):(t=u.length,function(c){for(var f=0,h;f<t;++f)a[(h=u[f]).i]=h.x(c);return a.join("")})}function Ti(e,t){var n=typeof t,r;return t==null||n==="boolean"?Sa(t):(n==="number"?an:n==="string"?(r=Sr(t))?(t=r,Co):Ic:t instanceof Sr?Co:t instanceof Date?pv:vv(t)?gv:Array.isArray(t)?yv:typeof t.valueOf!="function"&&typeof t.toString!="function"||isNaN(t)?mv:an)(e,t)}var ml=180/Math.PI,Js={translateX:0,translateY:0,rotate:0,skewX:0,scaleX:1,scaleY:1};function Sc(e,t,n,r,i,o){var s,a,u;return(s=Math.sqrt(e*e+t*t))&&(e/=s,t/=s),(u=e*n+t*r)&&(n-=e*u,r-=t*u),(a=Math.sqrt(n*n+r*r))&&(n/=a,r/=a,u/=a),e*r<t*n&&(e=-e,t=-t,u=-u,s=-s),{translateX:i,translateY:o,rotate:Math.atan2(t,e)*ml,skewX:Math.atan(u)*ml,scaleX:s,scaleY:a}}var fo;function xv(e){const t=new(typeof DOMMatrix=="function"?DOMMatrix:WebKitCSSMatrix)(e+"");return t.isIdentity?Js:Sc(t.a,t.b,t.c,t.d,t.e,t.f)}function wv(e){return e==null||(fo||(fo=document.createElementNS("http://www.w3.org/2000/svg","g")),fo.setAttribute("transform",e),!(e=fo.transform.baseVal.consolidate()))?Js:(e=e.matrix,Sc(e.a,e.b,e.c,e.d,e.e,e.f))}function Tc(e,t,n,r){function i(c){return c.length?c.pop()+" ":""}function o(c,f,h,d,g,v){if(c!==h||f!==d){var m=g.push("translate(",null,t,null,n);v.push({i:m-4,x:an(c,h)},{i:m-2,x:an(f,d)})}else(h||d)&&g.push("translate("+h+t+d+n)}function s(c,f,h,d){c!==f?(c-f>180?f+=360:f-c>180&&(c+=360),d.push({i:h.push(i(h)+"rotate(",null,r)-2,x:an(c,f)})):f&&h.push(i(h)+"rotate("+f+r)}function a(c,f,h,d){c!==f?d.push({i:h.push(i(h)+"skewX(",null,r)-2,x:an(c,f)}):f&&h.push(i(h)+"skewX("+f+r)}function u(c,f,h,d,g,v){if(c!==h||f!==d){var m=g.push(i(g)+"scale(",null,",",null,")");v.push({i:m-4,x:an(c,h)},{i:m-2,x:an(f,d)})}else(h!==1||d!==1)&&g.push(i(g)+"scale("+h+","+d+")")}return function(c,f){var h=[],d=[];return c=e(c),f=e(f),o(c.translateX,c.translateY,f.translateX,f.translateY,h,d),s(c.rotate,f.rotate,h,d),a(c.skewX,f.skewX,h,d),u(c.scaleX,c.scaleY,f.scaleX,f.scaleY,h,d),c=f=null,function(g){for(var v=-1,m=d.length,_;++v<m;)h[(_=d[v]).i]=_.x(g);return h.join("")}}}var Ev=Tc(xv,"px, ","px)","deg)"),Nv=Tc(wv,", ",")",")"),Iv=1e-12;function _l(e){return((e=Math.exp(e))+1/e)/2}function Sv(e){return((e=Math.exp(e))-1/e)/2}function Tv(e){return((e=Math.exp(2*e))-1)/(e+1)}const Eo=function e(t,n,r){function i(o,s){var a=o[0],u=o[1],c=o[2],f=s[0],h=s[1],d=s[2],g=f-a,v=h-u,m=g*g+v*v,_,w;if(m<Iv)w=Math.log(d/c)/t,_=function(Z){return[a+Z*g,u+Z*v,c*Math.exp(t*Z*w)]};else{var P=Math.sqrt(m),D=(d*d-c*c+r*m)/(2*c*n*P),b=(d*d-c*c-r*m)/(2*d*n*P),A=Math.log(Math.sqrt(D*D+1)-D),L=Math.log(Math.sqrt(b*b+1)-b);w=(L-A)/t,_=function(Z){var R=Z*w,Y=_l(A),ce=c/(n*P)*(Y*Tv(t*R+A)-Sv(A));return[a+ce*g,u+ce*v,c*Y/_l(t*R+A)]}}return _.duration=w*1e3*t/Math.SQRT2,_}return i.rho=function(o){var s=Math.max(.001,+o),a=s*s,u=a*a;return e(s,a,u)},i}(Math.SQRT2,2,4);var ri=0,Ei=0,bi=0,kc=1e3,Mo,Ni,Po=0,Tr=0,rs=0,Oi=typeof performance=="object"&&performance.now?performance:Date,Ac=typeof window=="object"&&window.requestAnimationFrame?window.requestAnimationFrame.bind(window):function(e){setTimeout(e,17)};function Ta(){return Tr||(Ac(kv),Tr=Oi.now()+rs)}function kv(){Tr=0}function Oo(){this._call=this._time=this._next=null}Oo.prototype=Cc.prototype={constructor:Oo,restart:function(e,t,n){if(typeof e!="function")throw new TypeError("callback is not a function");n=(n==null?Ta():+n)+(t==null?0:+t),!this._next&&Ni!==this&&(Ni?Ni._next=this:Mo=this,Ni=this),this._call=e,this._time=n,Qs()},stop:function(){this._call&&(this._call=null,this._time=1/0,Qs())}};function Cc(e,t,n){var r=new Oo;return r.restart(e,t,n),r}function Av(){Ta(),++ri;for(var e=Mo,t;e;)(t=Tr-e._time)>=0&&e._call.call(void 0,t),e=e._next;--ri}function bl(){Tr=(Po=Oi.now())+rs,ri=Ei=0;try{Av()}finally{ri=0,Mv(),Tr=0}}function Cv(){var e=Oi.now(),t=e-Po;t>kc&&(rs-=t,Po=e)}function Mv(){for(var e,t=Mo,n,r=1/0;t;)t._call?(r>t._time&&(r=t._time),e=t,t=t._next):(n=t._next,t._next=null,t=e?e._next=n:Mo=n);Ni=e,Qs(r)}function Qs(e){if(!ri){Ei&&(Ei=clearTimeout(Ei));var t=e-Tr;t>24?(e<1/0&&(Ei=setTimeout(bl,e-Oi.now()-rs)),bi&&(bi=clearInterval(bi))):(bi||(Po=Oi.now(),bi=setInterval(Cv,kc)),ri=1,Ac(bl))}}function xl(e,t,n){var r=new Oo;return t=t==null?0:+t,r.restart(i=>{r.stop(),e(i+t)},t,n),r}var Pv=ts("start","end","cancel","interrupt"),Ov=[],Mc=0,wl=1,$s=2,No=3,El=4,ea=5,Io=6;function is(e,t,n,r,i,o){var s=e.__transition;if(!s)e.__transition={};else if(n in s)return;Dv(e,n,{name:t,index:r,group:i,on:Pv,tween:Ov,time:o.time,delay:o.delay,duration:o.duration,ease:o.ease,timer:null,state:Mc})}function ka(e,t){var n=en(e,t);if(n.state>Mc)throw new Error("too late; already scheduled");return n}function _n(e,t){var n=en(e,t);if(n.state>No)throw new Error("too late; already running");return n}function en(e,t){var n=e.__transition;if(!n||!(n=n[t]))throw new Error("transition not found");return n}function Dv(e,t,n){var r=e.__transition,i;r[t]=n,n.timer=Cc(o,0,n.time);function o(c){n.state=wl,n.timer.restart(s,n.delay,n.time),n.delay<=c&&s(c-n.delay)}function s(c){var f,h,d,g;if(n.state!==wl)return u();for(f in r)if(g=r[f],g.name===n.name){if(g.state===No)return xl(s);g.state===El?(g.state=Io,g.timer.stop(),g.on.call("interrupt",e,e.__data__,g.index,g.group),delete r[f]):+f<t&&(g.state=Io,g.timer.stop(),g.on.call("cancel",e,e.__data__,g.index,g.group),delete r[f])}if(xl(function(){n.state===No&&(n.state=El,n.timer.restart(a,n.delay,n.time),a(c))}),n.state=$s,n.on.call("start",e,e.__data__,n.index,n.group),n.state===$s){for(n.state=No,i=new Array(d=n.tween.length),f=0,h=-1;f<d;++f)(g=n.tween[f].value.call(e,e.__data__,n.index,n.group))&&(i[++h]=g);i.length=h+1}}function a(c){for(var f=c<n.duration?n.ease.call(null,c/n.duration):(n.timer.restart(u),n.state=ea,1),h=-1,d=i.length;++h<d;)i[h].call(e,f);n.state===ea&&(n.on.call("end",e,e.__data__,n.index,n.group),u())}function u(){n.state=Io,n.timer.stop(),delete r[t];for(var c in r)return;delete e.__transition}}function So(e,t){var n=e.__transition,r,i,o=!0,s;if(n){t=t==null?null:t+"";for(s in n){if((r=n[s]).name!==t){o=!1;continue}i=r.state>$s&&r.state<ea,r.state=Io,r.timer.stop(),r.on.call(i?"interrupt":"cancel",e,e.__data__,r.index,r.group),delete n[s]}o&&delete e.__transition}}function Lv(e){return this.each(function(){So(this,e)})}function zv(e,t){var n,r;return function(){var i=_n(this,e),o=i.tween;if(o!==n){r=n=o;for(var s=0,a=r.length;s<a;++s)if(r[s].name===t){r=r.slice(),r.splice(s,1);break}}i.tween=r}}function Fv(e,t,n){var r,i;if(typeof n!="function")throw new Error;return function(){var o=_n(this,e),s=o.tween;if(s!==r){i=(r=s).slice();for(var a={name:t,value:n},u=0,c=i.length;u<c;++u)if(i[u].name===t){i[u]=a;break}u===c&&i.push(a)}o.tween=i}}function Rv(e,t){var n=this._id;if(e+="",arguments.length<2){for(var r=en(this.node(),n).tween,i=0,o=r.length,s;i<o;++i)if((s=r[i]).name===e)return s.value;return null}return this.each((t==null?zv:Fv)(n,e,t))}function Aa(e,t,n){var r=e._id;return e.each(function(){var i=_n(this,r);(i.value||(i.value={}))[t]=n.apply(this,arguments)}),function(i){return en(i,r).value[t]}}function Pc(e,t){var n;return(typeof t=="number"?an:t instanceof Sr?Co:(n=Sr(t))?(t=n,Co):Ic)(e,t)}function Vv(e){return function(){this.removeAttribute(e)}}function Bv(e){return function(){this.removeAttributeNS(e.space,e.local)}}function Hv(e,t,n){var r,i=n+"",o;return function(){var s=this.getAttribute(e);return s===i?null:s===r?o:o=t(r=s,n)}}function Kv(e,t,n){var r,i=n+"",o;return function(){var s=this.getAttributeNS(e.space,e.local);return s===i?null:s===r?o:o=t(r=s,n)}}function Yv(e,t,n){var r,i,o;return function(){var s,a=n(this),u;return a==null?void this.removeAttribute(e):(s=this.getAttribute(e),u=a+"",s===u?null:s===r&&u===i?o:(i=u,o=t(r=s,a)))}}function Xv(e,t,n){var r,i,o;return function(){var s,a=n(this),u;return a==null?void this.removeAttributeNS(e.space,e.local):(s=this.getAttributeNS(e.space,e.local),u=a+"",s===u?null:s===r&&u===i?o:(i=u,o=t(r=s,a)))}}function Wv(e,t){var n=ns(e),r=n==="transform"?Nv:Pc;return this.attrTween(e,typeof t=="function"?(n.local?Xv:Yv)(n,r,Aa(this,"attr."+e,t)):t==null?(n.local?Bv:Vv)(n):(n.local?Kv:Hv)(n,r,t))}function Gv(e,t){return function(n){this.setAttribute(e,t.call(this,n))}}function qv(e,t){return function(n){this.setAttributeNS(e.space,e.local,t.call(this,n))}}function Uv(e,t){var n,r;function i(){var o=t.apply(this,arguments);return o!==r&&(n=(r=o)&&qv(e,o)),n}return i._value=t,i}function Zv(e,t){var n,r;function i(){var o=t.apply(this,arguments);return o!==r&&(n=(r=o)&&Gv(e,o)),n}return i._value=t,i}function jv(e,t){var n="attr."+e;if(arguments.length<2)return(n=this.tween(n))&&n._value;if(t==null)return this.tween(n,null);if(typeof t!="function")throw new Error;var r=ns(e);return this.tween(n,(r.local?Uv:Zv)(r,t))}function Jv(e,t){return function(){ka(this,e).delay=+t.apply(this,arguments)}}function Qv(e,t){return t=+t,function(){ka(this,e).delay=t}}function $v(e){var t=this._id;return arguments.length?this.each((typeof e=="function"?Jv:Qv)(t,e)):en(this.node(),t).delay}function ey(e,t){return function(){_n(this,e).duration=+t.apply(this,arguments)}}function ty(e,t){return t=+t,function(){_n(this,e).duration=t}}function ny(e){var t=this._id;return arguments.length?this.each((typeof e=="function"?ey:ty)(t,e)):en(this.node(),t).duration}function ry(e,t){if(typeof t!="function")throw new Error;return function(){_n(this,e).ease=t}}function iy(e){var t=this._id;return arguments.length?this.each(ry(t,e)):en(this.node(),t).ease}function oy(e,t){return function(){var n=t.apply(this,arguments);if(typeof n!="function")throw new Error;_n(this,e).ease=n}}function sy(e){if(typeof e!="function")throw new Error;return this.each(oy(this._id,e))}function ay(e){typeof e!="function"&&(e=cc(e));for(var t=this._groups,n=t.length,r=new Array(n),i=0;i<n;++i)for(var o=t[i],s=o.length,a=r[i]=[],u,c=0;c<s;++c)(u=o[c])&&e.call(u,u.__data__,c,o)&&a.push(u);return new Hn(r,this._parents,this._name,this._id)}function ly(e){if(e._id!==this._id)throw new Error;for(var t=this._groups,n=e._groups,r=t.length,i=n.length,o=Math.min(r,i),s=new Array(r),a=0;a<o;++a)for(var u=t[a],c=n[a],f=u.length,h=s[a]=new Array(f),d,g=0;g<f;++g)(d=u[g]||c[g])&&(h[g]=d);for(;a<r;++a)s[a]=t[a];return new Hn(s,this._parents,this._name,this._id)}function uy(e){return(e+"").trim().split(/^|\s+/).every(function(t){var n=t.indexOf(".");return n>=0&&(t=t.slice(0,n)),!t||t==="start"})}function cy(e,t,n){var r,i,o=uy(t)?ka:_n;return function(){var s=o(this,e),a=s.on;a!==r&&(i=(r=a).copy()).on(t,n),s.on=i}}function fy(e,t){var n=this._id;return arguments.length<2?en(this.node(),n).on.on(e):this.each(cy(n,e,t))}function dy(e){return function(){var t=this.parentNode;for(var n in this.__transition)if(+n!==e)return;t&&t.removeChild(this)}}function hy(){return this.on("end.remove",dy(this._id))}function gy(e){var t=this._name,n=this._id;typeof e!="function"&&(e=Ea(e));for(var r=this._groups,i=r.length,o=new Array(i),s=0;s<i;++s)for(var a=r[s],u=a.length,c=o[s]=new Array(u),f,h,d=0;d<u;++d)(f=a[d])&&(h=e.call(f,f.__data__,d,a))&&("__data__"in f&&(h.__data__=f.__data__),c[d]=h,is(c[d],t,n,d,c,en(f,n)));return new Hn(o,this._parents,t,n)}function vy(e){var t=this._name,n=this._id;typeof e!="function"&&(e=uc(e));for(var r=this._groups,i=r.length,o=[],s=[],a=0;a<i;++a)for(var u=r[a],c=u.length,f,h=0;h<c;++h)if(f=u[h]){for(var d=e.call(f,f.__data__,h,u),g,v=en(f,n),m=0,_=d.length;m<_;++m)(g=d[m])&&is(g,t,n,m,d,v);o.push(d),s.push(f)}return new Hn(o,s,t,n)}var yy=eo.prototype.constructor;function py(){return new yy(this._groups,this._parents)}function my(e,t){var n,r,i;return function(){var o=ni(this,e),s=(this.style.removeProperty(e),ni(this,e));return o===s?null:o===n&&s===r?i:i=t(n=o,r=s)}}function Oc(e){return function(){this.style.removeProperty(e)}}function _y(e,t,n){var r,i=n+"",o;return function(){var s=ni(this,e);return s===i?null:s===r?o:o=t(r=s,n)}}function by(e,t,n){var r,i,o;return function(){var s=ni(this,e),a=n(this),u=a+"";return a==null&&(u=a=(this.style.removeProperty(e),ni(this,e))),s===u?null:s===r&&u===i?o:(i=u,o=t(r=s,a))}}function xy(e,t){var n,r,i,o="style."+t,s="end."+o,a;return function(){var u=_n(this,e),c=u.on,f=u.value[o]==null?a||(a=Oc(t)):void 0;(c!==n||i!==f)&&(r=(n=c).copy()).on(s,i=f),u.on=r}}function wy(e,t,n){var r=(e+="")=="transform"?Ev:Pc;return t==null?this.styleTween(e,my(e,r)).on("end.style."+e,Oc(e)):typeof t=="function"?this.styleTween(e,by(e,r,Aa(this,"style."+e,t))).each(xy(this._id,e)):this.styleTween(e,_y(e,r,t),n).on("end.style."+e,null)}function Ey(e,t,n){return function(r){this.style.setProperty(e,t.call(this,r),n)}}function Ny(e,t,n){var r,i;function o(){var s=t.apply(this,arguments);return s!==i&&(r=(i=s)&&Ey(e,s,n)),r}return o._value=t,o}function Iy(e,t,n){var r="style."+(e+="");if(arguments.length<2)return(r=this.tween(r))&&r._value;if(t==null)return this.tween(r,null);if(typeof t!="function")throw new Error;return this.tween(r,Ny(e,t,n??""))}function Sy(e){return function(){this.textContent=e}}function Ty(e){return function(){var t=e(this);this.textContent=t??""}}function ky(e){return this.tween("text",typeof e=="function"?Ty(Aa(this,"text",e)):Sy(e==null?"":e+""))}function Ay(e){return function(t){this.textContent=e.call(this,t)}}function Cy(e){var t,n;function r(){var i=e.apply(this,arguments);return i!==n&&(t=(n=i)&&Ay(i)),t}return r._value=e,r}function My(e){var t="text";if(arguments.length<1)return(t=this.tween(t))&&t._value;if(e==null)return this.tween(t,null);if(typeof e!="function")throw new Error;return this.tween(t,Cy(e))}function Py(){for(var e=this._name,t=this._id,n=Dc(),r=this._groups,i=r.length,o=0;o<i;++o)for(var s=r[o],a=s.length,u,c=0;c<a;++c)if(u=s[c]){var f=en(u,t);is(u,e,n,c,s,{time:f.time+f.delay+f.duration,delay:0,duration:f.duration,ease:f.ease})}return new Hn(r,this._parents,e,n)}function Oy(){var e,t,n=this,r=n._id,i=n.size();return new Promise(function(o,s){var a={value:s},u={value:function(){--i===0&&o()}};n.each(function(){var c=_n(this,r),f=c.on;f!==e&&(t=(e=f).copy(),t._.cancel.push(a),t._.interrupt.push(a),t._.end.push(u)),c.on=t}),i===0&&o()})}var Dy=0;function Hn(e,t,n,r){this._groups=e,this._parents=t,this._name=n,this._id=r}function Dc(){return++Dy}var In=eo.prototype;Hn.prototype={constructor:Hn,select:gy,selectAll:vy,selectChild:In.selectChild,selectChildren:In.selectChildren,filter:ay,merge:ly,selection:py,transition:Py,call:In.call,nodes:In.nodes,node:In.node,size:In.size,empty:In.empty,each:In.each,on:fy,attr:Wv,attrTween:jv,style:wy,styleTween:Iy,text:ky,textTween:My,remove:hy,tween:Rv,delay:$v,duration:ny,ease:iy,easeVarying:sy,end:Oy,[Symbol.iterator]:In[Symbol.iterator]};function Ly(e){return((e*=2)<=1?e*e*e:(e-=2)*e*e+2)/2}var zy={time:null,delay:0,duration:250,ease:Ly};function Fy(e,t){for(var n;!(n=e.__transition)||!(n=n[t]);)if(!(e=e.parentNode))throw new Error(`transition ${t} not found`);return n}function Ry(e){var t,n;e instanceof Hn?(t=e._id,e=e._name):(t=Dc(),(n=zy).time=Ta(),e=e==null?null:e+"");for(var r=this._groups,i=r.length,o=0;o<i;++o)for(var s=r[o],a=s.length,u,c=0;c<a;++c)(u=s[c])&&is(u,e,t,c,s,n||Fy(u,t));return new Hn(r,this._parents,e,t)}eo.prototype.interrupt=Lv;eo.prototype.transition=Ry;const ho=e=>()=>e;function Vy(e,{sourceEvent:t,target:n,transform:r,dispatch:i}){Object.defineProperties(this,{type:{value:e,enumerable:!0,configurable:!0},sourceEvent:{value:t,enumerable:!0,configurable:!0},target:{value:n,enumerable:!0,configurable:!0},transform:{value:r,enumerable:!0,configurable:!0},_:{value:i}})}function Dn(e,t,n){this.k=e,this.x=t,this.y=n}Dn.prototype={constructor:Dn,scale:function(e){return e===1?this:new Dn(this.k*e,this.x,this.y)},translate:function(e,t){return e===0&t===0?this:new Dn(this.k,this.x+this.k*e,this.y+this.k*t)},apply:function(e){return[e[0]*this.k+this.x,e[1]*this.k+this.y]},applyX:function(e){return e*this.k+this.x},applyY:function(e){return e*this.k+this.y},invert:function(e){return[(e[0]-this.x)/this.k,(e[1]-this.y)/this.k]},invertX:function(e){return(e-this.x)/this.k},invertY:function(e){return(e-this.y)/this.k},rescaleX:function(e){return e.copy().domain(e.range().map(this.invertX,this).map(e.invert,e))},rescaleY:function(e){return e.copy().domain(e.range().map(this.invertY,this).map(e.invert,e))},toString:function(){return"translate("+this.x+","+this.y+") scale("+this.k+")"}};var os=new Dn(1,0,0);Lc.prototype=Dn.prototype;function Lc(e){for(;!e.__zoom;)if(!(e=e.parentNode))return os;return e.__zoom}function bs(e){e.stopImmediatePropagation()}function xi(e){e.preventDefault(),e.stopImmediatePropagation()}function By(e){return(!e.ctrlKey||e.type==="wheel")&&!e.button}function Hy(){var e=this;return e instanceof SVGElement?(e=e.ownerSVGElement||e,e.hasAttribute("viewBox")?(e=e.viewBox.baseVal,[[e.x,e.y],[e.x+e.width,e.y+e.height]]):[[0,0],[e.width.baseVal.value,e.height.baseVal.value]]):[[0,0],[e.clientWidth,e.clientHeight]]}function Nl(){return this.__zoom||os}function Ky(e){return-e.deltaY*(e.deltaMode===1?.05:e.deltaMode?1:.002)*(e.ctrlKey?10:1)}function Yy(){return navigator.maxTouchPoints||"ontouchstart"in this}function Xy(e,t,n){var r=e.invertX(t[0][0])-n[0][0],i=e.invertX(t[1][0])-n[1][0],o=e.invertY(t[0][1])-n[0][1],s=e.invertY(t[1][1])-n[1][1];return e.translate(i>r?(r+i)/2:Math.min(0,r)||Math.max(0,i),s>o?(o+s)/2:Math.min(0,o)||Math.max(0,s))}function Wy(){var e=By,t=Hy,n=Xy,r=Ky,i=Yy,o=[0,1/0],s=[[-1/0,-1/0],[1/0,1/0]],a=250,u=Eo,c=ts("start","zoom","end"),f,h,d,g=500,v=150,m=0,_=10;function w(y){y.property("__zoom",Nl).on("wheel.zoom",R,{passive:!1}).on("mousedown.zoom",Y).on("dblclick.zoom",ce).filter(i).on("touchstart.zoom",E).on("touchmove.zoom",x).on("touchend.zoom touchcancel.zoom",M).style("-webkit-tap-highlight-color","rgba(0,0,0,0)")}w.transform=function(y,k,N,F){var V=y.selection?y.selection():y;V.property("__zoom",Nl),y!==V?A(y,k,N,F):V.interrupt().each(function(){L(this,arguments).event(F).start().zoom(null,typeof k=="function"?k.apply(this,arguments):k).end()})},w.scaleBy=function(y,k,N,F){w.scaleTo(y,function(){var V=this.__zoom.k,K=typeof k=="function"?k.apply(this,arguments):k;return V*K},N,F)},w.scaleTo=function(y,k,N,F){w.transform(y,function(){var V=t.apply(this,arguments),K=this.__zoom,G=N==null?b(V):typeof N=="function"?N.apply(this,arguments):N,B=K.invert(G),ne=typeof k=="function"?k.apply(this,arguments):k;return n(D(P(K,ne),G,B),V,s)},N,F)},w.translateBy=function(y,k,N,F){w.transform(y,function(){return n(this.__zoom.translate(typeof k=="function"?k.apply(this,arguments):k,typeof N=="function"?N.apply(this,arguments):N),t.apply(this,arguments),s)},null,F)},w.translateTo=function(y,k,N,F,V){w.transform(y,function(){var K=t.apply(this,arguments),G=this.__zoom,B=F==null?b(K):typeof F=="function"?F.apply(this,arguments):F;return n(os.translate(B[0],B[1]).scale(G.k).translate(typeof k=="function"?-k.apply(this,arguments):-k,typeof N=="function"?-N.apply(this,arguments):-N),K,s)},F,V)};function P(y,k){return k=Math.max(o[0],Math.min(o[1],k)),k===y.k?y:new Dn(k,y.x,y.y)}function D(y,k,N){var F=k[0]-N[0]*y.k,V=k[1]-N[1]*y.k;return F===y.x&&V===y.y?y:new Dn(y.k,F,V)}function b(y){return[(+y[0][0]+ +y[1][0])/2,(+y[0][1]+ +y[1][1])/2]}function A(y,k,N,F){y.on("start.zoom",function(){L(this,arguments).event(F).start()}).on("interrupt.zoom end.zoom",function(){L(this,arguments).event(F).end()}).tween("zoom",function(){var V=this,K=arguments,G=L(V,K).event(F),B=t.apply(V,K),ne=N==null?b(B):typeof N=="function"?N.apply(V,K):N,oe=Math.max(B[1][0]-B[0][0],B[1][1]-B[0][1]),J=V.__zoom,q=typeof k=="function"?k.apply(V,K):k,z=u(J.invert(ne).concat(oe/J.k),q.invert(ne).concat(oe/q.k));return function(j){if(j===1)j=q;else{var te=z(j),ue=oe/te[2];j=new Dn(ue,ne[0]-te[0]*ue,ne[1]-te[1]*ue)}G.zoom(null,j)}})}function L(y,k,N){return!N&&y.__zooming||new Z(y,k)}function Z(y,k){this.that=y,this.args=k,this.active=0,this.sourceEvent=null,this.extent=t.apply(y,k),this.taps=0}Z.prototype={event:function(y){return y&&(this.sourceEvent=y),this},start:function(){return++this.active===1&&(this.that.__zooming=this,this.emit("start")),this},zoom:function(y,k){return this.mouse&&y!=="mouse"&&(this.mouse[1]=k.invert(this.mouse[0])),this.touch0&&y!=="touch"&&(this.touch0[1]=k.invert(this.touch0[0])),this.touch1&&y!=="touch"&&(this.touch1[1]=k.invert(this.touch1[0])),this.that.__zoom=k,this.emit("zoom"),this},end:function(){return--this.active===0&&(delete this.that.__zooming,this.emit("end")),this},emit:function(y){var k=qt(this.that).datum();c.call(y,this.that,new Vy(y,{sourceEvent:this.sourceEvent,target:w,transform:this.that.__zoom,dispatch:c}),k)}};function R(y,...k){if(!e.apply(this,arguments))return;var N=L(this,k).event(y),F=this.__zoom,V=Math.max(o[0],Math.min(o[1],F.k*Math.pow(2,r.apply(this,arguments)))),K=tn(y);if(N.wheel)(N.mouse[0][0]!==K[0]||N.mouse[0][1]!==K[1])&&(N.mouse[1]=F.invert(N.mouse[0]=K)),clearTimeout(N.wheel);else{if(F.k===V)return;N.mouse=[K,F.invert(K)],So(this),N.start()}xi(y),N.wheel=setTimeout(G,v),N.zoom("mouse",n(D(P(F,V),N.mouse[0],N.mouse[1]),N.extent,s));function G(){N.wheel=null,N.end()}}function Y(y,...k){if(d||!e.apply(this,arguments))return;var N=y.currentTarget,F=L(this,k,!0).event(y),V=qt(y.view).on("mousemove.zoom",ne,!0).on("mouseup.zoom",oe,!0),K=tn(y,N),G=y.clientX,B=y.clientY;bc(y.view),bs(y),F.mouse=[K,this.__zoom.invert(K)],So(this),F.start();function ne(J){if(xi(J),!F.moved){var q=J.clientX-G,z=J.clientY-B;F.moved=q*q+z*z>m}F.event(J).zoom("mouse",n(D(F.that.__zoom,F.mouse[0]=tn(J,N),F.mouse[1]),F.extent,s))}function oe(J){V.on("mousemove.zoom mouseup.zoom",null),xc(J.view,F.moved),xi(J),F.event(J).end()}}function ce(y,...k){if(e.apply(this,arguments)){var N=this.__zoom,F=tn(y.changedTouches?y.changedTouches[0]:y,this),V=N.invert(F),K=N.k*(y.shiftKey?.5:2),G=n(D(P(N,K),F,V),t.apply(this,k),s);xi(y),a>0?qt(this).transition().duration(a).call(A,G,F,y):qt(this).call(w.transform,G,F,y)}}function E(y,...k){if(e.apply(this,arguments)){var N=y.touches,F=N.length,V=L(this,k,y.changedTouches.length===F).event(y),K,G,B,ne;for(bs(y),G=0;G<F;++G)B=N[G],ne=tn(B,this),ne=[ne,this.__zoom.invert(ne),B.identifier],V.touch0?!V.touch1&&V.touch0[2]!==ne[2]&&(V.touch1=ne,V.taps=0):(V.touch0=ne,K=!0,V.taps=1+!!f);f&&(f=clearTimeout(f)),K&&(V.taps<2&&(h=ne[0],f=setTimeout(function(){f=null},g)),So(this),V.start())}}function x(y,...k){if(this.__zooming){var N=L(this,k).event(y),F=y.changedTouches,V=F.length,K,G,B,ne;for(xi(y),K=0;K<V;++K)G=F[K],B=tn(G,this),N.touch0&&N.touch0[2]===G.identifier?N.touch0[0]=B:N.touch1&&N.touch1[2]===G.identifier&&(N.touch1[0]=B);if(G=N.that.__zoom,N.touch1){var oe=N.touch0[0],J=N.touch0[1],q=N.touch1[0],z=N.touch1[1],j=(j=q[0]-oe[0])*j+(j=q[1]-oe[1])*j,te=(te=z[0]-J[0])*te+(te=z[1]-J[1])*te;G=P(G,Math.sqrt(j/te)),B=[(oe[0]+q[0])/2,(oe[1]+q[1])/2],ne=[(J[0]+z[0])/2,(J[1]+z[1])/2]}else if(N.touch0)B=N.touch0[0],ne=N.touch0[1];else return;N.zoom("touch",n(D(G,B,ne),N.extent,s))}}function M(y,...k){if(this.__zooming){var N=L(this,k).event(y),F=y.changedTouches,V=F.length,K,G;for(bs(y),d&&clearTimeout(d),d=setTimeout(function(){d=null},g),K=0;K<V;++K)G=F[K],N.touch0&&N.touch0[2]===G.identifier?delete N.touch0:N.touch1&&N.touch1[2]===G.identifier&&delete N.touch1;if(N.touch1&&!N.touch0&&(N.touch0=N.touch1,delete N.touch1),N.touch0)N.touch0[1]=this.__zoom.invert(N.touch0[0]);else if(N.end(),N.taps===2&&(G=tn(G,this),Math.hypot(h[0]-G[0],h[1]-G[1])<_)){var B=qt(this).on("dblclick.zoom");B&&B.apply(this,arguments)}}}return w.wheelDelta=function(y){return arguments.length?(r=typeof y=="function"?y:ho(+y),w):r},w.filter=function(y){return arguments.length?(e=typeof y=="function"?y:ho(!!y),w):e},w.touchable=function(y){return arguments.length?(i=typeof y=="function"?y:ho(!!y),w):i},w.extent=function(y){return arguments.length?(t=typeof y=="function"?y:ho([[+y[0][0],+y[0][1]],[+y[1][0],+y[1][1]]]),w):t},w.scaleExtent=function(y){return arguments.length?(o[0]=+y[0],o[1]=+y[1],w):[o[0],o[1]]},w.translateExtent=function(y){return arguments.length?(s[0][0]=+y[0][0],s[1][0]=+y[1][0],s[0][1]=+y[0][1],s[1][1]=+y[1][1],w):[[s[0][0],s[0][1]],[s[1][0],s[1][1]]]},w.constrain=function(y){return arguments.length?(n=y,w):n},w.duration=function(y){return arguments.length?(a=+y,w):a},w.interpolate=function(y){return arguments.length?(u=y,w):u},w.on=function(){var y=c.on.apply(c,arguments);return y===c?w:y},w.clickDistance=function(y){return arguments.length?(m=(y=+y)*y,w):Math.sqrt(m)},w.tapDistance=function(y){return arguments.length?(_=+y,w):_},w}const Di={error001:()=>"[React Flow]: Seems like you have not used zustand provider as an ancestor. Help: https://reactflow.dev/error#001",error002:()=>"It looks like you've created a new nodeTypes or edgeTypes object. If this wasn't on purpose please define the nodeTypes/edgeTypes outside of the component or memoize them.",error003:e=>`Node type "${e}" not found. Using fallback type "default".`,error004:()=>"The React Flow parent container needs a width and a height to render the graph.",error005:()=>"Only child nodes can use a parent extent.",error006:()=>"Can't create edge. An edge needs a source and a target.",error007:e=>`The old edge with id=${e} does not exist.`,error009:e=>`Marker type "${e}" doesn't exist.`,error008:(e,{id:t,sourceHandle:n,targetHandle:r})=>`Couldn't create edge for ${e} handle id: "${e==="source"?n:r}", edge id: ${t}.`,error010:()=>"Handle: No node id found. Make sure to only use a Handle inside a custom Node.",error011:e=>`Edge type "${e}" not found. Using fallback type "default".`,error012:e=>`Node with id "${e}" does not exist, it may have been removed. This can happen when a node is deleted before the "onNodeClick" handler is called.`,error013:(e="react")=>`It seems that you haven't loaded the styles. Please import '@xyflow/${e}/dist/style.css' or base.css to make sure everything is working properly.`,error014:()=>"useNodeConnections: No node ID found. Call useNodeConnections inside a custom Node or provide a node ID.",error015:()=>"It seems that you are trying to drag a node that is not initialized. Please use onNodesChange as explained in the docs."},ta=[[Number.NEGATIVE_INFINITY,Number.NEGATIVE_INFINITY],[Number.POSITIVE_INFINITY,Number.POSITIVE_INFINITY]],zc=["Enter"," ","Escape"],Gy={"node.a11yDescription.default":"Press enter or space to select a node. Press delete to remove it and escape to cancel.","node.a11yDescription.keyboardDisabled":"Press enter or space to select a node. You can then use the arrow keys to move the node around. Press delete to remove it and escape to cancel.","node.a11yDescription.ariaLiveMessage":({direction:e,x:t,y:n})=>`Moved selected node ${e}. New position, x: ${t}, y: ${n}`,"edge.a11yDescription.default":"Press enter or space to select an edge. You can then press delete to remove it or escape to cancel.","controls.ariaLabel":"Control Panel","controls.zoomIn.ariaLabel":"Zoom In","controls.zoomOut.ariaLabel":"Zoom Out","controls.fitView.ariaLabel":"Fit View","controls.interactive.ariaLabel":"Toggle Interactivity","minimap.ariaLabel":"Mini Map","handle.ariaLabel":"Handle"};var ii;(function(e){e.Strict="strict",e.Loose="loose"})(ii||(ii={}));var Kr;(function(e){e.Free="free",e.Vertical="vertical",e.Horizontal="horizontal"})(Kr||(Kr={}));var Do;(function(e){e.Partial="partial",e.Full="full"})(Do||(Do={}));const na={inProgress:!1,isValid:null,from:null,fromHandle:null,fromPosition:null,fromNode:null,to:null,toHandle:null,toPosition:null,toNode:null,pointer:null};var jn;(function(e){e.Bezier="default",e.Straight="straight",e.Step="step",e.SmoothStep="smoothstep",e.SimpleBezier="simplebezier"})(jn||(jn={}));var Lo;(function(e){e.Arrow="arrow",e.ArrowClosed="arrowclosed"})(Lo||(Lo={}));var xe;(function(e){e.Left="left",e.Top="top",e.Right="right",e.Bottom="bottom"})(xe||(xe={}));const Il={[xe.Left]:xe.Right,[xe.Right]:xe.Left,[xe.Top]:xe.Bottom,[xe.Bottom]:xe.Top};function qy(e,t){if(!e&&!t)return!0;if(!e||!t||e.size!==t.size)return!1;if(!e.size&&!t.size)return!0;for(const n of e.keys())if(!t.has(n))return!1;return!0}function Sl(e,t,n){if(!n)return;const r=[];e.forEach((i,o)=>{t!=null&&t.has(o)||r.push(i)}),r.length&&n(r)}function Uy(e){return e===null?null:e?"valid":"invalid"}const Fc=e=>"id"in e&&"source"in e&&"target"in e,Zy=e=>"id"in e&&"position"in e&&!("source"in e)&&!("target"in e),Ca=e=>"id"in e&&"internals"in e&&!("source"in e)&&!("target"in e),no=(e,t=[0,0])=>{const{width:n,height:r}=Dr(e),i=e.origin??t,o=n*i[0],s=r*i[1];return{x:e.position.x-o,y:e.position.y-s}},jy=(e,t={nodeOrigin:[0,0]})=>{if(e.length===0)return{x:0,y:0,width:0,height:0};const n=e.reduce((r,i)=>{const o=typeof i=="string";let s=!t.nodeLookup&&!o?i:void 0;t.nodeLookup&&(s=o?t.nodeLookup.get(i):Ca(i)?i:t.nodeLookup.get(i.id));const a=s?zo(s,t.nodeOrigin):{x:0,y:0,x2:0,y2:0};return as(r,a)},{x:1/0,y:1/0,x2:-1/0,y2:-1/0});return ls(n)},ss=(e,t={})=>{let n={x:1/0,y:1/0,x2:-1/0,y2:-1/0},r=!1;return e.forEach(i=>{(t.filter===void 0||t.filter(i))&&(n=as(n,zo(i)),r=!0)}),r?ls(n):{x:0,y:0,width:0,height:0}},Ma=(e,t,[n,r,i]=[0,0,1],o=!1,s=!1)=>{const a={...io(t,[n,r,i]),width:t.width/i,height:t.height/i},u=[];for(const c of e.values()){const{measured:f,selectable:h=!0,hidden:d=!1}=c;if(s&&!h||d)continue;const g=f.width??c.width??c.initialWidth??null,v=f.height??c.height??c.initialHeight??null,m=Li(a,si(c)),_=(g??0)*(v??0),w=o&&m>0;(!c.internals.handleBounds||w||m>=_||c.dragging)&&u.push(c)}return u},Jy=(e,t)=>{const n=new Set;return e.forEach(r=>{n.add(r.id)}),t.filter(r=>n.has(r.source)||n.has(r.target))};function Qy(e,t){const n=new Map,r=t!=null&&t.nodes?new Set(t.nodes.map(i=>i.id)):null;return e.forEach(i=>{i.measured.width&&i.measured.height&&((t==null?void 0:t.includeHiddenNodes)||!i.hidden)&&(!r||r.has(i.id))&&n.set(i.id,i)}),n}async function $y({nodes:e,width:t,height:n,panZoom:r,minZoom:i,maxZoom:o},s){if(e.size===0)return Promise.resolve(!0);const a=Qy(e,s),u=ss(a),c=Pa(u,t,n,(s==null?void 0:s.minZoom)??i,(s==null?void 0:s.maxZoom)??o,(s==null?void 0:s.padding)??.1);return await r.setViewport(c,{duration:s==null?void 0:s.duration,ease:s==null?void 0:s.ease,interpolate:s==null?void 0:s.interpolate}),Promise.resolve(!0)}function Rc({nodeId:e,nextPosition:t,nodeLookup:n,nodeOrigin:r=[0,0],nodeExtent:i,onError:o}){const s=n.get(e),a=s.parentId?n.get(s.parentId):void 0,{x:u,y:c}=a?a.internals.positionAbsolute:{x:0,y:0},f=s.origin??r;let h=s.extent||i;if(s.extent==="parent"&&!s.expandParent)if(!a)o==null||o("005",Di.error005());else{const g=a.measured.width,v=a.measured.height;g&&v&&(h=[[u,c],[u+g,c+v]])}else a&&ai(s.extent)&&(h=[[s.extent[0][0]+u,s.extent[0][1]+c],[s.extent[1][0]+u,s.extent[1][1]+c]]);const d=ai(h)?kr(t,h,s.measured):t;return(s.measured.width===void 0||s.measured.height===void 0)&&(o==null||o("015",Di.error015())),{position:{x:d.x-u+(s.measured.width??0)*f[0],y:d.y-c+(s.measured.height??0)*f[1]},positionAbsolute:d}}async function ep({nodesToRemove:e=[],edgesToRemove:t=[],nodes:n,edges:r,onBeforeDelete:i}){const o=new Set(e.map(d=>d.id)),s=[];for(const d of n){if(d.deletable===!1)continue;const g=o.has(d.id),v=!g&&d.parentId&&s.find(m=>m.id===d.parentId);(g||v)&&s.push(d)}const a=new Set(t.map(d=>d.id)),u=r.filter(d=>d.deletable!==!1),f=Jy(s,u);for(const d of u)a.has(d.id)&&!f.find(v=>v.id===d.id)&&f.push(d);if(!i)return{edges:f,nodes:s};const h=await i({nodes:s,edges:f});return typeof h=="boolean"?h?{edges:f,nodes:s}:{edges:[],nodes:[]}:h}const oi=(e,t=0,n=1)=>Math.min(Math.max(e,t),n),kr=(e={x:0,y:0},t,n)=>({x:oi(e.x,t[0][0],t[1][0]-((n==null?void 0:n.width)??0)),y:oi(e.y,t[0][1],t[1][1]-((n==null?void 0:n.height)??0))});function Vc(e,t,n){const{width:r,height:i}=Dr(n),{x:o,y:s}=n.internals.positionAbsolute;return kr(e,[[o,s],[o+r,s+i]],t)}const Tl=(e,t,n)=>e<t?oi(Math.abs(e-t),1,t)/t:e>n?-oi(Math.abs(e-n),1,t)/t:0,Bc=(e,t,n=15,r=40)=>{const i=Tl(e.x,r,t.width-r)*n,o=Tl(e.y,r,t.height-r)*n;return[i,o]},as=(e,t)=>({x:Math.min(e.x,t.x),y:Math.min(e.y,t.y),x2:Math.max(e.x2,t.x2),y2:Math.max(e.y2,t.y2)}),ra=({x:e,y:t,width:n,height:r})=>({x:e,y:t,x2:e+n,y2:t+r}),ls=({x:e,y:t,x2:n,y2:r})=>({x:e,y:t,width:n-e,height:r-t}),si=(e,t=[0,0])=>{var i,o;const{x:n,y:r}=Ca(e)?e.internals.positionAbsolute:no(e,t);return{x:n,y:r,width:((i=e.measured)==null?void 0:i.width)??e.width??e.initialWidth??0,height:((o=e.measured)==null?void 0:o.height)??e.height??e.initialHeight??0}},zo=(e,t=[0,0])=>{var i,o;const{x:n,y:r}=Ca(e)?e.internals.positionAbsolute:no(e,t);return{x:n,y:r,x2:n+(((i=e.measured)==null?void 0:i.width)??e.width??e.initialWidth??0),y2:r+(((o=e.measured)==null?void 0:o.height)??e.height??e.initialHeight??0)}},tp=(e,t)=>ls(as(ra(e),ra(t))),Li=(e,t)=>{const n=Math.max(0,Math.min(e.x+e.width,t.x+t.width)-Math.max(e.x,t.x)),r=Math.max(0,Math.min(e.y+e.height,t.y+t.height)-Math.max(e.y,t.y));return Math.ceil(n*r)},kl=e=>Ln(e.width)&&Ln(e.height)&&Ln(e.x)&&Ln(e.y),Ln=e=>!isNaN(e)&&isFinite(e),np=(e,t)=>{},ro=(e,t=[1,1])=>({x:t[0]*Math.round(e.x/t[0]),y:t[1]*Math.round(e.y/t[1])}),io=({x:e,y:t},[n,r,i],o=!1,s=[1,1])=>{const a={x:(e-n)/i,y:(t-r)/i};return o?ro(a,s):a},Fo=({x:e,y:t},[n,r,i])=>({x:e*i+n,y:t*i+r});function zr(e,t){if(typeof e=="number")return Math.floor((t-t/(1+e))*.5);if(typeof e=="string"&&e.endsWith("px")){const n=parseFloat(e);if(!Number.isNaN(n))return Math.floor(n)}if(typeof e=="string"&&e.endsWith("%")){const n=parseFloat(e);if(!Number.isNaN(n))return Math.floor(t*n*.01)}return console.error(`[React Flow] The padding value "${e}" is invalid. Please provide a number or a string with a valid unit (px or %).`),0}function rp(e,t,n){if(typeof e=="string"||typeof e=="number"){const r=zr(e,n),i=zr(e,t);return{top:r,right:i,bottom:r,left:i,x:i*2,y:r*2}}if(typeof e=="object"){const r=zr(e.top??e.y??0,n),i=zr(e.bottom??e.y??0,n),o=zr(e.left??e.x??0,t),s=zr(e.right??e.x??0,t);return{top:r,right:s,bottom:i,left:o,x:o+s,y:r+i}}return{top:0,right:0,bottom:0,left:0,x:0,y:0}}function ip(e,t,n,r,i,o){const{x:s,y:a}=Fo(e,[t,n,r]),{x:u,y:c}=Fo({x:e.x+e.width,y:e.y+e.height},[t,n,r]),f=i-u,h=o-c;return{left:Math.floor(s),top:Math.floor(a),right:Math.floor(f),bottom:Math.floor(h)}}const Pa=(e,t,n,r,i,o)=>{const s=rp(o,t,n),a=(t-s.x)/e.width,u=(n-s.y)/e.height,c=Math.min(a,u),f=oi(c,r,i),h=e.x+e.width/2,d=e.y+e.height/2,g=t/2-h*f,v=n/2-d*f,m=ip(e,g,v,f,t,n),_={left:Math.min(m.left-s.left,0),top:Math.min(m.top-s.top,0),right:Math.min(m.right-s.right,0),bottom:Math.min(m.bottom-s.bottom,0)};return{x:g-_.left+_.right,y:v-_.top+_.bottom,zoom:f}},Ro=()=>{var e;return typeof navigator<"u"&&((e=navigator==null?void 0:navigator.userAgent)==null?void 0:e.indexOf("Mac"))>=0};function ai(e){return e!=null&&e!=="parent"}function Dr(e){var t,n;return{width:((t=e.measured)==null?void 0:t.width)??e.width??e.initialWidth??0,height:((n=e.measured)==null?void 0:n.height)??e.height??e.initialHeight??0}}function op(e){var t,n;return(((t=e.measured)==null?void 0:t.width)??e.width??e.initialWidth)!==void 0&&(((n=e.measured)==null?void 0:n.height)??e.height??e.initialHeight)!==void 0}function sp(e,t={width:0,height:0},n,r,i){const o={...e},s=r.get(n);if(s){const a=s.origin||i;o.x+=s.internals.positionAbsolute.x-(t.width??0)*a[0],o.y+=s.internals.positionAbsolute.y-(t.height??0)*a[1]}return o}function ap(e){return{...Gy,...e||{}}}function xs(e,{snapGrid:t=[0,0],snapToGrid:n=!1,transform:r,containerBounds:i}){const{x:o,y:s}=Jt(e),a=io({x:o-((i==null?void 0:i.left)??0),y:s-((i==null?void 0:i.top)??0)},r),{x:u,y:c}=n?ro(a,t):a;return{xSnapped:u,ySnapped:c,...a}}const Hc=e=>({width:e.offsetWidth,height:e.offsetHeight}),Kc=e=>{var t;return((t=e==null?void 0:e.getRootNode)==null?void 0:t.call(e))||(window==null?void 0:window.document)},lp=["INPUT","SELECT","TEXTAREA"];function Yc(e){var r,i;const t=((i=(r=e.composedPath)==null?void 0:r.call(e))==null?void 0:i[0])||e.target;return(t==null?void 0:t.nodeType)!==1?!1:lp.includes(t.nodeName)||t.hasAttribute("contenteditable")||!!t.closest(".nokey")}const Xc=e=>"clientX"in e,Jt=(e,t)=>{var o,s;const n=Xc(e),r=n?e.clientX:(o=e.touches)==null?void 0:o[0].clientX,i=n?e.clientY:(s=e.touches)==null?void 0:s[0].clientY;return{x:r-((t==null?void 0:t.left)??0),y:i-((t==null?void 0:t.top)??0)}},Al=(e,t,n,r,i)=>{const o=t.querySelectorAll(`.${e}`);return!o||!o.length?null:Array.from(o).map(s=>{const a=s.getBoundingClientRect();return{id:s.getAttribute("data-handleid"),type:e,nodeId:i,position:s.getAttribute("data-handlepos"),x:(a.left-n.left)/r,y:(a.top-n.top)/r,...Hc(s)}})};function up({sourceX:e,sourceY:t,targetX:n,targetY:r,sourceControlX:i,sourceControlY:o,targetControlX:s,targetControlY:a}){const u=e*.125+i*.375+s*.375+n*.125,c=t*.125+o*.375+a*.375+r*.125,f=Math.abs(u-e),h=Math.abs(c-t);return[u,c,f,h]}function go(e,t){return e>=0?.5*e:t*25*Math.sqrt(-e)}function Cl({pos:e,x1:t,y1:n,x2:r,y2:i,c:o}){switch(e){case xe.Left:return[t-go(t-r,o),n];case xe.Right:return[t+go(r-t,o),n];case xe.Top:return[t,n-go(n-i,o)];case xe.Bottom:return[t,n+go(i-n,o)]}}function Wc({sourceX:e,sourceY:t,sourcePosition:n=xe.Bottom,targetX:r,targetY:i,targetPosition:o=xe.Top,curvature:s=.25}){const[a,u]=Cl({pos:n,x1:e,y1:t,x2:r,y2:i,c:s}),[c,f]=Cl({pos:o,x1:r,y1:i,x2:e,y2:t,c:s}),[h,d,g,v]=up({sourceX:e,sourceY:t,targetX:r,targetY:i,sourceControlX:a,sourceControlY:u,targetControlX:c,targetControlY:f});return[`M${e},${t} C${a},${u} ${c},${f} ${r},${i}`,h,d,g,v]}function Gc({sourceX:e,sourceY:t,targetX:n,targetY:r}){const i=Math.abs(n-e)/2,o=n<e?n+i:n-i,s=Math.abs(r-t)/2,a=r<t?r+s:r-s;return[o,a,i,s]}function cp({sourceNode:e,targetNode:t,selected:n=!1,zIndex:r=0,elevateOnSelect:i=!1,zIndexMode:o="basic"}){if(o==="manual")return r;const s=i&&n?r+1e3:r,a=Math.max(e.parentId||i&&e.selected?e.internals.z:0,t.parentId||i&&t.selected?t.internals.z:0);return s+a}function fp({sourceNode:e,targetNode:t,width:n,height:r,transform:i}){const o=as(zo(e),zo(t));o.x===o.x2&&(o.x2+=1),o.y===o.y2&&(o.y2+=1);const s={x:-i[0]/i[2],y:-i[1]/i[2],width:n/i[2],height:r/i[2]};return Li(s,ls(o))>0}const dp=({source:e,sourceHandle:t,target:n,targetHandle:r})=>`xy-edge__${e}${t||""}-${n}${r||""}`,hp=(e,t)=>t.some(n=>n.source===e.source&&n.target===e.target&&(n.sourceHandle===e.sourceHandle||!n.sourceHandle&&!e.sourceHandle)&&(n.targetHandle===e.targetHandle||!n.targetHandle&&!e.targetHandle)),qc=(e,t,n={})=>{if(!e.source||!e.target)return t;const r=n.getEdgeId||dp;let i;return Fc(e)?i={...e}:i={...e,id:r(e)},hp(i,t)?t:(i.sourceHandle===null&&delete i.sourceHandle,i.targetHandle===null&&delete i.targetHandle,t.concat(i))};function Uc({sourceX:e,sourceY:t,targetX:n,targetY:r}){const[i,o,s,a]=Gc({sourceX:e,sourceY:t,targetX:n,targetY:r});return[`M ${e},${t}L ${n},${r}`,i,o,s,a]}const Ml={[xe.Left]:{x:-1,y:0},[xe.Right]:{x:1,y:0},[xe.Top]:{x:0,y:-1},[xe.Bottom]:{x:0,y:1}},gp=({source:e,sourcePosition:t=xe.Bottom,target:n})=>t===xe.Left||t===xe.Right?e.x<n.x?{x:1,y:0}:{x:-1,y:0}:e.y<n.y?{x:0,y:1}:{x:0,y:-1},Pl=(e,t)=>Math.sqrt(Math.pow(t.x-e.x,2)+Math.pow(t.y-e.y,2));function vp({source:e,sourcePosition:t=xe.Bottom,target:n,targetPosition:r=xe.Top,center:i,offset:o,stepPosition:s}){const a=Ml[t],u=Ml[r],c={x:e.x+a.x*o,y:e.y+a.y*o},f={x:n.x+u.x*o,y:n.y+u.y*o},h=gp({source:c,sourcePosition:t,target:f}),d=h.x!==0?"x":"y",g=h[d];let v=[],m,_;const w={x:0,y:0},P={x:0,y:0},[,,D,b]=Gc({sourceX:e.x,sourceY:e.y,targetX:n.x,targetY:n.y});if(a[d]*u[d]===-1){d==="x"?(m=i.x??c.x+(f.x-c.x)*s,_=i.y??(c.y+f.y)/2):(m=i.x??(c.x+f.x)/2,_=i.y??c.y+(f.y-c.y)*s);const L=[{x:m,y:c.y},{x:m,y:f.y}],Z=[{x:c.x,y:_},{x:f.x,y:_}];a[d]===g?v=d==="x"?L:Z:v=d==="x"?Z:L}else{const L=[{x:c.x,y:f.y}],Z=[{x:f.x,y:c.y}];if(d==="x"?v=a.x===g?Z:L:v=a.y===g?L:Z,t===r){const x=Math.abs(e[d]-n[d]);if(x<=o){const M=Math.min(o-1,o-x);a[d]===g?w[d]=(c[d]>e[d]?-1:1)*M:P[d]=(f[d]>n[d]?-1:1)*M}}if(t!==r){const x=d==="x"?"y":"x",M=a[d]===u[x],y=c[x]>f[x],k=c[x]<f[x];(a[d]===1&&(!M&&y||M&&k)||a[d]!==1&&(!M&&k||M&&y))&&(v=d==="x"?L:Z)}const R={x:c.x+w.x,y:c.y+w.y},Y={x:f.x+P.x,y:f.y+P.y},ce=Math.max(Math.abs(R.x-v[0].x),Math.abs(Y.x-v[0].x)),E=Math.max(Math.abs(R.y-v[0].y),Math.abs(Y.y-v[0].y));ce>=E?(m=(R.x+Y.x)/2,_=v[0].y):(m=v[0].x,_=(R.y+Y.y)/2)}return[[e,{x:c.x+w.x,y:c.y+w.y},...v,{x:f.x+P.x,y:f.y+P.y},n],m,_,D,b]}function yp(e,t,n,r){const i=Math.min(Pl(e,t)/2,Pl(t,n)/2,r),{x:o,y:s}=t;if(e.x===o&&o===n.x||e.y===s&&s===n.y)return`L${o} ${s}`;if(e.y===s){const c=e.x<n.x?-1:1,f=e.y<n.y?1:-1;return`L ${o+i*c},${s}Q ${o},${s} ${o},${s+i*f}`}const a=e.x<n.x?1:-1,u=e.y<n.y?-1:1;return`L ${o},${s+i*u}Q ${o},${s} ${o+i*a},${s}`}function Oa({sourceX:e,sourceY:t,sourcePosition:n=xe.Bottom,targetX:r,targetY:i,targetPosition:o=xe.Top,borderRadius:s=5,centerX:a,centerY:u,offset:c=20,stepPosition:f=.5}){const[h,d,g,v,m]=vp({source:{x:e,y:t},sourcePosition:n,target:{x:r,y:i},targetPosition:o,center:{x:a,y:u},offset:c,stepPosition:f});return[h.reduce((w,P,D)=>{let b="";return D>0&&D<h.length-1?b=yp(h[D-1],P,h[D+1],s):b=`${D===0?"M":"L"}${P.x} ${P.y}`,w+=b,w},""),d,g,v,m]}function Ol(e){var t;return e&&!!(e.internals.handleBounds||(t=e.handles)!=null&&t.length)&&!!(e.measured.width||e.width||e.initialWidth)}function pp(e){var h;const{sourceNode:t,targetNode:n}=e;if(!Ol(t)||!Ol(n))return null;const r=t.internals.handleBounds||Dl(t.handles),i=n.internals.handleBounds||Dl(n.handles),o=Ll((r==null?void 0:r.source)??[],e.sourceHandle),s=Ll(e.connectionMode===ii.Strict?(i==null?void 0:i.target)??[]:((i==null?void 0:i.target)??[]).concat((i==null?void 0:i.source)??[]),e.targetHandle);if(!o||!s)return(h=e.onError)==null||h.call(e,"008",Di.error008(o?"target":"source",{id:e.id,sourceHandle:e.sourceHandle,targetHandle:e.targetHandle})),null;const a=(o==null?void 0:o.position)||xe.Bottom,u=(s==null?void 0:s.position)||xe.Top,c=Ar(t,o,a),f=Ar(n,s,u);return{sourceX:c.x,sourceY:c.y,targetX:f.x,targetY:f.y,sourcePosition:a,targetPosition:u}}function Dl(e){if(!e)return null;const t=[],n=[];for(const r of e)r.width=r.width??1,r.height=r.height??1,r.type==="source"?t.push(r):r.type==="target"&&n.push(r);return{source:t,target:n}}function Ar(e,t,n=xe.Left,r=!1){const i=((t==null?void 0:t.x)??0)+e.internals.positionAbsolute.x,o=((t==null?void 0:t.y)??0)+e.internals.positionAbsolute.y,{width:s,height:a}=t??Dr(e);if(r)return{x:i+s/2,y:o+a/2};switch((t==null?void 0:t.position)??n){case xe.Top:return{x:i+s/2,y:o};case xe.Right:return{x:i+s,y:o+a/2};case xe.Bottom:return{x:i+s/2,y:o+a};case xe.Left:return{x:i,y:o+a/2}}}function Ll(e,t){return e&&(t?e.find(n=>n.id===t):e[0])||null}function ia(e,t){return e?typeof e=="string"?e:`${t?`${t}__`:""}${Object.keys(e).sort().map(r=>`${r}=${e[r]}`).join("&")}`:""}function mp(e,{id:t,defaultColor:n,defaultMarkerStart:r,defaultMarkerEnd:i}){const o=new Set;return e.reduce((s,a)=>([a.markerStart||r,a.markerEnd||i].forEach(u=>{if(u&&typeof u=="object"){const c=ia(u,t);o.has(c)||(s.push({id:c,color:u.color||n,...u}),o.add(c))}}),s),[]).sort((s,a)=>s.id.localeCompare(a.id))}const Zc=1e3,_p=10,Da={nodeOrigin:[0,0],nodeExtent:ta,elevateNodesOnSelect:!0,zIndexMode:"basic",defaults:{}},bp={...Da,checkEquality:!0};function La(e,t){const n={...e};for(const r in t)t[r]!==void 0&&(n[r]=t[r]);return n}function xp(e,t,n){const r=La(Da,n);for(const i of e.values())if(i.parentId)Fa(i,e,t,r);else{const o=no(i,r.nodeOrigin),s=ai(i.extent)?i.extent:r.nodeExtent,a=kr(o,s,Dr(i));i.internals.positionAbsolute=a}}function wp(e,t){if(!e.handles)return e.measured?t==null?void 0:t.internals.handleBounds:void 0;const n=[],r=[];for(const i of e.handles){const o={id:i.id,width:i.width??1,height:i.height??1,nodeId:e.id,x:i.x,y:i.y,position:i.position,type:i.type};i.type==="source"?n.push(o):i.type==="target"&&r.push(o)}return{source:n,target:r}}function za(e){return e==="manual"}function Ep(e,t,n,r={}){var c,f;const i=La(bp,r),o={i:0},s=new Map(t),a=i!=null&&i.elevateNodesOnSelect&&!za(i.zIndexMode)?Zc:0;let u=e.length>0;t.clear(),n.clear();for(const h of e){let d=s.get(h.id);if(i.checkEquality&&h===(d==null?void 0:d.internals.userNode))t.set(h.id,d);else{const g=no(h,i.nodeOrigin),v=ai(h.extent)?h.extent:i.nodeExtent,m=kr(g,v,Dr(h));d={...i.defaults,...h,measured:{width:(c=h.measured)==null?void 0:c.width,height:(f=h.measured)==null?void 0:f.height},internals:{positionAbsolute:m,handleBounds:wp(h,d),z:jc(h,a,i.zIndexMode),userNode:h}},t.set(h.id,d)}(d.measured===void 0||d.measured.width===void 0||d.measured.height===void 0)&&!d.hidden&&(u=!1),h.parentId&&Fa(d,t,n,r,o)}return u}function Np(e,t){if(!e.parentId)return;const n=t.get(e.parentId);n?n.set(e.id,e):t.set(e.parentId,new Map([[e.id,e]]))}function Fa(e,t,n,r,i){const{elevateNodesOnSelect:o,nodeOrigin:s,nodeExtent:a,zIndexMode:u}=La(Da,r),c=e.parentId,f=t.get(c);if(!f){console.warn(`Parent node ${c} not found. Please make sure that parent nodes are in front of their child nodes in the nodes array.`);return}Np(e,n),i&&!f.parentId&&f.internals.rootParentIndex===void 0&&u==="auto"&&(f.internals.rootParentIndex=++i.i,f.internals.z=f.internals.z+i.i*_p),i&&f.internals.rootParentIndex!==void 0&&(i.i=f.internals.rootParentIndex);const h=o&&!za(u)?Zc:0,{x:d,y:g,z:v}=Ip(e,f,s,a,h,u),{positionAbsolute:m}=e.internals,_=d!==m.x||g!==m.y;(_||v!==e.internals.z)&&t.set(e.id,{...e,internals:{...e.internals,positionAbsolute:_?{x:d,y:g}:m,z:v}})}function jc(e,t,n){const r=Ln(e.zIndex)?e.zIndex:0;return za(n)?r:r+(e.selected?t:0)}function Ip(e,t,n,r,i,o){const{x:s,y:a}=t.internals.positionAbsolute,u=Dr(e),c=no(e,n),f=ai(e.extent)?kr(c,e.extent,u):c;let h=kr({x:s+f.x,y:a+f.y},r,u);e.extent==="parent"&&(h=Vc(h,u,t));const d=jc(e,i,o),g=t.internals.z??0;return{x:h.x,y:h.y,z:g>=d?g+1:d}}function Sp(e,t,n,r=[0,0]){var s;const i=[],o=new Map;for(const a of e){const u=t.get(a.parentId);if(!u)continue;const c=((s=o.get(a.parentId))==null?void 0:s.expandedRect)??si(u),f=tp(c,a.rect);o.set(a.parentId,{expandedRect:f,parent:u})}return o.size>0&&o.forEach(({expandedRect:a,parent:u},c)=>{var D;const f=u.internals.positionAbsolute,h=Dr(u),d=u.origin??r,g=a.x<f.x?Math.round(Math.abs(f.x-a.x)):0,v=a.y<f.y?Math.round(Math.abs(f.y-a.y)):0,m=Math.max(h.width,Math.round(a.width)),_=Math.max(h.height,Math.round(a.height)),w=(m-h.width)*d[0],P=(_-h.height)*d[1];(g>0||v>0||w||P)&&(i.push({id:c,type:"position",position:{x:u.position.x-g+w,y:u.position.y-v+P}}),(D=n.get(c))==null||D.forEach(b=>{e.some(A=>A.id===b.id)||i.push({id:b.id,type:"position",position:{x:b.position.x+g,y:b.position.y+v}})})),(h.width<a.width||h.height<a.height||g||v)&&i.push({id:c,type:"dimensions",setAttributes:!0,dimensions:{width:m+(g?d[0]*g-w:0),height:_+(v?d[1]*v-P:0)}})}),i}function Tp(e,t,n,r,i,o,s){const a=r==null?void 0:r.querySelector(".xyflow__viewport");let u=!1;if(!a)return{changes:[],updatedInternals:u};const c=[],f=window.getComputedStyle(a),{m22:h}=new window.DOMMatrixReadOnly(f.transform),d=[];for(const g of e.values()){const v=t.get(g.id);if(!v)continue;if(v.hidden){t.set(v.id,{...v,internals:{...v.internals,handleBounds:void 0}}),u=!0;continue}const m=Hc(g.nodeElement),_=v.measured.width!==m.width||v.measured.height!==m.height;if(!!(m.width&&m.height&&(_||!v.internals.handleBounds||g.force))){const P=g.nodeElement.getBoundingClientRect(),D=ai(v.extent)?v.extent:o;let{positionAbsolute:b}=v.internals;v.parentId&&v.extent==="parent"?b=Vc(b,m,t.get(v.parentId)):D&&(b=kr(b,D,m));const A={...v,measured:m,internals:{...v.internals,positionAbsolute:b,handleBounds:{source:Al("source",g.nodeElement,P,h,v.id),target:Al("target",g.nodeElement,P,h,v.id)}}};t.set(v.id,A),v.parentId&&Fa(A,t,n,{nodeOrigin:i,zIndexMode:s}),u=!0,_&&(c.push({id:v.id,type:"dimensions",dimensions:m}),v.expandParent&&v.parentId&&d.push({id:v.id,parentId:v.parentId,rect:si(A,i)}))}}if(d.length>0){const g=Sp(d,t,n,i);c.push(...g)}return{changes:c,updatedInternals:u}}async function kp({delta:e,panZoom:t,transform:n,translateExtent:r,width:i,height:o}){if(!t||!e.x&&!e.y)return Promise.resolve(!1);const s=await t.setViewportConstrained({x:n[0]+e.x,y:n[1]+e.y,zoom:n[2]},[[0,0],[i,o]],r),a=!!s&&(s.x!==n[0]||s.y!==n[1]||s.k!==n[2]);return Promise.resolve(a)}function zl(e,t,n,r,i,o){let s=i;const a=r.get(s)||new Map;r.set(s,a.set(n,t)),s=`${i}-${e}`;const u=r.get(s)||new Map;if(r.set(s,u.set(n,t)),o){s=`${i}-${e}-${o}`;const c=r.get(s)||new Map;r.set(s,c.set(n,t))}}function Ap(e,t,n){e.clear(),t.clear();for(const r of n){const{source:i,target:o,sourceHandle:s=null,targetHandle:a=null}=r,u={edgeId:r.id,source:i,target:o,sourceHandle:s,targetHandle:a},c=`${i}-${s}--${o}-${a}`,f=`${o}-${a}--${i}-${s}`;zl("source",u,f,e,i,s),zl("target",u,c,e,o,a),t.set(r.id,r)}}function Jc(e,t){if(!e.parentId)return!1;const n=t.get(e.parentId);return n?n.selected?!0:Jc(n,t):!1}function Fl(e,t,n){var i;let r=e;do{if((i=r==null?void 0:r.matches)!=null&&i.call(r,t))return!0;if(r===n)return!1;r=r==null?void 0:r.parentElement}while(r);return!1}function Cp(e,t,n,r){const i=new Map;for(const[o,s]of e)if((s.selected||s.id===r)&&(!s.parentId||!Jc(s,e))&&(s.draggable||t&&typeof s.draggable>"u")){const a=e.get(o);a&&i.set(o,{id:o,position:a.position||{x:0,y:0},distance:{x:n.x-a.internals.positionAbsolute.x,y:n.y-a.internals.positionAbsolute.y},extent:a.extent,parentId:a.parentId,origin:a.origin,expandParent:a.expandParent,internals:{positionAbsolute:a.internals.positionAbsolute||{x:0,y:0}},measured:{width:a.measured.width??0,height:a.measured.height??0}})}return i}function ws({nodeId:e,dragItems:t,nodeLookup:n,dragging:r=!0}){var s,a,u;const i=[];for(const[c,f]of t){const h=(s=n.get(c))==null?void 0:s.internals.userNode;h&&i.push({...h,position:f.position,dragging:r})}if(!e)return[i[0],i];const o=(a=n.get(e))==null?void 0:a.internals.userNode;return[o?{...o,position:((u=t.get(e))==null?void 0:u.position)||o.position,dragging:r}:i[0],i]}function Mp({dragItems:e,snapGrid:t,x:n,y:r}){const i=e.values().next().value;if(!i)return null;const o={x:n-i.distance.x,y:r-i.distance.y},s=ro(o,t);return{x:s.x-o.x,y:s.y-o.y}}function Pp({onNodeMouseDown:e,getStoreItems:t,onDragStart:n,onDrag:r,onDragStop:i}){let o={x:null,y:null},s=0,a=new Map,u=!1,c={x:0,y:0},f=null,h=!1,d=null,g=!1,v=!1,m=null;function _({noDragClassName:P,handleSelector:D,domNode:b,isSelectable:A,nodeId:L,nodeClickDistance:Z=0}){d=qt(b);function R({x,y:M}){const{nodeLookup:y,nodeExtent:k,snapGrid:N,snapToGrid:F,nodeOrigin:V,onNodeDrag:K,onSelectionDrag:G,onError:B,updateNodePositions:ne}=t();o={x,y:M};let oe=!1;const J=a.size>1,q=J&&k?ra(ss(a)):null,z=J&&F?Mp({dragItems:a,snapGrid:N,x,y:M}):null;for(const[j,te]of a){if(!y.has(j))continue;let ue={x:x-te.distance.x,y:M-te.distance.y};F&&(ue=z?{x:Math.round(ue.x+z.x),y:Math.round(ue.y+z.y)}:ro(ue,N));let Ae=null;if(J&&k&&!te.extent&&q){const{positionAbsolute:se}=te.internals,De=se.x-q.x+k[0][0],Me=se.x+te.measured.width-q.x2+k[1][0],Ce=se.y-q.y+k[0][1],S=se.y+te.measured.height-q.y2+k[1][1];Ae=[[De,Ce],[Me,S]]}const{position:be,positionAbsolute:U}=Rc({nodeId:j,nextPosition:ue,nodeLookup:y,nodeExtent:Ae||k,nodeOrigin:V,onError:B});oe=oe||te.position.x!==be.x||te.position.y!==be.y,te.position=be,te.internals.positionAbsolute=U}if(v=v||oe,!!oe&&(ne(a,!0),m&&(r||K||!L&&G))){const[j,te]=ws({nodeId:L,dragItems:a,nodeLookup:y});r==null||r(m,a,j,te),K==null||K(m,j,te),L||G==null||G(m,te)}}async function Y(){if(!f)return;const{transform:x,panBy:M,autoPanSpeed:y,autoPanOnNodeDrag:k}=t();if(!k){u=!1,cancelAnimationFrame(s);return}const[N,F]=Bc(c,f,y);(N!==0||F!==0)&&(o.x=(o.x??0)-N/x[2],o.y=(o.y??0)-F/x[2],await M({x:N,y:F})&&R(o)),s=requestAnimationFrame(Y)}function ce(x){var J;const{nodeLookup:M,multiSelectionActive:y,nodesDraggable:k,transform:N,snapGrid:F,snapToGrid:V,selectNodesOnDrag:K,onNodeDragStart:G,onSelectionDragStart:B,unselectNodesAndEdges:ne}=t();h=!0,(!K||!A)&&!y&&L&&((J=M.get(L))!=null&&J.selected||ne()),A&&K&&L&&(e==null||e(L));const oe=xs(x.sourceEvent,{transform:N,snapGrid:F,snapToGrid:V,containerBounds:f});if(o=oe,a=Cp(M,k,oe,L),a.size>0&&(n||G||!L&&B)){const[q,z]=ws({nodeId:L,dragItems:a,nodeLookup:M});n==null||n(x.sourceEvent,a,q,z),G==null||G(x.sourceEvent,q,z),L||B==null||B(x.sourceEvent,z)}}const E=Qg().clickDistance(Z).on("start",x=>{const{domNode:M,nodeDragThreshold:y,transform:k,snapGrid:N,snapToGrid:F}=t();f=(M==null?void 0:M.getBoundingClientRect())||null,g=!1,v=!1,m=x.sourceEvent,y===0&&ce(x),o=xs(x.sourceEvent,{transform:k,snapGrid:N,snapToGrid:F,containerBounds:f}),c=Jt(x.sourceEvent,f)}).on("drag",x=>{const{autoPanOnNodeDrag:M,transform:y,snapGrid:k,snapToGrid:N,nodeDragThreshold:F,nodeLookup:V}=t(),K=xs(x.sourceEvent,{transform:y,snapGrid:k,snapToGrid:N,containerBounds:f});if(m=x.sourceEvent,(x.sourceEvent.type==="touchmove"&&x.sourceEvent.touches.length>1||L&&!V.has(L))&&(g=!0),!g){if(!u&&M&&h&&(u=!0,Y()),!h){const G=Jt(x.sourceEvent,f),B=G.x-c.x,ne=G.y-c.y;Math.sqrt(B*B+ne*ne)>F&&ce(x)}(o.x!==K.xSnapped||o.y!==K.ySnapped)&&a&&h&&(c=Jt(x.sourceEvent,f),R(K))}}).on("end",x=>{if(!(!h||g)&&(u=!1,h=!1,cancelAnimationFrame(s),a.size>0)){const{nodeLookup:M,updateNodePositions:y,onNodeDragStop:k,onSelectionDragStop:N}=t();if(v&&(y(a,!1),v=!1),i||k||!L&&N){const[F,V]=ws({nodeId:L,dragItems:a,nodeLookup:M,dragging:!1});i==null||i(x.sourceEvent,a,F,V),k==null||k(x.sourceEvent,F,V),L||N==null||N(x.sourceEvent,V)}}}).filter(x=>{const M=x.target;return!x.button&&(!P||!Fl(M,`.${P}`,b))&&(!D||Fl(M,D,b))});d.call(E)}function w(){d==null||d.on(".drag",null)}return{update:_,destroy:w}}function Op(e,t,n){const r=[],i={x:e.x-n,y:e.y-n,width:n*2,height:n*2};for(const o of t.values())Li(i,si(o))>0&&r.push(o);return r}const Dp=250;function Lp(e,t,n,r){var a,u;let i=[],o=1/0;const s=Op(e,n,t+Dp);for(const c of s){const f=[...((a=c.internals.handleBounds)==null?void 0:a.source)??[],...((u=c.internals.handleBounds)==null?void 0:u.target)??[]];for(const h of f){if(r.nodeId===h.nodeId&&r.type===h.type&&r.id===h.id)continue;const{x:d,y:g}=Ar(c,h,h.position,!0),v=Math.sqrt(Math.pow(d-e.x,2)+Math.pow(g-e.y,2));v>t||(v<o?(i=[{...h,x:d,y:g}],o=v):v===o&&i.push({...h,x:d,y:g}))}}if(!i.length)return null;if(i.length>1){const c=r.type==="source"?"target":"source";return i.find(f=>f.type===c)??i[0]}return i[0]}function Qc(e,t,n,r,i,o=!1){var c,f,h;const s=r.get(e);if(!s)return null;const a=i==="strict"?(c=s.internals.handleBounds)==null?void 0:c[t]:[...((f=s.internals.handleBounds)==null?void 0:f.source)??[],...((h=s.internals.handleBounds)==null?void 0:h.target)??[]],u=(n?a==null?void 0:a.find(d=>d.id===n):a==null?void 0:a[0])??null;return u&&o?{...u,...Ar(s,u,u.position,!0)}:u}function $c(e,t){return e||(t!=null&&t.classList.contains("target")?"target":t!=null&&t.classList.contains("source")?"source":null)}function zp(e,t){let n=null;return t?n=!0:e&&!t&&(n=!1),n}const ef=()=>!0;function Fp(e,{connectionMode:t,connectionRadius:n,handleId:r,nodeId:i,edgeUpdaterType:o,isTarget:s,domNode:a,nodeLookup:u,lib:c,autoPanOnConnect:f,flowId:h,panBy:d,cancelConnection:g,onConnectStart:v,onConnect:m,onConnectEnd:_,isValidConnection:w=ef,onReconnectEnd:P,updateConnection:D,getTransform:b,getFromHandle:A,autoPanSpeed:L,dragThreshold:Z=1,handleDomNode:R}){const Y=Kc(e.target);let ce=0,E;const{x,y:M}=Jt(e),y=$c(o,R),k=a==null?void 0:a.getBoundingClientRect();let N=!1;if(!k||!y)return;const F=Qc(i,y,r,u,t);if(!F)return;let V=Jt(e,k),K=!1,G=null,B=!1,ne=null;function oe(){if(!f||!k)return;const[be,U]=Bc(V,k,L);d({x:be,y:U}),ce=requestAnimationFrame(oe)}const J={...F,nodeId:i,type:y,position:F.position},q=u.get(i);let j={inProgress:!0,isValid:null,from:Ar(q,J,xe.Left,!0),fromHandle:J,fromPosition:J.position,fromNode:q,to:V,toHandle:null,toPosition:Il[J.position],toNode:null,pointer:V};function te(){N=!0,D(j),v==null||v(e,{nodeId:i,handleId:r,handleType:y})}Z===0&&te();function ue(be){if(!N){const{x:S,y:C}=Jt(be),H=S-x,X=C-M;if(!(H*H+X*X>Z*Z))return;te()}if(!A()||!J){Ae(be);return}const U=b();V=Jt(be,k),E=Lp(io(V,U,!1,[1,1]),n,u,J),K||(oe(),K=!0);const se=tf(be,{handle:E,connectionMode:t,fromNodeId:i,fromHandleId:r,fromType:s?"target":"source",isValidConnection:w,doc:Y,lib:c,flowId:h,nodeLookup:u});ne=se.handleDomNode,G=se.connection,B=zp(!!E,se.isValid);const De=u.get(i),Me=De?Ar(De,J,xe.Left,!0):j.from,Ce={...j,from:Me,isValid:B,to:se.toHandle&&B?Fo({x:se.toHandle.x,y:se.toHandle.y},U):V,toHandle:se.toHandle,toPosition:B&&se.toHandle?se.toHandle.position:Il[J.position],toNode:se.toHandle?u.get(se.toHandle.nodeId):null,pointer:V};D(Ce),j=Ce}function Ae(be){if(!("touches"in be&&be.touches.length>0)){if(N){(E||ne)&&G&&B&&(m==null||m(G));const{inProgress:U,...se}=j,De={...se,toPosition:j.toHandle?j.toPosition:null};_==null||_(be,De),o&&(P==null||P(be,De))}g(),cancelAnimationFrame(ce),K=!1,B=!1,G=null,ne=null,Y.removeEventListener("mousemove",ue),Y.removeEventListener("mouseup",Ae),Y.removeEventListener("touchmove",ue),Y.removeEventListener("touchend",Ae)}}Y.addEventListener("mousemove",ue),Y.addEventListener("mouseup",Ae),Y.addEventListener("touchmove",ue),Y.addEventListener("touchend",Ae)}function tf(e,{handle:t,connectionMode:n,fromNodeId:r,fromHandleId:i,fromType:o,doc:s,lib:a,flowId:u,isValidConnection:c=ef,nodeLookup:f}){const h=o==="target",d=t?s.querySelector(`.${a}-flow__handle[data-id="${u}-${t==null?void 0:t.nodeId}-${t==null?void 0:t.id}-${t==null?void 0:t.type}"]`):null,{x:g,y:v}=Jt(e),m=s.elementFromPoint(g,v),_=m!=null&&m.classList.contains(`${a}-flow__handle`)?m:d,w={handleDomNode:_,isValid:!1,connection:null,toHandle:null};if(_){const P=$c(void 0,_),D=_.getAttribute("data-nodeid"),b=_.getAttribute("data-handleid"),A=_.classList.contains("connectable"),L=_.classList.contains("connectableend");if(!D||!P)return w;const Z={source:h?D:r,sourceHandle:h?b:i,target:h?r:D,targetHandle:h?i:b};w.connection=Z;const Y=A&&L&&(n===ii.Strict?h&&P==="source"||!h&&P==="target":D!==r||b!==i);w.isValid=Y&&c(Z),w.toHandle=Qc(D,P,b,f,n,!0)}return w}const Rl={onPointerDown:Fp,isValid:tf},us=e=>({x:e.x,y:e.y,zoom:e.k}),Es=({x:e,y:t,zoom:n})=>os.translate(e,t).scale(n),Fr=(e,t)=>e.target.closest(`.${t}`),nf=(e,t)=>t===2&&Array.isArray(e)&&e.includes(2),Rp=e=>((e*=2)<=1?e*e*e:(e-=2)*e*e+2)/2,Ns=(e,t=0,n=Rp,r=()=>{})=>{const i=typeof t=="number"&&t>0;return i||r(),i?e.transition().duration(t).ease(n).on("end",r):e},rf=e=>{const t=e.ctrlKey&&Ro()?10:1;return-e.deltaY*(e.deltaMode===1?.05:e.deltaMode?1:.002)*t};function Vp({zoomPanValues:e,noWheelClassName:t,d3Selection:n,d3Zoom:r,panOnScrollMode:i,panOnScrollSpeed:o,zoomOnPinch:s,onPanZoomStart:a,onPanZoom:u,onPanZoomEnd:c}){return f=>{if(Fr(f,t))return f.ctrlKey&&f.preventDefault(),!1;f.preventDefault(),f.stopImmediatePropagation();const h=n.property("__zoom").k||1;if(f.ctrlKey&&s){const _=tn(f),w=rf(f),P=h*Math.pow(2,w);r.scaleTo(n,P,_,f);return}const d=f.deltaMode===1?20:1;let g=i===Kr.Vertical?0:f.deltaX*d,v=i===Kr.Horizontal?0:f.deltaY*d;!Ro()&&f.shiftKey&&i!==Kr.Vertical&&(g=f.deltaY*d,v=0),r.translateBy(n,-(g/h)*o,-(v/h)*o,{internal:!0});const m=us(n.property("__zoom"));clearTimeout(e.panScrollTimeout),e.isPanScrolling?(u==null||u(f,m),e.panScrollTimeout=setTimeout(()=>{c==null||c(f,m),e.isPanScrolling=!1},150)):(e.isPanScrolling=!0,a==null||a(f,m))}}function Bp({noWheelClassName:e,preventScrolling:t,d3ZoomHandler:n}){return function(r,i){const o=r.type==="wheel",s=!t&&o&&!r.ctrlKey,a=Fr(r,e);if(r.ctrlKey&&o&&a&&r.preventDefault(),s||a)return null;r.preventDefault(),n.call(this,r,i)}}function Hp({zoomPanValues:e,onDraggingChange:t,onPanZoomStart:n}){return r=>{var o,s,a;if((o=r.sourceEvent)!=null&&o.internal)return;const i=us(r.transform);e.mouseButton=((s=r.sourceEvent)==null?void 0:s.button)||0,e.isZoomingOrPanning=!0,e.prevViewport=i,((a=r.sourceEvent)==null?void 0:a.type)==="mousedown"&&t(!0),n&&(n==null||n(r.sourceEvent,i))}}function Kp({zoomPanValues:e,panOnDrag:t,onPaneContextMenu:n,onTransformChange:r,onPanZoom:i}){return o=>{var s,a;e.usedRightMouseButton=!!(n&&nf(t,e.mouseButton??0)),(s=o.sourceEvent)!=null&&s.sync||r([o.transform.x,o.transform.y,o.transform.k]),i&&!((a=o.sourceEvent)!=null&&a.internal)&&(i==null||i(o.sourceEvent,us(o.transform)))}}function Yp({zoomPanValues:e,panOnDrag:t,panOnScroll:n,onDraggingChange:r,onPanZoomEnd:i,onPaneContextMenu:o}){return s=>{var a;if(!((a=s.sourceEvent)!=null&&a.internal)&&(e.isZoomingOrPanning=!1,o&&nf(t,e.mouseButton??0)&&!e.usedRightMouseButton&&s.sourceEvent&&o(s.sourceEvent),e.usedRightMouseButton=!1,r(!1),i)){const u=us(s.transform);e.prevViewport=u,clearTimeout(e.timerId),e.timerId=setTimeout(()=>{i==null||i(s.sourceEvent,u)},n?150:0)}}}function Xp({zoomActivationKeyPressed:e,zoomOnScroll:t,zoomOnPinch:n,panOnDrag:r,panOnScroll:i,zoomOnDoubleClick:o,userSelectionActive:s,noWheelClassName:a,noPanClassName:u,lib:c,connectionInProgress:f}){return h=>{var _;const d=e||t,g=n&&h.ctrlKey,v=h.type==="wheel";if(h.button===1&&h.type==="mousedown"&&(Fr(h,`${c}-flow__node`)||Fr(h,`${c}-flow__edge`)))return!0;if(!r&&!d&&!i&&!o&&!n||s||f&&!v||Fr(h,a)&&v||Fr(h,u)&&(!v||i&&v&&!e)||!n&&h.ctrlKey&&v)return!1;if(!n&&h.type==="touchstart"&&((_=h.touches)==null?void 0:_.length)>1)return h.preventDefault(),!1;if(!d&&!i&&!g&&v||!r&&(h.type==="mousedown"||h.type==="touchstart")||Array.isArray(r)&&!r.includes(h.button)&&h.type==="mousedown")return!1;const m=Array.isArray(r)&&r.includes(h.button)||!h.button||h.button<=1;return(!h.ctrlKey||v)&&m}}function Wp({domNode:e,minZoom:t,maxZoom:n,translateExtent:r,viewport:i,onPanZoom:o,onPanZoomStart:s,onPanZoomEnd:a,onDraggingChange:u}){const c={isZoomingOrPanning:!1,usedRightMouseButton:!1,prevViewport:{},mouseButton:0,timerId:void 0,panScrollTimeout:void 0,isPanScrolling:!1},f=e.getBoundingClientRect(),h=Wy().scaleExtent([t,n]).translateExtent(r),d=qt(e).call(h);P({x:i.x,y:i.y,zoom:oi(i.zoom,t,n)},[[0,0],[f.width,f.height]],r);const g=d.on("wheel.zoom"),v=d.on("dblclick.zoom");h.wheelDelta(rf);function m(E,x){return d?new Promise(M=>{h==null||h.interpolate((x==null?void 0:x.interpolate)==="linear"?Ti:Eo).transform(Ns(d,x==null?void 0:x.duration,x==null?void 0:x.ease,()=>M(!0)),E)}):Promise.resolve(!1)}function _({noWheelClassName:E,noPanClassName:x,onPaneContextMenu:M,userSelectionActive:y,panOnScroll:k,panOnDrag:N,panOnScrollMode:F,panOnScrollSpeed:V,preventScrolling:K,zoomOnPinch:G,zoomOnScroll:B,zoomOnDoubleClick:ne,zoomActivationKeyPressed:oe,lib:J,onTransformChange:q,connectionInProgress:z,paneClickDistance:j,selectionOnDrag:te}){y&&!c.isZoomingOrPanning&&w();const ue=k&&!oe&&!y;h.clickDistance(te?1/0:!Ln(j)||j<0?0:j);const Ae=ue?Vp({zoomPanValues:c,noWheelClassName:E,d3Selection:d,d3Zoom:h,panOnScrollMode:F,panOnScrollSpeed:V,zoomOnPinch:G,onPanZoomStart:s,onPanZoom:o,onPanZoomEnd:a}):Bp({noWheelClassName:E,preventScrolling:K,d3ZoomHandler:g});if(d.on("wheel.zoom",Ae,{passive:!1}),!y){const U=Hp({zoomPanValues:c,onDraggingChange:u,onPanZoomStart:s});h.on("start",U);const se=Kp({zoomPanValues:c,panOnDrag:N,onPaneContextMenu:!!M,onPanZoom:o,onTransformChange:q});h.on("zoom",se);const De=Yp({zoomPanValues:c,panOnDrag:N,panOnScroll:k,onPaneContextMenu:M,onPanZoomEnd:a,onDraggingChange:u});h.on("end",De)}const be=Xp({zoomActivationKeyPressed:oe,panOnDrag:N,zoomOnScroll:B,panOnScroll:k,zoomOnDoubleClick:ne,zoomOnPinch:G,userSelectionActive:y,noPanClassName:x,noWheelClassName:E,lib:J,connectionInProgress:z});h.filter(be),ne?d.on("dblclick.zoom",v):d.on("dblclick.zoom",null)}function w(){h.on("zoom",null)}async function P(E,x,M){const y=Es(E),k=h==null?void 0:h.constrain()(y,x,M);return k&&await m(k),new Promise(N=>N(k))}async function D(E,x){const M=Es(E);return await m(M,x),new Promise(y=>y(M))}function b(E){if(d){const x=Es(E),M=d.property("__zoom");(M.k!==E.zoom||M.x!==E.x||M.y!==E.y)&&(h==null||h.transform(d,x,null,{sync:!0}))}}function A(){const E=d?Lc(d.node()):{x:0,y:0,k:1};return{x:E.x,y:E.y,zoom:E.k}}function L(E,x){return d?new Promise(M=>{h==null||h.interpolate((x==null?void 0:x.interpolate)==="linear"?Ti:Eo).scaleTo(Ns(d,x==null?void 0:x.duration,x==null?void 0:x.ease,()=>M(!0)),E)}):Promise.resolve(!1)}function Z(E,x){return d?new Promise(M=>{h==null||h.interpolate((x==null?void 0:x.interpolate)==="linear"?Ti:Eo).scaleBy(Ns(d,x==null?void 0:x.duration,x==null?void 0:x.ease,()=>M(!0)),E)}):Promise.resolve(!1)}function R(E){h==null||h.scaleExtent(E)}function Y(E){h==null||h.translateExtent(E)}function ce(E){const x=!Ln(E)||E<0?0:E;h==null||h.clickDistance(x)}return{update:_,destroy:w,setViewport:D,setViewportConstrained:P,getViewport:A,scaleTo:L,scaleBy:Z,setScaleExtent:R,setTranslateExtent:Y,syncViewport:b,setClickDistance:ce}}var Vl;(function(e){e.Line="line",e.Handle="handle"})(Vl||(Vl={}));function Ra(){const e={};return[t=>{if(t&&!Qf(e))throw new Error(t);return da(e)},t=>ha(e,t)]}const[Gp,qp]=Ra(),[Up,Zp]=Ra(),[jp,Jp]=Ra();var Qp=pe("<div><!></div>");function li(e,t){Ie(t,!0);let n=Q(t,"id",3,null),r=Q(t,"type",3,"source"),i=Q(t,"position",19,()=>xe.Top),o=Q(t,"isConnectableStart",3,!0),s=Q(t,"isConnectableEnd",3,!0),a=$i(t,["$$slots","$$events","$$legacy","id","type","position","style","class","isConnectable","isConnectableStart","isConnectableEnd","isValidConnection","onconnect","ondisconnect","children"]);const u=Gp("Handle must be used within a Custom Node component"),c=Up("Handle must be used within a Custom Node component");let f=T(()=>r()==="target"),h=T(()=>t.isConnectable!==void 0?t.isConnectable:c.value),d=vi(),g=T(()=>d.ariaLabelConfig),v=null;Fu(()=>{if(t.onconnect||t.ondisconnect){d.edges;let x=d.connectionLookup.get(`${u}-${r()}${n()?`-${n()}`:""}`);if(v&&!qy(x,v)){const M=x??new Map;Sl(v,M,t.ondisconnect),Sl(M,v,t.onconnect)}v=new Map(x)}});let m=T(()=>{if(!d.connection.inProgress)return[!1,!1,!1,!1,null];const{fromHandle:x,toHandle:M,isValid:y}=d.connection,k=x&&x.nodeId===u&&x.type===r()&&x.id===n(),N=M&&M.nodeId===u&&M.type===r()&&M.id===n(),F=d.connectionMode===ii.Strict?(x==null?void 0:x.type)!==r():u!==(x==null?void 0:x.nodeId)||n()!==(x==null?void 0:x.id);return[!0,k,N,F,N&&y]}),_=T(()=>ui(l(m),5)),w=T(()=>l(_)[0]),P=T(()=>l(_)[1]),D=T(()=>l(_)[2]),b=T(()=>l(_)[3]),A=T(()=>l(_)[4]);function L(x){var y;const M=d.onbeforeconnect?d.onbeforeconnect(x):x;M&&(d.addEdge(M),(y=d.onconnect)==null||y.call(d,x))}function Z(x){const M=Xc(x);x.currentTarget&&(M&&x.button===0||!M)&&Rl.onPointerDown(x,{handleId:n(),nodeId:u,isTarget:l(f),connectionRadius:d.connectionRadius,domNode:d.domNode,nodeLookup:d.nodeLookup,connectionMode:d.connectionMode,lib:"svelte",autoPanOnConnect:d.autoPanOnConnect,autoPanSpeed:d.autoPanSpeed,flowId:d.flowId,isValidConnection:t.isValidConnection??d.isValidConnection,updateConnection:d.updateConnection,cancelConnection:d.cancelConnection,panBy:d.panBy,onConnect:L,onConnectStart:(y,k)=>{var N;(N=d.onconnectstart)==null||N.call(d,y,{nodeId:k.nodeId,handleId:k.handleId,handleType:k.handleType})},onConnectEnd:(y,k)=>{var N;(N=d.onconnectend)==null||N.call(d,y,k)},getTransform:()=>[d.viewport.x,d.viewport.y,d.viewport.zoom],getFromHandle:()=>d.connection.fromHandle,dragThreshold:d.connectionDragThreshold,handleDomNode:x.currentTarget})}function R(x){var ne,oe;if(!u||!d.clickConnectStartHandle&&!o())return;if(!d.clickConnectStartHandle){(ne=d.onclickconnectstart)==null||ne.call(d,x,{nodeId:u,handleId:n(),handleType:r()}),d.clickConnectStartHandle={nodeId:u,type:r(),id:n()};return}const M=Kc(x.target),y=t.isValidConnection??d.isValidConnection,{connectionMode:k,clickConnectStartHandle:N,flowId:F,nodeLookup:V}=d,{connection:K,isValid:G}=Rl.isValid(x,{handle:{nodeId:u,id:n(),type:r()},connectionMode:k,fromNodeId:N.nodeId,fromHandleId:N.id??null,fromType:N.type,isValidConnection:y,flowId:F,doc:M,lib:"svelte",nodeLookup:V});G&&K&&L(K);const B=structuredClone(gu(d.connection));delete B.inProgress,B.toPosition=B.toHandle?B.toHandle.position:null,(oe=d.onclickconnectend)==null||oe.call(d,x,B),d.clickConnectStartHandle=null}var Y=Qp(),ce=()=>{};Bn(Y,()=>({"data-handleid":n(),"data-nodeid":u,"data-handlepos":i(),"data-id":`${d.flowId??""}-${u??""}-${n()??"null"??""}-${r()??""}`,class:["svelte-flow__handle",`svelte-flow__handle-${i()}`,d.noDragClass,d.noPanClass,i(),t.class],onmousedown:Z,ontouchstart:Z,onclick:d.clickConnect?R:void 0,onkeypress:ce,style:t.style,role:"button","aria-label":l(g)["handle.ariaLabel"],tabindex:"-1",...a,[Un]:{valid:l(A),connectingto:l(D),connectingfrom:l(P),source:!l(f),target:l(f),connectablestart:o(),connectableend:s(),connectable:l(h),connectionindicator:l(h)&&(!l(w)||l(b))&&(l(w)||d.clickConnectStartHandle?s():o())}}));var E=fe(Y);Yn(E,()=>t.children??Mr),ie(e,Y),Se()}var $p=pe("<!> <!>",1);function of(e,t){Ie(t,!0);let n=Q(t,"targetPosition",19,()=>xe.Top),r=Q(t,"sourcePosition",19,()=>xe.Bottom);var i=$p(),o=We(i);li(o,{type:"target",get position(){return n()}});var s=Te(o),a=Te(s);li(a,{type:"source",get position(){return r()}}),we(()=>{var u;return Ze(s,` ${((u=t.data)==null?void 0:u.label)??""} `)}),ie(e,i),Se()}var em=pe(" <!>",1);function tm(e,t){Ie(t,!0);let n=Q(t,"data",19,()=>({label:"Node"})),r=Q(t,"sourcePosition",19,()=>xe.Bottom);var i=em(),o=We(i),s=Te(o);li(s,{type:"source",get position(){return r()}}),we(()=>{var a;return Ze(o,`${((a=n())==null?void 0:a.label)??""} `)}),ie(e,i),Se()}var nm=pe(" <!>",1);function rm(e,t){Ie(t,!0);let n=Q(t,"data",19,()=>({label:"Node"})),r=Q(t,"targetPosition",19,()=>xe.Top);var i=nm(),o=We(i),s=Te(o);li(s,{type:"target",get position(){return r()}}),we(()=>{var a;return Ze(o,`${((a=n())==null?void 0:a.label)??""} `)}),ie(e,i),Se()}function im(e,t){}function Is(e,t,n){if(!n||!t)return;const r=n==="root"?t:t.querySelector(`.svelte-flow__${n}`);r&&r.appendChild(e)}function Ss(e,t){const n=T(vi),r=T(()=>l(n).domNode);let i;return l(r)?Is(e,l(r),t):i=Ru(()=>{dn(()=>{Is(e,l(r),t),i==null||i()})}),{async update(o){Is(e,l(r),o)},destroy(){e.parentNode&&e.parentNode.removeChild(e),i==null||i()}}}function om(){let e=He(typeof window>"u");if(l(e)){const t=Ru(()=>{dn(()=>{I(e,!1),t==null||t()})})}return{get value(){return l(e)}}}const Bl=e=>Zy(e),sm=e=>Fc(e);function vn(e){return e===void 0?void 0:`${e}px`}const Vo={ArrowUp:{x:0,y:-1},ArrowDown:{x:0,y:1},ArrowLeft:{x:-1,y:0},ArrowRight:{x:1,y:0}};var am=pe("<div><!></div>");function lm(e,t){Ie(t,!0);let n=Q(t,"x",3,0),r=Q(t,"y",3,0),i=Q(t,"selectEdgeOnClick",3,!1),o=Q(t,"transparent",3,!1),s=$i(t,["$$slots","$$events","$$legacy","x","y","width","height","selectEdgeOnClick","transparent","class","children"]);const a=vi(),u=jp("EdgeLabel must be used within a Custom Edge component");let c=T(()=>{var g;return(g=a.visible.edges.get(u))==null?void 0:g.zIndex});var f=am(),h=()=>{i()&&u&&a.handleEdgeSelection(u)};Bn(f,g=>({class:["svelte-flow__edge-label",{transparent:o()},t.class],tabindex:"-1",onclick:h,...s,[Zn]:g}),[()=>({display:om().value?"none":void 0,cursor:i()?"pointer":void 0,transform:`translate(-50%, -50%) translate(${n()??""}px,${r()??""}px)`,"pointer-events":"all",width:vn(t.width),height:vn(t.height),"z-index":l(c)})],void 0,void 0,"svelte-1g6l770");var d=fe(f);Yn(d,()=>t.children??Mr),bt(f,(g,v)=>Ss==null?void 0:Ss(g,v),()=>"edge-labels"),ie(e,f),Se()}var um=Pt("<path></path>"),cm=Pt('<path fill="none"></path><!><!>',1);function cs(e,t){let n=Q(t,"interactionWidth",3,20),r=$i(t,["$$slots","$$events","$$legacy","id","path","label","labelX","labelY","labelStyle","markerStart","markerEnd","style","interactionWidth","class"]);var i=cm(),o=We(i),s=Te(o);{var a=f=>{var h=um();Bn(h,()=>({d:t.path,"stroke-opacity":0,"stroke-width":n(),fill:"none",class:"svelte-flow__edge-interaction",...r})),ie(f,h)};Ge(s,f=>{n()>0&&f(a)})}var u=Te(s);{var c=f=>{lm(f,{get x(){return t.labelX},get y(){return t.labelY},get style(){return t.labelStyle},selectEdgeOnClick:!0,children:(h,d)=>{var g=Rd();we(()=>Ze(g,t.label)),ie(h,g)},$$slots:{default:!0}})};Ge(u,f=>{t.label&&f(c)})}we(()=>{he(o,"id",t.id),he(o,"d",t.path),pn(o,0,Or(["svelte-flow__edge-path",t.class])),he(o,"marker-start",t.markerStart),he(o,"marker-end",t.markerEnd),Ht(o,t.style)}),ie(e,i)}function sf(e,t){Ie(t,!0);let n=T(()=>{var a;return Wc({sourceX:t.sourceX,sourceY:t.sourceY,targetX:t.targetX,targetY:t.targetY,sourcePosition:t.sourcePosition,targetPosition:t.targetPosition,curvature:(a=t.pathOptions)==null?void 0:a.curvature})}),r=T(()=>ui(l(n),3)),i=T(()=>l(r)[0]),o=T(()=>l(r)[1]),s=T(()=>l(r)[2]);cs(e,{get id(){return t.id},get path(){return l(i)},get labelX(){return l(o)},get labelY(){return l(s)},get label(){return t.label},get labelStyle(){return t.labelStyle},get markerStart(){return t.markerStart},get markerEnd(){return t.markerEnd},get interactionWidth(){return t.interactionWidth},get style(){return t.style}}),Se()}function fm(e,t){Ie(t,!0);let n=T(()=>Oa({sourceX:t.sourceX,sourceY:t.sourceY,targetX:t.targetX,targetY:t.targetY,sourcePosition:t.sourcePosition,targetPosition:t.targetPosition})),r=T(()=>ui(l(n),3)),i=T(()=>l(r)[0]),o=T(()=>l(r)[1]),s=T(()=>l(r)[2]);cs(e,{get path(){return l(i)},get labelX(){return l(o)},get labelY(){return l(s)},get label(){return t.label},get labelStyle(){return t.labelStyle},get markerStart(){return t.markerStart},get markerEnd(){return t.markerEnd},get interactionWidth(){return t.interactionWidth},get style(){return t.style}}),Se()}function dm(e,t){Ie(t,!0);let n=T(()=>Uc({sourceX:t.sourceX,sourceY:t.sourceY,targetX:t.targetX,targetY:t.targetY})),r=T(()=>ui(l(n),3)),i=T(()=>l(r)[0]),o=T(()=>l(r)[1]),s=T(()=>l(r)[2]);cs(e,{get path(){return l(i)},get labelX(){return l(o)},get labelY(){return l(s)},get label(){return t.label},get labelStyle(){return t.labelStyle},get markerStart(){return t.markerStart},get markerEnd(){return t.markerEnd},get interactionWidth(){return t.interactionWidth},get style(){return t.style}}),Se()}function hm(e,t){Ie(t,!0);let n=T(()=>Oa({sourceX:t.sourceX,sourceY:t.sourceY,targetX:t.targetX,targetY:t.targetY,sourcePosition:t.sourcePosition,targetPosition:t.targetPosition,borderRadius:0})),r=T(()=>ui(l(n),3)),i=T(()=>l(r)[0]),o=T(()=>l(r)[1]),s=T(()=>l(r)[2]);cs(e,{get path(){return l(i)},get labelX(){return l(o)},get labelY(){return l(s)},get label(){return t.label},get labelStyle(){return t.labelStyle},get markerStart(){return t.markerStart},get markerEnd(){return t.markerEnd},get interactionWidth(){return t.interactionWidth},get style(){return t.style}}),Se()}var Yi,Xi;class gm{constructor(t,n){W(this,Yi);W(this,Xi);ke(this,Yi,t),ke(this,Xi,Nu(n))}get current(){return p(this,Xi).call(this),p(this,Yi).call(this)}}Yi=new WeakMap,Xi=new WeakMap;const vm=/\(.+\)/,ym=new Set(["all","print","screen","and","or","not","only"]);class pm extends gm{constructor(t,n){let r=vm.test(t)||t.split(/[\s,]+/).some(o=>ym.has(o.trim()))?t:`(${t})`;const i=window.matchMedia(r);super(()=>i.matches,o=>Hs(i,"change",o))}}function mm(e,t,n,r){const i=new Map;return Ma(e,{x:0,y:0,width:n,height:r},t,!0).forEach(o=>{i.set(o.id,o)}),i}function Hl(e){const{edges:t,defaultEdgeOptions:n,nodeLookup:r,previousEdges:i,connectionMode:o,onerror:s,onlyRenderVisible:a,elevateEdgesOnSelect:u,zIndexMode:c}=e,f=new Map;for(const h of t){const d=r.get(h.source),g=r.get(h.target);if(!d||!g)continue;if(a){const{visibleNodes:_,transform:w,width:P,height:D}=e;if(fp({sourceNode:d,targetNode:g,width:P,height:D,transform:w}))_.set(d.id,d),_.set(g.id,g);else continue}const v=i.get(h.id);if(v&&h===v.edge&&d==v.sourceNode&&g==v.targetNode){f.set(h.id,v);continue}const m=pp({id:h.id,sourceNode:d,targetNode:g,sourceHandle:h.sourceHandle||null,targetHandle:h.targetHandle||null,connectionMode:o,onError:s});m&&f.set(h.id,{...n,...h,...m,zIndex:cp({selected:h.selected,zIndex:h.zIndex??n.zIndex,sourceNode:d,targetNode:g,elevateOnSelect:u,zIndexMode:c}),sourceNode:d,targetNode:g,edge:h})}return f}const af={input:tm,output:rm,default:of,group:im},lf={straight:dm,smoothstep:fm,default:sf,step:hm};function _m(e,t,n,r,i,o){if(t&&!n&&r&&i){const s=ss(o,{filter:a=>!!((a.width||a.initialWidth)&&(a.height||a.initialHeight))});return Pa(s,r,i,.5,2,.1)}else return n??{x:0,y:0,zoom:1}}function bm(e){var n,r,i,o,s,a,u,c,f,h,d,g,v,m,_,w,P,D,b,A,L,Z,R,Y,ce,E,x,M,y,k,N,F,V,K,G,B,ne,oe,J,q,z,j,te,ue,Ae,be,U,se,De,Me,Ce,S,C,H,X,$,re,ee,ye,Pe,Qe,Ee,tt,ot,mt,It,St,ze,ve,Fe,Je,Ue,ft,dt,qe,$e;class t{constructor(){W(this,n,T(()=>e.props.id??"1"));W(this,r,He(null));W(this,i,He(null));W(this,o,He(e.width??0));W(this,s,He(e.height??0));W(this,a,He(e.props.zIndexMode??"basic"));W(this,u,T(()=>{var ht;const O=Ep(e.nodes,this.nodeLookup,this.parentLookup,{nodeExtent:this.nodeExtent,nodeOrigin:this.nodeOrigin,elevateNodesOnSelect:e.props.elevateNodesOnSelect??!0,checkEquality:!0,zIndexMode:this.zIndexMode});return this.fitViewQueued&&O&&((ht=this.fitViewOptions)!=null&&ht.duration?this.resolveFitView():queueMicrotask(()=>{this.resolveFitView()})),O}));W(this,c,T(()=>this.panZoom!==null));W(this,f,T(()=>(Ap(this.connectionLookup,this.edgeLookup,e.edges),e.edges)));Xe(this,"_prevSelectedNodes",[]);Xe(this,"_prevSelectedNodeIds",new Set);W(this,h,T(()=>{const O=this._prevSelectedNodeIds.size,ht=new Set,Xn=this.nodes.filter(Ne=>(Ne.selected&&(ht.add(Ne.id),this._prevSelectedNodeIds.delete(Ne.id)),Ne.selected));return(O!==ht.size||this._prevSelectedNodeIds.size>0)&&(this._prevSelectedNodes=Xn),this._prevSelectedNodeIds=ht,this._prevSelectedNodes}));Xe(this,"_prevSelectedEdges",[]);Xe(this,"_prevSelectedEdgeIds",new Set);W(this,d,T(()=>{const O=this._prevSelectedEdgeIds.size,ht=new Set,Xn=this.edges.filter(Ne=>(Ne.selected&&(ht.add(Ne.id),this._prevSelectedEdgeIds.delete(Ne.id)),Ne.selected));return(O!==ht.size||this._prevSelectedEdgeIds.size>0)&&(this._prevSelectedEdges=Xn),this._prevSelectedEdgeIds=ht,this._prevSelectedEdges}));Xe(this,"selectionChangeHandlers",new Map);Xe(this,"nodeLookup",new Map);Xe(this,"parentLookup",new Map);Xe(this,"connectionLookup",new Map);Xe(this,"edgeLookup",new Map);Xe(this,"_prevVisibleEdges",new Map);W(this,g,T(()=>{const{nodes:O,_edges:ht,_prevVisibleEdges:Xn,nodeLookup:Ne,connectionMode:me,onerror:Ye,onlyRenderVisibleElements:gt,defaultEdgeOptions:Ke,zIndexMode:Tt}=this;let wn,Wn;const En={edges:ht,defaultEdgeOptions:Ke,previousEdges:Xn,nodeLookup:Ne,connectionMode:me,elevateEdgesOnSelect:e.props.elevateEdgesOnSelect??!0,zIndexMode:Tt,onerror:Ye};if(gt){const{viewport:Nn,width:Lr,height:Ka}=this,Ya=[Nn.x,Nn.y,Nn.zoom];wn=mm(Ne,Ya,Lr,Ka),Wn=Hl({...En,onlyRenderVisible:!0,visibleNodes:wn,transform:Ya,width:Lr,height:Ka})}else wn=this.nodeLookup,Wn=Hl(En);return{nodes:wn,edges:Wn}}));W(this,v,T(()=>e.props.nodesDraggable??!0));W(this,m,T(()=>e.props.nodesConnectable??!0));W(this,_,T(()=>e.props.elementsSelectable??!0));W(this,w,T(()=>e.props.nodesFocusable??!0));W(this,P,T(()=>e.props.edgesFocusable??!0));W(this,D,T(()=>e.props.disableKeyboardA11y??!1));W(this,b,T(()=>e.props.minZoom??.5));W(this,A,T(()=>e.props.maxZoom??2));W(this,L,T(()=>e.props.nodeOrigin??[0,0]));W(this,Z,T(()=>e.props.nodeExtent??ta));W(this,R,T(()=>e.props.translateExtent??ta));W(this,Y,T(()=>e.props.defaultEdgeOptions??{}));W(this,ce,T(()=>e.props.nodeDragThreshold??1));W(this,E,T(()=>e.props.autoPanOnNodeDrag??!0));W(this,x,T(()=>e.props.autoPanOnConnect??!0));W(this,M,T(()=>e.props.autoPanOnNodeFocus??!0));W(this,y,T(()=>e.props.autoPanSpeed??15));W(this,k,T(()=>e.props.connectionDragThreshold??1));Xe(this,"fitViewQueued",e.props.fitView??!1);Xe(this,"fitViewOptions",e.props.fitViewOptions);Xe(this,"fitViewResolver",null);W(this,N,T(()=>e.props.snapGrid??null));W(this,F,He(!1));W(this,V,He(null));W(this,K,He(!1));W(this,G,He(!1));W(this,B,He(!1));W(this,ne,He(!1));W(this,oe,He(!1));W(this,J,He(null));W(this,q,He(""));W(this,z,T(()=>e.props.selectionMode??Do.Partial));W(this,j,T(()=>({...af,...e.props.nodeTypes})));W(this,te,T(()=>({...lf,...e.props.edgeTypes})));W(this,ue,T(()=>e.props.noPanClass??"nopan"));W(this,Ae,T(()=>e.props.noDragClass??"nodrag"));W(this,be,T(()=>e.props.noWheelClass??"nowheel"));W(this,U,T(()=>ap(e.props.ariaLabelConfig)));W(this,se,He(_m(this.nodesInitialized,e.props.fitView,e.props.initialViewport,this.width,this.height,this.nodeLookup)));W(this,De,He(na));W(this,Me,T(()=>this._connection.inProgress?{...this._connection,to:io(this._connection.to,[this.viewport.x,this.viewport.y,this.viewport.zoom])}:this._connection));W(this,Ce,T(()=>e.props.connectionMode??ii.Strict));W(this,S,T(()=>e.props.connectionRadius??20));W(this,C,T(()=>e.props.isValidConnection??(()=>!0)));W(this,H,T(()=>e.props.selectNodesOnDrag??!0));W(this,X,T(()=>e.props.defaultMarkerColor===void 0?"#b1b1b7":e.props.defaultMarkerColor));W(this,$,T(()=>mp(e.edges,{defaultColor:this.defaultMarkerColor,id:this.flowId,defaultMarkerStart:this.defaultEdgeOptions.markerStart,defaultMarkerEnd:this.defaultEdgeOptions.markerEnd})));W(this,re,T(()=>e.props.onlyRenderVisibleElements??!1));W(this,ee,T(()=>e.props.onflowerror??np));W(this,ye,T(()=>e.props.ondelete));W(this,Pe,T(()=>e.props.onbeforedelete));W(this,Qe,T(()=>e.props.onbeforeconnect));W(this,Ee,T(()=>e.props.onconnect));W(this,tt,T(()=>e.props.onconnectstart));W(this,ot,T(()=>e.props.onconnectend));W(this,mt,T(()=>e.props.onbeforereconnect));W(this,It,T(()=>e.props.onreconnect));W(this,St,T(()=>e.props.onreconnectstart));W(this,ze,T(()=>e.props.onreconnectend));W(this,ve,T(()=>e.props.clickConnect??!0));W(this,Fe,T(()=>e.props.onclickconnectstart));W(this,Je,T(()=>e.props.onclickconnectend));W(this,Ue,He(null));W(this,ft,T(()=>e.props.onselectiondrag));W(this,dt,T(()=>e.props.onselectiondragstart));W(this,qe,T(()=>e.props.onselectiondragstop));Xe(this,"resolveFitView",async()=>{var O;this.panZoom&&(await $y({nodes:this.nodeLookup,width:this.width,height:this.height,panZoom:this.panZoom,minZoom:this.minZoom,maxZoom:this.maxZoom},this.fitViewOptions),(O=this.fitViewResolver)==null||O.resolve(!0),this.fitViewQueued=!1,this.fitViewOptions=void 0,this.fitViewResolver=null)});Xe(this,"_prefersDark",new pm("(prefers-color-scheme: dark)",e.props.colorModeSSR==="dark"));W(this,$e,T(()=>e.props.colorMode==="system"?this._prefersDark.current?"dark":"light":e.props.colorMode??"light"))}get flowId(){return l(p(this,n))}set flowId(O){I(p(this,n),O)}get domNode(){return l(p(this,r))}set domNode(O){I(p(this,r),O)}get panZoom(){return l(p(this,i))}set panZoom(O){I(p(this,i),O)}get width(){return l(p(this,o))}set width(O){I(p(this,o),O)}get height(){return l(p(this,s))}set height(O){I(p(this,s),O)}get zIndexMode(){return l(p(this,a))}set zIndexMode(O){I(p(this,a),O)}get nodesInitialized(){return l(p(this,u))}set nodesInitialized(O){I(p(this,u),O)}get viewportInitialized(){return l(p(this,c))}set viewportInitialized(O){I(p(this,c),O)}get _edges(){return l(p(this,f))}set _edges(O){I(p(this,f),O)}get nodes(){return this.nodesInitialized,e.nodes}set nodes(O){e.nodes=O}get edges(){return this._edges}set edges(O){e.edges=O}get selectedNodes(){return l(p(this,h))}set selectedNodes(O){I(p(this,h),O)}get selectedEdges(){return l(p(this,d))}set selectedEdges(O){I(p(this,d),O)}get visible(){return l(p(this,g))}set visible(O){I(p(this,g),O)}get nodesDraggable(){return l(p(this,v))}set nodesDraggable(O){I(p(this,v),O)}get nodesConnectable(){return l(p(this,m))}set nodesConnectable(O){I(p(this,m),O)}get elementsSelectable(){return l(p(this,_))}set elementsSelectable(O){I(p(this,_),O)}get nodesFocusable(){return l(p(this,w))}set nodesFocusable(O){I(p(this,w),O)}get edgesFocusable(){return l(p(this,P))}set edgesFocusable(O){I(p(this,P),O)}get disableKeyboardA11y(){return l(p(this,D))}set disableKeyboardA11y(O){I(p(this,D),O)}get minZoom(){return l(p(this,b))}set minZoom(O){I(p(this,b),O)}get maxZoom(){return l(p(this,A))}set maxZoom(O){I(p(this,A),O)}get nodeOrigin(){return l(p(this,L))}set nodeOrigin(O){I(p(this,L),O)}get nodeExtent(){return l(p(this,Z))}set nodeExtent(O){I(p(this,Z),O)}get translateExtent(){return l(p(this,R))}set translateExtent(O){I(p(this,R),O)}get defaultEdgeOptions(){return l(p(this,Y))}set defaultEdgeOptions(O){I(p(this,Y),O)}get nodeDragThreshold(){return l(p(this,ce))}set nodeDragThreshold(O){I(p(this,ce),O)}get autoPanOnNodeDrag(){return l(p(this,E))}set autoPanOnNodeDrag(O){I(p(this,E),O)}get autoPanOnConnect(){return l(p(this,x))}set autoPanOnConnect(O){I(p(this,x),O)}get autoPanOnNodeFocus(){return l(p(this,M))}set autoPanOnNodeFocus(O){I(p(this,M),O)}get autoPanSpeed(){return l(p(this,y))}set autoPanSpeed(O){I(p(this,y),O)}get connectionDragThreshold(){return l(p(this,k))}set connectionDragThreshold(O){I(p(this,k),O)}get snapGrid(){return l(p(this,N))}set snapGrid(O){I(p(this,N),O)}get dragging(){return l(p(this,F))}set dragging(O){I(p(this,F),O)}get selectionRect(){return l(p(this,V))}set selectionRect(O){I(p(this,V),O)}get selectionKeyPressed(){return l(p(this,K))}set selectionKeyPressed(O){I(p(this,K),O)}get multiselectionKeyPressed(){return l(p(this,G))}set multiselectionKeyPressed(O){I(p(this,G),O)}get deleteKeyPressed(){return l(p(this,B))}set deleteKeyPressed(O){I(p(this,B),O)}get panActivationKeyPressed(){return l(p(this,ne))}set panActivationKeyPressed(O){I(p(this,ne),O)}get zoomActivationKeyPressed(){return l(p(this,oe))}set zoomActivationKeyPressed(O){I(p(this,oe),O)}get selectionRectMode(){return l(p(this,J))}set selectionRectMode(O){I(p(this,J),O)}get ariaLiveMessage(){return l(p(this,q))}set ariaLiveMessage(O){I(p(this,q),O)}get selectionMode(){return l(p(this,z))}set selectionMode(O){I(p(this,z),O)}get nodeTypes(){return l(p(this,j))}set nodeTypes(O){I(p(this,j),O)}get edgeTypes(){return l(p(this,te))}set edgeTypes(O){I(p(this,te),O)}get noPanClass(){return l(p(this,ue))}set noPanClass(O){I(p(this,ue),O)}get noDragClass(){return l(p(this,Ae))}set noDragClass(O){I(p(this,Ae),O)}get noWheelClass(){return l(p(this,be))}set noWheelClass(O){I(p(this,be),O)}get ariaLabelConfig(){return l(p(this,U))}set ariaLabelConfig(O){I(p(this,U),O)}get _viewport(){return l(p(this,se))}set _viewport(O){I(p(this,se),O)}get viewport(){return e.viewport??this._viewport}set viewport(O){e.viewport&&(e.viewport=O),this._viewport=O}get _connection(){return l(p(this,De))}set _connection(O){I(p(this,De),O)}get connection(){return l(p(this,Me))}set connection(O){I(p(this,Me),O)}get connectionMode(){return l(p(this,Ce))}set connectionMode(O){I(p(this,Ce),O)}get connectionRadius(){return l(p(this,S))}set connectionRadius(O){I(p(this,S),O)}get isValidConnection(){return l(p(this,C))}set isValidConnection(O){I(p(this,C),O)}get selectNodesOnDrag(){return l(p(this,H))}set selectNodesOnDrag(O){I(p(this,H),O)}get defaultMarkerColor(){return l(p(this,X))}set defaultMarkerColor(O){I(p(this,X),O)}get markers(){return l(p(this,$))}set markers(O){I(p(this,$),O)}get onlyRenderVisibleElements(){return l(p(this,re))}set onlyRenderVisibleElements(O){I(p(this,re),O)}get onerror(){return l(p(this,ee))}set onerror(O){I(p(this,ee),O)}get ondelete(){return l(p(this,ye))}set ondelete(O){I(p(this,ye),O)}get onbeforedelete(){return l(p(this,Pe))}set onbeforedelete(O){I(p(this,Pe),O)}get onbeforeconnect(){return l(p(this,Qe))}set onbeforeconnect(O){I(p(this,Qe),O)}get onconnect(){return l(p(this,Ee))}set onconnect(O){I(p(this,Ee),O)}get onconnectstart(){return l(p(this,tt))}set onconnectstart(O){I(p(this,tt),O)}get onconnectend(){return l(p(this,ot))}set onconnectend(O){I(p(this,ot),O)}get onbeforereconnect(){return l(p(this,mt))}set onbeforereconnect(O){I(p(this,mt),O)}get onreconnect(){return l(p(this,It))}set onreconnect(O){I(p(this,It),O)}get onreconnectstart(){return l(p(this,St))}set onreconnectstart(O){I(p(this,St),O)}get onreconnectend(){return l(p(this,ze))}set onreconnectend(O){I(p(this,ze),O)}get clickConnect(){return l(p(this,ve))}set clickConnect(O){I(p(this,ve),O)}get onclickconnectstart(){return l(p(this,Fe))}set onclickconnectstart(O){I(p(this,Fe),O)}get onclickconnectend(){return l(p(this,Je))}set onclickconnectend(O){I(p(this,Je),O)}get clickConnectStartHandle(){return l(p(this,Ue))}set clickConnectStartHandle(O){I(p(this,Ue),O)}get onselectiondrag(){return l(p(this,ft))}set onselectiondrag(O){I(p(this,ft),O)}get onselectiondragstart(){return l(p(this,dt))}set onselectiondragstart(O){I(p(this,dt),O)}get onselectiondragstop(){return l(p(this,qe))}set onselectiondragstop(O){I(p(this,qe),O)}get colorMode(){return l(p(this,$e))}set colorMode(O){I(p(this,$e),O)}resetStoreValues(){this.dragging=!1,this.selectionRect=null,this.selectionRectMode=null,this.selectionKeyPressed=!1,this.multiselectionKeyPressed=!1,this.deleteKeyPressed=!1,this.panActivationKeyPressed=!1,this.zoomActivationKeyPressed=!1,this._connection=na,this.clickConnectStartHandle=null,this.viewport=e.props.initialViewport??{x:0,y:0,zoom:1},this.ariaLiveMessage=""}}return n=new WeakMap,r=new WeakMap,i=new WeakMap,o=new WeakMap,s=new WeakMap,a=new WeakMap,u=new WeakMap,c=new WeakMap,f=new WeakMap,h=new WeakMap,d=new WeakMap,g=new WeakMap,v=new WeakMap,m=new WeakMap,_=new WeakMap,w=new WeakMap,P=new WeakMap,D=new WeakMap,b=new WeakMap,A=new WeakMap,L=new WeakMap,Z=new WeakMap,R=new WeakMap,Y=new WeakMap,ce=new WeakMap,E=new WeakMap,x=new WeakMap,M=new WeakMap,y=new WeakMap,k=new WeakMap,N=new WeakMap,F=new WeakMap,V=new WeakMap,K=new WeakMap,G=new WeakMap,B=new WeakMap,ne=new WeakMap,oe=new WeakMap,J=new WeakMap,q=new WeakMap,z=new WeakMap,j=new WeakMap,te=new WeakMap,ue=new WeakMap,Ae=new WeakMap,be=new WeakMap,U=new WeakMap,se=new WeakMap,De=new WeakMap,Me=new WeakMap,Ce=new WeakMap,S=new WeakMap,C=new WeakMap,H=new WeakMap,X=new WeakMap,$=new WeakMap,re=new WeakMap,ee=new WeakMap,ye=new WeakMap,Pe=new WeakMap,Qe=new WeakMap,Ee=new WeakMap,tt=new WeakMap,ot=new WeakMap,mt=new WeakMap,It=new WeakMap,St=new WeakMap,ze=new WeakMap,ve=new WeakMap,Fe=new WeakMap,Je=new WeakMap,Ue=new WeakMap,ft=new WeakMap,dt=new WeakMap,qe=new WeakMap,$e=new WeakMap,new t}function vi(){const e=da(Bo);if(!e)throw new Error("To call useStore outside of <SvelteFlow /> you need to wrap your component in a <SvelteFlowProvider />");return e.getStore()}const Bo=Symbol();function uf(e){const t=bm(e);function n(E){t.nodeTypes={...af,...E}}function r(E){t.edgeTypes={...lf,...E}}function i(E){t.edges=qc(E,t.edges)}const o=(E,x=!1)=>{t.nodes=t.nodes.map(M=>{if(t.connection.inProgress&&t.connection.fromNode.id===M.id){const k=t.nodeLookup.get(M.id);k&&(t.connection={...t.connection,from:Ar(k,t.connection.fromHandle,xe.Left,!0)})}const y=E.get(M.id);return y?{...M,position:y.position,dragging:x}:M})};function s(E){var k,N,F;const{changes:x,updatedInternals:M}=Tp(E,t.nodeLookup,t.parentLookup,t.domNode,t.nodeOrigin,t.nodeExtent,t.zIndexMode);if(!M)return;xp(t.nodeLookup,t.parentLookup,{nodeOrigin:t.nodeOrigin,nodeExtent:t.nodeExtent,zIndexMode:t.zIndexMode}),t.fitViewQueued&&t.resolveFitView();const y=new Map;for(const V of x){const K=(k=t.nodeLookup.get(V.id))==null?void 0:k.internals.userNode;if(!K)continue;const G={...K};switch(V.type){case"dimensions":{const B={...G.measured,...V.dimensions};V.setAttributes&&(G.width=((N=V.dimensions)==null?void 0:N.width)??G.width,G.height=((F=V.dimensions)==null?void 0:F.height)??G.height),G.measured=B;break}case"position":G.position=V.position??G.position;break}y.set(V.id,G)}t.nodes=t.nodes.map(V=>y.get(V.id)??V)}function a(E){const x=t.fitViewResolver??Promise.withResolvers();return t.fitViewQueued=!0,t.fitViewOptions=E,t.fitViewResolver=x,t.nodes=[...t.nodes],x.promise}async function u(E,x,M){const y=typeof(M==null?void 0:M.zoom)<"u"?M.zoom:t.maxZoom,k=t.panZoom;return k?(await k.setViewport({x:t.width/2-E*y,y:t.height/2-x*y,zoom:y},{duration:M==null?void 0:M.duration,ease:M==null?void 0:M.ease,interpolate:M==null?void 0:M.interpolate}),Promise.resolve(!0)):Promise.resolve(!1)}function c(E,x){const M=t.panZoom;return M?M.scaleBy(E,x):Promise.resolve(!1)}function f(E){return c(1.2,E)}function h(E){return c(1/1.2,E)}function d(E){const x=t.panZoom;x&&(x.setScaleExtent([E,t.maxZoom]),t.minZoom=E)}function g(E){const x=t.panZoom;x&&(x.setScaleExtent([t.minZoom,E]),t.maxZoom=E)}function v(E){const x=t.panZoom;x&&(x.setTranslateExtent(E),t.translateExtent=E)}function m(E,x=null){let M=!1;const y=E.map(k=>(x?x.has(k.id):!0)&&k.selected?(M=!0,{...k,selected:!1}):k);return[M,y]}function _(E){const x=E!=null&&E.nodes?new Set(E.nodes.map(V=>V.id)):null,[M,y]=m(t.nodes,x);M&&(t.nodes=y);const k=E!=null&&E.edges?new Set(E.edges.map(V=>V.id)):null,[N,F]=m(t.edges,k);N&&(t.edges=F)}function w(E){const x=t.multiselectionKeyPressed;t.nodes=t.nodes.map(M=>{const y=E.includes(M.id),k=x&&M.selected||y;return!!M.selected!==k?{...M,selected:k}:M}),x||_({nodes:[]})}function P(E){const x=t.multiselectionKeyPressed;t.edges=t.edges.map(M=>{const y=E.includes(M.id),k=x&&M.selected||y;return!!M.selected!==k?{...M,selected:k}:M}),x||_({edges:[]})}function D(E,x,M){const y=t.nodeLookup.get(E);if(!y){console.warn("012",Di.error012(E));return}t.selectionRect=null,t.selectionRectMode=null,y.selected?(x||y.selected&&t.multiselectionKeyPressed)&&(_({nodes:[y],edges:[]}),requestAnimationFrame(()=>M==null?void 0:M.blur())):w([E])}function b(E){const x=t.edgeLookup.get(E);if(!x){console.warn("012",Di.error012(E));return}(x.selectable||t.elementsSelectable&&typeof x.selectable>"u")&&(t.selectionRect=null,t.selectionRectMode=null,x.selected?x.selected&&t.multiselectionKeyPressed&&_({nodes:[],edges:[x]}):P([E]))}function A(E,x){const{nodeExtent:M,snapGrid:y,nodeOrigin:k,nodeLookup:N,nodesDraggable:F,onerror:V}=t,K=new Map,G=(y==null?void 0:y[0])??5,B=(y==null?void 0:y[1])??5,ne=E.x*G*x,oe=E.y*B*x;for(const J of N.values()){if(!(J.selected&&(J.draggable||F&&typeof J.draggable>"u")))continue;let z={x:J.internals.positionAbsolute.x+ne,y:J.internals.positionAbsolute.y+oe};y&&(z=ro(z,y));const{position:j,positionAbsolute:te}=Rc({nodeId:J.id,nextPosition:z,nodeLookup:N,nodeExtent:M,nodeOrigin:k,onError:V});J.position=j,J.internals.positionAbsolute=te,K.set(J.id,J)}o(K)}function L(E){return kp({delta:E,panZoom:t.panZoom,transform:[t.viewport.x,t.viewport.y,t.viewport.zoom],translateExtent:t.translateExtent,width:t.width,height:t.height})}const Z=E=>{t._connection={...E}};function R(){t._connection=na}function Y(){t.resetStoreValues(),_()}return Object.assign(t,{setNodeTypes:n,setEdgeTypes:r,addEdge:i,updateNodePositions:o,updateNodeInternals:s,zoomIn:f,zoomOut:h,fitView:a,setCenter:u,setMinZoom:d,setMaxZoom:g,setTranslateExtent:v,unselectNodesAndEdges:_,addSelectedNodes:w,addSelectedEdges:P,handleNodeSelection:D,handleEdgeSelection:b,moveSelectedNodes:A,panBy:L,updateConnection:Z,cancelConnection:R,reset:Y})}function Ts(e,t){const{minZoom:n,maxZoom:r,initialViewport:i,onPanZoomStart:o,onPanZoom:s,onPanZoomEnd:a,translateExtent:u,setPanZoomInstance:c,onDraggingChange:f,onTransformChange:h}=t,d=Wp({domNode:e,minZoom:n,maxZoom:r,translateExtent:u,viewport:i,onPanZoom:s,onPanZoomStart:o,onPanZoomEnd:a,onDraggingChange:f}),g=d.getViewport();return(i.x!==g.x||i.y!==g.y||i.zoom!==g.zoom)&&h([g.x,g.y,g.zoom]),c(d),d.update(t),{update(v){d.update(v)}}}var xm=pe('<div class="svelte-flow__zoom svelte-flow__container"><!></div>');function wm(e,t){Ie(t,!0);let n=Q(t,"store",15),r=T(()=>n().panActivationKeyPressed||t.panOnDrag),i=T(()=>n().panActivationKeyPressed||t.panOnScroll);const{viewport:o}=n();let s=!1;dn(()=>{var c;!s&&n().viewportInitialized&&((c=t.oninit)==null||c.call(t),s=!0)});var a=xm(),u=fe(a);Yn(u,()=>t.children),bt(a,(c,f)=>Ts==null?void 0:Ts(c,f),()=>({viewport:n().viewport,minZoom:n().minZoom,maxZoom:n().maxZoom,initialViewport:o,onDraggingChange:c=>{n(n().dragging=c,!0)},setPanZoomInstance:c=>{n(n().panZoom=c,!0)},onPanZoomStart:t.onmovestart,onPanZoom:t.onmove,onPanZoomEnd:t.onmoveend,zoomOnScroll:t.zoomOnScroll,zoomOnDoubleClick:t.zoomOnDoubleClick,zoomOnPinch:t.zoomOnPinch,panOnScroll:l(i),panOnDrag:l(r),panOnScrollSpeed:t.panOnScrollSpeed,panOnScrollMode:t.panOnScrollMode,zoomActivationKeyPressed:n().zoomActivationKeyPressed,preventScrolling:typeof t.preventScrolling=="boolean"?t.preventScrolling:!0,noPanClassName:n().noPanClass,noWheelClassName:n().noWheelClass,userSelectionActive:!!n().selectionRect,translateExtent:n().translateExtent,lib:"svelte",paneClickDistance:t.paneClickDistance,selectionOnDrag:t.selectionOnDrag,onTransformChange:c=>{n(n().viewport={x:c[0],y:c[1],zoom:c[2]},!0)},connectionInProgress:n().connection.inProgress})),ie(e,a),Se()}function Kl(e,t){return n=>{n.target===t&&(e==null||e(n))}}function Yl(e){return t=>{const n=e.has(t.id);return!!t.selected!==n?{...t,selected:n}:t}}function Xl(e,t){if(e.size!==t.size)return!1;for(const n of e)if(!t.has(n))return!1;return!0}var Em=pe("<div><!></div>");function Nm(e,t){Ie(t,!0);let n=Q(t,"store",15),r=Q(t,"panOnDrag",3,!0),i=Q(t,"paneClickDistance",3,1),o,s=null,a=new Set,u=new Set,c=T(()=>n().panActivationKeyPressed||r()),f=T(()=>n().selectionKeyPressed||!!n().selectionRect||t.selectionOnDrag&&l(c)!==!0),h=T(()=>n().elementsSelectable&&(l(f)||n().selectionRectMode==="user")),d=!1;function g(R){var y,k;if(s=o==null?void 0:o.getBoundingClientRect(),!s)return;const Y=R.target===o,ce=!Y&&!!R.target.closest(".nokey"),E=t.selectionOnDrag&&Y||n().selectionKeyPressed;if(ce||!l(f)||!E||R.button!==0||!R.isPrimary)return;(k=(y=R.target)==null?void 0:y.setPointerCapture)==null||k.call(y,R.pointerId),d=!1;const{x,y:M}=Jt(R,s);n(n().selectionRect={width:0,height:0,startX:x,startY:M,x,y:M},!0),Y||(R.stopPropagation(),R.preventDefault())}function v(R){var N;if(!l(f)||!s||!n().selectionRect)return;const Y=Jt(R,s),{startX:ce=0,startY:E=0}=n().selectionRect;if(!d){const F=n().selectionKeyPressed?0:i();if(Math.hypot(Y.x-ce,Y.y-E)<=F)return;n().unselectNodesAndEdges(),(N=t.onselectionstart)==null||N.call(t,R)}d=!0;const x={...n().selectionRect,x:Y.x<ce?Y.x:ce,y:Y.y<E?Y.y:E,width:Math.abs(Y.x-ce),height:Math.abs(Y.y-E)},M=a,y=u;a=new Set(Ma(n().nodeLookup,x,[n().viewport.x,n().viewport.y,n().viewport.zoom],n().selectionMode===Do.Partial,!0).map(F=>F.id));const k=n().defaultEdgeOptions.selectable??!0;u=new Set;for(const F of a){const V=n().connectionLookup.get(F);if(V)for(const{edgeId:K}of V.values()){const G=n().edgeLookup.get(K);G&&(G.selectable??k)&&u.add(K)}}Xl(M,a)||n(n().nodes=n().nodes.map(Yl(a)),!0),Xl(y,u)||n(n().edges=n().edges.map(Yl(u)),!0),n(n().selectionRectMode="user",!0),n(n().selectionRect=x,!0)}function m(R){var Y,ce,E;R.button===0&&((ce=(Y=R.target)==null?void 0:Y.releasePointerCapture)==null||ce.call(Y,R.pointerId),!d&&R.target===o&&(P==null||P(R)),n(n().selectionRect=null,!0),d&&n(n().selectionRectMode=a.size>0?"nodes":null,!0),d&&((E=t.onselectionend)==null||E.call(t,R)))}const _=R=>{var Y;if(Array.isArray(l(c))&&l(c).includes(2)){R.preventDefault();return}(Y=t.onpanecontextmenu)==null||Y.call(t,{event:R})},w=R=>{d&&(R.stopPropagation(),d=!1)};function P(R){var Y;if(d||n().connection.inProgress){d=!1;return}(Y=t.onpaneclick)==null||Y.call(t,{event:R}),n().unselectNodesAndEdges(),n(n().selectionRectMode=null,!0),n(n().selectionRect=null,!0)}var D=Em();let b;var A=T(()=>l(h)?void 0:Kl(P,o));D.__click=function(...R){var Y;(Y=l(A))==null||Y.apply(this,R)},D.__pointermove=function(...R){var Y;(Y=l(h)?v:void 0)==null||Y.apply(this,R)},D.__pointerup=function(...R){var Y;(Y=l(h)?m:void 0)==null||Y.apply(this,R)};var L=T(()=>Kl(_,o));D.__contextmenu=function(...R){var Y;(Y=l(L))==null||Y.apply(this,R)};var Z=fe(D);Yn(Z,()=>t.children),gn(D,R=>o=R,()=>o),we(R=>b=pn(D,1,"svelte-flow__pane svelte-flow__container",null,b,R),[()=>({draggable:r()===!0||Array.isArray(r())&&r().includes(0),dragging:n().dragging,selection:l(f)})]),Vn("pointerdown",D,function(...R){var Y;(Y=l(h)?g:void 0)==null||Y.apply(this,R)},!0),Vn("click",D,function(...R){var Y;(Y=l(h)?w:void 0)==null||Y.apply(this,R)},!0),ie(e,D),Se()}Xt(["click","pointermove","pointerup","contextmenu"]);var Im=pe('<div class="svelte-flow__viewport xyflow__viewport svelte-flow__container"><!></div>');function Sm(e,t){Ie(t,!0);var n=Im();let r;var i=fe(n);Yn(i,()=>t.children),we(()=>r=Ht(n,"",r,{transform:`translate(${t.store.viewport.x??""}px, ${t.store.viewport.y??""}px) scale(${t.store.viewport.zoom??""})`})),ie(e,n),Se()}function Yr(e,t){const{store:n,onDrag:r,onDragStart:i,onDragStop:o,onNodeMouseDown:s}=t,a=Pp({onDrag:r,onDragStart:i,onDragStop:o,onNodeMouseDown:s,getStoreItems:()=>{const{snapGrid:c,viewport:f}=n;return{nodes:n.nodes,nodeLookup:n.nodeLookup,edges:n.edges,nodeExtent:n.nodeExtent,snapGrid:c||[0,0],snapToGrid:!!c,nodeOrigin:n.nodeOrigin,multiSelectionActive:n.multiselectionKeyPressed,domNode:n.domNode,transform:[f.x,f.y,f.zoom],autoPanOnNodeDrag:n.autoPanOnNodeDrag,nodesDraggable:n.nodesDraggable,selectNodesOnDrag:n.selectNodesOnDrag,nodeDragThreshold:n.nodeDragThreshold,unselectNodesAndEdges:n.unselectNodesAndEdges,updateNodePositions:n.updateNodePositions,onSelectionDrag:n.onselectiondrag,onSelectionDragStart:n.onselectiondragstart,onSelectionDragStop:n.onselectiondragstop,panBy:n.panBy}}});function u(c,f){if(f.disabled){a.destroy();return}a.update({domNode:c,noDragClassName:f.noDragClass,handleSelector:f.handleSelector,nodeId:f.nodeId,isSelectable:f.isSelectable,nodeClickDistance:f.nodeClickDistance})}return u(e,t),{update(c){u(e,c)},destroy(){a.destroy()}}}var Tm=pe('<div aria-live="assertive" aria-atomic="true" class="a11y-live-msg svelte-1l9nrps"> </div>'),km=pe('<div class="a11y-hidden svelte-1l9nrps"> </div> <div class="a11y-hidden svelte-1l9nrps"> </div> <!>',1);function Am(e,t){Ie(t,!0);var n=km(),r=We(n),i=fe(r),o=Te(r,2),s=fe(o),a=Te(o,2);{var u=c=>{var f=Tm(),h=fe(f);we(()=>{he(f,"id",`${Cm}-${t.store.flowId}`),Ze(h,t.store.ariaLiveMessage)}),ie(c,f)};Ge(a,c=>{t.store.disableKeyboardA11y||c(u)})}we(()=>{he(r,"id",`${cf}-${t.store.flowId}`),Ze(i,t.store.disableKeyboardA11y?t.store.ariaLabelConfig["node.a11yDescription.default"]:t.store.ariaLabelConfig["node.a11yDescription.keyboardDisabled"]),he(o,"id",`${ff}-${t.store.flowId}`),Ze(s,t.store.ariaLabelConfig["edge.a11yDescription.default"])}),ie(e,n),Se()}const cf="svelte-flow__node-desc",ff="svelte-flow__edge-desc",Cm="svelte-flow__aria-live";var Mm=pe("<div><!></div>");function Pm(e,t){Ie(t,!0);let n=Q(t,"store",15),r=T(()=>yt(t.node.data,()=>({}),!0)),i=T(()=>yt(t.node.selected,!1)),o=T(()=>t.node.draggable),s=T(()=>t.node.selectable),a=T(()=>yt(t.node.deletable,!0)),u=T(()=>t.node.connectable),c=T(()=>t.node.focusable),f=T(()=>yt(t.node.hidden,!1)),h=T(()=>yt(t.node.dragging,!1)),d=T(()=>yt(t.node.style,"")),g=T(()=>t.node.class),v=T(()=>yt(t.node.type,"default")),m=T(()=>t.node.parentId),_=T(()=>t.node.sourcePosition),w=T(()=>t.node.targetPosition),P=T(()=>yt(t.node.measured,()=>({width:0,height:0}),!0).width),D=T(()=>yt(t.node.measured,()=>({width:0,height:0}),!0).height),b=T(()=>t.node.initialWidth),A=T(()=>t.node.initialHeight),L=T(()=>t.node.width),Z=T(()=>t.node.height),R=T(()=>t.node.dragHandle),Y=T(()=>yt(t.node.internals.z,0)),ce=T(()=>t.node.internals.positionAbsolute.x),E=T(()=>t.node.internals.positionAbsolute.y),x=T(()=>t.node.internals.userNode),{id:M}=t.node,y=T(()=>l(o)??n().nodesDraggable),k=T(()=>l(s)??n().elementsSelectable),N=T(()=>l(u)??n().nodesConnectable),F=T(()=>op(t.node)),V=T(()=>!!t.node.internals.handleBounds),K=T(()=>l(F)&&l(V)),G=T(()=>l(c)??n().nodesFocusable);function B(C){return n().parentLookup.has(C)}let ne=T(()=>B(M)),oe=He(null),J=null,q=l(v),z=l(_),j=l(w),te=T(()=>n().nodeTypes[l(v)]??of),ue=T(()=>n().ariaLabelConfig),Ae={get value(){return l(N)}};qp(M),Zp(Ae);let be=T(()=>{const C=l(P)===void 0?l(L)??l(b):l(L),H=l(D)===void 0?l(Z)??l(A):l(Z);if(!(C===void 0&&H===void 0&&l(d)===void 0))return`${l(d)};${C?`width:${vn(C)};`:""}${H?`height:${vn(H)};`:""}`});dn(()=>{(l(v)!==q||l(_)!==z||l(w)!==j)&&l(oe)!==null&&requestAnimationFrame(()=>{l(oe)!==null&&n().updateNodeInternals(new Map([[M,{id:M,nodeElement:l(oe),force:!0}]]))}),q=l(v),z=l(_),j=l(w)}),dn(()=>{t.resizeObserver&&(!l(K)||l(oe)!==J)&&(J&&t.resizeObserver.unobserve(J),l(oe)&&t.resizeObserver.observe(l(oe)),J=l(oe))}),es(()=>{var C;J&&((C=t.resizeObserver)==null||C.unobserve(J))});function U(C){var H;l(k)&&(!n().selectNodesOnDrag||!l(y)||n().nodeDragThreshold>0)&&n().handleNodeSelection(M),(H=t.onnodeclick)==null||H.call(t,{node:l(x),event:C})}function se(C){if(!(Yc(C)||n().disableKeyboardA11y))if(zc.includes(C.key)&&l(k)){const H=C.key==="Escape";n().handleNodeSelection(M,H,l(oe))}else l(y)&&t.node.selected&&Object.prototype.hasOwnProperty.call(Vo,C.key)&&(C.preventDefault(),n(n().ariaLiveMessage=l(ue)["node.a11yDescription.ariaLiveMessage"]({direction:C.key.replace("Arrow","").toLowerCase(),x:~~t.node.internals.positionAbsolute.x,y:~~t.node.internals.positionAbsolute.y}),!0),n().moveSelectedNodes(Vo[C.key],C.shiftKey?4:1))}const De=()=>{var re;if(n().disableKeyboardA11y||!n().autoPanOnNodeFocus||!((re=l(oe))!=null&&re.matches(":focus-visible")))return;const{width:C,height:H,viewport:X}=n();Ma(new Map([[M,t.node]]),{x:0,y:0,width:C,height:H},[X.x,X.y,X.zoom],!0).length>0||n().setCenter(t.node.position.x+(t.node.measured.width??0)/2,t.node.position.y+(t.node.measured.height??0)/2,{zoom:X.zoom})};var Me=lt(),Ce=We(Me);{var S=C=>{var H=Mm();Bn(H,()=>({"data-id":M,class:["svelte-flow__node",`svelte-flow__node-${l(v)}`,l(g)],style:l(be),onclick:U,onpointerenter:t.onnodepointerenter?$=>t.onnodepointerenter({node:l(x),event:$}):void 0,onpointerleave:t.onnodepointerleave?$=>t.onnodepointerleave({node:l(x),event:$}):void 0,onpointermove:t.onnodepointermove?$=>t.onnodepointermove({node:l(x),event:$}):void 0,oncontextmenu:t.onnodecontextmenu?$=>t.onnodecontextmenu({node:l(x),event:$}):void 0,onkeydown:l(G)?se:void 0,onfocus:l(G)?De:void 0,tabIndex:l(G)?0:void 0,role:t.node.ariaRole??(l(G)?"group":void 0),"aria-roledescription":"node","aria-describedby":n().disableKeyboardA11y?void 0:`${cf}-${n().flowId}`,...t.node.domAttributes,[Un]:{dragging:l(h),selected:l(i),draggable:l(y),connectable:l(N),selectable:l(k),nopan:l(y),parent:l(ne)},[Zn]:{"z-index":l(Y),transform:`translate(${l(ce)??""}px, ${l(E)??""}px)`,visibility:l(F)?"visible":"hidden"}}));var X=fe(H);wa(X,()=>l(te),($,re)=>{re($,{get data(){return l(r)},get id(){return M},get selected(){return l(i)},get selectable(){return l(k)},get deletable(){return l(a)},get sourcePosition(){return l(_)},get targetPosition(){return l(w)},get zIndex(){return l(Y)},get dragging(){return l(h)},get draggable(){return l(y)},get dragHandle(){return l(R)},get parentId(){return l(m)},get type(){return l(v)},get isConnectable(){return l(N)},get positionAbsoluteX(){return l(ce)},get positionAbsoluteY(){return l(E)},get width(){return l(L)},get height(){return l(Z)}})}),bt(H,($,re)=>Yr==null?void 0:Yr($,re),()=>({nodeId:M,isSelectable:l(k),disabled:!l(y),handleSelector:l(R),noDragClass:n().noDragClass,nodeClickDistance:t.nodeClickDistance,onNodeMouseDown:n().handleNodeSelection,onDrag:($,re,ee,ye)=>{var Pe;(Pe=t.onnodedrag)==null||Pe.call(t,{event:$,targetNode:ee,nodes:ye})},onDragStart:($,re,ee,ye)=>{var Pe;(Pe=t.onnodedragstart)==null||Pe.call(t,{event:$,targetNode:ee,nodes:ye})},onDragStop:($,re,ee,ye)=>{var Pe;(Pe=t.onnodedragstop)==null||Pe.call(t,{event:$,targetNode:ee,nodes:ye})},store:n()})),gn(H,$=>I(oe,$),()=>l(oe)),ie(C,H)};Ge(Ce,C=>{l(f)||C(S)})}ie(e,Me),Se()}var Om=pe('<div class="svelte-flow__nodes"></div>');function Dm(e,t){Ie(t,!0);let n=Q(t,"store",15);const r=typeof ResizeObserver>"u"?null:new ResizeObserver(o=>{const s=new Map;o.forEach(a=>{const u=a.target.getAttribute("data-id");s.set(u,{id:u,nodeElement:a.target,force:!0})}),n().updateNodeInternals(s)});es(()=>{r==null||r.disconnect()});var i=Om();hn(i,21,()=>n().visible.nodes.values(),o=>o.id,(o,s)=>{Pm(o,{get node(){return l(s)},get resizeObserver(){return r},get nodeClickDistance(){return t.nodeClickDistance},get onnodeclick(){return t.onnodeclick},get onnodepointerenter(){return t.onnodepointerenter},get onnodepointermove(){return t.onnodepointermove},get onnodepointerleave(){return t.onnodepointerleave},get onnodedrag(){return t.onnodedrag},get onnodedragstart(){return t.onnodedragstart},get onnodedragstop(){return t.onnodedragstop},get onnodecontextmenu(){return t.onnodecontextmenu},get store(){return n()},set store(a){n(a)}})}),ie(e,i),Se()}var Lm=Pt('<svg class="svelte-flow__edge-wrapper"><g><!></g></svg>');function zm(e,t){Ie(t,!0);let n=T(()=>t.edge.id),r=T(()=>t.edge.source),i=T(()=>t.edge.target),o=T(()=>t.edge.sourceX),s=T(()=>t.edge.sourceY),a=T(()=>t.edge.targetX),u=T(()=>t.edge.targetY),c=T(()=>t.edge.sourcePosition),f=T(()=>t.edge.targetPosition),h=T(()=>yt(t.edge.animated,!1)),d=T(()=>yt(t.edge.selected,!1)),g=T(()=>t.edge.label),v=T(()=>t.edge.labelStyle),m=T(()=>yt(t.edge.data,()=>({}),!0)),_=T(()=>t.edge.style),w=T(()=>t.edge.interactionWidth),P=T(()=>yt(t.edge.type,"default")),D=T(()=>t.edge.sourceHandle),b=T(()=>t.edge.targetHandle),A=T(()=>t.edge.markerStart),L=T(()=>t.edge.markerEnd),Z=T(()=>t.edge.selectable),R=T(()=>t.edge.focusable),Y=T(()=>yt(t.edge.deletable,!0)),ce=T(()=>t.edge.hidden),E=T(()=>t.edge.zIndex),x=T(()=>t.edge.class),M=T(()=>t.edge.ariaLabel);Jp(l(n));let y=null,k=T(()=>l(Z)??t.store.elementsSelectable),N=T(()=>l(R)??t.store.edgesFocusable),F=T(()=>t.store.edgeTypes[l(P)]??sf),V=T(()=>l(A)?`url('#${ia(l(A),t.store.flowId)}')`:void 0),K=T(()=>l(L)?`url('#${ia(l(L),t.store.flowId)}')`:void 0);function G(z){var te;const j=t.store.edgeLookup.get(l(n));j&&(l(k)&&t.store.handleEdgeSelection(l(n)),(te=t.onedgeclick)==null||te.call(t,{event:z,edge:j}))}function B(z,j){const te=t.store.edgeLookup.get(l(n));te&&j({event:z,edge:te})}function ne(z){if(!t.store.disableKeyboardA11y&&zc.includes(z.key)&&l(k)){const{unselectNodesAndEdges:j,addSelectedEdges:te}=t.store;z.key==="Escape"?(y==null||y.blur(),j({edges:[t.edge]})):te([l(n)])}}var oe=lt(),J=We(oe);{var q=z=>{var j=Lm();let te;var ue=fe(j);Bn(ue,()=>({class:["svelte-flow__edge",l(x)],"data-id":l(n),onclick:G,oncontextmenu:t.onedgecontextmenu?be=>{B(be,t.onedgecontextmenu)}:void 0,onpointerenter:t.onedgepointerenter?be=>{B(be,t.onedgepointerenter)}:void 0,onpointerleave:t.onedgepointerleave?be=>{B(be,t.onedgepointerleave)}:void 0,"aria-label":l(M)===null?void 0:l(M)?l(M):`Edge from ${l(r)} to ${l(i)}`,"aria-describedby":l(N)?`${ff}-${t.store.flowId}`:void 0,role:t.edge.ariaRole??(l(N)?"group":"img"),"aria-roledescription":"edge",onkeydown:l(N)?ne:void 0,tabindex:l(N)?0:void 0,...t.edge.domAttributes,[Un]:{animated:l(h),selected:l(d),selectable:l(k)}}));var Ae=fe(ue);wa(Ae,()=>l(F),(be,U)=>{U(be,{get id(){return l(n)},get source(){return l(r)},get target(){return l(i)},get sourceX(){return l(o)},get sourceY(){return l(s)},get targetX(){return l(a)},get targetY(){return l(u)},get sourcePosition(){return l(c)},get targetPosition(){return l(f)},get animated(){return l(h)},get selected(){return l(d)},get label(){return l(g)},get labelStyle(){return l(v)},get data(){return l(m)},get style(){return l(_)},get interactionWidth(){return l(w)},get selectable(){return l(k)},get deletable(){return l(Y)},get type(){return l(P)},get sourceHandleId(){return l(D)},get targetHandleId(){return l(b)},get markerStart(){return l(V)},get markerEnd(){return l(K)}})}),gn(ue,be=>y=be,()=>y),we(()=>te=Ht(j,"",te,{"z-index":l(E)})),ie(z,j)};Ge(J,z=>{l(ce)||z(q)})}ie(e,oe),Se()}var Fm=Pt("<defs></defs>");function Rm(e,t){Ie(t,!1);const n=vi();pt();var r=Fm();hn(r,5,()=>n.markers,i=>i.id,(i,o)=>{Km(i,sc(()=>l(o)))}),ie(e,r),Se()}var Vm=Pt('<polyline class="arrow" fill="none" stroke-linecap="round" stroke-linejoin="round" points="-5,-4 0,0 -5,4"></polyline>'),Bm=Pt('<polyline class="arrowclosed" stroke-linecap="round" stroke-linejoin="round" points="-5,-4 0,0 -5,4 -5,-4"></polyline>'),Hm=Pt('<marker class="svelte-flow__arrowhead" viewBox="-10 -10 20 20" refX="0" refY="0"><!></marker>');function Km(e,t){Ie(t,!0);let n=Q(t,"width",3,12.5),r=Q(t,"height",3,12.5),i=Q(t,"markerUnits",3,"strokeWidth"),o=Q(t,"orient",3,"auto-start-reverse"),s=Q(t,"color",3,"none");var a=Hm(),u=fe(a);{var c=h=>{var d=Vm();let g;we(()=>{he(d,"stroke-width",t.strokeWidth),g=Ht(d,"",g,{stroke:s()})}),ie(h,d)},f=h=>{var d=Bm();let g;we(()=>{he(d,"stroke-width",t.strokeWidth),g=Ht(d,"",g,{stroke:s(),fill:s()})}),ie(h,d)};Ge(u,h=>{t.type===Lo.Arrow?h(c):t.type===Lo.ArrowClosed&&h(f,1)})}we(()=>{he(a,"id",t.id),he(a,"markerWidth",`${n()}`),he(a,"markerHeight",`${r()}`),he(a,"markerUnits",i()),he(a,"orient",o())}),ie(e,a),Se()}var Ym=pe('<div class="svelte-flow__edges"><svg class="svelte-flow__marker"><!></svg> <!></div>');function Xm(e,t){Ie(t,!0);let n=Q(t,"store",15);var r=Ym(),i=fe(r),o=fe(i);Rm(o,{});var s=Te(i,2);hn(s,17,()=>n().visible.edges.values(),a=>a.id,(a,u)=>{zm(a,{get edge(){return l(u)},get onedgeclick(){return t.onedgeclick},get onedgecontextmenu(){return t.onedgecontextmenu},get onedgepointerenter(){return t.onedgepointerenter},get onedgepointerleave(){return t.onedgepointerleave},get store(){return n()},set store(c){n(c)}})}),ie(e,r),Se()}var Wm=pe('<div class="svelte-flow__selection svelte-1f9lbg4"></div>');function df(e,t){Ie(t,!0);let n=Q(t,"x",3,0),r=Q(t,"y",3,0),i=Q(t,"width",3,0),o=Q(t,"height",3,0),s=Q(t,"isVisible",3,!0);var a=lt(),u=We(a);{var c=f=>{var h=Wm();let d;we(g=>d=Ht(h,"",d,g),[()=>({width:typeof i()=="string"?i():vn(i()),height:typeof o()=="string"?o():vn(o()),transform:`translate(${n()}px, ${r()}px)`})]),ie(f,h)};Ge(u,f=>{s()&&f(c)})}ie(e,a),Se()}var Gm=pe("<div><!></div>");function qm(e,t){Ie(t,!0);let n=He(void 0);dn(()=>{var h;t.store.disableKeyboardA11y||(h=l(n))==null||h.focus({preventScroll:!0})});let r=T(()=>{if(t.store.selectionRectMode==="nodes"){t.store.nodes;const h=ss(t.store.nodeLookup,{filter:d=>!!d.selected});if(h.width>0&&h.height>0)return h}return null});function i(h){var g;const d=t.store.nodes.filter(v=>v.selected);(g=t.onselectioncontextmenu)==null||g.call(t,{nodes:d,event:h})}function o(h){var g;const d=t.store.nodes.filter(v=>v.selected);(g=t.onselectionclick)==null||g.call(t,{nodes:d,event:h})}function s(h){Object.prototype.hasOwnProperty.call(Vo,h.key)&&(h.preventDefault(),t.store.moveSelectedNodes(Vo[h.key],h.shiftKey?4:1))}var a=lt(),u=We(a);{var c=h=>{var d=Gm();d.__contextmenu=i,d.__click=o,d.__keydown=function(...m){var _;(_=t.store.disableKeyboardA11y?void 0:s)==null||_.apply(this,m)};let g;var v=fe(d);df(v,{width:"100%",height:"100%",x:0,y:0}),bt(d,(m,_)=>Yr==null?void 0:Yr(m,_),()=>({disabled:!1,store:t.store,onDrag:(m,_,w,P)=>{var D;(D=t.onnodedrag)==null||D.call(t,{event:m,targetNode:null,nodes:P})},onDragStart:(m,_,w,P)=>{var D;(D=t.onnodedragstart)==null||D.call(t,{event:m,targetNode:null,nodes:P})},onDragStop:(m,_,w,P)=>{var D;(D=t.onnodedragstop)==null||D.call(t,{event:m,targetNode:null,nodes:P})}})),gn(d,m=>I(n,m),()=>l(n)),we(m=>{pn(d,1,Or(["svelte-flow__selection-wrapper",t.store.noPanClass]),"svelte-5rnsv4"),he(d,"role",t.store.disableKeyboardA11y?void 0:"button"),he(d,"tabindex",t.store.disableKeyboardA11y?void 0:-1),g=Ht(d,"",g,m)},[()=>({width:vn(l(r).width),height:vn(l(r).height),transform:`translate(${l(r).x??""}px, ${l(r).y??""}px)`})]),ie(h,d)},f=T(()=>t.store.selectionRectMode==="nodes"&&l(r)&&Ln(l(r).x)&&Ln(l(r).y));Ge(u,h=>{l(f)&&h(c)})}ie(e,a),Se()}Xt(["contextmenu","click","keydown"]);function Um(e){switch(e){case"ctrl":return 8;case"shift":return 4;case"alt":return 2;case"meta":return 1}}function Ve(e,t){let{enabled:n=!0,trigger:r,type:i="keydown"}=t;function o(a){var f;const u=Array.isArray(r)?r:[r],c=[a.metaKey,a.altKey,a.shiftKey,a.ctrlKey].reduce((h,d,g)=>d?h|1<<g:h,0);for(const h of u){const d={preventDefault:!1,enabled:!0,...h},{modifier:g,key:v,callback:m,preventDefault:_,enabled:w}=d;if(w){if(a.key!==v)continue;if(g===null||g===!1){if(c!==0)continue}else if(g!==void 0&&((f=g==null?void 0:g[0])==null?void 0:f.length)>0){const D=Array.isArray(g)?g:[g];let b=!1;for(const A of D)if((Array.isArray(A)?A:[A]).reduce((Z,R)=>Z|Um(R),0)===c){b=!0;break}if(!b)continue}_&&a.preventDefault();const P={node:e,trigger:d,originalEvent:a};e.dispatchEvent(new CustomEvent("shortcut",{detail:P})),m==null||m(P)}}}let s;return n&&(s=Hs(e,i,o)),{update:a=>{const{enabled:u=!0,type:c="keydown"}=a;n&&(!u||i!==c)?s==null||s():!n&&u&&(s=Hs(e,c,o)),n=u,i=c,r=a.trigger},destroy:()=>{s==null||s()}}}function Va(){const e=T(vi),t=o=>{var c,f;const s=Bl(o)?o:l(e).nodeLookup.get(o.id),a=s.parentId?sp(s.position,s.measured,s.parentId,l(e).nodeLookup,l(e).nodeOrigin):s.position,u={...s,position:a,width:((c=s.measured)==null?void 0:c.width)??s.width,height:((f=s.measured)==null?void 0:f.height)??s.height};return si(u)};function n(o,s,a={replace:!1}){l(e).nodes=_e(()=>l(e).nodes).map(u=>{if(u.id===o){const c=typeof s=="function"?s(u):s;return a!=null&&a.replace&&Bl(c)?c:{...u,...c}}return u})}function r(o,s,a={replace:!1}){l(e).edges=_e(()=>l(e).edges).map(u=>{if(u.id===o){const c=typeof s=="function"?s(u):s;return a.replace&&sm(c)?c:{...u,...c}}return u})}const i=o=>l(e).nodeLookup.get(o);return{zoomIn:l(e).zoomIn,zoomOut:l(e).zoomOut,getInternalNode:i,getNode:o=>{var s;return(s=i(o))==null?void 0:s.internals.userNode},getNodes:o=>o===void 0?l(e).nodes:Wl(l(e).nodeLookup,o),getEdge:o=>l(e).edgeLookup.get(o),getEdges:o=>o===void 0?l(e).edges:Wl(l(e).edgeLookup,o),setZoom:(o,s)=>{const a=l(e).panZoom;return a?a.scaleTo(o,{duration:s==null?void 0:s.duration}):Promise.resolve(!1)},getZoom:()=>l(e).viewport.zoom,setViewport:async(o,s)=>{const a=l(e).viewport;return l(e).panZoom?(await l(e).panZoom.setViewport({x:o.x??a.x,y:o.y??a.y,zoom:o.zoom??a.zoom},s),Promise.resolve(!0)):Promise.resolve(!1)},getViewport:()=>gu(l(e).viewport),setCenter:async(o,s,a)=>l(e).setCenter(o,s,a),fitView:o=>l(e).fitView(o),fitBounds:async(o,s)=>{if(!l(e).panZoom)return Promise.resolve(!1);const a=Pa(o,l(e).width,l(e).height,l(e).minZoom,l(e).maxZoom,(s==null?void 0:s.padding)??.1);return await l(e).panZoom.setViewport(a,{duration:s==null?void 0:s.duration,ease:s==null?void 0:s.ease,interpolate:s==null?void 0:s.interpolate}),Promise.resolve(!0)},getIntersectingNodes:(o,s=!0,a)=>{const u=kl(o),c=u?o:t(o);return c?(a||l(e).nodes).filter(f=>{const h=l(e).nodeLookup.get(f.id);if(!h||!u&&f.id===o.id)return!1;const d=si(h),g=Li(d,c);return s&&g>0||g>=d.width*d.height||g>=c.width*c.height}):[]},isNodeIntersecting:(o,s,a=!0)=>{const c=kl(o)?o:t(o);if(!c)return!1;const f=Li(c,s);return a&&f>0||f>=s.width*s.height||f>=c.width*c.height},deleteElements:async({nodes:o=[],edges:s=[]})=>{var c,f;const{nodes:a,edges:u}=await ep({nodesToRemove:o,edgesToRemove:s,nodes:l(e).nodes,edges:l(e).edges,onBeforeDelete:l(e).onbeforedelete});return a&&(l(e).nodes=_e(()=>l(e).nodes).filter(h=>!a.some(({id:d})=>d===h.id))),u&&(l(e).edges=_e(()=>l(e).edges).filter(h=>!u.some(({id:d})=>d===h.id))),(a.length>0||u.length>0)&&((f=(c=l(e)).ondelete)==null||f.call(c,{nodes:a,edges:u})),{deletedNodes:a,deletedEdges:u}},screenToFlowPosition:(o,s={snapToGrid:!0})=>{if(!l(e).domNode)return o;const a=s.snapToGrid?l(e).snapGrid:!1,{x:u,y:c,zoom:f}=l(e).viewport,{x:h,y:d}=l(e).domNode.getBoundingClientRect(),g={x:o.x-h,y:o.y-d};return io(g,[u,c,f],a!==null,a||[1,1])},flowToScreenPosition:o=>{if(!l(e).domNode)return o;const{x:s,y:a,zoom:u}=l(e).viewport,{x:c,y:f}=l(e).domNode.getBoundingClientRect(),h=Fo(o,[s,a,u]);return{x:h.x+c,y:h.y+f}},toObject:()=>structuredClone({nodes:[...l(e).nodes],edges:[...l(e).edges],viewport:{...l(e).viewport}}),updateNode:n,updateNodeData:(o,s,a)=>{var f;const u=(f=l(e).nodeLookup.get(o))==null?void 0:f.internals.userNode;if(!u)return;const c=typeof s=="function"?s(u):s;n(o,h=>({...h,data:a!=null&&a.replace?c:{...h.data,...c}}))},updateEdge:r,getNodesBounds:o=>jy(o,{nodeLookup:l(e).nodeLookup,nodeOrigin:l(e).nodeOrigin}),getHandleConnections:({type:o,id:s,nodeId:a})=>{var u;return Array.from(((u=l(e).connectionLookup.get(`${a}-${o}-${s??null}`))==null?void 0:u.values())??[])}}}function Wl(e,t){var r;const n=[];for(const i of t){const o=e.get(i);if(o){const s="internals"in o?(r=o.internals)==null?void 0:r.userNode:o;n.push(s)}}return n}function Zm(e,t){Ie(t,!0);let n=Q(t,"store",15),r=Q(t,"selectionKey",3,"Shift"),i=Q(t,"multiSelectionKey",19,()=>Ro()?"Meta":"Control"),o=Q(t,"deleteKey",3,"Backspace"),s=Q(t,"panActivationKey",3," "),a=Q(t,"zoomActivationKey",19,()=>Ro()?"Meta":"Control"),{deleteElements:u}=Va();function c(m){return m!==null&&typeof m=="object"}function f(m){return c(m)?m.modifier||[]:[]}function h(m){return m==null?"":c(m)?m.key:m}function d(m,_){return(Array.isArray(m)?m:[m]).map(P=>{const D=h(P);return{key:D,modifier:f(P),enabled:D!==null,callback:_}})}function g(){n(n().selectionRect=null,!0),n(n().selectionKeyPressed=!1,!0),n(n().multiselectionKeyPressed=!1,!0),n(n().deleteKeyPressed=!1,!0),n(n().panActivationKeyPressed=!1,!0),n(n().zoomActivationKeyPressed=!1,!0)}function v(){const m=n().nodes.filter(w=>w.selected),_=n().edges.filter(w=>w.selected);u({nodes:m,edges:_})}Vn("blur",vt,g),Vn("contextmenu",vt,g),bt(vt,(m,_)=>Ve==null?void 0:Ve(m,_),()=>({trigger:d(r(),()=>n(n().selectionKeyPressed=!0,!0)),type:"keydown"})),bt(vt,(m,_)=>Ve==null?void 0:Ve(m,_),()=>({trigger:d(r(),()=>n(n().selectionKeyPressed=!1,!0)),type:"keyup"})),bt(vt,(m,_)=>Ve==null?void 0:Ve(m,_),()=>({trigger:d(i(),()=>{n(n().multiselectionKeyPressed=!0,!0)}),type:"keydown"})),bt(vt,(m,_)=>Ve==null?void 0:Ve(m,_),()=>({trigger:d(i(),()=>n(n().multiselectionKeyPressed=!1,!0)),type:"keyup"})),bt(vt,(m,_)=>Ve==null?void 0:Ve(m,_),()=>({trigger:d(o(),m=>{!(m.originalEvent.ctrlKey||m.originalEvent.metaKey||m.originalEvent.shiftKey)&&!Yc(m.originalEvent)&&(n(n().deleteKeyPressed=!0,!0),v())}),type:"keydown"})),bt(vt,(m,_)=>Ve==null?void 0:Ve(m,_),()=>({trigger:d(o(),()=>n(n().deleteKeyPressed=!1,!0)),type:"keyup"})),bt(vt,(m,_)=>Ve==null?void 0:Ve(m,_),()=>({trigger:d(s(),()=>n(n().panActivationKeyPressed=!0,!0)),type:"keydown"})),bt(vt,(m,_)=>Ve==null?void 0:Ve(m,_),()=>({trigger:d(s(),()=>n(n().panActivationKeyPressed=!1,!0)),type:"keyup"})),bt(vt,(m,_)=>Ve==null?void 0:Ve(m,_),()=>({trigger:d(a(),()=>n(n().zoomActivationKeyPressed=!0,!0)),type:"keydown"})),bt(vt,(m,_)=>Ve==null?void 0:Ve(m,_),()=>({trigger:d(a(),()=>n(n().zoomActivationKeyPressed=!1,!0)),type:"keyup"})),Se()}var jm=Pt('<path fill="none" class="svelte-flow__connection-path"></path>'),Jm=Pt('<svg class="svelte-flow__connectionline"><g><!></g></svg>');function Qm(e,t){Ie(t,!0);let n=T(()=>{if(!t.store.connection.inProgress)return"";const s={sourceX:t.store.connection.from.x,sourceY:t.store.connection.from.y,sourcePosition:t.store.connection.fromPosition,targetX:t.store.connection.to.x,targetY:t.store.connection.to.y,targetPosition:t.store.connection.toPosition};switch(t.type){case jn.Bezier:{const[a]=Wc(s);return a}case jn.Straight:{const[a]=Uc(s);return a}case jn.Step:case jn.SmoothStep:{const[a]=Oa({...s,borderRadius:t.type===jn.Step?0:void 0});return a}}});var r=lt(),i=We(r);{var o=s=>{var a=Jm(),u=fe(a),c=fe(u);{var f=d=>{var g=lt(),v=We(g);wa(v,()=>t.LineComponent,(m,_)=>{_(m,{})}),ie(d,g)},h=d=>{var g=jm();we(()=>{he(g,"d",l(n)),Ht(g,t.style)}),ie(d,g)};Ge(c,d=>{t.LineComponent?d(f):d(h,!1)})}we(d=>{he(a,"width",t.store.width),he(a,"height",t.store.height),Ht(a,t.containerStyle),pn(u,0,d)},[()=>Or(["svelte-flow__connection",Uy(t.store.connection.isValid)])]),ie(s,a)};Ge(i,s=>{t.store.connection.inProgress&&s(o)})}ie(e,r),Se()}var $m=pe("<div><!></div>");function e0(e,t){Ie(t,!0);let n=Q(t,"position",3,"top-right"),r=$i(t,["$$slots","$$events","$$legacy","position","style","class","children"]),i=T(()=>`${n()}`.split("-"));var o=$m();Bn(o,a=>({class:a,style:t.style,...r}),[()=>["svelte-flow__panel",t.class,...l(i)]]);var s=fe(o);Yn(s,()=>t.children??Mr),ie(e,o),Se()}var t0=pe('<a href="https://svelteflow.dev" target="_blank" rel="noopener noreferrer" aria-label="Svelte Flow attribution">Svelte Flow</a>');function n0(e,t){Ie(t,!0);let n=Q(t,"position",3,"bottom-right");var r=lt(),i=We(r);{var o=s=>{e0(s,{get position(){return n()},class:"svelte-flow__attribution","data-message":"Feel free to remove the attribution or check out how you could support us: https://svelteflow.dev/support-us",children:(a,u)=>{var c=t0();ie(a,c)},$$slots:{default:!0}})};Ge(i,s=>{var a;(a=t.proOptions)!=null&&a.hideAttribution||s(o)})}ie(e,r),Se()}var r0=pe("<div><!></div>");function i0(e,t){Ie(t,!0);let n=Q(t,"domNode",15),r=Q(t,"clientWidth",15),i=Q(t,"clientHeight",15),o=T(()=>t.rest.class),s=T(()=>kd(t.rest,["id","class","nodeTypes","edgeTypes","colorMode","isValidConnection","onmove","onmovestart","onmoveend","onflowerror","ondelete","onbeforedelete","onbeforeconnect","onconnect","onconnectstart","onconnectend","onbeforereconnect","onreconnect","onreconnectstart","onreconnectend","onclickconnectstart","onclickconnectend","oninit","onselectionchange","onselectiondragstart","onselectiondrag","onselectiondragstop","onselectionstart","onselectionend","clickConnect","fitView","fitViewOptions","nodeOrigin","nodeDragThreshold","connectionDragThreshold","minZoom","maxZoom","initialViewport","connectionRadius","connectionMode","selectionMode","selectNodesOnDrag","snapGrid","defaultMarkerColor","translateExtent","nodeExtent","onlyRenderVisibleElements","autoPanOnConnect","autoPanOnNodeDrag","colorModeSSR","defaultEdgeOptions","elevateNodesOnSelect","elevateEdgesOnSelect","nodesDraggable","autoPanOnNodeFocus","nodesConnectable","elementsSelectable","nodesFocusable","edgesFocusable","disableKeyboardA11y","noDragClass","noPanClass","noWheelClass","ariaLabelConfig","autoPanSpeed","panOnScrollSpeed","zIndexMode"]));function a(f){f.currentTarget.scrollTo({top:0,left:0,behavior:"auto"}),t.rest.onscroll&&t.rest.onscroll(f)}var u=r0();Bn(u,f=>({class:["svelte-flow","svelte-flow__container",l(o),t.colorMode],"data-testid":"svelte-flow__wrapper",role:"application",onscroll:a,...l(s),[Zn]:f}),[()=>({width:vn(t.width),height:vn(t.height)})],void 0,void 0,"svelte-rhpwh");var c=fe(u);Yn(c,()=>t.children??Mr),gn(u,f=>n(f),()=>n()),ol(u,"clientHeight",i),ol(u,"clientWidth",r),ie(e,u),Se()}var o0=pe('<div class="svelte-flow__viewport-back svelte-flow__container"></div> <!> <div class="svelte-flow__edge-labels svelte-flow__container"></div> <!> <!> <!> <div class="svelte-flow__viewport-front svelte-flow__container"></div>',1),s0=pe("<!> <!>",1),a0=pe("<!> <!> <!> <!> <!>",1);function l0(e,t){Ie(t,!0);let n=Q(t,"paneClickDistance",3,1),r=Q(t,"nodeClickDistance",3,1),i=Q(t,"panOnScrollMode",19,()=>Kr.Free),o=Q(t,"preventScrolling",3,!0),s=Q(t,"zoomOnScroll",3,!0),a=Q(t,"zoomOnDoubleClick",3,!0),u=Q(t,"zoomOnPinch",3,!0),c=Q(t,"panOnScroll",3,!1),f=Q(t,"panOnScrollSpeed",3,.5),h=Q(t,"panOnDrag",3,!0),d=Q(t,"selectionOnDrag",3,!1),g=Q(t,"connectionLineType",19,()=>jn.Bezier),v=Q(t,"nodes",31,()=>er([])),m=Q(t,"edges",31,()=>er([])),_=Q(t,"viewport",15,void 0),w=$i(t,["$$slots","$$events","$$legacy","width","height","proOptions","selectionKey","deleteKey","panActivationKey","multiSelectionKey","zoomActivationKey","paneClickDistance","nodeClickDistance","onmovestart","onmoveend","onmove","oninit","onnodeclick","onnodecontextmenu","onnodedrag","onnodedragstart","onnodedragstop","onnodepointerenter","onnodepointermove","onnodepointerleave","onselectionclick","onselectioncontextmenu","onselectionstart","onselectionend","onedgeclick","onedgecontextmenu","onedgepointerenter","onedgepointerleave","onpaneclick","onpanecontextmenu","panOnScrollMode","preventScrolling","zoomOnScroll","zoomOnDoubleClick","zoomOnPinch","panOnScroll","panOnScrollSpeed","panOnDrag","selectionOnDrag","connectionLineComponent","connectionLineStyle","connectionLineContainerStyle","connectionLineType","attributionPosition","children","nodes","edges","viewport"]),P=uf({props:w,width:t.width,height:t.height,get nodes(){return v()},set nodes(b){v(b)},get edges(){return m()},set edges(b){m(b)},get viewport(){return _()},set viewport(b){_(b)}});const D=da(Bo);D&&D.setStore&&D.setStore(P),ha(Bo,{provider:!1,getStore(){return P}}),dn(()=>{var A;const b={nodes:P.selectedNodes,edges:P.selectedEdges};(A=_e(()=>t.onselectionchange))==null||A(b);for(const L of P.selectionChangeHandlers.values())L(b)}),es(()=>{P.reset()}),i0(e,{get colorMode(){return P.colorMode},get width(){return t.width},get height(){return t.height},get rest(){return w},get domNode(){return P.domNode},set domNode(b){P.domNode=b},get clientWidth(){return P.width},set clientWidth(b){P.width=b},get clientHeight(){return P.height},set clientHeight(b){P.height=b},children:(b,A)=>{var L=a0(),Z=We(L);Zm(Z,{get selectionKey(){return t.selectionKey},get deleteKey(){return t.deleteKey},get panActivationKey(){return t.panActivationKey},get multiSelectionKey(){return t.multiSelectionKey},get zoomActivationKey(){return t.zoomActivationKey},get store(){return P},set store(x){P=x}});var R=Te(Z,2);wm(R,{get panOnScrollMode(){return i()},get preventScrolling(){return o()},get zoomOnScroll(){return s()},get zoomOnDoubleClick(){return a()},get zoomOnPinch(){return u()},get panOnScroll(){return c()},get panOnScrollSpeed(){return f()},get panOnDrag(){return h()},get paneClickDistance(){return n()},get selectionOnDrag(){return d()},get onmovestart(){return t.onmovestart},get onmove(){return t.onmove},get onmoveend(){return t.onmoveend},get oninit(){return t.oninit},get store(){return P},set store(x){P=x},children:(x,M)=>{Nm(x,{get onpaneclick(){return t.onpaneclick},get onpanecontextmenu(){return t.onpanecontextmenu},get onselectionstart(){return t.onselectionstart},get onselectionend(){return t.onselectionend},get panOnDrag(){return h()},get paneClickDistance(){return n()},get selectionOnDrag(){return d()},get store(){return P},set store(y){P=y},children:(y,k)=>{var N=s0(),F=We(N);Sm(F,{get store(){return P},set store(K){P=K},children:(K,G)=>{var B=o0(),ne=Te(We(B),2);Xm(ne,{get onedgeclick(){return t.onedgeclick},get onedgecontextmenu(){return t.onedgecontextmenu},get onedgepointerenter(){return t.onedgepointerenter},get onedgepointerleave(){return t.onedgepointerleave},get store(){return P},set store(z){P=z}});var oe=Te(ne,4);Qm(oe,{get type(){return g()},get LineComponent(){return t.connectionLineComponent},get containerStyle(){return t.connectionLineContainerStyle},get style(){return t.connectionLineStyle},get store(){return P},set store(z){P=z}});var J=Te(oe,2);Dm(J,{get nodeClickDistance(){return r()},get onnodeclick(){return t.onnodeclick},get onnodecontextmenu(){return t.onnodecontextmenu},get onnodepointerenter(){return t.onnodepointerenter},get onnodepointermove(){return t.onnodepointermove},get onnodepointerleave(){return t.onnodepointerleave},get onnodedrag(){return t.onnodedrag},get onnodedragstart(){return t.onnodedragstart},get onnodedragstop(){return t.onnodedragstop},get store(){return P},set store(z){P=z}});var q=Te(J,2);qm(q,{get onselectionclick(){return t.onselectionclick},get onselectioncontextmenu(){return t.onselectioncontextmenu},get onnodedrag(){return t.onnodedrag},get onnodedragstart(){return t.onnodedragstart},get onnodedragstop(){return t.onnodedragstop},get store(){return P},set store(z){P=z}}),ie(K,B)},$$slots:{default:!0}});var V=Te(F,2);{let K=T(()=>!!(P.selectionRect&&P.selectionRectMode==="user")),G=T(()=>{var J;return(J=P.selectionRect)==null?void 0:J.width}),B=T(()=>{var J;return(J=P.selectionRect)==null?void 0:J.height}),ne=T(()=>{var J;return(J=P.selectionRect)==null?void 0:J.x}),oe=T(()=>{var J;return(J=P.selectionRect)==null?void 0:J.y});df(V,{get isVisible(){return l(K)},get width(){return l(G)},get height(){return l(B)},get x(){return l(ne)},get y(){return l(oe)}})}ie(y,N)},$$slots:{default:!0}})},$$slots:{default:!0}});var Y=Te(R,2);n0(Y,{get proOptions(){return t.proOptions},get position(){return t.attributionPosition}});var ce=Te(Y,2);Am(ce,{get store(){return P}});var E=Te(ce,2);Yn(E,()=>t.children??Mr),ie(b,L)},$$slots:{default:!0}}),Se()}function u0(e,t){Ie(t,!0);let n=He(uf({props:{},nodes:[],edges:[]}));ha(Bo,{provider:!0,getStore(){return l(n)},setStore:o=>{I(n,o)}}),es(()=>{l(n).reset()});var r=lt(),i=We(r);Yn(i,()=>t.children??Mr),ie(e,r),Se()}var ir;(function(e){e.Lines="lines",e.Dots="dots",e.Cross="cross"})(ir||(ir={}));var c0=Pt("<circle></circle>");function f0(e,t){var n=c0();we(()=>{he(n,"cx",t.radius),he(n,"cy",t.radius),he(n,"r",t.radius),pn(n,0,Or(["svelte-flow__background-pattern","dots",t.class]))}),ie(e,n)}var d0=Pt("<path></path>");function h0(e,t){Ie(t,!0);var n=d0();we(()=>{he(n,"stroke-width",t.lineWidth),he(n,"d",`M${t.dimensions[0]/2} 0 V${t.dimensions[1]} M0 ${t.dimensions[1]/2} H${t.dimensions[0]}`),pn(n,0,Or(["svelte-flow__background-pattern",t.variant,t.class]))}),ie(e,n),Se()}const g0={[ir.Dots]:1,[ir.Lines]:1,[ir.Cross]:6};var v0=Pt('<svg data-testid="svelte-flow__background"><pattern patternUnits="userSpaceOnUse"><!></pattern><rect x="0" y="0" width="100%" height="100%"></rect></svg>');function y0(e,t){Ie(t,!0);let n=Q(t,"variant",19,()=>ir.Dots),r=Q(t,"gap",3,20),i=Q(t,"lineWidth",3,1),o=T(vi),s=T(()=>n()===ir.Dots),a=T(()=>n()===ir.Cross),u=T(()=>Array.isArray(r())?r():[r(),r()]),c=T(()=>`background-pattern-${l(o).flowId}-${t.id??""}`),f=T(()=>[l(u)[0]*l(o).viewport.zoom||1,l(u)[1]*l(o).viewport.zoom||1]),h=T(()=>(t.size??g0[n()])*l(o).viewport.zoom),d=T(()=>l(a)?[l(h),l(h)]:l(f)),g=T(()=>l(s)?[l(h)/2,l(h)/2]:[l(d)[0]/2,l(d)[1]/2]);var v=v0();let m;var _=fe(v),w=fe(_);{var P=A=>{{let L=T(()=>l(h)/2);f0(A,{get radius(){return l(L)},get class(){return t.patternClass}})}},D=A=>{h0(A,{get dimensions(){return l(d)},get variant(){return n()},get lineWidth(){return i()},get class(){return t.patternClass}})};Ge(w,A=>{l(s)?A(P):A(D,!1)})}var b=Te(_);we(()=>{pn(v,0,Or(["svelte-flow__background","svelte-flow__container",t.class])),m=Ht(v,"",m,{"--xy-background-color-props":t.bgColor,"--xy-background-pattern-color-props":t.patternColor}),he(_,"id",l(c)),he(_,"x",l(o).viewport.x%l(f)[0]),he(_,"y",l(o).viewport.y%l(f)[1]),he(_,"width",l(f)[0]),he(_,"height",l(f)[1]),he(_,"patternTransform",`translate(-${l(g)[0]},-${l(g)[1]})`),he(b,"fill",`url(#${l(c)})`)}),ie(e,v),Se()}var p0=pe('<div class="text-xs text-vsc-muted">No matching node types</div>'),m0=pe('<span class="text-xs text-vsc-muted"> </span>'),_0=pe('<button data-add-node-menu-item="true" role="option" type="button"><span class="text-xs font-semibold"> </span> <!></button>'),b0=pe('<div class="flex flex-col gap-1.5"><div class="text-xs uppercase tracking-wide text-vsc-muted"> </div> <!></div>'),x0=pe('<div data-add-node-menu="true" role="dialog" aria-label="Add node menu" tabindex="-1" class="absolute z-[3001] w-64 max-h-[70vh] translate-x-2 translate-y-2 overflow-hidden rounded-lg border border-vsc-editor-widget-border bg-vsc-editor-widget-bg p-2.5 text-vsc-editor-fg shadow-2xl"><input class="w-full rounded-md border border-vsc-input-border bg-vsc-input-bg px-2 py-1.5 text-xs text-vsc-input-fg" type="search" placeholder="Search nodes..."/> <div class="mt-2 flex max-h-[calc(70vh-3.5rem)] flex-col gap-2 overflow-auto pr-0.5" role="listbox"><!></div></div>');function w0(e,t){Ie(t,!1);const n=le(),r=le(),i=le();let o=Q(t,"open",8,!1),s=Q(t,"openVersion",8,0),a=Q(t,"position",24,()=>({x:0,y:0})),u=Q(t,"templates",24,()=>[]);const c=mn();let f=le(""),h=le(),d=le(),g=le(0),v=le(""),m=le(-1);function _(E){const x=new Map;for(const M of E){const y=typeof(M==null?void 0:M.category)=="string"&&M.category.trim()?M.category.trim():"Other";x.has(y)||x.set(y,[]),x.get(y).push(M)}return Array.from(x.entries()).sort(([M],[y])=>M.localeCompare(y)).map(([M,y])=>({category:M,items:y.sort((k,N)=>k.label.localeCompare(N.label))}))}function w(E){let x=0;return E.map(M=>({category:M.category,items:M.items.map(y=>({template:y,flatIndex:x++}))}))}function P(E){c("select",{template:E})}function D(){c("close")}function b(E){if(o()){if(E.key==="Escape"){E.preventDefault(),E.stopPropagation(),D();return}if(l(i).length!==0){if(E.key==="ArrowDown"){E.preventDefault(),E.stopPropagation(),I(g,(l(g)+1)%l(i).length);return}if(E.key==="ArrowUp"){E.preventDefault(),E.stopPropagation(),I(g,(l(g)-1+l(i).length)%l(i).length);return}E.key==="Enter"&&(E.preventDefault(),E.stopPropagation(),P(l(i)[l(g)]??l(i)[0]))}}}function A(){var x,M;const E=(M=(x=l(d))==null?void 0:x.querySelector)==null?void 0:M.call(x,'[data-add-node-menu-item="true"][data-active="true"]');typeof(E==null?void 0:E.scrollIntoView)=="function"&&E.scrollIntoView({block:"nearest"})}function L(E){return l(g)===E}function Z(E){E>=0&&E<l(i).length&&I(g,E)}ge(()=>(de(o()),de(s()),l(m),l(h)),()=>{o()&&s()!==l(m)&&(I(f,""),I(g,0),I(m,s()),Vr().then(()=>{var E;return(E=l(h))==null?void 0:E.focus()}))}),ge(()=>(de(u()),l(f)),()=>{I(n,u().filter(E=>`${E.label} ${E.subtitle??""} ${E.category??""}`.toLowerCase().includes(l(f).trim().toLowerCase())))}),ge(()=>l(n),()=>{I(r,w(_(l(n))))}),ge(()=>l(r),()=>{I(i,l(r).flatMap(E=>E.items.map(x=>x.template)))}),ge(()=>(l(f),l(v)),()=>{l(f)!==l(v)&&(I(v,l(f)),I(g,0))}),ge(()=>(l(g),l(i)),()=>{l(g)>=l(i).length&&I(g,Math.max(0,l(i).length-1))}),ge(()=>(de(o()),l(i),Vr),()=>{o()&&l(i).length>0&&Vr().then(()=>{A()})}),Yt(),pt();var R=lt(),Y=We(R);{var ce=E=>{var x=x0();x.__keydown=b;let M;var y=fe(x);y.__keydown=b,gn(y,K=>I(h,K),()=>l(h));var k=Te(y,2),N=fe(k);{var F=K=>{var G=p0();ie(K,G)},V=K=>{var G=lt(),B=We(G);hn(B,1,()=>l(r),gi,(ne,oe)=>{var J=b0(),q=fe(J),z=fe(q),j=Te(q,2);hn(j,1,()=>(l(oe),_e(()=>l(oe).items)),te=>te.flatIndex,(te,ue)=>{var Ae=_0();let be;Ae.__click=()=>P(l(ue).template);var U=fe(Ae),se=fe(U),De=Te(U,2);{var Me=Ce=>{var S=m0(),C=fe(S);we(()=>Ze(C,(l(ue),_e(()=>l(ue).template.subtitle)))),ie(Ce,S)};Ge(De,Ce=>{l(ue),_e(()=>l(ue).template.subtitle)&&Ce(Me)})}we((Ce,S,C)=>{be=pn(Ae,1,"flex w-full cursor-pointer flex-col gap-0.5 rounded-md border border-vsc-editor-widget-border bg-vsc-button-secondary-bg px-2 py-1.5 text-left text-vsc-fg",null,be,Ce),he(Ae,"data-active",S),he(Ae,"aria-selected",C),Ze(se,(l(ue),_e(()=>l(ue).template.label)))},[()=>({"border-vsc-focus":L(l(ue).flatIndex),"bg-vsc-list-active-bg":L(l(ue).flatIndex),"text-vsc-list-active-fg":L(l(ue).flatIndex)}),()=>(l(ue),_e(()=>L(l(ue).flatIndex))),()=>(l(ue),_e(()=>L(l(ue).flatIndex)))]),Vn("mouseenter",Ae,()=>Z(l(ue).flatIndex)),ie(te,Ae)}),we(()=>Ze(z,(l(oe),_e(()=>l(oe).category)))),ie(ne,J)}),ie(K,G)};Ge(N,K=>{l(r),_e(()=>l(r).length===0)?K(F):K(V,!1)})}gn(x,K=>I(d,K),()=>l(d)),we(()=>M=Ht(x,"",M,{left:(de(a()),_e(()=>`${a().x}px`)),top:(de(a()),_e(()=>`${a().y}px`))})),nh(y,()=>l(f),K=>I(f,K)),ie(E,x)};Ge(Y,E=>{o()&&E(ce)})}ie(e,R),Se()}Xt(["keydown","click"]);/**
 * @license lucide-svelte v0.564.0 - ISC
 *
 * ISC License
 * 
 * Copyright (c) for portions of Lucide are held by Cole Bemis 2013-2026 as part of Feather (MIT). All other copyright (c) for Lucide are held by Lucide Contributors 2026.
 * 
 * Permission to use, copy, modify, and/or distribute this software for any
 * purpose with or without fee is hereby granted, provided that the above
 * copyright notice and this permission notice appear in all copies.
 * 
 * THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES
 * WITH REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF
 * MERCHANTABILITY AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR
 * ANY SPECIAL, DIRECT, INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES
 * WHATSOEVER RESULTING FROM LOSS OF USE, DATA OR PROFITS, WHETHER IN AN
 * ACTION OF CONTRACT, NEGLIGENCE OR OTHER TORTIOUS ACTION, ARISING OUT OF
 * OR IN CONNECTION WITH THE USE OR PERFORMANCE OF THIS SOFTWARE.
 * 
 * ---
 * 
 * The MIT License (MIT) (for portions derived from Feather)
 * 
 * Copyright (c) 2013-2026 Cole Bemis
 * 
 * Permission is hereby granted, free of charge, to any person obtaining a copy
 * of this software and associated documentation files (the "Software"), to deal
 * in the Software without restriction, including without limitation the rights
 * to use, copy, modify, merge, publish, distribute, sublicense, and/or sell
 * copies of the Software, and to permit persons to whom the Software is
 * furnished to do so, subject to the following conditions:
 * 
 * The above copyright notice and this permission notice shall be included in all
 * copies or substantial portions of the Software.
 * 
 * THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR
 * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,
 * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE
 * AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER
 * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,
 * OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE
 * SOFTWARE.
 * 
 */const E0={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor","stroke-width":2,"stroke-linecap":"round","stroke-linejoin":"round"};/**
 * @license lucide-svelte v0.564.0 - ISC
 *
 * ISC License
 * 
 * Copyright (c) for portions of Lucide are held by Cole Bemis 2013-2026 as part of Feather (MIT). All other copyright (c) for Lucide are held by Lucide Contributors 2026.
 * 
 * Permission to use, copy, modify, and/or distribute this software for any
 * purpose with or without fee is hereby granted, provided that the above
 * copyright notice and this permission notice appear in all copies.
 * 
 * THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES
 * WITH REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF
 * MERCHANTABILITY AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR
 * ANY SPECIAL, DIRECT, INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES
 * WHATSOEVER RESULTING FROM LOSS OF USE, DATA OR PROFITS, WHETHER IN AN
 * ACTION OF CONTRACT, NEGLIGENCE OR OTHER TORTIOUS ACTION, ARISING OUT OF
 * OR IN CONNECTION WITH THE USE OR PERFORMANCE OF THIS SOFTWARE.
 * 
 * ---
 * 
 * The MIT License (MIT) (for portions derived from Feather)
 * 
 * Copyright (c) 2013-2026 Cole Bemis
 * 
 * Permission is hereby granted, free of charge, to any person obtaining a copy
 * of this software and associated documentation files (the "Software"), to deal
 * in the Software without restriction, including without limitation the rights
 * to use, copy, modify, merge, publish, distribute, sublicense, and/or sell
 * copies of the Software, and to permit persons to whom the Software is
 * furnished to do so, subject to the following conditions:
 * 
 * The above copyright notice and this permission notice shall be included in all
 * copies or substantial portions of the Software.
 * 
 * THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR
 * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,
 * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE
 * AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER
 * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,
 * OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE
 * SOFTWARE.
 * 
 */const N0=e=>{for(const t in e)if(t.startsWith("aria-")||t==="role"||t==="title")return!0;return!1};/**
 * @license lucide-svelte v0.564.0 - ISC
 *
 * ISC License
 * 
 * Copyright (c) for portions of Lucide are held by Cole Bemis 2013-2026 as part of Feather (MIT). All other copyright (c) for Lucide are held by Lucide Contributors 2026.
 * 
 * Permission to use, copy, modify, and/or distribute this software for any
 * purpose with or without fee is hereby granted, provided that the above
 * copyright notice and this permission notice appear in all copies.
 * 
 * THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES
 * WITH REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF
 * MERCHANTABILITY AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR
 * ANY SPECIAL, DIRECT, INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES
 * WHATSOEVER RESULTING FROM LOSS OF USE, DATA OR PROFITS, WHETHER IN AN
 * ACTION OF CONTRACT, NEGLIGENCE OR OTHER TORTIOUS ACTION, ARISING OUT OF
 * OR IN CONNECTION WITH THE USE OR PERFORMANCE OF THIS SOFTWARE.
 * 
 * ---
 * 
 * The MIT License (MIT) (for portions derived from Feather)
 * 
 * Copyright (c) 2013-2026 Cole Bemis
 * 
 * Permission is hereby granted, free of charge, to any person obtaining a copy
 * of this software and associated documentation files (the "Software"), to deal
 * in the Software without restriction, including without limitation the rights
 * to use, copy, modify, merge, publish, distribute, sublicense, and/or sell
 * copies of the Software, and to permit persons to whom the Software is
 * furnished to do so, subject to the following conditions:
 * 
 * The above copyright notice and this permission notice shall be included in all
 * copies or substantial portions of the Software.
 * 
 * THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR
 * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,
 * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE
 * AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER
 * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,
 * OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE
 * SOFTWARE.
 * 
 */const Gl=(...e)=>e.filter((t,n,r)=>!!t&&t.trim()!==""&&r.indexOf(t)===n).join(" ").trim();var I0=Pt("<svg><!><!></svg>");function S0(e,t){const n=Gs(t,["children","$$slots","$$events","$$legacy"]),r=Gs(n,["name","color","size","strokeWidth","absoluteStrokeWidth","iconNode"]);Ie(t,!1);let i=Q(t,"name",8,void 0),o=Q(t,"color",8,"currentColor"),s=Q(t,"size",8,24),a=Q(t,"strokeWidth",8,2),u=Q(t,"absoluteStrokeWidth",8,!1),c=Q(t,"iconNode",24,()=>[]);pt();var f=I0();Bn(f,(g,v,m)=>({...E0,...g,...r,width:s(),height:s(),stroke:o(),"stroke-width":v,class:m}),[()=>N0(r)?void 0:{"aria-hidden":"true"},()=>(de(u()),de(a()),de(s()),_e(()=>u()?Number(a())*24/Number(s()):a())),()=>(de(Gl),de(i()),de(n),_e(()=>Gl("lucide-icon","lucide",i()?`lucide-${i()}`:"",n.class)))]);var h=fe(f);hn(h,1,c,gi,(g,v)=>{var m=T(()=>ui(l(v),2));let _=()=>l(m)[0],w=()=>l(m)[1];var P=lt(),D=We(P);Wd(D,_,!0,(b,A)=>{Bn(b,()=>({...w()}))}),ie(g,P)});var d=Te(h);xa(d,t,"default",{}),ie(e,f),Se()}function T0(e,t){const n=Gs(t,["children","$$slots","$$events","$$legacy"]);/**
 * @license lucide-svelte v0.564.0 - ISC
 *
 * ISC License
 *
 * Copyright (c) for portions of Lucide are held by Cole Bemis 2013-2026 as part of Feather (MIT). All other copyright (c) for Lucide are held by Lucide Contributors 2026.
 *
 * Permission to use, copy, modify, and/or distribute this software for any
 * purpose with or without fee is hereby granted, provided that the above
 * copyright notice and this permission notice appear in all copies.
 *
 * THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES
 * WITH REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF
 * MERCHANTABILITY AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR
 * ANY SPECIAL, DIRECT, INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES
 * WHATSOEVER RESULTING FROM LOSS OF USE, DATA OR PROFITS, WHETHER IN AN
 * ACTION OF CONTRACT, NEGLIGENCE OR OTHER TORTIOUS ACTION, ARISING OUT OF
 * OR IN CONNECTION WITH THE USE OR PERFORMANCE OF THIS SOFTWARE.
 *
 * ---
 *
 * The MIT License (MIT) (for portions derived from Feather)
 *
 * Copyright (c) 2013-2026 Cole Bemis
 *
 * Permission is hereby granted, free of charge, to any person obtaining a copy
 * of this software and associated documentation files (the "Software"), to deal
 * in the Software without restriction, including without limitation the rights
 * to use, copy, modify, merge, publish, distribute, sublicense, and/or sell
 * copies of the Software, and to permit persons to whom the Software is
 * furnished to do so, subject to the following conditions:
 *
 * The above copyright notice and this permission notice shall be included in all
 * copies or substantial portions of the Software.
 *
 * THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR
 * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,
 * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE
 * AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER
 * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,
 * OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE
 * SOFTWARE.
 *
 */const r=[["path",{d:"M21.174 6.812a1 1 0 0 0-3.986-3.987L3.842 16.174a2 2 0 0 0-.5.83l-1.321 4.352a.5.5 0 0 0 .623.622l4.353-1.32a2 2 0 0 0 .83-.497z"}],["path",{d:"m15 5 4 4"}]];S0(e,sc({name:"pencil"},()=>n,{get iconNode(){return r},children:(i,o)=>{var s=lt(),a=We(s);xa(a,t,"default",{}),ie(i,s)},$$slots:{default:!0}}))}const ae={SMALL_STRING:"SmallString",STRING:"String",FLOAT:"Float",INT:"Int",INTEGER:"Integer",INT_SLIDER:"IntSlider",CHECKBOX:"Checkbox",BOOL:"Bool",ENUM:"Enum",FILE_PATH:"FilePath",LIST:"List",OBJECT:"Object"};Object.values(ae);const Pn="customMetadata",Sn="$TemplateId",Tn="$EditorFields",hf=new Set([ae.SMALL_STRING,ae.STRING,ae.FILE_PATH]),k0=new Set([ae.FLOAT,ae.INT,ae.INTEGER,ae.INT_SLIDER]),gf=new Set([ae.CHECKBOX,ae.BOOL]);function zi(e){return e!==null&&typeof e=="object"&&!Array.isArray(e)}function Ba(e){return typeof e=="string"?e.trim():""}function bn(e){return zi(e)?e:{}}function lr(e){const t=bn(e==null?void 0:e.options);return typeof t.Label=="string"&&t.Label.trim()?t.Label.trim():typeof(e==null?void 0:e.label)=="string"&&e.label.trim()?e.label.trim():typeof(e==null?void 0:e.id)=="string"&&e.id.trim()?e.id.trim():"Field"}function A0(e){const t=bn(e==null?void 0:e.options);return typeof t.Type=="string"&&t.Type.trim()?t.Type.trim():typeof t.ArrayElementType=="string"&&t.ArrayElementType.trim()?t.ArrayElementType.trim():ae.STRING}function vo(e,t,n=!1){const r=Number(e);return Number.isFinite(r)?n?Math.round(r):r:t}function C0(e,t,n){let r=e;return Number.isFinite(t)&&(r=Math.max(r,t)),Number.isFinite(n)&&(r=Math.min(r,n)),r}function Ho(e,t,n){const r=Number(e==null?void 0:e[t]);return Number.isFinite(r)?r:n}function M0(e,...t){for(const n of t)if(typeof(e==null?void 0:e[n])=="boolean")return e[n];return!1}function vf(e){return Array.isArray(e==null?void 0:e.Values)?e.Values.filter(t=>typeof t=="string"):[]}function hr(e){const t=Ba(e==null?void 0:e.type),n=bn(e==null?void 0:e.options);if(hf.has(t))return typeof n.Default=="string"?n.Default:"";if(t===ae.FLOAT)return Ho(n,"Default",0);if(t===ae.INT||t===ae.INTEGER||t===ae.INT_SLIDER)return Math.round(Ho(n,"Default",0));if(gf.has(t))return M0(n,"Default","DefaultValue");if(t===ae.ENUM){const r=vf(n);return typeof n.Default=="string"&&r.includes(n.Default)?n.Default:r[0]??""}if(t===ae.LIST)return[];if(t===ae.OBJECT){const r=Array.isArray(n.Fields)?n.Fields:[],i={};for(const o of r)typeof(o==null?void 0:o.id)!="string"||!o.id.trim()||(i[o.id]=hr(o));return i}return""}function Fi(e,t){const n=Ba(e==null?void 0:e.type),r=bn(e==null?void 0:e.options);if(hf.has(n))return typeof t=="string"?t:String(t??"");if(n===ae.FLOAT)return vo(t,hr(e),!1);if(n===ae.INT||n===ae.INTEGER)return vo(t,hr(e),!0);if(n===ae.INT_SLIDER){const i=hr(e),o=Ho(r,"Min",Number.NaN),s=Ho(r,"Max",Number.NaN),a=vo(t,i,!0);return C0(a,o,s)}if(gf.has(n))return!!t;if(n===ae.ENUM){const i=vf(r),o=hr(e);return typeof t=="string"&&i.includes(t)?t:o}if(n===ae.LIST)return Array.isArray(t)?t:[];if(n===ae.OBJECT){const i=Array.isArray(r.Fields)?r.Fields:[],o=zi(t)?t:{},s={};for(const a of i)typeof(a==null?void 0:a.id)!="string"||!a.id.trim()||(s[a.id]=Fi(a,o[a.id]));return s}return k0.has(n)?vo(t,0,!1):t}function oa(e){const t={},n=Array.isArray(e)?e:[];for(const r of n)typeof(r==null?void 0:r.id)!="string"||!r.id.trim()||(t[r.id]=hr(r));return t}const P0=['input:not([type="hidden"]):not([disabled]):not([readonly])',"textarea:not([disabled]):not([readonly])","select:not([disabled])",'[contenteditable="true"]'].join(", ");function O0(e){var t;return!!(e!=null&&e.offsetWidth||e!=null&&e.offsetHeight||(t=e==null?void 0:e.getClientRects)!=null&&t.call(e).length)}function D0(e){var t;return((t=e==null?void 0:e.closest)==null?void 0:t.call(e,"[data-node-editor-root]"))??null}function yi(e){const t=D0(e);if(!t)return!1;const n=Array.from(t.querySelectorAll(P0)).filter(O0),r=n.indexOf(e);if(r<0)return!1;const i=n[r+1];return i?(i.focus(),!0):!1}function pi(e){return(e==null?void 0:e.key)==="Enter"&&!(e!=null&&e.isComposing)&&!(e!=null&&e.altKey)&&!(e!=null&&e.ctrlKey)&&!(e!=null&&e.metaKey)&&!(e!=null&&e.shiftKey)}var L0=pe('<textarea class="nodrag min-h-10 w-full resize-none rounded-md border border-vsc-input-border bg-vsc-input-bg px-2 py-1.5 text-xs text-vsc-input-fg h-20"></textarea>'),z0=pe('<input class="nodrag w-full rounded-md border border-vsc-input-border bg-vsc-input-bg px-2 py-1.5 text-xs text-vsc-input-fg" type="text"/>'),F0=pe('<div class="flex flex-col gap-1"><label class="text-xs text-vsc-muted"> </label> <!></div>');function R0(e,t){Ie(t,!1);const n=le(),r=le(),i=le(),o=le(),s=le();let a=Q(t,"field",8),u=Q(t,"value",8);const c=mn();function f(b){c("change",{value:b})}function h(b){pi(b)&&(b.preventDefault(),yi(b.currentTarget)||b.currentTarget.blur())}function d(b){return typeof b!="string"||!b.trim()?"field":b.replace(/[^a-zA-Z0-9_-]/g,"_")}ge(()=>de(a()),()=>{var b;I(n,bn((b=a())==null?void 0:b.options))}),ge(()=>de(a()),()=>{I(r,lr(a()))}),ge(()=>de(u()),()=>{I(i,typeof u()=="string"?u():String(u()??""))}),ge(()=>l(n),()=>{I(o,Math.max(2,Math.round(Number(l(n).Height)/24)||2))}),ge(()=>de(a()),()=>{var b,A;I(s,`text-${d((b=a())==null?void 0:b.id)}-${((A=a())==null?void 0:A.type)??"value"}`)}),Yt(),pt();var g=F0(),v=fe(g),m=fe(v),_=Te(v,2);{var w=b=>{var A=L0();A.__input=L=>f(L.currentTarget.value),we(()=>{he(A,"id",l(s)),he(A,"rows",l(o)),Qt(A,l(i))}),ie(b,A)},P=T(()=>(de(a()),l(n),_e(()=>{var b;return((b=a())==null?void 0:b.type)==="String"||Number(l(n).Height)>0}))),D=b=>{var A=z0();A.__input=L=>f(L.currentTarget.value),A.__keydown=h,we(()=>{he(A,"id",l(s)),Qt(A,l(i))}),ie(b,A)};Ge(_,b=>{l(P)?b(w):b(D,!1)})}we(()=>{he(v,"for",l(s)),Ze(m,l(r))}),ie(e,g),Se()}Xt(["input","keydown"]);var V0=pe('<div class="flex flex-col gap-1"><label class="text-xs text-vsc-muted"> </label> <input class="nodrag w-full rounded-md border border-vsc-input-border bg-vsc-input-bg px-2 py-1.5 text-xs text-vsc-input-fg" type="number"/></div>');function B0(e,t){Ie(t,!1);const n=le(),r=le(),i=le(),o=le(),s=le(),a=le(),u=le();let c=Q(t,"field",8),f=Q(t,"value",8);const h=mn();function d(D){h("change",{value:D})}function g(D){pi(D)&&(D.preventDefault(),yi(D.currentTarget)||D.currentTarget.blur())}function v(D){return typeof D!="string"||!D.trim()?"field":D.replace(/[^a-zA-Z0-9_-]/g,"_")}ge(()=>de(c()),()=>{var D;I(n,bn((D=c())==null?void 0:D.options))}),ge(()=>de(c()),()=>{I(r,lr(c()))}),ge(()=>de(f()),()=>{I(i,Number.isFinite(Number(f()))?Number(f()):0)}),ge(()=>l(n),()=>{I(o,Number.isFinite(Number(l(n).Min))?Number(l(n).Min):void 0)}),ge(()=>l(n),()=>{I(s,Number.isFinite(Number(l(n).Max))?Number(l(n).Max):void 0)}),ge(()=>de(c()),()=>{var D;I(a,((D=c())==null?void 0:D.type)==="Float"?"any":"1")}),ge(()=>de(c()),()=>{var D,b;I(u,`number-${v((D=c())==null?void 0:D.id)}-${((b=c())==null?void 0:b.type)??"value"}`)}),Yt(),pt();var m=V0(),_=fe(m),w=fe(_),P=Te(_,2);P.__input=D=>d(D.currentTarget.value),P.__keydown=g,we(()=>{he(_,"for",l(u)),Ze(w,l(r)),he(P,"id",l(u)),Qt(P,l(i)),he(P,"step",l(a)),he(P,"min",l(o)),he(P,"max",l(s))}),ie(e,m),Se()}Xt(["input","keydown"]);var H0=pe('<div class="flex flex-col gap-1"><label class="text-xs text-vsc-muted"> </label> <input class="nodrag w-full" type="range"/></div>');function K0(e,t){Ie(t,!1);const n=le(),r=le(),i=le(),o=le(),s=le(),a=le(),u=le(),c=le();let f=Q(t,"field",8),h=Q(t,"value",8);const d=mn();function g(D){d("change",{value:D})}function v(D){return typeof D!="string"||!D.trim()?"field":D.replace(/[^a-zA-Z0-9_-]/g,"_")}ge(()=>de(f()),()=>{var D;I(n,bn((D=f())==null?void 0:D.options))}),ge(()=>de(f()),()=>{I(r,lr(f()))}),ge(()=>l(n),()=>{I(i,Number.isFinite(Number(l(n).Min))?Number(l(n).Min):0)}),ge(()=>l(n),()=>{I(o,Number.isFinite(Number(l(n).Max))?Number(l(n).Max):100)}),ge(()=>l(n),()=>{I(s,Number.isFinite(Number(l(n).TickFrequency))?Number(l(n).TickFrequency):1)}),ge(()=>(de(h()),l(i)),()=>{I(a,Number.isFinite(Number(h()))?Number(h()):l(i))}),ge(()=>(l(r),l(a)),()=>{I(u,`${l(r)} (${l(a)})`)}),ge(()=>de(f()),()=>{var D,b;I(c,`slider-${v((D=f())==null?void 0:D.id)}-${((b=f())==null?void 0:b.type)??"value"}`)}),Yt(),pt();var m=H0(),_=fe(m),w=fe(_),P=Te(_,2);P.__input=D=>g(D.currentTarget.value),we(()=>{he(_,"for",l(c)),Ze(w,l(u)),he(P,"id",l(c)),he(P,"min",l(i)),he(P,"max",l(o)),he(P,"step",l(s)),Qt(P,l(a))}),ie(e,m),Se()}Xt(["input"]);var Y0=pe('<div class="flex flex-row items-center justify-between gap-2"><label class="text-xs text-vsc-muted"> </label> <input class="nodrag h-4 w-4" type="checkbox"/></div>');function X0(e,t){Ie(t,!1);const n=le(),r=le(),i=le();let o=Q(t,"field",8),s=Q(t,"value",8);const a=mn();function u(v){a("change",{value:v})}function c(v){return typeof v!="string"||!v.trim()?"field":v.replace(/[^a-zA-Z0-9_-]/g,"_")}ge(()=>de(o()),()=>{I(n,lr(o()))}),ge(()=>de(s()),()=>{I(r,!!s())}),ge(()=>de(o()),()=>{var v,m;I(i,`bool-${c((v=o())==null?void 0:v.id)}-${((m=o())==null?void 0:m.type)??"value"}`)}),Yt(),pt();var f=Y0(),h=fe(f),d=fe(h),g=Te(h,2);g.__change=v=>u(v.currentTarget.checked),we(()=>{he(h,"for",l(i)),Ze(d,l(n)),he(g,"id",l(i)),rc(g,l(r))}),ie(e,f),Se()}Xt(["change"]);var W0=pe('<div class="px-2 py-1 text-xs text-vsc-muted">No matching values</div>'),G0=pe('<button class="block w-full cursor-pointer px-2 py-1 text-left text-xs text-vsc-input-fg hover:bg-vsc-list-hover data-[active=true]:bg-vsc-list-active-bg data-[active=true]:text-vsc-list-active-fg" type="button" tabindex="-1" role="option"> </button>'),q0=pe('<div role="listbox" class="nodrag absolute left-0 right-0 top-full z-20 mt-1 max-h-40 overflow-auto rounded-md border border-vsc-input-border bg-vsc-editor-widget-bg py-1 shadow-lg"><!></div>'),U0=pe('<div class="relative flex flex-col gap-1"><label class="text-xs text-vsc-muted"> </label> <input class="nodrag w-full rounded-md border border-vsc-input-border bg-vsc-input-bg px-2 py-1.5 text-xs text-vsc-input-fg" type="text" autocomplete="off" spellcheck="false" role="combobox" aria-autocomplete="list"/> <!></div>');function Z0(e,t){Ie(t,!1);const n=le(),r=le(),i=le(),o=le(),s=le(),a=le(),u=le(),c=le();let f=Q(t,"field",8),h=Q(t,"value",8);const d=mn();let g=le(),v=le(!1),m=le(!1),_=le(""),w=le(-1);function P(B){d("change",{value:B})}function D(B,ne=!1){var J;const oe=typeof B=="string"&&l(i).includes(B)?B:l(a);oe!==l(a)&&P(oe),I(_,oe),L(),ne&&(yi(l(g))||(J=l(g))==null||J.blur())}function b(){I(_,l(a)),L()}function A(){I(v,!0);const B=M(l(i),l(m)?"":l(_)),ne=B.indexOf(l(a));I(w,ne>=0?ne:B.length>0?0:-1)}function L(){I(v,!1),I(m,!1),I(w,-1)}function Z(B){I(_,B.currentTarget.value),I(m,!1),I(v,!0),I(w,0)}function R(B){I(m,!0),A(),B.currentTarget.select()}function Y(B){if(pi(B)){B.preventDefault(),D(l(c),!0);return}if(B.key==="Tab"){D(l(c),!1);return}if(B.key==="Escape"){B.preventDefault(),b();return}if(B.key==="ArrowDown"){if(B.preventDefault(),!l(v)){I(m,!1),A();return}if(l(u).length===0)return;I(w,Math.min(l(w)+1,l(u).length-1));return}if(B.key==="ArrowUp"){if(B.preventDefault(),!l(v)){I(m,!1),A();return}if(l(u).length===0)return;I(w,Math.max(l(w)-1,0))}}function ce(){b()}function E(B){D(B,!1)}function x(B){B.preventDefault()}function M(B,ne){const oe=typeof ne=="string"?ne.trim().toLowerCase():"";if(!oe)return B;const J=[],q=[];for(const z of B){const j=z.toLowerCase();j.startsWith(oe)?J.push(z):j.includes(oe)&&q.push(z)}return[...J,...q]}function y(B){return typeof B!="string"||!B.trim()?"field":B.replace(/[^a-zA-Z0-9_-]/g,"_")}ge(()=>de(f()),()=>{var B;I(n,bn((B=f())==null?void 0:B.options))}),ge(()=>de(f()),()=>{I(r,lr(f()))}),ge(()=>l(n),()=>{I(i,Array.isArray(l(n).Values)?l(n).Values.filter(B=>typeof B=="string"):[])}),ge(()=>de(f()),()=>{var B,ne;I(o,`enum-${y((B=f())==null?void 0:B.id)}-${((ne=f())==null?void 0:ne.type)??"value"}`)}),ge(()=>l(o),()=>{I(s,`${l(o)}-list`)}),ge(()=>(de(h()),l(i)),()=>{I(a,typeof h()=="string"&&l(i).includes(h())?h():l(i)[0]??"")}),ge(()=>(l(v),l(_),l(a)),()=>{!l(v)&&l(_)!==l(a)&&I(_,l(a))}),ge(()=>(l(i),l(m),l(_)),()=>{I(u,M(l(i),l(m)?"":l(_)))}),ge(()=>(l(u),l(w)),()=>{I(c,l(u)[l(w)]??l(u)[0])}),Yt(),pt();var k=U0(),N=fe(k),F=fe(N),V=Te(N,2);V.__input=Z,V.__click=R,V.__keydown=Y,gn(V,B=>I(g,B),()=>l(g));var K=Te(V,2);{var G=B=>{var ne=q0(),oe=fe(ne);{var J=z=>{var j=W0();ie(z,j)},q=z=>{var j=lt(),te=We(j);hn(te,1,()=>l(u),gi,(ue,Ae,be)=>{var U=G0();U.__mousedown=x,U.__click=()=>E(l(Ae));var se=fe(U);we(()=>{he(U,"data-active",be===l(w)),he(U,"aria-selected",l(Ae)===l(a)),Ze(se,l(Ae))}),Vn("mouseenter",U,()=>I(w,be)),ie(ue,U)}),ie(z,j)};Ge(oe,z=>{l(u),_e(()=>l(u).length===0)?z(J):z(q,!1)})}we(()=>he(ne,"id",l(s))),ie(B,ne)};Ge(K,B=>{l(v)&&B(G)})}we(()=>{he(N,"for",l(o)),Ze(F,l(r)),he(V,"id",l(o)),Qt(V,l(_)),he(V,"aria-expanded",l(v)),he(V,"aria-controls",l(s))}),Vn("blur",V,ce),ie(e,k),Se()}Xt(["input","click","keydown","mousedown"]);var j0=pe('<div class="flex flex-col gap-1"><label class="text-xs text-vsc-muted"> </label> <input class="nodrag w-full rounded-md border border-vsc-input-border bg-vsc-input-bg px-2 py-1.5 text-xs text-vsc-input-fg" type="text" placeholder="path/to/file.json" spellcheck="false"/></div>');function J0(e,t){Ie(t,!1);const n=le(),r=le(),i=le();let o=Q(t,"field",8),s=Q(t,"value",8);const a=mn();function u(m){a("change",{value:m})}function c(m){pi(m)&&(m.preventDefault(),yi(m.currentTarget)||m.currentTarget.blur())}function f(m){return typeof m!="string"||!m.trim()?"field":m.replace(/[^a-zA-Z0-9_-]/g,"_")}ge(()=>de(o()),()=>{I(n,lr(o()))}),ge(()=>de(s()),()=>{I(r,typeof s()=="string"?s():String(s()??""))}),ge(()=>de(o()),()=>{var m,_;I(i,`path-${f((m=o())==null?void 0:m.id)}-${((_=o())==null?void 0:_.type)??"value"}`)}),Yt(),pt();var h=j0(),d=fe(h),g=fe(d),v=Te(d,2);v.__input=m=>u(m.currentTarget.value),v.__keydown=c,we(()=>{he(d,"for",l(i)),Ze(g,l(n)),he(v,"id",l(i)),Qt(v,l(r))}),ie(e,h),Se()}Xt(["input","keydown"]);var Q0=pe('<div class="text-xs text-vsc-muted">No items</div>'),$0=pe('<input class="nodrag h-4 w-4" type="checkbox"/>'),e_=pe('<input class="nodrag w-full rounded-md border border-vsc-input-border bg-vsc-input-bg px-2 py-1.5 text-xs text-vsc-input-fg" type="number"/>'),t_=pe('<textarea class="nodrag min-h-10 w-full resize-y rounded-md border border-vsc-input-border bg-vsc-input-bg px-2 py-1.5 text-xs text-vsc-input-fg" rows="3"></textarea>'),n_=pe('<input class="nodrag w-full rounded-md border border-vsc-input-border bg-vsc-input-bg px-2 py-1.5 text-xs text-vsc-input-fg" type="text"/>'),r_=pe('<div class="flex items-start gap-1.5"><div class="flex-1"><!></div> <button class="rounded-md border border-vsc-button-border bg-vsc-button-secondary-bg px-2 py-1 text-xs text-vsc-button-secondary-fg hover:bg-vsc-button-secondary-hover" type="button">Remove</button></div>'),i_=pe('<div class="flex flex-col gap-1.5"></div>'),o_=pe('<div class="flex flex-col gap-1.5 rounded-md border border-dashed border-vsc-editor-widget-border p-2"><div class="flex items-center justify-between gap-2"><div class="text-xs font-bold uppercase text-vsc-muted"> </div> <button class="rounded-md border border-vsc-button-border bg-vsc-button-secondary-bg px-2 py-1 text-xs text-vsc-button-secondary-fg hover:bg-vsc-button-secondary-hover" type="button">Add</button></div> <!> <div class="text-xs text-vsc-muted"> </div></div>');function s_(e,t){Ie(t,!1);const n=le(),r=le(),i=le(),o=le();let s=Q(t,"field",8),a=Q(t,"value",8);const u=mn();function c(y){u("change",{value:y})}function f(){return hr({type:l(i),options:l(n).ElementOptions??{}})}function h(){c([...l(o),f()])}function d(y){c(l(o).filter((k,N)=>N!==y))}function g(y,k){const N=l(o).slice();N[y]=k,c(N)}function v(y,k){g(y,k)}function m(y,k){const N=Number(k);g(y,Number.isFinite(N)?N:0)}function _(y,k){g(y,!!k)}function w(y,k){try{const N=JSON.parse(k);N!==null&&typeof N=="object"&&g(y,N)}catch{}}function P(y){try{return JSON.stringify(y??{},null,2)}catch{return"{}"}}function D(y){pi(y)&&(y.preventDefault(),yi(y.currentTarget)||y.currentTarget.blur())}ge(()=>de(s()),()=>{var y;I(n,bn((y=s())==null?void 0:y.options))}),ge(()=>de(s()),()=>{I(r,lr(s()))}),ge(()=>de(s()),()=>{I(i,A0(s()))}),ge(()=>de(a()),()=>{I(o,Array.isArray(a())?a():[])}),Yt(),pt();var b=o_(),A=fe(b),L=fe(A),Z=fe(L),R=Te(L,2);R.__click=h;var Y=Te(A,2);{var ce=y=>{var k=Q0();ie(y,k)},E=y=>{var k=i_();hn(k,5,()=>l(o),gi,(N,F,V)=>{var K=r_(),G=fe(K),B=fe(G);{var ne=j=>{var te=$0();te.__change=ue=>_(V,ue.currentTarget.checked),we(ue=>rc(te,ue),[()=>(l(F),_e(()=>!!l(F)))]),ie(j,te)},oe=j=>{var te=e_();te.__input=ue=>m(V,ue.currentTarget.value),te.__keydown=D,we(ue=>Qt(te,ue),[()=>(l(F),_e(()=>Number.isFinite(Number(l(F)))?Number(l(F)):0))]),ie(j,te)},J=j=>{var te=t_();te.__input=ue=>w(V,ue.currentTarget.value),we(ue=>Qt(te,ue),[()=>(l(F),_e(()=>P(l(F))))]),ie(j,te)},q=j=>{var te=n_();te.__input=ue=>v(V,ue.currentTarget.value),te.__keydown=D,we(ue=>Qt(te,ue),[()=>(l(F),_e(()=>typeof l(F)=="string"?l(F):String(l(F)??"")))]),ie(j,te)};Ge(B,j=>{l(i)==="Checkbox"||l(i)==="Bool"?j(ne):l(i)==="Int"||l(i)==="Integer"||l(i)==="IntSlider"||l(i)==="Float"?j(oe,1):l(i)==="Object"?j(J,2):j(q,!1)})}var z=Te(G,2);z.__click=()=>d(V),ie(N,K)}),ie(y,k)};Ge(Y,y=>{l(o),_e(()=>l(o).length===0)?y(ce):y(E,!1)})}var x=Te(Y,2),M=fe(x);we(()=>{Ze(Z,l(r)),Ze(M,`Element type: ${l(i)??""}`)}),ie(e,b),Se()}Xt(["click","change","input","keydown"]);var a_=pe('<div class="flex flex-col gap-1.5 rounded-md border border-dashed border-vsc-editor-widget-border p-2"><div class="text-xs font-bold uppercase text-vsc-muted"> </div> <div class="flex flex-col gap-1.5"><!></div></div>');function l_(e,t){Ie(t,!1);const n=le();let r=Q(t,"field",8);ge(()=>de(r()),()=>{I(n,lr(r()))}),Yt(),pt();var i=a_(),o=fe(i),s=fe(o),a=Te(o,2),u=fe(a);xa(u,t,"default",{}),we(()=>Ze(s,l(n))),ie(e,i),Se()}function yf(e,t){Ie(t,!1);const n=le(),r=le(),i=le(),o=le();let s=Q(t,"field",8),a=Q(t,"value",8);const u=mn();function c(A){u("change",{value:Fi(s(),A)})}function f(A,L){const Z=zi(l(r))?l(r):{};c({...Z,[A]:L})}ge(()=>de(s()),()=>{var A;I(n,Ba((A=s())==null?void 0:A.type))}),ge(()=>(de(s()),de(a())),()=>{I(r,Fi(s(),a()))}),ge(()=>de(s()),()=>{var A;I(i,bn((A=s())==null?void 0:A.options))}),ge(()=>l(i),()=>{I(o,Array.isArray(l(i).Fields)?l(i).Fields:[])}),Yt(),pt();var h=lt(),d=We(h);{var g=A=>{l_(A,{get field(){return s()},children:(L,Z)=>{var R=lt(),Y=We(R);hn(Y,1,()=>l(o),gi,(ce,E)=>{var x=lt(),M=We(x);{var y=N=>{var F=lt(),V=We(F);{let K=ji(()=>(l(r),l(E),_e(()=>{var G;return(G=l(r))==null?void 0:G[l(E).id]})));yf(V,{get field(){return l(E)},get value(){return l(K)},$$events:{change:G=>f(l(E).id,G.detail.value)}})}ie(N,F)},k=T(()=>(l(E),_e(()=>{var N;return typeof((N=l(E))==null?void 0:N.id)=="string"&&l(E).id.trim()})));Ge(M,N=>{l(k)&&N(y)})}ie(ce,x)}),ie(L,R)},$$slots:{default:!0}})},v=A=>{s_(A,{get field(){return s()},get value(){return l(r)},$$events:{change:L=>c(L.detail.value)}})},m=A=>{Z0(A,{get field(){return s()},get value(){return l(r)},$$events:{change:L=>c(L.detail.value)}})},_=A=>{J0(A,{get field(){return s()},get value(){return l(r)},$$events:{change:L=>c(L.detail.value)}})},w=A=>{K0(A,{get field(){return s()},get value(){return l(r)},$$events:{change:L=>c(L.detail.value)}})},P=A=>{X0(A,{get field(){return s()},get value(){return l(r)},$$events:{change:L=>c(L.detail.value)}})},D=A=>{B0(A,{get field(){return s()},get value(){return l(r)},$$events:{change:L=>c(L.detail.value)}})},b=A=>{R0(A,{get field(){return s()},get value(){return l(r)},$$events:{change:L=>c(L.detail.value)}})};Ge(d,A=>{l(n),de(ae),_e(()=>l(n)===ae.OBJECT)?A(g):(l(n),de(ae),_e(()=>l(n)===ae.LIST)?A(v,1):(l(n),de(ae),_e(()=>l(n)===ae.ENUM)?A(m,2):(l(n),de(ae),_e(()=>l(n)===ae.FILE_PATH)?A(_,3):(l(n),de(ae),_e(()=>l(n)===ae.INT_SLIDER)?A(w,4):(l(n),de(ae),_e(()=>l(n)===ae.CHECKBOX||l(n)===ae.BOOL)?A(P,5):(l(n),de(ae),_e(()=>l(n)===ae.INT||l(n)===ae.INTEGER||l(n)===ae.FLOAT)?A(D,6):A(b,!1)))))))})}ie(e,h),Se()}function qn(e){return{...e,buildInitialValues:()=>oa(e.fields)}}const Cr=[qn({templateId:"simple",label:"Simple Node",subtitle:"Basic custom node",category:"Basics",defaultTypeName:"Simple",fields:[{id:"Label",type:ae.SMALL_STRING,label:"Label",options:{Label:"Label",Default:"Simple Node",Width:220}},{id:"Subtitle",type:ae.STRING,label:"Subtitle",options:{Label:"Subtitle",Default:"Basic custom node",Width:220,Height:60}}]}),qn({templateId:"text",label:"Text Node",subtitle:"Headline + body",category:"Basics",defaultTypeName:"Text",fields:[{id:"Headline",type:ae.SMALL_STRING,label:"Headline",options:{Label:"Headline",Default:"Untitled"}},{id:"Body",type:ae.STRING,label:"Body",options:{Label:"Body",Default:"Write notes here...",Height:80,Width:260}}]}),qn({templateId:"numbers",label:"Number Node",subtitle:"Int + Integer + Float",category:"Controls",defaultTypeName:"Number",fields:[{id:"Quantity",type:ae.INT,label:"Quantity",options:{Label:"Quantity",Default:10,SmallChange:1,LargeChange:5}},{id:"Maximum",type:ae.INTEGER,label:"Maximum",options:{Label:"Maximum",Default:100,Width:100}},{id:"Scale",type:ae.FLOAT,label:"Scale",options:{Label:"Scale",Default:1.25,Width:100}}]}),qn({templateId:"slider",label:"Slider Node",subtitle:"IntSlider field",category:"Controls",defaultTypeName:"Slider",fields:[{id:"Strength",type:ae.INT_SLIDER,label:"Strength",options:{Label:"Strength",Default:45,Min:0,Max:100,TickFrequency:5,Width:220}}]}),qn({templateId:"toggles",label:"Toggle Node",subtitle:"Checkbox + Bool + Enum",category:"Controls",defaultTypeName:"Toggle",fields:[{id:"Enabled",type:ae.CHECKBOX,label:"Enabled",options:{Label:"Enabled",Default:!0}},{id:"Verbose",type:ae.BOOL,label:"Verbose",options:{Label:"Verbose",DefaultValue:!1}},{id:"Mode",type:ae.ENUM,label:"Mode",options:{Label:"Mode",Default:"Balanced",Values:["Fast","Balanced","Accurate"],Width:180}}]}),qn({templateId:"assets",label:"Asset Node",subtitle:"FilePath + List",category:"Data",defaultTypeName:"Asset",fields:[{id:"AssetPath",type:ae.FILE_PATH,label:"Asset Path",options:{Label:"Asset Path",Default:"resources/my_asset.json",Width:260,UseUUID:!1}},{id:"Tags",type:ae.LIST,label:"Tags",options:{Label:"Tags",Type:ae.STRING,Width:220}}]}),qn({templateId:"object",label:"Object Node",subtitle:"Nested Object fields",category:"Data",defaultTypeName:"ObjectNode",fields:[{id:"Offset",type:ae.OBJECT,label:"Offset",options:{Label:"Offset",Fields:[{id:"X",type:ae.OBJECT,label:"X",options:{Label:"X",Fields:[{id:"Value",type:ae.INT,label:"Value",options:{Label:"Value",Default:0}},{id:"Relative",type:ae.CHECKBOX,label:"Relative",options:{Label:"Relative",Default:!1}}]}},{id:"Y",type:ae.OBJECT,label:"Y",options:{Label:"Y",Fields:[{id:"Value",type:ae.INT,label:"Value",options:{Label:"Value",Default:0}},{id:"Relative",type:ae.CHECKBOX,label:"Relative",options:{Label:"Relative",Default:!1}}]}}]}}]}),qn({templateId:"all-fields",label:"All Fields Node",subtitle:"Coverage for all supported field types",category:"Coverage",defaultTypeName:"AllFields",fields:[{id:"SmallString",type:ae.SMALL_STRING,label:"SmallString",options:{Label:"SmallString",Default:"Example"}},{id:"String",type:ae.STRING,label:"String",options:{Label:"String",Default:"Multiline text",Height:72}},{id:"Float",type:ae.FLOAT,label:"Float",options:{Label:"Float",Default:1.5}},{id:"Int",type:ae.INT,label:"Int",options:{Label:"Int",Default:3}},{id:"Integer",type:ae.INTEGER,label:"Integer",options:{Label:"Integer",Default:64}},{id:"IntSlider",type:ae.INT_SLIDER,label:"IntSlider",options:{Label:"IntSlider",Default:35,Min:0,Max:100,TickFrequency:5}},{id:"Checkbox",type:ae.CHECKBOX,label:"Checkbox",options:{Label:"Checkbox",Default:!0}},{id:"Bool",type:ae.BOOL,label:"Bool",options:{Label:"Bool",DefaultValue:!1}},{id:"Enum",type:ae.ENUM,label:"Enum",options:{Label:"Enum",Values:["Low","Medium","High"],Default:"Medium"}},{id:"FilePath",type:ae.FILE_PATH,label:"FilePath",options:{Label:"FilePath",Default:"data/sample.json"}},{id:"List",type:ae.LIST,label:"List",options:{Label:"List",ArrayElementType:ae.STRING}},{id:"Object",type:ae.OBJECT,label:"Object",options:{Label:"Object",Fields:[{id:"Min",type:ae.FLOAT,label:"Min",options:{Label:"Min",Default:0}},{id:"Max",type:ae.FLOAT,label:"Max",options:{Label:"Max",Default:1}}]}}]})],u_=new Map(Cr.map(e=>[e.templateId,e]));function sa(e){return u_.get(e)}function aa(){return Cr[0]}function Rr(e){if(typeof e!="string"||!e.trim())return;const t=e.trim().toLowerCase();return Cr.find(n=>n.defaultTypeName.toLowerCase()===t||n.label.toLowerCase()===t||n.templateId.toLowerCase()===t)}var c_=pe('<input class="rounded-t-md p-1 bg-vsc-input-bg font-bold text-vsc-input-fg w-full" type="text"/>'),f_=pe('<div class="flex flex-1 rounded-t-md bg-vsc-input-bg items-center p-1 gap-1"><div class="font-bold border border-transparent rounded-md select-none text-vsc-input-fg" role="button" tabindex="0"> </div> <button class="inline-flex items-center justify-center rounded-md nodrag size-5 hover:backdrop-brightness-90 p-0.5" type="button" title="Edit node title" aria-label="Edit node title"><!></button></div>'),d_=pe('<div class="text-xs text-vsc-fg px-2.5"> </div>'),h_=pe('<div class="pt-0 border rounded-lg shadow-lg min-w-72 max-w-80 border-vsc-editor-widget-border bg-vsc-editor-widget-bg text-vsc-editor-fg" data-node-editor-root=""><!> <div class="flex flex-col gap-1 mb-2"><div class="flex items-center gap-1"><!></div> <!></div> <div class="p-2.5 py-1"><div class="flex flex-col gap-2"><!> <div class="flex flex-col gap-1"><label class="text-xs text-vsc-muted">Comment</label> <textarea class="nodrag min-h-10 w-full resize-y rounded-md border border-vsc-input-border bg-vsc-input-bg px-2 py-1.5 text-xs text-vsc-input-fg" rows="2"></textarea></div></div></div> <!></div>');function g_(e,t){Ie(t,!1);const n=le(),r=le(),i=le(),o=le(),s=le(),a=le();let u=Q(t,"id",8),c=Q(t,"data",24,()=>({}));const{updateNodeData:f}=Va();let h=le(!1),d=le(""),g=le();function v(q){f(u(),{label:q,$templateId:l(n).templateId})}async function m(){var q,z;I(h,!0),I(d,l(s)),await Vr(),(q=l(g))==null||q.focus(),(z=l(g))==null||z.select()}function _(q=!1){var z;l(h)&&(v(l(d)),I(h,!1),q&&(yi(l(g))||(z=l(g))==null||z.blur()))}function w(){l(h)&&(I(h,!1),I(d,l(s)))}function P(q){var z;if(pi(q)){q.preventDefault(),_(!0);return}q.key==="Escape"&&(q.preventDefault(),w(),(z=l(g))==null||z.blur())}function D(){_(!1)}function b(q){(q.key==="Enter"||q.key===" ")&&(q.preventDefault(),m())}function A(q){const z=typeof q=="string"?q:"";f(u(),{$comment:z,$templateId:l(n).templateId})}function L(q,z){var ue;const j=zi((ue=c())==null?void 0:ue.$fieldValues)?c().$fieldValues:{},te=Fi(q,z);f(u(),{$templateId:l(n).templateId,$fieldValues:{...j,[q.id]:te}})}function Z(q){return Fi(q,l(o)[q.id])}function R(q){return typeof q!="string"||!q.trim()?"node":q.replace(/[^a-zA-Z0-9_-]/g,"_")}ge(()=>(de(c()),aa),()=>{var q,z,j;I(n,sa((q=c())==null?void 0:q.$templateId)??Rr((z=c())==null?void 0:z.Type)??Rr((j=c())==null?void 0:j.label)??aa())}),ge(()=>(l(n),oa),()=>{var q,z,j;I(r,((z=(q=l(n))==null?void 0:q.buildInitialValues)==null?void 0:z.call(q))??oa(((j=l(n))==null?void 0:j.fields)??[]))}),ge(()=>de(c()),()=>{var q;I(i,zi((q=c())==null?void 0:q.$fieldValues)?c().$fieldValues:{})}),ge(()=>(l(r),l(i)),()=>{I(o,{...l(r),...l(i)})}),ge(()=>(de(c()),l(n)),()=>{var q;I(s,typeof((q=c())==null?void 0:q.label)=="string"?c().label:l(n).label)}),ge(()=>de(u()),()=>{I(a,`comment-${R(u())}`)}),ge(()=>(l(h),l(s)),()=>{l(h)||I(d,l(s))}),Yt(),pt();var Y=h_(),ce=fe(Y);li(ce,{type:"target",get position(){return de(xe),_e(()=>xe.Left)}});var E=Te(ce,2),x=fe(E),M=fe(x);{var y=q=>{var z=c_();z.__input=j=>I(d,j.currentTarget.value),z.__keydown=P,gn(z,j=>I(g,j),()=>l(g)),we(()=>Qt(z,l(d))),Vn("blur",z,D),ie(q,z)},k=q=>{var z=f_(),j=fe(z);j.__dblclick=m,j.__keydown=b;var te=fe(j),ue=Te(j,2);ue.__click=m;var Ae=fe(ue);T0(Ae,{size:12,strokeWidth:2.5,"aria-hidden":"true",class:""}),we(()=>Ze(te,l(s))),ie(q,z)};Ge(M,q=>{l(h)?q(y):q(k,!1)})}var N=Te(x,2);{var F=q=>{var z=d_(),j=fe(z);we(()=>Ze(j,(l(n),_e(()=>l(n).subtitle)))),ie(q,z)};Ge(N,q=>{l(n),_e(()=>{var z;return(z=l(n))==null?void 0:z.subtitle})&&q(F)})}var V=Te(E,2),K=fe(V),G=fe(K);hn(G,1,()=>(l(n),_e(()=>l(n).fields)),gi,(q,z)=>{{let j=ji(()=>(l(z),_e(()=>Z(l(z)))));yf(q,{get field(){return l(z)},get value(){return l(j)},$$events:{change:te=>L(l(z),te.detail.value)}})}});var B=Te(G,2),ne=fe(B),oe=Te(ne,2);oe.__input=q=>A(q.currentTarget.value);var J=Te(V,2);li(J,{type:"source",get position(){return de(xe),_e(()=>xe.Right)}}),we(()=>{he(ne,"for",l(a)),he(oe,"id",l(a)),Qt(oe,(de(c()),_e(()=>{var q;return typeof((q=c())==null?void 0:q.$comment)=="string"?c().$comment:""})))}),ie(e,Y),Se()}Xt(["input","keydown","dblclick","click"]);var v_=pe("<div><!> <!></div>");function y_(e,t){Ie(t,!1);let n=Q(t,"nodes",28,G),r=Q(t,"edges",28,()=>[]),i=Q(t,"loadVersion",8,0);const o=mn(),s={[Pn]:g_},{screenToFlowPosition:a,fitView:u}=Va();let c=le(-1),f=le(),h=le(!1),d=le(0),g=le({x:0,y:0}),v={x:0,y:0},m,_,w=!1,P=le(!1),D=!1,b=le(!1);function A(U){o("flowchange",{reason:U,nodes:n(),edges:r()})}function L(){const U=Array.isArray(n())?n().map(se=>Z(se)):[];R(n(),U)||n(U)}function Z(U){return{...U,type:typeof(U==null?void 0:U.type)=="string"&&U.type.trim()?U.type:Pn,data:{...(U==null?void 0:U.data)??{}}}}function R(U,se){if(!Array.isArray(U)||!Array.isArray(se)||U.length!==se.length)return!1;for(let De=0;De<U.length;De+=1){const Me=U[De],Ce=se[De];if((Me==null?void 0:Me.id)!==(Ce==null?void 0:Ce.id)||(Me==null?void 0:Me.type)!==(Ce==null?void 0:Ce.type)||!j(Me==null?void 0:Me.data)||!j(Ce==null?void 0:Ce.data))return!1}return!0}function Y(U){r(qc(U,r())),A("edge-created")}function ce(){A("node-moved")}function E(){I(h,!1),m=void 0}function x(U){return typeof(U==null?void 0:U.composedPath)!="function"?!1:U.composedPath().some(se=>typeof(se==null?void 0:se.getAttribute)!="function"?!1:se.getAttribute("data-add-node-menu")==="true")}function M(U){l(h)&&(x(U)||E())}function y(U,se=void 0){var S,C;const{clientX:De,clientY:Me}=B(U),Ce=(C=(S=l(f))==null?void 0:S.getBoundingClientRect)==null?void 0:C.call(S);Ce&&(I(g,{x:De-Ce.left,y:Me-Ce.top-60}),v=a({x:De,y:Me}),m=se,I(h,!0),I(d,l(d)+1))}function k(U){const se=U==null?void 0:U.event;se&&(se.preventDefault(),y(se))}function N(){if(w){w=!1;return}E(),A("node-created")}function F(U,se){_=typeof(se==null?void 0:se.nodeId)=="string"&&se.nodeId.trim()?se.nodeId.trim():void 0}function V(U,se){var S,C,H;const De=ne(U),Me=oe(U,se);if(Me!=null&&Me.isValid){_=void 0;return}const Ce=((S=Me==null?void 0:Me.fromNode)==null?void 0:S.id)??_??((H=(C=n())==null?void 0:C[0])==null?void 0:H.id)??"Node-00000000-0000-0000-0000-000000000000";w=!0,y(De,Ce),_=void 0}function K(U){var Ce;const se=(Ce=U==null?void 0:U.detail)==null?void 0:Ce.template;if(!se)return;const De=`${J(se.defaultTypeName)}-${q()}`,Me={id:De,type:Pn,data:{label:se.label,Type:se.defaultTypeName,$templateId:se.templateId,$fieldValues:se.buildInitialValues()},position:{...v},origin:[.5,0]};n([...n(),Me]),typeof m=="string"&&m.trim()&&r([...r(),{id:`${m}--${De}`,source:m,target:De}]),E()}function G(){const U=Cr[0];return[{id:"Node-00000000-0000-0000-0000-000000000000",type:Pn,data:{label:U.label,Type:U.defaultTypeName,$templateId:U.templateId,$fieldValues:U.buildInitialValues()},position:{x:0,y:50}}]}function B(U){if(!U||typeof U!="object")return{clientX:0,clientY:0};if("changedTouches"in U&&U.changedTouches.length>0){const se=U.changedTouches[0];return{clientX:se.clientX,clientY:se.clientY}}return{clientX:Number(U.clientX)||0,clientY:Number(U.clientY)||0}}function ne(U){return U&&typeof U=="object"&&U.event?U.event:U}function oe(U,se){if(se&&typeof se=="object")return se;if(U&&typeof U=="object"&&U.connectionState)return U.connectionState}function J(U){if(typeof U=="string"){const se=U.trim().replace(/[^A-Za-z0-9_]/g,"");if(se)return se}return"Node"}function q(){return typeof crypto<"u"&&typeof crypto.randomUUID=="function"?crypto.randomUUID():`${Date.now().toString(16)}${Math.random().toString(16).slice(2)}`}async function z(){l(P)||D||(D=!0,await Vr(),Array.isArray(n())&&n().length>0&&u({padding:.2,duration:0}),I(P,!0),I(b,!0),D=!1)}function j(U){return U!==null&&typeof U=="object"&&!Array.isArray(U)}ge(()=>(de(i()),l(c)),()=>{i()!==l(c)&&(I(c,i()),L())}),ge(()=>(l(P),de(i())),()=>{!l(P)&&i()>0&&z()}),Yt(),pt();var te=v_();Vn("pointerdown",vt,M,!0);let ue;var Ae=fe(te);l0(Ae,{get disableKeyboardA11y(){return l(h)},get nodeTypes(){return s},onconnect:Y,onconnectstart:F,onconnectend:V,onnodedragstop:ce,onpaneclick:N,onpanecontextmenu:k,get nodes(){return n()},set nodes(U){n(U)},get edges(){return r()},set edges(U){r(U)},children:(U,se)=>{y0(U,{bgColor:"var(--vscode-editor-background)"})},$$slots:{default:!0},$$legacy:!0});var be=Te(Ae,2);w0(be,{get open(){return l(h)},get openVersion(){return l(d)},get position(){return l(g)},get templates(){return Cr},$$events:{close:E,select:K}}),gn(te,U=>I(f,U),()=>l(f)),we(()=>ue=pn(te,1,"relative w-full h-full overflow-hidden",null,ue,{invisible:!l(b)})),ie(e,te),Se()}var p_=pe('<div class="mb-2 text-sm text-vsc-error"> </div>'),m_=pe('<main class="flex flex-col h-screen min-h-0 p-3"><!> <!></main>');function __(e,t){Ie(t,!1);let n=Q(t,"vscode",8);const r="$NodeEditorMetadata",i=["$WorkspaceID","$Nodes","$FloatingNodes","$Links","$Groups","$Comments"],o=["$WorkspaceID","$Groups","$Comments"],s="$templateId",a="$fieldValues",u=b("");let c=le(u.nodes),f=le(u.edges),h=u.runtimeFields,d=u.metadataContext,g=u.serializedText,v=-1,m=le(0),_=le("");function w(S){const C=S.data;if(!(!C||typeof C.type!="string")){if(C.type==="update"){v=typeof C.version=="number"?C.version:v;const H=typeof C.text=="string"?C.text:"";try{const X=b(H);I(c,X.nodes),I(f,X.edges),h=X.runtimeFields,d=X.metadataContext,g=X.serializedText,I(m,l(m)+1),I(_,"")}catch(X){I(_,X instanceof Error?X.message:"Could not parse flow JSON.")}return}C.type==="error"&&I(_,typeof C.message=="string"?C.message:"Unknown editor error.")}}function P(S){const C=S.detail??{};D(C.nodes,C.edges)}function D(S,C){const H=x({nodes:Array.isArray(S)?S:[],edges:Array.isArray(C)?C:[],runtimeFields:h,metadataContext:d});H.text!==g&&(I(c,H.nodes),I(f,H.edges),d=H.metadataContext,n().postMessage({type:"apply",text:H.text,sourceVersion:v}))}ac(()=>(window.addEventListener("message",w),n().postMessage({type:"ready"}),()=>{window.removeEventListener("message",w)}));function b(S){if(!S.trim())return A({},{});let C;try{C=JSON.parse(S)}catch{throw new Error("The underlying file is not valid JSON.")}if(!z(C))throw new Error("The flow file must be a JSON object.");const H=z(C[r]);if(!H&&(Array.isArray(C.nodes)||Array.isArray(C.edges)))return L(C);if(!H&&te(C))return Z(C);const X=H?C[r]:{},$=q(C,[r]);return A($,X)}function A(S,C){const H=ue(S),X=new Set(Object.keys(H)),$=E(C,H,X);let re=ce($);re.nodes.length===0&&(re=ce(Y($)));const ee=x({nodes:re.nodes,edges:re.edges,runtimeFields:S,metadataContext:$});return{nodes:ee.nodes,edges:ee.edges,runtimeFields:S,metadataContext:ee.metadataContext,serializedText:ee.text}}function L(S){var Qe,Ee,tt,ot,mt,It,St;const C=q(S,["nodes","edges",r]),H=y(),X=[],$=[],re=new Set,ee=Array.isArray(S.nodes)?S.nodes:[];for(let ze=0;ze<ee.length;ze+=1){const ve=ee[ze],Fe=oe(ve==null?void 0:ve.id,ve==null?void 0:ve.type);if(re.has(Fe))continue;re.add(Fe);const Je=J(ve==null?void 0:ve.position,ze),Ue=typeof((Qe=ve==null?void 0:ve.data)==null?void 0:Qe.label)=="string"&&ve.data.label.trim()?ve.data.label.trim():ne(Fe),ft=typeof((Ee=ve==null?void 0:ve.data)==null?void 0:Ee.$comment)=="string"&&ve.data.$comment.trim()?ve.data.$comment.trim():void 0,dt=z((tt=ve==null?void 0:ve.data)==null?void 0:tt.$nodePayload)?{...ve.data.$nodePayload}:{},qe=F((ot=ve==null?void 0:ve.data)==null?void 0:ot[s],dt),$e=V((mt=ve==null?void 0:ve.data)==null?void 0:mt[a],dt);H.nodeMetadataById[Fe]={$Position:{$x:Je.x,$y:Je.y}},Ue!==ne(Fe)&&(H.nodeMetadataById[Fe].$Title=Ue);const xn=dt;xn.$NodeId=Fe,ft!==void 0&&(xn.$Comment=ft),qe!==void 0&&(xn[Sn]=qe),$e!==void 0&&(xn[Tn]=$e),H.nodePayloadById[Fe]=xn,X.push({id:Fe,type:Pn,data:{label:Ue,...qe!==void 0?{[s]:qe}:{},...$e!==void 0?{[a]:$e}:{},...ft!==void 0?{$comment:ft}:{}},position:Je})}const ye=Array.isArray(S.edges)?S.edges:[];for(let ze=0;ze<ye.length;ze+=1){const ve=ye[ze],Fe=typeof(ve==null?void 0:ve.source)=="string"?ve.source:void 0,Je=typeof(ve==null?void 0:ve.target)=="string"?ve.target:void 0;if(!Fe||!Je||!re.has(Fe)||!re.has(Je))continue;const Ue=typeof(ve==null?void 0:ve.id)=="string"&&ve.id.trim()?ve.id.trim():`${Fe}--${Je}`;H.linkById[Ue]={$SourceNodeId:Fe,$TargetNodeId:Je},$.push({id:Ue,source:Fe,target:Je})}if(X.length===0){const ze=k();X.push(ze),H.nodeMetadataById[ze.id]={$Position:{$x:ze.position.x,$y:ze.position.y}},H.nodePayloadById[ze.id]={$NodeId:ze.id,[Sn]:(It=ze.data)==null?void 0:It[s],[Tn]:(St=ze.data)==null?void 0:St[a]}}const Pe=x({nodes:X,edges:$,runtimeFields:C,metadataContext:H});return{nodes:Pe.nodes,edges:Pe.edges,runtimeFields:C,metadataContext:Pe.metadataContext,serializedText:Pe.text}}function Z(S){const C=y();C.workspaceId=typeof S.$WorkspaceID=="string"?S.$WorkspaceID:void 0,C.groups=Array.isArray(S.$Groups)?S.$Groups:[],C.comments=Array.isArray(S.$Comments)?S.$Comments:[];const H=q(S,o),X=R(H);C.nodeMetadataById=X.nodeMetadataById,C.nodePayloadById=X.nodePayloadById,C.runtimeTreeNodeIds=X.runtimeTreeNodeIds;const $=z(X.runtimeRoot)?X.runtimeRoot:{},re={nodes:X.flowNodes,edges:[]},ee=x({nodes:re.nodes,edges:re.edges,runtimeFields:$,metadataContext:C});return{nodes:ee.nodes,edges:ee.edges,runtimeFields:$,metadataContext:ee.metadataContext,serializedText:ee.text}}function R(S){var Pe,Qe;const C={},H={},X=new Set,$=[];let re=0;const ee=(Ee,tt,ot=!1)=>{if(Array.isArray(Ee))return Ee.map((qe,$e)=>ee(qe,`${tt}${$e}`,!1));if(!z(Ee))return Ee;if(!(ot||typeof Ee.$NodeId=="string"&&Ee.$NodeId.trim()||j(Ee.$Position)))return Object.fromEntries(Object.entries(Ee).map(([qe,$e])=>[qe,ee($e,qe,!1)]));const It=re;re+=1;const St=typeof Ee.Type=="string"&&Ee.Type.trim()?Ee.Type.trim():tt,ze=oe(Ee.$NodeId,St),ve=J(Ee.$Position,It),Fe=typeof Ee.$Title=="string"&&Ee.$Title.trim()?Ee.$Title.trim():void 0,Je=typeof Ee.$Comment=="string"&&Ee.$Comment.trim()?Ee.$Comment.trim():void 0,Ue={};for(const[qe,$e]of Object.entries(Ee))qe==="$NodeId"||qe==="$Position"||qe==="$Title"||(Ue[qe]=ee($e,qe,!1));Ue.$NodeId=ze,C[ze]={$Position:{$x:ve.x,$y:ve.y},...Fe?{$Title:Fe}:{}},H[ze]=Ue,X.add(ze);const ft=F(void 0,Ue),dt=V(void 0,Ue);return $.push({id:ze,type:Pn,data:{label:N(ze,C[ze],void 0,Ue),...ft!==void 0?{[s]:ft}:{},...dt!==void 0?{[a]:dt}:{},...Je!==void 0?{$comment:Je}:{}},position:ve}),Ue},ye=ee(S,"Root",!0);if($.length===0){const Ee=k();X.add(Ee.id),C[Ee.id]={$Position:{$x:Ee.position.x,$y:Ee.position.y}},H[Ee.id]={$NodeId:Ee.id,[Sn]:(Pe=Ee.data)==null?void 0:Pe[s],[Tn]:(Qe=Ee.data)==null?void 0:Qe[a]},$.push(Ee)}return{runtimeRoot:ye,nodeMetadataById:C,nodePayloadById:H,runtimeTreeNodeIds:X,flowNodes:$}}function Y(S){var X,$;const C={...S,nodeMetadataById:{...S.nodeMetadataById},nodePayloadById:{...S.nodePayloadById}},H=k();return C.nodeMetadataById[H.id]={$Position:{$x:H.position.x,$y:H.position.y}},C.nodePayloadById[H.id]={$NodeId:H.id,[Sn]:(X=H.data)==null?void 0:X[s],[Tn]:($=H.data)==null?void 0:$[a]},C}function ce(S){const C=new Set([...Object.keys(S.nodeMetadataById),...Object.keys(S.nodePayloadById)]),H=[];for(const[re,ee]of Object.entries(S.linkById)){const ye=M(re,ee);ye&&(H.push(ye),C.add(ye.source),C.add(ye.target))}const X=[],$=Array.from(C).sort();for(let re=0;re<$.length;re+=1){const ee=$[re],ye=z(S.nodeMetadataById[ee])?S.nodeMetadataById[ee]:{},Pe=z(S.nodePayloadById[ee])?S.nodePayloadById[ee]:{},Qe=J(ye==null?void 0:ye.$Position,re),Ee=N(ee,ye,void 0,Pe),tt=typeof Pe.$Comment=="string"&&Pe.$Comment.trim()?Pe.$Comment.trim():void 0,ot=F(void 0,Pe),mt=V(void 0,Pe);X.push({id:ee,type:Pn,data:{label:Ee,...ot!==void 0?{[s]:ot}:{},...mt!==void 0?{[a]:mt}:{},...tt!==void 0?{$comment:tt}:{}},position:Qe})}return{nodes:X,edges:H}}function E(S,C={},H=new Set){const X=y();X.workspaceId=S.$WorkspaceID,X.groups=Array.isArray(S.$Groups)?S.$Groups:[],X.comments=Array.isArray(S.$Comments)?S.$Comments:[],X.floatingNodes=Array.isArray(S.$FloatingNodes)?S.$FloatingNodes:[],X.metadataExtraFields=q(S,i),X.nodePayloadById={...C},X.runtimeTreeNodeIds=H;const $=z(S.$Nodes)?S.$Nodes:{};for(const[ee,ye]of Object.entries($))typeof ee!="string"||!ee||!z(ye)||(X.nodeMetadataById[ee]={...ye});for(const ee of X.floatingNodes)!z(ee)||typeof ee.$NodeId!="string"||!ee.$NodeId||(X.nodePayloadById[ee.$NodeId]={...z(X.nodePayloadById[ee.$NodeId])?X.nodePayloadById[ee.$NodeId]:{},...ee});const re=z(S.$Links)?S.$Links:{};for(const[ee,ye]of Object.entries(re))typeof ee!="string"||!ee||!z(ye)||(X.linkById[ee]={...ye});return X}function x(S){var dt,qe,$e,xn,O,ht,Xn;const C=S.metadataContext.nodeMetadataById,H=S.metadataContext.nodePayloadById,X=S.metadataContext.linkById,$=S.metadataContext.runtimeTreeNodeIds instanceof Set?S.metadataContext.runtimeTreeNodeIds:new Set,re=[],ee={},ye={},Pe=new Set,Qe=Array.isArray(S.nodes)?S.nodes:[];for(let Ne=0;Ne<Qe.length;Ne+=1){const me=Qe[Ne],Ye=oe(me==null?void 0:me.id,me==null?void 0:me.type);if(Pe.has(Ye))continue;Pe.add(Ye);const gt=z(C[Ye])?{...C[Ye]}:{},Ke=z(H[Ye])?{...H[Ye]}:{},Tt=J(me==null?void 0:me.position,Ne),wn=N(Ye,gt,(dt=me==null?void 0:me.data)==null?void 0:dt.label),Wn=typeof((qe=me==null?void 0:me.data)==null?void 0:qe.$comment)=="string"&&me.data.$comment.trim()?me.data.$comment.trim():void 0,En=F(($e=me==null?void 0:me.data)==null?void 0:$e[s],Ke),Nn=V((xn=me==null?void 0:me.data)==null?void 0:xn[a],Ke);gt.$Position={$x:Tt.x,$y:Tt.y},wn!==ne(Ye)||typeof gt.$Title=="string"?gt.$Title=wn:delete gt.$Title,Ke.$NodeId=Ye,Wn!==void 0?Ke.$Comment=Wn:delete Ke.$Comment,En!==void 0?Ke[Sn]=En:delete Ke[Sn],Nn!==void 0?Ke[Tn]=Nn:delete Ke[Tn];const Lr=(En!==void 0?sa(En):void 0)??Rr(Ke.Type)??Rr(wn);Lr&&(typeof Ke.Type!="string"||!Ke.Type.trim())&&(Ke.Type=Lr.defaultTypeName),G(Ke,Lr,Nn),ee[Ye]=gt,ye[Ye]=Ke,re.push({id:Ye,type:Pn,data:{label:wn,...En!==void 0?{[s]:En}:{},...Nn!==void 0?{[a]:Nn}:{},...Wn!==void 0?{$comment:Wn}:{}},position:Tt})}if(re.length===0){const Ne=k(),me={...S.metadataContext,nodeMetadataById:{...ee,[Ne.id]:{$Position:{$x:Ne.position.x,$y:Ne.position.y}}},nodePayloadById:{...ye,[Ne.id]:{$NodeId:Ne.id,[Sn]:(O=Ne.data)==null?void 0:O[s],[Tn]:(ht=Ne.data)==null?void 0:ht[a]}}};return x({...S,nodes:[Ne],metadataContext:me})}const Ee=new Set(re.map(Ne=>Ne.id)),tt=[],ot=new Set,mt=Array.isArray(S.metadataContext.floatingNodes)?S.metadataContext.floatingNodes:[];for(const Ne of mt){if(!z(Ne))continue;const me=typeof Ne.$NodeId=="string"&&Ne.$NodeId.trim()?Ne.$NodeId.trim():void 0;if(!me||!Ee.has(me))continue;const Ye=be(Ne,ye);tt.push(Ye),Ae(Ye,ot)}for(const Ne of re){const me=Ne.id;if($.has(me)||ot.has(me))continue;const Ye=typeof((Xn=Ne==null?void 0:Ne.data)==null?void 0:Xn.label)=="string"&&Ne.data.label.trim()?Ne.data.label.trim():ne(me),Ke={...z(ye[me])?ye[me]:{},$NodeId:me};typeof Ke.Type!="string"&&Ye&&(Ke.Type=Ye);const Tt=be(Ke,ye);tt.push(Tt),Ae(Tt,ot),ye[me]=Tt}const It=[],St={},ze=new Set,ve=Array.isArray(S.edges)?S.edges:[];for(let Ne=0;Ne<ve.length;Ne+=1){const me=ve[Ne],Ye=typeof(me==null?void 0:me.source)=="string"?me.source:void 0,gt=typeof(me==null?void 0:me.target)=="string"?me.target:void 0;if(!Ye||!gt||!Ee.has(Ye)||!Ee.has(gt))continue;const Ke=typeof(me==null?void 0:me.id)=="string"&&me.id.trim()?me.id.trim():`${Ye}--${gt}`;if(ze.has(Ke))continue;ze.add(Ke);const Tt=z(X[Ke])?{...X[Ke]}:{};Tt.$SourceNodeId=Ye,Tt.$TargetNodeId=gt,St[Ke]=Tt,It.push({id:Ke,source:Ye,target:gt})}const Fe={workspaceId:S.metadataContext.workspaceId,groups:Array.isArray(S.metadataContext.groups)?S.metadataContext.groups:[],comments:Array.isArray(S.metadataContext.comments)?S.metadataContext.comments:[],floatingNodes:tt,runtimeTreeNodeIds:$,metadataExtraFields:z(S.metadataContext.metadataExtraFields)?S.metadataContext.metadataExtraFields:{},nodeMetadataById:ee,nodePayloadById:ye,linkById:St},Je={...Fe.metadataExtraFields,...Fe.workspaceId!==void 0?{$WorkspaceID:Fe.workspaceId}:{},$Nodes:Fe.nodeMetadataById,$FloatingNodes:Fe.floatingNodes,$Links:Fe.linkById,$Groups:Fe.groups,$Comments:Fe.comments},Ue=be(S.runtimeFields,ye),ft={...z(Ue)?Ue:{},[r]:Je};return{nodes:re,edges:It,metadataContext:Fe,text:`${JSON.stringify(ft,null,2)}
`}}function M(S,C){const H=[C.$SourceNodeId,C.source,C.Source,C.from,C.From],X=[C.$TargetNodeId,C.target,C.Target,C.to,C.To];let $=H.find(ee=>typeof ee=="string"&&ee.trim()),re=X.find(ee=>typeof ee=="string"&&ee.trim());if((!$||!re)&&S.includes("--")){const[ee,ye]=S.split("--");$=$??ee,re=re??ye}if(!(!$||!re))return{id:S,source:$,target:re}}function y(){return{workspaceId:void 0,groups:[],comments:[],floatingNodes:[],runtimeTreeNodeIds:new Set,metadataExtraFields:{},nodeMetadataById:{},nodePayloadById:{},linkById:{}}}function k(){const S="Node-00000000-0000-0000-0000-000000000000",C=aa();return{id:S,type:Pn,data:{label:ne(S),[s]:C.templateId,[a]:C.buildInitialValues()},position:{x:0,y:50}}}function N(S,C,H,X){const $=typeof H=="string"&&H.trim()?H.trim():void 0;if($!==void 0)return $;const re=typeof(C==null?void 0:C.$Title)=="string"&&C.$Title.trim()?C.$Title.trim():void 0;if(re!==void 0)return re;const ee=typeof(X==null?void 0:X.Type)=="string"&&X.Type.trim()?X.Type.trim():void 0;return ee!==void 0?ee:ne(S)}function F(S,C){if(typeof S=="string"&&S.trim())return S.trim();const H=C==null?void 0:C[Sn];if(typeof H=="string"&&H.trim())return H.trim();const X=Rr(C==null?void 0:C.Type);if(X)return X.templateId}function V(S,C){const H=B(S);if(H!==void 0)return H;const X=B(C==null?void 0:C[Tn]);if(X!==void 0)return X;const $=F(void 0,C),re=($!==void 0?sa($):void 0)??Rr(C==null?void 0:C.Type),ee=K(C,re);return ee!==void 0?ee:re==null?void 0:re.buildInitialValues()}function K(S,C){if(!z(S)||!Array.isArray(C==null?void 0:C.fields))return;let H=!1;const X={};for(const $ of C.fields){const re=typeof($==null?void 0:$.id)=="string"?$.id.trim():"";!re||!Object.prototype.hasOwnProperty.call(S,re)||(X[re]=S[re],H=!0)}return H?X:void 0}function G(S,C,H){if(!(!z(S)||!z(H))){if(!Array.isArray(C==null?void 0:C.fields)){Object.assign(S,H);return}for(const X of C.fields){const $=typeof(X==null?void 0:X.id)=="string"?X.id.trim():"";!$||!Object.prototype.hasOwnProperty.call(H,$)||(S[$]=H[$])}}}function B(S){if(z(S))return{...S}}function ne(S){if(typeof S!="string"||!S.trim())return"Node";const[C,H]=S.split("-",2);return C&&H?C:S}function oe(S,C,H){return typeof S=="string"&&S.trim()?S.trim():typeof S=="number"&&Number.isFinite(S)?String(S):`${(typeof C=="string"&&C.trim()?C.trim().replace(/[^A-Za-z0-9_]/g,""):"Node")||"Node"}-${U()}`}function J(S,C){const H=C*180,X=100,$=Number(S==null?void 0:S.x),re=Number(S==null?void 0:S.y),ee=Number(S==null?void 0:S.$x),ye=Number(S==null?void 0:S.$y);return{x:Number.isFinite($)?$:Number.isFinite(ee)?ee:H,y:Number.isFinite(re)?re:Number.isFinite(ye)?ye:X}}function q(S,C){if(!z(S))return{};const H=new Set(C);return Object.fromEntries(Object.entries(S).filter(([X])=>!H.has(X)))}function z(S){return S!==null&&typeof S=="object"&&!Array.isArray(S)}function j(S){return z(S)?Number.isFinite(Number(S.$x))||Number.isFinite(Number(S.$y)):!1}function te(S){var X,$;if(!z(S))return!1;if(Number.isFinite(Number((X=S==null?void 0:S.$Position)==null?void 0:X.$x))||Number.isFinite(Number(($=S==null?void 0:S.$Position)==null?void 0:$.$y))||typeof S.$Title=="string"&&S.$Title.trim())return!0;let C=!1;const H=re=>{if(!C){if(Array.isArray(re)){for(const ee of re)if(H(ee),C)return;return}if(z(re)){if(j(re.$Position)){C=!0;return}for(const[ee,ye]of Object.entries(re))if(!(ee===r||ee==="$Groups")&&(H(ye),C))return}}};return H(S),C}function ue(S){const C={},H=X=>{if(Array.isArray(X)){for(const re of X)H(re);return}if(!z(X))return;const $=typeof X.$NodeId=="string"&&X.$NodeId.trim()?X.$NodeId.trim():void 0;$&&!z(C[$])&&(C[$]=X);for(const[re,ee]of Object.entries(X))re!==r&&H(ee)};return H(S),C}function Ae(S,C){const H=X=>{if(Array.isArray(X)){for(const re of X)H(re);return}if(!z(X))return;const $=typeof X.$NodeId=="string"&&X.$NodeId.trim()?X.$NodeId.trim():void 0;$&&C.add($);for(const[re,ee]of Object.entries(X))re!==r&&H(ee)};H(S)}function be(S,C){if(Array.isArray(S)){let ee=!1;const ye=S.map(Pe=>{const Qe=be(Pe,C);return Qe!==Pe&&(ee=!0),Qe});return ee?ye:S}if(!z(S))return S;const H=typeof S.$NodeId=="string"&&S.$NodeId.trim()?S.$NodeId.trim():void 0,X=H&&z(C==null?void 0:C[H])?C[H]:S;let $=X!==S;const re={};for(const[ee,ye]of Object.entries(X)){if(ee===r){re[ee]=ye;continue}const Pe=be(ye,C);Pe!==ye&&($=!0),re[ee]=Pe}return $?re:X}function U(){return typeof crypto<"u"&&typeof crypto.randomUUID=="function"?crypto.randomUUID():Math.random().toString(16).slice(2)}pt();var se=m_(),De=fe(se);{var Me=S=>{var C=p_(),H=fe(C);we(()=>Ze(H,l(_))),ie(S,C)};Ge(De,S=>{l(_)&&S(Me)})}var Ce=Te(De,2);u0(Ce,{children:(S,C)=>{y_(S,{get loadVersion(){return l(m)},get nodes(){return l(c)},set nodes(H){I(c,H)},get edges(){return l(f)},set edges(H){I(f,H)},$$events:{flowchange:P},$$legacy:!0})},$$slots:{default:!0}}),ie(e,se),Se()}const pf="hytale-node-editor.dev.document",yo="Node-11111111-1111-1111-1111-111111111111",po="Node-22222222-2222-2222-2222-222222222222";function ql(e,t){return Cr.find(n=>n.templateId===e)??Cr[t]}function Ul(e,t,n){return{$NodeId:e,Type:t.defaultTypeName,[Sn]:t.templateId,[Tn]:t.buildInitialValues(),...typeof n=="string"&&n.trim()?{$Comment:n.trim()}:{}}}function b_(){const e=ql("all-fields",0),t=ql("toggles",1);return{$NodeEditorMetadata:{$WorkspaceID:"dev-mock-workspace",$Nodes:{[yo]:{$Position:{$x:-150,$y:60},$Title:"All Fields Preview"},[po]:{$Position:{$x:260,$y:120},$Title:"Enum + Toggle Preview"}},$FloatingNodes:[Ul(yo,e,"Use this node to preview most field styles."),Ul(po,t,"Use Enter/Tab to test field navigation.")],$Links:{[`${yo}--${po}`]:{$SourceNodeId:yo,$TargetNodeId:po}},$Groups:[],$Comments:[]}}}const Zl=JSON.stringify(b_(),null,2);function x_(){try{const e=window.localStorage.getItem(pf);return typeof e=="string"&&e.trim()?e:Zl}catch{return Zl}}function w_(e){try{window.localStorage.setItem(pf,e)}catch{}}function E_(e){window.dispatchEvent(new MessageEvent("message",{data:e}))}function N_(){const e=document.documentElement,t={"--vscode-font-family":"-apple-system, BlinkMacSystemFont, sans-serif","--vscode-font-size":"13px","--vscode-font-weight":"normal","--vscode-editor-background":"#ffffff","--vscode-editor-foreground":"#313131","--vscode-foreground":"#313131","--vscode-editorWidget-background":"#f4f4f4","--vscode-editorWidget-border":"#adadad","--vscode-input-background":"#eaeaea","--vscode-input-foreground":"#313131","--vscode-input-border":"#adadad","--vscode-descriptionForeground":"#717171","--vscode-focusBorder":"#e1239a","--vscode-list-hoverBackground":"#ffffff","--vscode-list-activeSelectionBackground":"rgba(225, 35, 154, 0.33)","--vscode-list-activeSelectionForeground":"#313131","--vscode-button-secondaryBackground":"#ffffff","--vscode-button-secondaryForeground":"#313131","--vscode-button-secondaryHoverBackground":"#ffffff","--vscode-button-border":"#00000000","--vscode-errorForeground":"#a1260d"};for(const[n,r]of Object.entries(t))e.style.setProperty(n,r)}function I_(){N_();let e=x_(),t=1,n={};return{postMessage(r){if(!(!r||typeof r.type!="string")){if(r.type==="ready"){E_({type:"update",text:e,version:t});return}if(r.type==="apply"&&typeof r.text=="string"){e=r.text,t+=1,w_(e);return}}},getState(){return n},setState(r){return n=r??{},n}}}const S_=typeof globalThis.acquireVsCodeApi=="function"?globalThis.acquireVsCodeApi():I_();Vd(__,{target:document.getElementById("app"),props:{vscode:S_}});
//# sourceMappingURL=main.js.map
